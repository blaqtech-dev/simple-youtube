r2gzX[443338]=(function(){var z4z=2;for(;z4z !== 9;){switch(z4z){case 2:z4z=typeof globalThis === '\u006f\u0062\x6a\x65\u0063\u0074'?1:5;break;case 5:var o8l;try{var b$T=2;for(;b$T !== 6;){switch(b$T){case 9:delete o8l['\u0079\x46\u0036\u0055\x38'];var c5i=Object['\x70\x72\u006f\u0074\x6f\x74\x79\u0070\x65'];delete c5i['\u0056\x76\u0072\u0055\x71'];b$T=6;break;case 3:throw "";b$T=9;break;case 4:b$T=typeof yF6U8 === '\u0075\u006e\x64\x65\u0066\u0069\u006e\u0065\x64'?3:9;break;case 2:Object['\u0064\u0065\u0066\u0069\u006e\u0065\u0050\u0072\x6f\u0070\x65\u0072\x74\u0079'](Object['\u0070\x72\x6f\u0074\x6f\u0074\x79\u0070\x65'],'\x56\u0076\u0072\x55\x71',{'\x67\x65\x74':function(){return this;},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});o8l=VvrUq;o8l['\u0079\x46\u0036\x55\x38']=o8l;b$T=4;break;}}}catch(r7v){o8l=window;}return o8l;break;case 1:return globalThis;break;}}})();r2gzX[409361]=r2gzX[169];r2gzX.t$V=function(){return typeof r2gzX[169].Q_FohP_ === 'function'?r2gzX[169].Q_FohP_.apply(r2gzX[169],arguments):r2gzX[169].Q_FohP_;};r2gzX[600600]="RLe";r2gzX.l2Z=function(){return typeof r2gzX[169].P6UoIMB === 'function'?r2gzX[169].P6UoIMB.apply(r2gzX[169],arguments):r2gzX[169].P6UoIMB;};r2gzX[443338].N4kk=r2gzX;r2gzX.u5O=function(){return typeof r2gzX[169].Q_FohP_ === 'function'?r2gzX[169].Q_FohP_.apply(r2gzX[169],arguments):r2gzX[169].Q_FohP_;};r2gzX[508995]=r2gzX[443338];r2gzX.g4d=function(){return typeof r2gzX[169].P6UoIMB === 'function'?r2gzX[169].P6UoIMB.apply(r2gzX[169],arguments):r2gzX[169].P6UoIMB;};r2gzX[618292]=613;r2gzX[312843]="t0T";function r2gzX(){}r2gzX[389926]=false;r2gzX[594137]="i4X";r2gzX[209994]="hgd";r2gzX[169]=(function(N2M){return {P6UoIMB:function(){var l0o,I$_=arguments;switch(N2M){case 3:l0o=I$_[0] / I$_[1];break;case 15:l0o=I$_[4] / I$_[2] / I$_[1] * I$_[0] - I$_[3];break;case 9:l0o=-I$_[0] / I$_[1] + I$_[2];break;case 5:l0o=I$_[0] === I$_[1];break;case 11:l0o=I$_[0] * I$_[1];break;case 1:l0o=I$_[4] - I$_[1] - I$_[3] - I$_[0] + I$_[2];break;case 14:l0o=I$_[0] + I$_[4] - I$_[3] + I$_[1] + I$_[2];break;case 19:l0o=I$_[1] + I$_[0] - I$_[4] - I$_[2] + I$_[3];break;case 2:l0o=(I$_[0] + I$_[3]) / I$_[1] - I$_[2];break;case 16:l0o=(I$_[3] / I$_[2] | I$_[0]) * I$_[1];break;case 4:l0o=I$_[1] * I$_[2] / I$_[0];break;case 12:l0o=I$_[1] < I$_[0];break;case 10:l0o=I$_[1] - I$_[2] + I$_[3] + I$_[0];break;case 13:l0o=I$_[1] <= I$_[0];break;case 7:l0o=I$_[1] instanceof I$_[0];break;case 0:l0o=I$_[1] - I$_[0];break;case 8:l0o=I$_[1] + I$_[0];break;case 18:l0o=I$_[2] / I$_[1] | I$_[0];break;case 17:l0o=I$_[2] + I$_[3] / I$_[1] * I$_[0];break;case 6:l0o=I$_[1] == I$_[0];break;}return l0o;},Q_FohP_:function(m5X){N2M=m5X;}};})();(function(){(function(Ba,Mb){(function(){var hb,Ha,tb,Fb,fb,Gb,vb,Za,Hb;function qb(ma){var ua;ua=0;return function(){return ua < ma.length?{done:!1,value:ma[ua++]}:{done:!0};};}function Ma(ma,ua){var wa,b;if(ua)a:{wa=Ha;ma=ma.split(".");for(var t=0;t < ma.length - 1;t++){b=ma[t];if(!((b in wa)))break a;wa=wa[b];}ma=ma[ma.length - 1];t=wa[ma];ua=ua(t);ua != t && null != ua && hb(wa,ma,{configurable:!0,writable:!0,value:ua});}}function rb(ma){ma={next:ma};ma[Symbol.iterator]=function(){return this;};return ma;}function Ea(ma){var ua;ua="undefined" != typeof Symbol && Symbol.iterator && ma[Symbol.iterator];return ua?ua.call(ma):{next:qb(ma)};}function sb(ma){for(var ua,wa=[];!(ua=ma.next()).done;)wa.push(ua.value);return wa;}function za(ma){return ma instanceof Array?ma:sb(Ea(ma));}function Ia(ma,ua){var t;ma.prototype=tb(ua.prototype);ma.prototype.constructor=ma;if(Za)Za(ma,ua);else for(var wa in ua)if("prototype" != wa)if(Object.defineProperties){t=Object.getOwnPropertyDescriptor(ua,wa);t && Object.defineProperty(ma,wa,t);}else ma[wa]=ua[wa];ma.Wdd=ua.prototype;}function ib(){this.fba=!1;this.PN=null;this.hV=void 0;this.Js=1;this.Rub=this.ZX=0;this.GP=null;}function jb(ma){if(ma.fba)throw new TypeError("Generator is already running");ma.fba=!0;}function cb(ma,ua,wa){ma.Js=wa;return {value:ua};}function Cb(ma){ma.Js=2;ma.ZX=0;}function kb(ma){var ua;ma.ZX=0;ua=ma.GP.$tb;ma.GP=null;return ua;}function lb(ma){this.sh=new ib();this.GKc=ma;}function Db(ma,ua){var wa;jb(ma.sh);wa=ma.sh.PN;if(wa)return mb(ma,("return" in wa)?wa["return"]:function(t){return {value:t,done:!0};},ua,ma.sh.return);ma.sh.return(ua);return db(ma);}function mb(ma,ua,wa,t){var b,a;try{b=ua.call(ma.sh.PN,wa);if(!(b instanceof Object))throw new TypeError("Iterator result " + b + " is not an object");if(!b.done)return (ma.sh.fba=!1,b);a=b.value;}catch(d){return (ma.sh.PN=null,ma.sh.xfa(d),db(ma));}ma.sh.PN=null;t.call(ma.sh,a);return db(ma);}function db(ma){var ua;for(;ma.sh.Js;)try{ua=ma.GKc(ma.sh);if(ua)return (ma.sh.fba=!1,{value:ua.value,done:!1});}catch(wa){ma.sh.hV=void 0;ma.sh.xfa(wa);}ma.sh.fba=!1;if(ma.sh.GP){ua=ma.sh.GP;ma.sh.GP=null;if(ua.dxc)throw ua.$tb;return {value:ua.return,done:!0};}return {value:void 0,done:!0};}function Eb(ma){this.next=function(ua){return ma.Dca(ua);};this.throw=function(ua){return ma.xfa(ua);};this.return=function(ua){return Db(ma,ua);};this[Symbol.iterator]=function(){return this;};}function Ua(ma,ua){ua=new Eb(new lb(ua));Za && ma.prototype && Za(ua,ma.prototype);return ua;}function eb(ma,ua,wa){if(null == ma)throw new TypeError("The 'this' value for String.prototype." + wa + " must not be null or undefined");if(ua instanceof RegExp)throw new TypeError("First argument to String.prototype." + wa + " must not be a regular expression");return ma + "";}function Wa(ma,ua){return Object.prototype.hasOwnProperty.call(ma,ua);}function ub(ma,ua,wa){var a;ma instanceof String && (ma=String(ma));for(var t=ma.length,b=0;b < t;b++){a=ma[b];if(ua.call(wa,a,b,ma))return {tTa:b,dga:a};}return {tTa:-1,dga:void 0};}function nb(ma,ua){var wa,t,b;ma instanceof String && (ma+="");wa=0;t=!1;b={next:function(){var a;if(!t && wa < ma.length){a=wa++;return {value:ua(a,ma[a]),done:!1};}t=!0;return {done:!0,value:void 0};}};b[Symbol.iterator]=function(){return b;};return b;}hb="function" == typeof Object.defineProperties?Object.defineProperty:function(ma,ua,wa){if(ma == Array.prototype || ma == Object.prototype)return ma;ma[ua]=wa.value;return ma;};Ha=(function(ma){var wa;ma=["object" == typeof globalThis && globalThis,ma,"object" == typeof Ba && Ba,"object" == typeof self && self,"object" == typeof global && global];for(var ua=0;ua < ma.length;++ua){wa=ma[ua];if(wa && wa.Math == Math)return wa;}throw Error("Cannot find global object");})(this);Ma("Symbol",function(ma){var t;function ua(b){if(this instanceof ua)throw new TypeError("Symbol is not a constructor");return new wa("jscomp_symbol_" + (b || "") + "_" + t++,b);}function wa(b,a){this.fTb=b;hb(this,"description",{configurable:!0,writable:!0,value:a});}if(ma)return ma;wa.prototype.toString=function(){return this.fTb;};t=0;return ua;});Ma("Symbol.iterator",function(ma){var t;if(ma)return ma;ma=Symbol("Symbol.iterator");for(var ua=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),wa=0;wa < ua.length;wa++){t=Ha[ua[wa]];"function" === typeof t && "function" != typeof t.prototype[ma] && hb(t.prototype,ma,{configurable:!0,writable:!0,value:function(){return rb(qb(this));}});}return ma;});tb="function" == typeof Object.create?Object.create:function(ma){function ua(){}ua.prototype=ma;return new ua();};Fb=(function(){var ua;function ma(){function wa(){}new wa();Reflect.construct(wa,[],function(){});return new wa() instanceof wa;}if("undefined" != typeof Reflect && Reflect.construct){if(ma())return Reflect.construct;ua=Reflect.construct;return function(wa,t,b){wa=ua(wa,t);b && Reflect.setPrototypeOf(wa,b.prototype);return wa;};}return function(wa,t,b){void 0 === b && (b=wa);b=tb(b.prototype || Object.prototype);return Function.prototype.apply.call(wa,b,t) || b;};})();if("function" == typeof Object.setPrototypeOf)fb=Object.setPrototypeOf;else {a:{Gb={a:!0};vb={};try{vb.__proto__=Gb;fb=vb.a;break a;}catch(ma){}fb=!1;}fb=fb?function(ma,ua){ma.__proto__=ua;if(ma.__proto__ !== ua)throw new TypeError(ma + " is not extensible");return ma;}:null;}Za=fb;ib.prototype.Dca=function(ma){this.hV=ma;};ib.prototype.xfa=function(ma){this.GP={$tb:ma,dxc:!0};this.Js=this.ZX || this.Rub;};ib.prototype.return=function(ma){this.GP={return:ma};this.Js=this.Rub;};lb.prototype.Dca=function(ma){jb(this.sh);if(this.sh.PN)return mb(this,this.sh.PN.next,ma,this.sh.Dca);this.sh.Dca(ma);return db(this);};lb.prototype.xfa=function(ma){jb(this.sh);if(this.sh.PN)return mb(this,this.sh.PN["throw"],ma,this.sh.Dca);this.sh.xfa(ma);return db(this);};Ma("Reflect",function(ma){return ma?ma:{};});Ma("Reflect.construct",function(){return Fb;});Ma("Reflect.setPrototypeOf",function(ma){return ma?ma:Za?function(ua,wa){try{return (Za(ua,wa),!0);}catch(t){return !1;}}:null;});Ma("Promise",function(ma){var b,a;function ua(d){var n;this.r2=0;this.iea=void 0;this.L0=[];this.jBb=!1;n=this.INa();try{d(n.resolve,n.reject);}catch(c){n.reject(c);}}function wa(){this.mK=null;}function t(d){return d instanceof ua?d:new ua(function(n){n(d);});}if(ma)return ma;wa.prototype.onb=function(d){var n;if(null == this.mK){this.mK=[];n=this;this.pnb(function(){n.Tlc();});}this.mK.push(d);};b=Ha.setTimeout;wa.prototype.pnb=function(d){b(d,0);};wa.prototype.Tlc=function(){var d,c;for(;this.mK && this.mK.length;){d=this.mK;this.mK=[];for(var n=0;n < d.length;++n){c=d[n];d[n]=null;try{c();}catch(f){this.A8b(f);}}}this.mK=null;};wa.prototype.A8b=function(d){this.pnb(function(){throw d;});};ua.prototype.INa=function(){var n,c;function d(f){return function(g){c || (c=!0,f.call(n,g));};}n=this;c=!1;return {resolve:d(this.PNc),reject:d(this.o_a)};};ua.prototype.PNc=function(d){var n;if(d === this)this.o_a(new TypeError("A Promise cannot resolve to itself"));else if(d instanceof ua)this.RQc(d);else {a:switch(typeof d){case "object":n=null != d;break a;case "function":n=!0;break a;default:n=!1;}n?this.ONc(d):this.Rvb(d);}};ua.prototype.ONc=function(d){var n;n=void 0;try{n=d.then;}catch(c){this.o_a(c);return;}"function" == typeof n?this.SQc(n,d):this.Rvb(d);};ua.prototype.o_a=function(d){this.BNb(2,d);};ua.prototype.Rvb=function(d){this.BNb(1,d);};ua.prototype.BNb=function(d,n){if(0 != this.r2)throw Error("Cannot settle(" + d + ", " + n + "): Promise already settled in state" + this.r2);this.r2=d;this.iea=n;2 === this.r2 && this.NOc();this.Ulc();};ua.prototype.NOc=function(){var d;d=this;b(function(){var n;if(d.BEc()){n=Ha.console;"undefined" !== typeof n && n.error(d.iea);}},1);};ua.prototype.BEc=function(){var d,n,c;if(this.jBb)return !1;d=Ha.CustomEvent;n=Ha.Event;c=Ha.dispatchEvent;if("undefined" === typeof c)return !0;"function" === typeof d?d=new d("unhandledrejection",{cancelable:!0}):"function" === typeof n?d=new n("unhandledrejection",{cancelable:!0}):(d=Ha.document.createEvent("CustomEvent"),d.initCustomEvent("unhandledrejection",!1,!0,d));d.promise=this;d.reason=this.iea;return c(d);};ua.prototype.Ulc=function(){if(null != this.L0){for(var d=0;d < this.L0.length;++d)a.onb(this.L0[d]);this.L0=null;}};a=new wa();ua.prototype.RQc=function(d){var n;n=this.INa();d.yma(n.resolve,n.reject);};ua.prototype.SQc=function(d,n){var c;c=this.INa();try{d.call(n,c.resolve,c.reject);}catch(f){c.reject(f);}};ua.prototype.then=function(d,n){var f,g,e;function c(h,k){return "function" == typeof h?function(l){try{f(h(l));}catch(m){g(m);}}:k;}e=new ua(function(h,k){f=h;g=k;});this.yma(c(d,f),c(n,g));return e;};ua.prototype.catch=function(d){return this.then(void 0,d);};ua.prototype.yma=function(d,n){var f;function c(){switch(f.r2){case 1:d(f.iea);break;case 2:n(f.iea);break;default:throw Error("Unexpected state: " + f.r2);}}f=this;null == this.L0?a.onb(c):this.L0.push(c);this.jBb=!0;};ua.resolve=t;ua.reject=function(d){return new ua(function(n,c){c(d);});};ua.race=function(d){return new ua(function(n,c){for(var f=Ea(d),g=f.next();!g.done;g=f.next())t(g.value).yma(n,c);});};ua.all=function(d){var n,c;n=Ea(d);c=n.next();return c.done?t([]):new ua(function(f,g){var h,k;function e(l){return function(m){h[l]=m;k--;0 == k && f(h);};}h=[];k=0;do (h.push(void 0),k++,t(c.value).yma(e(h.length - 1),g),c=n.next());while(!c.done);});};return ua;});Ma("String.prototype.repeat",function(ma){return ma?ma:function(ua){var wa;wa=eb(this,null,"repeat");if(0 > ua || 1342177279 < ua)throw new RangeError("Invalid count value");ua|=0;for(var t="";ua;)if((ua & 1 && (t+=wa),ua>>>=1))wa+=wa;return t;};});Ma("String.prototype.padEnd",function(ma){return ma?ma:function(ua,wa){var t;t=eb(this,null,"padStart");ua-=t.length;wa=void 0 !== wa?String(wa):" ";wa=0 < ua && wa?wa.repeat(Math.ceil(ua / wa.length)).substring(0,ua):"";return t + wa;};});Ma("Object.values",function(ma){return ma?ma:function(ua){var wa,t;wa=[];for(t in ua)Wa(ua,t) && wa.push(ua[t]);return wa;};});Ma("Object.is",function(ma){return ma?ma:function(ua,wa){return ua === wa?0 !== ua || 1 / ua === 1 / wa:ua !== ua && wa !== wa;};});Ma("Array.prototype.includes",function(ma){return ma?ma:function(ua,wa){var t,b,a;t=this;t instanceof String && (t=String(t));b=t.length;wa=wa || 0;for(0 > wa && (wa=Math.max(wa + b,0));wa < b;wa++){a=t[wa];if(a === ua || Object.is(a,ua))return !0;}return !1;};});Ma("String.prototype.includes",function(ma){return ma?ma:function(ua,wa){return -1 !== eb(this,ua,"includes").indexOf(ua,wa || 0);};});Ma("WeakMap",function(ma){var d,n;function ua(c){this.yaa=(n+=Math.random() + 1).toString();if(c){c=Ea(c);for(var f;!(f=c.next()).done;)(f=f.value,this.set(f[0],f[1]));}}function wa(){}function t(c){var f;f=typeof c;return "object" === f && null !== c || "function" === f;}function b(c){var f;if(!Wa(c,d)){f=new wa();hb(c,d,{value:f});}}function a(c){var f;f=Object[c];f && (Object[c]=function(g){if(g instanceof wa)return g;Object.isExtensible(g) && b(g);return f(g);});}if((function(){var c,f,g;if(!ma || !Object.seal)return !1;try{c=Object.seal({});f=Object.seal({});g=new ma([[c,2],[f,3]]);if(2 != g.get(c) || 3 != g.get(f))return !1;g.delete(c);g.set(f,4);return !g.has(c) && 4 == g.get(f);}catch(e){return !1;}})())return ma;d="$jscomp_hidden_" + Math.random();a("freeze");a("preventExtensions");a("seal");n=0;ua.prototype.set=function(c,f){if(!t(c))throw Error("Invalid WeakMap key");b(c);if(!Wa(c,d))throw Error("WeakMap key fail: " + c);c[d][this.yaa]=f;return this;};ua.prototype.get=function(c){return t(c) && Wa(c,d)?c[d][this.yaa]:void 0;};ua.prototype.has=function(c){return t(c) && Wa(c,d) && Wa(c[d],this.yaa);};ua.prototype.delete=function(c){return t(c) && Wa(c,d) && Wa(c[d],this.yaa)?delete c[d][this.yaa]:!1;};return ua;});Ma("Map",function(ma){var a,d;function ua(){var n;n={};return n.Uq=n.next=n.head=n;}function wa(n,c){var f;f=n.jH;return rb(function(){if(f){for(;f.head != n.jH;)f=f.Uq;for(;f.next != f.head;)return (f=f.next,{done:!1,value:c(f)});f=null;}return {done:!0,value:void 0};});}function t(n,c){var f,g,e;f=c && typeof c;"object" == f || "function" == f?a.has(c)?f=a.get(c):(f="" + ++d,a.set(c,f)):f="p_" + c;g=n.BG[f];if(g && Wa(n.BG,f))for(n=0;n < g.length;n++){e=g[n];if(c !== c && e.key !== e.key || c === e.key)return {id:f,list:g,index:n,entry:e};}return {id:f,list:g,index:-1,entry:void 0};}function b(n){this.BG={};this.jH=ua();this.size=0;if(n){n=Ea(n);for(var c;!(c=n.next()).done;)(c=c.value,this.set(c[0],c[1]));}}if((function(){var n,c,f,g;if(!ma || "function" != typeof ma || !ma.prototype.entries || "function" != typeof Object.seal)return !1;try{n=Object.seal({x:4});c=new ma(Ea([[n,"s"]]));if("s" != c.get(n) || 1 != c.size || c.get({x:4}) || c.set({x:4},"t") != c || 2 != c.size)return !1;f=c.entries();g=f.next();if(g.done || g.value[0] != n || "s" != g.value[1])return !1;g=f.next();return g.done || 4 != g.value[0].x || "t" != g.value[1] || !f.next().done?!1:!0;}catch(e){return !1;}})())return ma;a=new WeakMap();b.prototype.set=function(n,c){var f;n=0 === n?0:n;f=t(this,n);f.list || (f.list=this.BG[f.id]=[]);f.entry?f.entry.value=c:(f.entry={next:this.jH,Uq:this.jH.Uq,head:this.jH,key:n,value:c},f.list.push(f.entry),this.jH.Uq.next=f.entry,this.jH.Uq=f.entry,this.size++);return this;};b.prototype.delete=function(n){n=t(this,n);return n.entry && n.list?(n.list.splice(n.index,1),n.list.length || delete this.BG[n.id],n.entry.Uq.next=n.entry.next,n.entry.next.Uq=n.entry.Uq,n.entry.head=null,this.size--,!0):!1;};b.prototype.clear=function(){this.BG={};this.jH=this.jH.Uq=ua();this.size=0;};b.prototype.has=function(n){return !!t(this,n).entry;};b.prototype.get=function(n){return (n=t(this,n).entry) && n.value;};b.prototype.entries=function(){return wa(this,function(n){return [n.key,n.value];});};b.prototype.keys=function(){return wa(this,function(n){return n.key;});};b.prototype.values=function(){return wa(this,function(n){return n.value;});};b.prototype.forEach=function(n,c){for(var f=this.entries(),g;!(g=f.next()).done;)(g=g.value,n.call(c,g[1],g[0],this));};b.prototype[Symbol.iterator]=b.prototype.entries;d=0;return b;});Ma("Set",function(ma){function ua(wa){this.ND=new Map();if(wa){wa=Ea(wa);for(var t;!(t=wa.next()).done;)this.add(t.value);}this.size=this.ND.size;}if((function(){var wa,t,b,a;if(!ma || "function" != typeof ma || !ma.prototype.entries || "function" != typeof Object.seal)return !1;try{wa=Object.seal({x:4});t=new ma(Ea([wa]));if(!t.has(wa) || 1 != t.size || t.add(wa) != t || 1 != t.size || t.add({x:4}) != t || 2 != t.size)return !1;b=t.entries();a=b.next();if(a.done || a.value[0] != wa || a.value[1] != wa)return !1;a=b.next();return a.done || a.value[0] == wa || 4 != a.value[0].x || a.value[1] != a.value[0]?!1:b.next().done;}catch(d){return !1;}})())return ma;ua.prototype.add=function(wa){wa=0 === wa?0:wa;this.ND.set(wa,wa);this.size=this.ND.size;return this;};ua.prototype.delete=function(wa){wa=this.ND.delete(wa);this.size=this.ND.size;return wa;};ua.prototype.clear=function(){this.ND.clear();this.size=0;};ua.prototype.has=function(wa){return this.ND.has(wa);};ua.prototype.entries=function(){return this.ND.entries();};ua.prototype.values=function(){return this.ND.values();};ua.prototype.keys=ua.prototype.values;ua.prototype[Symbol.iterator]=ua.prototype.values;ua.prototype.forEach=function(wa,t){var b;b=this;this.ND.forEach(function(a){return wa.call(t,a,a,b);});};return ua;});Ma("Array.prototype.find",function(ma){return ma?ma:function(ua,wa){return ub(this,ua,wa).dga;};});Ma("Number.isFinite",function(ma){return ma?ma:function(ua){return "number" !== typeof ua?!1:!isNaN(ua) && Infinity !== ua && -Infinity !== ua;};});Hb="function" == typeof Object.assign?Object.assign:function(ma,ua){var t;for(var wa=1;wa < arguments.length;wa++){t=arguments[wa];if(t)for(var b in t)Wa(t,b) && (ma[b]=t[b]);}return ma;};Ma("Object.assign",function(ma){return ma || Hb;});Ma("Object.entries",function(ma){return ma?ma:function(ua){var wa,t;wa=[];for(t in ua)Wa(ua,t) && wa.push([t,ua[t]]);return wa;};});Ma("Array.prototype.keys",function(ma){return ma?ma:function(){return nb(this,function(ua){return ua;});};});Ma("Array.prototype.entries",function(ma){return ma?ma:function(){return nb(this,function(ua,wa){return [ua,wa];});};});Ma("Array.prototype.findIndex",function(ma){return ma?ma:function(ua,wa){return ub(this,ua,wa).tTa;};});Ma("Promise.prototype.finally",function(ma){return ma?ma:function(ua){return this.then(function(wa){return Promise.resolve(ua()).then(function(){return wa;});},function(wa){return Promise.resolve(ua()).then(function(){throw wa;});});};});Ma("Number.parseInt",function(ma){return ma || parseInt;});Ma("String.prototype.startsWith",function(ma){return ma?ma:function(ua,wa){var t,b,a;t=eb(this,ua,"startsWith");ua+="";b=t.length;a=ua.length;wa=Math.max(0,Math.min(wa | 0,t.length));for(var d=0;d < a && wa < b;)if(t[wa++] != ua[d++])return !1;return d >= a;};});Ma("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});Ma("Array.prototype.values",function(ma){return ma?ma:function(){return nb(this,function(ua,wa){return wa;});};});Ma("String.prototype.endsWith",function(ma){return ma?ma:function(ua,wa){var t;t=eb(this,ua,"endsWith");ua+="";void 0 === wa && (wa=t.length);wa=Math.max(0,Math.min(wa | 0,t.length));for(var b=ua.length;0 < b && 0 < wa;)if(t[--wa] != ua[--b])return !1;return 0 >= b;};});Ma("Array.from",function(ma){return ma?ma:function(ua,wa,t){var b,a;wa=null != wa?wa:function(n){return n;};b=[];a="undefined" != typeof Symbol && Symbol.iterator && ua[Symbol.iterator];if("function" == typeof a){ua=a.call(ua);for(var d=0;!(a=ua.next()).done;)b.push(wa.call(t,a.value,d++));}else for((a=ua.length,d=0);d < a;d++)b.push(wa.call(t,ua[d],d));return b;};});Ma("Number.isNaN",function(ma){return ma?ma:function(ua){return "number" === typeof ua && isNaN(ua);};});Ma("globalThis",function(ma){return ma || Ha;});Ma("Reflect.apply",function(ma){var ua;if(ma)return ma;ua=Function.prototype.apply;return function(wa,t,b){return ua.call(wa,t,b);};});Ma("Object.getOwnPropertySymbols",function(ma){return ma?ma:function(){return [];};});Ma("Reflect.getPrototypeOf",function(ma){return ma || Object.getPrototypeOf;});Ma("Math.tanh",function(ma){return ma?ma:function(ua){var wa;ua=Number(ua);if(0 === ua)return ua;wa=Math.exp(-2 * Math.abs(ua));wa=(1 - wa) / (1 + wa);return 0 > ua?-wa:wa;};});Ma("String.fromCodePoint",function(ma){return ma?ma:function(ua){var b;for(var wa="",t=0;t < arguments.length;t++){b=Number(arguments[t]);if(0 > b || 1114111 < b || b !== Math.floor(b))throw new RangeError("invalid_code_point " + b);65535 >= b?wa+=String.fromCharCode(b):(b-=65536,wa+=String.fromCharCode(b >>> 10 & 1023 | 55296),wa+=String.fromCharCode(b & 1023 | 56320));}return wa;};});Ma("Object.setPrototypeOf",function(ma){return ma || Za;});(function(){var ua,wa;function ma(t){var b;b=wa[t];if(void 0 !== b)return b.exports;b=wa[t]={exports:{}};ua[t].call(b.exports,b,b.exports,ma);return b.exports;}ua={99061:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});},35097:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.l5a=void 0;d=a(22970);t=(function(n){function c(){return n.call(this,Ba.crypto) || this;}d.__extends(c,n);return c;})(a(14362).m5a);b.l5a=t;},14362:function(t,b,a){var d,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});b.m5a=void 0;d=a(22970);n=a(78212);c=["encrypt","decrypt"];f={name:"HMAC",hash:{name:"SHA-256"}};g={name:"RSA-OAEP"};t=(function(){function e(h){this.webCrypto=h;this.OI=this.webCrypto.subtle;}e.prototype.roc=function(){throw Error("not implemented");};e.prototype.jic=function(){throw Error("not implemented");};e.prototype.getRandomValues=function(h){h=new Uint8Array(h);return this.webCrypto.getRandomValues(h);};e.prototype.Vob=function(h,k){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){if("AES-CBC" !== h.algorithm)throw Error("mismatched key algorithm");if("secret" !== h.rB.type)throw Error("invalid platformKey");if(16 !== k.byteLength)throw Error("iv wrong size");return [2];});});};e.Aqb=function(h){return {name:"AES-CBC",iv:h};};e.prototype.c7b=function(h,k,l){return d.__awaiter(this,void 0,void 0,function(){var m;return d.__generator(this,function(p){switch(p.label){case 0:return [4,this.Vob(h,k)];case 1:return (p.T(),[4,this.OI.encrypt(e.Aqb(k),h.rB,l)]);case 2:return (m=p.T(),[2,new Uint8Array(m)]);}});});};e.prototype.b7b=function(h,k,l){return d.__awaiter(this,void 0,void 0,function(){var m;return d.__generator(this,function(p){switch(p.label){case 0:return [4,this.Vob(h,k)];case 1:return (p.T(),[4,this.OI.decrypt(e.Aqb(k),h.rB,l)]);case 2:return (m=p.T(),[2,new Uint8Array(m)]);}});});};e.prototype.Wob=function(h,k){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){if("AES-GCM" !== h.algorithm)throw Error("mismatched key algorithm");if("secret" !== h.rB.type)throw Error("invalid platformKey");if(12 !== k.byteLength)throw Error("iv wrong size");return [2,Promise.resolve()];});});};e.Bqb=function(h,k){return {name:"AES-GCM",iv:h,additionalData:k,tagLength:128};};e.prototype.e7b=function(h,k,l,m){return d.__awaiter(this,void 0,void 0,function(){var p;return d.__generator(this,function(q){switch(q.label){case 0:return [4,this.Wob(h,k)];case 1:return (q.T(),[4,this.OI.encrypt(e.Bqb(k,l),h.rB,m)]);case 2:return (p=q.T(),[2,new Uint8Array(p)]);}});});};e.prototype.d7b=function(h,k,l,m){return d.__awaiter(this,void 0,void 0,function(){var p;return d.__generator(this,function(q){switch(q.label){case 0:return [4,this.Wob(h,k)];case 1:q.T();if(16 > m.byteLength)throw Error("ciphertext too short");return [4,this.OI.decrypt(e.Bqb(k,l),h.rB,m)];case 2:return (p=q.T(),[2,new Uint8Array(p)]);}});});};e.prototype.jbc=function(h){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){if("HMAC-SHA256" !== h.algorithm)throw Error("mismatched key algorithm");if("secret" !== h.rB.type)throw Error("invalid platformKey");return [2,Promise.resolve()];});});};e.prototype.bvc=function(h,k){return d.__awaiter(this,void 0,void 0,function(){var l;return d.__generator(this,function(m){switch(m.label){case 0:return [4,this.jbc(h)];case 1:return (m.T(),[4,this.OI.sign(f,h.rB,k)]);case 2:return (l=m.T(),[2,new Uint8Array(l)]);}});});};e.prototype.BTa=function(h,k){return d.__awaiter(this,void 0,void 0,function(){var l,m,p,q;return d.__generator(this,function(r){switch(r.label){case 0:l=k.byteLength;switch(h){case "AES-GCM":m={name:"AES-GCM"};p=c;if(16 !== l)throw Error("invalid import key length");break;case "AES-CBC":m={name:"AES-CBC"};p=c;if(16 !== l)throw Error("invalid import key length");break;case "HMAC-SHA256":m=f;p=["sign","verify"];if(16 !== l && 32 !== l)throw Error("invalid import key length");break;default:throw Error("invalid import algorithm");}return [4,this.OI.importKey("raw",k,m,!1,p)];case 1:return (q=r.T(),[2,n.Gga.qY(h,q)]);}});});};e.prototype.woc=function(){return d.__awaiter(this,void 0,void 0,function(){var h,k,l,m;return d.__generator(this,function(p){switch(p.label){case 0:return (h={name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},[4,this.OI.generateKey(h,!1,c)]);case 1:return (k=p.T(),l=n.Gga.nY("RSA-OAEP",k.privateKey),m=n.Gga.oY("RSA-OAEP",k.publicKey),[2,new n.n5a(l,m)]);}});});};e.prototype.mub=function(h){return d.__awaiter(this,void 0,void 0,function(){var k,l;return d.__generator(this,function(m){switch(m.label){case 0:if("RSA-OAEP" !== h.algorithm)throw Error("invalid export key algorithm");k=h.publicKey.rB;if("public" !== k.type)throw Error("invalid export key type");return [4,this.OI.exportKey("spki",k)];case 1:return (l=m.T(),[2,new Uint8Array(l)]);}});});};e.prototype.ubc=function(h){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){if("RSA-OAEP" !== h.algorithm)throw Error("mismatched key algorithm");if("private" !== h.rB.type)throw Error("invalid platformKey");return [2,Promise.resolve()];});});};e.prototype.pOc=function(h,k){return d.__awaiter(this,void 0,void 0,function(){var l;return d.__generator(this,function(m){switch(m.label){case 0:return [4,this.ubc(h)];case 1:return (m.T(),[4,this.OI.decrypt(g,h.rB,k)]);case 2:return (l=m.T(),[2,new Uint8Array(l)]);}});});};return e;})();b.m5a=t;},78212:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.n5a=b.Gga=b.o5a=b.i5a=void 0;(function(a){a.AES_GCM="AES-GCM";a.AES_CBC="AES-CBC";a.HMAC_SHA256="HMAC-SHA256";a.RSA_OAEP="RSA-OAEP";a.DIFFIE_HELLMAN="DIFFIE-HELLMAN";a.DERIVE="DERIVE";})(b.i5a || (b.i5a={}));(function(a){a[a.SECRET=0]="SECRET";a[a.PRIVATE=1]="PRIVATE";a[a.PUBLIC=2]="PUBLIC";})(b.o5a || (b.o5a={}));b.Gga=(function(){function a(d,n,c){this.algorithm=d;this.rB=n;this.type=c;}a.qY=function(d,n){if("RSA-OAEP" === d || "DIFFIE-HELLMAN" === d)throw Error("incompatible algorithm for secret key");return new a(d,n,0);};a.nY=function(d,n){if("RSA-OAEP" !== d && "DIFFIE-HELLMAN" !== d)throw Error("incompatible algorithm for private key");return new a(d,n,1);};a.oY=function(d,n){if("RSA-OAEP" !== d && "DIFFIE-HELLMAN" !== d)throw Error("incompatible algorithm for public key");return new a(d,n,2);};return a;})();b.n5a=(function(){return function(a,d){if(1 !== a.type)throw Error("wrong key type for private key");if(2 !== d.type)throw Error("wrong key type for public key");if(a.algorithm !== d.algorithm)throw Error("algorithm mismatch between public and private key");this.algorithm=a.algorithm;this.privateKey=a;this.publicKey=d;};})();},7379:function(t,b,a){var d,n,c,f,g,e,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.p5a=void 0;d=a(22970);n=a(84032);c=a(20408);f=a(2802);g=a(31178);e=a(80462);h=a(11038);k=a(12346);t=(function(){function l(m){l.QOc(m);switch(m.keyx){case f.AleKeyxScheme.CLEAR:this.vra=new g.tab(m.crypto,m.mg,m.scheme);break;case f.AleKeyxScheme.RSA_OAEP_256:this.vra=new h.vab(m.crypto,m.mg,m.scheme);break;case f.AleKeyxScheme.AUTH_DH:if(!m.ij || !m.xOa)throw Error("missing config for AUTH-DH keyx scheme");this.vra=new k.sab(m.crypto,m.mg,m.ij,m.xOa);break;default:throw Error("unsupported key exchange scheme");}this.config=d.__assign({},m);}l.QOc=function(m){if(m.scheme === f.AleScheme.A128CBC_HS256_NRD && m.keyx !== f.AleKeyxScheme.AUTH_DH || m.keyx === f.AleKeyxScheme.AUTH_DH && m.scheme !== f.AleScheme.A128CBC_HS256_NRD)throw Error("ALE scheme and Keyx scheme are incompatible");};l.prototype.msc=function(){return d.__awaiter(this,void 0,void 0,function(){var m,p;return d.__generator(this,function(q){switch(q.label){case 0:return (p={ver:e.Ndb,scheme:this.config.scheme,type:this.config.kqb},[4,this.vra.zRa()]);case 1:return (m=(p.keyx=q.T(),p),[2,JSON.stringify(m)]);}});});};l.prototype.createSession=function(m){return d.__awaiter(this,void 0,void 0,function(){var p,q,r,u,v;return d.__generator(this,function(w){switch(w.label){case 0:p=(0,c.EHb)(m);if(p.ver !== c.Odb)throw Error("incompatible provisioning response version");if(p.scheme !== this.config.scheme)throw Error("inconsistent scheme in provisioning response");if(p.keyx.scheme !== this.config.keyx)throw Error("inconsistent keyx scheme in provisioning response");return [4,this.vra.GZa(p.keyx)];case 1:return (q=w.T(),r=new Date(),r.setSeconds(r.getSeconds() + p.ttl),u=void 0 === p.rw?this.Pcc(p.ttl):p.rw,v=new Date(r.getTime()),v.setSeconds(v.getSeconds() - u),[2,new n.q5a(p.token,r,v,q,this.config.mg)]);}});});};l.prototype.Pcc=function(m){return Math.min(Math.floor(m / 3),86400);};return l;})();b.p5a=t;},84032:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.q5a=void 0;d=a(22970);t=(function(){function n(c,f,g,e,h){this.token=c;this.zla=e;this.mg=h;c=new Date();this.yoa=f < c?c:f;this.Gva=g < c?c:g;this.Gva=this.Gva > this.yoa?this.yoa:this.Gva;}n.prototype.decrypt=function(c){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){this.xoa();return [2,this.zla.decrypt(c)];});});};n.prototype.Bhc=function(c){return d.__awaiter(this,void 0,void 0,function(){var f;return d.__generator(this,function(g){switch(g.label){case 0:return (this.xoa(),[4,this.zla.decrypt(c)]);case 1:return (f=g.T(),[2,this.mg.$3a(f)]);}});});};n.prototype.encrypt=function(c){return d.__awaiter(this,void 0,void 0,function(){var f;return d.__generator(this,function(){this.xoa();f="string" === typeof c?this.mg.ffa(c):c;return [2,this.zla.encrypt(f)];});});};n.prototype.xoa=function(){if(this.UAb(this.yoa))throw Error("session expired");};n.prototype.ilc=function(c){return d.__awaiter(this,void 0,void 0,function(){var f;return d.__generator(this,function(){this.xoa();f=this.mg.ffa(c);return [2,this.zla.encrypt(f)];});});};n.prototype.vk=function(){return this.yoa;};n.prototype.Kea=function(){return this.UAb(this.Gva);};n.prototype.UAb=function(c){var f;f=new Date().getTime();c=c.getTime();return 1E3 >= Math.abs(f - c) || f >= c;};return n;})();b.q5a=t;},1084:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tX=void 0;b.tX=function(a,d,n){return a.slice?a.slice(d,n):new Uint8Array(a.buffer.slice(d || 0,n || a.buffer.byteLength));};},49217:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.r5a=void 0;t=(function(){function a(){}a.prototype.ffa=function(d){return new TextEncoder().encode(d);};a.prototype.$3a=function(d){return new TextDecoder().decode(d);};a.prototype.NX=function(d){return btoa(String.fromCharCode.apply(null,d)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"");};a.prototype.SP=function(d){d=d.replace(/-/g,"+").replace(/_/g,"/").padEnd(d.length + (4 - d.length % 4) % 4,"=");d=atob(d);for(var n=d.length,c=new Uint8Array(n),f=0;f < n;f++)c[f]=d.charCodeAt(f);return c;};return a;})();b.r5a=t;},44191:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.tCa=void 0;d=a(22970);t=(function(){function n(c,f,g,e,h){this.C2a="";this.crypto=f;this.mg=g;this.enc=c.toString();this.kid=e;this.JBb=h;}n.prototype.encrypt=function(c){return d.__awaiter(this,void 0,void 0,function(){var f,g,e,h,k,l,m,p,q;return d.__generator(this,function(r){switch(r.label){case 0:return (f=this.Jqc(),g=this.crypto.getRandomValues(this.JBb),e=this.mg.NX(g),h=this.mg.ffa(f),[4,this.Rsb(c,h,g)]);case 1:return (k=r.T(),l=k.tG,m=k.tag,p=this.mg.NX(l),q=this.mg.NX(m),[2,f + ".." + e + "." + p + "." + q]);}});});};n.prototype.decrypt=function(c){return d.__awaiter(this,void 0,void 0,function(){var f,g,e,h,k,l,m,p,q;return d.__generator(this,function(r){switch(r.label){case 0:if(!c.length)throw Error("empty input");f=c.split(".");if(5 !== f.length)throw Error("malformed JWE envelope");if(0 !== f[1].length)throw Error("expected no CEK");g=this.mg.ffa(f[0]);e=this.mg.SP(f[2]);h=this.mg.SP(f[3]);k=this.mg.SP(f[4]);if(e.byteLength !== this.JBb)throw Error("iv wrong length");if(16 !== k.byteLength)throw Error("tag wrong length");return [4,this.Qsb(e,g,h,k)];case 1:return (l=r.T(),m=this.mg.$3a(g),p=this.mg.SP(m),q=this.mg.$3a(p),this.nHc(q),[2,l]);}});});};n.prototype.nHc=function(c){var f;try{f=JSON.parse(c);}catch(g){throw Error("malformed JWE header");}if(!n.oxc(f))throw Error("unexpected JWE header contents");c=f;if("dir" !== c.alg || c.enc !== this.enc)throw Error("incompatible JWE header");if(c.kid !== this.kid)throw Error("mismatched kid");};n.prototype.Hob=function(c){var f,h;if(!c.length)return new Uint8Array();f=c.reduce(function(k,l){return k + l.length;},0);f=new Uint8Array(f);for(var g=0,e=0;e < c.length;e++){h=c[e];f.set(h,g);g+=h.length;}return f;};n.prototype.Jqc=function(){var c;c=this.Iqc();c=this.mg.ffa(c);return this.mg.NX(c);};n.prototype.Iqc=function(){var c;if("" !== this.C2a){c=this.C2a;this.C2a="";return c;}return JSON.stringify({alg:"dir",enc:this.enc,kid:this.kid});};n.oxc=function(c){return ("alg" in c) && ("enc" in c) && ("kid" in c) && "string" === typeof c.alg && "string" === typeof c.enc && "string" === typeof c.kid;};return n;})();b.tCa=t;},88501:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.j5=void 0;d=a(22970);t=a(44191);n=a(1084);a=(function(c){function f(g,e,h,k,l,m){g=c.call(this,g,e,h,k,16) || this;if("AES-CBC" !== l.algorithm)throw Error("invalid AES-CBC key");if("HMAC-SHA256" !== m.algorithm)throw Error("invalid HMAC-SHA256 key");g.iPa=l;g.hL=m;return g;}d.__extends(f,c);f.prototype.Rsb=function(g,e,h){return d.__awaiter(this,void 0,void 0,function(){var k,l;return d.__generator(this,function(m){switch(m.label){case 0:return (m.tc.push([0,2,,3]),[4,this.crypto.c7b(this.iPa,h,g)]);case 1:return (k=m.T(),[3,3]);case 2:throw (m.T(),Error("Internal encrypt error: Cipher job failed"));case 3:return [4,this.dqb(e,h,k)];case 4:return (l=m.T(),[2,{tG:k,tag:l}]);}});});};f.prototype.Qsb=function(g,e,h,k){return d.__awaiter(this,void 0,void 0,function(){var l;return d.__generator(this,function(m){switch(m.label){case 0:return [4,this.dqb(e,g,h)];case 1:l=m.T();if(!this.JVc(k,l))throw Error("JWE is untrusted");m.label=2;case 2:return (m.tc.push([2,4,,5]),[4,this.crypto.b7b(this.iPa,g,h)]);case 3:return [2,m.T()];case 4:throw (m.T(),Error("Internal decrypt error: Cipher job failed"));case 5:return [2];}});});};f.prototype.dqb=function(g,e,h){return d.__awaiter(this,void 0,void 0,function(){var k,l;return d.__generator(this,function(m){switch(m.label){case 0:(k=this.Ncc(g,e,h),m.label=1);case 1:return (m.tc.push([1,3,,4]),[4,this.crypto.bvc(this.hL,k)]);case 2:return (l=m.T(),[3,4]);case 3:throw (m.T(),Error(f.Lha));case 4:return [2,(0,n.tX)(l,0,16)];}});});};f.prototype.Ncc=function(g,e,h){var k;k=this.TUc((8 * g.byteLength).valueOf());return this.Hob([g,e,h,k]);};f.prototype.TUc=function(g){var e;e=new ArrayBuffer(8);e=new DataView(e);e.setUint32(4,g);e.setUint32(0,0);return new Uint8Array(e.buffer);};f.prototype.JVc=function(g,e){var h;h=!0;g.length !== e.length && (h=!1);for(var k=0;k < g.length;k++)g[k] !== e[k] && (h=!1);return h;};f.Lha="Internal hmac error: Cipher job failed";f.V9a="invalid HMAC key";return f;})(t.tCa);b.j5=a;},36045:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.jab=void 0;d=a(22970);n=a(88501);c=a(2802);t=(function(f){function g(e,h,k,l,m){return f.call(this,c.AleScheme.A128CBC_HS256,e,h,k,l,m) || this;}d.__extends(g,f);g.create=function(e,h,k,l,m){if("HMAC-SHA256" !== m.algorithm)throw Error(n.j5.V9a);return new g(e,h,k,l,m);};return g;})(n.j5);b.jab=t;},1101:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.kab=void 0;d=a(22970);n=a(88501);c=a(2802);t=(function(f){function g(e,h,k,l,m){return f.call(this,c.AleScheme.A128CBC_HS256_NRD,e,h,k,l,m) || this;}d.__extends(g,f);g.create=function(e,h,k,l,m){if("HMAC-SHA256" !== m.algorithm)throw Error(n.j5.V9a);return new g(e,h,k,l,m);};return g;})(n.j5);b.kab=t;},51708:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.lab=void 0;d=a(22970);t=a(44191);n=a(1084);c=a(2802);a=(function(f){function g(e,h,k,l){e=f.call(this,c.AleScheme.A128GCM,e,h,k,12) || this;e.key=l;return e;}d.__extends(g,f);g.create=function(e,h,k,l){if("AES-GCM" !== l.algorithm)throw Error("invalid AES-GCM key");return new g(e,h,k,l);};g.prototype.Rsb=function(e,h,k){return d.__awaiter(this,void 0,void 0,function(){var l,m,p,q;return d.__generator(this,function(r){switch(r.label){case 0:return (r.tc.push([0,2,,3]),[4,this.crypto.e7b(this.key,k,h,e)]);case 1:return (l=r.T(),[3,3]);case 2:throw (r.T(),Error("Internal encrypt error: Cipher job failed"));case 3:return (m=l.byteLength - 16,p=(0,n.tX)(l,0,m),q=(0,n.tX)(l,m),[2,{tG:p,tag:q}]);}});});};g.prototype.Qsb=function(e,h,k,l){return d.__awaiter(this,void 0,void 0,function(){var m;return d.__generator(this,function(p){switch(p.label){case 0:(m=this.Hob([k,l]),p.label=1);case 1:return (p.tc.push([1,3,,4]),[4,this.crypto.d7b(this.key,e,h,m)]);case 2:return [2,p.T()];case 3:throw (p.T(),Error("Internal decrypt error: Cipher job failed"));case 4:return [2];}});});};return g;})(t.tCa);b.lab=a;},56707:function(t,b,a){var d,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});b.Zha=void 0;d=a(22970);n=a(2802);c=a(1084);f=a(51708);g=a(36045);t=(function(){function e(h,k,l,m){this.crypto=k;this.mg=l;this.RKa=m;}e.prototype.Lqb=function(h,k){return d.__awaiter(this,void 0,void 0,function(){var l,m,p,q,r,u;return d.__generator(this,function(v){switch(v.label){case 0:l=this.RKa;switch(l){case n.AleScheme.A128GCM:return [3,1];case n.AleScheme.A128CBC_HS256:return [3,3];}return [3,6];case 1:if(16 !== h.byteLength)throw Error("bad key size for " + this.RKa.toString());return [4,this.crypto.BTa("AES-GCM",h)];case 2:return (m=v.T(),[2,f.lab.create(this.crypto,this.mg,k,m)]);case 3:if(32 !== h.byteLength)throw Error("bad key size for " + this.RKa.toString());p=(0,c.tX)(h,16);q=(0,c.tX)(h,0,16);return [4,this.crypto.BTa("AES-CBC",p)];case 4:return (r=v.T(),[4,this.crypto.BTa("HMAC-SHA256",q)]);case 5:return (u=v.T(),[2,g.jab.create(this.crypto,this.mg,k,r,u)]);case 6:throw Error("invalid ALE scheme");case 7:return [2];}});});};return e;})();b.Zha=t;},12346:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.sab=b.rha=void 0;d=a(22970);n=a(2802);t=a(56707);c=a(1101);(function(g){g[g.PSK=0]="PSK";g[g.MGK=1]="MGK";})(f=b.rha || (b.rha={}));a=(function(g){function e(h,k,l,m){h=g.call(this,n.AleKeyxScheme.AUTH_DH,h,k,n.AleScheme.A128CBC_HS256_NRD) || this;h.zic=l;h.xOa=m;return h;}d.__extends(e,g);e.prototype.zRa=function(){return d.__awaiter(this,void 0,void 0,function(){var h,k,l;return d.__generator(this,function(m){switch(m.label){case 0:return (h=this,[4,this.crypto.roc()]);case 1:return (h.GL=m.T(),[4,this.crypto.mub(this.GL)]);case 2:return (k=m.T(),this.XKc=this.mg.NX(k),l={scheme:n.AleKeyxScheme.AUTH_DH,data:{dbd:this.zic,EJb:this.XKc}},this.Aya?(l.data.ZL=n.A3.WHa,l.data.Aya=this.Aya):l.data.ZL=this.xOa === f.Pdb?n.A3.Pdb:n.A3.I1c,[2,l]);}});});};e.prototype.GZa=function(h){return d.__awaiter(this,void 0,void 0,function(){var k,l,m,p,q;return d.__generator(this,function(r){switch(r.label){case 0:if(!this.GL)throw Error("no key pair, did not call getKeyxRequestData()");if(h.scheme !== n.AleKeyxScheme.AUTH_DH)throw Error("incompatible key response scheme");k=h.kid;if(!e.Ewc(h.data))throw Error("invalid key response data");l=h.data;m=l.Aya;p=l.EJb;this.mg.SP(p);return [4,this.crypto.jic()];case 1:return (q=r.T(),this.Aya=m,[2,c.kab.create(this.crypto,this.mg,k,q.iPa,q.hL)]);}});});};e.Ewc=function(h){return "object" === typeof h && ("wrapdata" in h) && "string" === typeof h.wrapdata && ("pubkey" in h) && "string" === typeof h.pubkey;};return e;})(t.Zha);b.sab=a;},31178:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.tab=void 0;d=a(22970);n=a(2802);t=(function(c){function f(g,e,h){return c.call(this,n.AleKeyxScheme.CLEAR,g,e,h) || this;}d.__extends(f,c);f.prototype.zRa=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){return [2,{scheme:n.AleKeyxScheme.CLEAR}];});});};f.prototype.GZa=function(g){return d.__awaiter(this,void 0,void 0,function(){var e,h,k,l;return d.__generator(this,function(){if(g.scheme !== n.AleKeyxScheme.CLEAR)throw Error("incompatible key response scheme");e=g.kid;if(!f.Rwc(g.data))throw Error("incompatible key response data");h=g.data;k=h.key;l=this.mg.SP(k);return [2,this.Lqb(l,e)];});});};f.Rwc=function(g){return "object" === typeof g && ("key" in g) && "string" === typeof g.key;};return f;})(a(56707).Zha);b.tab=t;},11038:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.vab=void 0;d=a(22970);n=a(2802);t=(function(c){function f(g,e,h){return c.call(this,n.AleKeyxScheme.RSA_OAEP_256,g,e,h) || this;}d.__extends(f,c);f.prototype.$xb=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(g){switch(g.label){case 0:return [4,this.Ob()];case 1:return (g.T(),[2,this.GL.publicKey]);}});});};f.prototype.zRa=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(g){switch(g.label){case 0:return [4,this.Ob()];case 1:return (g.T(),[2,{scheme:n.AleKeyxScheme.RSA_OAEP_256,data:{EJb:this.FJb}}]);}});});};f.prototype.GZa=function(g){return d.__awaiter(this,void 0,void 0,function(){var e,h,k,l,m;return d.__generator(this,function(p){switch(p.label){case 0:if(g.scheme !== n.AleKeyxScheme.RSA_OAEP_256)throw Error("incompatible key response scheme");e=g.kid;if(!f.Mxc(g.data))throw Error("incompatible key response data");h=g.data;k=h.qfd;l=this.mg.SP(k);if(!this.GL)throw Error("no key pair");return [4,this.crypto.pOc(this.GL.privateKey,l)];case 1:return (m=p.T(),[2,this.Lqb(m,e)]);}});});};f.prototype.Ob=function(){return d.__awaiter(this,void 0,void 0,function(){var g,e;return d.__generator(this,function(h){switch(h.label){case 0:if(this.GL && this.FJb)return [3,3];g=this;return [4,this.crypto.woc()];case 1:return (g.GL=h.T(),[4,this.crypto.mub(this.GL)]);case 2:(e=h.T(),this.FJb=this.mg.NX(e),h.label=3);case 3:return [2];}});});};f.Mxc=function(g){return "object" === typeof g && ("wrappedkey" in g) && "string" === typeof g.wrappedkey;};return f;})(a(56707).Zha);b.vab=t;},80462:function(t,b,a){var n;function d(c){return "object" === typeof c && ("scheme" in c) && (0,n.bUa)(c.scheme) && (!(("data" in c)) || "object" === typeof c.data);}Object.defineProperty(b,"__esModule",{value:!0});b.qxc=b.pxc=b.Ndb=void 0;n=a(2802);b.Ndb=1;b.pxc=function(c){return "object" === typeof c && ("ver" in c) && ("scheme" in c) && ("type" in c) && ("keyx" in c) && (0,n.cUa)(c.scheme) && "string" == typeof c.type && d(c.keyx);};b.qxc=d;},20408:function(t,b,a){var n;function d(c){return "object" === typeof c && ("scheme" in c) && ("data" in c) && ("kid" in c) && (0,n.bUa)(c.scheme) && "string" === typeof c.kid && "object" === typeof c.data;}Object.defineProperty(b,"__esModule",{value:!0});b.EHb=b.rxc=b.Odb=void 0;n=a(2802);b.Odb=1;b.rxc=d;b.EHb=function(c){var f;try{f=JSON.parse(c);}catch(g){throw Error("malformed JSON");}c=f;if(!("object" === typeof c && ("token" in c) && ("scheme" in c) && ("ttl" in c) && ("keyx" in c) && ("ver" in c) && "string" === typeof c.token && (0,n.cUa)(c.scheme) && "number" === typeof c.ttl) || void 0 !== c.rw && "number" !== typeof c.rw || "object" !== typeof c.keyx || !d(c.keyx) || "number" !== typeof c.ver)throw Error("unexpected key provision response contents");return f;};},2802:function(t,b){var d;function a(n){return function(c){return -1 !== Object.values(n).indexOf(c);};}Object.defineProperty(b,"__esModule",{value:!0});b.bUa=b.cUa=b.A3=b.AleKeyxScheme=b.AleScheme=void 0;(function(n){n.A128GCM="A128GCM";n.A128CBC_HS256="A128CBC-HS256";n.A128CBC_HS256_NRD="A128CBC-HS256-NRD";})(t=b.AleScheme || (b.AleScheme={}));(function(n){n.CLEAR="CLEAR";n.RSA_OAEP_256="RSA-OAEP-256";n.AUTH_DH="AUTH-DH";n.WIDEVINE="WIDEVINE";})(d=b.AleKeyxScheme || (b.AleKeyxScheme={}));(function(n){n.PSK="PSK";n.MGK="MGK";n.WRAP="WRAP";})(b.A3 || (b.A3={}));b.cUa=a(t);b.bUa=a(d);},73608:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.rha=void 0;t=a(22970);t.__exportStar(a(99061),b);t.__exportStar(a(78212),b);t.__exportStar(a(7379),b);t.__exportStar(a(84032),b);t.__exportStar(a(1084),b);t.__exportStar(a(2802),b);d=a(12346);Object.defineProperty(b,"DeviceKeyType",{enumerable:!0,get:function(){return d.rha;}});},97685:function(t,b){var f,g;function a(){return "UNKNOWN";}function d(){}function n(){return Promise.resolve();}function c(e){var l;if(!Array.isArray(e))return e;for(var h={},k=0;k < e.length;k++){l=e[k];h[l]=l;}return h;}Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});t=c(["MANUAL_TEST","INTEGRATION_TEST","SIMULATION","CUSTOMER"]);f=c(("AUTHENTICATED_AWAITING_OPEN CLOSED CONNECTING_AWAITING_TOKEN OPEN_AWAITING_TOKEN ERRORED READY UNAVAILABLE").split(" "));g={vLa:n,connect:n,close:n,enable:d,Y7c:d,log:d,Add:d,Qdd:d,C$c:!1,D$c:!1,state:"UNAVAILABLE"};b.e4c=t;b.i4c=f;b.zh="UNKNOWN";b.Se=d;b.T6c=a;b.Z8c=a;b.$8c=a;b.FL=function(){return 0;};b.VR=g;b.ued=function(){return "UNKNOWN";};b.ved=function(){return "";};},71501:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z$a="Injector";b.kF=145152E5;b.NO="ProfileSymbol";},66523:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nTc=b.iGb=void 0;b.nw=function(a,d){var n;n=Object.getOwnPropertyDescriptor(a,d);n && Object.defineProperty(a,d,{configurable:n.configurable,enumerable:!1,value:n.value,writable:n.writable});};b.flatten=function(a){return [].concat.apply([],za(a));};b.iGb=function(a,d){return a - d;};b.nTc=function(a,d){return a.localeCompare(d);};},24747:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hga="ApiInfoSymbol";},99198:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.Omb=void 0;d=a(7700);n=a(24747);t=a(22674);c=a(71501);f=a(4203);b.Omb=new t.Ce(function(g){g(n.Hga).to(d.eza).sa();});b.profile=new t.Ce(function(g){g(c.NO).vN(function(e){return (e=e.Jb.get(f.Ic)()) && e.KG?"browsertest":"browser";});});},7700:function(t,b,a){var n,c,f,g,e,h;function d(k,l,m,p){k=g.Tf.call(this,k,void 0 === p?"AppInfoConfigImpl":p) || this;k.config=l;k.g3a=m;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.eza=void 0;t=a(22970);n=a(22674);c=a(34231);f=a(12501);g=a(64174);e=a(83767);a=a(70865);Ia(d,g.Tf);d.prototype.Frc=function(k){return "" + this.Qtb + (this.jU(k)?"/msl_v1":"");};d.prototype.Yrc=function(k){return "" + this.host + (this.jU(k)?"/msl":"") + "/playapi";};d.prototype.jU=function(k){return this.g3a.jU(k);};Ha.Object.defineProperties(d.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},Qtb:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},Ptb:{configurable:!0,enumerable:!0,get:function(){var k;switch(this.config.OQ){case c.mC.mHa:case c.mC.mCa:k="logs.test.netflix.com";break;default:k="logs.netflix.com";}return "https://" + k + "/log";}},host:{configurable:!0,enumerable:!0,get:function(){var k;switch(this.config.OQ){case c.mC.c1b:k="www.stage";break;case c.mC.mHa:k="www-qa.test";break;case c.mC.mCa:k="www-int.test";break;default:k="www";}return "https://" + k + ".netflix.com";}},Wnb:{configurable:!0,enumerable:!0,get:function(){return "pbo_config";}}});h=d;b.eza=h;t.__decorate([f.config(f.string,"apiEndpoint")],h.prototype,"endpoint",null);t.__decorate([f.config(f.string,"nqEndpoint")],h.prototype,"Qtb",null);t.__decorate([f.config(f.string,"logsEndpoint")],h.prototype,"Ptb",null);t.__decorate([f.config(f.string,"bindService")],h.prototype,"Wnb",null);b.eza=h=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(e.Qo)),t.__param(1,(0,n.v)(c.xt)),t.__param(2,(0,n.v)(a.Ija)),t.__param(3,(0,n.v)(e.eha)),t.__param(3,(0,n.optional)())],h);},85405:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.B5a="AseIntegrationFactorySymbol";},31034:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.udb="OpenConnectSideChannelSymbol";b.kcb="MediaRequestDownloaderSymbol";},13494:function(t,b){function a(n,c,f){var g,e,h,k;g=[];n.forEach(function(l){-1 == g.indexOf(l.Uc) && g.push(l.Uc);});e=null;h=null;c.forEach(function(l){null === e?h=e=l.bitrate:h < l.bitrate?h=l.bitrate:e > l.bitrate && (e=l.bitrate);});k=[];g.forEach(function(l){var m;m={ranges:[],profile:l};e && h && (m.ranges.push({min:e,max:h}),f && (m.disallowed=f.filter(function(p){return p.stream.Uc === l;}).map(function(p){return {stream:{bitrate:p.stream.bitrate},disallowedBy:p.Mna};})),k.push(m));});return k;}function d(n,c){var f;f=void 0;return {Oub:n.filter(function(g){var e;e=c(g);e && (f=f || [],f.push({stream:g,Mna:e}));return !e;}),Kic:f};}Object.defineProperty(b,"__esModule",{value:!0});b.Itc=function(n,c){c=d(n,c);return a(n,c.Oub,c.Kic);};b.W6c=a;b.aD=d;},92692:function(t,b,a){var d,n,c,f,g,e,h,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.bb=void 0;t=a(22674);d=a(67263);n=a(13005);c=a(24240);f=a(22806);g=a(31034);e=a(76457);h=a(77425);k=a(51790);l=a(89936);b.bb=new t.Ce(function(m){m(d.KAa).to(n.JAa).sa();m(c.ecb).to(f.KDa).sa();m(g.udb).to(e.yEa).sa();m(g.kcb).to(h.PDa).sa();m(k.jcb).to(l.ODa).sa();});},67263:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.KAa=b.i8a=void 0;b.i8a=function(){this.X=0;this.U=1;this.MWb=2;this.Ue=function(){};};b.KAa="DownloadTrackConstructorFactorySymbol";},24240:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ecb="MediaHttpSymbol";},51790:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jcb="MediaRequestConstructorFactorySymbol";},48220:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.ue=void 0;b.ue=a;a.qm={gdb:"mr1",fdb:"mr2",hdb:"mr3",K5:"mr4",yZb:"mr5",nJ:"mr6"};a.ae={UNSENT:0,OPENED:1,uF:2,ym:3,DONE:5,Tw:7,name:("UNSENT OPENED SENT RECEIVING PAUSED DONE FAILED ABORTED").split(" ")};a.cF={NO_ERROR:-1,zVb:0,I7a:1,LVb:2,DVb:3,OUb:4,V6a:5,T6a:6,PUb:7,QUb:8,RUb:9,LUb:10,NUb:11,U6a:12,MUb:13,KUb:14,SWb:15,Z9a:16,Y9a:17,SBa:18,Mha:19,TBa:20,a5:21,UWb:22,Nha:23,$9a:24,TWb:25,GVb:26,AVb:27,P0b:28,qVb:29,rVb:30,sVb:31,tVb:32,uVb:33,vVb:34,wVb:35,xVb:36,yVb:37,BVb:38,CVb:39,EVb:40,FVb:41,HVb:42,IVb:43,JVb:44,KVb:45,MVb:46,NVb:47,O0b:48,TIMEOUT:49,QWb:50,RBa:51,RWb:52,b$a:53,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP HTTP_RESPONSE_452").split(" ")};a.vg={V_a:{mZc:!0,FGa:!1,m2c:!0}};},92720:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A;function d(z,B,C,D,E){var H;H=this;this.xb=z;this.j=B;this.debug=C;this.X7b=E;this.F6=this.lk=this.IF=!1;this.b7=this.a7=void 0;this.Vva=!1;z={};this.cB=(z[v.u.X]={},z[v.u.U]={},z[v.u.Da]={},z[v.u.um]={},z);this.ckb=void 0;this.Pm=function(){var F,G,J,L,K,M;H.debug.assert(H.la,"has access to asePlaygraph");H.debug.assert(H.nd,"has access to internalLogger");H.debug.assert(H.hB,"has access to mediaBufferGetLogFields");K=H.Tt;M=null === (G=null === (F=H.bd.get()) || void 0 === F?void 0:F.kb) || void 0 === G?void 0:G.Fa;F={type:"logdata",target:"startplay",fields:{hasasereport:H.j.VY,hashindsight:!1,buffCompleteReason:K.reason,actualbw:M,initSelReason:null !== (J=K.initSelReason) && void 0 !== J?J:"unknown",bcVBufferLevelMs:K.vBufferLevelMs,bcABufferLevelMs:K.aBufferLevelMs}};(0,e.mLa)({EPa:F,Es:H.Es,loadTime:H.loadTime});H.la.k3a("startplay",n.Lc.im);null !== (L=H.Gb) && void 0 !== L && L.Wd?(H.nd.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:K},H.hB()),H.j.Tt=K,H.j.Pt.set(h.mh.Cf),H.vnc || (H.vnc=!0,H.j.ih("pb")),[n.Ub.pja,n.Ub.Ct,n.Ub.Oi].includes(H.xh.value) || H.play()):H.nd.error("Shim received buffering complete but player has no position (player " + (H.Gb?"":"un") + "defined, state " + H.j.state + ")");};this.iQb=function(){var F,G;H.debug.assert(H.nd,"has access to internalLogger");!1;H.a7=void 0;H.b7=void 0;H.j.paused.value && H.WS && (H.WS=!1,H.j.paused.set(!1,{mB:!0}));null === (F=H.j.Xd) || void 0 === F?void 0:F.Jcc();null === (G=H.TGb) || void 0 === G?void 0:G.call(H);H.TGb=void 0;};this.events=new A();this.Be=new u.THa(this.cD.bind(this),function(F){return H.j.KT(F);},function(F,G){return H.j.LT(F,G);});}b.nDa=void 0;n=a(45247);c=a(90745);f=a(32219);g=a(36129);e=a(30326);h=a(85001);k=a(29204);l=a(32687);m=a(5021);p=a(64302);q=a(8825);r=a(81734);u=a(64213);a(2762);v=a(26388);w=a(45240);x=a(26668);y=a(31149);A=a(17187).EventEmitter;d.prototype.Se=function(){var z;!1;this.F6=!1;this.bd.Cwa(null);this.debug.assert(this.ck,"has access to streamingEngine");this.la && this.ck.sE(this.la);this.Gb && this.ck.p_a(this.Gb);this.ck.JKb(this.Be.qs(this.xb.ga.J));this.Be.clear();null === (z=this.ei) || void 0 === z?void 0:z.au();};d.prototype.TQc=function(z){var B,C,D,E,H,F,G,J,L,K,M,P;B=z.config;C=z.zv;D=z.nd;E=z.Rf;H=z.hB;F=z.gn;G=z.Fea;z=z.$T;this.nd=D;this.log=D.iQ("AseIntegrationImpl");!1;this.hnb=new x.N5a(this.nd);this.hB=H;this.Fea=G;this.$T=z;H=this.j.ga;this.debug.assert(H,"has a playback segment");this.debug.assert(B,"has access to config");this.debug.assert(E,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(C,"has access to aseGlobals");this.debug.assert(C.ck,"has access to streamingEngine");this.debug.assert(H.Yc,"has access to parsedManifest");this.debug.assert(H.S,"has access to manifest");this.config=B;this.ck=C.ck;C.Zk.set(a(87141)(B),!0,F("ASE"));C.Zk.set({maxNumberTitlesScheduled:null !== (L=null === (J=B.dJc) || void 0 === J?void 0:J.maxNumberTitlesScheduled) && void 0 !== L?L:1},!0,D);B.wdc && !H.Dc.Ba && 3E5 > H.S.Aa.duration?C.Zk.mYa({expandDownloadTime:!1},!0,D):C.Zk.mYa({expandDownloadTime:C.Zk.hIc().expandDownloadTime},!0,D);B=null === (P=null === (M=null === (K=H.ka.Mh) || void 0 === K?void 0:K.streams) || void 0 === M?void 0:M[0]) || void 0 === P?void 0:P.Uc;C.Zk.mYa((0,k.Tcc)(!!H.qb.Pg,!!H.qb.BD,B),!0,D);D=E.n0({},(0,k.cNa)(H.jf));H.Dc.Ba && (D=E.n0(D,(0,k.cNa)("live")));this.Zk=C.Zk.Wt(D);n.platform.events.emit("networkchange",H.Yc.IPc);this.IF=!0;};d.prototype.Haa=function(z){var B,C;this.debug.assert(this.ck,"has access to streamingEngine");B=this.j.Vl(z.L);this.debug.assert(B.Yc,"has access to playback parsedManifest");!1;C=z.flags;this.bd.reset();this.Hh=new Set([v.u.X,v.u.U]);(C.lSb || C.J5c) && this.Hh.delete(C.lSb?v.u.X:v.u.U);this.OU=[B.Yc.Dhc,B.Yc.Ohc,B.Yc.Mhc];this.cD(B.R,void 0,z.kQ);this.kwc(z);this.mY();};d.prototype.HN=function(z){var B;!1;null === (B=this.la) || void 0 === B?void 0:B.HN(z);};d.prototype.D9b=function(z){var B,C,D;B=this;C=z.loadTime;D=z.Es;this.debug.assert(this.la,"has access to asePlaygraph");this.debug.assert(this.Gb,"has access to asePlayer");!1;this.Es=D;this.loadTime=C;z=this.la.events;z.addListener("error",function(E){!1;"NFErr_MC_StreamingFailure" === E.error && (B.nd.trace("receiving an unrecoverable streaming error: " + JSON.stringify(E)),B.nd.trace("StreamingFailure, buffer status:" + JSON.stringify(B.hB())),(0,f.Yh)(function(){var H,F,G;H=g.da.oTb;F=E.nativeCode;G=E.context;"adBreakHydration" === (null === G || void 0 === G?void 0:G.type) && (H=g.da.BO,F=g.Y.zTb);B.j.wg(H,{Ua:F,ef:E.errormsg,zq:E.httpCode,PH:E.networkErrorCode,Ng:E.httpCode});}));});z.addListener("logdata",function(E){var H;!1;"string" === typeof E.target && "object" === typeof E.fields && (E.fields.aseApiVersion=null === (H=B.la) || void 0 === H?void 0:H.u7b,(0,e.mLa)({EPa:E,Es:D,loadTime:C}));});z.addListener("bufferingStarted",function(){!1;B.j.Pt.set(h.mh.Sf);});z.addListener("bufferingComplete",function(E){!1;B.Tt=E;});this.j.paused.addListener(function(E){var H;B.debug.assert(B.nd,"has access to internalLogger");null !== (H=E.Xm) && void 0 !== H && H.mB || !B.IF || (E.newValue && [n.Ub.rg,n.Ub.Oi].includes(B.xh.value)?(B.xh.set(n.Ub.Oi),B.fi.emit("paused",{type:"paused",od:B.fi.Ed})):E.newValue || B.xh.value !== n.Ub.Oi || (B.xh.set(n.Ub.rg),B.fi.emit("playing",{type:"playing",od:B.fi.Ed})));E.newValue || (B.WS=!1);B.nd.info("Paused changed",{From:E.oldValue,To:E.newValue,MediaTime:(0,q.ik)(B.j.mediaTime.value)});});this.j.ka.addListener([v.u.X],function(E){var H,F,G,J;if(B.IF)if((B.debug.assert(B.nd,"has access to internalLogger"),E.dG))B.nd.trace("Not processing already applied track",null === (H=E.yy) || void 0 === H?void 0:H.trackId);else {J=E.yy;B.vPb({Dv:J.trackId,toJSON:function(){return J.Ki;}})?B.nd.trace("ASE accepted the audio track switch",null === (G=E.yy) || void 0 === G?void 0:G.trackId):(B.nd.trace("ASE rejected the audio track switch",null === (F=E.yy) || void 0 === F?void 0:F.trackId),E.tw && E.tw.trackId !== J.trackId && B.j.ka.LB(E.tw,{dG:!0}));}});this.j.Dc.Ba && this.j.ka.addListener([v.u.Da],function(E){var H,F,G,J;if(B.IF)if((B.debug.assert(B.nd,"has access to internalLogger"),null === E || void 0 === E?0:E.dG))B.nd.trace("Not processing already applied track",null === (H=E.so) || void 0 === H?void 0:H.trackId);else {J=E.so;B.vPb({Zy:J.trackId,toJSON:function(){return J.Ki;}})?B.nd.trace("ASE accepted the text track switch",null === (G=E.so) || void 0 === G?void 0:G.trackId):(B.nd.trace("ASE rejected the text track switch",null === (F=E.so) || void 0 === F?void 0:F.trackId),E.Cy && E.Cy.trackId !== J.trackId && B.j.ka.Mp(E.Cy,{dG:!0}));}});z.addListener("serverSwitch",function(E){var H;!1;B.j.fireEvent(h.ja.Bea,E);if(E.mediatype === v.uS[v.u.X])H=v.u.X;else E.mediatype === v.uS[v.u.U]?H=v.u.U:E.mediatype === v.uS[v.u.Da] && (H=v.u.Da);(0,l.$c)(H) && B.Fea(E.segmentId,E.server,H);});z.addListener("streamSelected",function(E){var H,F,G,J;!1;if(B.F6){F=E.manifest.Zd;if(!B.j.Juc(F) && B.config.vmc)return B.j.wg(g.da.ZXb,{L9:F});F=(null === (H=B.la) || void 0 === H?void 0:H.ws(E.position)).Ga.G;H=[];if(E.mediaType === v.u.U){G=B.j.nzb(E.streamId);J=B.j.ag;H=B.j.dL();}else E.mediaType === v.u.X && (G=B.j.Uyb(E.streamId),J=B.j.fj,H=B.j.Roc());G && J?(!1,J.set(G,{aQ:F,a8:E.bandwidth})):E.mediaType !== v.u.Da && B.nd.error("no matching stream for streamSelected event",{streamId:E.streamId,mediaType:E.mediaType,streamList:H,cachedManifest:B.j.ZP});}});z.addListener("segmentNormalized",function(E){var H,F,G,J,L;!1;H=E.segmentId;F=Math.floor(E.viewableContentEnd.G);E=Math.floor(E.viewableEarliestContentEnd.G);F=(0,m.ic)(F);E=(0,m.ic)(E);B.Wh && B.Wh.ba[H] && (G=B.Wh.ba[H]);J=B.j.hzb(H);L=G && B.j.laa(G.J);J?L && B.j.fra() && (J=B.j.Pj(G.J),J.L === "placeholder-segmentId-" + G.J && (!1,J.L=H)):(!1,B.bfc(H));if(G=B.j.Vl(H))(B.debug.assert(G.L === H,"segmentNormalized: playbackViewableData segmentId should match the value in the event. playbackViewableData.segmentId: " + (G.L + " event.segmentId: ") + (H + " ")),G.xG=F,G.lEb=E);B.j.Ps || (B.j.Dc.Ba && Infinity === F.oa(m.za)?B.j.Ps=m.ia:B.j.Ps=F);H=B.j.Ps.oa(m.za);G=F.oa(m.za);B.j.Dc.Ba && Infinity !== G && G > H && (!1,B.j.Ps=F);});z.addListener("locationSelected",function(E){!1;B.j.fireEvent(h.ja.Aba,E);});z.addListener("aseReportEnabled",function(){!1;B.j.VY=!0;});z.addListener("logblob",function(E){!1;B.j.fireEvent(h.ja.AX,E);});z.addListener("mediaRequestComplete",function(E){E=null === E || void 0 === E?void 0:E.lNc;(E=null === E || void 0 === E?void 0:E.cadmiumResponse) && B.j.fireEvent(h.ja.wQ,{response:E,R:B.j.ga.R});});z.addListener("transportReport",function(E){var H;(E=null === (H=E.Mlc) || void 0 === H?void 0:H.cadmiumResponse) && B.j.fireEvent(h.ja.wQ,{response:E,R:B.j.ga.R});});z.addListener("liveEventTimesUpdated",function(E){var H,F;H=E.L;F=E.startTime;E=E.endTime;B.j.hzb(H) && (H=B.j.Vl(H),H.Dc.Ba && H.Dc.W0a(F,E));});z.addListener("liveLoggingInfoUpdated",function(E){var H,F,G;H=E.mediaType;E=E.info;F=B.cB[H];B.cB[H]=E;G=B.cB[H].co !== F.co && void 0 !== F.co;(B.cB[H].bo !== F.bo && void 0 !== F.bo || G) && B.j.fireEvent(h.ja.Ura,{mediaType:H,Uq:F,current:B.cB[H],swa:E.swa,ob:E.ob});});z.addListener("livePostplayUpdated",function(E){B.j.fireEvent(h.ja.ZCb,{J:E.J,lda:E.lda,action:E.action});});z.addListener("seeked",function(E){B.d1=E.position;});this.Unb();};d.prototype.Unb=function(){var z,B;z=this;this.debug.assert(this.Gb,"has access to asePlayer");!1;B=this.Gb.events;B.addListener("logdata",function(C){!1;"string" === typeof C.target && "object" === typeof C.fields && (0,e.mLa)({EPa:C,Es:z.Es,loadTime:z.loadTime});});B.addListener("segmentPresenting",function(C){var D,E,H,F;!1;z.debug.assert(z.la,"has access to asePlaygraph");z.debug.assert(z.Gb,"has access to asePlayer");z.debug.assert(z.$T,"has access to segmentPresentingHandler");E=z.la.ws(C.position);H=void 0;F=null === (D=C.inner) || void 0 === D?void 0:D.position;F && z.Wh && (H=z.Wh.ba[F.L]);z.xb.x_() && (z.xb.Bi=C.position.L);z.$T({J:E.J,dQ:H,NR:!1});D=C.metrics;z.zua && D && (E=D.segment,D.srcsegment !== z.zua.l$.L || E !== z.zua.Efa.L || "seamless" !== D.transitionType && "perfect" !== D.transitionType || (D.transitionType="long",z.zua=void 0));z.j.fireEvent(h.ja.$M,{type:"segmentPresenting",position:{segmentId:C.position.L,offset:C.position.offset},playerTimestamp:C.playerTimestamp,metrics:C.metrics});!1;z.ckb=z.Gb.ju();});B.addListener("ptsChanged",function(C){var D,E;!1;z.debug.assert(z.la,"has access to asePlaygraph");z.d1 || !1;E=null !== (D=z.d1) && void 0 !== D?D:z.la.un(C.initialTimestamp);z.d1=void 0;D=z.la.FA(E);E=z.Lyb(E);E={lUc:null === D || void 0 === D?void 0:D.wB,eAb:C.initialTimestamp.wB,Ol:E};!1;z.j.Xd.WKc(E);C.inNonSeamlessTransition?z.fi.emit("clockAdjusted",{type:"clockAdjusted",od:z.fi.Ed}):z.fi.emit("skipped",{type:"skipped",od:z.fi.Ed});});B.addListener("fragmentsMissing",function(C){var D,E;E=null === (D=z.la) || void 0 === D?void 0:D.ws(C.nextAvailableGraphPosition);z.j.Xd.seek(E.Ga.G,h.Mc.n4,C.nextAvailableGraphPosition.L);});};d.prototype.bfc=function(z){var B,C,D,E;if(this.Wh && this.Wh.ba[z]){B=this.Wh.ba[z];z=this.j.ZVa;C=z.S;if(null === C || void 0 === C?0:C.oq)D=null === C || void 0 === C?void 0:C.oq.find(function(H){return H.Aa.R === B.J;});D || (D=this.j.Vwb(B.J));if(!D && (null === C || void 0 === C?0:C.Aa.Ib)){E=this.X7b.fsc({Ib:null === C || void 0 === C?void 0:C.Aa.Ib,fd:z.R,J:B.J});E && (D=E.S);}D && D.Aa.Ib === (null === C || void 0 === C?void 0:C.Aa.Ib) && this.j.$qb(B.J,{Uf:{Ib:D.Aa.Ib,fd:z.R}},z.Ia,D);}};d.prototype.ju=function(){var z,B,C,D,E,H,F,G,J;G=null === (z=this.Gb) || void 0 === z?void 0:z.jqa();z=(null !== (B=this.ckb) && void 0 !== B?B:G && this.Gb.ju()) || ({});B=z.K;G=z.Ld;J=z.hT;z=z.Aw;return {id:String(null === B || void 0 === B?void 0:B.id),MLa:null !== (C=null === G || void 0 === G?void 0:G.G) && void 0 !== C?C:0,Zma:null !== (D=null === B || void 0 === B?void 0:B.jb.G) && void 0 !== D?D:Infinity,idc:null !== (E=null === B || void 0 === B?void 0:B.Xb.G) && void 0 !== E?E:0,GIc:null !== (H=null === J || void 0 === J?void 0:J.G) && void 0 !== H?H:Infinity,bZa:null !== (F=null === z || void 0 === z?void 0:z.G) && void 0 !== F?F:0};};d.prototype.yAb=function(){var z,B;this.debug.assert(this.la,"has access to asePlaygraph");z={};B=this.la.hR();z.vbuflmsec=B.totalvbuflmsecs;z.vbuflbytes=B.vbuflbytes;z.abuflmsec=B.totalabuflmsecs;z.abuflbytes=B.abuflbytes;z.tbuflmsec=B.totaltbuflmsecs;z.tbuflbytes=B.tbuflbytes;return z;};d.prototype.paused=function(){};d.prototype.zIc=function(){!1;this.fi.emit("playbackRateChanged",{type:"playbackRateChanged",od:this.fi.Ed});};d.prototype.Ot=function(z,B){var C;this.debug.assert(this.j.S,"has access to playback manifest");this.debug.assert(this.hnb,"has access to ASE utils");C=this.OU[v.u.X];return z.R === this.j.S.Aa.R?C:this.hnb.Zmc(this.j.S.Aa.Om[C],B);};d.prototype.WB=function(z,B){this.debug.assert(this.j.S,"has access to playback manifest");if(this.j.Dc.Ba && (z=this.OU[v.u.Da],(B=B[z]) && (!B.gy || B.Xaa)))return z;};d.prototype.vPb=function(z){var B,C,D,E,H,F;this.debug.assert(this.nd,"has access to internalLogger");this.debug.assert(this.Gb,"has access to asePlayer");this.debug.assert(this.j.S,"has access to playback manifest");if(this.$2a)return (!1,!1);C=z.Dv;D=this.OU[v.u.X];if(void 0 === C)E=D;else if(!this.j.S.Aa.audio_tracks.some(function(G,J){if(G.new_track_id === C)return (E=J,!0);}))return (!1,!1);H=z.Zy;z=this.OU[v.u.Da];if(void 0 === H)F=z;else if(!this.j.S.Aa.timedtexttracks.some(function(G,J){if(G.new_track_id === H)return (F=J,!0);}))return (!1,!1);!1;this.a7=E;this.b7=F;null === (B=this.j.Xd) || void 0 === B?void 0:B.KSc();this.j.paused.value || (this.Gb.pause([v.u.X,v.u.Da]),this.WS=!0,this.j.paused.set(!0,{mB:!0}));this.debug.Nla(this.a7,"has access to valid requestedAudioTrackIndex number");this.OU[v.u.X]=this.a7;this.debug.Nla(this.b7,"has access to valid requestedTextTrackIndex number");this.OU[v.u.Da]=this.b7;(this.Vy() || this.WS) && this.Gb.resume(this.WS?[v.u.X,v.u.Da]:void 0);this.NN(this.iQb);return !0;};d.prototype.Vy=function(){var z;z=this;this.debug.assert(this.la,"has access to asePlaygraph");return this.la.Vy({cU:this.Ot.bind(this)},{cU:function(){return z.OU[v.u.U];}},{cU:this.WB.bind(this)});};d.prototype.bsc=function(){var z,B;z=this;if(!this.Vva){B={type:"playbackEnding",cancel:function(){z.Vva=!0;}};this.fi.emit(B.type,B);}B=this.Vva;this.Vva=!1;return B;};d.prototype.pr=function(){var z;!1;this.xh.set(n.Ub.xm);null === (z=this.la) || void 0 === z?void 0:z.k3a("intrplay",n.Lc.pr);this.fi.emit("underflow",{type:"underflow",od:this.fi.Ed});this.NN(this.Pm);};d.prototype.Kwa=function(z,B){this.lya.Kwa(z,B);};d.prototype.open=function(){var z,B;if(!this.F6){this.debug.assert(this.la,"has access to asePlaygraph");this.debug.assert(this.Gb,"has access to asePlayer");!1;this.F6=this.lk=!0;this.la.open();this.debug.assert(this.RB,"invalid start position relative to playgraph");this.d1=this.RB;this.la.YM(this.RB);this.xh.set(n.Ub.Sf);this.NN(this.Pm);this.la.aA(this.Gb);this.NCb();B=null === (z=this.cn()) || void 0 === z?void 0:z.Os.aw();z=this.j.ga.R.toString();(null === B || void 0 === B?0:B.result[z]) && this.events.emit("adMetadataUpdated");}};d.prototype.play=function(){this.debug.assert(this.la,"has access to asePlaygraph");this.debug.assert(this.Gb,"has access to asePlayer");!1;0 !== this.la.state && (this.Gb.resume(this.WS?[v.u.X,v.u.Da]:void 0),this.xh.set(n.Ub.rg),this.fi.emit("playing",{type:"playing",od:this.fi.Ed}));};d.prototype.stop=function(){var z;!1;this.xh.set(n.Ub.pja);null === (z=this.Gb) || void 0 === z?void 0:z.pause();this.events.emit("stop");this.fi.emit("paused",{type:"paused",od:this.fi.Ed});};d.prototype.flush=function(){this.debug.assert(this.la,"has access to asePlaygraph");this.debug.assert(this.ck,"has access to streamingEngine");!1;this.F6 && this.xh.value !== n.Ub.Ct && this.xh.value !== n.Ub.pja && this.stop();this.la.k3a("endplay",n.Lc.Kj);this.la.Jg();this.ck.Xl.save();this.ck.hM.save();};d.prototype.cn=function(){var z;return null === (z=this.la) || void 0 === z?void 0:z.Ec;};d.prototype.Lyb=function(z){this.debug.assert(this.la,"has access to asePlaygraph");return this.la.Z.ba[z.L].Ta + Number(z.offset.G.toFixed(0));};d.prototype.nNa=function(z){var B;this.debug.assert(this.la,"has access to asePlaygraph");B=n.I.Ca(z);return (B=this.la.un(B,{$Rc:!0,ZRc:!0}))?this.Lyb(B):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + z);};d.prototype.pNa=function(z,B){this.debug.assert(this.la,"has access to asePlaygraph");this.debug.assert(this.nd,"has access to internalLogger");!1;this.la.Z.ba[z] || (z=this.UPa(B));this.debug.Ola(z,"has access to segmentId");z={L:z,offset:n.I.Ca(B - this.la.Z.ba[z].Ta)};if(z=this.la.FA(z))return z.G;!1;return B;};d.prototype.jnc=function(z,B){var C,D,E;this.debug.assert(this.la,"has access to asePlaygraph");this.debug.assert(this.Gb,"has access to asePlayer");!1;B && this.la.Z.ba[B] || (B=null !== (C=this.UPa(z)) && void 0 !== C?C:null === (D=this.Gb) || void 0 === D?void 0:D.Yg.L);B=this.j.Vl(B);z={Ga:n.I.Ca(z),J:B.R};return null === (E=this.la.fvb(z)) || void 0 === E?void 0:E.Ga.G;};d.prototype.t9=function(z){var B;B=void 0 === B?!0:B;!1;if(!this.lk)return this.fail("Must call open prior to drmReady");Number.isFinite(z) && (this.debug.assert(this.Gb,"has access to asePlayer"),B?this.Gb.YMb(z):this.Gb.XMb(z));};d.prototype.czb=function(){var z;return null !== (z=this.Gb) && void 0 !== z && z.Wd?this.Gb.Raa(this.xb.ga.J):!1;};d.prototype.cl=function(z){var B,C,D;!1;if(!this.Gb)return (!1,!1);z=n.I.Ca(z);D=null !== (C=null === (B=this.cn()) || void 0 === B?void 0:B.cl(z)) && void 0 !== C?C:!0;return this.Gb.cl(z) && D;};d.prototype.UOc=function(z,B){var C;this.debug.assert(this.la,"has access to asePlaygraph");this.debug.assert(this.Gb,"has access to asePlayer");!1;B && this.la.Z.ba[B] || (B=null !== (C=this.UPa(z)) && void 0 !== C?C:this.xb.Bi);this.debug.Ola(B,"has access to segmentId");this.debug.assert(this.la.Z.ba[B],"segment exists in playgraph map");this.d1=z={L:B,offset:n.I.Ca(z - this.la.Z.ba[B].Ta)};this.la.YM(z);this.Gb.resume();this.xh.set(n.Ub.Sf);this.NN(this.Pm);z=this.la.WLb(z);this.debug.assert(z,"Valid position must be provided for seek");};d.prototype.addEventListener=function(z,B){this.events.addListener(z,B);return this;};d.prototype.removeEventListener=function(z,B){this.events.removeListener(z,B);return this;};d.prototype.lWc=function(z,B){var C;!1;C={};this.la.xl((C[z]=B,C));};d.prototype.Gma=function(z,B){var C,D;this.debug.assert(this.nd,"has access to internalLogger");this.debug.assert(this.la,"has access to asePlaygraph");this.debug.assert(this.Gb,"has access to asePlayer");!1;C=this.ju().id;D=this.la.O$(C,z);if(B){if(!D.lXc)return (this.nd.warn("chooseNextSegment, seamless transition, invalid destination: " + (z + " for current segment: " + C)),!1);if(void 0 !== D.bXa && (!1,D.bXa !== z))return !1;this.la.Dn(C,z,!1,B);return !0;}if(void 0 !== D.bXa)return (!1,!1);D.k8 && (this.Gb.reset(),this.d1={L:z,offset:n.I.Ca(0)},this.la.Dn(C,z,!1,B),this.Gb.resume(),this.xh.set(n.Ub.Sf),this.NN(this.Pm));return !!D.k8;};d.prototype.Dn=function(z,B,C,D){this.debug.assert(this.la,"has access to asePlaygraph");!1;this.la.Dn(z,B,C,D);};d.prototype.jN=function(){var z;this.debug.assert(this.nd,"has access to internalLogger");!1;z=this.fi.Ed;!1;this.fi.emit("skipped",{type:"skipped",od:z});return new n.l6(Promise.resolve()).XNc;};d.prototype.Bpa=function(z,B){var C;return null === (C=this.la) || void 0 === C?void 0:C.Bpa(z,B);};d.prototype.URa=function(){var z;return null === (z=this.la) || void 0 === z?void 0:z.URa();};d.prototype.UPa=function(z){var B,C,D,E,H,F,G,J;this.debug.assert(this.la,"has access to asePlaygraph");this.debug.assert(this.nd,"has access to internalLogger");!1;B=this.la.Z;C=[];D=Infinity;for(E in B.ba){H=B.ba[E];F=H.Ta;H=H.cb;G=z < Number(null !== H && void 0 !== H?H:Infinity);if(F <= z && G)(!1,C.push(E));else if((F=Math.min(Math.abs(z - F),Math.abs(z - H)),F < D)){D=F;J=E;}}z=C[0] || J;this.debug.Ola(z,"has access to locatedSegmentId");!1;return z;};d.prototype.NCb=function(){var z,B;z=this;this.debug.assert(this.j.ac,"has access to mediaElement");B=this.j.ac.Ha;this.debug.assert(B,"has access to videoElement");B.addEventListener("play",function(){z.xh.value === n.Ub.Oi && (z.xh.set(n.Ub.rg),z.fi.emit("playing",{type:"playing",od:z.fi.Ed}));});B.addEventListener("pause",function(){z.xh.value === n.Ub.rg && (z.xh.set(n.Ub.Oi),z.fi.emit("paused",{type:"paused",od:z.fi.Ed}));});};d.prototype.fail=function(z){var B;null === (B=this.la) || void 0 === B?void 0:B.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:z});};d.prototype.NN=function(z){var B,C,D,E,H,F,G,J;B=this;if(z !== this.iQb && this.$2a)(!1,this.TGb=z);else {J=null === (C=this.Gb) || void 0 === C?void 0:C.yp.value;C=null === (D=this.la) || void 0 === D?void 0:D.ke.value;D=!0 === J;J=C === n.Sd.cq;!1;null === (E=this.Gb) || void 0 === E?void 0:E.yp.removeListener(this.sEb);null === (H=this.la) || void 0 === H?void 0:H.ke.removeListener(this.iob);D && J?z():(this.sEb=function(){return B.NN(z);},this.iob=function(){return B.NN(z);},null === (F=this.Gb) || void 0 === F?void 0:F.yp.addListener(this.sEb),null === (G=this.la) || void 0 === G?void 0:G.ke.addListener(this.iob));}};d.prototype.bwb=function(z){var B,C;B=this;z=this.j.Pj(z);return Promise.resolve(null !== (C=z.S) && void 0 !== C?C:this.uva(z)).then(function(D){var E,H;D=D.Aa;return {S:D,WC:D.dqa && !D.gL,config:B.Zk,Hh:[].concat(za(B.Hh)),vn:null !== (H=null === (E=B.la) || void 0 === E?void 0:E.id) && void 0 !== H?H:-1};});};d.prototype.uva=function(z){var B,C,D,E,H;B=this;!1;E=Promise.resolve();if(null === (C=z.ve) || void 0 === C?0:C.fd){C=z.ve.fd;(H=null === (D=this.j.Pj(C).S) || void 0 === D?void 0:D.Aa)?z.ve.Uca=H:E=this.Be.qs(C).Tu.then(function(F){return F.S;}).then(function(F){z.ve.Uca=F;}).catch(function(){return B.j.wg(g.da.BO,g.Y.ATb);});}return E.then(function(){return B.j.uva(z);}).then(function(){return z.S;}).catch(function(F){var G;throw new n.sC("Failed to request manifest",{vd:0,oxa:0,errorCode:null !== (G=F.code) && void 0 !== G?G:0,context:{error:F instanceof y.se?F.toJSON():F,type:"manifest"}});});};d.prototype.cD=function(z,B,C){var D,E,H,F,G,J,L,K,M,P,I,O,Q;D=this;this.debug.assert(this.ck,"has access to streamingEngine");!1;M={J:z,fd:null === (E=null === B || void 0 === B?void 0:B.Uf) || void 0 === E?void 0:E.fd,Ib:null === (H=null === B || void 0 === B?void 0:B.Uf) || void 0 === H?void 0:H.Ib};if(!this.Be.has(M)){if(!this.j.laa(z) && (null === (F=null === B || void 0 === B?void 0:B.Uf) || void 0 === F?0:F.fd) && this.j.laa(null === (G=null === B || void 0 === B?void 0:B.Uf) || void 0 === G?void 0:G.fd)){E=this.j.Pj(null === (J=B.Uf) || void 0 === J?void 0:J.fd);J=null === (L=E.S) || void 0 === L?void 0:L.Aa.Ib;L=this.j.Vwb(z);(null === (K=null === L || void 0 === L?void 0:L.Aa) || void 0 === K?0:K.Ib) && L.Aa.Ib === J && (P=L);this.j.$qb(z,B,E.Ia,P);}this.j.laa(z) && (I=this.j.Pj(z));O=C?C.Ia:I?I.Ia:void 0;K=C?C.Lf:I?I.correlationId:void 0;this.Be.store(M,{YX:function(){},equals:function(T){return T && T.J === M.J && (O === T.Ia || !T.Ia || !O);},get Tu() {Q || (Q=D.bwb(z));return Q;},set Tu(T) {Q=T;},events:new c.EventEmitter(),Ia:O,J:M.J,Qx:!1,rxa:!1});this.Zk.GQ && this.ck.Gwa(this.Be.qs(M.J,B),{Ia:O,Lf:K,KY:null === C || void 0 === C?void 0:C.HK});}};d.prototype.Z2=function(z){var B,C,D;this.debug.assert(this.ck,"has access to streamingEngine");!1;B=this.j.Vl(z);C=B.ve;z=this.xb.ku(z).J;if(!this.Be.has({J:B.R,fd:null === C || void 0 === C?void 0:C.fd,Ib:null === C || void 0 === C?void 0:C.Ib}))return Promise.resolve();C && (D={Uf:{Ib:null === C || void 0 === C?void 0:C.Ib,fd:C.fd}});B=this.Be.qs(z,D);B.Tu=this.bwb(z);return this.ck.Z2(B);};d.prototype.O$=function(z){var B;this.debug.assert(this.Gb,"has access to asePlayer");this.debug.assert(this.la,"has access to asePlaygraph");return this.la.O$(null === (B=this.Gb.ju().K) || void 0 === B?void 0:B.id,z);};d.prototype.ho=function(z){var B;z=null === (B=this.la) || void 0 === B?void 0:B.ho(z);!1;return z;};d.prototype.kwc=function(z){var B,C,D;B=z.kQ;C=z.L;this.debug.assert(this.ck,"has access to streamingEngine");this.debug.assert(this.nd,"has access to internalLogger");!1;D=this.j.Vl(C);z=this.xb.rR(D);C=z.ba[C];this.debug.assert(C,"segment exists");this.RB=(0,p.Tsc)(C.J,z,this.j.Hb,C.Ta);B=Object.create(this.Zk,{HK:{value:B.HK},dZ:{value:this.j.background.value},oA:{value:this.Zk.oA || "LINEAR" === D.S.Aa.yf && this.Zk.$Y}});this.xh=new r.wc(n.Ub.Cl);this.la=this.ck.z7(z,this.Zk.OIc,B,this.Be);this.lya=new n.p6(this.nd);B=this.la.S8(this.lya);z=this.la.Q8();this.la.g1a(z,B);this.Vy();this.WS=!1;};d.prototype.mY=function(){var z,B,C;z=this;this.debug.assert(this.ck,"has access to streamingEngine");this.debug.assert(this.j.S,"has access to playback manifest");!1;C=null === (B=this.j.S) || void 0 === B?void 0:B.Aa;B=void 0 !== this.WB(C,C.nt);C=[].concat(za(this.Hh));B && C.push(v.u.Da);B=Object.create(this.Zk,{Hh:{value:C},IRa:{value:function(){return z.Lrc();}}});this.fi=this.Mrc();this.Gb=this.ck.s6b(this.fi,B);};d.prototype.Mrc=function(){var z,B;z=this;if(this.fi)return this.fi;B=Object.create(new c.EventEmitter(),{Jk:{get:function(){return z.j.Yj.oa(m.za);}},Ed:{get:function(){z.debug.Nla(z.j.mediaTime.value,"has access to mediaTime.value");return n.I.Ca(z.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(z.j.playbackRate.value,.01);}},mrc:{value:function(){z.debug.assert(z.j.ac,"has access to mediaElement");return z.j.ac;}},I_a:{value:function(){z.j.Dc.Y1();}}});this.config.Pkc && (this.debug.assert(this.nd,"has access to internalLogger"),this.rLb=new w.bgb(this.j,this.config,this.nd),Object.defineProperties(B,{Ut:{value:function(C){var D;D=z.rLb.Ut(C);D.Ut || (z.zua={l$:C.l$,Efa:C.Efa});return D;}},cd:{value:function(C,D){return z.rLb.cd(C,D);}}}));return B;};d.prototype.UNc=function(){var z;z=this;return new Promise(function(B){z.NCb();z.uic();z.mY();z.debug.assert(z.Gb,"asePlayer should have been re-created");z.Unb();z.la.aA(z.Gb);z.play();z.xh.set(n.Ub.Sf);z.NN(function(){z.j.paused.value && z.j.paused.set(!1,{mB:!0});z.Pm();!1;B();});});};d.prototype.uic=function(){var z;null === (z=this.la) || void 0 === z?void 0:z.vic();this.ck.p_a(this.Gb);this.ei=this.Gb=void 0;};d.prototype.Lrc=function(){this.ei || (this.ei=new n.platform.MediaSource(this.fi),this.ei.vg || (this.ei.vg=n.platform.MediaSource.vg));return this.ei;};Ha.Object.defineProperties(d.prototype,{$2a:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.a7 && void 0 !== this.b7;}},bd:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.ck,"has access to streamingEngine");return this.ck.bd;}},Wh:{configurable:!0,enumerable:!0,get:function(){for(var z,B=null === (z=this.la) || void 0 === z?void 0:z.Wh;null === B || void 0 === B?0:B.Wh;)B=B.Wh;return null === B || void 0 === B?void 0:B.Z;}},Tpb:{configurable:!0,enumerable:!0,get:function(){for(var z=this.Gb;null === z || void 0 === z?0:z.Iaa;)z=z.Iaa;return z;}},Drb:{configurable:!0,enumerable:!0,get:function(){var z,B,C;if(null === (z=this.Tpb) || void 0 === z?0:z.Wd){C=(z=this.Tpb.Yg) && (null === (B=this.Wh) || void 0 === B?void 0:B.ba[z.L]);if(C)return {Ga:n.I.Ca(z.offset.G + C.Ta),J:C.J};}}},dob:{configurable:!0,enumerable:!0,get:function(){var z;return null === (z=this.Gb) || void 0 === z?void 0:z.WR.value.G;}}});b.nDa=d;},13005:function(t,b,a){var n,c,f,g;function d(e){function h(k,l){this.Bb=k;this.B2b=l;this.OPa=!1;this.emit=g.prototype.emit;this.addListener=g.prototype.addListener;this.on=g.prototype.on;this.once=g.prototype.once;this.removeListener=g.prototype.removeListener;this.removeAllListeners=g.prototype.removeAllListeners;this.listeners=g.prototype.listeners;this.listenerCount=g.prototype.listenerCount;g.call(this);this.sg=e.wb("DownloadTrack");}h.prototype.au=function(){!1;this.j7=void 0;this.emit("destroyed");};h.prototype.toString=function(){return "id:" + this.j7 + " config: " + JSON.stringify(this.Bb);};h.prototype.toJSON=function(){return "Download Track id:" + this.j7 + " config: " + JSON.stringify(this.Bb);};h.prototype.B_=function(){return void 0 === this.j7?!1:!0;};h.prototype.i_a=function(k){this.Bb.connections !== k.connections && (this.Bb=k);};Ha.Object.defineProperties(h.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.j7;}},Tm:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.j7;}},config:{configurable:!0,enumerable:!0,get:function(){return this.Bb;}},Gua:{configurable:!0,enumerable:!0,get:function(){return this.sg;}},eca:{configurable:!0,enumerable:!0,get:function(){return this.B2b.eca;}},tPb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});this.h4=Object.assign(h,new f.i8a());}Object.defineProperty(b,"__esModule",{value:!0});b.JAa=void 0;t=a(22970);n=a(22674);c=a(87386);f=a(67263);g=a(17187).EventEmitter;b.JAa=d;b.JAa=d=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.zb))],d);},22806:function(t,b,a){var n,c,f,g,e,h,k,l,m;function d(p,q,r,u,v){this.zX=p;this.De=r;this.ec=u;this.Xa=v;this.log=q.wb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.KDa=void 0;t=a(22970);n=a(48220);c=a(24550);f=a(36129);g=a(87386);e=a(22674);h=a(32934);k=a(42207);l=a(81918);m=a(5021);d.prototype.mR=function(){return this.Xa.yc().oa(m.za);};d.prototype.rEc=function(p,q){p.uEc({mediaRequest:p,timestamp:q});};d.prototype.Qta=function(p){var q,r;r=p.mediaRequest.bM;r.UFb(Object.assign(Object.assign({},p),{timestamp:p.connect?p.timestamp:this.mR(),connect:null !== (q=p.connect) && void 0 !== q?q:!1,mediaRequest:r,readyState:r.readyState}));};d.prototype.H0=function(p){this.rEc(p.mediaRequest.bM,p.timestamp);};d.prototype.NS=function(p){var q,r;q=p.mediaRequest.bM;r=p.bytes;"undefined" === typeof q?!1:(q.readyState === n.ue.ae.uF && this.Qta(p),this.ec.Xo(r) && (p.mediaRequest=q,p.timestamp=this.mR(),r > q.bytesReceived && (p.newBytes=r - q.bytesReceived,p.bytesLoaded=r,q.xEc(p))));};d.prototype.Mca=function(p){var q,r,u,v;q=p.mediaRequest;r=p.errorcode;u=p.httpcode;v=n.ue.cF;if("undefined" === typeof q)!1;else if((q=q.bM,"undefined" === typeof q))!1;else if(r === f.Y.qO)(p.mediaRequest=q,p.readyState=q.readyState,q.oEc(p));else {switch(r){case f.Y.c5:u=v.T6a;break;case f.Y.UBa:u=v.SBa;break;case f.Y.Y4:u=400 < u && 500 > u?452 === u?v.b$a:v.Mha:500 <= u?v.a5:v.SBa;break;case f.Y.Z4:u=v.TBa;break;case f.Y.X4:u=v.U6a;break;case f.Y.b5:u=v.Nha;break;case f.Y.rO:u=v.Nha;break;case f.Y.a$a:u=v.$9a;break;case f.Y.X9a:u=v.Mha;break;case f.Y.PVb:u=v.TBa;break;default:u=v.Nha;}p.mediaRequest=q;p.readyState=q.readyState;p.errorcode=u;p.nativecode=r;q.sXa(p);}};d.prototype.YD=function(p,q){var r,u;r=q.request.bM;if(r)if(q.success){if((!1,p.j && r.readyState !== n.ue.ae.DONE)){switch(r.readyState){case n.ue.ae.Tw:!1;return;case n.ue.ae.ym:break;case n.ue.ae.uF:this.Qta({mediaRequest:q.request,responseHeaders:q.headers,httpCode:q.xk});break;default:!1;}if(!r.gf){u={mediaRequest:r,readyState:r.readyState,timestamp:this.mR(),cadmiumResponse:q};p.j.Z2a+=1;r.qtc();r.Ixc() && (p.j.U_a+=1,q.Oq.fm=Math.ceil(r.aQa),q.Oq.Kw=Math.ceil(r.eQ),q.Oq.hI=Math.floor(r.QL));r.Lcc=u;r.z0(u);}}}else (!1,r.readyState === n.ue.ae.Tw?!1:this.Mca({mediaRequest:q.request,errorcode:q.Ua,httpcode:q.zq,responseHeaders:q.headers,cadmiumResponse:q}));};d.prototype.download=function(p,q){var r;r=this;q=this.De.download(p,q);p.bM && p.bM.readyState === n.ue.ae.OPENED && q.pQc(function(u){r.H0(u);});q.gla(function(u){r.YD(p,u);});q.BQc(function(u){r.NS(u);});return q;};a=d;b.KDa=a;b.KDa=a=t.__decorate([(0,e.aa)(),t.__param(0,(0,e.v)(c.C3)),t.__param(1,(0,e.v)(g.zb)),t.__param(2,(0,e.v)(h.qz)),t.__param(3,(0,e.v)(k.Mi)),t.__param(4,(0,e.v)(l.ie))],a);},77425:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q;function d(r,u,v,w,x,y){this.Xa=r;this.ZG=u;this.config=v;this.De=x;this.mCc=y;this.log=w.wb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.PDa=void 0;t=a(22970);n=a(22674);c=a(87386);f=a(32934);g=a(24240);e=a(51344);h=a(48220);k=a(81918);l=a(5021);m=a(34231);p=a(4203);q=a(26388);d.prototype.Woa=function(r,u,v){var x,y,A;function w(){var z;r.removeEventListener(h.ue.qm.nJ,w);if(r.aborted)x.log.debug("MediaRequest aborted, not retrying (" + r + ")");else {z=x.config().pmc;void 0 === r.qZ?r.qZ=0:r.qZ++;r.qZ >= z.length && (r.qZ=z.length - 1);Ba.clearTimeout(r.NPa);r.NPa=Ba.setTimeout(function(){r.CL();},z[r.qZ]);}}x=this;r.A$c=!0;r.aborted=!1;y=0 === u.start && -1 === u.end;u={url:r.url,responseType:this.De.bja.e6a,withCredentials:!1,BK:r.mediaType === q.u.X?"audio":"video",offset:y?void 0:u.start,length:y?void 0:r.Ru,track:{type:r.mediaType === q.u.X?e.Nn.audio:e.Nn.video},stream:{ob:r.Ra,bitrate:r.bitrate},Tc:{id:r.dd},bM:r,OB:v,fz:this.ZG.fz || !y && void 0 !== r.LK,Mw:r.Mw};v=r.LK;void 0 !== v && void 0 !== v.Qf && void 0 !== v.GD && void 0 !== v.oy && (u.LK=[v.oy,v.GD,v.Qf,v.Dpb]);A=this.mR();u=this.mCc.download(u,function(z){z.success && r.readyState !== h.ue.ae.DONE && (r.readyState === h.ue.ae.Tw?!1:(r.readyState === h.ue.ae.uF?r.UFb({mediaRequest:r,readyState:r.readyState,timestamp:r.gf?A:x.mR(),connect:!1,responseHeaders:z.headers,httpCode:z.xk}):r.readyState !== h.ue.ae.uF && r.readyState !== h.ue.ae.ym && !1,z={mediaRequest:r,readyState:r.readyState,timestamp:x.mR(),cadmiumResponse:z,response:z.content},r.Lcc=z,r.z0(z)));});r.addEventListener(h.ue.qm.nJ,w);r.pTa=u.abort;};d.prototype.FP=function(r){try{r.aborted=!0;Ba.clearTimeout(r.NPa);r.NPa=void 0;r.qZ=void 0;r.pTa();}catch(u){this.log.warn("exception aborting request");}};d.prototype.mR=function(){return this.Xa.yc().oa(l.za);};a=d;b.PDa=a;b.PDa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(k.ie)),t.__param(1,(0,n.v)(m.xt)),t.__param(2,(0,n.v)(p.Ic)),t.__param(3,(0,n.v)(c.zb)),t.__param(4,(0,n.v)(f.qz)),t.__param(5,(0,n.v)(g.ecb))],a);},89936:function(t,b,a){var n,c,f,g,e,h,k,l,m,p;function d(q,r,u,v,w,x){function y(z,B){this.track=z;this.label=B;this.tg=l.ue.ae.UNSENT;this.bytesReceived=0;this.kI=[];}function A(z,B,C){this.requestId=x.yG().toString();this.ec=u;this.log=r.wb("MediaRequest");this.config=q;this.jc=new k.rm();this.label=B;"notification" === this.label?this.config().GQ && (this.eca=v):this.eca=w;C && (this.mediaType=C.mediaType,this.Ra=C.Ra,this.bitrate=C.bitrate,this.dd=C.dd || 0,this.SA=C.SA,this.L=C.L);this.Jaa=this.sma=this.tma=void 0;this.track=z;this.MX=this.url=this.responseType=void 0;this.tg=l.ue.ae.UNSENT;this.Qg=this.jD=this.bh=this.status=void 0;this.bytesReceived=0;this.connect=this.aQa=this.eQ=this.QL=this.fVa=this.nj=this.$Pa=this.loadTime=this.jq=void 0;this.kI=[];this.Tm=!1;!1;}y.prototype.addEventListener=function(z,B,C){this.jc.addListener.call(this,z,B,C);};y.prototype.removeEventListener=function(z,B){this.jc.removeListener.call(this,z,B);};y.prototype.emit=function(z,B,C){this.jc.rd.call(this,z,B,C);};y.prototype.uEc=function(z){this.tg === l.ue.ae.OPENED && (this.Jaa=!0,this.loadTime=this.nj=z.timestamp,!1,this.tg=l.ue.ae.uF,this.emit(l.ue.qm.gdb,z));};y.prototype.UFb=function(z){var B;z.responseHeaders && (this.Tva=z.responseHeaders);z.httpCode && (this.status=z.httpCode);if(this.tg < l.ue.ae.ym){this.kI=[];B=z.timestamp - this.loadTime;!this.gf && 0 < B && (this.connect=!0,this.kI.push(B));!0 === this.config().Bvc?this.$Pa=z.timestamp:this.$Pa=this.nj=z.timestamp;!1;this.tg=l.ue.ae.ym;200 <= this.status && 299 >= this.status && this.emit(l.ue.qm.fdb,z);}};y.prototype.xEc=function(z){this.tg === l.ue.ae.ym && (!1,this.fVa=this.nj=z.timestamp,z.newBytes=z.bytesLoaded - this.bytesReceived,this.bytesReceived=z.bytesLoaded,this.ec.Ci(this.fVa) && 200 <= this.status && 299 >= this.status && this.emit(l.ue.qm.hdb,z));};y.prototype.z0=function(z){var B;if(-1 < [l.ue.ae.uF,l.ue.ae.ym].indexOf(this.tg)){this.Jaa=!1;!1;this.nj=z.timestamp;this.tg=l.ue.ae.DONE;B=this.bytesReceived;this.bytesReceived=z.cadmiumResponse.Oq.Wn;(0,p.va)(this.bytesReceived === this.Ru,"bytesReceived do not match expected totalBytes.");z.newBytes=this.Ru - B;this.ec.Ci(this.eQ) && (this.nj=this.eQ,0 === z.newBytes && (this.fVa=this.eQ));this.ec.Ci(this.QL) && (this.loadTime=this.QL);this.jq=z.response;this.emit(l.ue.qm.K5,z);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",lNc:z});}};y.prototype.oEc=function(z){this.Jaa=!1;!1;this.emit(l.ue.qm.yZb,z);};y.prototype.sXa=function(z){var B,C;this.nj=z.timestamp;this.status=null !== (B=z.httpcode) && void 0 !== B?B:this.status;this.Tva=null !== (C=z.responseHeaders) && void 0 !== C?C:this.Tva;this.bh=z.errorcode;this.jD=l.ue.cF.name[this.bh];this.Qg=z.nativecode;!1;this.track.emit("transportreport",{type:"transportreport",Mlc:z});this.emit(l.ue.qm.nJ,z);this.Jaa=!1;};y.prototype.open=function(z,B,C,D,E,H,F,G,J){this.Xy=!1;this.MX=B;this.OB=F;this.Mw=G;this.LK=J;this.url=z;this.responseType=C;!1;return this.url?this.CL():(!1,!1);};y.prototype.CL=function(){this.tg=l.ue.ae.OPENED;this.status=this.bytesReceived=0;this.Qg=this.jD=this.bh=this.Tva=void 0;this.eca.Woa(this,this.MX,this.OB);return !0;};y.prototype.Se=function(){!1;-1 !== [l.ue.ae.OPENED,l.ue.ae.uF,l.ue.ae.ym].indexOf(this.tg) && this.abort();return !0;};y.prototype.E2=function(z){!1;this.url=z;return this.tg > l.ue.ae.UNSENT?(this.abort(),this.CL()):!0;};y.prototype.abort=function(){this.tg=l.ue.ae.Tw;this.eca.FP(this);return !0;};y.prototype.pause=function(){};y.prototype.getResponseHeader=function(z){var B,C;return null !== (C=null === (B=this.Tva) || void 0 === B?void 0:B[z.toLowerCase()]) && void 0 !== C?C:null;};y.prototype.getAllResponseHeaders=function(){return "";};y.prototype.B1=function(){};y.prototype.Ei=function(){return this.requestId;};y.prototype.toString=function(){var z;z={requestId:this.Ei(),segmentId:this.L,isHeader:this.gf,ptsStart:this.GM,ptsOffset:this.yda,responseType:this.responseType,duration:this.ah,readystate:this.tg,bitrate:this.bitrate};return JSON.stringify(z);};y.prototype.toJSON=function(){return this.toString();};y.prototype.qtc=function(){var z,B;if(this.config().TRb && g.qC && g.qC.getEntriesByType && (!this.ec.Ci(this.QL) || !this.ec.Ci(this.eQ) && this.ec.Ci(this.url))){z="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.tma + "-" + this.sma + "*");B=new RegExp(z);z=g.qC.getEntriesByType("resource").filter(function(C){return B.exec(C.name);})[0];this.ec.Ci(z) && (0 < z.startTime && (this.QL=z.startTime,0 < z.requestStart && (this.QL=Math.max(this.QL,z.requestStart))),0 < z.responseStart && (this.aQa=z.responseStart),0 < z.responseEnd && (this.eQ=z.responseEnd));}};y.prototype.Ixc=function(){return this.ec.Ci(this.QL) && this.ec.Ci(this.eQ) && this.ec.Ci(this.aQa);};Ha.Object.defineProperties(y.prototype,{Ru:{configurable:!0,enumerable:!0,get:function(){return 0 === this.MX.start && -1 === this.MX.end?Number(this.getResponseHeader("content-length")) || this.bytesReceived:this.MX.end - this.MX.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.sma - this.tma + 1;}},Euc:{configurable:!0,enumerable:!0,get:function(){return !!(this.response && 0 < this.response.byteLength);}},gf:{configurable:!0,enumerable:!0,get:function(){return !this.SA;}},response:{configurable:!0,enumerable:!0,get:function(){return this.jq;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.tg;}}});Object.getOwnPropertyNames(y.prototype).forEach(function(z){var B;B=Object.getOwnPropertyDescriptor(y.prototype,z);Object.defineProperty(A.prototype,z,B);});this.Bl=Object.assign(A,l.ue);}Object.defineProperty(b,"__esModule",{value:!0});b.ODa=void 0;t=a(22970);n=a(22674);c=a(87386);f=a(4203);g=a(22365);e=a(42207);h=a(31034);k=a(94886);l=a(48220);m=a(62665);p=a(45146);b.ODa=d;b.ODa=d=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.Ic)),t.__param(1,(0,n.v)(c.zb)),t.__param(2,(0,n.v)(e.Mi)),t.__param(3,(0,n.v)(h.udb)),t.__param(4,(0,n.v)(h.kcb)),t.__param(5,(0,n.v)(m.iF))],d);},76457:function(t,b,a){var n,c,f;function d(g,e){this.De=e;this.log=g.wb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.yEa=void 0;t=a(22970);n=a(22674);c=a(87386);a=a(32934);d.prototype.Woa=function(g,e,h){e={url:g.url,ROc:h};!1;g.pTa=this.De.FRc(e);};d.prototype.FP=function(g){try{g.pTa();}catch(e){this.log.warn("exception aborting request");}};f=d;b.yEa=f;b.yEa=f=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.zb)),t.__param(1,(0,n.v)(a.qz))],f);},45240:function(t,b,a){var n,c,f;function d(g,e,h){this.j=g;this.config=e;this.bb=this.j.bb;this.log=h.iQ("RestartManagerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.bgb=void 0;n=a(45247);c=a(36129);f=a(17612);d.prototype.Ut=function(g){var e;e=g.mediaType;return e === n.u.X?{Ut:!0}:e === n.u.U?this.Eac(g):{Ut:!1,reason:"not-audio-not-video"};};d.prototype.cd=function(g,e){var h,k,l;h=this;!1;void 0 === (null !== (k=e[n.u.U]) && void 0 !== k?k:e[n.u.X]) && this.log.warn("No fromSegment for audio/video given in playgraph restart");this.j.paused.value || this.j.paused.set(!0,{mB:!0});null === (l=this.j.Xd) || void 0 === l?void 0:l.ASc();this.bb.stop();return this.j.PLc().then(function(){return h.bb.UNc();}).then(function(){return h.bb.t9(h.j.R);}).catch(function(m){h.log.error("Restart player for non-seamless transition failed.",{error:m,restartContext:{mediaAttributesRecord:g,fromSegments:e}});h.j.wg(c.da.k_b,m);});};d.prototype.Eac=function(g){var e,h,k,l,m,p,q;k=!0;l=g.l$;m=g.Efa;p=g.from;q=g.to;if(l.L !== m.L && this.KNb(l,m,this.config.fPc))return {Ut:!1,reason:"testing-forced-ads-content"};if(l.L !== m.L && f.mb.v_(null !== (h=null === (e=this.j.Rl) || void 0 === e?void 0:e.wy.my) && void 0 !== h?h:"") && this.KNb(l,m,this.config.VIc))return {Ut:!1,reason:"playready-forced-ads-content"};g=this.config.GXc;return 0 < g.length?(g.some(function(r){r=new RegExp(r);if(r.test(p.profile) && !r.test(q.profile) || r.test(q.profile) && !r.test(p.profile))return (!1,k=!1,!0);}),k?{Ut:k}:{Ut:!1,reason:{mediaType:"video",Fc:"mismatch",details:"codec"}}):{Ut:k};};d.prototype.KNb=function(g,e,h){var k,l,m,p;g=null === (l=null === (k=this.bb.Wh) || void 0 === k?void 0:k.ba[g.L]) || void 0 === l?void 0:l.type;e=null === (p=null === (m=this.bb.Wh) || void 0 === m?void 0:m.ba[e.L]) || void 0 === p?void 0:p.type;m=g + "to" + e;return h.map(function(q){return q.toLowerCase();}).includes(m.toLowerCase());};b.bgb=d;},64213:function(t,b,a){var n,c,f,g;function d(e,h,k){this.cD=void 0 === e?function(){}:e;this.jNc=h;this.mNc=k;this.OE=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.THa=void 0;n=a(22970);c=a(45247);f=a(45146);g=a(31149);d.prototype.store=function(e,h){var k,p;k=this.generateKey(e);this.OE.has(k) && this.qXa(this.OE.get(k),!0);if(!e.fd)for(var l=Ea(this.OE),m=l.next();!m.done;m=l.next()){p=Ea(m.value);m=p.next().value;p=p.next().value;m.includes(":" + e.J + ":") && (this.qXa(p,!0),this.OE.delete(m));}this.OE.set(k,h);};d.prototype.qs=function(e,h){var k,l,m;m=null === (k=null === h || void 0 === h?void 0:h.Uf) || void 0 === k?void 0:k.Ib;k=null === (l=null === h || void 0 === h?void 0:h.Uf) || void 0 === l?void 0:l.fd;l={J:e,fd:k,Ib:m};this.has(l) || this.cD(e,h);return this.get(l);};d.prototype.KT=function(e,h){return n.__awaiter(this,void 0,void 0,function l(){var m,p,q;p=this;return Ua(l,function(r){if(1 == r.Js)return ((0,f.va)(h.Uf,"auxiliaryOptions must exist if an adBreak hydration was requested"),(0,f.va)(!!h.Uf.Ib,"auxiliaryManifestToken must exist if an adBreak hydration was requested"),r.ZX=2,cb(r,p.jNc(h),4));if(2 != r.Js)return r.return(r.hV);q=kb(r);throw new c.sC("Could not hydrate adBreak",{vd:0,oxa:0,errorCode:null !== (m=q.code) && void 0 !== m?m:0,context:{error:q instanceof g.se?q.toJSON():q,type:"adBreakHydration"}});});});};d.prototype.LT=function(e,h){return n.__awaiter(this,void 0,void 0,function l(){var m,p,q;p=this;return Ua(l,function(r){if(1 == r.Js)return (r.ZX=2,cb(r,p.mNc(e,h),4));if(2 != r.Js)return r.return(r.hV);q=kb(r);throw new c.sC("Could not prefetch dai",{vd:0,oxa:0,errorCode:null !== (m=q.code) && void 0 !== m?m:0,context:{error:q instanceof g.se?q.toJSON():q,type:"daiPrefetch"}});});});};d.prototype.has=function(e){e=this.generateKey(e);return this.OE.has(e) && !this.OE.get(e).Qx;};d.prototype.clear=function(){var e;e=this;this.OE.forEach(function(h){e.qXa(h,!1);});this.OE.clear();};d.prototype.get=function(e){return this.OE.get(this.generateKey(e));};d.prototype.generateKey=function(e){var h,k;h=e.Ib;k=e.fd;return e.J.toString() + (k?":" + k:"") + (h?":" + h:"");};d.prototype.qXa=function(e,h){var k;null === (k=e.events) || void 0 === k?void 0:k.emit("viewableEvicted",{type:"viewableEvicted"});e.rxa=h;};b.THa=d;},30326:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.mLa=function(n){var c,f,g,e;c=n.Es;f=n.loadTime;n=n.EPa;g=(0,d.pc)(f)?f:0;e=c[n.target] || ({});c[n.target] !== e && (c[n.target]=e);Object.entries(n.fields).forEach(function(h){var k,l,m,p;k=Ea(h);h=k.next().value;k=k.next().value;if("object" !== typeof k || null === k)e[h]=k;else {l=k.type;if("count" === l)(void 0 === e[h] && (e[h]=0),++e[h]);else if(void 0 !== k.value){if("array" === l){l=e[h];m=k.adjust;p=k.value;l || (l=e[h]=[]);m && 0 < m.length && m.forEach(function(q){p[q]-=g || 0;});l.push(p);}else e[h]="sum" === l?(e[h] || 0) + k.value:k.value;}else e[h]=k;}});};d=a(32687);},64302:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Tsc=function(c,f,g,e){return f.ba[f.uf].Ta === e?(c=(0,d.cs)(f,c,d.I.Ca(g)),(0,n.va)(c,"has valid start position relative to playgraph"),c):{L:f.uf,offset:d.I.ia};};d=a(45247);n=a(45146);},26668:function(t,b){function a(d){this.log=d.iQ("AseUtilsImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.N5a=void 0;a.prototype.Zmc=function(d,n){var c,f,g;!1;c=n.slice(0).sort(function(e,h){var k,l;return (null !== (k=e.Bc) && void 0 !== k?k:0) - (null !== (l=h.Bc) && void 0 !== l?l:0);}).sort(function(e,h){var k,l,m;k=e.profile === d.profile?0:1;l=h.profile === d.profile?0:1;m=k - l;if(0 !== k && 0 !== l || 0 === m)k=m;else return m;0 === k && (k=(e.language === d.language || "zxx" === e.language?0:1) - (h.language === d.language || "zxx" === h.language?0:1));0 === k && (k=(e.aj === d.aj?0:1) - (h.aj === d.aj?0:1));return k;});f=0;g=Ea(c).next().value;g && n.some(function(e,h){if(e === g)return (f=h,!0);});!1;return f;};b.N5a=a;},11479:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.fk="AsyncComponentLoaderSymbol";},87284:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.qnb=void 0;t=a(22674);d=a(31073);n=a(11479);b.qnb=new t.Ce(function(c){c(n.fk).to(d.wza).sa();});},31073:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u;function d(v,w,x,y,A,z){var B;B=this;this.Go=v;this.config=x;this.Ip=y;this.debug=A;this.Xa=z;this.VPb=[];this.If={};this.log=w.wb("loadAsync");this.aBc=(0,q.DWb)(function(C){B.uMc=!0;B.startTime=B.Xa.yc().oa(m.za);B.load(B.VPb).then(function(){B.endTime=B.Xa.yc().oa(m.za);C(u.Ph);}).catch(function(D){B.endTime=B.Xa.yc().oa(m.za);C(D);});});}Object.defineProperty(b,"__esModule",{value:!0});b.wza=void 0;t=a(22970);n=a(77134);c=a(36129);f=a(96813);g=a(63156);e=a(22674);h=a(87386);k=a(4203);l=a(59818);m=a(5021);p=a(90597);q=a(22894);r=a(81918);u=a(33096);d.prototype.yba=function(v){this.aBc(v);};d.prototype.register=function(v,w){this.debug.assert(!this.uMc);this.VPb.push({vAc:this.uac(w),errorCode:v});};d.prototype.ih=function(v){this.debug.assert(void 0 === this.If[v]);this.If[v]=this.Xa.yc().oa(m.za);};d.prototype.load=function(v){var w;w=this;return (0,f.dKc)(v).then(function(x){w.Go.mark(g.Yu.Pn.xTb);return x.reduce(function(y,A){return y.then(function(){return w.sAc(A);});},Promise.resolve()).then(function(){w.Go.mark(g.Yu.Pn.vTb);});});};d.prototype.sAc=function(v){var w,x;w=this;x=v.vAc;!1;return this.Ip.Us((0,m.ic)(this.config().z8b),x()).catch(function(y){w.log.error("Failed to load component " + v.errorCode,y);w.Go.mark(g.Yu.Pn.wTb);if(y instanceof l.jx)throw {Ua:c.Y.uTb,errorCode:v.errorCode};y.errorCode=y.errorCode || v.errorCode;y.Ua=y.Ua || c.Y.tTb;throw y;});};d.prototype.uac=function(v){return function(){return new Promise(function(w,x){v(function(y){y.success?w():x(y);});});};};a=d;b.wza=a;b.wza=a=t.__decorate([(0,e.aa)(),t.__param(0,(0,e.v)(n.AW)),t.__param(1,(0,e.v)(h.zb)),t.__param(2,(0,e.v)(k.Ic)),t.__param(3,(0,e.v)(l.sF)),t.__param(4,(0,e.v)(p.hC)),t.__param(5,(0,e.v)(r.ie))],a);},96813:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.dKc=function(f){return new Promise(function(g,e){var h;h=c.uZb(f);h && e(h);(h=c.tZb(f)) && e(h);g(f.sort(function(k,l){return n.indexOf(k.errorCode) - n.indexOf(l.errorCode);}));});};d=a(36129);n=[d.da.qXb,d.da.H$a,d.da.I$a,d.da.M$a,d.da.D$a,d.da.B$a,d.da.cCa,d.da.uXb,d.da.E$a,d.da.C$a,d.da.cJ,d.da.y$a,d.da.A$a,d.da.J$a,d.da.K$a,d.da.L$a,d.da.F$a,d.da.z$a,d.da.G$a];(function(f){f.tZb=function(g){var k;for(var e={},h=0;h < g.length;h++){k=g[h];if(e[k.errorCode])return {errorCode:k.errorCode,Ua:d.Y.rTb};e[k.errorCode]=1;}};f.uZb=function(g){var h;for(var e=0;e < g.length;e++){h=g[e];if(-1 === n.indexOf(h.errorCode))return {errorCode:h.errorCode,Ua:d.Y.sTb};}};})(c || (c={}));},41674:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.AbortSignal=b.AbortController=void 0;b.AbortController=a.FZ.AbortController;b.AbortSignal=a.FZ.AbortSignal;b.AbortSignal.prototype.throwIfAborted || (b.AbortSignal.prototype.JPb=function(){if(this.aborted)throw this.reason;});},81918:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ie="ApplicationSymbol";},6405:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.YN="Base16EncoderSymbol";},2248:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.om="Base64EncoderSymbol";},22816:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.oV="BrowserInfoSymbol";},33258:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xza="CachedErrorsSymbol";},30869:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Li="ClockSymbol";},87061:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.l7a="ClockConfigSymbol";},58098:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.A7a="CsvEncoderSymbol";},34043:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mha="DebouncerFactorySymbol";},90597:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q7a="DebugConfigSymbol";b.hC="DebugSymbol";},2762:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.O_c={};t.d3c="PboDebugEvent";t.f3c="PlaygraphEvent";b.N_c={T1c:"Manifest",Event:"Event",C1c:"Logblob"};b.g3c={G4c:"UX",s_c:"Combined_1",t_c:"Combined_2"};},28131:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L,K,M,P,I,O,Q,T,U,X,Y,W,Z,ba,ca,da,ia,S,N,V,aa,fa,ha,ka,pa,oa,la,R,ea,ja,sa,ta,qa,Aa,Ga,na,va,xa;Object.defineProperty(b,"__esModule",{value:!0});b.YC=void 0;t=a(22674);d=a(63368);n=a(30869);c=a(53085);f=a(62665);g=a(10306);e=a(61909);h=a(11629);k=a(67525);l=a(691);m=a(84408);p=a(6405);q=a(2248);r=a(74870);u=a(42207);v=a(15160);w=a(59818);x=a(67572);y=a(53399);A=a(33543);z=a(30033);B=a(24900);C=a(4734);D=a(76564);E=a(31811);H=a(55099);F=a(88490);G=a(57180);J=a(9002);L=a(81918);K=a(58098);M=a(76928);P=a(69997);I=a(90597);O=a(85125);Q=a(87386);T=a(87061);U=a(84183);X=a(77134);Y=a(1639);W=a(91591);Z=a(69216);ba=a(49721);ca=a(45842);da=a(22365);ia=a(78789);S=a(20483);N=a(77687);V=a(6214);aa=a(31298);fa=a(4203);ha=a(91581);ka=a(79274);pa=a(22816);oa=a(66057);la=a(44720);R=a(95947);ea=a(4246);ja=a(84130);sa=a(34043);ta=a(61453);qa=a(90030);Aa=a(2010);Ga=a(75236);na=a(76892);va=a(33258);xa=a(19699);b.YC=new t.Ce(function(ra){ra(d.Mia).vN(function(){return {};}).sa();ra(d.PV).Sp(JSON);ra(d.Zib).Sp(Ba);ra(g.whb).Sp(Math);ra(d.kbb).Sp(da.ria);ra(d.Kia).Sp(da.qC);ra(d.wib).Sp(da.cW);ra(d.P7a).Sp(Date);ra(d.I5).Sp(da.zg);ra(d.PYb).Sp(da.HO);ra(T.l7a).to(U.fAa).sa();ra(L.ie).to(J.iza).sa();ra(n.Li).to(l.gAa).sa();ra(c.Dl).to(e.IGa).sa();ra(f.iF).to(h.fCa).sa();ra(w.sF).to(C.cGa).sa();ra(g.dja).to(k.kGa).sa();ra(I.hC).to(P.xAa).sa();ra(I.Q7a).to(O.wAa).sa();ra(m.AF).to(y.KHa).sa();ra(p.YN).to(A.Cza).sa();ra(q.om).to(z.Dza).sa();ra(r.Bm).to(B.LHa).sa();ra(u.Mi).Sp(D.vO);ra(la.m4).to(R.oBa).sa();ra(v.pBa).to(E.rm).CTa();ra(v.nha).to(E.rm).sa();ra(v.a8a).to(E.rm).sa();ra(v.FBa).to(E.rm).sa();ra(F.thb).to(G.wW).sa();ra(K.A7a).to(M.kAa).sa();ra(X.AW).to(Y.Fja).sa();ra(X.D5).to(Y.Fja).sa();ra("Factory<LoggerFactory>").UPb(Q.zb);ra(W.AAa).to(Z.zAa).sa();ra(ca.uJ).$f(function(ya){return function(Ca){return new ba.nHa(ya.Jb.get(L.ie),ya.Jb.get(c.Dl),Ca);};});ra(sa.mha).$f(function(ya){return function(Ca){return new ta.vAa(ya.Jb.get(c.Dl),Ca);};});ra(ia.aGa).WUc(S.Sia);ra(ia.c0b).$f(function(ya){var Ca;Ca=ya.Jb.get(ia.aGa);return function(){return new Ca(!1);};});ra(ia.d0b).$f(function(ya){var Ca;Ca=ya.Jb.get(ia.aGa);return function(){return new Ca(!0);};});ra(N.tib).$f(function(){return function(ya){return new V.uib(ya);};});ra(ka.P5).$f(function(ya){return function(Ca,Ja,Ka){return new aa.Reb(ya.Jb.get(I.hC),ya.Jb.get(fa.Ic),ya.Jb.get(ha.Bt),Ca,Ja,Ka);};});ra(x.sdb).$f(function(){return function(ya){return new H.tdb(ya);};});ra(pa.oV).to(oa.Kza);ra(Ga.Kja).to(na.HHa).sa();ra(Ga.vib).to(na.GHa).sa();ra(ea.j6).$f(function(ya){return function(Ca,Ja){return new ja.qHa(ya.Jb.get(c.Dl),Ca,Ja);};});ra(qa.W8a).to(Aa.jBa).sa();ra(va.Xza).to(xa.Vza).sa();});},90030:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cj="_ANY_";b.W8a="EnricherSymbol";},15160:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.pBa="EventSourceSymbol";b.FBa="GlobalEventSourceSymbol";b.nha="DebugEventSourceSymbol";b.a8a="DiagnosticsEventSourceSymbol";},44720:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.m4="EventSourceFactorySymbol";},62665:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.iF="IdProviderSymbol";},42207:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mi="IsTypeSymbol";},43193:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.QV={};t[t.XZc=8]="Backspace";t[t.v4c=9]="Tab";t[t.A0c=13]="Enter";t[t.g4c=16]="Shift";t[t.x_c=17]="Ctrl";t[t.rZc=18]="Alt";t[t.c3c=19]="PauseBreak";t[t.p_c=20]="CapsLock";t[t.C0c=27]="Escape";t[t.j4c=32]="Space";t[t.b3c=33]="PageUp";t[t.a3c=34]="PageDown";t[t.z0c=35]="End";t[t.f1c=36]="Home";t[t.A1c=37]="LeftArrow";t[t.H4c=38]="UpArrow";t[t.v3c=39]="RightArrow";t[t.$_c=40]="DownArrow";t[t.v1c=45]="Insert";t[t.Q_c=46]="Delete";t[t.V4c=48]="Zero";t[t.O2c=49]="One";t[t.y4c=50]="Two";t[t.w4c=51]="Three";t[t.Y0c=52]="Four";t[t.W0c=53]="Five";t[t.h4c=54]="Six";t[t.f4c=55]="Seven";t[t.y0c=56]="Eight";t[t.x2c=57]="Nine";t[t.gZc=65]="A";t[t.Oga=66]="B";t[t.c_c=67]="C";t[t.eVb=68]="D";t[t.E=69]="E";t[t.D0c=70]="F";t[t.DBa=71]="G";t[t.d1c=72]="H";t[t.g1c=73]="I";t[t.w1c=74]="J";t[t.uCa=75]="K";t[t.OXb=76]="L";t[t.nDa=77]="M";t[t.Y1c=78]="N";t[t.K2c=79]="O";t[t.Q2c=80]="P";t[t.Q=81]="Q";t[t.r3c=82]="R";t[t.x3c=83]="S";t[t.h1b=84]="T";t[t.z4c=85]="U";t[t.I4c=86]="V";t[t.N4c=87]="W";t[t.Q4c=88]="X";t[t.T4c=89]="Y";t[t.U4c=90]="Z";t[t.B1c=91]="LeftWindowKey";t[t.w3c=92]="RightWindowKey";t[t.c4c=93]="SelectKey";t[t.A2c=96]="Numpad0";t[t.B2c=97]="Numpad1";t[t.C2c=98]="Numpad2";t[t.D2c=99]="Numpad3";t[t.E2c=100]="Numpad4";t[t.F2c=101]="Numpad5";t[t.G2c=102]="Numpad6";t[t.H2c=103]="Numpad7";t[t.I2c=104]="Numpad8";t[t.J2c=105]="Numpad9";t[t.X1c=106]="Multiply";t[t.qZc=107]="Add";t[t.p4c=109]="Subtract";t[t.P_c=110]="DecimalPoint";t[t.Z_c=111]="Divide";t[t.E0c=112]="F1";t[t.I0c=113]="F2";t[t.J0c=114]="F3";t[t.K0c=115]="F4";t[t.L0c=116]="F5";t[t.M0c=117]="F6";t[t.N0c=118]="F7";t[t.O0c=119]="F8";t[t.P0c=120]="F9";t[t.F0c=121]="F10";t[t.G0c=122]="F11";t[t.H0c=123]="F12";t[t.y2c=144]="NumLock";t[t.a4c=145]="ScrollLock";t[t.d4c=186]="SemiColon";t[t.B0c=187]="Equals";t[t.u_c=188]="Comma";t[t.M_c=189]="Dash";t[t.e3c=190]="Period";t[t.X0c=191]="ForwardSlash";t[t.x4c=192]="Tilde";t[t.P2c=219]="OpenBracket";t[t.WZc=220]="BackSlash";t[t.r_c=221]="CloseBracket";t[t.q3c=222]="Quote";},67572:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.sdb="OneWayCounterFactorySymbol";},91591:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.AAa="DecoderTimeoutPathologistSymbol";},91581:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bt="PlatformSymbol";},63368:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zib="WindowTimersSymbol";b.PV="JSONSymbol";b.wib="UserAgentSymbol";b.I5="NavigatorSymbol";b.PYb="MediaSourceSymbol";b.kbb="LocationSymbol";b.P7a="DateSymbol";b.Kia="PerformanceSymbol";b.Mia="PlatformExtraInfoSymbol";},79274:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.P5="PlayerErrorFactorySymbol";},78789:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.aGa="PrioritizedSetOfListsSymbol";b.c0b="PrioritizedSetOfListsFactorySymbol";b.d0b="PrioritizedSetOfSetsFactorySymbol";},59818:function(t,b){function a(d){var n;n=Error.call(this,"TimeoutError");this.message=n.message;("stack" in n) && (this.stack=n.stack);this.interval=d;}Object.defineProperty(b,"__esModule",{value:!0});b.sF=b.jx=void 0;Ia(a,Error);b.jx=a;b.sF="PromiseTimerSymbol";},10306:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.whb="SystemRandomSymbol";b.dja="RandomGeneratorSymbol";},53085:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dl="SchedulerSymbol";},88490:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.thb="StringUtilsSymbol";},14423:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.iHa=void 0;n=a(22365);d.Wxb=function(){var c;c=n.kJ && n.kJ.height;return c?1080 <= c?1080:720:720;};b.iHa=d;},45842:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.uJ="ThrottleFactorySymbol";},4246:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.j6="TimeoutMonitorFactorySymbol";},77134:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.AW="TimingApiSymbol";b.D5="MilestoneTimingApiSymbol";},77687:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tib="UrlFactorySymbol";},84408:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.AF="Utf8EncoderSymbol";},74870:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bm="UtilitiesSymbol";},36258:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.oeb="PboPlaydataValidatorSymbol";b.keb="PboPlaydataArrayValidatorSymbol";b.leb="PboPlaydataCollectionValidatorSymbol";},63156:function(t,b){var d,n,c,f;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Yu=b.nb=b.Pn=void 0;(function(g){g[g.Er=0]="STANDARD";g[g.dJ=1]="LIMITED";g[g.U2c=2]="PREVIEW";})(d || (d={}));(function(g){g[g.HAVE_NOTHING=0]="HAVE_NOTHING";g[g.HAVE_METADATA=1]="HAVE_METADATA";g[g.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";g[g.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";g[g.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(n || (n={}));(function(g){g.xTb="asl_start";g.vTb="asl_comp";g.oZc="asl_exc";g.wTb="asl_fail";g.S0b="stf_creat";g.gXb="idb_open";g.dXb="idb_block";g.nXb="idb_upgr";g.mXb="idb_succ";g.eXb="idb_error";g.fXb="idb_invalid_state";g.iXb="idb_open_timeout";g.kXb="idb_open_wrkarnd";g.lXb="idb_storelen_exc";g.hXb="idb_open_exc";g.jXb="idb_timeout_invalid_storelen";g.FYb="msl_load_data";g.HYb="msl_load_no_data";g.GYb="msl_load_failed";})(c || (b.Pn=c={}));(function(g){g.EEa="PlaybackRequestStart";g.DEa="PlaybackRequestEnd";g.aja="RequestPrefetchManifestStart";g.$ia="RequestPrefetchManifestEnd";g.Zia="RequestManifestStart";g.Yia="RequestManifestEnd";g.Xia="RequestLicenseStart";g.Wia="RequestLicenseEnd";g.P3="RequestTimedTextUrlStart";g.O3="RequestTimedTextUrlEnd";g.N3="RequestAudioUrlStart";g.M3="RequestAudioUrlEnd";g.R3="RequestVideoUrlStart";g.Q3="RequestVideoUrlEnd";g.Gya="AppendBufferStart";g.Fya="AppendBufferEnd";g.yGa="SetMediaKeysStart";g.xGa="SetMediaKeysEnd";g.Dha="GenerateChallengeStart";g.Cha="GenerateChallengeEnd";g.Bga="ApplyLicenseStart";g.Aga="ApplyLicenseEnd";})(f || (b.nb=f={}));b.Yu=a;a.Pn=c;a.bJ=n;},36129:function(t,b){var a,d,n;Object.defineProperty(b,"__esModule",{value:!0});b.fF=b.$8a=b.Z8a=b.mBa=b.Y8a=b.zha=b.nia=b.Oha=b.uWb=b.Y=b.da=void 0;(function(c){c[c.zh=7001]="UNKNOWN";c[c.hib=7002]="UNHANDLED_EXCEPTION";c[c.qXb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";c[c.OWb=7004]="HLS_NOT_SUPPORTED";c[c.bCa=7010]="INIT_ASYNCCOMPONENT";c[c.uXb=7011]="INIT_HTTP";c[c.oXb=7014]="INIT_BADMOVIEID";c[c.O$a=7020]="INIT_PLAYBACK_LOCK";c[c.P$a=7022]="INIT_SESSION_LOCK";c[c.vXb=7029]="INIT_POSTAUTHORIZE";c[c.N$a=7031]="INIT_HEADER_MEDIA";c[c.wXb=7034]="INIT_TIMEDTEXT_TRACK";c[c.oTb=7037]="ASE_SESSION_ERROR";c[c.nTb=7038]="ASE_SEEK_THREW";c[c.pTb=7039]="ASE_SKIPPED_THREW";c[c.qTb=7040]="ASE_UNDERFLOW_THREW";c[c.rXb=7041]="INIT_CORE_OBJECTS1";c[c.sXb=7042]="INIT_CORE_OBJECTS2";c[c.tXb=7043]="INIT_CORE_OBJECTS3";c[c.H$a=7053]="INIT_COMPONENT_STORAGE";c[c.I$a=7054]="INIT_COMPONENT_STORAGELOCK";c[c.D$a=7058]="INIT_COMPONENT_MAINTHREADMONITOR";c[c.cCa=7059]="INIT_COMPONENT_DEVICE";c[c.E$a=7063]="INIT_COMPONENT_MSL";c[c.C$a=7066]="INIT_COMPONENT_LOGBLOBBATCHER";c[c.cJ=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";c[c.M$a=7083]="INIT_COMPONENT_WEBCRYPTO";c[c.B$a=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";c[c.z$a=7088]="INIT_COMPONENT_BATTERY_MANAGER";c[c.y$a=7089]="INIT_COMPONENT_ASE";c[c.l1c=7091]="INIT_COMPONENT_DRM_CACHE";c[c.pXb=7092]="INIT_COMPONENT_DRM";c[c.A$a=7094]="INIT_COMPONENT_FTL";c[c.F$a=7095]="INIT_COMPONENT_PREPARE_MODEL";c[c.J$a=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";c[c.K$a=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";c[c.L$a=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";c[c.G$a=7099]="INIT_COMPONENT_SOCKETROUTER";c[c.BO=7111]="MANIFEST";c[c.ZXb=7114]="MANIFEST_MISTMATCH";c[c.wbb=7117]="MANIFEST_VERIFY";c[c.R0b=7120]="START";c[c.Bab=7121]="LICENSE";c[c.u3c=7122]="RELEASE";c[c.Z5=7123]="STOP";c[c.mab=7125]="KEEPALIVE";c[c.i_b=7131]="PING";c[c.oWb=7134]="ENGAGE";c[c.TXb=7137]="LOGBLOB";c[c.wdb=7138]="PAUSE";c[c.Kfb=7139]="RESUME";c[c.qgb=7140]="SPLICE";c[c.STb=7142]="BIND";c[c.TTb=7144]="BIND_DEVICE";c[c.FWb=7145]="GENERATE_SCREENSHOTS";c[c.y4a=7146]="AD_EVENT";c[c.k_b=7147]="PLAYER_RESTART";c[c.hTb=7148]="ALE_PROVISION_FAILURE";c[c.F3c=7200]="SOCKET_ROUTER_FAILURE";c[c.o_b=7202]="PLAY_INIT_EXCEPTION";c[c.FEa=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";c[c.v_b=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";c[c.Fdb=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";c[c.w_b=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";c[c.GEa=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";c[c.u_b=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";c[c.Hdb=7351]="PLAY_MSE_NOTSUPPORTED";c[c.Edb=7353]="PLAY_MSE_DECODER_TIMEOUT";c[c.HEa=7355]="PLAY_MSE_SOURCEADD";c[c.p_b=7356]="PLAY_MSE_CREATE_MEDIAKEYS";c[c.y_b=7357]="PLAY_MSE_GENERATEKEYREQUEST";c[c.Gdb=7361]="PLAY_MSE_EVENT_ERROR";c[c.Idb=7362]="PLAY_MSE_SETMEDIAKEYS";c[c.Fia=7363]="PLAY_MSE_EVENT_KEYERROR";c[c.x_b=7364]="PLAY_MSE_EME_SESSION_CLOSE";c[c.z_b=7365]="PLAY_MSE_GETCURRENTTIME";c[c.A_b=7367]="PLAY_MSE_SETCURRENTTIME";c[c.B_b=7371]="PLAY_MSE_SOURCEAPPEND";c[c.F_b=7375]="PLAY_MSE_UNEXPECTED_SEEKING";c[c.E_b=7376]="PLAY_MSE_UNEXPECTED_SEEKED";c[c.D_b=7377]="PLAY_MSE_UNEXPECTED_REWIND";c[c.C_b=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";c[c.Kdb=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";c[c.q_b=7391]="PLAY_MSE_CREATE_MEDIASOURCE";c[c.r_b=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";c[c.s_b=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";c[c.R2c=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";c[c.S2c=7395]="PLAY_MSE_EME_MISSING_PSSH";c[c.T2c=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";c[c.t_b=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";c[c.Jdb=7399]="PLAY_MSE_SET_LICENSE_ERROR";c[c.G8a=7400]="EXTERNAL";c[c.Eia=7500]="PAUSE_TIMEOUT";c[c.Rha=7502]="INACTIVITY_TIMEOUT";c[c.yTb=7510]="AUTHORIZATION_EXPIRED";c[c.iWb=7700]="EME_INVALID_KEYSYSTEM";c[c.v8a=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";c[c.SAa=7702]="EME_CREATE_MEDIAKEYS_FAILED";c[c.vha=7703]="EME_GENERATEREQUEST_FAILED";c[c.B8a=7704]="EME_UPDATE_FAILED";c[c.f0c=7705]="EME_KEYSESSION_ERROR";c[c.z8a=7706]="EME_KEYMESSAGE_EMPTY";c[c.q0c=7707]="EME_REMOVE_FAILED";c[c.i0c=7708]="EME_LOAD_FAILED";c[c.gWb=7709]="EME_CREATE_SESSION_FAILED";c[c.UAa=7710]="EME_LDL_RENEWAL_ERROR";c[c.x8a=7711]="EME_INVALID_INITDATA_DATA";c[c.y8a=7712]="EME_INVALID_LICENSE_DATA";c[c.h0c=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";c[c.u8a=7716]="EME_CLOSE_FAILED";c[c.VAa=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";c[c.lWb=7718]="EME_SET_SERVER_CERTIFICATE";c[c.j_b=7800]="PLAYDATA_STORE_FAILURE";c[c.G3=7900]="BRANCH_PLAY_FAILURE";c[c.H3=7901]="BRANCH_QUEUE_FAILURE";c[c.h6a=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";c[c.$Tb=7903]="BRANCH_CHOICE_MAP_MISSING";c[c.UZb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a || (b.da=a={}));(function(c){c[c.zh=1001]="UNKNOWN";c[c.wr=1003]="EXCEPTION";c[c.AXb=1004]="INVALID_DI";c[c.tTb=1011]="ASYNCLOAD_EXCEPTION";c[c.uTb=1013]="ASYNCLOAD_TIMEOUT";c[c.nZc=1015]="ASYNCLOAD_BADCONFIG";c[c.rTb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";c[c.sTb=1017]="ASYNCLOAD_COMPONENT_MISSING";c[c.c5=1101]="HTTP_UNKNOWN";c[c.UBa=1102]="HTTP_XHR";c[c.Y4=1103]="HTTP_PROTOCOL";c[c.X4=1104]="HTTP_OFFLINE";c[c.b5=1105]="HTTP_TIMEOUT";c[c.rO=1106]="HTTP_READTIMEOUT";c[c.qO=1107]="HTTP_ABORT";c[c.a$a=1108]="HTTP_PARSE";c[c.X9a=1110]="HTTP_BAD_URL";c[c.Z4=1111]="HTTP_PROXY";c[c.tDa=1203]="MSE_AUDIO";c[c.uDa=1204]="MSE_VIDEO";c[c.AYb=1250]="MSE_MEDIA_ERR_BASE";c[c.K1c=1251]="MSE_MEDIA_ERR_ABORTED";c[c.N1c=1252]="MSE_MEDIA_ERR_NETWORK";c[c.L1c=1253]="MSE_MEDIA_ERR_DECODE";c[c.O1c=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";c[c.M1c=1255]="MSE_MEDIA_ERR_ENCRYPTED";c[c.AV=1260]="EME_MEDIA_KEYERR_BASE";c[c.o0c=1261]="EME_MEDIA_KEYERR_UNKNOWN";c[c.j0c=1262]="EME_MEDIA_KEYERR_CLIENT";c[c.n0c=1263]="EME_MEDIA_KEYERR_SERVICE";c[c.m0c=1264]="EME_MEDIA_KEYERR_OUTPUT";c[c.l0c=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";c[c.k0c=1266]="EME_MEDIA_KEYERR_DOMAIN";c[c.p0c=1269]="EME_MEDIA_UNAVAILABLE_CDM";c[c.hWb=1270]="EME_INTERNAL_ERROR";c[c.fWb=1271]="EME_CLOSED_BY_APPLICATION";c[c.jWb=1272]="EME_RELEASE_ACKNOWLEDGED";c[c.TAa=1273]="EME_HARDWARE_CONTEXT_RESET";c[c.kWb=1274]="EME_RESOURCE_EVICTED";c[c.d0c=1280]="EME_ERROR_NODRMSESSSION";c[c.c0c=1281]="EME_ERROR_NODRMREQUESTS";c[c.b0c=1282]="EME_ERROR_INDIV_FAILED";c[c.e0c=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";c[c.s0c=1284]="EME_TIMEOUT_MESSAGE";c[c.r0c=1285]="EME_TIMEOUT_KEYCHANGE";c[c.A8a=1286]="EME_UNDEFINED_DATA";c[c.wha=1287]="EME_INVALID_STATE";c[c.g0c=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";c[c.w8a=1289]="EME_EMPTY_DATA";c[c.i4=1290]="EME_TIMEOUT";c[c.f2c=1303]="NCCP_METHOD_NOT_SUPPORTED";c[c.i2c=1305]="NCCP_PARSEXML";c[c.I_b=1309]="PROCESS_EXCEPTION";c[c.h2c=1311]="NCCP_NETFLIXID_MISSING";c[c.j2c=1312]="NCCP_SECURENETFLIXID_MISSING";c[c.c2c=1313]="NCCP_HMAC_MISSING";c[c.b2c=1315]="NCCP_HMAC_MISMATCH";c[c.a2c=1317]="NCCP_HMAC_FAILED";c[c.$1c=1321]="NCCP_CLIENTTIME_MISSING";c[c.Z1c=1323]="NCCP_CLIENTTIME_MISMATCH";c[c.t9a=1331]="GENERIC";c[c.ZYb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";c[c.$Yb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";c[c.k2c=1341]="NCCP_TRANSACTION";c[c.d2c=1343]="NCCP_INVALID_DRMTYPE";c[c.e2c=1344]="NCCP_INVALID_LICENCE_RESPONSE";c[c.g2c=1345]="NCCP_MISSING_PAYLOAD";c[c.Z2c=1346]="PROTOCOL_NOT_INITIALIZED";c[c.Y2c=1347]="PROTOCOL_MISSING_FIELD";c[c.X2c=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";c[c.vF=1402]="STORAGE_NODATA";c[c.I3c=1403]="STORAGE_EXCEPTION";c[c.Q3c=1405]="STORAGE_QUOTA_NOT_GRANTED";c[c.R3c=1407]="STORAGE_QUOTA_TO_SMALL";c[c.tgb=1411]="STORAGE_LOAD_ERROR";c[c.T0b=1412]="STORAGE_LOAD_TIMEOUT";c[c.ugb=1414]="STORAGE_SAVE_ERROR";c[c.W0b=1415]="STORAGE_SAVE_TIMEOUT";c[c.EGa=1417]="STORAGE_DELETE_ERROR";c[c.sgb=1418]="STORAGE_DELETE_TIMEOUT";c[c.P3c=1421]="STORAGE_FS_REQUESTFILESYSTEM";c[c.M3c=1423]="STORAGE_FS_GETDIRECTORY";c[c.O3c=1425]="STORAGE_FS_READENTRIES";c[c.J3c=1427]="STORAGE_FS_FILEREAD";c[c.L3c=1429]="STORAGE_FS_FILEWRITE";c[c.K3c=1431]="STORAGE_FS_FILEREMOVE";c[c.N3c=1432]="STORAGE_FS_PARSEJSON";c[c.V0b=1451]="STORAGE_NO_LOCALSTORAGE";c[c.U0b=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";c[c.u2c=1501]="NTBA_UNKNOWN";c[c.t2c=1502]="NTBA_EXCEPTION";c[c.p2c=1504]="NTBA_CRYPTO_KEY";c[c.r2c=1506]="NTBA_CRYPTO_OPERATION";c[c.q2c=1508]="NTBA_CRYPTO_KEYEXCHANGE";c[c.s2c=1515]="NTBA_DECRYPT_UNSUPPORTED";c[c.H7a=1553]="DEVICE_NO_ESN";c[c.nVb=1555]="DEVICE_ERROR_GETTING_ESN";c[c.T0c=1701]="FORMAT_UNKNOWN";c[c.zWb=1713]="FORMAT_XML";c[c.U0c=1715]="FORMAT_XML_CONTENT";c[c.R0c=1721]="FORMAT_BASE64";c[c.S0c=1723]="FORMAT_DFXP";c[c.bXb=1801]="INDEXDB_OPEN_EXCEPTION";c[c.w$a=1802]="INDEXDB_NOT_SUPPORTED";c[c.aXb=1803]="INDEXDB_OPEN_ERROR";c[c.x$a=1804]="INDEXDB_OPEN_NULL";c[c.$Wb=1805]="INDEXDB_OPEN_BLOCKED";c[c.cXb=1807]="INDEXDB_OPEN_TIMEOUT";c[c.ZWb=1808]="INDEXDB_INVALID_STORE_STATE";c[c.Sha=1809]="INDEXDB_ACCESS_EXCEPTION";c[c.IYb=1901]="MSL_UNKNOWN";c[c.R1c=1911]="MSL_INIT_NO_MSL";c[c.Ebb=1913]="MSL_INIT_ERROR";c[c.EYb=1915]="MSL_INIT_NO_WEBCRYPTO";c[c.CYb=1931]="MSL_ERROR";c[c.Gbb=1933]="MSL_REQUEST_TIMEOUT";c[c.Fbb=1934]="MSL_READ_TIMEOUT";c[c.DYb=1935]="MSL_ERROR_HEADER";c[c.P1c=1936]="MSL_ERROR_ENVELOPE";c[c.Q1c=1937]="MSL_ERROR_MISSING_PAYLOAD";c[c.Dbb=1957]="MSL_ERROR_REAUTH";c[c.VHa=2103]="WEBCRYPTO_MISSING";c[c.O4c=2105]="WEBCRYPTOKEYS_MISSING";c[c.M1b=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";c[c.d_c=2200]="CACHEDDATA_PARSEJSON";c[c.CUb=2201]="CACHEDDATA_UNSUPPORTED_VERSION";c[c.e_c=2202]="CACHEDDATA_UPGRADE_FAILED";c[c.Uga=2203]="CACHEDDATA_INVALID_FORMAT";c[c.jZc=3E3]="ACCOUNT_CHANGE_INFLIGHT";c[c.kZc=3001]="ACCOUNT_INVALID";c[c.L_c=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";c[c.K_c=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";c[c.I_c=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";c[c.J_c=3201]="DOWNLOADED_LICENSE_UNUSEABLE";c[c.H_c=3202]="DOWNLOADED_LICENSE_EXCEPTION";c[c.S3c=3300]="STORAGE_VA_LOAD_ERROR";c[c.T3c=3301]="STORAGE_VA_LOAD_TIMEOUT";c[c.W3c=3302]="STORAGE_VA_SAVE_ERROR";c[c.X3c=3303]="STORAGE_VA_SAVE_TIMEOUT";c[c.U3c=3304]="STORAGE_VA_REMOVE_ERROR";c[c.V3c=3305]="STORAGE_VA_REMOVE_TIMEOUT";c[c.BEa=3077]="PBO_DEVICE_EOL_WARNING";c[c.xdb=3078]="PBO_DEVICE_EOL_FINAL";c[c.Adb=3100]="PBO_DEVICE_RESET";c[c.zdb=3101]="PBO_DEVICE_RELOAD";c[c.ydb=3102]="PBO_DEVICE_EXIT";c[c.g_b=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";c[c.JZb=5005]="PBO_ACCOUNT_ON_HOLD";c[c.SZb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";c[c.CEa=5007]="PBO_INCORRECT_PIN";c[c.d_b=5008]="PBO_MOBILE_ONLY";c[c.h_b=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";c[c.KZb=5010]="PBO_ADS_UNAVAILABLE_VIEWABLE";c[c.NZb=5011]="PBO_ADS_UNSUPPORTED_DEVICE";c[c.LZb=5012]="PBO_ADS_UNSUPPORTED_CLIENT_APP_VERSION";c[c.MZb=5013]="PBO_ADS_UNSUPPORTED_COUNTRY";c[c.OZb=5014]="PBO_ADS_VPN_USE_DETECTED";c[c.a_b=5015]="PBO_LIVE_STREAMING_UNSUPPORTED_DEVICE";c[c.$Zb=5016]="PBO_LIVE_STREAMING_UNSUPPORTED_APP_VERSION";c[c.TZb=5017]="PBO_CONTENT_PREVIEW_MFA_REQUIRED_EXCEPTION";c[c.YZb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";c[c.QZb=5059]="PBO_BLACKLISTED_IP";c[c.PZb=5070]="PBO_AGE_VERIFICATION_REQUIRED";c[c.RZb=5080]="PBO_CHOICE_MAP_ERROR";c[c.e_b=5090]="PBO_RESTRICTED_TO_TESTERS";c[c.b_b=5091]="PBO_MALFORMED_REQUEST";c[c.ZZb=5092]="PBO_INVALID_SERVICE_VERSION";c[c.c_b=5093]="PBO_MDX_INVALID_CTICKET";c[c.XZb=5094]="PBO_FREE_PREVIEW_ENDED";c[c.f_b=5095]="PBO_STREAMING_LOCATION_DISALLOWED";c[c.WZb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";c[c.VZb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";c[c.hVb=5100]="DECODER_TIMEOUT_BUFFERING";c[c.jVb=5101]="DECODER_TIMEOUT_PRESENTING";c[c.iVb=5102]="DECODER_TIMEOUT_PLAYING";c[c.PVb=5200]="DOWNLOADER_IO_ERROR";c[c.g6a=5300]="BRANCHING_SEGMENT_NOTFOUND";c[c.WTb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";c[c.JZc=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";c[c.Bza=5303]="BRANCHING_ASE_UNINITIALIZED";c[c.FZc=5304]="BRANCHING_ASE_FAILURE";c[c.GZc=5305]="BRANCHING_MOMENT_FAILURE";c[c.UTb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";c[c.IZc=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";c[c.XTb=5308]="BRANCHING_SEEK_THREW";c[c.HZc=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";c[c.VTb=5310]="BRANCHING_PLAY_TIMEDOUT";c[c.YTb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";c[c.ZTb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";c[c.X0b=5500]="STUDIO_MUXED_MANIFEST";c[c.pDa=5600]="MANIFEST_HYDRATION_FAILURE";c[c.ATb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";c[c.BTb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";c[c.zTb=5702]="AUXILIARY_MANIFEST_ADBREAK_HYDRATION_FATAL_ERROR";})(d || (b.Y=d={}));(function(c){c[c.UZc=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";c[c.KZc=5005]="BR_ACCOUNT_ON_HOLD";c[c.OZc=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";c[c.RZc=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";c[c.NZc=5059]="BR_BLACKLISTED_IP";c[c.LZc=5070]="BR_AGE_VERIFICATION_REQUIRED";c[c.SZc=2204]="BR_PLAYBACK_CONTEXT_CREATION";c[c.PZc=2205]="BR_DRM_LICENSE_AQUISITION";c[c.TZc=2206]="BR_PLAYBACK_SERVICE_ERROR";c[c.QZc=2207]="BR_ENDPOINT_ERROR";c[c.MZc=2208]="BR_AUTHORIZATION_ERROR";})(n || (b.uWb=n={}));b.Oha={gUb:"400",rib:"401",Xdb:"413"};b.nia={fa:1,Hr:2,pg:3,Oe:4,k5:5,li:6,jd:7,j4:8,hGa:9,oja:10};b.zha=function(c,f,g,e){return c == a.Eia || c == a.Rha || c == a.FEa && 432E5 <= g || c == a.VAa && f === d.TAa && 0 < Number(e);};b.Y8a=function(c){return 1100 <= c && 1199 >= c;};b.mBa=function(c,f){return 1 <= c && 9 >= c?f + c:f;};b.Z8a=function(c){return (0,b.mBa)(c,d.AYb);};b.$8a=function(c){return (0,b.mBa)(c,d.AV);};b.fF=function(c){var f,g,e;f={};g=c.errorExternalCode || c.Ng;e=c.errorDetails || c.ef;f.ErrorSubCode=c.errorSubCode || c.Ua || d.zh;g && (f.ErrorExternalCode=g);e && (f.ErrorDetails=e);return f;};},9002:function(t,b,a){var n,c,f,g;function d(e,h){this.Na=e;this.Yoa=this.Na.Mg.oa(f.za) - 1;this.MAc=this.Cra=0;this.id="" + h.yG();}Object.defineProperty(b,"__esModule",{value:!0});b.iza=void 0;t=a(22970);n=a(22674);c=a(30869);f=a(5021);a=a(62665);d.prototype.yc=function(){var e,h;e=this.Na.Mg.oa(f.za) - this.Yoa;if(e < this.Cra){h=this.Cra + 1;this.Yoa-=h - e;e=h;}this.Cra=e;return (0,f.ic)(this.Cra);};d.prototype.brc=function(){return this.MAc++;};Ha.Object.defineProperties(d.prototype,{wH:{configurable:!0,enumerable:!0,get:function(){return (0,f.ic)(this.Yoa);}}});g=d;b.iza=g;b.iza=g=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.Li)),t.__param(1,(0,n.v)(a.iF))],g);},33543:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.Cza=void 0;t=a(22970);a=a(22674);n={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};d.prototype.decode=function(f){for(var g=new Uint8Array(f.length / 2),e=0;e < g.length;e++)g[e]=this.XPb(f.substr(2 * e,2));return g;};d.prototype.encode=function(f){var k;for(var g="",e=f.length,h=0;h < e;h++){k=f[h];g+=("0123456789ABCDEF")[k >>> 4] + ("0123456789ABCDEF")[k & 15];}return g;};d.prototype.Voa=function(f,g){var e;e="";for(g<<=1;g--;)(e=(("0123456789ABCDEF")[f & 15] || "0") + e,f>>>=4);return e;};d.prototype.XPb=function(f){var g;g=f.length;if(7 < g)throw Error("hex to long");for(var e=0,h=0;h < g;h++)e=16 * e + n[f[h]];return e;};c=d;b.Cza=c;b.Cza=c=t.__decorate([(0,a.aa)()],c);},30033:function(t,b,a){var n,c,f,g,e,h,k,l;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.Dza=void 0;t=a(22970);a=a(22674);c=Array.prototype.slice;f=c.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");c=c.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");g={};e={};h={};k={};l=/\s+/g;[f,c].forEach(function(m){var q;for(var p=m.length;p--;){q=m[p];g[q]=p << 18;e[q]=p << 12;h[q]=p << 6;k[q]=p;}});d.prototype.encode=function(m){return n.jPa(m,f,"=");};d.prototype.decode=function(m){return n.cOa(m);};d.cOa=function(m){var p,q,r;m=m.replace(l,"");p=m.length;q=m.charAt(p - 1);"=" !== q && "." !== q || p--;q=m.charAt(p - 1);"=" !== q && "." !== q || p--;q=3 * (p >> 2);r=0;switch(p % 4){case 2:r=1;break;case 3:r=2;break;case 1:throw Error("bad base64");}p=new Uint8Array(q + r);for(var u=0,v=0,w;v < q;){w=g[m[u++]] + e[m[u++]] + h[m[u++]] + k[m[u++]];if(!(0 <= w && 16777215 >= w))throw Error("bad base64");p[v++]=w >>> 16;p[v++]=w >>> 8 & 255;p[v++]=w & 255;}if(0 < r && (w=g[m[u++]] + e[m[u++]],p[v++]=w >>> 16,1 < r && (w+=h[m[u++]],p[v++]=w >>> 8 & 255),!(0 <= w && 16776960 >= w && 0 === (w & (1 < r?255:65535)))))throw Error("bad base64");return p;};d.jPa=function(m,p,q){for(var r="",u=0,v=m.length,w=v - 2,x;u < w;){x=(m[u++] << 16) + (m[u++] << 8) + m[u++];if(!(0 <= x && 16777215 >= x))throw Error("not bytes");r+=p[x >>> 18] + p[x >>> 12 & 63] + p[x >>> 6 & 63] + p[x & 63];}if(u == w){x=(m[u++] << 8) + m[u++];if(!(0 <= x && 65535 >= x))throw Error("not bytes");r+=p[x >>> 10] + p[x >>> 4 & 63] + p[x << 2 & 63] + q;}else if(u == v - 1){x=m[u++];if(!(0 <= x && 255 >= x))throw Error("not bytes");r+=p[x >>> 2] + p[x << 4 & 63] + q + q;}return r;};c=n=d;b.Dza=c;b.Dza=c=n=t.__decorate([(0,a.aa)()],c);},66057:function(t,b,a){var n,c,f,g,e,h;function d(k,l,m){this.userAgentData=m;this.Le=this.hmc(k,l.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.K1b=b.Kza=void 0;t=a(22970);n=a(22674);c=a(4203);f=a(83767);g=a(63368);a=a(75236);d.prototype.Zpa=function(k,l){var m;if(l=this.Gtc(l))switch(k){case h.CH:m=0 < l.length?Number(l[0]):0;break;case h.m0:m=1 < l.length?Number(l[1]):0;break;case h.$0:m=2 < l.length?Number(l[2]):0;break;case h.Xva:m=3 < l.length?Number(l[3]):0;}return void 0 === m || isNaN(m)?0:m;};d.prototype.Gtc=function(k){return null === k || void 0 === k?void 0:k.split(".");};d.prototype.vL=function(k){return this.Le.name === k;};d.prototype.QR=function(k){return this.Le.eua.name === k;};d.prototype.jxc=function(k){return this.Le.uuc === k;};d.prototype.hmc=function(k,l){return Object.assign(Object.assign({uuc:this.jmc(k,l)},this.gmc(k,l)),{eua:this.lmc(k,l)});};d.prototype.jmc=function(k,l){return l && l.hardware?l.hardware:(/Mobile|iPhone/).test(k)?c.d5.phone:(/Android/).test(k)?c.d5.hUc:c.d5.Qcc;};d.prototype.gmc=function(k,l){return l && l.name && l.version?{name:l.name,version:l.version}:(/OPR/).test(k)?{name:c.Ln.opera,version:""}:(/Tesla/).test(k)?{name:c.Ln.BPb,version:""}:(/Quest/).test(k)?{name:c.Ln.JJb,version:""}:(l=k.match(/Edge\/(\d*)\./))?{name:c.Ln.Ov,version:l[1]}:(l=k.match(/Edg\/(\d*)\./))?{name:c.Ln.mtb,version:l[1]}:(l=k.match(/Chrome\/(\d*)\./))?{name:c.Ln.EMa,version:l[1]}:(l=k.match(/Firefox\/(\d*)\./))?{name:c.Ln.mvb,version:l[1]}:(k=k.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:c.Ln.MLb,version:k[1]}:{name:c.Ln.EMa,version:""};};d.prototype.lmc=function(k,l){return l && l.os && l.os.name && l.os.version?{name:l.os.name,version:l.os.version}:(/CrOS/).test(k)?{name:c.Ar.lpb,version:""}:(l=k.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:c.Ar.vDb,version:l[1] + "." + l[2] + "." + l[3]}:(/Windows NT/).test(k)?{name:c.Ar.p4a,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(k) || (/Android.*Chrome\/[.0-9]* /).test(k)?{name:c.Ar.YKa,version:""}:(/Linux/).test(k)?{name:c.Ar.LCb,version:""}:(/iPhone/).test(k)?{name:c.Ar.CAb,version:""}:{name:c.Ar.p4a,version:""};};Ha.Object.defineProperties(d.prototype,{LAb:{configurable:!0,enumerable:!0,get:function(){return this.vL(c.Ln.EMa);}},hUa:{configurable:!0,enumerable:!0,get:function(){return this.vL(c.Ln.Ov);}},Xqa:{configurable:!0,enumerable:!0,get:function(){return this.vL(c.Ln.mtb);}},ara:{configurable:!0,enumerable:!0,get:function(){return this.vL(c.Ln.mvb);}},xUa:{configurable:!0,enumerable:!0,get:function(){return this.vL(c.Ln.opera);}},gba:{configurable:!0,enumerable:!0,get:function(){return this.vL(c.Ln.MLb);}},mBb:{configurable:!0,enumerable:!0,get:function(){return this.vL(c.Ln.BPb);}},jra:{configurable:!0,enumerable:!0,get:function(){return this.vL(c.Ln.JJb);}},Maa:{configurable:!0,enumerable:!0,get:function(){return this.QR(c.Ar.YKa);}},OR:{configurable:!0,enumerable:!0,get:function(){return this.QR(c.Ar.CAb);}},Rqa:{configurable:!0,enumerable:!0,get:function(){return this.QR(c.Ar.YKa) && this.jxc(c.d5.phone);}},Oaa:{configurable:!0,enumerable:!0,get:function(){return this.QR(c.Ar.lpb);}},pUa:{configurable:!0,enumerable:!0,get:function(){return this.QR(c.Ar.LCb);}},AD:{configurable:!0,enumerable:!0,get:function(){return this.QR(c.Ar.vDb);}},VA:{configurable:!0,enumerable:!0,get:function(){return this.QR(c.Ar.p4a);}},Fv:{configurable:!0,enumerable:!0,get:function(){return this.Zpa(h.CH,this.Le.version);}},OGc:{configurable:!0,enumerable:!0,get:function(){return this.Zpa(h.CH,this.Le.eua.version);}},PGc:{configurable:!0,enumerable:!0,get:function(){return this.Zpa(h.m0,this.Le.eua.version);}},QGc:{configurable:!0,enumerable:!0,get:function(){return this.Zpa(h.$0,this.Le.eua.version);}}});e=d;b.Kza=e;b.Kza=e=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(g.wib)),t.__param(1,(0,n.v)(f.uO)),t.__param(2,(0,n.v)(a.Kja))],e);(function(k){k[k.CH=0]="major";k[k.m0=1]="minor";k[k.$0=2]="patch";k[k.Xva=3]="revision";})(h || (b.K1b=h={}));},19699:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q;function d(r,u,v,w,x,y){this.kt=r;this.config=v;this.Ip=w;this.Na=x;this.is=y;this.log=u.wb("CachedErrors");}Object.defineProperty(b,"__esModule",{value:!0});b.Vza=b.Wza=void 0;t=a(22970);c=a(22674);f=a(36129);g=a(87386);e=a(5021);h=a(17892);k=a(4203);l=a(59818);m=a(30869);p=a(42207);q=a(17612);b.Wza="errors";d.prototype.load=function(){var r,u;r=this;if(!this.config().xtb)return Promise.resolve([]);u=(0,e.ic)(this.config().I$b);return this.Ip.Us(u,this.aDb([])).catch(function(v){r.log.error("Load failed.",v);return [];});};d.prototype.add=function(r,u,v,w,x){var y;y=this;return this.config().xtb && u && v && q.mb.v_(u)?this.aDb([{time:r,keySystem:u,code:v,subCode:w,extCode:x}]).then(function(){}).catch(function(A){y.log.error("Add failed.",A);}):Promise.resolve();};d.prototype.qAc=function(){var r;r=this;return this.kt.create().then(function(u){return u.load(b.Wza).then(function(v){var w;return (null === (w=v.value) || void 0 === w?void 0:w.errors) || [];}).catch(function(v){if(v.Ua === f.Y.vF)return (r.log.warn("No CachedErrors."),[]);throw v;});});};d.prototype.aoc=function(r){return {time:(0,e.Zi)(r[0]),keySystem:r[1],code:r[2],subCode:r[3],extCode:r[4]};};d.UUc=function(r){return [r.time.oa(e.cv),r.keySystem,r.code,r.subCode,r.extCode];};d.prototype.COc=function(r){var u;u={version:1,errors:r.map(n.UUc)};return this.kt.create().then(function(v){return v.save(b.Wza,u,!1);}).then(function(){return r;});};d.prototype.Lmc=function(r){var u,v;u=(0,e.Zi)(this.config().H$b);v=this.Na.Mg.ea(u);return r.filter(function(w){return w.time.ea(v).DUa();});};d.prototype.oXc=function(r){return r.filter(this.Pwc.bind(this)).map(this.aoc);};d.prototype.Pwc=function(r){return this.is.Xo(r[0]) && this.is.Jt(r[1]) && this.is.Xo(r[2]) && (this.is.Xo(r[3]) || void 0 === r[3]) && (this.is.Jt(r[4]) || void 0 === r[4])?!0:!1;};d.prototype.Hmc=function(r){var u;u=this;return r.filter(function(v){return u.config().Ilc.includes(v.code);});};d.prototype.Imc=function(r){return r.slice(-this.config().F$b);};d.prototype.aDb=function(r){var u;u=this;return this.qAc().then(function(v){return u.oXc(v);}).then(function(v){return u.Lmc(v);}).then(function(v){return v.concat(r);}).then(function(v){return u.Hmc(v);}).then(function(v){return u.Imc(v);}).then(function(v){return u.COc(v);});};a=n=d;b.Vza=a;b.Vza=a=n=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(h.QI)),t.__param(1,(0,c.v)(g.zb)),t.__param(2,(0,c.v)(k.Ic)),t.__param(3,(0,c.v)(l.sF)),t.__param(4,(0,c.v)(m.Li)),t.__param(5,(0,c.v)(p.Mi))],a);},31149:function(t,b,a){var n;function d(c,f,g,e,h,k,l,m,p,q,r,u,v,w){this.code=void 0 === c?n.da.zh:c;this.subCode=f;this.extCode=g;this.ltb=e;this.NH=h;this.message=k;this.details=l;this.data=m;this.tPa=p;this.AIc=q;this.alert=r;this.SKa=u;this.Zd=v;this.Yca=w;this.success=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.se=void 0;n=a(36129);d.jj=function(c){var f,g,e;if(c){f=c.stack;g=c.number;e=c.message;e || (e="" + c);f?(c="" + f,0 !== c.indexOf(e) && (c=e + "\n" + c)):c=e;g && (c+="\nnumber:" + g);return c;}return "";};d.prototype.n9=function(c){this.details=d.jj(c);this.data=c;};d.prototype.toString=function(){return JSON.stringify(this.toJSON());};d.prototype.toJSON=function(){return {code:this.code,subCode:this.subCode,extCode:this.extCode,edgeCode:this.ltb,mslCode:this.NH,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.tPa,playbackServiceError:this.AIc};};d.Uoa=function(c,f){return new d(c,n.Y.wr,void 0,void 0,void 0,void 0,f.message,f.stack);};d.PSb=function(c,f){return new d(c,f,void 0,void 0,void 0,void 0,void 0,void 0);};d.sYc=function(c,f,g){return new d(c,f,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,g);};b.se=d;},84183:function(t,b,a){var n,c,f,g;function d(e){return c.nV.call(this,e,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.fAa=void 0;t=a(22970);n=a(12501);c=a(64174);f=a(22674);a=a(83767);Ia(d,c.nV);Ha.Object.defineProperties(d.prototype,{QRb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});g=d;b.fAa=g;t.__decorate([n.config(n.qd,"usePerformanceApi")],g.prototype,"QRb",null);b.fAa=g=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(a.jAa))],g);},691:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m,p,q){var r;r=this;this.config=l;this.chc=m;this.jc=p;this.performance=q;this.mGc=function(u){r.I0a=u.ea(r.Mg);};(0,n.nw)(this,"date");(0,n.nw)(this,"performance");this.s7b=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.I0a=c.ia;this.jc.addListener(k.nCa.MMb,this.mGc);}Object.defineProperty(b,"__esModule",{value:!0});b.gAa=void 0;t=a(22970);n=a(66523);c=a(5021);f=a(22674);g=a(63368);e=a(87061);h=a(15160);k=a(85001);d.prototype.U6b=function(l){return l.add(this.I0a);};Ha.Object.defineProperties(d.prototype,{Mg:{configurable:!0,enumerable:!0,get:function(){return this.hFb?(0,c.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,c.ic)(this.chc.now());}},pI:{configurable:!0,enumerable:!0,get:function(){return this.Mg.add(this.I0a);}},hFb:{configurable:!0,enumerable:!0,get:function(){return this.config.QRb && this.s7b;}}});a=d;b.gAa=a;b.gAa=a=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(e.l7a)),t.__param(1,(0,f.v)(g.P7a)),t.__param(2,(0,f.v)(h.FBa)),t.__param(3,(0,f.v)(g.Kia)),t.__param(3,(0,f.optional)())],a);},76928:function(t,b,a){var n,c,f,g;function d(e,h){this.is=e;this.Rf=h;}Object.defineProperty(b,"__esModule",{value:!0});b.kAa=void 0;t=a(22970);c=a(22674);f=a(42207);a=a(74870);d.prototype.encode=function(e){var h,k;h=this;k="";this.Rf.NQ(e,function(l,m){l=h.Ktb(l) + "=" + h.Ktb(m);k=k?k + ("," + l):l;});return k;};d.prototype.Ktb=function(e){return this.is.HY(e)?this.is.Xo(e)?"" + e:this.is.Jt(e)?(e=e.replace(n.qKb,this.iWa.bind(this)),!n.jLc.test(e) && n.BDc.test(e) && (e='"' + e + '"'),e):this.is.Zka(e)?"" + e:this.is.dKa(e)?"NaN":"":"";};d.prototype.iWa=function(e){return n.map[e];};g=n=d;b.kAa=g;g.map={'"':'""',"\r":"","\n":" "};g.qKb=/(?!^.+)["\r\n](?=.+$)/g;g.jLc=/["].*["]/g;g.BDc=/[", ]/;b.kAa=g=n=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(f.Mi)),t.__param(1,(0,c.v)(a.Bm))],g);},61453:function(t,b,a){var n,c;function d(f,g){this.Cd=f;this.$ma=g;}Object.defineProperty(b,"__esModule",{value:!0});b.vAa=void 0;t=a(22970);n=a(22674);a=a(53085);d.prototype.ig=function(f){this.Zg();this.gm=this.Cd.Zq(this.$ma,f);};d.prototype.Zg=function(){this.gm && this.gm.cancel();this.gm=void 0;};c=d;b.vAa=c;b.vAa=c=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.Dl))],c);},85125:function(t,b,a){var n,c,f,g;function d(e){e=c.nV.call(this,e,"DebugConfigImpl") || this;e.b7c=function(){debugger;};return e;}Object.defineProperty(b,"__esModule",{value:!0});b.wAa=void 0;t=a(22970);n=a(12501);c=a(64174);f=a(22674);a=a(83767);Ia(d,c.nV);Ha.Object.defineProperties(d.prototype,{T9b:{configurable:!0,enumerable:!0,get:function(){return !1;}}});g=d;b.wAa=g;t.__decorate([n.config(n.qd,"breakOnError")],g.prototype,"T9b",null);b.wAa=g=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(a.jAa))],g);},69997:function(t,b,a){var n,c,f,g;function d(e,h,k){this.config=e;this.ec=h;this.wa=k.wb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.xAa=void 0;t=a(22970);n=a(22674);c=a(42207);f=a(90597);a=a(87386);d.prototype.assert=function(){};d.prototype.a8b=function(e,h){this.assert(this.ec.HY(e),h);};d.prototype.b8b=function(e,h){this.assert(this.ec.Ci(e),h);};d.prototype.Ola=function(e,h){this.assert(this.ec.Jt(e),h);};d.prototype.h8b=function(e,h){this.assert(this.ec.vx(e),h);};d.prototype.f8b=function(e,h){this.assert(this.ec.Jt(e) || null === e || void 0 === e,h);};d.prototype.Nla=function(e,h){this.assert(this.ec.Xo(e),h);};d.prototype.d8b=function(e,h){this.assert(this.ec.XKa(e),h);};d.prototype.g8b=function(e,h){this.assert(this.ec.I7(e),h);};d.prototype.e8b=function(e,h){this.assert(this.ec.n7(e),h);};d.prototype.$7b=function(e,h){this.assert(this.ec.Zka(e),h);};d.prototype.c8b=function(e,h){this.assert(this.ec.ala(e),h);};d.prototype.ywc=function(){this.assert(!1,"invalid operation, this method should not be called");};g=d;b.xAa=g;b.xAa=g=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.Q7a)),t.__param(1,(0,n.v)(c.Mi)),t.__param(2,(0,n.v)(a.zb))],g);},69216:function(t,b,a){var n,c,f,g,e,h,k,l,m;function d(p,q){this.Xa=p;this.config=q;}Object.defineProperty(b,"__esModule",{value:!0});b.zAa=void 0;t=a(22970);c=a(22674);f=a(81918);g=a(31149);e=a(36129);h=a(85001);k=a(5021);l=a(22365);a=a(21801);d.prototype.Csb=function(p){var q,r,u,v,w,x,y,A,z,B;q=this;v=p.mediaTime.value;w=p.Pt.value;x=p.Zb.value;y=p.state.value;A={segmentId:p.ZRa(),mediaTime:v,segmentTime:p.$K(),bufferingState:n.f$b[w],presentingState:n.PJc[x],playbackState:n.BIc[y],mseBuffersBusy:this.Rsc(p),intBuffersBusy:this.Cqc(p),tabVisible:this.gUc(),decodedFrameCount:this.vhc(p),videoElementInDom:this.HXc(p),lastVideoSync:this.Xa.yc().ea((0,k.ic)(p.ofa)).oa(k.za)};z=x === h.Nb.ph?p.qb.Pg?this.config.bHb:this.config.aHb:this.config.YEb;if(w !== h.mh.Cf){if((w=e.Y.hVb,this.cob(A.mseBuffersBusy,A.intBuffersBusy)))B=n.i6a;}else if((x !== h.Nb.rg?w=e.Y.jVb:(w=e.Y.iVb,(x=p.Xd) && 0 === x.ppa() && (B=n.R1b)),x=p.Xd))(A.mediaBuffered=x.JZ(),A.mediaBufferedSegments=x.KZ(),x.ac.sourceBuffers.forEach(function(C){var D,E;D=n.Hh[C.mediaType];A[D + "Ranges"]=C.gpa();try{E=C.buffered();}catch(H){E=void 0;}E && 0 !== E.length?(C=1E3 * E.end(0) - v,A[D + "Undecoded"]=C,1 < E.length && (B=n.bUb),v < 1E3 * E.start(0) || v > 1E3 * E.end(0)?B=n.cUb:C < z.oa(k.za)?B=n.dUb:q.cob(A.mseBuffersBusy,A.intBuffersBusy) && (B=n.i6a)):(A[D + "Undecoded"]=0,B=n.aUb);}));x=p.D_a.uSa();y=v === (null === (r=x.repositionTrace) || void 0 === r?void 0:r[0].newMediaTime);A.lastRepositionCausedTimeout=y;A.trackChangeInProgress=null === (u=p.bb) || void 0 === u?void 0:u.$2a;Object.assign(A,x);p="";try{p=JSON.stringify(A);}catch(C){p="Cannot stringify details: " + C;}return new g.se(e.da.Edb,w,B,void 0,void 0,void 0,p,void 0);};d.prototype.Rsc=function(p){var q;if(p.ac){q={};p.ac.sourceBuffers.forEach(function(r){q[0 === r.type?"audio":"video"]={updating:r.updating()};});return q;}};d.prototype.Cqc=function(p){var q;if(p.ac){q={};p.ac.sourceBuffers.forEach(function(r){q[0 === r.type?"audio":"video"]={updating:r.Oj()};});return q;}};d.prototype.gUc=function(){return !l.Ni.hidden;};d.prototype.vhc=function(p){return (p=p.Xd) && (p=p.ac.Ha) && void 0 !== p.webkitDecodedFrameCount?p.webkitDecodedFrameCount:NaN;};d.prototype.HXc=function(p){if(p=p.Xd)if(p=p.ac.Ha)return l.Ni.body.contains(p);return !1;};d.prototype.cob=function(p,q){var r,u,v,w;return !((null === (r=p.audio) || void 0 === r?void 0:r.updating) === (null === (u=q.audio) || void 0 === u?void 0:u.updating) && (null === (v=p.video) || void 0 === v?void 0:v.updating) === (null === (w=q.video) || void 0 === w?void 0:w.updating));};m=n=d;b.zAa=m;m.aUb="1";m.bUb="2";m.cUb="3";m.i6a="4";m.dUb="5";m.R1b="6";m.Hh=["Audio","Video"];m.f$b=["","NORMAL","BUFFERING","STALLED"];m.PJc=["","WAITING","PLAYING ","PAUSED","ENDED"];m.BIc=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];b.zAa=m=n=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(f.ie)),t.__param(1,(0,c.v)(a.$Da))],m);},2010:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.jBa=void 0;t=a(22970);n=a(22674);c=a(90030);d.prototype.jZ=function(f,g){var e;e=this;f && Object.entries(g).forEach(function(h){var k,l,m;k=Ea(h);h=k.next().value;k=k.next().value;if(e.Swc(k)){l=Ea(k);k=l.next().value;m=l.next().value;l=f[k];Array.isArray(l)?(e.nOa(f,h,k),l.forEach(function(p){e.jZ(p,m);})):k === c.Cj?Object.values(f).forEach(function(p){e.jZ(p,m);}):(e.nOa(f,h,k),"object" === typeof l && e.jZ(l,m));}else e.nOa(f,h,k);});};d.prototype.Swc=function(f){return Array.isArray(f);};d.prototype.nOa=function(f,g,e){f.hasOwnProperty(g) || g === e || Object.defineProperty(f,g,{get:function(){return f[e];},set:function(h){return f[e]=h;},enumerable:!0});};a=d;b.jBa=a;b.jBa=a=t.__decorate([(0,n.aa)()],a);},95947:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.m4=b.oBa=void 0;t=a(22970);n=a(31811);a=a(22674);d.prototype.create=function(){return new n.rm();};c=d;b.oBa=c;b.oBa=c=t.__decorate([(0,a.aa)()],c);b.m4="EventSourceFactorySymbol";},31811:function(t,b,a){var n,c;function d(){this.Tv={};this.id="$es$" + n.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.rm=void 0;t=a(22970);a=a(22674);d.prototype.addListener=function(f,g,e){var h,k;h="$netflix$player$order" + this.id + "$" + f;if(this.Tv){k=this.Tv[f]?this.Tv[f].slice():[];e && (g[h]=e);0 > k.indexOf(g) && (k.push(g),k.sort(function(l,m){return (l[h] || 0) - (m[h] || 0);}));this.Tv[f]=k;}};d.prototype.removeListener=function(f,g){if(this.Tv && this.Tv[f]){for(var e=this.Tv[f].slice(),h;0 <= (h=e.indexOf(g));)e.splice(h,1);this.Tv[f]=e;}};d.prototype.rd=function(f,g,e){var h;if(this.Tv){h=this.gRa(f);for(f={iV:0};f.iV < h.length;(f={iV:f.iV},f.iV++))e?(function(k){return function(){var l;l=h[k.iV];setTimeout(function(){l(g);},0);};})(f)():h[f.iV].call(this,g);}};d.prototype.Zg=function(){this.Tv=void 0;};d.prototype.on=function(f,g,e){this.addListener(f,g,e);};d.prototype.gRa=function(f){var g;return null !== (g=this.Tv && (this.Tv[f] || (this.Tv[f]=[]))) && void 0 !== g?g:[];};c=n=d;b.rm=c;c.counter=0;b.rm=c=n=t.__decorate([(0,a.aa)()],c);},11629:function(t,b,a){var n,c,f,g,e;function d(h,k){this.Na=h;this.random=k;}Object.defineProperty(b,"__esModule",{value:!0});b.fCa=void 0;t=a(22970);c=a(22674);f=a(5021);g=a(30869);a=a(10306);d.prototype.yG=function(){return this.Na.Mg.oa(f.cv) * n.W6a + Math.floor(this.random.random() * n.W6a);};d.prototype.Ffc=function(){for(var h=[],k=0;32 > k;k++)h.push(Math.floor(16 * this.random.random()).toString(16));return h.join("");};e=n=d;b.fCa=e;e.W6a=1E8;b.fCa=e=n=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(g.Li)),t.__param(1,(0,c.v)(a.dja))],e);},52657:function(t,b,a){var n;function d(c,f,g,e,h){this.version=c;this.aT=f;this.X1a=g;this.kt=e;this.Hfa=h;this.Ty=new n.U$a(c,f,g,e,h);this.Xr=[];}Object.defineProperty(b,"__esModule",{value:!0});b.T$a=void 0;n=a(14494);d.prototype.load=function(c){var f;f=this;return this.Ty.load(c).then(function(){var g;f.Xr=null !== (g=f.Ty.Xr) && void 0 !== g?g:[];});};d.prototype.add=function(c){this.Xr.push(c);return this.Ty.set(this.Xr);};d.prototype.remove=function(c,f){c=this.qwb(this.r$(c,f));return 0 <= c?(this.Xr.splice(c,1),this.Ty.set(this.Xr)):Promise.resolve();};d.prototype.update=function(c,f){f=this.qwb(this.r$(c,f));return 0 <= f?(this.Xr[f]=c,this.Ty.set(this.Xr)):Promise.resolve();};d.prototype.r$=function(c,f){for(var g=0;g < this.Xr.length;++g)if(f(this.Xr[g],c))return this.Xr[g];};d.prototype.qwb=function(c){return c?this.Xr.indexOf(c):-1;};b.T$a=d;},14494:function(t,b,a){var n,c;function d(f,g,e,h,k){this.version=f;this.aT=g;this.X1a=e;this.kt=h;this.Hfa=k;}Object.defineProperty(b,"__esModule",{value:!0});b.U$a=void 0;n=a(36129);c=a(31149);d.prototype.load=function(f){return this.pAc(f);};d.prototype.set=function(f){this.Xr=f;return this.fIc();};d.prototype.pAc=function(f){var g;g=this;this.eDb || (this.eDb=new Promise(function(e,h){function k(l){g.aic().then(function(){h(l);}).catch(function(){h(l);});}g.oSa().then(function(l){g.storage=l;return g.storage.load(g.aT);}).then(function(l){var m;l=l.value;try{m=f(l);g.version=m.version;g.Xr=m.data;e();}catch(p){k(p);}}).catch(function(l){l.Ua !== n.Y.vF?h(l):e();});}));return this.eDb;};d.prototype.fIc=function(){var f,g,e,h,k;f=this;if(!this.X1a)return Promise.resolve();if(this.gxa){h=new Promise(function(l,m){g=l;e=m;});k=function(){f.gxa=h;f.NOb().then(function(){g();}).catch(function(l){e(l);});};this.gxa.then(k).catch(k);return h;}return this.gxa=this.NOb();};d.prototype.NOb=function(){var f,g;f=this;g=this.Hfa();return new Promise(function(e,h){f.oSa().then(function(k){return k.save(f.aT,g,!1);}).then(function(){e();}).catch(function(k){h(d.VUc(n.da.j_b,k));});});};d.prototype.aic=function(){var f;f=this;return this.X1a?new Promise(function(g,e){f.oSa().then(function(h){return h.remove(f.aT);}).then(function(){g();}).catch(function(h){e(h);});}):Promise.resolve();};d.prototype.oSa=function(){return this.storage?Promise.resolve(this.storage):this.kt.create();};d.VUc=function(f,g){var e;if(g.Ua && g.Fc)return new c.se(f,g.Ua,void 0,void 0,void 0,void 0,void 0,g.Fc);if(void 0 !== g.subCode){e=g.message?g.message + " ":"";g.code=f;g.message="" === e?void 0:e;return g;}return g instanceof Error?new c.se(f,n.Y.wr,void 0,void 0,void 0,void 0,g.stack,g):new c.se(f,n.Y.zh,void 0,void 0,void 0,void 0,void 0,g);};b.U$a=d;},76564:function(t,b){var d;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.vO=void 0;d=/^\S+$/;a.prototype.HY=function(n){return void 0 !== n;};a.prototype.Ci=function(n){return null !== n && void 0 !== n;};a.prototype.H7=function(n){return a.Gmb(n);};a.prototype.eKa=function(n){return !(!n || !a.Gmb(n));};a.prototype.LP=function(n){return Array.isArray(n);};a.prototype.Hmb=function(n){return !(!n || n.constructor != Uint8Array);};a.prototype.Xo=function(n,c,f){return a.slb(n,c,f);};a.prototype.dKa=function(n){return a.dKa(n);};a.prototype.XKa=function(n,c,f){return a.Cla(n,c,f) && 0 === n % 1;};a.prototype.I7=function(n,c,f){return a.Cla(n,c || 0,f);};a.prototype.n7=function(n){return a.Cla(n,1);};a.prototype.t5b=function(n){return a.Cla(n,0,255);};a.prototype.u5b=function(n){return n === +n && (0 === n || n !== (n | 0)) && !0;};a.prototype.Imb=function(n){return !(!n || !d.test(n));};a.prototype.Jt=function(n){return a.tlb(n);};a.prototype.vx=function(n){return !(!a.tlb(n) || !n);};a.prototype.Zka=function(n){return !0 === n || !1 === n;};a.prototype.ala=function(n){return "function" == typeof n;};a.tlb=function(n){return "string" == typeof n;};a.slb=function(n,c,f){return "number" == typeof n && !isNaN(n) && isFinite(n) && (void 0 === c || n >= c) && (void 0 === f || n <= f);};a.dKa=function(n){return "number" == typeof n && isNaN(n);};a.Cla=function(n,c,f){return a.slb(n,c,f) && 0 === n % 1;};a.Gmb=function(n){return "object" == typeof n;};b.vO=new a();},81734:function(t,b,a){var n,c,f;function d(g,e){this.Em=e?[e]:[];this.C6="$op$" + f++;this.ib=g;}Object.defineProperty(b,"__esModule",{value:!0});b.wc=void 0;n=a(33096);c=a(45146);f=0;d.prototype.addListener=function(g,e){var h;h=this;(0,c.X8)(g);(0,c.va)(0 > this.Em.indexOf(g));g[n.Cia + this.C6]=e;this.Em=this.Em.slice();this.Em.push(g);this.Em.sort(function(k,l){return h.eSc(k,l);});};d.prototype.removeListener=function(g){var e;(0,c.X8)(g);this.Em=this.Em.slice();0 <= (e=this.Em.indexOf(g)) && this.Em.splice(e,1);};d.prototype.set=function(g,e){var h;if(this.ib !== g){h={oldValue:this.ib,newValue:g,Xm:e};this.ib=g;this.D2b=e;g=this.Em;e=g.length;for(var k=0;k < e;k++)g[k](h);}};d.prototype.when=function(g){var e;e=this;return new Promise(function(h){function k(l){if(g(l.newValue))return (e.removeListener(k),h(l.newValue));}if(g(e.ib))return h(e.ib);e.addListener(k);});};d.prototype.eSc=function(g,e){return (g[n.Cia + this.C6] || 0) - (e[n.Cia + this.C6] || 0);};Ha.Object.defineProperties(d.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.ib;}},Xm:{configurable:!0,enumerable:!0,get:function(){return this.D2b;}}});b.wc=d;},55099:function(t,b,a){var n;function d(c){this.Doc=c;this.fqa=!1;this.vqa=this.Kh=this.J2=0;this.Aaa=!1;this.wqa=0;}Object.defineProperty(b,"__esModule",{value:!0});b.tdb=void 0;n=a(32687);d.prototype.GKa=function(c){c < this.J2 && (this.Kh+=this.J2);this.J2=c;this.fqa=!0;};d.prototype.Cpc=function(){if(this.fqa)return this.Aaa?this.wqa - this.vqa:this.Kh + this.J2 - this.vqa;};d.prototype.refresh=function(){var c;c=this.Doc();(0,n.pc)(c) && this.GKa(c);};d.prototype.rSc=function(){this.Aaa || (this.fqa && (this.wqa=this.Kh + this.J2),this.Aaa=!0);};d.prototype.RSc=function(){this.Aaa && (this.fqa && (this.vqa+=this.Kh + this.J2 - this.wqa),this.wqa=0,this.Aaa=!1);};b.tdb=d;},72465:function(t,b){function a(d){this.value=d;}Object.defineProperty(b,"__esModule",{value:!0});b.zEa=void 0;a.empty=function(){return a.of(void 0);};a.of=function(d){return new a(d);};a.prototype.or=function(d){return void 0 === this.value?d instanceof Function?d():d:this.value;};a.prototype.map=function(d){return void 0 === this.value?a.empty():a.of(d(this.value));};b.zEa=a;},20483:function(t,b,a){var n;function d(c){this.u3b=void 0 === c?!1:c;this.Fg={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.Sia=void 0;t=a(22970);a=a(22674);d.prototype.add=function(c,f){var g;f=void 0 === f?0:f;g=this.Fg[f];g?this.u3b && -1 !== g.indexOf(c) || g.push(c):this.Fg[f]=[c];};d.prototype.remove=function(c,f){this.hq(c,void 0 === f?0:f);};d.prototype.removeAll=function(c){this.hq(c);};d.prototype.flatten=function(){var c;c=this;return Object.keys(this.Fg).sort().reduce(function(f,g){return f.concat(c.Fg[g]);},[]);};d.prototype.hq=function(c,f){Object.entries(this.Fg).forEach(function(g){var e,h;e=Ea(g);g=e.next().value;e=e.next().value;if(void 0 === f || f === parseInt(g)){-1 < (h=e.indexOf(c)) && e.splice(h,1);}});};n=d;b.Sia=n;b.Sia=n=t.__decorate([(0,a.aa)()],n);},94293:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uia=void 0;b.Uia=function(){var a;a=this;this.promise=new Promise(function(d,n){a.resolve=d;a.reject=n;});};},4734:function(t,b,a){var n,c,f;function d(g){this.Cd=g;}Object.defineProperty(b,"__esModule",{value:!0});b.cGa=void 0;t=a(22970);n=a(22674);c=a(53085);f=a(59818);d.prototype.Us=function(g,e){var h;h=this;return new Promise(function(k,l){var m;m=h.Cd.Zq(g,function(){l(new f.jx(g));});e.then(function(p){k(p);m.cancel();}).catch(function(p){l(p);m.cancel();});});};a=d;b.cGa=a;b.cGa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.Dl))],a);},67525:function(t,b,a){var n,c;function d(f){this.fUc=f;}Object.defineProperty(b,"__esModule",{value:!0});b.kGa=void 0;t=a(22970);n=a(22674);a=a(10306);d.prototype.random=function(){return this.fUc.random();};d.prototype.RJb=function(f,g){if("number" !== typeof f)(g=f.end,f=f.start);else if("undefined" === typeof g)throw Error("max must be provided for randomInteger API");return Math.round(f + this.random() * (g - f));};c=d;b.kGa=c;b.kGa=c=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.whb))],c);},74267:function(t,b){function a(d,n,c){if(null != c){if(0 < c(d,n))throw a.grb(d,n);}else if(d.Nl && 0 < d.Nl(n))throw a.grb(d,n);this.start=d;this.end=n;}Object.defineProperty(b,"__esModule",{value:!0});b.lGa=void 0;a.grb=function(d,n){return new RangeError("end [" + n + "] must be >= start [" + d + "]");};b.lGa=a;},61909:function(t,b,a){var c,f,g,e;function d(h){this.Hn=h;(0,f.nw)(this,"timers");}function n(h,k){this.Hn=h;this.Hac=k;}Object.defineProperty(b,"__esModule",{value:!0});b.IGa=void 0;t=a(22970);c=a(22674);f=a(66523);g=a(63368);e=a(5021);n.prototype.cancel=function(){this.Hac(this.Hn);};d.prototype.ig=function(h){return this.Zq(e.ia,h);};d.prototype.Zq=function(h,k){var l;l=this.Hn.setTimeout(k,h.oa(e.za));return new n(this.Hn,function(m){m.clearTimeout(l);});};d.prototype.ZT=function(h,k){var l;l=this.Hn.setInterval(k,h.oa(e.za));return new n(this.Hn,function(m){m.clearInterval(l);});};a=d;b.IGa=a;b.IGa=a=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(g.Zib))],a);},57180:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.wW=void 0;t=a(22970);a=a(22674);d.prototype.format=function(c,f){var e;for(var g=1;g < arguments.length;++g);e=Array.prototype.slice.call(arguments,1);return c.replace(/{(\d+)}/g,function(h,k){return "undefined" != typeof e[k]?e[k]:h;});};d.prototype.tTc=function(c){return JSON.stringify(c,null,"  ");};n=d;b.wW=n;b.wW=n=t.__decorate([(0,a.aa)()],n);},49721:function(t,b,a){var n,c,f,g;function d(e,h,k){var l;l=this;this.wi=e;this.Cd=h;this.$ma=k;this.O0=function(m){l.gm=void 0;l.yVc(m || l.$ma);};this.jCb=(0,f.ic)(-this.$ma.oa(f.za));}Object.defineProperty(b,"__esModule",{value:!0});b.nHa=void 0;t=a(22970);n=a(22674);c=a(81918);f=a(5021);a=a(53085);d.prototype.ig=function(e){this.n0a=e;this.gm=this.gm || this.Yh(this.O0);};d.prototype.Zg=function(){this.gm && this.gm.cancel();this.gm=void 0;};d.prototype.yVc=function(e){var h,k;h=this.wi.yc();if(this.n0a){k=e.ea(h.ea(this.jCb));0 >= k.Nl(f.ia)?(e=this.n0a,this.n0a=void 0,this.jCb=h,e()):this.gm=this.gm || this.Cd.Zq(k,this.O0.bind(this,e));}};d.prototype.Yh=function(e){return this.Cd.Zq(f.ia,e);};g=d;b.nHa=g;b.nHa=g=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.ie)),t.__param(1,(0,n.v)(a.Dl))],g);},84130:function(t,b,a){var n,c,f;function d(g,e,h){this.Cd=g;this.P2a=e;this.uD=h;}Object.defineProperty(b,"__esModule",{value:!0});b.qHa=void 0;t=a(22970);n=a(53085);c=a(22674);f=a(5021);d.prototype.MK=function(){this.gm || (this.gm=this.Cd.Zq((0,f.ic)(this.P2a),this.uD));};d.prototype.er=function(){this.gm && this.gm.cancel();this.gm=void 0;};a=d;b.qHa=a;b.qHa=a=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(n.Dl))],a);},1639:function(t,b,a){var n,c,f,g;function d(e,h){this.Xa=e;this.entries=new Set();this.wa=h.wb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Fja=void 0;t=a(22970);n=a(22674);c=a(81918);f=a(5021);a=a(87386);d.prototype.mark=function(e,h,k){e={name:e,$y:this.Xa.yc()};h && (e.Ia=h);k && (e.correlationId=k);this.entries.add(e);return e;};d.prototype.FRa=function(){var e;e=[];this.entries.forEach(function(h){return e.push(h);});return e;};d.prototype.rxb=function(e){return this.FRa().filter(function(h){return h.Ia === e;});};d.prototype.frc=function(){var e;e={};try{e=this.FRa().filter(function(h){return !h.Ia;}).reduce(function(h,k){h[k.name]=k.$y.oa(f.za);return h;},{});}catch(h){this.wa.error(" getMapOfCommonMarks exception",h);}return e;};d.prototype.BKb=function(e){var h;h=this;this.FRa().forEach(function(k){k.Ia === e && h.entries.delete(k);});};g=d;b.Fja=g;b.Fja=g=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.ie)),t.__param(1,(0,n.v)(a.zb))],g);},6214:function(t,b){function a(){this.searchParams={};}function d(n){this.Wr=n;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.uib=void 0;d.prototype.toString=function(){return this.href;};Ha.Object.defineProperties(d.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.Wr + this.searchParams.toString();}}});b.uib=d;a.prototype.get=function(n){return this.searchParams[n];};a.prototype.set=function(n,c){this.searchParams[n]=c;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(n,c,f){var g;g=Ea(c);c=g.next().value;g=g.next().value;return "" + n + (0 == f?"?":"&") + c + "=" + g;},"");};a.prototype.toJSON=function(){return this.searchParams;};},53399:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.KHa=void 0;t=a(22970);a=a(22674);d.prototype.encode=function(f){return n.jPa(f);};d.prototype.decode=function(f){return n.cOa(f);};d.jPa=function(f){if(!f)throw new TypeError("Invalid byte array");for(var g=0,e,h=f.length,k="";g < h;){e=f[g++];if(!(0 <= e && 255 >= e))throw Error("bad utf8");if(e & 128)if(192 === (e & 224))e=((e & 31) << 6) + (f[g++] & 63);else if(224 === (e & 240))e=((e & 15) << 12) + ((f[g++] & 63) << 6) + (f[g++] & 63);else throw Error("unsupported utf8 character");k+=String.fromCharCode(e);}return k;};d.cOa=function(f){var g,e,h,k,l;g=f.length;e=0;k=0;if(!(0 <= g))throw Error("bad string");for(h=g;h--;){l=f.charCodeAt(h);128 > l?e++:e=2048 > l?e + 2:e + 3;}e=new Uint8Array(e);for(h=0;h < g;h++)(l=f.charCodeAt(h),128 > l?e[k++]=l:(2048 > l?e[k++]=192 | l >>> 6:(e[k++]=224 | l >>> 12,e[k++]=128 | l >>> 6 & 63),e[k++]=128 | l & 63));return e;};c=n=d;b.KHa=c;b.KHa=c=n=t.__decorate([(0,a.aa)()],c);},24900:function(t,b,a){var n,c,f,g;function d(e,h){this.is=e;this.Ml=h;}Object.defineProperty(b,"__esModule",{value:!0});b.LHa=void 0;t=a(22970);n=a(22674);a(36129);c=a(42207);f=a(6405);g=a(22365);d.prototype.n0=function(e,h,k){var l,m,p,q;l=this;if(h)if(k){m=k.Mba;p=k.prefix;q=k.Yta;this.NQ(h,function(r,u){if(!q || l.is.Ci(u))e[(p || "") + (m?r.toLowerCase():r)]=u;});}else this.NQ(h,function(r,u){e[r]=u;});return e;};d.prototype.NQ=function(e,h){for(var k in e)e.hasOwnProperty(k) && h(k,e[k]);};d.prototype.D8=function(e,h){if(e.length == h.length){for(var k=e.length;k--;)if(e[k] != h[k])return !1;return !0;}return !1;};d.prototype.gdc=function(e,h){if(e.length != h.length)return !1;e.sort();h.sort();for(var k=e.length;k--;)if(e[k] !== h[k])return !1;return !0;};d.prototype.jj=function(e){var h,k,l;if(e){h=e.stack;k=e.number;l=e.message;l || (l="" + e);h?(e="" + h,0 !== e.indexOf(l) && (e=l + "\n" + e)):e=l;k && (e+="\nnumber:" + k);return e;}};d.prototype.getFunctionName=function(e){return (e=(/function (.{1,})\(/).exec(e.toString())) && 1 < e.length?e[1]:"";};d.prototype.xwb=function(e){return this.getFunctionName(e.constructor);};d.prototype.oGb=function(e){var h,k;h=this;k="";this.is.LP(e) || this.is.Hmb(e)?k=Array.prototype.reduce.call(e,function(l,m){return l + (32 <= m && 128 > m?String.fromCharCode(m):".");},""):this.is.Jt(e)?k=e:this.NQ(e,function(l,m){k+=(k?", ":"") + "{" + l + ": " + (h.is.ala(m)?h.getFunctionName(m) || "function":m) + "}";});return "[" + this.xwb(e) + " " + k + "]";};d.prototype.createElement=function(e,h,k,l){var m;m=g.Ni.createElement(e);h && (m.style.cssText=h);k && (m.innerHTML=k);l && this.NQ(l,function(p,q){m.setAttribute(p,q);});return m;};d.prototype.Gmc=function(e,h){return function(k){return k[e] === h;};};d.prototype.oua=function(e){var h;h={};(e || "").split("&").forEach(function(k){var l,m;k=k.trim();l=k.indexOf("=");if(0 <= l){m=decodeURIComponent(k.substr(0,l)).toLowerCase();h[m]=decodeURIComponent(k.substr(l + 1));}else h[k.toLowerCase()]=void 0;});return h;};a=d;b.LHa=a;b.LHa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.Mi)),t.__param(1,(0,n.v)(f.YN))],a);},38385:function(t,b,a){var d,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});b.qDb=void 0;d=a(80401);n=a(76989);t=a(22674);c=a(36410);f=a(87386);g=a(42790);b.qDb=new t.Ce(function(e){e(f.zb).to(n.hDa).sa();e(c.UV).to(d.jDa).sa();e(f.nbb).to(g.$Ca).sa();});},87386:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.Oo={};t[t.xWb=0]="FATAL";t[t.Wp=1]="ERROR";t[t.UHa=2]="WARN";t[t.e5=3]="INFO";t[t.Ahb=4]="TRACE";t[t.l=5]="DEBUG";b.nbb="LogFieldBuilderFactorySymbol";b.zb="LoggerFactorySymbol";b.sha={};},36410:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.UV="LoggerSinksSymbol";},34126:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.iDa=void 0;b.iDa=a;a.pVb="display";a.SUb="console";},22097:function(t,b,a){var n,c;function d(f,g,e,h,k,l,m){this.level=f;this.vd=g;this.timestamp=e;this.message=h;this.Nc=k;this.prefix=l;this.index=void 0 === m?0:m;this.pTc=this.sTc();}Object.defineProperty(b,"__esModule",{value:!0});b.C5a=void 0;n=a(5021);c={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};d.prototype.Gxa=function(f){f=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (f?"":" " + this.pTc);return (this.timestamp.oa(n.za) / 1E3).toFixed(3) + "|" + this.index + "|" + (c[this.level] || this.level) + "|" + this.vd + "| " + f;};d.prototype.sTc=function(){var h;for(var f=this.Nc.length,g="",e=0;e < f;++e){h=this.Nc[e].DB;e && g.length && (g+=" ");if("object" === typeof h){if(null === h)g+="null";else if(h instanceof Error)g+=this.rTc(h);else try{g+=JSON.stringify(h);}catch(k){g+=this.qTc(h);}}else g+=h;}return g;};d.prototype.rTc=function(f){return f.toString() + (f.stack?"\n" + f.stack:"") + "\n";};d.prototype.qTc=function(f){var g;g=[];return JSON.stringify(f,function(e,h){if("object" === typeof h && null !== h){if(-1 !== g.indexOf(h))return "<cycle>";g.push(h);}return h;});};b.C5a=d;},98895:function(t,b,a){var n,c;function d(f,g,e,h,k,l){f=n.TV.call(this,f,g,e,h) || this;f.groups=k;Array.isArray(l)?f.prefix=l:l && "string" === typeof l && (f.prefix=[],f.prefix.push(l));return f;}Object.defineProperty(b,"__esModule",{value:!0});b.D5a=void 0;n=a(29045);c=a(22097);Ia(d,n.TV);d.prototype.QJ=function(f,g,e){f=new c.C5a(f,this.vd,this.Xa.yc(),g,e,this.prefix);g=Ea(this.dt.dt);for(e=g.next();!e.done;e=g.next())(e=e.value,e(f));};d.prototype.iQ=function(f){return new d(this.Xa,this.qma,this.dt,f,this.groups,this.prefix);};b.D5a=d;},37960:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.i$b=function(a,d){var c;a=a.Zqc();for(var n=0;n < d.length;++n){c=d[n];void 0 != c && null != c && (c.Ki && (c=c.Ki),c.constructor === Uint8Array?a.G6b(c):"MediaRequest" === c.constructor.name?a.j6b(c):"string" === typeof c?a.C6b(c):"function" === typeof c?a.b6b(c):c instanceof Error?a.$5b(c):c instanceof Object && "function" === typeof c.toJSON?a.emb(c.toJSON()):c instanceof Object?a.emb(c):a.I6b(c));}return a.build();};},90694:function(t,b,a){var n;function d(c,f,g,e,h,k){this.level=c;this.vd=f;this.timestamp=g;this.message=e;this.Nc=h;this.index=void 0 === k?0:k;this.QXb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.ZCa=void 0;n=a(5021);d.prototype.Gxa=function(c){var f;f="" + this.message;this.Nc.forEach(function(g){f+=g.HU(c);});return (this.timestamp.oa(n.za) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.QXb[this.level] || this.level) + "|" + this.vd + "| " + f;};b.ZCa=d;},42790:function(t,b,a){var n,c,f,g;function d(e,h){this.Kd=e;this.Rf=h;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ca=void 0;t=a(22970);n=a(22674);c=a(14600);f=a(2248);a=a(74870);d.prototype.Zqc=function(){return new c.aDa(this.Kd,this.Rf);};g=d;b.$Ca=g;b.$Ca=g=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.om)),t.__param(1,(0,n.v)(a.Bm))],g);},14600:function(t,b,a){var m,p,q;function d(r,u){this.Kd=r;this.Rf=u;this.Nc=[];}function n(r){return l.call(this,r,function(u){return {Details:u};}) || this;}function c(r){return l.call(this,r,function(u){return JSON.parse(u.toJSON());}) || this;}function f(r,u){u=l.call(this,u,function(v){return {Base64:r.encode(v)};}) || this;u.Kd=r;return u;}function g(r,u){u=l.call(this,u,function(v){return v();}) || this;u.Rf=r;return u;}function e(r){return l.call(this,r,function(u){return {Exception:u.message || "" + u,StackTrace:u.stack || "nostack"};}) || this;}function h(r,u,v){u=l.call(this,u,v) || this;u.Rf=r;return u;}function k(r){return l.call(this,r,function(u){return {Details:u};}) || this;}function l(r,u){this.DB=r;this.value=u?u(r):r;}Object.defineProperty(b,"__esModule",{value:!0});b.aDa=void 0;t=a(22970);m=a(22674);p=a(74870);a=a(2248);l.prototype.I9=function(r){return this.DB === r;};Ia(k,l);k.prototype.HU=function(){return "\r\n" + this.DB;};Ia(h,l);h.prototype.HU=function(){var r;r="";this.Rf.NQ(this.value,function(u,v){try{r+=", " + u + ": " + v;}catch(w){try{r+=", " + u + ": " + JSON.stringify(v);}catch(x){r+=", error stringifying " + u;}}});return r.replace(/[\r\n]+ */g," ");};Ia(e,l);e.prototype.HU=function(r){var u;u="\r\n" + this.DB.message;r || (u+="\r\n" + this.DB.stack);return u;};Ia(g,l);g.prototype.HU=function(){var r;r="";this.Rf.NQ(this.value,function(u,v){r+=", " + u + ": " + v;});return r.replace(/[\r\n]+ */g," ");};Ia(f,l);f.prototype.HU=function(){return this.DB?"\r\n" + this.Kd.encode(this.DB):"";};Ia(c,l);c.prototype.HU=function(){return this.DB?this.DB.toJSON():"";};Ia(n,l);n.prototype.HU=function(){return ", " + (this.DB.toString?"" + this.DB.toString():"");};d.prototype.C6b=function(r){this.Nc.push(new k(r));};d.prototype.emb=function(r){this.Nc.push(new h(this.Rf,r));};d.prototype.$5b=function(r){this.Nc.push(new e(r));};d.prototype.b6b=function(r){this.Nc.push(new g(this.Rf,r));};d.prototype.G6b=function(r){this.Nc.push(new f(this.Kd,r));};d.prototype.j6b=function(r){this.Nc.push(new c(r));};d.prototype.I6b=function(r){this.Nc.push(new n(r));};d.prototype.build=function(){return this.Nc;};q=d;b.aDa=q;b.aDa=q=t.__decorate([(0,m.aa)(),t.__param(0,(0,m.v)(a.om)),t.__param(1,(0,m.v)(p.Bm))],q);},76989:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m,p){this.Xa=l;this.dt=m;this.OVa=p;}Object.defineProperty(b,"__esModule",{value:!0});b.hDa=void 0;t=a(22970);n=a(29045);c=a(22674);f=a(51742);g=a(81918);e=a(36410);h=a(87386);k=a(98895);d.prototype.wb=function(l,m,p,q,r){p=void 0 === p?this.dt:p;return m?new f.Jeb(this.Xa,this.OVa,p,m,l):r?new k.D5a(this.Xa,this.OVa,p,l,q || "",r):new n.TV(this.Xa,this.OVa,p,l);};a=d;b.hDa=a;b.hDa=a=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(g.ie)),t.__param(1,(0,c.v)(e.UV)),t.__param(2,(0,c.v)(h.nbb))],a);},29045:function(t,b,a){var n,c,f;function d(g,e,h,k){this.Xa=g;this.qma=e;this.dt=h;this.vd=void 0 === k?"General":k;this.SMa={};}Object.defineProperty(b,"__esModule",{value:!0});b.TV=void 0;n=a(87386);c=a(90694);f=a(37960);d.prototype.Ulb=function(g,e){this.SMa[g]=e;};d.prototype.fatal=function(g,e){for(var h=[],k=1;k < arguments.length;++k)h[k - 1]=arguments[k];this.QJ(n.Oo.xWb,g,this.g3(g,h));};d.prototype.error=function(g,e){for(var h=[],k=1;k < arguments.length;++k)h[k - 1]=arguments[k];this.QJ(n.Oo.Wp,g,this.g3(g,h));};d.prototype.warn=function(g,e){for(var h=[],k=1;k < arguments.length;++k)h[k - 1]=arguments[k];this.QJ(n.Oo.UHa,g,this.g3(g,h));};d.prototype.info=function(g,e){for(var h=[],k=1;k < arguments.length;++k)h[k - 1]=arguments[k];this.QJ(n.Oo.e5,g,this.g3(g,h));};d.prototype.trace=function(g,e){for(var h=[],k=1;k < arguments.length;++k)h[k - 1]=arguments[k];this.QJ(n.Oo.Ahb,g,this.g3(g,h));};d.prototype.debug=function(g,e){for(var h=1;h < arguments.length;++h);!1;};d.prototype.log=function(g,e){for(var h=[],k=1;k < arguments.length;++k)h[k - 1]=arguments[k];this.debug.apply(this,[g].concat(za(h)));};d.prototype.write=function(g,e,h){for(var k=[],l=2;l < arguments.length;++l)k[l - 2]=arguments[l];this.QJ(g,e,this.g3(e,k));};d.prototype.toString=function(){return JSON.stringify(this);};d.prototype.toJSON=function(){return {category:this.vd};};d.prototype.iQ=function(g){return new d(this.Xa,this.qma,this.dt,g);};d.prototype.QJ=function(g,e,h){g=new c.ZCa(g,this.vd,this.Xa.yc(),e,h);e=Ea(this.dt.dt);for(h=e.next();!h.done;h=e.next())(h=h.value,h(g));};d.prototype.upc=function(g){return 0 < Object.keys(this.SMa).length?[this.SMa].concat(za(g)):g;};d.prototype.g3=function(g,e){var h;g && "null" !== g && "undefined" !== g || e.push({StackTrace:null !== (h=Error("Empty message").stack) && void 0 !== h?h:"nostack"});return (0,f.i$b)(this.qma,this.upc(e));};b.TV=d;},80401:function(t,b,a){var n;function d(){this.YNb={};this.dt=[];}Object.defineProperty(b,"__esModule",{value:!0});b.jDa=void 0;t=a(22970);a=a(22674);d.prototype.Bva=function(c,f){f && (this.YNb[c]=f,this.dt=Object.values(this.YNb));};n=d;b.jDa=n;b.jDa=n=t.__decorate([(0,a.aa)()],n);},51742:function(t,b,a){var n,c,f;function d(g,e,h,k,l){g=f.TV.call(this,g,e,h,l) || this;g.j=k;(0,n.nw)(g,"playback");return g;}Object.defineProperty(b,"__esModule",{value:!0});b.Jeb=void 0;n=a(66523);c=a(90694);f=a(29045);Ia(d,f.TV);d.prototype.iQ=function(g){return new d(this.Xa,this.qma,this.dt,this.j,g);};d.prototype.QJ=function(g,e,h){g=new c.ZCa(g,this.vd,this.Xa.yc(),e,h,this.j.index);e=Ea(this.dt.dt);for(h=e.next();!h.done;h=e.next())(h=h.value,h(g,this.j));};b.Jeb=d;},56371:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.cFb=void 0;t=a(22674);d=a(76193);n=a(25857);b.cFb=new t.Ce(function(c){c(d.xcb).to(n.YDa).sa();});},76193:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.xcb="MomentObserverFactory";},25857:function(t,b,a){var n,c,f;function d(g){this.Cd=g;}Object.defineProperty(b,"__esModule",{value:!0});b.YDa=void 0;t=a(22970);n=a(22674);c=a(89350);a=a(53085);d.prototype.Wqb=function(g,e){return new c.ycb(this.Cd,g,e);};f=d;b.YDa=f;b.YDa=f=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.Dl))],f);},89350:function(t,b){function a(d,n,c){this.Cd=d;this.config=n;this.getTime=c;}Object.defineProperty(b,"__esModule",{value:!0});b.ycb=void 0;a.prototype.observe=function(d,n){var c;c=this;this.cancel();this.gm=this.Cd.ZT(this.config.Sxb(),function(){c.getTime() >= d && (c.cancel(),n());});};a.prototype.cancel=function(){this.gm && (this.gm.cancel(),this.gm=void 0);};b.ycb=a;},64274:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.uad=function(a){return a;};b.Nba=function(a){return a;};b.vad=function(a){return Object.assign({},a);};},33194:function(t,b,a){var d,n,c,f,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.ba=void 0;t=a(22674);d=a(2911);n=a(93488);c=a(12242);f=a(71807);g=a(25830);e=a(49310);b.ba=new t.Ce(function(h){h(d.OGa).to(c.NGa).sa();h(n.Fgb).to(f.LGa).sa();h(g.Zhb).to(e.uHa).sa();});},93488:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fgb="SegmentConfigFactorySymbol";},2911:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.OGa="SegmentManagerFactorySymbol";},25830:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zhb="TransitionLoggerSymbol";},61494:function(t,b,a){var f,g,e,h;function d(k,l,m,p,q,r,u){var v;v=this;this.player=l;this.j=m;this.o0=p;this.Cd=q;this.zX=r;this.config=u;this.XX=function(){v.jM && (v.jM.cancel(),v.jM=void 0);};this.log=k.wb("SegmentManager",this.j);this.ba=new Map();this.j.qb.Pg && (this.j.addEventListener(e.ja.$M,function(w){return v.nB(w);}),this.j.addEventListener(e.ja.closed,this.XX));}function n(k,l){this.id=k;this.DMa=l;}function c(k,l,m,p){return g.se.call(this,k,m,void 0,void 0,void 0,l,void 0,p) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.z6a=void 0;f=a(36129);g=a(31149);e=a(85001);h=a(5021);Ia(c,g.se);c.prototype.toString=function(){return this.code + "-" + this.subCode + " : " + this.message + "\n" + JSON.stringify(this.data);};n.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.Ta,contentEndPts:this.cb};};Ha.Object.defineProperties(n.prototype,{Ta:{configurable:!0,enumerable:!0,get:function(){return this.DMa.startTimeMs;}},cb:{configurable:!0,enumerable:!0,get:function(){var k;return null !== (k=this.DMa.endTimeMs) && void 0 !== k?k:void 0;}},lB:{configurable:!0,enumerable:!0,get:function(){var k;return Object.keys(null !== (k=this.DMa.next) && void 0 !== k?k:{});}}});d.prototype.nB=function(k){var l;l=this;!1;k=k.position.segmentId;0 === this.ba.size && Object.entries(this.j.u$()).forEach(function(m){var p;p=Ea(m);m=p.next().value;p=p.next().value;l.ba.set(m,new n(m,p));});this.ga=this.ba.get(k);};d.prototype.play=function(k){this.t1 && (this.t1=void 0);this.XX();this.log.trace("Playing segment",k);return this.aBb(k)?this.wIc(k):this.cda(k);};d.prototype.gg=function(k){this.log.trace("Queueing segment",k);return this.aBb(k)?this.gLc(k):this.hLc(k);};d.prototype.xl=function(k,l){var m,p;m=this;p=this.j.bb;if(null === p || void 0 === p || !p.lk)return Promise.reject(this.getError(f.da.h6a,"ASE session manager is not yet initialized",f.Y.Bza,{segmentId:k,updates:l}));this.log.trace("Updating next segment weights",k,l);return new Promise(function(q,r){try{p.lWc(k,l);m.j.fireEvent(e.ja.A3a,{L:k,ERb:l});q();}catch(u){r(m.getError(f.da.h6a,"updateNextSegmentWeights threw an exception",f.Y.ZTb,{segmentId:k,updates:l,error:u}));}});};d.prototype.aBb=function(k){var l;return this.ga?void 0 !== (null === (l=this.j.u$()[this.ga.id].next) || void 0 === l?void 0:l[k]):!1;};d.prototype.cSa=function(){var k;k=this.j.bb;if(null === k || void 0 === k?0:k.lk)return k.ju().GIc;};d.prototype.hsc=function(){var k;k=this.j.bb;if(null === k || void 0 === k?0:k.lk)return k.ju().id;};d.prototype.opc=function(){var k;k=this.j.bb;if(null === k || void 0 === k?0:k.lk)return (k={MLa:0},k.MLa);};d.prototype.wIc=function(k){var l,m;l=this;m=this.j.bb;return null !== m && void 0 !== m && m.lk?this.ga && 1 === this.ga.lB.length?this.cda(k):this.j.Xd?void 0 === this.opc()?(this.log.error("playNextSegment: branchOffset missing",{segment:k}),this.cda(k)):new Promise(function(p,q){var w,x,y,A,z,B;function r(){!y && x && w && (B.cancel(),y=!0,l.log.trace("Telling ASE to choose the next segment",{id:k,stopped:x,repositioned:w,completed:y}),m.Gma(k,!1)?(p(),y=!0):(y=!0,l.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:k}),l.cda(k).then(p).catch(q)));}function u(){m.stop();w=!0;l.log.trace("Player is repositioned",{id:k,stopped:x,repositioned:w,completed:y});l.j.removeEventListener(e.ja.G1,u);r();}function v(){x=!0;l.log.trace("ASE is stopped",{id:k,stopped:x,repositioned:w,completed:y});m.removeEventListener("stop",v);r();}w=!1;x=!1;y=!1;A=l.ba.get(k);z=l.cSa();if(void 0 === z)return (l.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:k}),l.cda(k));l.log.trace("Seeking to next segment",JSON.stringify({segmentId:k,seekTo:z,currentSegment:l.ga,nextSegment:A},null,"  "));l.j.fireEvent(e.ja.jta,{Bi:l.ga && l.ga.id,v0:k});m.addEventListener("stop",v);l.j.addEventListener(e.ja.G1,u);B=l.Cd.Zq((0,h.Zi)(10),function(){y=!0;B.cancel();q(l.getError(f.da.G3,"Timed out waiting for the player to be repositioned and ASE to be stopped",f.Y.VTb,{id:k,stopped:x,repositioned:w,completed:y}));});l.player.seek(z,e.Mc.rW);}):(this.log.warn("MediaPresenter is not initialized",k),Promise.reject(this.getError(f.da.G3,"MediaPresenter is not initialized",f.Y.WTb,{id:k}))):Promise.reject(this.getError(f.da.G3,"ASE session manager is not yet initialized",f.Y.Bza,{id:k}));};d.prototype.cda=function(k){var l;l=this.ba.get(k);return l?this.rea(l,f.da.G3):Promise.reject(this.getError(f.da.G3,"Unable to find the separated segment",f.Y.g6a,{id:k}));};d.prototype.gLc=function(k){var l;l=this.j.bb;if(null === l || void 0 === l || !l.lk)return Promise.reject(this.getError(f.da.H3,"ASE session manager is not yet initialized",f.Y.Bza,{id:k}));this.j.fireEvent(e.ja.jta,{Bi:this.ga && this.ga.id,v0:k});if(l.Gma(k,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:k});return this.psb(k);};d.prototype.hLc=function(k){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:k,mid:this.j.R,srcsegment:this.hsc()});return this.psb(k);};d.prototype.psb=function(k){var l,m;l=this;if(this.t1)return Promise.reject(this.getError(f.da.H3,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",f.Y.YTb,{currentSegment:this.ga?this.ga.id:void 0,queuedSegment:this.t1.id,failedSegment:k}));if(!this.ga)return Promise.reject(this.getError(f.da.H3,"Unable to queue segment for delayed seek because there is no currently playing segment",f.Y.UTb,{nextSegmentid:k}));m=this.ba.get(k);if(!m)return Promise.reject(this.getError(f.da.H3,"Unable to find the separated segment",f.Y.g6a,{nextSegmentid:k,currentSegmentId:this.ga.id}));this.t1={id:k,promise:new Promise(function(p,q){var r;l.jM=l.o0.Wqb({Sxb:function(){return (0,h.ic)(100);}},function(){return l.player.rD() || 0;});r=l.cSa() - l.config().$Eb;l.log.trace("Adding moment for queued segment for delayed seek",{segment:k,pts:r});l.jM.observe(r,function(){l.log.trace("Moment has arrived, seek to segment",{segment:k,currentSegment:l.ga.id,playerEndPts:l.cSa(),pts:r});l.t1=void 0;l.XX();l.rea(m,f.da.H3).then(p).catch(q);});})};this.t1.promise.catch(function(p){l.j.wg(p.code,p);});return Promise.resolve();};d.prototype.rea=function(k,l){var m;m=this;return new Promise(function(p,q){var r;try{r=k.Ta;!1;m.player.seek(r,e.Mc.bv);p();}catch(u){q(m.getError(l,"Seek threw an exception",f.Y.XTb,{id:k.id,error:u}));}});};d.prototype.getError=function(k,l,m,p){this.log.warn(l,p);return new c(k,l,m,p);};b.z6a=d;},71807:function(t,b,a){var c,f;function d(){}function n(g,e,h,k,l){this.debug=g;this.version=e;this.xyc=h;this.tIc=k;this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.LGa=void 0;t=a(22970);c=a(22674);f=a(5021);n.prototype.tqc=function(){return this.config().groupName;};n.prototype.PQa=function(){return this.config().Znb;};n.prototype.Sxb=function(){return (0,f.ic)(this.config().WIc);};n.prototype.ixb=function(){return this.config().xAc;};n.prototype.qxb=function(){return this.config().sBc;};d.prototype.jR=function(g,e,h,k,l){return new n(g,e,h,k,l);};a=d;b.LGa=a;b.LGa=a=t.__decorate([(0,c.aa)()],a);},12242:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v;function d(w,x,y,A,z,B,C,D,E,H,F){this.Xa=w;this.uh=x;this.o0=y;this.e4a=A;this.eda=z;this.Cd=B;this.zX=C;this.Zj=D;this.CPa=E;this.Ok=H;this.config=F;}Object.defineProperty(b,"__esModule",{value:!0});b.NGa=void 0;t=a(22970);n=a(22674);c=a(81918);f=a(87386);g=a(76193);e=a(79274);h=a(51038);k=a(58872);l=a(64181);m=a(61494);p=a(24550);q=a(53085);r=a(95947);u=a(74870);a=a(4203);d.prototype.Ufc=function(w,x,y){return new l.Igb(this.Xa,this.uh,this.o0,this.e4a,x,w,this.Zj,this.eda,this.Ok,this.CPa,y);};d.prototype.dfc=function(w,x){return new m.z6a(this.uh,w,x,this.o0,this.Cd,this.zX,this.config);};v=d;b.NGa=v;b.NGa=v=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.ie)),t.__param(1,(0,n.v)(f.zb)),t.__param(2,(0,n.v)(g.xcb)),t.__param(3,(0,n.v)(k.Dib)),t.__param(4,(0,n.v)(h.Feb)),t.__param(5,(0,n.v)(q.Dl)),t.__param(6,(0,n.v)(p.C3)),t.__param(7,(0,n.v)(e.P5)),t.__param(8,(0,n.v)(r.m4)),t.__param(9,(0,n.v)(u.Bm)),t.__param(10,(0,n.v)(a.Ic))],v);},64181:function(t,b,a){var g,e,h;function d(k,l,m,p,q,r,u,v,w,x,y){var A;A=this;this.Xa=k;this.o0=m;this.$Ya=p;this.config=q;this.xb=r;this.Zj=u;this.eda=v;this.Ok=w;this.lm=y;this.Slc=Object.values(g.Za).map(function(z){return {event:z,uD:function(B){return A.jc.rd(z,B);}};});this.jc=x.create();this.HM=[];this.log=l.wb("SegmentManager");this.vA=!0;this.Iu=this.Ok.createElement("div",h.jGa);}function n(k,l,m,p,q,r,u,v,w,x,y){var A;A=this;this.log=k;this.config=l;this.SEc=m;this.$Ya=p;this.Zj=q;this.eda=r;this.Ju=u;this.K=v;this.Iu=w;this.xb=x;this.lm=y;this.XX=function(){A.jM && (A.jM.cancel(),A.jM=void 0);};this.TSa=function(z){A.log.trace("Received the transition event",{movieId:z.R});A.wLc();};this.HVa=function(){};this.log.debug("Constructing session data",c(v));this.QUc=new Promise(function(z){A.wLc=z;});}function c(k){return {movieId:k.R};}function f(k){return JSON.stringify({movieId:k.R,startPts:k.Hb,logicalEnd:k.pj,params:k.Cb?{trackingId:k.Cb.Jn,authParams:k.Cb.bma,sessionParams:k.Cb.dr,disableTrackStickiness:k.Cb.COa,uiPlayStartTime:k.Cb.cC,loadImmediately:k.Cb.Zra,playbackState:k.Cb.playbackState?{currentTime:k.Cb.playbackState.currentTime,volume:k.Cb.playbackState.volume,muted:k.Cb.playbackState.muted,playbackRate:k.Cb.playbackState.playbackRate}:void 0,pin:k.Cb.jIb,heartbeatCooldown:k.Cb.dTa,uiLabel:k.Cb.jf,uxLabels:k.Cb.bya}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.Igb=void 0;g=a(85001);e=a(5021);h=a(33096);n.prototype.load=function(k){var l,m;l=this;this.log.trace("Loading new segment",c(this.K));this.player=this.$Ya.mY(this.config,this.eda,this.Zj,this.K,this.xb,this.lm);this.player.addEventListener(g.Za.i_,function(p){l.log.trace("Segment is inactive",c(l.K));l.Ju.close(l.Zj(p.errorCode));});this.player.addEventListener(g.Za.closed,this.XX);this.player.addEventListener(g.Za.O2a,function(p){p.timecodes.forEach(function(q){"start" === q.type && k?(l.K.Hb=q.Wea,l.K.Cb.Hb=q.Wea):"ending" === q.type && (l.K.pj=q.Wea,l.K.Cb.pj=q.Wea);});l.K.id && l.K.pj && l.xb.wRb(l.K.id,l.K.pj);l.Ju.tRb(l.K);});if(k)(this.log.debug("Pausing background segment",c(this.K)),this.player.addEventListener(g.Za.HUa,this.TSa),this.player.UHb());else {this.Iu.appendChild(this.player.Dq());m=function(p){l.TSa(p);l.player.removeEventListener(g.Za.loaded,m);};this.player.addEventListener(g.Za.loaded,m);}};n.prototype.observe=function(){var k,l,m;k=this;this.log.trace("Observing segment",f(this.K));if(this.jM)this.log.trace("Segment is currently observing",c(this.K));else if(this.K.Cb && this.K.Cb.Zra)this.HVa(this);else {l=this.SEc.Wqb(this.config,function(){var p;if(k.player){p=k.player.aH();if(p)return p;}return 0;});m=this.W$b(this.K);this.log.trace("Adding a moment to watch",{time:m});l.observe(m,function(){k.log.trace("Segment has reached its loading point",c(k.K));k.HVa(k);k.XX();});}};n.prototype.close=function(k){this.log.info("Closing segment",{segment:f(this.K),error:k});return this.player?(this.player.removeEventListener(g.Za.HUa,this.TSa),this.player.close(k)):Promise.resolve();};n.prototype.rGc=function(k){this.HVa=k;};n.prototype.W$b=function(k){var l,m;l=k.pj;k=k.Cb?k.Cb.Zra:!1;m=0;l && !k && (m=l - this.config.ixb(),m < this.config.qxb() && (k=l - this.config.qxb(),m=l - k / 2));return m;};d.prototype.rsc=function(){return this.hj && this.hj.player?this.hj.player.Cs():!1;};d.prototype.Dq=function(){return this.Iu;};d.prototype.fH=function(){if(!this.hj || !this.hj.player)throw Error("Player not ready");return this.hj.player;};d.prototype.tRb=function(k){var l,m;m=this.VPa(k);m?this.vRb(m,k):this.xb.ku(k.id) || this.log.error("Tried to update a non-existent segment",{segment:f(k),currentMovieId:this.hj.K.R,queuedMovieIds:this.HM.map(function(p){return p.K.R;}),xid:null === (l=this.hj.player) || void 0 === l?void 0:l.DA()});};d.prototype.Re=function(k){var l;this.log.info("Adding segment",f(k));if(this.vA){this.log.trace("First segment, loading",c(k));l=this.fDb(k);this.vA=!1;}else (this.log.trace("Subsequent segment, caching",c(k)),(l=this.VPa(k))?this.vRb(l,k):(l=this.createSession(k),this.HM.push(l),this.hj.observe()));return l?l.QUc:null;};d.prototype.transition=function(k,l){var m,p,q;p=this.HS;q=null === p || void 0 === p?void 0:p.player;if(p && q)return (this.HS=void 0,this.log.info("Transitioning segment",f(p.K)),q.n1a(this.Xa.yc().oa(e.za)),this.uQb(p,l));l=null === p || void 0 === p?void 0:p.K;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.hj.K.R,xid:null === (m=this.hj.player) || void 0 === m?void 0:m.DA(),nextSegmentId:k,currentSegment:f(this.hj.K),nextSegment:l?f(l):void 0,queuedMovieIds:this.HM.map(function(r){return r.K.R;})});return Promise.reject();};d.prototype.close=function(k){var l;l=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(c(this.hj.K)),nextSession:this.HS?JSON.stringify(c(this.HS.K)):void 0});k=[this.hj.close(k)];this.HS && k.push(this.HS.close());return Promise.all(k).then(function(){l.HS=void 0;l.HM=[];l.vA=!0;});};d.prototype.addListener=function(k,l,m){this.jc.addListener(k,l,m);};d.prototype.removeListener=function(k,l){this.jc.removeListener(k,l);};d.prototype.vRb=function(k,l){this.$Gc(k.K,l);this.log.trace("Overwrote existing segment data",f(k.K));};d.prototype.fDb=function(k){var l,m;l=this;this.log.info("Loading the next episode",c(k));if(this.hj){this.config.PQa()[k.R]=k.Hb;m=this.VPa(k);}else m=this.createSession(k);if(m)return (this.log.trace("Found the next session",c(k)),m.rGc(function(p){l.MPb(p);}),this.hj?(this.log.trace("Subsequent playback, caching player and pausing",c(k)),this.HS=m,m.load(!0)):(this.log.trace("First playback transitioning immediately",c(k)),m.load(!1),this.uQb(m)),m);this.log.warn("Unable to find the session, make sure to add it before loading",c(k));};d.prototype.uQb=function(k,l){var m,p,q,r,u;l=void 0 === l?{}:l;r=k.player?null === (m=k.player) || void 0 === m?void 0:m.getError():"missing player";if(r)return (null === (p=k.player) || void 0 === p?void 0:p.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.hj.K.R,mid:k.K.R,error:r,xid:null === (q=k.player) || void 0 === q?void 0:q.DA()}),Promise.reject());this.log.trace("Playing episode",c(k.K));m=this.hj;this.hj=k;k=this.hj.player;k.S0a(!1);this.eV(k,m?m.player:void 0);if(m && m.player){u=m.player.Dq();p=k.Dq();u.style.display="none";m=m.close();this.Iu.appendChild(p);m.then(function(){u.parentElement && u.parentElement.removeChild(u);});p.style.display="block";k.Uxa(l);k.p2();k.play();}return Promise.resolve();};d.prototype.MPb=function(k){var l,m,p,q,r;if(this.HM.length && k.player){l=k.player.aH();m=this.HM[0];p=this.hj.K.pj;q=this.hj.K.Cb?this.hj.K.Cb.Zra:!1;if(p || q){q?r=0:p && (r=p - this.config.ixb());null !== l && l >= r && (this.log.info("Got a time change, loading the next player",c(m.K)),this.fDb(m.K),this.HM.splice(0,1),this.MPb(k));}}};d.prototype.VPa=function(k){return this.hj.K.R === k.R?this.hj:this.HM.find(function(l){return l.K.R === k.R;});};d.prototype.$Gc=function(k,l){k.Hb=l.Hb || k.Hb;k.pj=l.pj || k.pj;k.Cb=l.Cb || k.Cb;k.S=l.S || k.S;};d.prototype.createSession=function(k){return new n(this.log,this.config,this.o0,this.$Ya,this.Zj,this.eda,this,k,this.Iu,this.xb,this.lm);};d.prototype.eV=function(k,l){this.Slc.forEach(function(m){l && l.removeEventListener(m.event,m.uD);k.addEventListener(m.event,m.uD);});this.jc.rd(g.mW.vea,{player:k});};b.Igb=d;},49310:function(t,b,a){var n,c,f;function d(g){this.config=g;}Object.defineProperty(b,"__esModule",{value:!0});b.uHa=void 0;t=a(22970);n=a(22674);c=a(4203);f=a(3887);d.prototype.EKc=function(g,e,h,k){this.config().zPc && (g=g.metrics,void 0 !== g && g.segment !== g.srcsegment && (h={isBranching:k || void 0,isPlaygraph:!k || void 0,mid:e.R,xid:e.Ia,srcxid:h.Ia,srcmid:h.R,segment:g.segment,srcsegment:g.srcsegment,srcsegmentduration:g.srcsegmentduration,srcoffset:g.srcoffset,srcMoffms:g.srcMoffms,srcvbitrate:g.srcvbitrate,srcvmaf:g.srcvmaf,srcVdlid:g.srcVdlid,destMoffms:g.destMoffms,destvbitrate:g.destvbitrate,destvmaf:g.destvmaf,destVdlid:g.destVdlid,auxMid:g.auxMid,auxMidType:g.auxMidType,auxSrcmid:g.auxSrcmid,auxSrcmidType:g.auxSrcmidType,seamlessRequested:g.seamlessRequested,transitionType:g.transitionType,transitionTypeAtRequest:g.transitionTypeAtRequest,nextExitPositionAtRequest:g.nextExitPositionAtRequest,delayToTransition:g.delayToTransition,durationOfTransition:g.durationOfTransition,atRequest:g.atRequest,atTransition:g.atTransition,discard:g.discard,adBreakLocationMs:g.adBreakLocationMs,srcadBreakLocationMs:g.srcadBreakLocationMs,adBreakTriggerId:g.adBreakTriggerId,srcadBreakTriggerId:g.srcadBreakTriggerId},h.moffms=e.j && e.Ff && e.R !== e.Ff?(0,f.$h)(e.j.Mwb()):(0,f.$h)(e.gs),e.RL.hb.transition(h)));};a=d;b.uHa=a;b.uHa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.Ic))],a);},24550:function(t,b){var a,d;Object.defineProperty(b,"__esModule",{value:!0});b.C3=b.JTb=b.KTb=b.LTb=void 0;(function(n){n[n.hjc=0]="downloading";n[n.gjc=1]="downloaded";n[n.MC=2]="appended";n[n.buffered=3]="buffered";n[n.Ny=4]="removed";n[n.Qed=5]="unused";})(a || (b.LTb=a={}));(function(n){n[n.waiting=1]="waiting";n[n.Qbd=2]="ondeck";n[n.hjc=4]="downloading";n[n.gjc=8]="downloaded";n[n.Jaa=6]="inprogress";})(d || (b.KTb=d={}));b.JTb="AseBufferViewSymbol";b.C3="AseBufferAccountingSymbol";},1891:function(t,b,a){var n,c,f,g,e,h,k,l;function d(m){return function(){return new Promise(function(p,q){var r;r=m.Jb.get(c.q8a);r.Ob().then(function(){p(r);}).catch(function(u){q(u);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.itb=void 0;t=a(22674);n=a(2413);c=a(31701);f=a(98281);g=a(24550);e=a(64372);h=a(52476);k=a(14188);l=a(33633);b.itb=new t.Ce(function(m){m(h.mbb).to(k.XCa).sa();m(n.o8a).to(l.YCa);m(g.C3).to(e.kza).sa();m(c.q8a).to(f.QAa).sa();m(c.p8a).Ffa(d);});},2413:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.o8a="DxDisplaySymbol";},31701:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.q8a="DxManagerSymbol";b.p8a="DxManagerProviderSymbol";},52476:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mbb="LogDisplayConfigSymbol";},64372:function(t,b,a){var n;function d(){this.bPc="";this.TXc=[[],[],[]];this.Oa=[[],[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.kza=void 0;t=a(22970);n=a(22674);a(5021);a(24550);d.prototype.update=function(c){this.TXc[c.mediaType].forEach(function(f){f.Sed(c);});};Ha.Object.defineProperties(d.prototype,{L:{configurable:!0,enumerable:!0,get:function(){return this.bPc;}}});a=d;b.kza=a;b.kza=a=t.__decorate([(0,n.aa)()],a);},44133:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.k7a=void 0;n=a(22365);d.vdc=function(c){var f;if(n.Ni.queryCommandSupported && n.Ni.queryCommandSupported("copy")){f=n.Ni.createElement("textarea");f.textContent=c;f.style.position="fixed";n.Ni.body.appendChild(f);f.select();try{n.Ni.execCommand("copy");}catch(g){console.warn("Copy to clipboard failed.",g);}finally{n.Ni.body.removeChild(f);}}};b.k7a=d;},98281:function(t,b,a){var n,c;function d(f){this.Pic=f;}Object.defineProperty(b,"__esModule",{value:!0});b.QAa=void 0;t=a(22970);n=a(22674);a=a(2413);d.prototype.Ob=function(){var f;f=this;this.mL || (this.mL=new Promise(function(g,e){var h;h=[];f.Pic.forEach(function(k){h.push(k.Ob());});Promise.all(h).then(function(){g();}).catch(function(k){e(k);});}));return this.mL;};c=d;b.QAa=c;b.QAa=c=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.OH)(a.o8a))],c);},14188:function(t,b,a){var n,c,f,g,e;function d(h,k){h=f.Tf.call(this,h,"LogDisplayConfigImpl") || this;h.eg=k;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.XCa=void 0;t=a(22970);n=a(22674);c=a(12501);f=a(64174);g=a(83767);a=a(5614);Ia(d,f.Tf);Ha.Object.defineProperties(d.prototype,{Mda:{configurable:!0,enumerable:!0,get:function(){return !0;}},P_:{configurable:!0,enumerable:!0,get:function(){return this.eg.P_;}},nDb:{configurable:!0,enumerable:!0,get:function(){return -1;}}});e=d;b.XCa=e;t.__decorate([c.config(c.qd,"renderDomDiagnostics")],e.prototype,"Mda",null);t.__decorate([c.config(c.rL,"logDisplayMaxEntryCount")],e.prototype,"P_",null);t.__decorate([c.config(c.rL,"logDisplayAutoshowLevel")],e.prototype,"nDb",null);b.XCa=e=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(g.Qo)),t.__param(1,(0,n.v)(a.lW))],e);},33633:function(t,b,a){var f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A;function d(z,B,C,D,E,H,F,G,J,L){var K;K=this;this.Na=z;this.wi=B;this.Ok=C;this.Cd=D;this.dt=E;this.config=H;this.sQ=F;this.G2a=G;this.aOa=J;this.kt=L;this.zUc=function(){K.Xfa.ig(function(){K.update();});};this.clear=function(){K.entries=[];K.update();};this.OEb=function(){K.yg.z_=!K.yg.z_;K.WL && K.cM && (K.yg.z_?(K.WL.style.display="inline-block",K.cM.style.display="none"):(K.cM.style.display="inline-block",K.WL.style.display="none"));K.hU(!1);};this.OAc=function(M){var P;K.entries.push(M);P=K.config.P_;0 <= P && K.entries.length > P && K.entries.shift();void 0 === K.yg.qG[M.vd] && (K.yg.qG[M.vd]=!0,K.hU(!1));K.yg.isVisible && !K.CPb?K.zUc():K.Xfa.ig();};this.Yic=function(){c.download("all",K.entries.map(function(M){return M.Gxa(!1);})).catch(function(M){console.error("Unable to download all logs to the file",M);});};this.pL=!1;this.yg={isVisible:!1,z_:!0,EOa:!0,PVa:r.Oo.e5,qG:{}};this.Xfa=this.G2a((0,m.Zi)(1));this.Jmc=this.aOa((0,m.ic)(250));this.entries=[];!1;!1;}function n(z){var B;this.elements=[];B=document.createElementNS(n.lfa,"svg");B.setAttribute("viewBox",z);this.elements.push(B);}function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.YCa=void 0;t=a(22970);f=a(22674);g=a(74870);e=a(45842);h=a(34043);k=a(53085);l=a(30869);m=a(5021);p=a(81918);q=a(33554);r=a(87386);u=a(36410);v=a(34126);w=a(52476);x=a(17892);y=a(43193);A=a(44133);c.download=function(z,B){return c.fqc(z).then(function(C){return c.ltc(C,B.join("\r\n")).then(function(D){return c.Vic(D.filename,D.text);});});};c.fqc=function(z){return new Promise(function(B,C){var D,E,H,F,G,J,L;try{D=new Date();E=D.getDate().toString();H=(D.getMonth() + 1).toString();F=D.getFullYear().toString();G=D.getHours().toString();J=D.getMinutes().toString();L=D.getSeconds().toString();1 === E.length && (E="0" + E);1 === H.length && (H="0" + H);1 === G.length && (G="0" + G);1 === J.length && (J="0" + J);1 === L.length && (L="0" + L);B(F + H + E + G + J + L + "." + z + ".log");}catch(K){C(K);}});};c.ltc=function(z,B){return new Promise(function(C,D){try{C({filename:z,text:URL.createObjectURL(new Blob([B],{type:"text/plain"}))});}catch(E){D(E);}});};c.Vic=function(z,B){var C;try{C=document.createElement("a");C.setAttribute("href",B);C.setAttribute("download",z);C.style.display="none";document.body.appendChild(C);C.click();document.body.removeChild(C);return Promise.resolve();}catch(D){return Promise.reject(D);}};n.prototype.o2=function(){var z;z=document.createElementNS(n.lfa,"g");z.setAttribute("stroke","none");z.setAttribute("stroke-width",(1).toString());z.setAttribute("fill","none");z.setAttribute("fill-rule","evenodd");z.setAttribute("stroke-linecap","round");this.addElement(z);return this;};n.prototype.q2=function(z,B,C){var D;D=document.createElementNS(n.lfa,"path");D.setAttribute("d",z);B && D.setAttribute("fill",B);C && D.setAttribute("fill-rule",C);this.addElement(D);return this;};n.prototype.Yea=function(z,B,C,D,E){var H;E=void 0 === E?"#000000":E;H=document.createElementNS(n.lfa,"rect");H.setAttribute("x",z.toString());H.setAttribute("y",B.toString());H.setAttribute("height",C.toString());H.setAttribute("width",D.toString());E && H.setAttribute("fill",E);this.addElement(H);return this;};n.prototype.ESc=function(){var z;z=document.createElementNS(n.lfa,"polygon");z.setAttribute("points","0 0 24 0 24 24 0 24");z.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(z);return this;};n.prototype.end=function(){this.elements.pop();return this;};n.prototype.build=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};n.prototype.addElement=function(z){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(z);this.elements.push(z);};Ha.Object.defineProperties(n,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},oQ:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});n.lfa="http://www.w3.org/2000/svg";d.prototype.Ob=function(){var z;z=this;this.mL || (this.mL=new Promise(function(B){Ba.addEventListener("keydown",function(C){C.ctrlKey && C.altKey && C.shiftKey && (C.keyCode == y.QV.OXb?z.toggle():C.keyCode == y.QV.E && A.k7a.vdc(z.sQ().ij));});z.dt.Bva(v.iDa.pVb,z.OAc);B();}));return this.mL;};d.prototype.show=function(){document.body && (this.element || (this.mfc(),this.pL=!0),!this.yg.isVisible && this.element && (document.body.appendChild(this.element),this.yg.isVisible=!0,this.update(!0)));};d.prototype.wD=function(){this.pL && this.yg.isVisible && this.element && (document.body.removeChild(this.element),this.yg.isVisible=!1);};d.prototype.toggle=function(){this.yg.isVisible?this.wD():this.show();this.hU(!1);};d.prototype.mfc=function(){var z,B;try{z=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});B=this.createElement("style");B.type="text/css";B.appendChild(document.createTextNode("button:focus { outline: none; }"));z.appendChild(B);z.appendChild(this.Qu=this.Egc());z.appendChild(this.Ggc());z.appendChild(this.ffc());this.element=z;}catch(C){console.error("Unable to create the log console",C);}};d.prototype.Egc=function(){var z,B;z=this;B=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");B.setAttribute("wrap","off");B.setAttribute("readonly","readonly");B.addEventListener("focus",function(){z.CPb=!0;z.update();z.Qu && (z.Qu.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});B.addEventListener("blur",function(){z.CPb=!1;z.update();z.Qu && (z.Qu.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return B;};d.prototype.Ggc=function(){var z;z=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");z.appendChild(this.Pfc());z.appendChild(this.yfc());z.appendChild(this.rfc());z.appendChild(this.Hgc());z.appendChild(this.kfc());z.appendChild(this.bgc());z.appendChild(this.Yfc());z.appendChild(this.sfc());z.appendChild(this.lfc());return z;};d.prototype.ffc=function(){var z,B,C,D,E,H;z=this;B=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");C=this.createElement("div","padding:2px");D=this.createElement("select",this.nD(22,160,1,2),"<option>Select categories</option>");E=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");B.appendChild(C);B.appendChild(E);C.appendChild(D);C.addEventListener("mousedown",function(F){F.preventDefault();});H=!1;C.addEventListener("click",function(){H?E.style.display="none":(E.innerHTML="",["all","none"].concat(Object.keys(z.yg.qG).sort()).forEach(function(F){E.appendChild(z.gfc(F,C));}),E.style.display="block");H=!H;});return B;};d.prototype.gfc=function(z,B){var C,D,E;C=this;D=this.createElement("label","display: block;margin:1px");D.htmlFor=z;E=this.createElement("input","margin:1px");E.type="checkbox";E.id=z;E.checked=this.yg.qG[z];E.addEventListener("click",function(){"all" === z || "none" === z?(Object.keys(C.yg.qG).forEach(function(H){C.yg.qG[H]="all" === z;}),B.click()):C.yg.qG[z]=!C.yg.qG[z];C.hU(!0);});D.appendChild(E);D.insertAdjacentText("beforeend",18 < z.length?z.slice(0,15) + "...":z);return D;};d.prototype.Pfc=function(){var z,B;z=this;B=this.createElement("select",this.nD(22,NaN,1,2),'<option value="' + r.Oo.Wp + '">Error</option><option value="' + (r.Oo.UHa + '">Warn</option><option value="') + (r.Oo.e5 + '">Info</option><option value="') + (r.Oo.Ahb + '">Trace</option><option value="') + (r.Oo.l + '">Debug</option>'));B.value=this.yg.PVa.toString();B.addEventListener("change",function(C){z.yg.PVa=parseInt(C.target.value);z.hU(!0);},!1);return B;};d.prototype.yfc=function(){var B,C;function z(D){return B.Jmc.ig(function(){var E;E=D.target.value;B.yg.filter=E?new RegExp(E):void 0;B.hU(!0);});}B=this;C=this.createElement("input",this.nD(14,150,1,2));C.value=this.yg.filter?this.yg.filter.source:"";C.title="Filter (RegEx)";C.placeholder="Filter (RegEx)";C.addEventListener("keydown",z,!1);C.addEventListener("change",z,!1);return C;};d.prototype.rfc=function(){var z,B,C,D;z=this;B=this.createElement("div",this.nD(NaN,NaN));C=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");C.id="details";C.type="checkbox";C.title="Details";C.checked=this.yg.EOa;C.addEventListener("change",function(E){z.yg.EOa=E.target.checked;z.hU(!0);},!1);D=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");D.setAttribute("for","details");D.innerHTML="View details";B.appendChild(C);B.appendChild(D);return B;};d.prototype.Hgc=function(){var z,B,C;z=this;B=this.createElement("button",this.nD());C=new n("0 0 24 24").o2().ESc().end().q2("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",n.oQ,"nonzero").end().end().build();B.appendChild(C);B.addEventListener("click",function(){z.update();},!1);B.setAttribute("title","Refresh the log console");return B;};d.prototype.kfc=function(){var z,B;z=this.createElement("button",this.nD());B=new n("0 0 24 24").o2().Yea(0,0,24,24,n.background).end().q2("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",n.oQ).end().end().build();z.appendChild(B);z.addEventListener("click",this.clear,!1);z.setAttribute("title","Remove all log messages");return z;};d.prototype.bgc=function(){var z;this.cM=this.createElement("button",this.nD());this.cM.style.display=this.yg.z_?"none":"inline-block";z=new n("0 0 24 24").o2().Yea(0,0,24,24,n.background).end().q2("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",n.oQ,"nonzero").end().end().build();this.cM.addEventListener("click",this.OEb,!1);this.cM.appendChild(z);this.cM.setAttribute("title","Shrink the log console");return this.cM;};d.prototype.Yfc=function(){var z;this.WL=this.createElement("button",this.nD());this.WL.style.display=this.yg.z_?"inline-block":"none";z=new n("0 0 24 24").o2().Yea(4,4,16,16,n.background).end().q2("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",n.oQ,"nonzero").end().end().build();this.WL.addEventListener("click",this.OEb,!1);this.WL.appendChild(z);this.WL.setAttribute("title","Expand the log console");return this.WL;};d.prototype.sfc=function(){var z,B;z=this.createElement("button",this.nD());B=new n("0 0 26 26").o2().Yea(0,0,24,24,n.background).end().q2("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",n.oQ,"nonzero").end().end().build();z.appendChild(B);z.addEventListener("click",this.Yic,!1);z.setAttribute("title","Download all log messages");return z;};d.prototype.lfc=function(){var z,B,C;z=this;B=this.createElement("button",this.nD());C=new n("0 0 24 24").o2().Yea(0,0,24,24,n.background).end().q2("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",n.oQ,"nonzero").end().end().build();B.appendChild(C);B.addEventListener("click",function(){z.toggle();},!1);B.setAttribute("title","Close the log console");return B;};d.prototype.hU=function(z){var B;z=void 0 === z?!1:z;B=void 0 === B?!1:B;!1;z && this.update(B);};d.prototype.update=function(z){var B;B=this;z=void 0 === z?!1:z;this.element && this.config.Mda && Promise.resolve(this.k$b() + this.hqc().join("\r\n")).then(function(C){B.element && B.Qu && (B.Qu.value=C,B.element.style.cssText=B.yg.z_?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",z && B.Cd.Zq(m.ia,function(){B.Qu.scrollTop=B.Qu.scrollHeight;}));}).catch(function(C){console.error("Unable to update the log console",C);});};d.prototype.hqc=function(){var C;for(var z=[],B=this.entries.length - 1;0 <= B && 1E4 > z.length;B--){C=this.entries[B];(C.level || C.level) <= this.yg.PVa && this.yg.qG[C.vd] && (C=C.Gxa(!this.yg.EOa),this.yg.filter && !this.yg.filter.test(C) || z.push(C));}return z.reverse();};d.prototype.k$b=function(){var z;z=this.sQ();return "Version: 6.0054.803.911 \n" + ((z?"Esn: " + z.ij:"") + "\nJsSid: ") + (this.wi.id + ", Epoch: " + this.Na.Mg.oa(m.cv) + ", Start: " + this.wi.wH.oa(m.cv) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};d.prototype.createElement=function(z,B,C,D){return this.Ok.createElement(z,B,C,D);};d.prototype.nD=function(z,B,C,D){z=void 0 === z?26:z;B=void 0 === B?26:B;return "display:inline-block;border:" + (void 0 === C?0:C) + "px solid " + n.oQ + ";padding:3px;" + (isNaN(z)?"":"height:" + z + "px") + ";" + (isNaN(B)?"":"width:" + B + "px") + ";margin:0px 3px;background-color:transparent;" + (D?"border-radius:" + D + "px;":"");};a=d;b.YCa=a;a.YSc="logDxDisplay";b.YCa=a=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(l.Li)),t.__param(1,(0,f.v)(p.ie)),t.__param(2,(0,f.v)(g.Bm)),t.__param(3,(0,f.v)(k.Dl)),t.__param(4,(0,f.v)(u.UV)),t.__param(5,(0,f.v)(w.mbb)),t.__param(6,(0,f.v)(q.iC)),t.__param(7,(0,f.v)(e.uJ)),t.__param(8,(0,f.v)(h.mha)),t.__param(9,(0,f.v)(x.QI))],a);},72574:function(t,b,a){var c;function d(){return c.n6.apply(this,arguments) || this;}function n(f){return new c.vz(f,b.$N);}Object.defineProperty(b,"__esModule",{value:!0});b.ia=b.pcb=b.DCa=b.pz=b.$N=b.BUb=void 0;b.Cx=n;b.ma=function(f){return new c.vz(f,b.pz);};b.R$c=function(f){return new c.vz(f,b.DCa);};b.bbd=function(f){return new c.vz(f,b.pcb);};c=a(35201);Ia(d,c.n6);b.BUb=d;b.$N=new d(1,"b");b.pz=new d(8 * b.$N.Lh,"B",b.$N);b.DCa=new d(1024 * b.pz.Lh,"KB",b.$N);b.pcb=new d(1024 * b.DCa.Lh,"MB",b.$N);b.ia=n(0);},5021:function(t,b,a){var c;function d(){return c.n6.apply(this,arguments) || this;}function n(f){return new c.vz(f,b.za);}Object.defineProperty(b,"__esModule",{value:!0});b.ia=b.m$a=b.XDa=b.cv=b.za=b.EO=b.j1b=void 0;b.ebd=function(f){return new c.vz(f,b.EO);};b.fJc=function(f){return new c.vz(f * b.cv.Lh,b.EO);};b.ic=n;b.Zi=function(f){return new c.vz(f,b.cv);};b.PWa=function(f){return new c.vz(f,b.XDa);};b.W9c=function(f){return new c.vz(f,b.m$a);};b.timestamp=function(f){return n(f);};c=a(35201);Ia(d,c.n6);b.j1b=d;b.EO=new d(1,"\u03bcs");b.za=new d(1E3,"ms",b.EO);b.cv=new d(1E3 * b.za.Lh,"s",b.EO);b.XDa=new d(60 * b.cv.Lh,"min",b.EO);b.m$a=new d(60 * b.XDa.Lh,"hr",b.EO);b.ia=n(0);},35201:function(t,b,a){var c;function d(f,g){this.Lh=g;this.BH=Math.floor(f);this.display=this.BH + " " + this.Lh.name;}function n(f,g,e){this.Lh=f;this.name=g;this.Wr=e?e:this;(0,c.nw)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.vz=b.n6=void 0;c=a(66523);n.prototype.I9=function(f){return this.Lh == f.Lh;};n.prototype.toJSON=function(){return this.name;};b.n6=n;d.prototype.oa=function(f){return this.Lh.I9(f)?this.BH:Math.floor(this.BH * this.Lh.Lh / f.Lh);};d.prototype.rZa=function(f){return this.Lh.I9(f)?this.BH:this.BH * this.Lh.Lh / f.Lh;};d.prototype.as=function(f){return new d(this.oa(f),f);};d.prototype.to=function(f){return new d(this.oa(f),f);};d.prototype.toString=function(){return this.display;};d.prototype.toJSON=function(){return {magnitude:this.BH,units:this.Lh.name};};d.prototype.add=function(f){return this.Spb(f);};d.prototype.ea=function(f){return this.Spb(f,function(g){return -g;});};d.prototype.scale=function(f){return new d(this.oa(this.Lh.Wr) * f,this.Lh.Wr);};d.prototype.Nl=function(f){return this.oa(this.Lh.Wr) - f.oa(this.Lh.Wr);};d.prototype.I9=function(f){return 0 == this.Nl(f);};d.prototype.uBb=function(){return 0 == this.BH;};d.prototype.vUa=function(){return 0 > this.BH;};d.prototype.DUa=function(){return 0 < this.BH;};d.prototype.Spb=function(f,g){g=void 0 === g?function(e){return e;}:g;return new d(this.oa(this.Lh.Wr) + g(f.oa(this.Lh.Wr)),this.Lh.Wr);};b.vz=d;},4203:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Ic=b.d5=b.Ar=b.Ln=b.xZc=b.yZc=void 0;d=a(45247);Object.defineProperty(b,"AseConfigValues",{enumerable:!0,get:function(){return d.n_c;}});Object.defineProperty(b,"AseConfigExtensions",{enumerable:!0,get:function(){return d.m_c;}});b.Ln={o6c:"casttv",EMa:"chrome",v6c:"chromecast",Ov:"edge",mtb:"edgeoss",mvb:"firefox",d$c:"ie",opera:"opera",JJb:"quest",MLb:"safari",BPb:"tesla"};b.Ar={YKa:"android",CAb:"ios",lpb:"chromeos",LCb:"linux",vDb:"mac",p4a:"windows"};b.d5={Qcc:"computer",phone:"phone",hUc:"tablet"};b.Ic="ConfigSymbol";},12501:function(t,b,a){var f,g,e;function d(h){return function(k,l){return k.e_a(l,h);};}function n(h,k){return h.tva.fLc[k] || c(h,k);}function c(h,k){h=h.PA.data[k];switch(typeof h){case "undefined":break;case "string":case "number":case "boolean":return h.toString();default:return JSON.stringify(h);}}Object.defineProperty(b,"__esModule",{value:!0});b.url=b.ma=b.ro=b.q3a=b.xwc=b.w2=b.string=b.cz=b.qd=b.rL=void 0;b.config=function(h,k,l){l=void 0 === l?!1:l;return function(m,p,q){var r,u;r=void 0 !== k?k:p;u=q.get;void 0 !== u && (q.get=function(){var v;if(!this.Hxc(p))return this.Bsc(p);a:{v=(this.m7b || l?n:c)(this,r.toString());if(void 0 !== v)if((v=h(this.Hca,v),v instanceof e.$u))this.Kvb(r,v);else break a;v=u.bind(this)();}this.SM(p,v);return v;});return q;};};b.c8c=function(h){return function(k,l){return k.VJb(l,h);};};b.object=function(){return function(h,k){return h.XJb(k);};};b.qKb=d;b.Zz=function(h,k){return function(l,m){return l.yn(m,h,k);};};f=a(72574);g=a(5021);e=a(37187);b.rL=function(h,k){return h.WJb(k);};b.qd=function(h,k){return h.a_a(k);};b.cz=function(h,k){return h.Iw(k);};b.string=function(h,k){return h.e_a(k);};b.w2=function(h,k){return h.yn(k,b.string);};b.xwc=function(h,k){return h.yn(k,b.rL);};b.q3a=function(h,k){return h.yn(k,b.cz);};b.ro=function(h,k){h=h.Iw(k);return h instanceof e.$u?h:(0,g.ic)(h);};b.ma=function(h,k){h=h.Iw(k);return h instanceof e.$u?h:(0,f.ma)(h);};b.url=d(/^\S+$/);},83767:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jAa="ConfigurableInputsSymbol";b.Qo="ValidatingConfigurableInputsSymbol";b.eha="ConfigNameSymbol";b.uO="InitParamsSymbol";},34231:function(t,b){var a,d;Object.defineProperty(b,"__esModule",{value:!0});b.xt=b.gx=b.mC=void 0;(function(n){n[n.mHa=0]="Test";n[n.mCa=1]="Int";n[n.c1b=2]="Staging";n[n.e0b=3]="Prod";})(a || (b.mC=a={}));(function(n){n[n.MO=0]="PreferMsl";n[n.jfb=1]="PreferNoMsl";n[n.Ycb=2]="NoMsl";})(d || (b.gx=d={}));b.xt="GeneralConfigSymbol";},5614:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.lW="PlatformConfigDefaultsSymbol";},27081:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.sFa=void 0;d=a(5021);n=a(72574);c=a(75568);f={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.sFa=function(){this.F0a=!0;this.gK=[];this.ki=[];this.Sj=[];this.$B=[c.Ir.XWb,c.Ir.nAa,c.Ir.M0b,c.Ir.bW];this.ly=void 0;this.qPa=!0;this.loa=!1;this.Kla=(0,n.ma)(288E4);this.Mla=(0,n.ma)(335544320);this.Lla=(0,n.ma)(1E4);this.EH=(0,d.ic)(15E3);this.JBc=(0,n.ma)(6291456);this.P_=1E3;this.fMa=!0;this.Exa=f;this.M2=(0,n.ma)(0);this.Cqa=("ro zh-Hans zh-Hant vi ar he hi th ta te").split(" ");this.Dqa=("ro zh-Hans zh-Hant ko vi ar he hi th ta te").split(" ");this.Kra=["th","ta"];(0,d.ic)(0);this.zaa=!0;this.$xa=!1;this.bZ=!0;this.VU=this.IK=this.XC=!1;this.Yma=["v2"];};},52033:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.veb="PlatformConfigOverridesSymbol";},83810:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;t=a(22674);d=a(4203);n=a(80217);c=a(83767);f=a(34231);g=a(33823);e=a(48004);h=a(40158);k=a(69484);l=a(34731);m=a(23563);p=a(18135);b.config=new t.Ce(function(q){q(d.Ic).$f(function(){return function(){return Ba._cad_global.config;};});q(c.jAa).to(n.iAa).sa();q(c.Qo).to(n.OHa).sa();q(c.uO).to(n.lCa).sa();q(f.xt).to(g.EBa).sa();q(e.Scb).to(h.lEa).sa();q(k.r9a).to(l.BBa).sa();q(m.kC).to(p.eBa).sa();});},64174:function(t,b,a){var c,f,g,e;function d(h,k){var l;l=e.call(this,h,k) || this;l.gqb=k;l.debug=h.debug;l.wa=h.uh.wb(l.gqb);return l;}function n(h,k){this.gqb=k;this.NZa={};this.PA=h.PA;this.Hca=h.Hca;this.tva=h.tva;}Object.defineProperty(b,"__esModule",{value:!0});b.Tf=b.nV=b.zhb=void 0;t=a(22970);c=a(72465);f=a(22674);g=a(37187);b.zhb="isTestAccount";n.prototype.Kvb=function(){};n.prototype.SM=function(h,k){this.NZa[h]=[k,this.PA.Xva];};n.prototype.Hxc=function(h){return c.zEa.of(this.NZa[h]).map(function(k){return k[1];}).or(-1) < this.PA.Xva;};n.prototype.Bsc=function(h){return c.zEa.of(this.NZa[h]).map(function(k){return k[0];}).or(function(){throw Error("Invalid State Error");});};Ha.Object.defineProperties(n.prototype,{m7b:{configurable:!0,enumerable:!0,get:function(){var h,k;if(this && this.PA && this.PA.data){h=this.PA.data[b.zhb];"undefined" !== typeof h && (k=h.toString());h=this.Hca.a_a(k);h=h instanceof g.$u?!1:h;}else h=!1;return h;}}});e=n;b.nV=e;b.nV=e=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.Su)()),t.__param(1,(0,f.Su)())],e);Ia(d,e);d.prototype.Kvb=function(h,k){this.wa.error("Invalid configuration value.",{name:h},k);this.debug.assert(!1);};a=d;b.Tf=a;b.Tf=a=t.__decorate([t.__param(0,(0,f.Su)()),t.__param(1,(0,f.Su)())],a);},80217:function(t,b,a){var f,g,e,h,k;function d(){this.BG={};this.ELb=0;}function n(l,m,p,q,r){this.debug=l;this.PA=m;this.Hca=p;this.uh=q;this.tva=r;}function c(l,m,p){this.PA=l;this.Hca=m;this.tva=p;}Object.defineProperty(b,"__esModule",{value:!0});b.lCa=b.OHa=b.iAa=void 0;t=a(22970);f=a(22674);g=a(90597);e=a(87386);h=a(37187);k=a(17842);a=a(83767);b.iAa=c;b.iAa=c=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(a.uO)),t.__param(1,(0,f.v)(h.Bja)),t.__param(2,(0,f.v)(k.eGa))],c);b.OHa=n;b.OHa=n=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(g.hC)),t.__param(1,(0,f.v)(a.uO)),t.__param(2,(0,f.v)(h.Bja)),t.__param(3,(0,f.v)(e.zb)),t.__param(4,(0,f.v)(k.eGa))],n);d.prototype.uCc=function(l){this.BG=Object.assign({},this.BG,l);this.ELb++;};Ha.Object.defineProperties(d.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.BG;}},Xva:{configurable:!0,enumerable:!0,get:function(){return this.ELb;}}});a=d;b.lCa=a;b.lCa=a=t.__decorate([(0,f.aa)()],a);},33823:function(t,b,a){var n,c,f,g,e,h,k,l;function d(m,p,q){m=g.Tf.call(this,m,void 0 === q?"GeneralConfigImpl":q) || this;m.eg=p;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.EBa=b.OQ=void 0;t=a(22970);n=a(5021);c=a(22674);f=a(12501);g=a(64174);e=a(34231);h=a(83767);a=a(5614);k={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.OQ=function(m,p){return m.VJb(k[p] || p,e.mC);};Ia(d,g.Tf);Ha.Object.defineProperties(d.prototype,{OQ:{configurable:!0,enumerable:!0,get:function(){return e.mC.e0b;}},MOb:{configurable:!0,enumerable:!0,get:function(){return (0,n.Zi)(8);}},groupName:{configurable:!0,enumerable:!0,get:function(){return "";}},WX:{configurable:!0,enumerable:!0,get:function(){return "";}},Rfa:{configurable:!0,enumerable:!0,get:function(){return "";}},Hla:{configurable:!0,enumerable:!0,get:function(){return !0;}},zaa:{configurable:!0,enumerable:!0,get:function(){return this.eg.zaa;}},Vlc:{configurable:!0,enumerable:!0,get:function(){return !1;}},Le:{configurable:!0,enumerable:!0,get:function(){return {};}},OUa:{configurable:!0,enumerable:!0,get:function(){return !1;}},fz:{configurable:!0,enumerable:!0,get:function(){return !1;}},E9:{configurable:!0,enumerable:!0,get:function(){return !0;}},nN:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},KG:{configurable:!0,enumerable:!0,get:function(){return 0 <= [e.mC.mHa,e.mC.mCa].indexOf(this.OQ);}}});l=d;b.EBa=l;t.__decorate([f.config(b.OQ,"environment")],l.prototype,"OQ",null);t.__decorate([f.config(f.ro,"storageTimeout")],l.prototype,"MOb",null);t.__decorate([f.config(f.string,"groupName")],l.prototype,"groupName",null);t.__decorate([f.config(f.string,"canaryGroupName",!0)],l.prototype,"WX",null);t.__decorate([f.config(f.string,"uiGroupName")],l.prototype,"Rfa",null);t.__decorate([f.config(f.qd,"applyIndexedDbOpenWorkaround")],l.prototype,"Hla",null);t.__decorate([f.config(f.qd,"ignoreIdbOpenError")],l.prototype,"zaa",null);t.__decorate([f.config(f.qd,"executeStorageMigration")],l.prototype,"Vlc",null);t.__decorate([f.config(f.object(),"browserInfo")],l.prototype,"Le",null);t.__decorate([f.config(f.qd,"isTestAccount")],l.prototype,"OUa",null);t.__decorate([f.config(f.qd,"useRangeHeader")],l.prototype,"fz",null);t.__decorate([f.config(f.qd,"enableMilestoneEventList")],l.prototype,"E9",null);t.__decorate([f.config(f.object,"storageRules")],l.prototype,"nN",null);b.EBa=l=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(h.Qo)),t.__param(1,(0,c.v)(a.lW)),t.__param(2,(0,c.v)(h.eha)),t.__param(2,(0,c.optional)())],l);},41605:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$6a="CapabilityDetectorFactorySymbol";},22210:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.te=void 0;b.te=a;a.MBa=/^hevc-/;a.R9a=/^hevc-main/;a.NWb=/^hevc-main10-L\d+-dash-cenc-prk(-do)?$/;a.N9a=/^hevc-hdr-|hevc-dv/;a.Al=/^hevc-hdr-/;a.zl=/^hevc-dv/;a.pO=/h264mpl30/;a.FV=/h264mpl31/;a.ZI=/h264hpl30-dash$/;a.$I=/h264hpl31-dash$/;a.nO=/h264hpl30-dash-playready-live$/;a.oO=/h264hpl31-dash-playready-live$/;a.CTb=/h264hpl.*-dash$/;a.Af=/^av1-main/;a.Dga=/^av1-hdr10plus/;a.yWb=/[l|L]4[0-1]-/;a.fib=/-L5[0-1]-/;a.ECa=/-live/;a.gTb=/^heaac-2-/;a.PWb=/^heaac-2hq-dash/;a.Ro=/^xheaac-dash/;a.fVb=/ddplus-5/;a.gVb=/ddplus-atmos/;},73796:function(t,b,a){function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.Fib=b.Y5a=b.uc=void 0;t=a(75568);b.uc=d;d.contentType=function(n){return "video/mp4;codecs=" + n;};d.HWa='video/mp4; codecs="avc1.4d0028"';d.ICc='video/mp4; codecs="hev1.1.6.L93.B0"';d.HCc='video/mp4;codecs="avc1,mp4a";features="audio-endpoint-codec=DD+JOC"';d.UE="avc1.4d0028";d.TE="avc1.640028";d.mi="hev1.1.6.L93.B0";d.pAa="dvhe.05.01";d.qAa="dvhe.05.04";d.rAa="dvhe.05.05";d.sAa="dvhe.05.06";d.tAa="dvhe.05.07";d.uAa="dvhe.05.09";d.zl=d.pAa;d.Al=d.mi;d.Mo="mp4a.40.5";d.Ro="mp4a.40.42";d.T3="ec-3";d.Af="av01.0.04M.08";d.Uw="av01.0.04M.10.0.112.09.16.09.0";a={};b.Y5a=(a[t.Pc.Mo]=d.Mo,a[t.Pc.Gha]=d.Mo,a[t.Pc.gF]=d.Mo,a[t.Pc.Ro]=d.Ro,a[t.Pc.fO]=d.T3,a[t.Pc.gO]=d.T3,a[t.Pc.hO]=d.T3,a);a={};b.Fib=(a[t.H.pO]=d.UE,a[t.H.FV]=d.UE,a[t.H.Fha]=d.UE,a[t.H.JBa]=d.UE,a[t.H.KBa]=d.UE,a[t.H.LBa]=d.UE,a[t.H.HBa]=d.TE,a[t.H.ZI]=d.TE,a[t.H.$I]=d.TE,a[t.H.aJ]=d.TE,a[t.H.IBa]=d.TE,a[t.H.nO]=d.TE,a[t.H.oO]=d.TE,a[t.H.EV]=d.TE,a[t.H.Hha]=d.mi,a[t.H.Iha]=d.mi,a[t.H.Jha]=d.mi,a[t.H.Kha]=d.mi,a[t.H.JV]=d.mi,a[t.H.KV]=d.mi,a[t.H.I4]=d.mi,a[t.H.L4]=d.mi,a[t.H.O4]=d.mi,a[t.H.R4]=d.mi,a[t.H.J4]=d.mi,a[t.H.M4]=d.mi,a[t.H.P4]=d.mi,a[t.H.S4]=d.mi,a[t.H.U4]=d.mi,a[t.H.W4]=d.mi,a[t.H.H4]=d.mi,a[t.H.K4]=d.mi,a[t.H.N4]=d.mi,a[t.H.Q4]=d.mi,a[t.H.T4]=d.mi,a[t.H.V4]=d.mi,a[t.H.V3]=d.zl,a[t.H.X3]=d.zl,a[t.H.xV]=d.zl,a[t.H.a4]=d.zl,a[t.H.c4]=d.zl,a[t.H.e4]=d.zl,a[t.H.hha]=d.zl,a[t.H.iha]=d.zl,a[t.H.jha]=d.zl,a[t.H.kha]=d.zl,a[t.H.W3]=d.zl,a[t.H.Y3]=d.zl,a[t.H.Z3]=d.zl,a[t.H.b4]=d.zl,a[t.H.d4]=d.zl,a[t.H.f4]=d.zl,a[t.H.r4]=d.Al,a[t.H.u4]=d.Al,a[t.H.IV]=d.Al,a[t.H.z4]=d.Al,a[t.H.C4]=d.Al,a[t.H.F4]=d.Al,a[t.H.s4]=d.Al,a[t.H.v4]=d.Al,a[t.H.x4]=d.Al,a[t.H.A4]=d.Al,a[t.H.D4]=d.Al,a[t.H.G4]=d.Al,a[t.H.q4]=d.Al,a[t.H.t4]=d.Al,a[t.H.w4]=d.Al,a[t.H.y4]=d.Al,a[t.H.B4]=d.Al,a[t.H.E4]=d.Al,a[t.H.Oya]=d.Af,a[t.H.Pya]=d.Af,a[t.H.Ww]=d.Af,a[t.H.Yw]=d.Af,a[t.H.$w]=d.Af,a[t.H.bx]=d.Af,a[t.H.w3]=d.Af,a[t.H.y3]=d.Af,a[t.H.SN]=d.Uw,a[t.H.TN]=d.Uw,a[t.H.UN]=d.Uw,a[t.H.VN]=d.Uw,a[t.H.t3]=d.Uw,a[t.H.u3]=d.Uw,a[t.H.Vw]=d.Af,a[t.H.Xw]=d.Af,a[t.H.Zw]=d.Af,a[t.H.ax]=d.Af,a[t.H.v3]=d.Af,a[t.H.x3]=d.Af,a);},51259:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y;Object.defineProperty(b,"__esModule",{value:!0});b.nA=void 0;t=a(22674);d=a(56800);n=a(4203);c=a(98960);f=a(1079);g=a(95162);e=a(57718);h=a(16152);k=a(79974);l=a(57657);m=a(41605);p=a(43466);q=a(22365);r=a(94800);u=a(74742);v=a(18580);w=a(63368);x=a(33430);y=a(78866);b.nA=new t.Ce(function(A){A(g.YGa).to(e.XGa).sa();A(d.zV).to(c.EAa).sa();A(h.cab).to(k.pCa).sa();A(m.$6a).to(p.Zza).sa();A(h.web).Sp({isTypeSupported:q.HO && q.HO.isTypeSupported});A(l.e9a).vN(function(z){return {cqc:function(){return z.Jb.get(w.Mia);}};});A(f.yV).vN(function(z){return z.Jb.get(n.Ic);});A(x.Vbb).to(y.GDa).sa();A(r.rBa).to(u.qBa).sa();A(v.sfb).Sp(Ba);});},56800:function(t,b){var a,d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.zV=b.drb=b.fx=b.Lr=b.XE=b.u=void 0;(function(f){f[f.Audio=0]="Audio";f[f.zib=1]="Video";})(a || (b.u=a={}));(function(f){f[f.aF=0]="Default";f[f.nF=1]="Microsoft";})(d || (b.XE=d={}));(function(f){f[f.aF=0]="Default";f[f.wV=1]="Chrome";f[f.nF=2]="Microsoft";})(n || (b.Lr=n={}));(function(f){f[f.bia=0]="Level_1_4";f[f.yO=1]="Level_2_2";})(c || (b.fx=c={}));b.drb=function(f,g){return f?{supported:!0}:{supported:!1,reason:g};};b.zV="DeviceCapabilitiesSymbol";},1079:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.yV=b.WVb=void 0;d=a(56800);b.WVb=function(){this.gK=[];this.ki=[];this.Sj=[];this.rmb=[];this.qLa=d.XE.aF;this.hya=d.Lr.aF;};b.yV="DeviceCapabilitiesConfigSymbol";},94800:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.rBa=void 0;t=b.kO={};t.I1b="unknown";t.J4a="absent";t.rfb="present";t.Error="error";b.rBa="ExternalDisplayLogHelperSymbol";},57657:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.e9a="ExtraPlatformInfoProviderSymbol";},16152:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cab="IsTypeSupportedProviderFactorySymbol";b.web="PlatformIsTypeSupportedSymbol";},17612:function(t,b,a){var n,c,f,g;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.mb=void 0;n=a(53921);c=a(31149);f=a(36129);g=a(82100);d.B$=function(e){if(e){if(e.includes("playready"))return n.vr.h1;if(e.includes("fps"))return n.vr.sZ;if(e.includes("widevine"))return n.vr.JSb;}throw new c.se(f.da.iWb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + e);};d.aRa=function(e){switch(e){case n.vr.h1:return "playready";case n.vr.sZ:return "fairplay";default:return "widevine";}};d.v_=function(e){return e.includes("3000") || e.includes(g.egb.hF);};b.mb=d;d.AWb="com.apple.fps.3_0";d.Qja="com.widevine.alpha";d.Xib="com.widevine.alpha.experiment";d.rC="com.microsoft.playready.recommendation";d.Wc="com.microsoft.playready.recommendation.3000";d.S_b="com.microsoft.playready.recommendation.2000";d.yeb="com.microsoft.playready.recommendation.3000.clearlead";d.Qha=[d.Wc,d.yeb];},33430:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vbb="MediaCapabilitiesDetectorSymbol";},75568:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.H={pO:"playready-h264mpl30-dash",FV:"playready-h264mpl31-dash",Fha:"playready-h264mpl40-dash",JBa:"h264mpl30-dash-playready-prk-qc",KBa:"h264mpl31-dash-playready-prk-qc",LBa:"h264mpl40-dash-playready-prk-qc",HBa:"playready-h264hpl22-dash",ZI:"playready-h264hpl30-dash",$I:"playready-h264hpl31-dash",aJ:"playready-h264hpl40-dash",IBa:"h264hpl22-dash-playready-live",nO:"h264hpl30-dash-playready-live",oO:"h264hpl31-dash-playready-live",EV:"h264hpl40-dash-playready-live",Hha:"hevc-main10-L30-dash-cenc",Iha:"hevc-main10-L31-dash-cenc",Jha:"hevc-main10-L40-dash-cenc",Kha:"hevc-main10-L41-dash-cenc",JV:"hevc-main10-L50-dash-cenc",KV:"hevc-main10-L51-dash-cenc",I4:"hevc-main10-L30-dash-cenc-prk",L4:"hevc-main10-L31-dash-cenc-prk",O4:"hevc-main10-L40-dash-cenc-prk",R4:"hevc-main10-L41-dash-cenc-prk",J4:"hevc-main10-L30-dash-cenc-prk-do",M4:"hevc-main10-L31-dash-cenc-prk-do",P4:"hevc-main10-L40-dash-cenc-prk-do",S4:"hevc-main10-L41-dash-cenc-prk-do",U4:"hevc-main10-L50-dash-cenc-prk-do",W4:"hevc-main10-L51-dash-cenc-prk-do",H4:"hevc-main10-L30-dash-cenc-live",K4:"hevc-main10-L31-dash-cenc-live",N4:"hevc-main10-L40-dash-cenc-live",Q4:"hevc-main10-L41-dash-cenc-live",T4:"hevc-main10-L50-dash-cenc-live",V4:"hevc-main10-L51-dash-cenc-live",V3:"hevc-dv5-main10-L30-dash-cenc-prk",X3:"hevc-dv5-main10-L31-dash-cenc-prk",xV:"hevc-dv5-main10-L40-dash-cenc-prk",a4:"hevc-dv5-main10-L41-dash-cenc-prk",c4:"hevc-dv5-main10-L50-dash-cenc-prk",e4:"hevc-dv5-main10-L51-dash-cenc-prk",hha:"hevc-dv5-main10-L40-dash-cenc-prk-qc",iha:"hevc-dv5-main10-L41-dash-cenc-prk-qc",jha:"hevc-dv5-main10-L50-dash-cenc-prk-qc",kha:"hevc-dv5-main10-L51-dash-cenc-prk-qc",W3:"hevc-dv5-main10-L30-dash-cenc-prk-do",Y3:"hevc-dv5-main10-L31-dash-cenc-prk-do",Z3:"hevc-dv5-main10-L40-dash-cenc-prk-do",b4:"hevc-dv5-main10-L41-dash-cenc-prk-do",d4:"hevc-dv5-main10-L50-dash-cenc-prk-do",f4:"hevc-dv5-main10-L51-dash-cenc-prk-do",r4:"hevc-hdr-main10-L30-dash-cenc-prk",u4:"hevc-hdr-main10-L31-dash-cenc-prk",IV:"hevc-hdr-main10-L40-dash-cenc-prk",z4:"hevc-hdr-main10-L41-dash-cenc-prk",C4:"hevc-hdr-main10-L50-dash-cenc-prk",F4:"hevc-hdr-main10-L51-dash-cenc-prk",s4:"hevc-hdr-main10-L30-dash-cenc-prk-do",v4:"hevc-hdr-main10-L31-dash-cenc-prk-do",x4:"hevc-hdr-main10-L40-dash-cenc-prk-do",A4:"hevc-hdr-main10-L41-dash-cenc-prk-do",D4:"hevc-hdr-main10-L50-dash-cenc-prk-do",G4:"hevc-hdr-main10-L51-dash-cenc-prk-do",q4:"hevc-hdr-main10-L30-dash-cenc-live",t4:"hevc-hdr-main10-L31-dash-cenc-live",w4:"hevc-hdr-main10-L40-dash-cenc-live",y4:"hevc-hdr-main10-L41-dash-cenc-live",B4:"hevc-hdr-main10-L50-dash-cenc-live",E4:"hevc-hdr-main10-L51-dash-cenc-live",Oya:"av1-main-L20-dash-cbcs-prk",Pya:"av1-main-L21-dash-cbcs-prk",Ww:"av1-main-L30-dash-cbcs-prk",Yw:"av1-main-L31-dash-cbcs-prk",$w:"av1-main-L40-dash-cbcs-prk",bx:"av1-main-L41-dash-cbcs-prk",w3:"av1-main-L50-dash-cbcs-prk",y3:"av1-main-L51-dash-cbcs-prk",SN:"av1-hdr10plus-main-L30-dash-cbcs-prk",TN:"av1-hdr10plus-main-L31-dash-cbcs-prk",UN:"av1-hdr10plus-main-L40-dash-cbcs-prk",VN:"av1-hdr10plus-main-L41-dash-cbcs-prk",t3:"av1-hdr10plus-main-L50-dash-cbcs-prk",u3:"av1-hdr10plus-main-L51-dash-cbcs-prk",Vw:"av1-main-L30-dash-cbcs-live",Xw:"av1-main-L31-dash-cbcs-live",Zw:"av1-main-L40-dash-cbcs-live",ax:"av1-main-L41-dash-cbcs-live",v3:"av1-main-L50-dash-cbcs-live",x3:"av1-main-L51-dash-cbcs-live"};b.xc={f_c:[b.H.pO,b.H.FV,b.H.Fha],s3:[b.H.ZI,b.H.$I,b.H.aJ],r3:[b.H.nO,b.H.oO,b.H.EV],S3:[b.H.Hha,b.H.Iha,b.H.Jha,b.H.Kha,b.H.JV,b.H.KV],rV:[b.H.I4,b.H.L4,b.H.O4,b.H.R4,b.H.JV,b.H.KV],sV:[b.H.J4,b.H.M4,b.H.P4,b.H.S4,b.H.U4,b.H.W4],Yga:[b.H.H4,b.H.K4,b.H.N4,b.H.Q4,b.H.T4,b.H.V4],pV:[b.H.r4,b.H.u4,b.H.IV,b.H.z4,b.H.C4,b.H.F4],qV:[b.H.s4,b.H.v4,b.H.x4,b.H.A4,b.H.D4,b.H.G4],Xga:[b.H.q4,b.H.t4,b.H.w4,b.H.y4,b.H.B4,b.H.E4],K6a:[b.H.V3,b.H.xV,b.H.c4,b.H.X3,b.H.a4,b.H.e4],L6a:[b.H.W3,b.H.Z3,b.H.d4,b.H.Y3,b.H.b4,b.H.f4],Pza:[b.H.Ww,b.H.Yw,b.H.$w,b.H.bx,b.H.w3,b.H.y3],FUb:[b.H.SN,b.H.TN,b.H.UN,b.H.VN,b.H.t3,b.H.u3],Zga:[b.H.Vw,b.H.Xw,b.H.Zw,b.H.ax,b.H.v3,b.H.x3]};b.Pc={Mo:"heaac-2-dash",Gha:"heaac-5.1-dash",gF:"heaac-2hq-dash",Ro:"xheaac-dash",fO:"ddplus-5.1-dash",gO:"ddplus-5.1hq-dash",hO:"ddplus-atmos-dash"};b.Ir={M0b:"simplesdh",nAa:"dfxp-ls-sdh",Pja:"webvtt-lssdh-ios8",XWb:"imsc1.1",bW:"nflx-cmisc"};},18580:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.sfb="PresentationAPISymbol";},95162:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.YGa="SourceBufferTypeProviderSymbol";},43466:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w;function d(x,y,A,z,B,C,D,E){this.pBb=x;this.config=y;this.Cd=A;this.Na=z;this.is=B;this.zu=C;this.lw=D;this.HH=E;}Object.defineProperty(b,"__esModule",{value:!0});b.Zza=void 0;t=a(22970);n=a(22674);c=a(56800);f=a(16152);g=a(1079);e=a(92049);h=a(75456);k=a(46286);l=a(31741);m=a(53085);p=a(30869);q=a(42207);r=a(5180);u=a(21103);v=a(87386);a=a(33430);d.prototype.$ec=function(x){var y;y=this.pBb.erb();switch(x){case c.XE.nF:return new e.vcb(this.config,y,this.is,this.HH);default:return new l.oha(this.config,y,this.HH);}};d.prototype.Kgc=function(x){var y;y=this.pBb.erb();switch(x){case c.Lr.wV:x=new r.e7a(this.config,y,this.is,this.zu,this.lw,this.Na,this.HH);break;case c.Lr.nF:x=new h.Hbb(this.config,y,this.is,this.Cd,this.Na,this.HH,this.zu);break;default:x=new k.iO(this.config,y,this.is,this.HH);}return x;};w=d;b.Zza=w;b.Zza=w=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.cab)),t.__param(1,(0,n.v)(g.yV)),t.__param(2,(0,n.v)(m.Dl)),t.__param(3,(0,n.v)(p.Li)),t.__param(4,(0,n.v)(q.Mi)),t.__param(5,(0,n.v)(u.wz)),t.__param(6,(0,n.v)(v.zb)),t.__param(7,(0,n.v)(a.Vbb))],w);},65264:function(t,b,a){var n,c,f,g,e;function d(h,k,l,m){this.config=h;this.ei=k;this.mediaType=l;this.HH=m;this.BWa={};this.BWa[n.u.Audio]="audio";this.BWa[n.u.zib]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.dO=void 0;n=a(56800);t=a(57180);c=a(22210);f=a(22365);g=a(7802);e=new t.wW().format;d.prototype.tyb=function(h){return this.yic(this.ksc(this.Zxb(),h));};d.prototype.UX=function(h){return this.ei.isTypeSupported(h);};d.prototype.Gpc=function(){return [c.te.gTb,c.te.PWb,c.te.pO,c.te.FV,c.te.ZI,c.te.$I,c.te.nO,c.te.oO];};d.prototype.mwc=function(){this.BB=[];this.$H=[];this.config().YGc && this.$H.push(c.te.Ro);this.config().pHb && this.$H.push(c.te.R9a);this.config().oHb && this.$H.push(c.te.N9a);this.config().nHb && this.$H.push(c.te.zl);this.config().lHb && this.$H.push(c.te.Af);this.config().mHb && this.$H.push(c.te.Dga);this.$H=this.$H.concat(this.Gpc());!this.config().dlc && this.BB.push(c.te.Ro);!this.config().B9 && this.BB.push(c.te.fVb);!this.config().boa && this.BB.push(c.te.gVb);!this.config().Qkc && this.BB.push(/prk$/);this.config().nHb || this.config().tkc || this.BB.push(c.te.zl);this.config().pHb || this.config().zkc || this.BB.push(c.te.R9a);this.config().oHb || this.config().dPa || this.BB.push(c.te.N9a);this.config().lHb || this.config().gkc || this.BB.push(c.te.Af);this.config().mHb || this.config().hkc || this.BB.push(c.te.Dga);!this.config().$kc && this.BB.push(c.te.fib);};d.prototype.ksc=function(h,k){var l;l=f.zg.hardwareConcurrency && f.zg.hardwareConcurrency;return h.filter(function(m){return void 0 !== m.minimumCores && l < m.minimumCores || void 0 !== m.restrictToUILabels && (void 0 === (null === k || void 0 === k?void 0:k.jf) || !m.restrictToUILabels.includes(k.jf))?!1:!0;}).map(function(m){return m.name;});};d.prototype.U9=function(h){var k,l;k=this;l=h.map(function(m){for(var p=Ea(k.$H),q=p.next();!q.done;q=p.next())if(q.value.test(m))return Promise.resolve({supported:!0});p=Ea(k.BB);for(q=p.next();!q.done;q=p.next())if(q.value.test(m))return Promise.resolve({supported:!1,reason:"excluded"});return k.T9(m).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(l).then(function(m){return new g.Tia(h,m);});};d.prototype.T9=function(h){var k;k=this;return this.FUa(h).then(function(l){return l.supported?k.config().Mkc?k.HH.T9(h):k.RPa(h):l;});};d.prototype.RPa=function(h){var k;h=this.LZa[h];k="";return h?(Array.isArray(h) && (k=1 < h.length?" " + h[1]:"",h=h[0]),h=e("{0}/mp4;codecs={1};{2}",this.BWa[this.mediaType],h,k),this.UX(h)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};d.prototype.yic=function(h){this.mwc();return this.U9(h);};d.prototype.FUa=function(){return Promise.resolve({supported:!0});};Ha.Object.defineProperties(d.prototype,{LZa:{configurable:!0,enumerable:!0,get:function(){this.Fkb || (this.Fkb=this.kA());return this.Fkb;}}});b.dO=d;},5180:function(t,b,a){var n,c,f,g,e;function d(h,k,l,m,p,q,r){h=n.iO.call(this,h,k,l,r) || this;h.zu=m;h.lw=p;h.Na=q;h.HH=r;h.type=c.Lr.wV;h.log=h.lw.wb("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.e7a=void 0;n=a(46286);c=a(56800);f=a(5021);g=a(22210);e=a(17612);Ia(d,n.iO);d.prototype.wU=function(h){switch(h){case c.fx.yO:return this.STc;default:return Promise.resolve(!1);}};d.prototype.S$=function(){var h;h=this;return this.wU(c.fx.yO).then(function(k){return k?c.fx.yO:void 0;}).then(function(k){return h.dna(k);});};d.prototype.zKa=function(h){this.qB=h;};d.prototype.qRb=function(){var h;if(this.qB){h=this.qzb && this.rzb && this.qzb.ea(this.rzb).oa(f.za);this.qB.itshdcp=JSON.stringify({hdcp2:this.IA,time2:h});}};d.prototype.FUa=function(h){var k;k=this;return this.zu.cH().then(function(l){l=e.mb.v_(l.my);return [g.te.Af,g.te.Dga].some(function(m){return m.test(h);}) && k.config().BCc && l || g.te.CTb.test(h) && !g.te.ECa.test(h) && !k.config().lkc && l || g.te.NWb.test(h) && !g.te.ECa.test(h) && !k.config().Ckc && l?{supported:!1,reason:"mcclearen-restricted"}:!l && g.te.MBa.test(h) || g.te.yWb.test(h) && !(k.config().ykc || k.config().xkc && l) || g.te.fib.test(h) && !l?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Ha.Object.defineProperties(d.prototype,{STc:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.r2a || (this.config().Bkc?this.r2a=this.zu.cH().then(function(k){if(!e.mb.v_(k.my))return (h.IA="not HW_SECURE_ALL",h.log.trace("hdcpStatus: " + h.IA),!1);h.rzb=h.Na.Mg;return k.createMediaKeys().then(function(l){if(l.getStatusForPolicy)return l.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(m){h.qzb=h.Na.Mg;h.IA=m;h.log.trace("hdcpStatus: " + h.IA);return "usable" === h.IA;});h.IA="not available";h.log.trace("hdcpStatus: " + h.IA);return !1;});}).catch(function(k){h.IA="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.IA},k);return !1;}).then(function(k){h.qRb();return k;}):(this.IA="not enabled",this.log.trace("hdcpStatus: " + this.IA),this.qRb(),this.r2a=Promise.resolve(!1)));return this.r2a;}}});b.e7a=d;},31741:function(t,b,a){var n,c,f,g,e,h;function d(k,l,m){m=c.dO.call(this,k,l,n.u.Audio,m) || this;m.config=k;m.ei=l;m.type=n.XE.aF;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.oha=void 0;n=a(56800);c=a(65264);f=a(73796);t=a(57180);g=a(12187);e=a(7802);h=new t.wW().format;Ia(d,c.dO);d.prototype.txa=function(){var k;k=h(d.Oxa,f.uc.T3);return Promise.resolve(this.config().B9 && this.ei.isTypeSupported(k));};d.prototype.hfa=function(){var k;k=h(d.Oxa,f.uc.T3);return Promise.resolve(this.config().boa && this.ei.isTypeSupported(k));};d.prototype.kA=function(){return g.BAa.kA();};d.prototype.Zxb=function(){return this.config().gK;};d.prototype.U9=function(k){return this.config().VGc?Promise.resolve(new e.Tia(k,k.map(function(){return {supported:!0};}))):c.dO.prototype.U9.call(this,k);};b.oha=d;d.Oxa="audio/mp4;codecs={0};";},12187:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.BAa=void 0;n=a(75568);d.kA=function(){var c;c={};return (c[n.Pc.Mo]="mp4a.40.2",c[n.Pc.Gha]="mp4a.40.2",c[n.Pc.gF]="mp4a.40.2",c[n.Pc.Ro]="mp4a.40.42",c[n.Pc.fO]="ec-3",c[n.Pc.gO]="ec-3",c[n.Pc.hO]="ec-3",c);};b.BAa=d;},46286:function(t,b,a){var n,c,f,g,e,h;function d(k,l,m,p){var q;q=f.dO.call(this,k,l,n.u.zib,p) || this;q.config=k;q.ei=l;q.is=m;q.zsa=p;q.type=n.Lr.aF;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.iO=void 0;n=a(56800);c=a(75568);f=a(65264);g=a(48617);e=a(45266);h=a(7802);Ia(d,f.dO);d.prototype.wU=function(){return Promise.resolve(!1);};d.prototype.H$=function(){return Promise.resolve("");};d.prototype.ifa=function(){return this.config().dPa?this.zsa.mUa()?this.zsa.T9(c.H.IV).then(function(k){return {result:k.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};d.prototype.uxa=function(){return this.config().dPa?this.zsa.mUa()?this.zsa.T9(c.H.xV).then(function(k){return {result:k.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};d.prototype.jfa=function(){return Promise.resolve(!1);};d.prototype.zKa=function(){};d.prototype.kBc=function(k){switch(k){case n.fx.bia:return "1.4";case n.fx.yO:return "2.2";}};d.prototype.kA=function(){return g.CAa.kA();};d.prototype.Zxb=function(){var l;function k(m,p){return (0,e.TQb)(function(q,r){return q.name === r.name;},m,p);}l=k(this.config().rmb,this.config().ki);return k(l,this.config().Sj);};d.prototype.S$=function(){return Promise.resolve(void 0);};d.prototype.dna=function(k){var l;l=[];this.is.Ci(k) && l.push(this.kBc(k));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:l,isHdcpEngaged:!!l.length}];};d.prototype.U9=function(k){return this.config().WGc?Promise.resolve(new h.Tia(k,k.map(function(){return {supported:!0};}))):f.dO.prototype.U9.call(this,k);};b.iO=d;},48617:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.CAa=void 0;n=a(75568);c=a(73796);d.kA=function(){var f;f={};return (f[n.H.pO]="avc1.4D401E",f[n.H.FV]="avc1.4D401F",f[n.H.Fha]="avc1.4D4028",f[n.H.JBa]="avc1.4D401E",f[n.H.KBa]="avc1.4D401F",f[n.H.LBa]="avc1.4D4028",f[n.H.Hha]="hev1.2.6.L90.B0",f[n.H.Iha]="hev1.2.6.L93.B0",f[n.H.Jha]="hev1.2.6.L120.B0",f[n.H.Kha]="hev1.2.6.L123.B0",f[n.H.I4]="hev1.2.6.L90.B0",f[n.H.L4]="hev1.2.6.L93.B0",f[n.H.O4]="hev1.2.6.L120.B0",f[n.H.R4]="hev1.2.6.L123.B0",f[n.H.JV]="hev1.2.6.L150.B0",f[n.H.KV]="hev1.2.6.L153.B0",f[n.H.J4]="hev1.2.6.L90.B0",f[n.H.M4]="hev1.2.6.L93.B0",f[n.H.P4]="hev1.2.6.L120.B0",f[n.H.S4]="hev1.2.6.L123.B0",f[n.H.U4]="hev1.2.6.L150.B0",f[n.H.W4]="hev1.2.6.L153.B0",f[n.H.H4]="hev1.2.6.L90.B0",f[n.H.K4]="hev1.2.6.L93.B0",f[n.H.N4]="hev1.2.6.L120.B0",f[n.H.Q4]="hev1.2.6.L123.B0",f[n.H.T4]="hev1.2.6.L150.B0",f[n.H.V4]="hev1.2.6.L153.B0",f[n.H.r4]="hev1.2.6.L90.B0",f[n.H.u4]="hev1.2.6.L93.B0",f[n.H.IV]="hev1.2.6.L120.B0",f[n.H.z4]="hev1.2.6.L123.B0",f[n.H.C4]="hev1.2.6.L150.B0",f[n.H.F4]="hev1.2.6.L153.B0",f[n.H.s4]="hev1.2.6.L90.B0",f[n.H.v4]="hev1.2.6.L93.B0",f[n.H.x4]="hev1.2.6.L120.B0",f[n.H.A4]="hev1.2.6.L123.B0",f[n.H.D4]="hev1.2.6.L150.B0",f[n.H.G4]="hev1.2.6.L153.B0",f[n.H.q4]="hev1.2.6.L90.B0",f[n.H.t4]="hev1.2.6.L93.B0",f[n.H.w4]="hev1.2.6.L120.B0",f[n.H.y4]="hev1.2.6.L123.B0",f[n.H.B4]="hev1.2.6.L150.B0",f[n.H.E4]="hev1.2.6.L153.B0",f[n.H.V3]=c.uc.pAa,f[n.H.X3]=c.uc.qAa,f[n.H.xV]=c.uc.rAa,f[n.H.a4]=c.uc.sAa,f[n.H.c4]=c.uc.tAa,f[n.H.e4]=c.uc.uAa,f[n.H.hha]=c.uc.rAa,f[n.H.iha]=c.uc.sAa,f[n.H.jha]=c.uc.tAa,f[n.H.kha]=c.uc.uAa,f[n.H.W3]=c.uc.pAa,f[n.H.Y3]=c.uc.qAa,f[n.H.Z3]=c.uc.rAa,f[n.H.b4]=c.uc.sAa,f[n.H.d4]=c.uc.tAa,f[n.H.f4]=c.uc.uAa,f[n.H.HBa]="avc1.640016",f[n.H.ZI]="avc1.64001E",f[n.H.$I]="avc1.64001F",f[n.H.aJ]="avc1.640028",f[n.H.IBa]="avc1.640016",f[n.H.nO]="avc1.64001E",f[n.H.oO]="avc1.64001F",f[n.H.EV]="avc1.640028",f[n.H.Oya]=c.uc.Af,f[n.H.Pya]=c.uc.Af,f[n.H.Ww]=c.uc.Af,f[n.H.Yw]=c.uc.Af,f[n.H.$w]=c.uc.Af,f[n.H.bx]=c.uc.Af,f[n.H.w3]=c.uc.Af,f[n.H.y3]=c.uc.Af,f[n.H.SN]=c.uc.Uw,f[n.H.TN]=c.uc.Uw,f[n.H.UN]=c.uc.Uw,f[n.H.VN]=c.uc.Uw,f[n.H.t3]=c.uc.Uw,f[n.H.u3]=c.uc.Uw,f[n.H.Vw]=c.uc.Af,f[n.H.Xw]=c.uc.Af,f[n.H.Zw]=c.uc.Af,f[n.H.ax]=c.uc.Af,f[n.H.v3]=c.uc.Af,f[n.H.x3]=c.uc.Af,f);};b.CAa=d;},98960:function(t,b,a){var n,c,f,g;function d(e,h,k){this.config=e;this.Fob=h;this.rIc=k;}Object.defineProperty(b,"__esModule",{value:!0});b.EAa=void 0;t=a(22970);n=a(1079);c=a(22674);f=a(57657);a=a(41605);d.prototype.syb=function(e){return this.JQa().tyb(e);};d.prototype.uyb=function(e){return this.cL().tyb(e);};d.prototype.JQa=function(){this.pLa && this.pLa.type == this.config().qLa || (this.pLa=this.Fob.$ec(this.config().qLa));return this.pLa;};d.prototype.cL=function(){this.gya && this.gya.type == this.config().hya || (this.gya=this.Fob.Kgc(this.config().hya),this.gya.zKa(this.rIc.cqc()));return this.gya;};d.prototype.wU=function(e){return this.cL().wU(e);};d.prototype.UX=function(e){return this.cL().UX(e);};d.prototype.H$=function(){return this.cL().H$();};d.prototype.ifa=function(){return this.cL().ifa();};d.prototype.txa=function(){return this.JQa().txa();};d.prototype.hfa=function(){return this.JQa().hfa();};d.prototype.uxa=function(){return this.cL().uxa();};d.prototype.jfa=function(){return this.cL().jfa();};d.prototype.S$=function(){return this.cL().S$();};g=d;b.EAa=g;b.EAa=g=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(n.yV)),t.__param(1,(0,c.v)(a.$6a)),t.__param(2,(0,c.v)(f.e9a))],g);},74742:function(t,b,a){var n,c,f;function d(g){this.HJc=g;}Object.defineProperty(b,"__esModule",{value:!0});b.qBa=void 0;t=a(22970);n=a(22674);c=a(94800);a=a(18580);d.prototype.Amc=function(){var g,e;g={pZ:c.kO.I1b};try{e=this.HJc.PresentationRequest;e && (new e("https://netflix.com").getAvailability() || Promise.reject()).then(function(h){var k;g.pZ=h.value?c.kO.rfb:c.kO.J4a;if(g.pZ === c.kO.J4a){k=function(){h.value && (g.pZ=c.kO.rfb);h.removeEventListener("change",k);};h.addEventListener("change",k);}}).catch(function(){g.pZ=c.kO.Error;});}catch(h){g.pZ=c.kO.Error;}return g;};f=d;b.qBa=f;b.qBa=f=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.sfb))],f);},79974:function(t,b,a){var n,c,f,g,e;function d(h,k){this.config=h;this.Jhc=k;}Object.defineProperty(b,"__esModule",{value:!0});b.pCa=void 0;t=a(22970);n=a(22674);c=a(16152);f=a(1079);g=a(56800);e=a(40290);d.prototype.erb=function(){switch(this.config().hya){case g.Lr.nF:return e.fJ.Ifc();default:return this.Jhc;}};a=d;b.pCa=a;b.pCa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.yV)),t.__param(1,(0,n.v)(c.web))],a);},75456:function(t,b,a){var n,c,f,g,e,h,k,l;function d(m,p,q,r,u,v,w){m=c.iO.call(this,m,p,q,v) || this;m.Cd=r;m.Na=u;m.HH=v;m.zu=w;m.type=f.Lr.nF;m.uV="hvc1";m.Sza="avc1";m.sIc={};m.DSc();return m;}Object.defineProperty(b,"__esModule",{value:!0});b.Hbb=b.sm=void 0;n=a(75568);c=a(46286);f=a(56800);g=a(17612);e=a(5021);h=a(73796);k=a(40290);l=a(22210);b.sm={Tvb:("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" "),HJb:("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" "),KQb:("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" "),EQa:("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" "),cLc:("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" "),Uvb:("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" "),bLc:("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" "),oqa:["hdcp=1"],pqa:["hdcp=2"],NMa:("decode-bpp=8 decode-res-x=1920 decode-res-y=1080 decode-bitrate=10000000 decode-fps=30 encryption-type=cenc-clearlead encryption-iv-size=8").split(" ")};Ia(d,c.iO);d.prototype.wU=function(m){switch(m){case f.fx.bia:return this.TTc();case f.fx.yO:return this.uda;default:return Promise.resolve(!1);}};d.prototype.H$=function(){return this.zu.cH().then(function(m){return m.keySystem;});};d.prototype.ifa=function(){return Promise.resolve({result:this.qPb(),reason:"is-type-supported"});};d.prototype.jfa=function(){return this.q2a && this.rPb()?this.uda:Promise.resolve(!1);};d.prototype.uxa=function(){return Promise.resolve(this.pPb()).then(function(m){return {result:m,reason:"isTypeSupportedWithFeatures"};});};d.prototype.zKa=function(m){this.qB=m;Object.assign(this.qB,this.sIc);m.itshwdrm=this.q2a;m.itsqhd=this.UTc();m.itshevc=this.rPb();m.itshdr=this.qPb();m.itsdv=this.pPb();m.itsav1=this.RTc();m.itshevccl=this.sPb();m.itsavccl=this.PTc();m.itsdd=this.p2a("DD");m.itsddjoc=this.p2a("DD+JOC");m.itspcm51=this.p2a("PCM5.1");this.B3a();};d.prototype.S$=function(){var m;m=this;return this.wU(f.fx.yO).then(function(p){return p?m.dna(f.fx.yO):m.wU(f.fx.bia).then(function(q){return q?m.dna(f.fx.bia):m.dna(void 0);});});};d.prototype.RPa=function(m){var p;p=this;return this.H$().then(function(q){var r,u,v;r=p.LZa[m];if(r){u=[];if(p.is.Jt(r))v=r;else (u=r.features,v=r.Xc,q=r.keySystem);return p.Iv(q,v,u)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};d.prototype.kA=function(){var m,p,q,r,u,v,w,x;m=c.iO.prototype.kA.call(this);p=b.sm.Tvb;q=b.sm.HJb;r=b.sm.KQb;u=b.sm.EQa;v=b.sm.cLc;w=b.sm.Uvb;x=b.sm.bLc;m[n.H.J4]=m[n.H.I4]=m[n.H.H4]={Xc:"hev1.2.6.L90.B0",keySystem:g.mb.Wc,features:q};m[n.H.M4]=m[n.H.L4]=m[n.H.K4]={Xc:"hev1.2.6.L93.B0",keySystem:g.mb.Wc,features:q};m[n.H.P4]=m[n.H.O4]=m[n.H.N4]={Xc:"hev1.2.6.L120.B0",keySystem:g.mb.Wc,features:q};m[n.H.S4]=m[n.H.R4]=m[n.H.Q4]={Xc:"hev1.2.6.L123.B0",keySystem:g.mb.Wc,features:q};m[n.H.U4]=m[n.H.JV]=m[n.H.T4]={Xc:"hev1.2.6.L150.B0",keySystem:g.mb.Wc,features:q};m[n.H.W4]=m[n.H.KV]=m[n.H.V4]={Xc:"hev1.2.6.L153.B0",keySystem:g.mb.Wc,features:q};m[n.H.s4]=m[n.H.r4]=m[n.H.q4]={Xc:"hev1.2.6.L90.B0",keySystem:g.mb.Wc,features:u};m[n.H.v4]=m[n.H.u4]=m[n.H.t4]={Xc:"hev1.2.6.L93.B0",keySystem:g.mb.Wc,features:u};m[n.H.x4]=m[n.H.IV]=m[n.H.w4]={Xc:"hev1.2.6.L120.B0",keySystem:g.mb.Wc,features:u};m[n.H.A4]=m[n.H.z4]=m[n.H.y4]={Xc:"hev1.2.6.L123.B0",keySystem:g.mb.Wc,features:v};m[n.H.D4]=m[n.H.C4]=m[n.H.B4]={Xc:"hev1.2.6.L150.B0",keySystem:g.mb.Wc,features:v};m[n.H.G4]=m[n.H.F4]=m[n.H.E4]={Xc:"hev1.2.6.L153.B0",keySystem:g.mb.Wc,features:v};m[n.H.W3]=m[n.H.V3]={Xc:"hev1.2.6.L90.B0",keySystem:g.mb.Wc,features:w};m[n.H.Y3]=m[n.H.X3]={Xc:"hev1.2.6.L93.B0",keySystem:g.mb.Wc,features:w};m[n.H.Z3]=m[n.H.hha]=m[n.H.xV]={Xc:"hev1.2.6.L120.B0",keySystem:g.mb.Wc,features:w};m[n.H.b4]=m[n.H.iha]=m[n.H.a4]={Xc:"hev1.2.6.L123.B0",keySystem:g.mb.Wc,features:x};m[n.H.d4]=m[n.H.jha]=m[n.H.c4]={Xc:"hev1.2.6.L150.B0",keySystem:g.mb.Wc,features:x};m[n.H.f4]=m[n.H.kha]=m[n.H.e4]={Xc:"hev1.2.6.L153.B0",keySystem:g.mb.Wc,features:x};m[n.H.Ww]={Xc:"av01.0.04M.10",keySystem:g.mb.Wc,features:p};m[n.H.Yw]={Xc:"av01.0.05M.10",keySystem:g.mb.Wc,features:p};m[n.H.$w]={Xc:"av01.0.08M.10",keySystem:g.mb.Wc,features:p};m[n.H.bx]={Xc:"av01.0.09M.10",keySystem:g.mb.Wc,features:p};m[n.H.w3]={Xc:"av01.0.12M.10",keySystem:g.mb.Wc,features:r};m[n.H.y3]={Xc:"av01.0.13M.10",keySystem:g.mb.Wc,features:r};m[n.H.SN]={Xc:"av01.0.04M.10.0.112.09.16.09.0",keySystem:g.mb.Wc,features:p};m[n.H.TN]={Xc:"av01.0.05M.10.0.112.09.16.09.0",keySystem:g.mb.Wc,features:p};m[n.H.UN]={Xc:"av01.0.08M.10.0.112.09.16.09.0",keySystem:g.mb.Wc,features:p};m[n.H.VN]={Xc:"av01.0.09M.10.0.112.09.16.09.0",keySystem:g.mb.Wc,features:p};m[n.H.t3]={Xc:"av01.0.12M.10.0.112.09.16.09.0",keySystem:g.mb.Wc,features:r};m[n.H.u3]={Xc:"av01.0.13M.10.0.112.09.16.09.0",keySystem:g.mb.Wc,features:r};m[n.H.Vw]={Xc:"av01.0.04M.10",keySystem:g.mb.Wc,features:p};m[n.H.Xw]={Xc:"av01.0.05M.10",keySystem:g.mb.Wc,features:p};m[n.H.Zw]={Xc:"av01.0.08M.10",keySystem:g.mb.Wc,features:p};m[n.H.ax]={Xc:"av01.0.09M.10",keySystem:g.mb.Wc,features:p};m[n.H.v3]={Xc:"av01.0.12M.10",keySystem:g.mb.Wc,features:r};m[n.H.x3]={Xc:"av01.0.13M.10",keySystem:g.mb.Wc,features:r};return m;};d.prototype.Iv=function(m,p,q){m=k.fJ.ena(m,p,q);return this.UX(m);};d.prototype.UTc=function(){return this.Iv(g.mb.Wc,this.uV,b.sm.HJb);};d.prototype.qPb=function(){return this.Iv(g.mb.Wc,this.uV,b.sm.EQa);};d.prototype.pPb=function(){return this.Iv(g.mb.Wc,this.uV,b.sm.Uvb);};d.prototype.RTc=function(){return this.Iv(g.mb.Wc,h.uc.Af,b.sm.Tvb);};d.prototype.rPb=function(){return this.Iv(g.mb.Wc,this.uV,b.sm.KQb);};d.prototype.sPb=function(){return this.Iv(g.mb.Wc,this.uV,b.sm.NMa);};d.prototype.PTc=function(){return this.Iv(g.mb.Wc,this.Sza,b.sm.NMa);};d.prototype.p2a=function(m){return this.Iv(g.mb.rC,this.Sza,["audio-endpoint-codec=" + m]);};d.prototype.TTc=function(){var m;m=this;return this.uda.then(function(p){return p?Promise.resolve(p):m.wJb;});};d.prototype.B3a=function(){this.qB && (this.qB.itshdcp=JSON.stringify({hdcp1:this.oqa,time1:this.KPb - this.zOb,hdcp2:this.pqa,time2:this.LPb - this.AOb}));};d.prototype.DSc=function(){var m;m=this;this.q2a?(this.uda=this.Rxb(this.config().CEb,this.config().DCc,function(){var p;p=m.vqc();return ["maybe" !== p,p];}).then(function(p){return "probably" === p;}),this.wJb=this.uda.then(function(p){return p?!0:m.Rxb(m.config().CEb,m.config().CCc,function(){var q;q=m.uqc();return ["maybe" !== q,q];}).then(function(q){return "probably" === q;});})):(this.wJb=Promise.resolve(!0),this.uda=Promise.resolve(!1));};d.prototype.Rxb=function(m,p,q){var r;r=this;return new Promise(function(u){var v,w,x,y;v=Ea(q());w=v.next().value;v=v.next().value;if(w)return u(v);x=r.Cd.ZT((0,e.ic)(m),function(){var A,z;A=Ea(q());z=A.next().value;A=A.next().value;z && (x.cancel(),y.cancel(),u(A));});y=r.Cd.Zq((0,e.ic)(p),function(){x.cancel();y.cancel();u("timeout");});});};d.prototype.uqc=function(){var m;m=k.fJ.ena(g.mb.rC,this.Sza,b.sm.oqa).split("|");this.oqa=k.fJ.vxa(m[0],m[1]);this.KPb=this.Na.Mg.oa(e.za);this.zOb=this.zOb || this.KPb;this.B3a();return this.oqa;};d.prototype.vqc=function(){var m;m=k.fJ.ena(g.mb.rC,this.uV,b.sm.pqa).split("|");this.pqa=k.fJ.vxa(m[0],m[1]);this.LPb=this.Na.Mg.oa(e.za);this.AOb=this.AOb || this.LPb;this.B3a();return this.pqa;};d.prototype.FUa=function(m){var p;p=this;return this.H$().then(function(q){if(q === g.mb.Wc){if(l.te.MBa.test(m))return (0,f.drb)(p.sPb(),"ms-restricted");if([l.te.Af,l.te.Dga].some(function(r){return r.test(m);}) && !l.te.ECa.test(m))return {supported:!1,reason:"ms-restricted"};}return {supported:!0};});};Ha.Object.defineProperties(d.prototype,{q2a:{configurable:!0,enumerable:!0,get:function(){try{return this.UX(g.mb.Wc + "|" + h.uc.HWa);}catch(m){return !1;}}}});b.Hbb=d;},78866:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q;function d(r,u,v,w,x){this.config=r;this.navigator=u;this.lw=v;this.sy=w;this.Bx=x;this.tLa={};this.hSb={};this.KKa={};this.log=this.lw.wb("MediaCapabilityDetector");this.tLa=this.Zec();this.hSb=this.Jgc();r={};this.jmb=(r[this.tLa[c.Pc.Ro].contentType]=this.Bx.decode(q.$5a),r);}Object.defineProperty(b,"__esModule",{value:!0});b.GDa=void 0;t=a(22970);n=a(22674);c=a(75568);f=a(87386);g=a(63368);e=a(21103);h=a(1079);k=a(82100);l=a(22365);m=a(73796);p=a(2248);q=a(33096);d.prototype.T9=function(r){var u;u=this;return this.sy.cH().then(function(v){return u.Omc(r,v);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};d.prototype.kxc=function(r){return !!r.colorGamut || !!r.hdrMetadataType || !!r.transferFunction;};d.prototype.mUa=function(){return Ba.matchMedia("(dynamic-range: high)").matches || Ba.matchMedia("(video-dynamic-range: high)").matches || this.config().XGc;};d.prototype.Omc=function(r,u){var v,w,x;try{v={type:"media-source"};w=this.tLa[r];x=this.hSb[r];if(w)v.audio=w;else if(x){v.video=x;if(this.kxc(x) && !this.mUa())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});u && (v.keySystemConfiguration=this.Mqc(u));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.fbc(v),this.dbc((w || x).contentType)]).then(function(y){var A;A=Ea(y);y=A.next().value;A=A.next().value;return y?A?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(y){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",y),Promise.resolve({supported:!1,reason:"mc-exception"}));}};d.prototype.fbc=function(r){var u;u=this;return this.navigator.mediaCapabilities.decodingInfo(r).then(function(v){var w;v.configuration || (v.configuration=r);w=u.$xc(r,v);w?u.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(v)):u.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(v));return w;}).catch(function(v){u.log.error("mediaCapabilities.decodingInfo failed",v);return !1;});};d.prototype.dbc=function(r){var u;u=this;if(!this.config().Nkc)return Promise.resolve(!0);this.KKa[r] || (this.KKa[r]=new Promise(function(v){var w;try{w=new l.HO();document.createElement("video").src=URL.createObjectURL(w);w.addEventListener("sourceopen",function(){var x;try{x=w.addSourceBuffer(r);u.jmb[r]?(x.addEventListener("updateend",function(){u.log.trace("addSourceBuffer updateend for " + r);v(!0);}),x.addEventListener("error",function(){u.log.warn("addSourceBuffer error for " + r);v(!1);}),x.appendBuffer(u.jmb[r])):(u.log.trace("addSourceBuffer succeeded for " + r),v(!0));}catch(y){u.log.warn("addSourceBuffer failed",y);v(!1);}});}catch(x){u.log.warn("addSourceBuffer failed",x);v(!1);}}));return this.KKa[r];};d.prototype.Mqc=function(r){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:r.keySystem},(r=(0,k.txb)(r)) && (this.keySystemConfiguration.video={robustness:r}));return this.keySystemConfiguration;};d.prototype.Zec=function(){var r,u;r={};u={contentType:"audio/mp4;codecs=" + m.uc.Mo};r[c.Pc.Mo]=u;r[c.Pc.Gha]=u;r[c.Pc.gF]=u;r[c.Pc.Ro]={contentType:"audio/mp4;codecs=" + m.uc.Ro};u={contentType:"audio/mp4;codecs=ec-3",spatialRendering:!0};r[c.Pc.fO]=u;r[c.Pc.gO]=u;r[c.Pc.hO]=u;return r;};d.prototype.Jgc=function(){var r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L,K,M,P,I,O,Q;r={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};u={contentType:'video/mp4; codecs="' + m.uc.qAa + '"'};v={width:1920,height:1080};w={width:3840,height:2160};x=Object.assign(Object.assign({},v),{bitrate:12E6,framerate:30});y=Object.assign(Object.assign({},v),{bitrate:2E7,framerate:60});A=Object.assign(Object.assign({},w),{bitrate:25E6,framerate:30});z=Object.assign(Object.assign({},w),{bitrate:4E7,framerate:60});B={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};C={colorGamut:"rec2020",transferFunction:"pq"};w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),x);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),x);D=Object.assign(Object.assign({},r),x);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),y);H=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),A);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),z);G=Object.assign(Object.assign(Object.assign({},r),x),B);J=Object.assign(Object.assign(Object.assign({},r),y),B);L=Object.assign(Object.assign(Object.assign({},r),A),B);r=Object.assign(Object.assign(Object.assign({},r),z),B);K=Object.assign(Object.assign(Object.assign({},u),x),C);M=Object.assign(Object.assign(Object.assign({},u),y),C);P=Object.assign(Object.assign(Object.assign({},u),A),C);u=Object.assign(Object.assign(Object.assign({},u),z),C);C=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),x);I=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),y);O=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),A);Q=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),z);x=Object.assign(Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10.0.112.09.16.09.0"'}),x),B);y=Object.assign(Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10.0.112.09.16.09.0"'}),y),B);A=Object.assign(Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10.0.112.09.16.09.0"'}),A),B);z=Object.assign(Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10.0.112.09.16.09.0"'}),z),B);B={};return (B[c.H.pO]=w,B[c.H.FV]=w,B[c.H.Fha]=w,B[c.H.JBa]=w,B[c.H.KBa]=w,B[c.H.LBa]=w,B[c.H.HBa]=v,B[c.H.ZI]=v,B[c.H.$I]=v,B[c.H.aJ]=v,B[c.H.IBa]=v,B[c.H.nO]=v,B[c.H.oO]=v,B[c.H.EV]=v,B[c.H.Hha]=D,B[c.H.Iha]=D,B[c.H.Jha]=D,B[c.H.Kha]=E,B[c.H.I4]=D,B[c.H.L4]=D,B[c.H.O4]=D,B[c.H.R4]=E,B[c.H.JV]=H,B[c.H.KV]=F,B[c.H.J4]=D,B[c.H.M4]=D,B[c.H.P4]=D,B[c.H.S4]=E,B[c.H.U4]=H,B[c.H.W4]=F,B[c.H.H4]=D,B[c.H.K4]=D,B[c.H.N4]=D,B[c.H.Q4]=E,B[c.H.T4]=H,B[c.H.V4]=F,B[c.H.r4]=G,B[c.H.u4]=G,B[c.H.IV]=G,B[c.H.z4]=J,B[c.H.C4]=L,B[c.H.F4]=r,B[c.H.s4]=G,B[c.H.v4]=G,B[c.H.x4]=G,B[c.H.A4]=J,B[c.H.D4]=L,B[c.H.G4]=r,B[c.H.q4]=G,B[c.H.t4]=G,B[c.H.w4]=G,B[c.H.y4]=J,B[c.H.B4]=L,B[c.H.E4]=r,B[c.H.V3]=K,B[c.H.X3]=K,B[c.H.xV]=K,B[c.H.a4]=M,B[c.H.c4]=P,B[c.H.e4]=u,B[c.H.hha]=K,B[c.H.iha]=M,B[c.H.jha]=P,B[c.H.kha]=u,B[c.H.W3]=K,B[c.H.Y3]=K,B[c.H.Z3]=K,B[c.H.b4]=M,B[c.H.d4]=P,B[c.H.f4]=u,B[c.H.Oya]=C,B[c.H.Pya]=C,B[c.H.Ww]=C,B[c.H.Yw]=C,B[c.H.$w]=C,B[c.H.bx]=I,B[c.H.w3]=O,B[c.H.y3]=Q,B[c.H.SN]=x,B[c.H.TN]=x,B[c.H.UN]=x,B[c.H.VN]=y,B[c.H.t3]=A,B[c.H.u3]=z,B[c.H.Vw]=C,B[c.H.Xw]=C,B[c.H.Zw]=C,B[c.H.ax]=I,B[c.H.v3]=O,B[c.H.x3]=Q,B);};d.prototype.$xc=function(r,u){return r.video && this.config().cJc?u.supported && u.powerEfficient:u.supported;};a=d;b.GDa=a;b.GDa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(h.yV)),t.__param(1,(0,n.v)(g.I5)),t.__param(2,(0,n.v)(f.zb)),t.__param(3,(0,n.v)(e.wz)),t.__param(4,(0,n.v)(p.om))],a);},92049:function(t,b,a){var n,c,f,g,e,h;function d(k,l,m,p){k=g.oha.call(this,k,l,p) || this;k.is=m;k.type=n.XE.nF;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.vcb=void 0;n=a(56800);c=a(75568);f=a(17612);g=a(31741);e=a(40290);h=a(73796);Ia(d,g.oha);d.prototype.txa=function(){return Promise.resolve(this.config().B9 && this.Iv(f.mb.rC,"avc1",["audio-endpoint-codec=DD+JOC"]));};d.prototype.hfa=function(){return Promise.resolve(this.config().boa && this.Iv(f.mb.rC,"avc1",["audio-endpoint-codec=DD+JOC"]));};d.prototype.kA=function(){var k,l;k={Xc:"avc1",keySystem:f.mb.rC,features:["audio-endpoint-codec=DD+JOC"]};l={};return (l[c.Pc.Mo]=h.uc.Mo,l[c.Pc.gF]=h.uc.Mo,l[c.Pc.Gha]=void 0,l[c.Pc.Ro]=h.uc.Ro,l[c.Pc.fO]=this.config().B9?k:void 0,l[c.Pc.gO]=this.config().B9?k:void 0,l[c.Pc.hO]=this.config().boa?k:void 0,l);};d.prototype.RPa=function(k){var l,m,p;k=this.LZa[k];l=[];m=f.mb.rC;if(k){if(this.is.Jt(k))p=k;else (l=k.features,p=k.Xc,m=k.keySystem);return this.Iv(m,p,l)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};d.prototype.Iv=function(k,l,m){k=e.fJ.ena(k,l,m);return this.UX(k);};b.vcb=d;},40290:function(t,b,a){var n,c,f;function d(){this.type=n.XE.nF;}Object.defineProperty(b,"__esModule",{value:!0});b.fJ=void 0;n=a(56800);t=a(57180);c=a(17612);f=new t.wW();d.Ifc=function(){return {isTypeSupported:function(g){var e;try{if(-1 == g.toLowerCase().indexOf("codec"))return Ba.MSMediaKeys.isTypeSupported(g,"video/mp4");e=g.split("|");return 1 === e.length?Ba.MSMediaKeys.isTypeSupported(c.mb.rC,g):"probably" === d.vxa(e[0],e[1]);}catch(h){return !1;}}};};d.ena=function(g,e,h){e=f.format(d.Oxa,e);if(0 === h.length)return e;h=f.format('features="{0}"',h.join());return f.format("{0}|{1}{2}",g,e,h);};d.vxa=function(g,e){var h;try{h=Ba.MSMediaKeys.isTypeSupportedWithFeatures?Ba.MSMediaKeys.isTypeSupportedWithFeatures(g,e):"";}catch(k){h="exception";}return h;};b.fJ=d;d.Oxa='video/mp4;codecs="{0},mp4a";';},7802:function(t,b){function a(d,n){var c;c=this;this.status={};d.forEach(function(f,g){c.status[f]=n[g];});}Object.defineProperty(b,"__esModule",{value:!0});b.Tia=void 0;a.prototype.c_=function(){return this.status;};a.prototype.Rpa=function(){return Object.entries(this.status).filter(function(d){d=Ea(d);d.next();return d.next().value.supported;}).map(function(d){var n;d=Ea(d);n=d.next().value;d.next();return n;});};b.Tia=a;},57718:function(t,b,a){var n,c,f;function d(g){this.ePb=g;this.l5b="video/mp4;codecs={0}";this.e2b="audio/mp4;codecs={0}";}Object.defineProperty(b,"__esModule",{value:!0});b.XGa=void 0;t=a(22970);n=a(22674);c=a(73796);a=a(88490);d.prototype.orb=function(g){var e;g=c.Fib[null === (e=g[0]) || void 0 === e?void 0:e.Uc] || c.uc.UE;return this.ePb.format(this.l5b,g);};d.prototype.Cqb=function(g){var e;g=c.Y5a[null === (e=g[0]) || void 0 === e?void 0:e.Uc] || c.uc.Mo;return this.ePb.format(this.e2b,g);};f=d;b.XGa=f;b.XGa=f=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.thb))],f);},82656:function(t,b,a){var d,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});b.ip=void 0;t=a(22674);d=a(33554);n=a(58393);c=a(48723);f=a(68703);g=a(99662);b.ip=new t.Ce(function(e){e(d.iC).$f(function(){return function(){return Ba._cad_global.device;};});e(f.$7a).to(g.GAa).sa();e(n.Y7a).to(c.FAa).sa();});},33554:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.iC="DeviceFactorySymbol";},58393:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y7a="DeviceIdGeneratorSymbol";},68703:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$7a="DeviceProviderSymbol";},48723:function(t,b,a){var n,c,f,g,e,h;function d(k,l){this.Na=k;this.WZa=l;}Object.defineProperty(b,"__esModule",{value:!0});b.FAa=void 0;t=a(22970);n=a(30869);c=a(5021);f=a(10306);g=a(74267);e=a(66523);a=a(22674);d.prototype.poc=function(){for(var k="",l=this.Na.Mg.oa(c.za),m=6;m--;)(k=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[l % 32] + k,l=Math.floor(l / 32));for(;30 > k.length;)k+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.WZa.RJb(new g.lGa(0,31,e.iGb))];return k;};h=d;b.FAa=h;b.FAa=h=t.__decorate([(0,a.aa)(),t.__param(0,(0,a.v)(n.Li)),t.__param(1,(0,a.v)(f.dja))],h);},66085:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z7a=void 0;b.Z7a=function(a,d,n,c){this.ij=a;this.bu=d;this.ooa=c;};},99662:function(t,b,a){var n,c,f,g,e,h,k,l;function d(m,p,q,r,u){this.Aic=m;this.kt=p;this.ec=r;this.WHc=u;this.D8a=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=q.wb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.GAa=void 0;t=a(22970);n=a(36129);c=a(42207);f=a(66085);g=a(87386);e=a(58393);h=a(22674);k=a(17892);a=a(70285);d.prototype.pub=function(m){try{return m.match(this.D8a)[2];}catch(p){}};d.prototype.nmc=function(m){try{return m.match(this.D8a)[1];}catch(p){}};d.prototype.create=function(m){var p;p=this;return new Promise(function(q,r){p.kt.create().then(function(u){var w,x,y,A,z,B;function v(C){p.ec.vx(C) && p.ec.vx(w)?(x=new f.Z7a(C,w,void 0,y,m.o9 || "cadmium"),q(x)):r({Ua:n.Y.H7a});}w=m.bu;if(m.ZQa){y="bind_device";p.WHc.Ue({log:p.log},{}).then(function(C){v(C.esn);}).catch(function(C){r(C);});}else if(m.HZ){z=m.ij;if(p.ec.vx(z)){B=p.nmc(z);B != m.bu && p.log.error("esn prefix from ui is different",{ui:B,cad:m.bu,ua:m.userAgent});}else m.NVa && p.log.error("esn from ui is missing");!m.d3 && p.ec.vx(z)?(y="config",v(z)):u.load(m.Bsb).then(function(C){A=C.value;p.ec.vx(A) && (!1,p.ec.vx(z)?(C=p.pub(z),y=C === A?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):y="storage_esn_not_in_config",v(w + A));}).catch(function(C){var H;function D(){u.save(m.Bsb,H,!1).then(function(){v(w + H);}).catch(function(F){r(F);});}function E(){H=p.Aic.poc();!1;D();}if(C.Ua === n.Y.vF){if(p.ec.vx(m.ij)){H=p.pub(m.ij);p.ec.vx(H)?(y="config_since_not_in_storage",D()):(y="generated_since_invalid_in_config_and_not_in_storage",p.log.error("invalid esn passed from UI",m.ij),E());}else (y="generated_since_not_in_config_and_storage",E());}else r(C);});}else v();}).catch(function(u){r(u);});});};l=d;b.GAa=l;b.GAa=l=t.__decorate([(0,h.aa)(),t.__param(0,(0,h.v)(e.Y7a)),t.__param(1,(0,h.v)(k.QI)),t.__param(2,(0,h.v)(g.zb)),t.__param(3,(0,h.v)(c.Mi)),t.__param(4,(0,h.v)(a.aeb))],l);},2492:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bha="CannedChallengeProvider";},49594:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x;Object.defineProperty(b,"__esModule",{value:!0});b.UY=b.ptb=void 0;t=a(22674);d=a(47737);n=a(97485);c=a(21103);f=a(92395);g=a(66372);e=a(2492);h=a(77228);k=a(34008);l=a(17250);m=a(41980);p=a(90581);q=a(91490);r=a(38231);u=a(22266);v=a(48691);w=a(18647);x=a(61738);b.ptb=new t.Ce(function(y){y(d.tha).Ffa(n.MKc);y(u.zab).to(v.ACa).sa();y(w.CCa).to(x.BCa).sa();y(c.wz).vN(function(A){b.UY.parent=A.Jb;return b.UY.get(c.wz);});y(f.z5).$f(function(){return function(){return new g.icb();};});y(e.bha).to(h.Yza).sa();y(k.dBa).to(l.cBa).sa();y(m.OAa).to(p.NAa).sa();y(q.gcb).to(r.LDa).sa();});b.UY=new t.fha({mU:!0});},28048:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.YI={};t.KRb="usable";t.Qx="expired";t.released="released";t.gHb="output-restricted";t.TGc="output-downscaled";t.NSc="status-pending";t.vwc="internal-error";},28289:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.jC=void 0;b.jjc=function(d){switch(d){case a.FCb:return "lg";case a.iKb:return "lc";case a.hKb:return "lr";case a.jKb:return "renew_lc";case a.kKb:return "renew_lr";case a.lKb:return "renew_lr_failed";case a.ILc:return "ilc";case a.JLc:return "ilr";case a.Zlb:return "ld";case a.gmb:return "renew_ld";case a.hmb:return "renew_ld_failed";default:return "unknown";}};(function(d){d[d.FCb=0]="licenseStarted";d[d.iKb=1]="receivedLicenseChallenge";d[d.hKb=2]="receivedLicense";d[d.jKb=3]="receivedRenewalChallengeComplete";d[d.kKb=4]="receivedRenewalLicenseComplete";d[d.lKb=5]="receivedRenewalLicenseFailed";d[d.ILc=6]="receivedIndivChallengeComplete";d[d.JLc=7]="receivedIndivLicenseComplete";d[d.Zlb=8]="addLicenseComplete";d[d.gmb=9]="addRenewalLicenseComplete";d[d.hmb=10]="addRenewalLicenseFailed";})(a || (b.jC=a={}));},47737:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.k8a="DrmServicesSymbol";b.tha="DrmServicesProviderSymbol";},41980:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.OAa="DrmTraitsFactorySymbol";},53921:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.vr={};t[t.h1=0]="playready";t[t.JSb=1]="widevine";t[t.sZ=2]="fairplay";},27995:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.o6={};t[t.Request=0]="Request";t[t.Rfb=1]="Renewal";},34008:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.dBa="EmeApiFactorySymbol";},23563:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.kC="EmeConfigSymbol";},10060:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q8a="EmeSessionFactorySymbol";},22266:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zab="KeySystemProviderSymbol";},18647:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.CCa="KeySystemRestrictorSymbol";},91490:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.gcb="MediaKeySystemAccessInternalFactorySymbol";},21103:function(t,b){function a(d){return d?{supported:!1,reason:d}:{supported:!0};}Object.defineProperty(b,"__esModule",{value:!0});b.wz=void 0;b.Mqb=function(d){return a(d);};b.z3a=function(d,n,c){c && d[n].status.supported && (d[n].status=a(c));};b.dxb=function(d){for(var n,c=d.length - 1;0 <= c;c--)if(d[c].status.supported){n=c;break;}return n;};b.wz="MediaKeySystemAccessServicesSymbol";},92395:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.z5="MediaKeysStorageFactorySymbol";},51120:function(t,b,a){var d,n,c,f,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.qtb=void 0;t=a(22674);d=a(47737);n=a(80075);c=a(21103);f=a(9717);g=a(10060);e=a(74946);b.qtb=new t.Ce(function(h){h(d.k8a).to(n.MAa).sa();h(c.wz).to(f.MDa).sa();h(g.Q8a).to(e.fBa);});},77228:function(t,b,a){var n,c,f,g,e,h,k,l;function d(m,p,q,r,u){this.MY=m;this.Kd=p;this.c0=r;this.zu=u;this.log=q.wb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Yza=void 0;t=a(22970);n=a(22674);c=a(47737);f=a(2248);g=a(87386);e=a(92395);h=a(21103);k=a(53921);l=a(84218);d.prototype.jSa=function(m){var p;p=this;return Promise.all([this.MY(),this.qRa()]).then(function(q){var r;r=Ea(q);q=r.next().value;r=r.next().value;return q.qoc({type:m,initData:r,Wqa:!1},p.c0());}).then(function(q){var r;r=Ea(q);q=r.next().value;r=r.next().value;r=p.Kd.encode(r.data[0]);p.log.trace("Challenge generated",r);return {ul:q,pMa:r};});};d.prototype.qRa=function(){var m;m=this;return this.zu.cH().then(function(p){return p.mD();}).then(function(p){switch(p){case k.vr.sZ:return l.m9a;case k.vr.h1:return l.zeb;default:return l.Yib;}}).then(function(p){return p.map(m.Kd.decode);});};a=d;b.Yza=a;b.Yza=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.tha)),t.__param(1,(0,n.v)(f.om)),t.__param(2,(0,n.v)(g.zb)),t.__param(3,(0,n.v)(e.z5)),t.__param(4,(0,n.v)(h.wz))],a);},80075:function(t,b,a){var n,c,f,g,e,h,k,l,m;function d(p,q,r,u,v,w){var x;x=this;this.xT=q;this.config=r;this.Yjc=u;this.c0=v;this.Sq=w;this.zTc=function(y,A){var z;x.Sq.mark(m.nb.Dha,y.Ns.Ia,"generate-challenge");z=!1;A.nQc(function(B){z || (z=!0,x.Sq.mark(m.nb.Cha,y.Ns.Ia,"generate-challenge"));x.Uqc(y,A,B).then(function(C){A.Ylb(C);}).catch(function(C){return A.i6b(C);});});};this.log=p.wb("DrmServices");this.config.iAb && this.wNa(v(),e.xr.Er).then(function(y){return y.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.MAa=void 0;t=a(22970);n=a(22674);c=a(87386);f=a(69493);g=a(77134);e=a(24735);h=a(23563);k=a(10060);l=a(92395);m=a(63156);d.prototype.qoc=function(p,q){return this.wNa(q,p.type,p.XA).then(function(r){return r.toc(p.initData,p.Wqa).then(function(u){return [r,{zQ:r.mD(),data:u.oK}];});});};d.prototype.vu=function(p,q){var r;r=this;this.log.info("Requesting challenges",this.fxb(p,p.type));return this.wNa(q,p.type,p.XA).then(function(u){r.dFb(p,u);return u.uoc(p.initData,p.Wqa).then(function(){return u;});});};d.prototype.dFb=function(p,q){q.zQc(p.Ns);this.zTc(p,q);};d.prototype.fxb=function(p,q){return {movieId:p.Ns.R,videoTrackId:p.Ns.Vp,xid:p.Ns.Ia,type:(0,e.GCb)(q)};};d.prototype.Uqc=function(p,q,r){this.log.info("Sending license request",this.fxb(p,r.Hi));return this.xT.vu({Ia:p.Ns.Ia,Zd:p.Ns.Zd,dtb:[p.Ns.js],oK:[{sessionId:q.pR() || "session",data:r.oK}],Hi:r.Hi,zQ:q.mD(),Oob:r.Oob,wp:p.Ns.wp,yf:p.Ns.yf,J:p.Ns.R,Vp:p.Ns.Vp});};d.prototype.wNa=function(p,q,r){return this.Yjc.create().then(function(u){return u.createSession(p,q,r).then(function(){return u;});});};a=d;b.MAa=a;b.MAa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.zb)),t.__param(1,(0,n.v)(f.j8a)),t.__param(2,(0,n.v)(h.kC)),t.__param(3,(0,n.v)(k.Q8a)),t.__param(4,(0,n.v)(l.z5)),t.__param(5,(0,n.v)(g.D5))],a);},97485:function(t,b,a){var d,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});b.MKc=function(e){f.UY.parent=e.Jb;return function(){g || (g=new Promise(function(h,k){try{h(f.UY.get(c.k8a));}catch(l){k(new n.gk(d.da.pXb,d.Y.AXb,void 0,"Unable to extract the DRM services from the dependency injector",l));}}));return g;};};d=a(36129);n=a(61731);c=a(47737);f=a(49594);},90581:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q;function d(r,u,v,w,x,y){this.Aj=r;this.Ml=u;this.Kd=v;this.config=w;this.Nx=x;this.Yi=y;}Object.defineProperty(b,"__esModule",{value:!0});b.NAa=void 0;t=a(22970);n=a(22674);c=a(6405);f=a(2248);g=a(84408);e=a(4203);h=a(7605);k=a(53921);l=a(23563);m=a(65315);p=a(20674);q=a(8265);d.prototype.create=function(r){switch(r){case k.vr.h1:return new p.$Aa(this.Ml,this.Kd);case k.vr.sZ:return new q.HGa(this.Ml,this.Kd,this.Aj,this.Yi);default:return new m.aAa(this.Ml,this.Kd,this.Nx,this.config);}};a=d;b.NAa=a;b.NAa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(g.AF)),t.__param(1,(0,n.v)(c.YN)),t.__param(2,(0,n.v)(f.om)),t.__param(3,(0,n.v)(e.Ic)),t.__param(4,(0,n.v)(l.kC)),t.__param(5,(0,n.v)(h.zz))],a);},17250:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q;function d(r,u,v,w,x,y){this.Rf=r;this.Aj=u;this.Kd=v;this.is=w;this.wca=x;this.Nx=y;}Object.defineProperty(b,"__esModule",{value:!0});b.cBa=void 0;t=a(22970);n=a(22674);c=a(2248);f=a(42207);g=a(63368);e=a(84408);h=a(74870);k=a(53921);l=a(23563);m=a(81471);p=a(963);q=a(90349);d.prototype.create=function(r){switch(r){case k.vr.h1:return new p.ZFa(this.wca,this.is,this.Kd,this.Rf,this.Nx,this.Aj);case k.vr.sZ:return new m.wBa(this.wca,this.is,this.Kd,this.Rf,this.Nx,this.Aj);default:return new q.Bz(this.wca,this.is,this.Kd,this.Rf,this.Nx,this.Aj);}};a=d;b.cBa=a;b.cBa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(h.Bm)),t.__param(1,(0,n.v)(e.AF)),t.__param(2,(0,n.v)(c.om)),t.__param(3,(0,n.v)(f.Mi)),t.__param(4,(0,n.v)(g.I5)),t.__param(5,(0,n.v)(l.kC))],a);},18135:function(t,b,a){var n,c,f,g,e,h;function d(k,l,m){k=c.Tf.call(this,k,void 0 === m?"EmeConfigImpl":m) || this;k.Le=l;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.eBa=void 0;t=a(22970);n=a(22674);c=a(64174);f=a(83767);g=a(5021);e=a(12501);a=a(22816);Ia(d,c.Tf);Ha.Object.defineProperties(d.prototype,{gIb:{configurable:!0,enumerable:!0,get:function(){return !0;}},iAb:{configurable:!0,enumerable:!0,get:function(){return this.Le.LAb || this.Le.ara || this.Le.gba?!0:!1;}},K_:{configurable:!0,enumerable:!0,get:function(){return (0,g.Zi)(5);}},fIb:{configurable:!0,enumerable:!0,get:function(){return (0,g.Zi)(10);}},LOa:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},lQa:{configurable:!0,enumerable:!0,get:function(){return !1;}},BOa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Iy:{configurable:!0,enumerable:!0,get:function(){return !0;}},Lmb:{configurable:!0,enumerable:!0,get:function(){return (0,g.Zi)(30);}},Mmb:{configurable:!0,enumerable:!0,get:function(){return (0,g.Zi)(30);}},Pmb:{configurable:!0,enumerable:!0,get:function(){return (0,g.Zi)(30);}},Nmb:{configurable:!0,enumerable:!0,get:function(){return (0,g.Zi)(30);}},Qmb:{configurable:!0,enumerable:!0,get:function(){return (0,g.Zi)(30);}},H0a:{configurable:!0,enumerable:!0,get:function(){return "";}},hHb:{configurable:!0,enumerable:!0,get:function(){return !0;}},iHb:{configurable:!0,enumerable:!0,get:function(){return !1;}},IQb:{configurable:!0,enumerable:!0,get:function(){return this.Le.gba?!1:!0;}}});h=d;b.eBa=h;t.__decorate([e.config(e.qd,"persistentStateRequired")],h.prototype,"gIb",null);t.__decorate([e.config(e.qd,"initializeKeySystemAtStartup")],h.prototype,"iAb",null);t.__decorate([e.config(e.ro,"licenseRenewalRequestDelay")],h.prototype,"K_",null);t.__decorate([e.config(e.ro,"persistedReleaseDelay")],h.prototype,"fIb",null);t.__decorate([e.config(e.string,"drmPersistKey")],h.prototype,"LOa",null);t.__decorate([e.config(e.qd,"forceLimitedDurationLicense")],h.prototype,"lQa",null);t.__decorate([e.config(e.qd,"disableLicenseRenewal")],h.prototype,"BOa",null);t.__decorate([e.config(e.qd,"prepareCadmium")],h.prototype,"Iy",null);t.__decorate([e.config(e.ro,"apiCloseTimeout")],h.prototype,"Lmb",null);t.__decorate([e.config(e.ro,"apiCreateMediaKeysTimeout")],h.prototype,"Mmb",null);t.__decorate([e.config(e.ro,"apiSetServerCertificateTimeout")],h.prototype,"Pmb",null);t.__decorate([e.config(e.ro,"apiGenerateRequestTimeout")],h.prototype,"Nmb",null);t.__decorate([e.config(e.ro,"apiUpdateTimeout")],h.prototype,"Qmb",null);t.__decorate([e.config(e.string,"serverCertificate")],h.prototype,"H0a",null);t.__decorate([e.config(e.qd,"outputRestrictedIsFatal")],h.prototype,"hHb",null);t.__decorate([e.config(e.qd,"outputRestrictedIsFatalForUhd")],h.prototype,"iHb",null);t.__decorate([e.config(e.qd,"uhdKeyIsUsable")],h.prototype,"IQb",null);b.eBa=h=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.Qo)),t.__param(1,(0,n.v)(a.oV)),t.__param(2,(0,n.v)(f.eha)),t.__param(2,(0,n.optional)())],h);},61731:function(t,b,a){var n,c;function d(f,g,e,h,k){f=void 0 === f?n.da.zh:f;return c.se.call(this,f,g,e,void 0,void 0,h,c.se.jj(k),k) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.gk=void 0;n=a(36129);c=a(31149);Ia(d,c.se);b.gk=d;},74946:function(t,b,a){var n,c,f,g,e,h,k,l;function d(m,p,q,r,u,v){this.lw=m;this.Xa=p;this.Kd=q;this.config=r;this.Ip=u;this.zu=v;}Object.defineProperty(b,"__esModule",{value:!0});b.fBa=void 0;t=a(22970);n=a(22674);c=a(87386);f=a(81918);g=a(2248);e=a(23563);h=a(59818);k=a(97737);a=a(21103);d.prototype.create=function(){var m;m=this;return this.zu.cH().then(function(p){return new k.R8a(m.lw,m.Xa,m.Kd,m.config,m.Ip,p);});};l=d;b.fBa=l;b.fBa=l=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.zb)),t.__param(1,(0,n.v)(f.ie)),t.__param(2,(0,n.v)(g.om)),t.__param(3,(0,n.v)(e.kC)),t.__param(4,(0,n.v)(h.sF)),t.__param(5,(0,n.v)(a.wz))],l);},97737:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v;function d(w,x,y,A,z,B){var C;C=this;this.Xa=x;this.Bx=y;this.config=A;this.Ip=z;this.wy=B;this.keyStatuses=new m.wc({});this.NXa=function(D){var E,H,F,G,J,L;try{H=C.kr.qNa(D);F=H.vS;G=H.messageType;J=H.sessionId;C.UR=C.UR || H.UR;C.Dea(J);C.log.trace("Received " + D.type + " event",{sessionId:J,messageType:G,keyIds:C.UR});if(G === b.qDa){if(C.config.BOa){C.log.trace("Disabling license renewal");return;}C.log.trace("Received a renewal request");C.Hi=f.xr.Er;C.Cu=r.HT;}C.Cu === r.vu && C.xv(g.jC.iKb);C.Cu === r.HT && C.xv(g.jC.jKb);L={oK:F,Oob:G,Hi:C.Hi};null === (E=C.IGb) || void 0 === E?void 0:E.call(C,L);C.YSa(F)?C.SR(new l.se(c.da.z8a)):C.lp && !C.lp.ASb && C.wBb(L);}catch(K){C.SR(K);}};this.tdc=function(D){for(var E=new Uint8Array(D),H=0;H < D.length;H+=2)(E[H]=D[H + 1],E[H + 1]=D[H]);return E;};this.sdc=function(D){D=C.Bx.decode(D);D=C.tdc(D);return C.Bx.encode(D);};this.LXa=function(D){var E,H,F,G,K,M,P,I,O,Q,T,U,W,Z,ba,ca,da;H=D.target;F=H.keyStatuses;C.Dea(H.sessionId);C.log.trace("Received event: " + D.type);try{D=[];for(var J=Ea(F),L=J.next();!L.done;L=J.next()){K=Ea(L.value);M=K.next().value;P=K.next().value;I=C.Bx.encode(new Uint8Array(M));O=null === (E=C.XA) || void 0 === E?void 0:E[I];D.push({YA:I,status:P,height:O});}D.sort(function(ia,S){return (ia.height || 0) - (S.height || 0);});Q=D.map(function(ia){return ia.YA;});T=D.map(function(ia){return ia.height;});U=D.map(function(ia){return ia.status;});C.ZUa=Q + ", " + T + ", " + U;C.log.trace("KeyStatus: " + C.ZUa);E={};for(var X=Ea(F),Y=X.next();!Y.done;Y=X.next()){W=Ea(Y.value);Z=W.next().value;ba=W.next().value;ca=C.Bx.encode(new Uint8Array(Z));da=u[ba];E[ca]=da.status;C.NR(ca,da.error) && (G=new h.gk(da.error));}C.keyStatuses.set(E);}catch(ia){G=new h.gk(c.da.w_b);G.n9(ia);}G?C.aB?C.TUa(G):C.mra(G):(C.kr.Rma() || C.xBb(),C.Hi !== f.xr.dJ || C.kr.xLa() || (C.config.BOa?C.log.trace("Disabling license renewal"):C.RMc()));};this.xGb=function(D){C.log.error("MediaKeySession closed unexpectedly: " + D);C.mra(new l.se(c.da.VAa,v[D]));};this.SR=function(D){C.close().then(function(){var E;C.log.trace("Issuing a generate challenge error");null === (E=C.lp) || void 0 === E?void 0:E.x2.reject(D);C.lp=void 0;},function(E){var H;C.log.error("EmeSession closed with an error.",C.kr.uK(E));null === (H=C.lp) || void 0 === H?void 0:H.x2.reject(D);C.lp=void 0;});};this.wBb=function(D){var E;null === (E=C.lp) || void 0 === E?void 0:E.x2.resolve(D);C.lp=void 0;};this.TUa=function(D){C.log.error("Failed to add license",D);C.close().then(function(){var E,H;C.log.trace("Issuing a license error");null === (E=C.lp) || void 0 === E?void 0:E.x2.reject(D);C.lp=void 0;null === (H=C.aB) || void 0 === H?void 0:H.reject(D);C.aB=void 0;},function(E){var H,F;C.log.error("EmeSession closed with an error.",C.kr.uK(E));C.Cu === r.HT && C.xv(g.jC.hmb);null === (H=C.lp) || void 0 === H?void 0:H.x2.reject(D);C.lp=void 0;null === (F=C.aB) || void 0 === F?void 0:F.reject(D);C.aB=void 0;});};this.xBb=function(){C.aB && (C.log.info("Successfully added license"),C.Cu === r.vu?C.xv(g.jC.Zlb):C.Cu === r.HT && C.xv(g.jC.gmb),C.aB.resolve(),C.aB=void 0);};this.mra=function(D){C.close().then(function(){var E;C.log.trace("Issuing a CDM error");C.lp=void 0;C.aB=void 0;null === (E=C.GXa) || void 0 === E?void 0:E.call(C,D);},function(E){var H;C.log.error("EmeSession closed with an error.",C.kr.uK(E));C.lp=void 0;C.aB=void 0;null === (H=C.GXa) || void 0 === H?void 0:H.call(C,D);});};this.xv=function(D){C.If.push({time:C.Xa.yc(),kca:D});};this.OKb=!1;this.log=w.wb("EmeSession");this.Cu=r.PVc;this.nk=B.Jqb();this.kr=B.Hqb();this.If=[];this.GXa=function(D){C.z_a=D;};}Object.defineProperty(b,"__esModule",{value:!0});b.R8a=b.qDa=b.rDa=void 0;n=a(5021);c=a(36129);f=a(24735);g=a(28289);t=a(28048);e=a(27995);h=a(61731);k=a(59818);l=a(31149);m=a(81734);p=a(94293);q=a(82100);(function(w){w[w.PVc=0]="unknown";w[w.create=1]="create";w[w.vu=2]="license";w[w.HT=3]="renewal";w[w.closed=4]="closed";})(r || (r={}));b.rDa="license-request";b.qDa="license-renewal";u={usable:{status:t.YI.KRb},expired:{status:t.YI.Qx,error:c.da.FEa},released:{status:t.YI.released},"output-not-allowed":{status:t.YI.gHb,error:c.da.Fdb},"output-restricted":{status:t.YI.gHb,error:c.da.GEa},"output-downscaled":{status:t.YI.TGc},"status-pending":{status:t.YI.NSc},"internal-error":{status:t.YI.vwc,error:c.da.v_b}};v={"internal-error":c.Y.hWb,"closed-by-application":c.Y.fWb,"release-acknowledged":c.Y.jWb,"hardware-context-reset":c.Y.TAa,"resource-evicted":c.Y.kWb};d.prototype.Nqc=function(){return this.wy.my;};d.prototype.bxb=function(){return this.ZUa;};d.prototype.pR=function(){return this.sessionId;};d.prototype.close=function(){var w;w=this;this.IGb=void 0;this.Cu=r.closed;this.If=[];void 0 !== this.Hva && (Ba.clearTimeout(this.Hva),this.Hva=void 0);return this.nk.Uxc()?(this.log.trace("Closing the session"),this.nk.CKb(this.NXa),this.nk.zKb(this.LXa),this.mediaKeys=void 0,this.Ip.Us(this.config.Lmb,this.nk.close()).then(function(){w.log.info("Closed the session");}).catch(function(x){w.log.error("Close failed",x);w.kr.uK(x).code=c.da.x_b;throw x;})):Promise.resolve(void 0);};d.prototype.mD=function(){return this.wy.mD();};d.prototype.czb=function(){return void 0 !== this.bB;};d.prototype.createSession=function(w,x,y){var A,z;A=this;this.XA=null !== (z=this.XA) && void 0 !== z?z:y;this.Hi=x;this.Cu=r.create;this.xv(g.jC.FCb);return (w.ezb()?Promise.resolve():this.Ip.Us(this.config.Mmb,this.nk.createMediaKeys(this.wy)).then(function(B){A.log.trace("Created media keys");return A.J7b(B).then(function(){return w.$lb(B);}).catch(function(C){return Promise.reject(A.FZa(C,c.da.lWb));});})).then(function(){A.mediaKeys=w.mediaKeys;try{A.nk.createSession(A.mediaKeys,A.xGb);A.nk.amb(A.NXa);A.nk.Xlb(A.LXa);A.Dea(A.nk.pR());}catch(B){return Promise.reject(A.FZa(B,c.da.gWb));}}).catch(function(B){return Promise.reject(A.FZa(B,c.da.SAa));});};d.prototype.zQc=function(w){this.Ns=w;this.log.Ulb("xid",w.Ia);};d.prototype.toc=function(w,x){return this.generateRequest(w,x,!1).then(function(y){return y;});};d.prototype.uoc=function(w,x){return this.generateRequest(w,x,!0).then(function(){});};d.prototype.Ylb=function(w,x){var y;this.XA=null !== (y=this.XA) && void 0 !== y?y:x;this.D_=w.D_;w=w.bB.map(function(A){return A.data;});this.YSa(w)?(this.log.error("The license buffer is empty"),this.SR(new h.gk(c.da.y8a,c.Y.w8a))):(this.Cu === r.vu && (this.xv(g.jC.hKb),this.bB=w,this.ftb=this.kr.NZ(this.UR,w),this.lp && this.lp.ASb && this.wBb()),this.Cu === r.HT && (this.xv(g.jC.kKb),this.bB=w,this.ftb=this.kr.NZ(this.UR,w),this.bLa()));};d.prototype.i6b=function(w){this.Cu === r.HT?(this.xv(g.jC.lKb),this.mra(w)):this.SR(w);};d.prototype.bLa=function(){var w,x;w=this;if(!this.bB){x=new h.gk(c.da.y8a,c.Y.A8a);this.TUa(x);return Promise.reject(x);}this.aB=new p.Uia();x=this.bB;this.bB=void 0;this.Ip.Us(this.config.Qmb,this.nk.update(x,this.Cu === r.vu?e.o6.Request:e.o6.Rfb,this.UR)).then(function(){w.kr.Rma() && w.xBb();}).catch(function(y){y=w.kr.uK(y);y.code=c.da.Jdb;y.message="Unable to update the EME";w.log.error(y.message,y);w.TUa(y);});return this.aB.promise;};d.prototype.nQc=function(w){this.IGb=w;};d.prototype.bQc=function(w){this.GXa=w;this.z_a && (w(this.z_a),this.z_a=void 0);};d.prototype.NZ=function(){return this.ftb;};d.prototype.generateRequest=function(w,x,y){var A;A=this;this.Cu=r.vu;this.log.trace("Generating a license challenge");if(!w)return (w=new h.gk(c.da.x8a,c.Y.A8a),this.SR(w),Promise.reject(w));if(this.YSa(w))return (w=new h.gk(c.da.x8a,c.Y.w8a),this.SR(w),Promise.reject(w));this.lp={x2:new p.Uia(),ASb:y};this.Ip.Us(this.config.Nmb,this.nk.generateRequest(this.kr.rRa(),w,x)).then(function(){A.Dea(A.nk.pR());}).catch(function(z){var B,C;B=new h.gk(c.da.vha,z instanceof k.jx?c.Y.i4:c.Y.wr);try{C=A.kr.uK(z);B.extCode=C.extCode;B.message="Unable to generate request.";B.n9(z);}catch(D){}A.log.error("Unable to generate a license request",B);A.SR(B);});return this.lp.x2.promise;};d.prototype.J7b=function(w){return this.Ip.Us(this.config.Pmb,this.nk.setServerCertificate(w,this.kr.ipa()));};d.prototype.Dea=function(w){w && w !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + w),this.sessionId=w,this.log.Ulb("sessionId",w));};d.prototype.RMc=function(){var w;w=this;this.OKb || (this.OKb=!0,this.log.info("Kicking off license renewal",{timeout:this.config.K_}),this.Hva=Ba.setTimeout(function(){w.Hva=void 0;w.Oda();},this.config.K_.oa(n.za)));};d.prototype.dyc=function(w){var x,y;return 1080 < (null !== (y=null === (x=this.XA) || void 0 === x?void 0:x[w]) && void 0 !== y?y:0);};d.prototype.NR=function(w,x){var y;y=this.nk.Zwb();return y && !y.includes(w)?!1:x === c.da.GEa?this.dyc(w)?this.config.iHb:this.config.hHb:!!x;};d.prototype.Oda=function(){this.log.trace("Initiating a renewal request");this.Hi=f.xr.Er;this.Cu=r.HT;this.kr.hMa()?this.kr.YTa(this.nk):this.gna();};d.prototype.gna=function(){var w;w=this;this.nk.gna(this.mediaKeys,this.NXa,this.LXa,this.xGb).then(function(){w.log.debug("Creating session to renew license");w.Dea(w.nk.pR());}).catch(function(){w.mra(new h.gk(c.da.vha));});};d.prototype.YSa=function(w){return 0 === w.length || w.reduce(function(x,y){return x || 0 === y.length;},!1);};d.prototype.FZa=function(w,x){var y,A;if((null === w || void 0 === w?0:w.code) && (null === w || void 0 === w?0:w.subCode))return w;A=(0,q.VRa)(null === w || void 0 === w?void 0:w.message);return new h.gk(x,w instanceof k.jx?c.Y.i4:c.Y.wr,null === (y=null === A || void 0 === A?void 0:A.toString(16)) || void 0 === y?void 0:y.toUpperCase(),null === w || void 0 === w?void 0:w.message,w);};Ha.Object.defineProperties(d.prototype,{XA:{configurable:!0,enumerable:!0,get:function(){return this.x3b;},set:function(w){var x,y;x=this;if(w){y={};Object.entries(w).forEach(function(A){var z;z=Ea(A);A=z.next().value;z=z.next().value;y[A]=z;y[x.sdc(A)]=z;});this.x3b=y;}}}});b.R8a=d;},84218:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yib=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.m9a=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.zeb=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},48691:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r;function d(u,v,w,x,y,A){this.lw=u;this.config=v;this.v9=w;this.ED=x;this.XRb=y;this.Ip=A;this.log=this.lw.wb("KeySystemProvider");}Object.defineProperty(b,"__esModule",{value:!0});b.ACa=void 0;n=a(22970);t=a(22674);c=a(66523);f=a(87386);g=a(4203);e=a(17612);h=a(82100);k=a(41980);l=a(18647);m=a(21103);p=a(75236);q=a(59818);r=a(5021);d.prototype.get=function(){var u,v;u=this;try{v=this.Nfc();return Promise.all([this.tsc(),this.ED.get()]).then(function(w){var x,y,A;w=Ea(w);x=w.next().value;y=w.next().value;v.forEach(function(z){var B;B=u.Mmc(z.xra,x);z.status=(0,m.Mqb)(B);});A=(0,m.dxb)(v);v.forEach(function(z,B){var C;C=B === A;z.status.supported && !C && (z=u.Pmc(z.xra,y),(0,m.z3a)(v,B,z));});return v;});}catch(w){throw (this.log.error("KeySystemProvider failed.",w),w);}};d.prototype.Nfc=function(){var u,v;u=this;v=(this.config().$Ua || [this.config().ly]).map(function(w){var x;x=e.mb.B$(w);x=u.v9.create(x).hSa();return (0 < x.length?x:[void 0]).map(function(y){return {keySystem:w,robustness:y};});});return (0,c.flatten)(v).map(function(w){return {xra:w,status:(0,m.Mqb)(void 0)};});};d.prototype.Mmc=function(u,v){var w;if(e.mb.Qha.includes(u.keySystem) || h.t$a.includes(null !== (w=u.robustness) && void 0 !== w?w:"")){if(v)return v;if(this.config().EEb && 1440 > Ba.screen.height * Ba.devicePixelRatio)return "hwdrm-screen-height";}};d.prototype.Pmc=function(u,v){u=(0,h.eqb)(u);if(v.includes(u))return "too-many-errors";};d.prototype.Wrc=function(){return n.__awaiter(this,void 0,void 0,function v(){var w;w=this;return Ua(v,function(x){return x.return(w.Ip.Us((0,r.ic)(1E3),w.XRb.architecture).catch(function(){}));});});};d.prototype.Xrc=function(){return n.__awaiter(this,void 0,void 0,function v(){var w;w=this;return Ua(v,function(x){return x.return(w.Ip.Us((0,r.ic)(1E3),w.XRb.platformVersion).catch(function(){}));});});};d.prototype.Cxc=function(u,v){return 0 === v?!0:u?(parseInt(u.split(".")[0],10) || 0) >= v:!1;};d.prototype.tsc=function(){return n.__awaiter(this,void 0,void 0,function v(){var w,x;w=this;return Ua(v,function(y){x=w;return y.return(Promise.resolve().then(function(){return x.config().Akc?x.Xrc().then(function(A){var z;z=x.config().$Cc;if(!x.Cxc(A,z))return "os-version";}):x.config().Dkc?x.Wrc().then(function(A){if("arm" !== A)return "architecture-not-arm";}):"hwdrm-not-enabled";}));});});};a=d;b.ACa=a;b.ACa=a=n.__decorate([(0,t.aa)(),n.__param(0,(0,t.v)(f.zb)),n.__param(1,(0,t.v)(g.Ic)),n.__param(2,(0,t.v)(k.OAa)),n.__param(3,(0,t.v)(l.CCa)),n.__param(4,(0,t.v)(p.vib)),n.__param(5,(0,t.v)(q.sF))],a);},61738:function(t,b,a){var n,c,f,g;function d(e,h,k){this.config=e;this.lw=h;this.$La=k;this.hea=[];this.W_a={};this.Wva={};this.log=this.lw.wb("KeySystemRestrictor");this.uAc=this.config().Atb?this.$La.load():Promise.resolve([]);}Object.defineProperty(b,"__esModule",{value:!0});b.BCa=void 0;t=a(22970);n=a(22674);c=a(87386);f=a(4203);a=a(33258);d.prototype.get=function(){var e;e=this;try{return this.config().Atb?this.uAc.then(function(h){return e.Ymc(h);}):Promise.resolve([]);}catch(h){return (this.log.error("KeySystemRestrictor failed.",h),Promise.resolve([]));}};d.prototype.Ymc=function(e){var k;this.hea=[];this.W_a={};this.Wva={};e=e.reduce(function(l,m){l[m.keySystem] || (l[m.keySystem]=[]);l[m.keySystem].push(m);return l;},{});this.log.debug("KeySystemErrorCounts: " + JSON.stringify(e));e=Ea(Object.entries(e));for(var h=e.next();!h.done;h=e.next()){k=Ea(h.value);h=k.next().value;k=k.next().value;if(k=this.Ruc(k))(this.hea.push(h),this.Wva[h]=k);}this.hea.some(function(){return !0;}) && this.log.warn("Restricted KeySystems: " + this.Wva);return this.hea;};d.prototype.Ruc=function(e){var h,k,l;h=this;l=e.reduce(function(m,p){h.config().Jlc.includes(p.code) && (p=h.xfc(p),m[p] || (m[p]=0),m[p]++);return m;},{});this.W_a[e[0].keySystem]=l;return null === (k=Object.entries(l).find(function(m){m=Ea(m);m.next();return m.next().value >= h.config().Llc;})) || void 0 === k?void 0:k[0];};d.prototype.xfc=function(e){return [e.code,e.subCode,e.extCode].filter(Boolean).join(".");};Ha.Object.defineProperties(d.prototype,{XBb:{configurable:!0,enumerable:!0,get:function(){return this.hea;}},YBb:{configurable:!0,enumerable:!0,get:function(){return this.W_a;}},WBb:{configurable:!0,enumerable:!0,get:function(){return this.Wva;}}});g=d;b.BCa=g;b.BCa=g=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.Ic)),t.__param(1,(0,n.v)(c.zb)),t.__param(2,(0,n.v)(a.Xza))],g);},38231:function(t,b,a){var n,c,f,g;function d(e,h){this.v9=e;this.y9=h;}Object.defineProperty(b,"__esModule",{value:!0});b.LDa=void 0;t=a(22970);n=a(22674);c=a(41980);f=a(34008);g=a(52428);d.prototype.create=function(e,h,k){return new g.hcb(e,this.v9,this.y9,h,k);};a=d;b.LDa=a;b.LDa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.OAa)),t.__param(1,(0,n.v)(f.dBa))],a);},52428:function(t,b,a){var n,c;function d(f,g,e,h,k){this.keySystem=f;this.v9=g;this.y9=e;this.wy=h;this.zQ=k;this.mediaKeys=[];}Object.defineProperty(b,"__esModule",{value:!0});b.hcb=void 0;n=a(17612);c=a(82100);d.prototype.createMediaKeys=function(){var f;f=this;return this.wy.createMediaKeys().then(function(g){"function" === typeof WeakRef && f.mediaKeys.push(new WeakRef(g));return g;});};d.prototype.getConfiguration=function(){return this.wy.getConfiguration();};d.prototype.mD=function(){return n.mb.B$(this.wy.keySystem);};d.prototype.Jqb=function(){return this.y9.create(this.zQ);};d.prototype.Hqb=function(){return this.v9.create(this.zQ);};Ha.Object.defineProperties(d.prototype,{my:{configurable:!0,enumerable:!0,get:function(){var f,g;f=this.keySystem;g=(0,c.txb)(this.wy);g && (f+="." + g);return f;}},Csa:{configurable:!0,enumerable:!0,get:function(){return this.mediaKeys.filter(function(f){return void 0 !== f.deref();}).length;}}});b.hcb=d;},9717:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x;function d(y,A,z,B,C,D,E){this.lw=y;this.Kd=A;this.config=z;this.Nx=B;this.cDc=C;this.y9=D;this.Eyc=E;this.log=this.lw.wb("MediaKeySystemAccessServices");this.qOc();}Object.defineProperty(b,"__esModule",{value:!0});b.MDa=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(87386);g=a(61731);e=a(21103);h=a(53921);k=a(2248);l=a(4203);m=a(17612);p=a(82100);q=a(84218);r=a(91490);u=a(34008);v=a(22266);w=a(23563);x=a(73796);d.prototype.cH=function(){this.promise || (this.promise=this.sOc());return this.promise;};d.prototype.$fc=function(y,A,z){var B;z=(A === p.hF || m.mb.Qha.includes(z)) && this.config().DEb;B=[{contentType:x.uc.contentType(x.uc.UE)}];z && B.push({contentType:x.uc.contentType(x.uc.mi)});A && B.forEach(function(C){C.robustness=A;});z={initDataTypes:[p.ZE],videoCapabilities:B,sessionTypes:[p.TEMPORARY]};y === h.vr.JSb && this.Nx.gIb && (z.persistentState="required");return [z];};d.prototype.Nqb=function(y,A){var z;z=this;return new Promise(function(B,C){var D;D=m.mb.B$(y);z.y9.create(D).iNc(y,z.$fc(D,A,y)).then(function(E){z.kbc(E,y,A);z.HAc(y,E);E=z.cDc.create(y,E,D);B(E);}).catch(function(E){z.log.warn("Unable to create the media key system access object",{keySystem:y,error:E.message});C(new g.gk(c.da.v8a,c.Y.wr,void 0,"Unable to create media keys system access. " + E.message,E));});});};d.prototype.Spc=function(){var y;y=this.config().$Ua || [this.config().ly];if(1 < y.length)return (y=y.map(function(A){return m.mb.aRa(m.mb.B$(A));}),1 === new Set(y).size?Promise.resolve(y[0]):this.cH().then(function(A){return A.mD();}).then(function(A){return m.mb.aRa(A);}));y=m.mb.B$(y[0]);return Promise.resolve(m.mb.aRa(y));};d.prototype.kbc=function(y,A,z){A=(z === p.hF || m.mb.Qha.includes(A)) && this.config().DEb;y=y.getConfiguration().videoCapabilities;if(null === y || void 0 === y || !y.some(function(B){return B.contentType === "video/mp4;codecs=" + x.uc.UE;}))throw Error("AVC not supported");if(A && (null === y || void 0 === y || !y.some(function(B){return B.contentType === "video/mp4;codecs=" + x.uc.mi;})))throw Error("HEVC not supported");};d.prototype.HAc=function(y,A){this.log.trace("Created the media keys system access",{keySystem:y,supportedconfig:A.getConfiguration?JSON.stringify(A.getConfiguration()):void 0});};d.prototype.b4a=function(y){var A,z,B,C;A=this;z=y.mD();B=y.Jqb();C=y.Hqb();return y.createMediaKeys().then(function(D){B.createSession(D,function(){});return B.setServerCertificate(D,C.ipa());}).then(function(){return B.generateRequest(p.ZE,A.qRa(z),!1);}).then(function(){return B.close();}).then(function(){return y;}).catch(function(D){A.log.error("validateKeySystemAccess failed",D);return Promise.reject(D);});};d.prototype.qRa=function(y){switch(y){case h.vr.sZ:y=q.m9a;break;case h.vr.h1:y=q.zeb;break;default:y=q.Yib;}return y.map(this.Kd.decode);};d.prototype.sOc=function(){var y;y=this;try{return this.Eyc.get().then(function(A){var z;y.y3b=A;z=(0,e.dxb)(A);return A.map(function(B,C){var D,E;D=B.xra;E=B.status;return function(){var H,F;if(!E.supported)return Promise.reject(Error(D.keySystem + ": " + E.reason));H=C === z;F=y.config().b4a && !H;return y.Nqb(D.keySystem,D.robustness).catch(function(G){(0,e.z3a)(A,C,"not-supported");throw G;}).then(function(G){return F?y.b4a(G):Promise.resolve(G);}).catch(function(G){(0,e.z3a)(A,C,"validation-failed");throw G;});};});}).then(function(A){return y.tOc(A);}).then(function(A){y.keySystemAccess=A;y.my=A.my;return A;});}catch(A){return Promise.reject(A);}};d.prototype.tOc=function(y){return y.reduce(function(A,z){return A.then(function(B){return Promise.resolve(B);}).catch(function(){return z();});},Promise.reject(Error("keySystem missing")));};d.prototype.gbc=function(){var y;y=this;return new Promise(function(A,z){var B;B=Ba.screen.height * Ba.devicePixelRatio;y.config().EEb && 1440 > B?z():A();});};d.prototype.qOc=function(){var y,A;y=this;if(this.config().JAc){A=(this.config().$Ua || [this.config().ly]).filter(function(z){return m.mb.Qha.includes(z) || z === m.mb.Xib;}).map(function(z){return y.Nqb(z,z === m.mb.Xib?p.hF:void 0);});Promise.all([this.gbc()].concat(za(A))).then(function(){return y.Zjb=!0;}).catch(function(){return y.Zjb=!1;});}};Ha.Object.defineProperties(d.prototype,{VBb:{configurable:!0,enumerable:!0,get:function(){return this.my;}},ZBb:{configurable:!0,enumerable:!0,get:function(){return this.y3b;}},UBb:{configurable:!0,enumerable:!0,get:function(){return this.Zjb;}},Csa:{configurable:!0,enumerable:!0,get:function(){var y;return null === (y=this.keySystemAccess) || void 0 === y?void 0:y.Csa;}}});a=d;b.MDa=a;b.MDa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.zb)),t.__param(1,(0,n.v)(k.om)),t.__param(2,(0,n.v)(l.Ic)),t.__param(3,(0,n.v)(w.kC)),t.__param(4,(0,n.v)(r.gcb)),t.__param(5,(0,n.v)(u.dBa)),t.__param(6,(0,n.v)(v.zab))],a);},66372:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.icb=void 0;a.prototype.ezb=function(){return void 0 !== this.mediaKeys;};a.prototype.$lb=function(d){this.mediaKeys=d;};a.prototype.JMc=function(){this.ezb() && (this.mediaKeys=void 0);};b.icb=a;},77699:function(t,b){function a(d,n,c){var f;f=this;this.Kd=d;this.Ok=n;this.Aj=c;this.Lqc=function(g){var e;g=g.subarray(14,30);g=String.fromCharCode.apply(null,g);g=f.Kd.decode(g);g=g.subarray(4);e=new Uint8Array(16);e.set(g);return e;};this.p9a={ZE:1667591779,EUb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.l9a=void 0;a.prototype.edc=function(d,n){n=n?this.p9a.EUb:this.p9a.ZE;d=d.map(function(c){return {Q$c:"",Fyc:c,N7:c,Ndd:c,yXc:[1]};});return this.$Ac(n,d);};a.prototype.ZAc=function(d){var n;n=new Uint8Array(4);new DataView(n.buffer).setUint32(0,d);return this.bWa("fpsi",[n]);};a.prototype.YAc=function(d,n,c){d=[this.bWa("fkri",[d])];n.byteLength && d.push(this.hsa("fkai",[n]));c.length && d.push(this.hsa("fkvl",[new Uint8Array(new Uint32Array(c).buffer)]));return this.hsa("fpsk",d);};a.prototype.$Ac=function(d,n){var c,g;c=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);d=[this.ZAc(d)];for(var f in n){g=n[f];d.push(this.YAc(g.Fyc,g.N7,g.yXc));}n=this.hsa("fpsd",d);f=new Uint8Array(4);new DataView(f.buffer).setUint32(0,n.byteLength);return this.bWa("pssh",[c,f,n]);};a.prototype.bWa=function(d,n){var c,f,g;c=0;for(g in n)c+=n[g].byteLength;c=new Uint8Array(12 + c);f=new DataView(c.buffer);g=0;f.setUint32(g,c.byteLength);g+=4;c.set(this.Aj.decode(d),g);g+=4;f.setUint32(g,0);g+=4;for(var e in n)(d=n[e],c.set(d,g),g+=d.byteLength);return c;};a.prototype.hsa=function(d,n){var c,f;c=0;for(f in n)c+=n[f].byteLength;c=new Uint8Array(8 + c);f=0;new DataView(c.buffer).setUint32(f,c.byteLength);f+=4;c.set(this.Aj.decode(d),f);f+=4;for(var g in n)(d=n[g],c.set(d,f),f+=d.byteLength);return c;};b.l9a=a;},81471:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q;function d(r,u,v,w,x,y){r=c.Bz.call(this,r,u,v,w,x,y) || this;r.Kd=v;r.Ok=w;r.Nx=x;r.Aj=y;r.vzb=new f.l9a(r.Kd,r.Ok,r.Aj);return r;}Object.defineProperty(b,"__esModule",{value:!0});b.wBa=void 0;t=a(22970);n=a(22674);c=a(90349);f=a(77699);g=a(63368);e=a(42207);h=a(2248);k=a(74870);l=a(23563);m=a(84408);p=a(27995);q=a(47450);Ia(d,c.Bz);d.prototype.generateRequest=function(r,u,v){var w,x,y;w=this;try{x=u.map(function(A){return w.vzb.Lqc(A);});this.Zzb=x.map(function(A){return w.Kd.encode(A);});y=this.vzb.edc(x,v);return c.Bz.prototype.generateRequest.call(this,r,[y],!1);}catch(A){return Promise.reject(A);}};d.prototype.update=function(r,u,v){var w,x,y,A,z;w=this;if(v)try{x=this.Aj.encode(r[0]);y=JSON.parse(x).RESPONSES.map(function(B){var C;C=q.tja.dPb(B.ID);return {keyID:u === p.o6.Rfb?w.Zzb[w.Zzb.length - 1]:v[C],payload:B.PAYLOAD};});if(u === p.o6.Request){A=y.map(function(B){return B.keyID;});this.rwc=A;v.forEach(function(B){-1 === A.indexOf(B) && y.push({keyID:B,error:1});});}z=JSON.stringify(y);r=[this.Aj.decode(z)];}catch(B){return Promise.reject(B);}return c.Bz.prototype.update.call(this,r,u);};d.prototype.Oda=function(){return c.Bz.prototype.update.call(this,[this.Aj.decode("renew")],p.o6.Request);};d.prototype.Zwb=function(){return this.rwc;};a=d;b.wBa=a;b.wBa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(g.I5)),t.__param(1,(0,n.v)(e.Mi)),t.__param(2,(0,n.v)(h.om)),t.__param(3,(0,n.v)(k.Bm)),t.__param(4,(0,n.v)(l.kC)),t.__param(5,(0,n.v)(m.AF))],a);},963:function(t,b,a){var n,c,f,g;function d(){var e;e=c.Bz.apply(this,arguments) || this;e.NGb=function(h){var k,l,q;h=h.target.keyStatuses;try{for(var m=Ea(h),p=m.next();!p.done;p=m.next()){q=Ea(p.value);q.next();"usable" === q.next().value && (null === (k=e.Qi) || void 0 === k?void 0:k.removeEventListener("keystatuseschange",e.NGb),null === (l=e.Eka) || void 0 === l?void 0:l.close(),e.Eka=void 0);}}catch(r){console.error("Error handling key status change",r);}};return e;}Object.defineProperty(b,"__esModule",{value:!0});b.ZFa=void 0;t=a(22970);n=a(22674);c=a(90349);f=a(61731);g=a(36129);Ia(d,c.Bz);d.prototype.gna=function(e,h,k,l){this.CKb(h);this.zKb(k);this.Eka=this.Qi;this.Qi=new c.fcb(e,l);this.amb(h);this.Xlb(k);this.Qi.addEventListener("keystatuseschange",this.NGb);return this.generateRequest(this.initDataType,this.initData,!1);};d.prototype.close=function(){var h;function e(k){return k && k.sessionId?k.close():Promise.resolve();}h=this;return this.Qi?Promise.all([e(this.Qi),e(this.Eka)]).then(function(){}).finally(function(){h.Qi=void 0;h.Eka=void 0;}):Promise.reject(new f.gk(g.da.u8a,g.Y.wha,void 0,"Unable to close a key session, key session is not valid"));};d.prototype.generateRequest=function(e,h,k){this.initDataType=e;this.initData=h;return c.Bz.prototype.generateRequest.call(this,e,h,k);};a=d;b.ZFa=a;b.ZFa=a=t.__decorate([(0,n.aa)()],a);},90349:function(t,b,a){var c,f,g,e,h,k,l,m,p,q,r;function d(u,v){var w;w=this;this.Jpb=v;this.IH=u.createSession("temporary");this.IH.closed.then(function(x){var y;return null === (y=w.Jpb) || void 0 === y?void 0:y.call(w,x);});}function n(u,v,w,x,y,A){this.wca=u;this.is=v;this.Kd=w;this.Ok=x;this.Nx=y;this.Aj=A;(0,g.nw)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.fcb=b.Bz=void 0;t=a(22970);f=a(22674);g=a(66523);e=a(36129);h=a(63368);k=a(42207);l=a(61731);m=a(74870);p=a(2248);q=a(23563);a=a(84408);n.prototype.pR=function(){if(this.Qi)return this.Qi.sessionId;};n.prototype.iNc=function(u,v){return this.wca.requestMediaKeySystemAccess(u,v);};n.prototype.createMediaKeys=function(u){return u.createMediaKeys();};n.prototype.createSession=function(u,v){this.Qi=new d(u,v);};n.prototype.gna=function(){return Promise.reject(new l.gk(e.da.vha));};n.prototype.Uxc=function(){return !!this.Qi;};n.prototype.setServerCertificate=function(u,v){return this.is.ala(u.setServerCertificate) && v?u.setServerCertificate(v):Promise.resolve();};n.prototype.generateRequest=function(u,v){return this.Qi?this.Qi.generateRequest(u,v[0]):Promise.reject(new l.gk(e.da.vha,e.Y.wha,void 0,"Unable to generate a license request, key session is not valid"));};n.prototype.update=function(u){return this.Qi?this.Qi.update(u[0]):Promise.reject(new l.gk(e.da.B8a,e.Y.wha,void 0,"Unable to update the EME with a response, key session is not valid"));};n.prototype.close=function(){var u;if(!this.Qi)return Promise.reject(new l.gk(e.da.u8a,e.Y.wha,void 0,"Unable to close a key session, key session is not valid"));u=Promise.resolve();this.pR() && (u=this.Qi.close());this.Qi=void 0;return u;};n.prototype.Oda=function(){return Promise.reject(new l.gk(e.da.UAa,void 0,"Unable to renew a key session, not supported"));};n.prototype.amb=function(u){if(!this.Qi)throw ReferenceError("Unable to add message handler, key session is not valid");this.Qi.addEventListener(c.F8a,u);};n.prototype.Xlb=function(u){if(!this.Qi)throw ReferenceError("Unable to add key status handler, key session is not valid");this.Qi.addEventListener(c.E8a,u);};n.prototype.CKb=function(u){if(!this.Qi)throw ReferenceError("Unable to remove message handler, key session is not valid");this.Qi.removeEventListener(c.F8a,u);};n.prototype.zKb=function(u){if(!this.Qi)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.Qi.removeEventListener(c.E8a,u);};n.prototype.Zwb=function(){};r=c=n;b.Bz=r;r.F8a="message";r.E8a="keystatuseschange";b.Bz=r=c=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(h.I5)),t.__param(1,(0,f.v)(k.Mi)),t.__param(2,(0,f.v)(p.om)),t.__param(3,(0,f.v)(m.Bm)),t.__param(4,(0,f.v)(q.kC)),t.__param(5,(0,f.v)(a.AF))],r);d.prototype.addEventListener=function(u,v,w){this.IH.addEventListener(u,v,w);};d.prototype.removeEventListener=function(u,v,w){this.IH.removeEventListener(u,v,w);};d.prototype.generateRequest=function(u,v){return this.IH.generateRequest(u,v);};d.prototype.update=function(u){return this.IH.update(u);};d.prototype.close=function(){this.Jpb=void 0;return this.IH.close();};Ha.Object.defineProperties(d.prototype,{sessionId:{configurable:!0,enumerable:!0,get:function(){return this.IH.sessionId;}},expiration:{configurable:!0,enumerable:!0,get:function(){return this.IH.expiration;}},keyStatuses:{configurable:!0,enumerable:!0,get:function(){return this.IH.keyStatuses;}}});b.fcb=d;},65315:function(t,b,a){var n,c,f,g,e,h,k,l,m,p;function d(q,r,u,v){this.Ml=q;this.Kd=r;this.Nx=u;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.aAa=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(6405);g=a(2248);e=a(61731);h=a(59818);k=a(23563);l=a(4203);m=a(31149);p=a(82100);d.prototype.Rma=function(){return !1;};d.prototype.xLa=function(){return !0;};d.prototype.hMa=function(){return !0;};d.prototype.rRa=function(){return p.ZE;};d.prototype.ipa=function(){return this.Nx.H0a?this.Kd.decode(this.Nx.H0a):this.Kd.decode(p.Pib);};d.prototype.hSa=function(){return [p.hF,p.sja,p.rja];};d.prototype.YTa=function(){Promise.reject(new m.se(c.da.UAa));};d.prototype.qNa=function(q){var r;return {type:q.type,sessionId:null === (r=q.target) || void 0 === r?void 0:r.sessionId,vS:[new Uint8Array(q.message)],messageType:q.messageType};};d.prototype.uK=function(q){var r,u,v;r=new e.gk(c.da.Fia);u=null === q || void 0 === q?void 0:q.code;null != u && void 0 !== u?(u=parseInt(u,10),r.subCode=1 <= u && 9 >= u?c.Y.AV + u:c.Y.AV):r.subCode=q instanceof h.jx?c.Y.i4:c.Y.wr;try{v=q.message.match(/\((\d*)\)/)[1];r.extCode=this.Ml.Voa(v,4);}catch(w){}r.n9(q);return r;};d.prototype.NZ=function(){};a=d;b.aAa=a;b.aAa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.YN)),t.__param(1,(0,n.v)(g.om)),t.__param(2,(0,n.v)(k.kC)),t.__param(3,(0,n.v)(l.Ic))],a);},20674:function(t,b,a){var n,c,f,g,e,h,k,l;function d(m,p){this.Ml=m;this.Kd=p;}Object.defineProperty(b,"__esModule",{value:!0});b.$Aa=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(6405);g=a(2248);e=a(61731);h=a(59818);k=a(31149);l=a(82100);d.prototype.Rma=function(){return !0;};d.prototype.xLa=function(){return !1;};d.prototype.hMa=function(){return !1;};d.prototype.rRa=function(){return l.ZE;};d.prototype.ipa=function(){};d.prototype.hSa=function(){return [];};d.prototype.YTa=function(){Promise.reject(new k.se(c.da.UAa));};d.prototype.qNa=function(m){var p;p=new Uint8Array(m.message);p=this.kmc(p,"PlayReadyKeyMessage","Challenge");p=this.Kd.decode(p);return {type:m.type,sessionId:m.target.sessionId,vS:[p],messageType:m.messageType};};d.prototype.uK=function(m){var p,q,r;p=new e.gk(c.da.Fia);q=m.code;null != q && void 0 !== q?(q=parseInt(q,10),p.subCode=1 <= q && 9 >= q?c.Y.AV + q:c.Y.AV):p.subCode=m instanceof h.jx?c.Y.i4:c.Y.wr;try{r=(/\((\d+)\)/).exec(m.message);p.extCode=this.Ml.Voa(Number(r && r[1]),4);}catch(u){}p.n9(m);return p;};d.prototype.kmc=function(m,p){var r,u,v;for(var q=1;q < arguments.length;++q);for(q=1;q < arguments.length;q++);q="";u=m.length;for(r=0;r < u;r++){v=m[r];0 < v && (q+=String.fromCharCode(v));}u="\\s*(.*)\\s*";for(r=arguments.length - 1;0 < r;r--){v=arguments[r];if(0 > q.search(v))return "";v="(?:[^:].*:|)" + v;u="[\\s\\S]*<" + v + "[^>]*>" + u + "</" + v + ">[\\s\\S]*";}return (q=q.match(new RegExp(u)))?q[1]:"";};d.prototype.NZ=function(){};a=d;b.$Aa=a;b.$Aa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.YN)),t.__param(1,(0,n.v)(g.om))],a);},47450:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.tja=void 0;a.Uvc=function(d){return "ID" + (d + 1);};a.dPb=function(d){return Number(d.substr(2)) - 1;};b.tja=a;},8265:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r;function d(u,v,w,x){this.Ml=u;this.Kd=v;this.Aj=w;this.Yi=x;}Object.defineProperty(b,"__esModule",{value:!0});b.HGa=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(6405);g=a(84408);e=a(61731);h=a(59818);k=a(2248);l=a(82100);m=a(97737);p=a(31149);q=a(7605);r=a(47450);d.prototype.Rma=function(){return !1;};d.prototype.xLa=function(){return !1;};d.prototype.hMa=function(){return !0;};d.prototype.rRa=function(){return l.ZE;};d.prototype.ipa=function(){return this.Kd.decode(l.sBa);};d.prototype.hSa=function(){return [];};d.prototype.YTa=function(u){u.Oda();};d.prototype.qNa=function(u){var v,w;v=[];if(u.messageType === m.rDa || u.messageType === m.qDa){if(u.messageType === m.rDa){w=this.Aj.encode(new Uint8Array(u.message));v=JSON.parse(w);w=v.map(function(x){return x.keyID;});v=v.map(function(x){return x.payload;});}else v=[this.Kd.encode(new Uint8Array(u.message))];if(0 === v.length || !v.every(function(x){return x && x.length;}))throw new p.se(c.da.z8a);v=this.SUc(v);v=this.Aj.decode(JSON.stringify(v));}else v=new Uint8Array(u.message);return {type:u.type,sessionId:u.target.sessionId,vS:[v],messageType:u.messageType,UR:w};};d.prototype.uK=function(u){var v,w,x,y;w=null === (v=u.target) || void 0 === v?void 0:v.error;if(w)(x=w.systemCode,y=w.code);v=new e.gk(c.da.Fia,u instanceof h.jx?c.Y.i4:c.Y.AV,x?this.Ml.Voa(x,4):y,"",w);v.n9(u);return v;};d.prototype.SUc=function(u){u=u.map(function(v,w){return {ID:r.tja.Uvc(w),PAYLOAD:v};});return {VERSION:this.Yi.XC?3:1,CHALLENGES:u};};d.prototype.NZ=function(u,v){var w,x;w=this;if(v && this.Yi.XC)try{x=this.Aj.encode(v[0]);return JSON.parse(x).RESPONSES.sort(function(y,A){return y.ID > A.ID?1:-1;}).map(function(y){var A;A=r.tja.dPb(y.ID);y=w.Kd.decode(y.DHB).subarray(4,12);A=w.Kd.decode(u[A]).subarray(0,8);return {from:y,to:A};});}catch(y){throw new e.gk(c.da.u_b,void 0,void 0,void 0,y);}};a=d;b.HGa=a;b.HGa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.YN)),t.__param(1,(0,n.v)(k.om)),t.__param(2,(0,n.v)(g.AF)),t.__param(3,(0,n.v)(q.zz))],a);},63341:function(t,b,a){var d,n,c,f,g,e,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.Qvb=void 0;t=a(22674);d=a(62502);n=a(15031);c=a(76691);f=a(69936);g=a(33399);e=a(14318);h=a(75447);k=a(69484);b.Qvb=new t.Ce(function(l){l(k.s9a).to(d.CBa).sa();l(k.Tfb).to(n.pGa).sa();l(k.Sfb).to(c.oGa).sa();l(e.q9a).to(f.ABa).sa();l(h.r$a).to(g.$Ba).sa();});},14318:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.q9a="FtlDataParserSymbol";},69484:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tfb="ReportSyncSymbol";b.Sfb="ReportApiErrorSyncSymbol";b.r9a="FtlProbeConfigSymbol";b.s9a="FtlProbeSymbol";},75447:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.r$a="HttpRequesterSymbol";},69936:function(t,b,a){var n,c,f,g,e;function d(h,k){this.is=h;this.json=k;(0,c.nw)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.ABa=void 0;t=a(22970);n=a(22674);c=a(66523);f=a(63368);g=a(5021);a=a(42207);d.prototype.parse=function(h){var l;h=this.json.parse(h);if(!this.is.eKa(h))throw Error("FtlProbe: param: not an object");if(h.next && !this.is.n7(h.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.n7(h.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(h.pulse_delays && !this.is.LP(h.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.n7(h.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.LP(h.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.vx(h.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.H7(h.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var k=0;k < h.urls.length;++k){l=h.urls[k];if(!this.is.eKa(l))throw Error("FtlProbe: param.urls[" + k + "]: not an object");if(!this.is.Jt(l.name))throw Error("FtlProbe: param.urls[" + k + "].name: not a string");if(!this.is.Jt(l.method))throw Error("FtlProbe: param.urls[" + k + "].method: not a string");if(!this.is.Jt(l.url))throw Error("FtlProbe: param.urls[" + k + "].url: not a string");}return {ZKc:h.pulses,GJb:h.pulse_delays?h.pulse_delays.map(g.ic):[],YKc:(0,g.ic)(h.pulse_timeout),IBb:h.next?(0,g.ic)(h.next):void 0,urls:h.urls,VVa:h.logblob,context:h.ctx};};e=d;b.ABa=e;b.ABa=e=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.Mi)),t.__param(1,(0,n.v)(f.PV))],e);},34731:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m,p){l=g.Tf.call(this,l,"FtlProbeConfigImpl") || this;l.nk=m;l.Na=p;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.BBa=void 0;t=a(22970);n=a(30869);c=a(22674);f=a(5021);g=a(64174);e=a(24747);h=a(12501);a=a(83767);Ia(d,g.Tf);Ha.Object.defineProperties(d.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.DQa + (-1 === this.DQa.indexOf("?")?"?":"&") + "monotonic=" + this.Na.hFb + "&device=web";}},pOb:{configurable:!0,enumerable:!0,get:function(){return f.ia;}},mQa:{configurable:!0,enumerable:!0,get:function(){return "";}},DQa:{configurable:!0,enumerable:!0,get:function(){return this.nk.endpoint + "/ftl/probe" + (this.mQa?"?force=" + this.mQa:"");}}});k=d;b.BBa=k;t.__decorate([h.config(h.qd,"ftlEnabled")],k.prototype,"enabled",null);t.__decorate([h.config(h.ro,"ftlStartDelay")],k.prototype,"pOb",null);t.__decorate([h.config(h.string,"ftlEndpointForceParam")],k.prototype,"mQa",null);t.__decorate([h.config(h.url,"ftlEndpoint")],k.prototype,"DQa",null);b.BBa=k=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(a.Qo)),t.__param(1,(0,c.v)(e.Hga)),t.__param(2,(0,c.v)(n.Li))],k);},62502:function(t,b,a){var n,c,f,g,e,h,k,l;function d(m,p,q,r,u,v,w){this.config=m;this.Dzb=p;this.Cd=q;this.Me=r;this.dNc=u;this.SKb=v;this.qyc=0;this.wa=w.wb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.CBa=void 0;t=a(22970);c=a(22674);f=a(5021);g=a(53085);e=a(87386);h=a(14318);k=a(75447);a=a(69484);d.prototype.start=function(){this.config.enabled && !this.Py && (this.Py=this.Cd.Zq(this.config.pOb,this.UM.bind(this)));};d.prototype.stop=function(){this.Py && (this.Py.cancel(),this.Py=void 0);};d.prototype.UM=function(){var m,p;m=this;p="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.qyc++;this.jtc(p).then(function(q){return Promise.all(q.urls.map(function(r){return m.tuc(q,r.name,r.method,r.url);})).then(function(r){0 < r.length && m.dNc.Jva({data:r,context:q.context,VVa:q.VVa});}).then(function(){return q;});}).then(function(q){m.Py && (q.IBb?m.Py=m.Cd.Zq(q.IBb,m.UM.bind(m)):m.stop());}).catch(function(q){return m.wa.error("FTL run failed",q);});};d.prototype.jtc=function(m){var p;p=this;return this.Dzb.get(m,!1).then(function(q){if(200 != q.status || null == q.body)return (p.SKb.Jva({url:m,status:q.status,hIb:"FTL API request failed",Hf:q.Hf}),Promise.reject(Error("FTL API request failed: " + q.status)));q=p.Me.parse(q.body);return Promise.resolve(q);}).catch(function(q){q instanceof Error && (p.SKb.Jva({url:m,status:0,hIb:q.message}),p.wa.error("FTL API call failed",q.message));return Promise.reject(q);});};d.prototype.tuc=function(m,p,q,r){var u;u=this;return new Promise(function(v,w){var H;for(var x,y,A,z,B,C=[],D={},E=0;E < m.ZKc;(D={Cya:D.Cya,Dya:D.Dya},++E)){D.Cya=E < m.GJb.length?m.GJb[E]:f.ia;D.Dya="" + r + (-1 === r.indexOf("?")?"?":"&") + "pulse=" + (E + 1);H=(function(F){return function(){return new Promise(function(G,J){u.Cd.Zq(F.Cya,function(){n.mKc(u.Dzb,F.Dya,m.YKc).then(function(L){function K(M,P,I){M || (M=I.headers[P]);return M;}x=K(x,"via",L);y=K(y,"x-ftl-probe-data",L);A=K(A,"x-ftl-error",L);z=K(z,"x-ftl-probe-recv-ts",L);B=K(B,"latency-trace",L);L={method:q,status:L.status,Hf:L.Hf,BXc:x || "",Ibc:y || "",K9:A || "",EPc:z || "",Zyc:u.IHc(B)};G(L);}).catch(function(L){J(L);});});});};})(D);C.push(0 < E?C[E - 1].then(H):H());}Promise.all(C).then(function(F){v({name:p,method:q,url:r,data:F});}).catch(function(F){w(F);});});};d.prototype.IHc=function(m){var p;if(m){p={};m=Ea(m.split(";"));for(var q=m.next();!q.done;q=m.next())if((q=q.value.trim().split("=")) && 2 == q.length)try{p[q[0].trim()]=Number.parseInt(q[1]);}catch(r){}return p;}};d.mKc=function(m,p,q){return m.get(p,!1,q).then(function(r){return Object.assign({},r);});};l=n=d;b.CBa=l;b.CBa=l=n=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(a.r9a)),t.__param(1,(0,c.v)(k.r$a)),t.__param(2,(0,c.v)(g.Dl)),t.__param(3,(0,c.v)(h.q9a)),t.__param(4,(0,c.v)(a.Tfb)),t.__param(5,(0,c.v)(a.Sfb)),t.__param(6,(0,c.v)(e.zb))],l);},33399:function(t,b,a){var n,c,f,g,e,h,k,l,m;function d(p,q,r){this.Na=p;this.DYc=q;this.performance=r;(0,c.nw)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.$Ba=void 0;t=a(22970);c=a(66523);f=a(64274);g=a(72574);e=a(63368);h=a(30869);k=a(22674);l=a(81438);m=a(5021);d.prototype.get=function(p,q,r){var u;u=this;return new Promise(function(v,w){var x,y,A;try{x=u.DYc.create();("withCredentials" in x) || w(Error("Missing CORS support"));x.open("GET",p,!0);q && (x.withCredentials=!0);r && (x.timeout=r.oa(m.za));y=u.Na.Mg;A=void 0;x.onreadystatechange=function(){var z;switch(x.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=u.Na.Mg.ea(y);break;case XMLHttpRequest.DONE:z=u.Na.Mg.ea(y);z={body:x.responseText,status:x.status,headers:n.yYa(x.getAllResponseHeaders()),Hf:u.KRa(p,(0,g.ma)(x.responseText.length),z,A)};v(z);}};x.send();}catch(z){w(z);}});};d.yYa=function(p){var q,u,v;q={};p=p.split("\r\n");for(var r=0;r < p.length;r++){u=p[r];v=u.indexOf(": ");0 < v && (q[u.substring(0,v).toLowerCase()]=u.substring(v + 2));}return q;};d.prototype.KRa=function(p,q,r,u){q={size:q,duration:r,M2a:u};if(!this.performance || !this.performance.getEntriesByName)return q;r=this.performance.getEntriesByName(p);if(0 == r.length && (r=this.performance.getEntriesByName(p + "/"),0 == r.length))return q;p=r[r.length - 1];q=(0,f.Nba)(q);p.decodedBodySize && (q.size=(0,g.ma)(p.decodedBodySize));0 < p.duration?q.duration=(0,m.timestamp)(p.duration):0 < p.startTime && 0 < p.responseEnd && (q.duration=(0,m.timestamp)(p.responseEnd - p.startTime));0 < p.requestStart && (q.Psb=(0,m.timestamp)(p.domainLookupEnd - p.domainLookupStart),q.y2a=(0,m.timestamp)(p.connectEnd - p.connectStart),q.M2a=(0,m.timestamp)(p.responseStart - p.startTime),0 === p.secureConnectionStart?q.T2a=(0,m.timestamp)(0):void 0 !== p.secureConnectionStart && (r=p.connectEnd - p.secureConnectionStart,q.T2a=(0,m.timestamp)(r),q.y2a=(0,m.timestamp)(p.connectEnd - p.connectStart - r)),0 < this.performance.timeOrigin && 0 < p.responseStart && (q.aLb=(0,m.timestamp)(this.performance.timeOrigin + p.requestStart),q.pLb=(0,m.timestamp)(this.performance.timeOrigin + p.responseStart)));return q;};a=n=d;b.$Ba=a;b.$Ba=a=n=t.__decorate([(0,k.aa)(),t.__param(0,(0,k.v)(h.Li)),t.__param(1,(0,k.v)(l.bjb)),t.__param(2,(0,k.v)(e.Kia)),t.__param(2,(0,k.optional)())],a);},76691:function(t,b,a){var n,c,f,g,e,h;function d(k,l){this.di=k;this.Ck=l;}Object.defineProperty(b,"__esModule",{value:!0});b.oGa=void 0;t=a(22970);c=a(22674);f=a(72574);g=a(5021);e=a(45118);a=a(31850);d.prototype.Jva=function(k){k=this.Ck.Xt("ftlProbeError","info",n.tYc({url:k.url,sc:k.status,pf_err:k.hIb},k));this.di.Vc(k);};d.tYc=function(k,l){l.Hf && (l=l.Hf,n.Lt(k,"d",l.duration),n.Lt(k,"dns",l.Psb),n.Lt(k,"tcp",l.y2a),n.Lt(k,"tls",l.T2a),n.Lt(k,"ttfb",l.M2a),n.Lt(k,"client_send_ts",l.aLb),n.Lt(k,"client_recv_ts",l.pLb),k.sz=l.size.oa(f.pz));return k;};d.Lt=function(k,l,m){m && (k[l]=m.oa(g.za));};h=n=d;b.oGa=h;b.oGa=h=n=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(e.Xp)),t.__param(1,(0,c.v)(a.jF))],h);},15031:function(t,b,a){var n,c,f,g,e,h;function d(k,l){this.di=k;this.Ck=l;}Object.defineProperty(b,"__esModule",{value:!0});b.pGa=void 0;t=a(22970);c=a(22674);f=a(72574);g=a(5021);e=a(45118);a=a(31850);d.prototype.Jva=function(k){var l;l={ctx:k.context,data:k.data.map(function(m){return {name:m.name,method:m.method,url:m.url,data:m.data.map(function(p){return n.uYc({method:p.method,d:p.Hf.duration.oa(g.za),sc:p.status,sz:p.Hf.size.oa(f.pz),via:p.BXc,cip:p.Ibc,err:p.K9,server_recv_ts:p.EPc},p);})};})};k=this.Ck.Xt(k.VVa,"info",l);this.di.Vc(k);};d.uYc=function(k,l){n.Lt(k,"dns",l.Hf.Psb);n.Lt(k,"tcp",l.Hf.y2a);n.Lt(k,"tls",l.Hf.T2a);n.Lt(k,"ttfb",l.Hf.M2a);n.n6b(k,l.Zyc);n.Lt(k,"client_send_ts",l.Hf.aLb);n.Lt(k,"client_recv_ts",l.Hf.pLb);return k;};d.n6b=function(k,l){l && (k.rtts=l);};d.Lt=function(k,l,m){m && (k[l]=m.oa(g.za));};h=n=d;b.pGa=h;b.pGa=h=n=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(e.Xp)),t.__param(1,(0,c.v)(a.jF))],h);},43367:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.KD=void 0;t=a(22674);d=a(80012);n=a(26971);b.KD=new t.Ce(function(c){c(d.Gab).to(n.LCa);});},80012:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gab="LicenseBrokerFactorySymbol";},20124:function(t,b,a){var n,c,f,g,e,h;function d(k,l){this.ac=k;this.j=l;this.rba=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Qga=void 0;t=a(22970);n=a(36129);c=a(22674);f=a(32687);g=a(3887);e=a(31276);h=a(82100);d.prototype.XPa=function(k){this.rba.forEach(function(l){return l(k);});};d.prototype.wg=function(k,l,m){this.j.wg(k,l,m);};d.prototype.h6b=function(k){-1 === this.rba.indexOf(k) && this.rba.push(k);};d.prototype.IMc=function(k){k=this.rba.indexOf(k);0 <= k && this.rba.splice(k,1);};d.prototype.ytc=function(k){var l,m;l={};(0,f.$c)(k.code)?l.Ua=(0,n.$8a)(k.code):l.Ua=n.Y.wr;try{m=(0,h.VRa)(k.message);m && (l.Ng=(0,e.BLa)(m,4));}catch(p){}l.ef=(0,g.jj)(k);return l;};a=d;b.Qga=a;b.Qga=a=t.__decorate([(0,c.aa)()],a);},26971:function(t,b,a){var n,c,f,g,e,h;function d(k,l,m,p){this.MY=k;this.config=l;this.c0=m;this.og=p;}Object.defineProperty(b,"__esModule",{value:!0});b.LCa=void 0;t=a(22970);n=a(22674);c=a(47737);f=a(128);g=a(4203);e=a(92395);a=a(66476);d.prototype.create=function(k,l){return new f.MCa(this.config(),this.og,k,l,this.MY,this.c0());};h=d;b.LCa=h;b.LCa=h=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.tha)),t.__param(1,(0,n.v)(g.Ic)),t.__param(2,(0,n.v)(e.z5)),t.__param(3,(0,n.v)(a.TO))],h);},128:function(t,b,a){var n,c,f,g,e,h,k,l,m,p;function d(q,r,u,v,w,x){u=h.Qga.call(this,u,v) || this;u.config=q;u.og=r;u.MY=w;u.Dsa=x;u.log=(0,c.ko)(u.j,"LicenseBroker");u.xVa=new Set();u.AWa=!1;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.MCa=void 0;t=a(22970);n=a(36129);c=a(31276);f=a(28289);g=a(5021);e=a(22674);h=a(20124);k=a(85001);l=a(82100);m=a(56039);p=a(54973);Ia(d,h.Qga);d.prototype.DGb=function(){var q,r;q=this;r=this.j.ga;this.xVa.has(r.R) || (this.xVa.add(r.R),this.I7b(r).catch(function(){return q.WKb(r);}).then(function(){return q.Zmb(r);}).catch(function(u){return q.Ymb(r,u);}).catch(function(u){return q.wg(u.code,u,u.extCode);}));};d.prototype.I7b=function(q){var r;r=this;return Promise.all([this.og.hpc(q.R),this.MY()]).then(function(u){var v,w;u=Ea(u);v=u.next().value;w=u.next().value;return v.ywa.then(function(x){var y;y=r.Dsa.mediaKeys;if(y && y !== x.mediaKeys)return (r.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === v.yVa.source && (y=r.gxb(q),w.dFb(y,x));return x;}).then(function(x){return r.L7b(x,q,v.yVa);});}).catch(function(u){r.log.warn("eme not in cache",u);throw u;});};d.prototype.L7b=function(q,r,u){this.nJb(q,r);r.RX=u;this.Dsa.$lb(q.mediaKeys);return q.bLa();};d.prototype.Qnc=function(q){var r;r={};q.forEach(function(u){r[(0,f.jjc)(u.kca)]=u.time.oa(g.za);});return r;};d.prototype.nJb=function(q,r){var u;u=this;r.Rl=q;q.bQc(function(v){u.wg(v.code,v,v.extCode);});};d.prototype.Zmb=function(q){this.log.info("Successfully applied license for xid: " + q.Ia + ", viewable: " + q.R + ", segment: " + q.L);this.jL(q);this.AWa?this.XPa(q.R):this.setMediaKeys(q);};d.prototype.Ymb=function(q,r){this.jL(q);throw r;};d.prototype.jL=function(q){q.Rl && q.jL(this.Qnc(q.Rl.If));};d.prototype.gxb=function(q){var r,u,v;u=q.NE[0];v=u.streams[0].Uc;v=(0,l.MAb)(v);u=(0,m.xRa)(u.streams);return {type:(0,p.J$)(this.config,!1),initData:q.yT.map(function(w){return (0,c.hG)(w);}),Wqa:v,XA:u,Ns:{R:q.R,Ia:q.Ia,Zd:q.Zd,js:q.js,wp:q.S.wp,yf:q.S.Aa.yf,Vp:(null === (r=q.ka.Mh) || void 0 === r?void 0:r.trackId) || q.Yc.i9.trackId}};};d.prototype.WKb=function(q){var r;r=this;return this.MY().then(function(u){var v;v=r.gxb(q);r.xVa.add(q.R);return u.vu(v,r.Dsa).then(function(w){r.nJb(w,q);r.j.fireEvent(k.ja.zVa,{R:q.R});return w.bLa();});});};d.prototype.setMediaKeys=function(q){var r;r=this;if(this.AWa)this.log.trace("Media Keys already set");else try{this.ac.Ha?(this.AWa=!0,this.ac.Ha.setMediaKeys(q.Rl.mediaKeys).then(function(){r.XPa(q.R);}).catch(function(u){u=r.ytc(u);r.wg(n.da.Idb,u,u.Ng);})):this.XPa(q.R);}catch(u){this.wg(n.da.Idb,u,void 0);}};d.prototype.kNc=function(q){var r;r=this;q=void 0 === q?this.j:q;return this.WKb(q).then(function(){return r.Zmb(q);}).catch(function(u){return r.Ymb(q,u);});};d.prototype.close=function(){this.Dsa.JMc();};Ha.Object.defineProperties(d.prototype,{ly:{configurable:!0,enumerable:!0,get:function(){return this.config.ly;}}});a=d;b.MCa=a;b.MCa=a=t.__decorate([(0,e.aa)()],a);},13847:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.u5a="AppLogSinkSymbol";},21009:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H;Object.defineProperty(b,"__esModule",{value:!0});b.logblobs=void 0;t=a(22674);d=a(97996);n=a(31966);c=a(79428);f=a(50723);g=a(33345);e=a(74621);h=a(4203);k=a(41320);l=a(69124);m=a(74031);p=a(53085);q=a(33554);r=a(13847);u=a(53234);v=a(33945);w=a(31850);x=a(81829);y=a(45118);A=a(98326);z=a(52025);B=a(30895);C=a(36792);D=a(74714);E=a(73449);H=a(26158);b.logblobs=new t.Ce(function(F){F(y.Xp).to(c.WCa).sa();F(u.tcb).to(f.TDa).sa();F(v.rbb).to(g.gDa).sa();F(x.pbb).to(e.dDa).sa();F(y.VCa).to(k.UCa).sa();F(w.jF).to(l.bDa).sa();F(x.obb).to(m.cDa).sa();F(A.s5).to(z.zO).sa();F(A.fDa).to(D.eDa).sa();F(E.u5).to(H.AO).sa();F(B.h8a).to(C.IAa).sa();F(r.u5a).to(n.fza).sa();F(y.lbb).Ffa(function(G){return function(){return G.Jb.get(d.F5)().then(function(J){return new Promise(function(L){var M,P,I;function K(){P() && I() && J.BS?L(G.Jb.get(y.Xp)):M.ig(K);}M=G.Jb.get(p.Dl);P=G.Jb.get(h.Ic);I=G.Jb.get(q.iC);M.ig(K);});});};});});},30895:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.h8a="DownloadReportBuilderSymbol";},45118:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.VCa="LogBatcherConfigSymbol";b.Xp="LogBatcherSymbol";b.lbb="LogBatcherProviderSymbol";},33945:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.rbb="LogblobSenderSymbol";},31850:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jF="LogMessageFactorySymbol";},81829:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.obb="LogMessageRulerConfigSymbol";b.pbb="LogMessageRulerSymbol";},98326:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.s5="LogblobBuilderFactorySymbol";b.fDa="LogblobBuilderCommonSymbol";},18169:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.Td={};t.H9b="bitraterestriction";t.Lob="cdnsel";t.sG="chgstrm";t.debug="debug";t.Ric="dlreport";t.Qv="endplay";t.MR="intrplay";t.LH="midplay";t.vM="playbackaborted";t.Nda="renderstrmswitch";t.NM="repos";t.Hu="resumeplay";t.HPc="serversel";t.Np="startplay";t.afa="statechanged";t.transition="transition";t.w0a="segmentdropped";t.OKa="advertsmismatch";t.Y7b="asereport";t.yH="livereport";t.mAc="livepipelinefailover";t.vnb="audioswitch";t.Ynb="blockedautoplay";t.config="config";t.P8c="ftlProbeError";t.HTc="subtitleerror";t.ITc="subtitleqoe";t.OUc="timedtextrebuffer";t.QPb="timedtextswitch";t.kOb="speedchanged";},73449:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.u5="LogblobMonitorFactorySymbol";},53234:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tcb="MessageQueueSymbol";},31966:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m,p,q){var r;r=this;this.PAc=l;this.AH=m;this.config=q;this.j_a=[];this.PAc.Bva(n.iTb,this.cuc.bind(this));p().then(function(u){var v;v=q().Ov.Fnc;r.MBc=v?k.Oo[v.toUpperCase()]:k.Oo.Wp;r.di=u;r.vPc();});}Object.defineProperty(b,"__esModule",{value:!0});b.fza=void 0;t=a(22970);c=a(22674);f=a(4203);g=a(36410);e=a(45118);h=a(31850);k=a(87386);d.prototype.cuc=function(l,m){this.di?this.LJb(l,m):this.j_a.push([l,m]);};d.prototype.vPc=function(){var l,m;l=this;m=this.j_a;this.j_a=[];m.forEach(function(p){l.LJb(p[0],p[1]);});};d.prototype.LJb=function(l,m){var p;if(this.di && this.hRc(l)){p={debugMessage:l.message,debugCategory:l.vd};l.Nc.forEach(function(q){return p=Object.assign(Object.assign({},p),q.value);});p=Object.assign(Object.assign({},p),{prefix:"debug"});l=this.AH.Xt("debug",k.Oo[l.level].toLowerCase(),p,m);this.di.Vc(l);}};d.prototype.hRc=function(l){var m;m=this.MBc;return void 0 !== m && l.level <= m && !l.Nc.find(function(p){return p.I9(k.sha);});};a=n=d;b.fza=a;a.iTb="adaptorAll";b.fza=a=n=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(g.UV)),t.__param(1,(0,c.v)(h.jF)),t.__param(2,(0,c.v)(e.lbb)),t.__param(3,(0,c.v)(f.Ic))],a);},36792:function(t,b,a){var n,c,f,g,e,h,k,l;function d(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.IAa=void 0;t=a(22970);n=a(82956);c=a(51344);f=a(3887);g=a(36129);e=a(45146);h=a(22365);k=a(22674);a=a(4203);d.prototype.construct=function(m,p){var q,r,u;q=this;r={};m.forEach(function(v){var w;w=v.url;r[w] || (r[w]=[]);r[w].push(v);});u=[];(0,f.Di)(r,function(v,w){u.push(q.Dtc(w,p));});return {urls:u};};d.prototype.Dtc=function(m,p){var q,r,u,v,w;q=this;u=m[0];v={url:u.url,bitrate:u.bitrate,cdnid:null === (r=u.Tc) || void 0 === r?void 0:r.id,dltype:u.Tic,id:u.ob};w={};m.forEach(function(x){var y;y=q.TAb(x)?"fail":"success";w[y] || (w[y]=[]);w[y].push(x);});(0,f.Di)(w,function(x,y){"fail" === x?v.failures=q.dqc(y,p):"success" === x && (v.downloads=q.Rpc(y,p));});return v;};d.prototype.Rpc=function(m,p){var q,r,u;q=this;r={};m.forEach(function(v){var w;w=v.gcc;r[w] || (r[w]=[]);r[w].push(v);});u=[];(0,f.Di)(r,function(v,w){var x;x=[];w.forEach(function(y){x.push(y);q.Dwc(y) && (u.push(q.Gwb(x,p,v)),x=[]);});0 < x.length && u.push(q.Gwb(x,p,v));});return u;};d.prototype.Gwb=function(m,p,q){var r,u,v,w,y;r=m.sort(function(A,z){return A.Oq.fm < z.Oq.fm?-1:A.Oq.fm > z.Oq.fm?1:0;});u=r[0].Oq;v=u.hI;w=u.fm;u=u.Kw;for(var x=1;x < m.length;x++){y=m[x].Oq;y.hI < v && (v=y.hI);y.fm < w && (w=y.fm);y.Kw > u && (u=y.Kw);}x=this.psc(r);y=r[r.length - 1];return {time:v - p,tcpid:q?parseInt(q):-1,tresp:w - v,first:x,ranges:this.qsc(r,x),dur:u - w,trace:this.e_(m),status:this.c_(y),enctimeinfo:y.joa};};d.prototype.psc=function(m){var p;p=0;m.forEach(function(q){q.mE && (p=(0,h.mF)(p,q.mE[0]));});return p;};d.prototype.qsc=function(m,p){var q;q=[];m.forEach(function(r){r.mE?q.push([r.mE[0] - p,r.mE[1] - p]):q.push([0,-1]);});return q;};d.prototype.e_=function(m){var p,q;p=[];m.forEach(function(r){var u;r=r.Oq;if(q){u=r.hI - q.Kw;0 < u && p.push([u,-2]);u=(0,h.uz)(q.Kw,r.hI);u=r.fm - u;0 < u && p.push([u,-3]);}p.push([r.Kw - r.fm,r.Wn || 0]);q=r;});return p;};d.prototype.Dwc=function(m){if(m.Ua === g.Y.qO || m.Ua === g.Y.rO)return !0;};d.prototype.c_=function(m){if(m.success)return "complete";if(m.Ua === g.Y.qO)return "abort";if(m.Ua === g.Y.rO)return "stall";(0,e.va)(!1,"download status should never be: other");return "other";};d.prototype.dqc=function(m,p){var q,r;q=this;r=[];m.forEach(function(u){var v;v=u.Oq;u={time:v.fm - p,tresp:v.fm - v.hI,dur:v.Kw - v.fm,range:u.mE,reason:q.ssc(u),httpcode:u.zq,nwerr:(0,n.urc)(u.Ua),enctimeinfo:u.joa};r.push(u);});return r;};d.prototype.ssc=function(m){return m.zq || m.Ua === g.Y.Y4?"http":m.Ua === g.Y.b5?"timeout":"network";};d.prototype.TAb=function(m){return m.success || void 0 === m.success || m.Ua === g.Y.qO || m.Ua === g.Y.rO?!1:!0;};d.prototype.udc=function(m){var p,q,r,u,v,w;p=m.request;q=p.stream;r=p.track;u=p.url;v=this.Opc(r,u);switch(v){case c.Nn.audio:case c.Nn.video:w=p.stream.ob;break;case c.Nn.N2:case c.Nn.j3a:w=r.ob;}m={bitrate:q && q.bitrate,Tic:v,ob:w,Oq:m.Oq,Tc:p.Tc,url:u,Ng:m.Ng,zq:m.zq,Ua:m.Ua,success:m.success,gcc:this.imc(m),joa:p.LK};void 0 !== p.offset && void 0 != p.length && (m.mE=[p.offset,p.offset + p.length - 1]);return m;};d.prototype.Opc=function(m,p){if(m)return m.type;if(0 <= p.indexOf("netflix.com")){if(0 <= p.indexOf("nccp"))return "nccp";if(0 <= p.indexOf("api"))return "api";}return "other";};d.prototype.imc=function(m){if(m.headers && (m=m.headers["x-tcp-info"]))return (m=m.split(";").filter(function(p){return 0 == p.indexOf("port=");}).map(function(p){return p.split("=")[1];})[0])?(0,f.am)(m):m;};l=d;b.IAa=l;b.IAa=l=t.__decorate([(0,k.aa)(),t.__param(0,(0,k.v)(a.Ic))],l);},41320:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m){l=h.Tf.call(this,l,"LogBatcherConfigImpl") || this;l.config=m;l.GBc=(0,n.ma)(5E5);l.sPc=(0,c.PWa)(1);l.eEb=(0,n.ma)(1E6);return l;}Object.defineProperty(b,"__esModule",{value:!0});b.UCa=void 0;t=a(22970);n=a(72574);c=a(5021);f=a(22674);g=a(4203);e=a(12501);h=a(64174);a=a(83767);Ia(d,h.Tf);Ha.Object.defineProperties(d.prototype,{AKa:{configurable:!0,enumerable:!0,get:function(){return this.config().AKa;}},FNb:{configurable:!0,enumerable:!0,get:function(){return [];}},ENb:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});k=d;b.UCa=k;t.__decorate([e.config(e.object(),"shedLogblobTypes")],k.prototype,"FNb",null);t.__decorate([e.config(e.Zz("string"),"shedDebugTypes")],k.prototype,"ENb",null);b.UCa=k=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(a.Qo)),t.__param(1,(0,f.v)(g.Ic))],k);},79428:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q;function d(r,u,v,w,x,y){this.config=r;this.json=u;this.Cd=v;this.GAc=w;this.ica=y;this.bra=this.pL=!1;this.listeners=[];(0,c.nw)(this,"json");this.wa=x.wb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.WCa=void 0;t=a(22970);n=a(22674);c=a(66523);f=a(63368);g=a(33945);e=a(53085);h=a(87386);k=a(45118);l=a(53234);m=a(36129);p=a(15160);a(2762);q=a(18169);d.prototype.Ob=function(){this.pL=!0;};d.prototype.Vc=function(r){var u;u=this;this.vRc(r) || (!1,0 < r.size.Nl(this.config.GBc)?this.wa.error("Logblob is too large, dropping from the queue",{logblobType:r.type,logblobSize:r.size.toString()}):(this.listeners.forEach(function(v){return v.zCc(r);}),!1,this.ica.FKa(r),this.Cd.ig(function(){u.mnc();})));};d.prototype.flush=function(r){var u;u=this;r=void 0 === r?!1:r;return this.bra?(this.wa.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(v,w){u.wa.trace("Flushing",h.sha);u.er();u.Cd.ig(function(){u.B0a(r).then(function(){v();}).catch(function(x){w(x);});});});};d.prototype.addListener=function(r){this.listeners.push(r);};d.prototype.removeListener=function(r){r=this.listeners.indexOf(r);0 <= r && this.listeners.splice(r,1);};d.prototype.B0a=function(r){var u,v;u=this;r=void 0 === r?!1:r;if(!this.pL)return (this.wa.trace("LogBatcher is not initialized"),Promise.resolve());if(this.bra)return (this.wa.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());v=this.ica.$oc();if(0 === v.length && !r)return (this.wa.trace("No logblobs to send"),Promise.resolve());!1;this.er();this.listeners.forEach(function(){});r=Promise.resolve();for(var w={},x=Ea(v),y=x.next();!y.done;(w={Bya:w.Bya},y=x.next()))(w.Bya=y.value,r=r.then((function(A){return function(){return u.rPc(A.Bya);};})(w)));return r.then(function(){return u.MK();}).catch(function(A){v.filter(function(z){return !z.qH;}).forEach(function(z){return z.Vd();});u.MK();throw Error("Send failure. " + A);});};d.prototype.rPc=function(r){var u;u=this;this.wa.trace("Sending batch: " + r.size,h.sha);return Promise.resolve(this.ica.CMc(r)).then(function(){return u.GAc.send(r.vS);}).then(function(){return r.A2();}).catch(function(v){u.wa.warn("Failed to send batch of logblobs.",v,h.sha);r.Vd();u.cRc(v) && u.ica.U5b(r);u.zRc(v) && (u.bra=!0);throw v;});};d.prototype.cRc=function(r){return r.extCode === m.Oha.Xdb?!1:this.config.AKa;};d.prototype.zRc=function(r){return r.subCode === m.Y.t9a || r.subCode === m.Y.X4 || r.subCode === m.Y.c5?!0:!1;};d.prototype.mnc=function(){var r;r=this;0 < this.ica.size.Nl(this.config.eEb)?this.B0a().catch(function(u){return r.wa.warn("Failed to send log messages on size threshold. " + u);}):this.MK();};d.prototype.er=function(){this.sra && (!1,this.sra.cancel(),this.sra=void 0);};d.prototype.MK=function(){this.sra || (!1,this.sra=this.Cd.Zq(this.config.sPc,this.O0.bind(this)));};d.prototype.O0=function(){var r;r=this;this.bra=!1;this.er();this.B0a().catch(function(u){return r.wa.warn("Failed to send log messages on timer. " + u);});};d.prototype.stringify=function(r){var u;u="";try{u=this.json.stringify(r.data,void 0,"  ");}catch(v){}return u;};d.prototype.vRc=function(r){return 0 <= this.config.FNb.indexOf(r.type)?!0:r.type === q.Td.debug?0 <= this.config.ENb.indexOf(r.data.debugCategory):!1;};a=d;b.WCa=a;b.WCa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(k.VCa)),t.__param(1,(0,n.v)(f.PV)),t.__param(2,(0,n.v)(e.Dl)),t.__param(3,(0,n.v)(g.rbb)),t.__param(4,(0,n.v)(h.zb)),t.__param(5,(0,n.v)(l.tcb)),t.__param(6,(0,n.v)(p.nha))],a);},69124:function(t,b,a){var c,f,g,e,h,k,l,m,p,q;function d(r,u,v,w,x,y,A,z,B,C,D){this.platform=u;this.ONa=v;this.userAgentData=w;this.type=x;this.severity=y;this.timestamp=A;this.Xa=B;this.data=z;this.data.type=x;this.data.sev=y;this.data.devmod=this.platform.AK;this.data.clver=this.platform.version;r && r.Le && (r.Le.os && (this.data.osplatform=r.Le.os.name,this.data.osver=w.platformVersion.FD?w.platformVersion.version:r.Le.os.version),this.data.browsername=r.Le.name,this.data.browserver=r.Le.version);r.OUa && (this.data.tester=!0);r.groupName && !this.data.groupname && (this.data.groupname=r.groupName);r.WX && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + r.WX:r.WX);r.Rfa && (this.data.uigroupname=r.Rfa);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Xa.brc();this.data.uniqueLogId=C.awb();this.data.appId=this.Xa.id;D && (r=this.Xa.yc(),this.data.soffms=r.ea(D.Yj).oa(e.za),this.data.mid=this.data.mid || D.R,this.data.lvpi=D.oDb,this.data.uiLabel=D.jf,this.data.uxLabels=D.bya,x="startup" === x?"playbackxid":"xid",this.data[x]="xid" === x && this.data.xid || D.Ia,D.dU && (x=D.dU,(D=D.dU.split(".")) && 1 < D.length && "S" !== D[0][0] && (x="SABTest" + D[0] + ".Cell" + D[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + x:x));}function n(r,u,v,w,x,y,A){this.Na=r;this.ONa=u;this.config=v;this.Xa=w;this.jXc=x;this.platform=y;this.userAgentData=A;}Object.defineProperty(b,"__esModule",{value:!0});b.bDa=void 0;t=a(22970);c=a(72574);f=a(22674);g=a(30869);e=a(5021);h=a(58098);k=a(34231);l=a(81918);m=a(96723);p=a(91581);a=a(75236);n.prototype.Xt=function(r,u,v,w){return new d(this.config,this.platform,this.ONa,this.userAgentData,r,u,this.Na.Mg,v,this.Xa,this.jXc,w);};q=n;b.bDa=q;b.bDa=q=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(g.Li)),t.__param(1,(0,f.v)(h.A7a)),t.__param(2,(0,f.v)(k.xt)),t.__param(3,(0,f.v)(l.ie)),t.__param(4,(0,f.v)(m.yib)),t.__param(5,(0,f.v)(p.Bt)),t.__param(6,(0,f.v)(a.Kja))],q);Ha.Object.defineProperties(d.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.pob || (this.pob=(0,c.ma)(this.ONa.encode(this.data).length));return this.pob;}}});},74031:function(t,b,a){var n,c,f;function d(g){this.ip=g;}Object.defineProperty(b,"__esModule",{value:!0});b.cDa=void 0;t=a(22970);n=a(22674);c=a(72574);a=a(33554);d.prototype.KAc=function(){var g;g=this.ip()?this.ip().ij.length:40;return (0,c.ma)(g + 33);};f=d;b.cDa=f;b.cDa=f=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.iC))],f);},74621:function(t,b,a){var n,c,f;function d(g){this.config=g;}Object.defineProperty(b,"__esModule",{value:!0});b.dDa=void 0;t=a(22970);n=a(22674);c=a(81829);f=a(72574);d.prototype.measure=function(g){var e;e=this;return g.map(function(h){return h.size.add(e.config.KAc());}).reduce(function(h,k){return h.add(k);},(0,f.ma)(0));};a=d;b.dDa=a;b.dDa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.obb))],a);},74714:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q;function d(r,u,v,w){this.platform=r;this.config=u;this.Xa=v;this.userAgentData=w;this.Gib=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.eDa=void 0;t=a(22970);n=a(22674);c=a(81918);f=a(36129);g=a(91581);e=a(5021);h=a(4203);k=a(3887);l=a(22365);m=a(82956);p=a(75236);q=a(26388);d.prototype.ew=function(r,u,v){v && (r.adlid=v.ob,r.abitrate=v.bitrate);u && (r.vdlid=u.ob,r.vbitrate=u.bitrate);};d.prototype.Qzb=function(r,u,v){v?r=Object.assign(r,(0,m.asc)(this.platform.Px,v)):r.errorcode=f.da.zh;r.errorcode === this.platform.Px + f.da.Edb && (r.lastSyncWithVideoElement=this.getTime() - u.ofa);};d.prototype.Vzb=function(r,u){var v;try{Object.assign(r,(0,m.gyb)());v=u.getBoundingClientRect();r.rendersize=v.width + "x" + v.height;r.renderpos=v.left + "x" + v.top;}catch(w){}};d.prototype.Uzb=function(r,u){var v,w,x;v=u.Tc[q.u.U].value;w=u.Tc[q.u.X].value;x=u.Ye.value;u=u.ze.value;v && (r.cdnid=v.id,r.cdnname=v.name);w && (r.acdnid=w.id,r.acdnname=w.name);if(null === x || void 0 === x?0:x.stream)(r.adlid=x.stream.ob,r.abitrate=x.stream.bitrate);if(null === u || void 0 === u?0:u.stream)(r.vdlid=u.stream.ob,r.vbitrate=u.stream.bitrate,r.vheight=u.stream.height,r.vwidth=u.stream.width);};d.prototype.Szb=function(r,u,v){var w;w=u.j;0 <= u.mediaTime.value && (u=v && !u.qb.Pg?u.gs:w && w.x_()?w.Mwb():u.mediaTime.value,r.moff=(0,k.ps)(u),r.moffms=(0,k.$h)(u));};d.prototype.Ozb=function(r,u){u.correlationId && (r.pbcid=u.correlationId);u.Zd && (r.playbackcontextid=u.Zd);};d.prototype.ITa=function(r){var u,v;r.browserua=l.cW;r.browseruad=null === (v=null === (u=l.zg.userAgentData) || void 0 === u?void 0:u.brands) || void 0 === v?void 0:v.map(function(w){return [w.brand,w.version];});r.browseruadpv=this.userAgentData.platformVersion.FD?this.userAgentData.platformVersion.version:this.userAgentData.platformVersion.reason;r.browseruada=this.userAgentData.architecture.FD?this.userAgentData.architecture.architecture:this.userAgentData.architecture.reason;r.browserhref=location.href;(u=l.zg && l.zg.connection && l.zg.connection.type) && (r.nettype=u);};d.prototype.k_=function(r){var u,v,w,x,y;if(this.config().Ukc){y=null === (u=null === l.zg || void 0 === l.zg?void 0:l.zg.connection) || void 0 === u?void 0:u.effectiveType;u=null === l.zg || void 0 === l.zg?void 0:l.zg.deviceMemory;y && (r.effectiveType=y);u && (r.deviceMemory=u);}(y=null === (v=null === l.zg || void 0 === l.zg?void 0:l.zg.connection) || void 0 === v?void 0:v.type) && (r.connectionType=y);v=null === (w=null === l.zg || void 0 === l.zg?void 0:l.zg.connection) || void 0 === w?void 0:w.downlink;"number" === typeof v && isFinite(v) && (r.downlink=v);w=null === (x=null === l.zg || void 0 === l.zg?void 0:l.zg.connection) || void 0 === x?void 0:x.rtt;"number" === typeof w && isFinite(w) && (r.rtt=w);};d.prototype.Bqa=function(r,u){if(u=u.qb.dr)(u.isUIAutoPlay && (r.isUIAutoPlay=!0),u.clLogId && (r.cl_log_id=u.clLogId));};d.prototype.l_=function(r,u,v,w){var x,y,A,z,B;x=this;if(v=v && v.streams){A=new Set();z=new Set();B=new Set();v.forEach(function(C){C=C.Uc;A.add(C);z.add(C.replace(x.Gib,""));(C=C.match(x.Gib)) && 0 < C.length && B.add(C[1]);});r.videoProfiles=[].concat(za(A));r.videoProfile=0 === z.size?"none":[].concat(za(z))[0];r.videoProfileLevels=[].concat(za(B));v && v.length && (r.isMcClearen=!!v[0].Nk.find(function(C){return 0 <= C.toLowerCase().indexOf("mcclearen");}));}u && (null === (y=w.S) || void 0 === y?0:y.kga) && (r.videoProfilesStatus=this.QDb(w.S.kga));};d.prototype.QDb=function(r){return this.rBc(r.c_(),function(u){return u.supported?!0:u.reason;});};d.prototype.rBc=function(r,u){return Object.entries(r).reduce(function(v,w){var x;x=Ea(w);w=x.next().value;x=x.next().value;v[w]=u(x);return v;},{});};d.prototype.j_=function(r,u,v,w){var x,y;if(v=v && v.streams){y={};v.forEach(function(A){y[A.Uc]=void 0;});r.audioProfiles=Object.keys(y);}u && (null === (x=w.S) || void 0 === x?0:x.R7) && (r.audioProfilesStatus=this.QDb(w.S.R7));};d.prototype.Pzb=function(r){r.configversion=this.config().version;this.config().endpoint || (r.configendpoint="error");};d.prototype.getTime=function(){return this.Xa.yc().oa(e.za);};a=d;b.eDa=a;b.eDa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(g.Bt)),t.__param(1,(0,n.v)(h.Ic)),t.__param(2,(0,n.v)(c.ie)),t.__param(3,(0,n.v)(p.Kja))],a);},52025:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C;function d(D,E,H,F,G,J,L,K,M,P,I,O,Q,T,U,X,Y,W,Z){this.IPb=D;this.di=E;this.MPa=H;this.Rf=F;this.Qna=G;this.De=J;this.config=L;this.og=K;this.Na=M;this.Xa=P;this.platform=I;this.qB=O;this.AH=Q;this.ql=T;this.ZG=U;this.wS=X;this.Jc=Y;this.sy=W;this.ED=Z;}Object.defineProperty(b,"__esModule",{value:!0});b.zO=void 0;t=a(22970);n=a(87549);c=a(45118);f=a(74870);g=a(94800);e=a(22674);h=a(98326);k=a(74098);l=a(30895);m=a(32934);p=a(4203);q=a(30869);r=a(81918);u=a(91581);v=a(31850);w=a(66476);x=a(52531);y=a(63368);A=a(34231);z=a(2160);B=a(21103);a=a(18647);d.prototype.create=function(D,E){return new k.t5(D,E,this.IPb,this.di,this.MPa,this.Rf,this.Qna,this.De,this.config,this.og,this.Na,this.Xa,this.qB,this.AH,this.ql,this.ZG,this.wS,this.Jc,this.sy,this.ED);};C=d;b.zO=C;b.zO=C=t.__decorate([(0,e.aa)(),t.__param(0,(0,e.v)(n.Khb)),t.__param(1,(0,e.v)(c.Xp)),t.__param(2,(0,e.v)(g.rBa)),t.__param(3,(0,e.v)(f.Bm)),t.__param(4,(0,e.v)(l.h8a)),t.__param(5,(0,e.v)(m.qz)),t.__param(6,(0,e.v)(p.Ic)),t.__param(7,(0,e.v)(w.TO)),t.__param(8,(0,e.v)(q.Li)),t.__param(9,(0,e.v)(r.ie)),t.__param(10,(0,e.v)(u.Bt)),t.__param(11,(0,e.v)(y.Mia)),t.__param(12,(0,e.v)(v.jF)),t.__param(13,(0,e.v)(x.LO)),t.__param(14,(0,e.v)(A.xt)),t.__param(15,(0,e.v)(z.WDa)),t.__param(16,(0,e.v)(h.fDa)),t.__param(17,(0,e.v)(B.wz)),t.__param(18,(0,e.v)(a.CCa))],C);},74098:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F;function d(G,J,L,K,M,P,I,O,Q,T,U,X,Y,W,Z,ba,ca,da,ia,S){var N;N=this;this.j=G;this.Pa=J;this.IPb=L;this.di=K;this.MPa=M;this.Rf=P;this.Qna=I;this.De=O;this.config=Q;this.og=T;this.Na=U;this.Xa=X;this.qB=Y;this.AH=W;this.ql=Z;this.ZG=ba;this.wS=ca;this.Jc=da;this.sy=ia;this.ED=S;this.F_=new WeakMap();this.eCb=new WeakMap();this.zfa=[];this.FWa=this.sL=this.Tda=0;this.LY=[];this.IKa=!1;this.Np=function(V){var aa,fa,ha,ka,pa,oa,la,R,ea,ja,sa,ta,qa,Aa,Ga,na,va,xa,ra;qa={};try{qa={playdelaysdk:(0,l.$h)(N.j.q8()),applicationPlaydelay:(0,l.$h)(N.j.cMa()),playdelay:(0,l.$h)(N.j.dMa()),trackid:N.j.Jn,bookmark:(0,l.$h)(N.j.pq || 0),pbnum:N.j.index,endianness:(0,e.aqc)(),isStandaloneDisplay:N.config().nOb};N.config().alc && (qa.transitiontime=N.j.mr,qa.uiplaystarttime=N.j.qb.cC,qa.playbackrequestedat=N.j.Yj.oa(m.za),qa.clockgettime=N.getTime(),qa.clockgetpreciseepoch=N.Na.Mg.oa(m.za),qa.clockgetpreciseappepoch=N.Xa.wH.oa(m.za),qa.absolutestarttime=N.j.cR(),qa.relativetime=N.j.cyb());Aa=N.j.ka.je;Ga=null === (fa=null === (aa=N.j.Ye.value) || void 0 === aa?void 0:aa.stream) || void 0 === fa?void 0:fa.ob;qa.audiotrackinfo=N.fR(Aa,Ga);na=N.j.ka.Mh;va=null === (ka=null === (ha=N.j.ze.value) || void 0 === ha?void 0:ha.stream) || void 0 === ka?void 0:ka.ob;qa.videotrackinfo=N.JSa(na,va);qa.texttrackinfo=N.yR(N.j.ka.Rd);qa.mediabufferedsegments=null === (pa=N.j.Xd) || void 0 === pa?void 0:pa.KZ();N.Zoa(qa,"startplay");}catch(ya){N.log.error("error in startplay log fields",ya);}N.j.Hj && (qa.blocked=N.j.Hj);N.Jc.Pzb(qa);(0,x.pc)(N.j.aob) && (qa.bookmarkact=(0,l.$h)(N.j.aob));(aa=N.j.If.at && N.j.If.ats?N.j.If.at - N.j.If.ats:void 0) && (qa.nccpat=aa);(aa=N.j.If.lr && N.j.If.lc?N.j.If.lr - N.j.If.lc:void 0) && (qa.nccplt=aa);(aa=N.j.If.lc && N.j.If.lg?N.j.If.lc - N.j.If.lg:void 0) && (qa.lct=aa);(aa=N.ao()) && (qa.downloadables=aa);Ba._cad_global.device && (0,x.$c)(Ba._cad_global.device.ooa) && (qa.esnSource=Ba._cad_global.device.ooa);(0,l.Jf)(qa,N.qB,{prefix:"pi_"});N.j.Tt && N.j.Tt.initBitrate && (qa.initvbitrate=N.j.Tt.initBitrate);N.j.Tt && N.j.Tt.selector && (qa.selector=N.j.Tt.selector);qa.fullDlreports=N.R3a;if(N.j.state.value >= w.Gc.Cf)try{xa=N.j.aD();xa && (N.maxBitrate=(0,e.Iga)(xa.map(function(ya){return ya.bitrate;})),N.jEb=(0,e.Iga)(xa.map(function(ya){return ya.height;})),qa.maxbitrate=N.maxBitrate,qa.maxresheight=N.jEb);}catch(ya){N.log.error("Exception computing max bitrate",ya);}try{ra=(0,e.WZ)();ra && (qa.pdltime=ra);}catch(ya){}try{(0,l.Jf)(qa,N.j.If,{prefix:"sm_"});(0,l.Jf)(qa,N.j.$pa(),{prefix:"vd_"});}catch(ya){}V && N.j.yT && (qa.pssh=N.j.yT);N.Tzb(N.j,qa);qa.avtp=N.CU.jl().I2a;(null === (oa=N.j.bb) || void 0 === oa?0:oa.IF) && N.Aqa(qa);if(N.j.ka.Rd)try{qa.ttTrackFields=N.j.ka.Rd.Ki;}catch(ya){}qa.itsxheaac=MediaSource.isTypeSupported('audio/mp4; codecs="mp4a.40.42"');N.Jc.j_(qa,!0,N.j.ka.je,N.Pa);N.Jc.l_(qa,!0,N.j.ka.Mh,N.Pa);N.j.S && (qa.packageId=N.j.S.Aa.Ms);if(null === (la=N.j.S) || void 0 === la?0:la.Aa.Yr)qa.hasChoiceMap=!0;N.config().ePa && (qa.reusedManifest=null !== (ea=null === (R=N.j.S) || void 0 === R?void 0:R.V3a) && void 0 !== ea?ea:!1);if(null === (ta=null === (sa=null === (ja=N.j.S) || void 0 === ja?void 0:ja.Aa.CE) || void 0 === sa?void 0:sa.mN) || void 0 === ta?0:ta.UA)qa.isSteeringSticky=!0;N.Gyc();V && (N.JTa(qa),N.LTa(qa));N.Nzb(N.j,qa);N.HR(N.j,qa);N.IR(N.j,qa);N.$x(N.j,qa);N.Eaa(N.j,qa);N.kL(N.j,qa,N.IKa);N.Faa(N.j,qa);N.Hvc(N.j,qa);N.KTa(qa);N.NTa(qa);N.Jc.k_(qa);N.Mzb(qa);N.Jc.Bqa(qa,N.Pa);N.MTa(qa);N.NA(qa,c.Ud.Np);N.Lzb(qa);N.Vc(y.Td.Np,V,F.lf | F.ix | F.yl | F.Cz | F.bO | F.Wga | F.mO | F.Wu,qa);};this.Hu=function(V,aa,fa){aa={playdelay:(0,l.$h)(V),reason:fa,intrplayseq:N.sL - 1,skipped:aa};"repos" === fa && (aa.prstate=!0 === N.j.paused.value?"paused":"playing");N.NA(aa,c.Ud.Hu);N.IR(N.j,aa);N.$x(N.j,aa);N.Eaa(N.j,aa);N.Vc(y.Td.Hu,!1,F.lf | F.ix | F.yl,aa);"rebuffer" !== fa && "force_rebuffer" !== fa || N.j.Dp.d6b(Number((0,l.$h)(V)));};this.sG=function(V,aa,fa,ha){V={moff:(0,l.ps)(fa),moffms:(0,l.$h)(fa),vbitrate:aa.bitrate,vbitrateold:V.bitrate,vdlid:aa.ob,vdlidold:V.ob,vheight:aa.height,vheightold:V.height,vwidth:aa.width,vwidthold:V.width,bw:ha};N.IR(N.j,V);N.$x(N.j,V);N.kL(N.j,V);N.NA(V,c.Ud.sG);N.Vc(y.Td.sG,!1,F.yl,V);};this.t_a=function(V,aa,fa){V={moff:(0,l.ps)(fa),moffms:(0,l.$h)(fa),vdlidold:V.ob,vbitrateold:V.bitrate};N.IR(N.j,V);N.$x(N.j,V);N.kL(N.j,V);N.Jc.ew(V,aa,N.j.Ye.value && N.j.Ye.value.stream);N.NA(V,c.Ud.Nda);N.Vc(y.Td.Nda,!1,F.yl,V);};this.TYa=function(){var V,aa;V={waittime:(0,l.$h)(N.j.cyb()),abortedevent:"startplay",trackid:N.j.Jn,prstate:N.gH(),paustate:N.j.paused.value};N.Zoa(V,"endplay");N.NA(V,c.Ud.vM);N.ZG.E9 && (V.eventlist_version=1,V.eventlist=N.wS.Mxb(N.j));N.j.Tt && N.j.Tt.initBitrate && (V.initvbitrate=N.j.Tt.initBitrate);try{aa=(0,e.WZ)();aa && (V.pdltime=aa);(0,l.Jf)(V,N.j.If,{prefix:"sm_"});}catch(fa){}N.GTa(V);N.Jc.Bqa(V,N.Pa);V.itsxheaac=MediaSource.isTypeSupported('audio/mp4; codecs="mp4a.40.42"');N.Jc.j_(V,!1,N.j.ka.je,N.Pa);N.Jc.l_(V,!1,N.j.ka.Mh,N.Pa);N.JTa(V);N.Jc.ew(V,N.j.ag.value,N.j.fj.value);N.Tzb(N.j,V);N.HR(N.j,V);N.Faa(N.j,V);N.MTa(V);N.LTa(V);N.$x(N.j,V);N.Vc(y.Td.vM,!1,F.lf | F.yl | F.bO | F.Cz | F.Wu,V);};this.SYa=function(V,aa){V={waittime:(0,l.$h)(V),abortedevent:"resumeplay",resumeplayreason:aa};N.j.Tt && N.j.Tt.initBitrate && (V.initvbitrate=N.j.Tt.initBitrate);N.Jc.ew(V,N.j.ag.value,N.j.fj.value);N.Faa(N.j,V);N.$x(N.j,V);N.NA(V,c.Ud.vM);N.Vc(y.Td.vM,!1,F.lf | F.yl | F.Wu,V);};this.T1a=function(V,aa,fa){V={newstate:aa?"Paused":"Playing",oldstate:V?"Paused":"Playing",reason:fa};N.IR(N.j,V);N.$x(N.j,V);N.kL(N.j,V);N.Jc.ew(V,N.j.ze.value && N.j.ze.value.stream,N.j.Ye.value && N.j.Ye.value.stream);N.NA(V,c.Ud.afa);N.Vc(y.Td.afa,!1,F.lf | F.yl,V);};this.MR=function(V,aa,fa){var ha,ka,pa,oa,la;V=(0,l.Jf)({vdlid:N.j.ag.value.ob,playingms:V,pausedms:aa,intrplayseq:N.sL++,prstate:N.gH(),paustate:N.j.paused.value},fa);N.Zoa(V,"intrplay");N.NA(V,c.Ud.MR);aa=N.j.Tc[z.u.U].value;fa=N.j.Tc[z.u.X].value;V.cdnid=V.vcdnid=aa && aa.id;V.acdnid=fa && fa.id;aa=null === (ha=N.j.Pj(N.j.AG).S) || void 0 === ha?void 0:ha.Aa;V.locid=N.F_ && aa && (null === (ka=N.F_.get(aa)) || void 0 === ka?void 0:ka.MVa);V.loclv=N.F_ && aa && (null === (pa=N.F_.get(aa)) || void 0 === pa?void 0:pa.lDb);V.avtp=N.CU.jl().I2a;V.mediabuffered=null === (oa=N.j.Xd) || void 0 === oa?void 0:oa.JZ();V.hidden=document.hidden;V.volume=N.j.CY;if(null === (la=N.j.bb) || void 0 === la?0:la.IF)(N.GTa(V),N.Aqa(V),N.Rzb(V));try{(0,l.Jf)(V,N.j.$pa(),{prefix:"vd_"});}catch(R){}N.IR(N.j,V);N.$x(N.j,V);N.Eaa(N.j,V);N.kL(N.j,V);N.Jc.ew(V,N.j.ze.value && N.j.ze.value.stream,N.j.Ye.value && N.j.Ye.value.stream);N.Vc(y.Td.MR,!1,F.lf | F.yl,V);};this.NM=function(V,aa,fa,ha){V={moffold:(0,l.ps)(V),reposseq:N.Tda++,prstate:N.gH(),paustate:N.j.paused.value};ha === w.Mc.n4 && (V.reason="missing_segments");N.kL(N.j,V);N.Jc.ew(V,fa && fa.stream,aa && aa.stream);N.NA(V,c.Ud.NM);N.Vc(y.Td.NM,!1,F.lf | F.yl,V);};this.uLa=function(){var V,aa,fa,ha;aa=N.fR(N.j.ka.je,N.j.fj.value.ob);fa=N.vH;ha=null === (V=N.bVa) || void 0 === V?void 0:V.ob;V=N.fR(fa,ha);N.Vc(y.Td.vnb,!1,F.lf | F.yl,{switchdelay:(0,l.$h)(N.getTime() - N.cVa),track:aa,oldtrack:V});};this.Tea=function(V){N.Vc(y.Td.kOb,!1,F.lf | F.yl,{speedold:Math.floor(1E3 * V.oldValue),speed:Math.floor(1E3 * V.newValue)});};this.L2=function(){N.Vc(y.Td.OUc,!1,F.lf | F.yl,{track:N.j.ka.Rd.Ki});};this.AI=function(V){var aa,fa;fa=N.j.ka.Rd;if(V.newValue || fa && fa.Kq() && !fa.rp())(V=null !== (aa=V.newValue) && void 0 !== aa?aa:fa,aa=N.yR(V),V=N.yR(N.pVa),aa={switchdelay:(0,l.$h)(N.getTime() - N.oVa),track:aa,oldtrack:V},N.Jc.ew(aa,N.j.ze.value && N.j.ze.value.stream,N.j.Ye.value && N.j.Ye.value.stream),N.Vc(y.Td.QPb,!1,F.lf | F.yl,aa));};this.Ev=function(V){N.Vc(y.Td.H9b,!1,F.lf | F.yl,V.newValue);};this.Rac=function(V,aa){var fa,ha;fa=aa.serverid;ha={locid:aa.location,loclv:aa.locationlv,selocaid:fa,selcdnid:fa,selocaname:aa.servername};ha.mediatype=aa.mediatype;ha.selreason=aa.selreason || "unknown";ha.seldetail=aa.seldetail;ha.cdnbwdata=JSON.stringify([{id:fa}]);V && (ha.oldlocid=V.MVa,ha.oldloclv=V.lDb,ha.oldocaid=V.FPc,ha.oldocaname=V.Cea);(V=aa.manifest && aa.manifest.movieId)?((aa=N.j.Pj(V).Vh) && (ha.cdninfo=N.t$(aa)),ha.viewableId=V):N.log.warn("ASE is missing manifest for viewable");N.Vc(y.Td.Lob,!1,F.Wga,ha);};this.Osb=function(){var V,aa,fa;if(N.j.Vh)try{V=!1;N.R3a || (V=!0,N.LY=N.LY.filter(function(ha){return !ha.success;}));if(0 < N.LY.length){aa=N.Qna.construct(N.LY,N.j.Yj.oa(m.za));N.LY=[];aa.erroronly=V;fa={};(0,l.Di)(aa,function(ha,ka){fa[ha]=JSON.stringify(ka);});N.Vc(y.Td.Ric,!1,F.yl,fa);}}catch(ha){N.log.error("Exception in dlreport.",ha);}};this.gH=function(){var V;V=N.j.Zb.value;return V === w.Nb.rg?"playing":V === w.Nb.Oi?"paused":V === w.Nb.ex?"ended":"waiting";};this.LH=function(){var V,aa,fa;if(N.j.state.value == w.Gc.Cf){fa=N.gda();N.config().C_a && (fa.avtp=N.CU.jl().I2a,(null === (V=N.j.bb) || void 0 === V?0:V.IF) && N.Aqa(fa));fa.mediabuffered=null === (aa=N.j.Xd) || void 0 === aa?void 0:aa.JZ();fa.midplayseq=N.FWa++;fa.prstate=N.gH();fa.paustate=N.j.paused.value;N.config().xPc && N.gPb("midplay");N.config().Iy && N.OTa(fa);N.KTa(fa);N.NTa(fa);N.$x(N.j,fa);N.Jc.k_(fa);N.Vc(y.Td.LH,!1,F.lf | F.yl | F.bO | F.Cz,fa);}};this.gPb=function(V){var aa,fa;aa={};aa.trigger=V;try{fa=N.j.YRa();aa.subtitleqoescore=N.j.gr.htc(fa);aa.metrics=JSON.stringify(N.j.gr.tSa(fa));}catch(ha){N.log.error("error getting subtitle qoe data",ha);}N.Vc(y.Td.ITc,!1,F.lf | F.bO | F.ix,aa);};this.transition=function(V){var aa;V.mediabufferedsegments=null === (aa=N.j.Xd) || void 0 === aa?void 0:aa.KZ();N.kL(N.j,V);N.Faa(N.j,V);N.Vc(y.Td.transition,!1,0,V);};this.w0a=function(V,aa){N.Vc(y.Td.w0a,aa,0,V);};this.OKa=function(V){N.Vc(y.Td.OKa,!1,0,V);};this.Qv=function(V){var aa,fa,ha,ka,pa,oa,la;ka=N.gda();N.Zoa(ka,"endplay");ka.prstate=N.gH();ka.paustate=N.j.paused.value;ka.muted=N.j.muted.value;ka.isStandaloneDisplay=N.config().nOb;ka.hidden=document.hidden;ka.volume=N.j.CY;ka.fullDlreports=N.R3a;ka.mediabuffered=null === (aa=N.j.Xd) || void 0 === aa?void 0:aa.JZ();ka.mediabufferedsegments=null === (fa=N.j.Xd) || void 0 === fa?void 0:fa.KZ();N.j.DI && "downloaded" === N.j.DI.c_() && (ka.trickplay_ms=N.j.Pfa.offset,ka.trickplay_res=N.j.Pfa.cLb);N.config().TRb && (ka.rtinfo=N.j.Csc());N.config().C_a && (null === (ha=N.j.bb) || void 0 === ha?0:ha.IF) && N.Aqa(ka);ka.endreason=V?"error":N.j.Zb.value === w.Nb.ex?"ended":"stopped";(aa=N.qB) && (0,l.Jf)(ka,aa,{prefix:"pi_"});try{(0,l.Jf)(ka,N.j.If,{prefix:"sm_"});}catch(ja){}N.j.FTa && (ka.inactivityTime=N.j.FTa);N.GTa(ka);N.Rzb(ka);if(N.j.nma){aa=N.j.nma;fa=N.config().eob;ha=N.j.loadTime;pa={iv:fa,seg:[]};oa=function(ja,sa,ta){return 0 === sa || void 0 === ta[sa - 1]?ja:ja - ta[sa - 1];};la=aa.Q8b.map(oa);oa=aa.NXc.map(oa);for(var R,ea=0;ea < la.length;ea++){if(la[ea] || oa[ea])R?(R.ams.push(la[ea]),R.vms.push(oa[ea])):R={ams:[aa.Q8b[ea]],vms:[aa.NXc[ea]],soffms:aa.startTime + ea * fa - ha};ea !== la.length - 1 && la[ea] && oa[ea] || !R || (pa.seg.push(R),R=void 0);}ka.bt=JSON.stringify(pa);}V && (N.JTa(ka),N.LTa(ka));N.gPb("endplay");N.config().Iy && N.OTa(ka);N.Jc.j_(ka,!1,N.j.ka.je,N.Pa);N.Jc.l_(ka,!1,N.j.ka.Mh,N.Pa);N.Nzb(N.j,ka);N.HR(N.j,ka);N.IR(N.j,ka);N.kL(N.j,ka,N.IKa);N.$x(N.j,ka);N.Eaa(N.j,ka);N.Faa(N.j,ka);N.KTa(ka);N.NTa(ka);N.Jc.k_(ka);N.Jvc(ka);N.Mzb(ka);N.Kvc(ka);N.Nvc(ka);N.MTa(ka);N.Ovc(ka);N.NA(ka,c.Ud.Qv);N.Lzb(ka);N.Vc(y.Td.Qv,V,F.lf | F.ix | F.yl | F.bO | F.Cz | F.mO | F.Wu,ka);};this.Zic=function(V){N.LY.push(N.Qna.udc(V.response));};this.Hj=function(){N.Vc(y.Td.Ynb,!1,F.lf | F.bO | F.Wu,{});};this.ycc=function(V){var aa,fa;aa=V.response.Oq;V=(0,m.ic)(aa.fm);fa=(0,m.ic)(aa.Kw);aa=(0,q.ma)(aa.Wn || 0);aa.uBb() || aa.vUa() || (V=new r.lGa(V,fa),N.CU.W5b(new u.g8a(V,aa)));};this.wua=function(V){var aa,fa,ha;ha=V.newValue;V.Xm && V.Xm.mB && ha && (null === (aa=V.Xm) || void 0 === aa || !aa.reason) || ha == N.ZR || (N.T1a(N.ZR,ha,null === (fa=V.Xm) || void 0 === fa?void 0:fa.reason),N.ZR=ha);};this.lG=function(V){function aa(fa){var ha;if(N.j.ac && N.j.ac.sourceBuffers){ha=N.j.ac.sourceBuffers.filter(function(ka){return ka.type === fa;}).pop();if(ha)return {busy:ha.Oj(),updating:ha.updating(),ranges:ha.gpa()};}}V={cause:V.Fc};V.cause && V.cause === g.vFa && (V.mediaTime=N.j.mediaTime.value,V.buf_audio=aa(f.gia),V.buf_video=aa(f.x5));N.MR(N.zfa[w.Nb.rg] || 0,N.zfa[w.Nb.Oi] || 0,V);};this.jQb=function(V){var aa;V=V.oldValue;aa=N.getTime();V === w.Nb.ph?N.zfa=[]:N.zfa[V]=(N.zfa[V] || 0) + (aa - N.Ryc);N.Ryc=aa;};this.nq=function(V){N.cVa=N.getTime();N.vH=V.tw;};this.Rp=function(V){N.oVa=N.getTime();N.pVa=V.Cy;};this.T7=function(V){N.bVa=V.oldValue;};this.Aba=function(V){var fa;function aa(ha,ka){var pa;if(!ha || ha.MVa !== ka.location){pa={MVa:ka.location,lDb:ka.locationlv,FPc:ka.serverid,Cea:ka.servername};N.Rac(ha,ka);return pa;}}fa=V.manifest;"audio" === V.mediatype?(V=aa(N.eCb.get(fa),V)) && N.eCb.set(fa,V):(V=aa(N.F_.get(fa),V)) && N.F_.set(fa,V);};this.Bea=function(V){var aa,fa;aa=V.mediatype;fa=V.reason;"video" === aa?"serverswitchaway" === fa?(N.jm.summary.vSb++,N.jm.Era=N.Na.Mg.oa(m.za)):"serverswitchback" === fa && (N.jm.summary.wSb++,N.jm.Era && (N.jm.summary.xSb.push(N.Na.Mg.oa(m.za) - N.jm.Era),N.jm.Era=void 0)):"audio" === aa && ("serverswitchaway" === fa?(N.jm.summary.dnb++,N.jm.yra=N.Na.Mg.oa(m.za)):"serverswitchback" === fa && (N.jm.summary.enb++,N.jm.yra && (N.jm.summary.fnb.push(N.Na.Mg.oa(m.za) - N.jm.yra),N.jm.yra=void 0)));N.Vc(y.Td.HPc,!1,F.lf | F.yl,{mediatype:V.mediatype,server:V.server,selreason:V.reason,location:V.location,bitrate:V.bitrate,confidence:V.confidence,throughput:V.throughput,oldserver:V.oldserver});};this.AX=function(V){var aa;aa=V.dB;V=n.__rest(V,["type","logblobType"]);delete V.inner;switch(aa){case "asereport":N.Vc(y.Td.Y7b,!1,F.yl,V);break;case "livereport":N.$x(N.j,V);N.Eaa(N.j,V);N.NA(V,c.Ud.yH);N.Vc(y.Td.yH,!1,F.lf | F.ix,V);break;default:N.Vc(aa,!1,F.lf,V);}};this.Ura=function(V){var aa,fa,ha,ka;aa=V.mediaType;fa=V.current;ha=V.Uq;ka=V.swa;V=V.ob;aa={mediatype:(0,D.JH)(aa),curr:{enc:fa.co,origin:fa.bo},prev:{enc:ha.co,origin:ha.bo},segmentnumber:ka,dlid:V};N.$x(N.j,aa);N.Vc(y.Td.mAc,!1,F.lf,aa);};this.z2=function(V){V=Object.assign({},V);V.details && (V.details=JSON.stringify(V.details));N.Vc(y.Td.HTc,!0,F.lf | F.ix | F.Wga,V);};this.IKa=Z.T3a || Z.aya || Z.Gvb;this.CU=L();this.log=(0,h.ko)(G,"LogblobBuilder");this.ZR=G.paused.value;this.Ia=this.Pa.Ia;this.jm={summary:{vSb:0,wSb:0,xSb:[],dnb:0,enb:0,fnb:[]},Era:void 0,yra:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.t5=void 0;n=a(22970);c=a(45247);f=a(33096);g=a(13044);e=a(52569);h=a(31276);k=a(45146);l=a(3887);m=a(5021);p=a(36129);q=a(72574);r=a(74267);u=a(70826);v=a(22365);w=a(85001);x=a(32687);y=a(18169);A=a(32573);z=a(26388);B=a(30873);C=a(79542);D=a(45247);E=a(82100);H=a(24735);d.prototype.Tzb=function(G,J){var L,K,M,P,I,O,Q,T,U,X,Y,W,Z,ba,ca,da,ia;if(this.config().Iy)try{L={};K=this.og.getStats(void 0,void 0,G.R);M=G.cR();P=K.AU.Kcc || [];L.attempts=K.Sua || 0;L.num_completed_tasks=P.length;I=this.Rf.Gmc;O={};Q=A.Cr.A2;T=A.Cr.Vd;U=A.Cr.lMa;K.kp && (O.scheduled=K.kp - M);X=G.S;X && (0,x.pc)(X.NT) && (O.preauthsent=X.NT - G.loadTime,O.preauthreceived=X.I1 - G.loadTime);Y=P.filter(function(S){return "manifest" === S.type;});L.mf_succ=Y.filter(I("status",Q)).length;L.mf_fail=Y.filter(I("status",T)).length;W=G.If;(0,x.$c)(W.lg) && 0 > W.lg && G.loadTime && (O.ldlsent=W.lc,O.ldlreceived=W.lr);Z=P.filter(function(S){return "license" === S.type;});L.ldl_succ=Z.filter(I("status",Q)).length;L.ldl_fail=Z.filter(I("status",T)).length;K=!0;M=[];"notcached" === G.ZP && (K=!1,M.push("Missing cached manifest"));this.config().coa || (K=!1,M.push("LDL prefetch disabled"));ba=Z.filter(I("status",U)).length;this.config().coa && 0 === ba && (!O.ldlreceived || 0 <= O.ldlreceived) && (K=!1,M.push("LDL received after start"));if(this.config().eoa)if(J.isPrefetchItem){ca=J.prefetchedAudioMs / J.bcABufferLevelMs;if(1 > J.prefetchedVideoMs / J.bcVBufferLevelMs || 1 > ca)(K=!1,M.push("Insufficient media fetched"));}else (K=!1,M.push("aseStats not initialized"));da=P.filter(function(S){return "getHeaders" === S.type;});L.header_succ=da.filter(I("status",Q)).length;L.header_fail=da.filter(I("status",T)).length;ia=P.filter(function(S){return "getMedia" === S.type;});L.media_succ=ia.filter(I("status",Q)).length;L.media_fail=ia.filter(I("status",T)).length;L.hm_succ=L.header_succ + L.media_succ;L.hm_fail=L.header_fail + L.media_fail;(0,l.Jf)(J,L,{prefix:"pr_"});this.ZG.E9 && (J.eventlist_version=1,J.eventlist=this.wS.Mxb(G));(J.prefetchCompleted=K) || (J.prefetchFailed=M,(0,l.Jf)(J,O,{prefix:"pe_"}));this.OTa(J);}catch(S){this.log.warn("error in collecting video prepare data",S);}};d.prototype.JSa=function(G,J){return G?{id:G.trackId,downloadableId:J,rank:G.Bc}:{};};d.prototype.fR=function(G,J){return G?{id:G.trackId,trackId:G.trackId,bcp47:G.Ig,downloadableId:J,rank:G.Bc,chan:G.channels}:{};};d.prototype.yR=function(G){return G?{id:G.trackId,trackId:G.trackId,bcp47:G.Ig,downloadableId:G.ob,rank:G.Bc,isImageBased:G.Jq,profile:G.profile}:{};};d.prototype.Lsc=function(G,J){if(G=G.u$())if(J=G[J])return J.Ta;};d.prototype.Nzb=function(G,J){G.qb.Pg && (J.isBranching=!0);};d.prototype.HR=function(G,J){J.cachedManifest=G.ZP;J.cachedLicense=G.RX.source;J.usedldl=this.config().coa?(G.RX.type === H.xr.dJ).toString():"not_capable";};d.prototype.IR=function(G,J){var L,K;if(this.config().Mvc){L=G.ZRa();K=G.ga.S;L && K && (J.segment=L,K=G.$K(),J.segmenttime=K,G=this.Lsc(G,L),null !== K && void 0 !== G && (J.segmentoffset=K - G));}};d.prototype.kL=function(G,J,L){J.pxid=G.vn;(void 0 === L?0:L) && (J.playgraph_trace=G.KIb);};d.prototype.Faa=function(G,J){var L,K;K=[];G.x_() && K.push("ux");G.eqa() && K.push("content");G.aw() && K.push("ads");(null === (L=this.j.S) || void 0 === L?0:L.Aa.Yr) && K.push("choiceMap");J.playgraphTypes=K;};d.prototype.Hvc=function(G,J){var L,K,M;L=new Set();G.x_() && G.Iyb().forEach(function(P){P != G.Ff && L.add(P);});if(G.eqa()){K=G.AG;M=G.S.Aa.$C.Z;Object.keys(M.ba).map(function(P){return M.ba[P].J;}).filter(function(P,I,O){return P !== K && O.indexOf(P) === I;}).forEach(function(P){return L.add(P);});}0 < L.size && (J.auxViewables=[].concat(za(L)));};d.prototype.Rzb=function(G){var J,L;J=this.j.P9c;L=J && J.eNc;J && J.jvc && (G.htwbr=J.jvc,G.pbtwbr=J.fcd,G.hptwbr=J.X9c);J && J.oOc && (G.rr=J.oOc,G.ra=J.Fcd);J && L && 0 < (L.length || 0) && (G.qe=JSON.stringify(L));};d.prototype.JTa=function(G){var J,L,K;try{J=this.Rf.createElement("canvas");L=J.getContext("webgl") || J.getContext("experimental-webgl");if(L){K=L.getExtension("WEBGL_debug_renderer_info");K && (G.WebGLRenderer=L.getParameter(K.UNMASKED_RENDERER_WEBGL),G.WebGLVendor=L.getParameter(K.UNMASKED_VENDOR_WEBGL));}}catch(M){}};d.prototype.Nvc=function(G){G.switchAwaySummary={vsa:this.jm.summary.vSb,vsb:this.jm.summary.wSb,vsbt:this.jm.summary.xSb,asa:this.jm.summary.dnb,asb:this.jm.summary.enb,asbt:this.jm.summary.fnb};};d.prototype.T2b=function(G){var J;J=[];return G?Object.keys(G).map(function(L){return +L;}):J;};d.prototype.ao=function(){var G,J;G=this;if(this.j.NE && this.j.$k){J=[];this.j.NE.concat(this.j.$k).forEach(function(L){L.streams.forEach(function(K){J.push({dlid:K.ob,type:K.type,bitrate:K.bitrate,vmaf:K.Qb,cdn_ids:G.T2b(K.IOa)});});});return JSON.stringify(J);}};d.prototype.Qac=function(){var J,L,K;function G(M,P){var I,O,Q;I=M.cdnId + "$" + M.correlationId;O=K[I];O || (O={cdnid:M.cdnId,pbcid:M.correlationId,dls:[]},K[I]=O,L.push(O));(0,k.DY)(M.bitrate);(0,k.DY)(M.duration);I={bitrate:M.bitrate,tm:(0,v.zt)(M.duration)};Q=M.vmaf;Q && ((0,k.DY)(M.vmaf),I.vf=Q);I[P]=(0,l.am)(M.downloadableId);O.dls.push(I);}J=this.j.Dp.Uoc();L=[];K={};J.audio.forEach(function(M){G(M,"adlid");});J.video.forEach(function(M){G(M,"dlid");});return JSON.stringify(L);};d.prototype.gda=function(){var G,J,L,K,M,P,I,O,Q,T,U,X,Y,W,Z,ba,ca;L=this.j.Dp;K={totaltime:(0,l.ps)(L.Zv("content")),totalcontenttime:(0,l.ps)(L.eaa("content")),totaladtime:(0,l.ps)(L.Zv("ads")),totalothertime:(0,l.ps)(L.Zv("other")),cdndldist:this.Qac(),reposcount:this.Tda,intrplaycount:this.sL};try{M={numskip:0,numlowqual:0};P=this.j.Xd;I=P.yA();(0,x.pc)(I) && (K.totfr=I,M.numren=I);I=P.lR();(0,x.pc)(I) && (K.totdfr=I,M.numrendrop=I);I=P.z$();(0,x.pc)(I) && (K.totcfr=I,M.numrenerr=I);K.playqualvideo=JSON.stringify(M);O=this.j.ag.value;O && (K.videofr=O.framerate.toFixed(3));Q=L.MQa();Q && (K.abrdel=Q);T=L.mqa() && L.jwb();T && (K.tw_vmaf=T);U=L.hwb();U && (0,l.Jf)(K,U);K.rbfrs=this.sL;K.maxbitrate=this.maxBitrate;K.maxresheight=this.jEb;X=this.j.dL();for(L=0;L < X.length;L++){Y=X[L];W=this.Pa.e0.rI(Y);if(W){(0,k.va)(Z);K.maxbitrate=Z?Z.bitrate:0;K.maxresheight=Z?Z.height:0;K.bitratefilters=W.join("|");break;}Z=Y;}this.j.DI && (K.trickplay=this.j.DI.c_());null !== this.j.gr.Inb && (K.avg_subt_delay=this.j.gr.Inb);ba=null === (G=this.j.Xd) || void 0 === G?void 0:G.PQb;ba && 0 < ba && (K.unexpectedrewindcount=ba);ca=null === (J=this.j.Xd) || void 0 === J?void 0:J.iSb.Pvb;ca && 0 < ca.length && (K.frozenFrames=ca);}catch(da){this.log.error("Exception reading some of the endplay fields",da);}(0,l.Jf)(K,this.j.$pa(),{prefix:"vd_"});return K;};d.prototype.getTime=function(){return this.Xa.yc().oa(m.za);};d.prototype.kSa=function(){return this.getTime() - this.Pa.Yj.oa(m.za);};d.prototype.OTa=function(G){var J;try{J=this.og.getStats();G.pr_cache_size=JSON.stringify(J.cache);G.pr_stats=JSON.stringify(J.ioc);}catch(L){}};d.prototype.KTa=function(G){this.log.debug("httpstats",this.De.stats);(0,l.Jf)(G,this.De.stats,{prefix:"http_"});};d.prototype.$x=function(G,J){G=G.Dc;G.Ba && (J.intenttoplayatedge=G.lu(),G=G.ZK(),J.livestage=this.Wqc(G));};d.prototype.Eaa=function(G,J){var L;L=G.Dc;G.bb && L.Ba && [{mediaType:z.u.X,Eoa:"aencodingpipeline"},{mediaType:z.u.U,Eoa:"vencodingpipeline"},{mediaType:z.u.Da,Eoa:"tencodingpipeline"},{mediaType:z.u.um,Eoa:"mencodingpipeline"}].forEach(function(K){var M;M=G.bb.cB[K.mediaType];if(M.co || M.bo)J[K.Eoa]={enc:M.co,origin:M.bo};});};d.prototype.Wqc=function(G){switch(G){case B.rz.X5:case B.rz.FCa:case B.rz.XAa:return G.toLowerCase();default:return (0,C.QG)(G);}};d.prototype.GTa=function(G){var J,L,K;J=this.config().Wrb && !(this.Ia % this.config().Wrb);L=this.j.bb;K=null === L || void 0 === L?void 0:L.lk;J && K && (G.ASEstats=JSON.stringify(L.yAb()));};d.prototype.Aqa=function(G){Object.assign(G,this.j.bb.bd.ptc());};d.prototype.NTa=function(G){var J;try{J=v.qC.memory;(0,x.sBb)(J) && (G.totalJSHeapSize=J.totalJSHeapSize,G.usedJSHeapSize=J.usedJSHeapSize,G.jsHeapSizeLimit=J.jsHeapSizeLimit);}catch(L){}};d.prototype.Mzb=function(G){var J;try{if(this.config().u8){J=this.j.bpc();G.battery=J;this.log.trace("batterystatuses",J);}}catch(L){}};d.prototype.Jvc=function(G){this.j.rna && (G.dqec=this.j.rna);};d.prototype.MTa=function(G){var J,L,K;(null === (J=this.j.Rl) || void 0 === J?0:J.Nqc)?G.keySystem=this.j.Rl.wy.my:(null === (K=null === (L=this.j.Rl) || void 0 === L?void 0:L.mediaKeys) || void 0 === K?0:K.keySystem)?G.keySystem=this.j.Rl.mediaKeys.keySystem:this.sy.VBb && (G.keySystem=this.sy.VBb);G.keySystem && (G.keysys=G.keySystem);this.sy.ZBb && (G.keySystemStatuses=this.lBc(this.sy.ZBb));this.sy.UBb && (G.keySystemHasHwdrmAvailable=this.sy.UBb);this.sy.Csa && (G.keySystemMediaKeysCount=this.sy.Csa);0 < this.ED.XBb.length && (G.keySystemRestrictions=this.ED.XBb);0 < Object.keys(this.ED.YBb).length && (G.keySystemRestrictionsDebug=this.ED.YBb);0 < Object.keys(this.ED.WBb).length && (G.keySystemRestrictionReasons=this.ED.WBb);G.useEncryptedEvent=this.config().Q3a;};d.prototype.lBc=function(G){var J;J=this;return G.reduce(function(L,K){var M;M=(0,E.eqb)(K.xra);L[M]=J.pBc(K.status);return L;},{});};d.prototype.pBc=function(G){return G.supported?!0:G.reason;};d.prototype.LTa=function(G){var J;if(null === (J=this.j.Rl) || void 0 === J?0:J.bxb)G.keystatus=this.j.Rl.ZUa;};d.prototype.Kvc=function(G){this.LPa && (G.externaldisplay=this.LPa.pZ);};d.prototype.Ovc=function(G){G.didHydrateTracks=this.j.Jna;};d.prototype.Gyc=function(){void 0 === this.LPa && (this.LPa=this.MPa.Amc());};d.prototype.Zoa=function(G,J){(J=this.j.RZ(J)) && Object.entries(J).forEach(function(L){var K;K=Ea(L);L=K.next().value;K=K.next().value;G[L]=K;});};d.prototype.NA=function(G,J){var L;(J=null === (L=this.j.bb) || void 0 === L?void 0:L.Bpa(void 0,J)) && Object.entries(J).forEach(function(K){var M;M=Ea(K);K=M.next().value;M=M.next().value;G[K]=M;});};d.prototype.Lzb=function(G){var J,L,K,M,P;K=String.fromCharCode.apply(String,[97,100,118,101,114,116,115]);M=!JSON.parse('{"result": { "' + K + '": {}}}').result[K];P=String.fromCharCode.apply(String,[100,97,105,83,117,112,112,111,114,116,101,100]);K=!(null === (L=null === (J=JSON.parse('{"result": { "' + K + '": {"' + P + '": true}}}').result) || void 0 === J?void 0:J[K]) || void 0 === L?0:L[P]);G.ab1=M;G.ab2=K;G.ab=M || K;};d.prototype.Vc=function(G,J,L,K){var M,P;P=K.sev;P=J?"error":null !== P && void 0 !== P?P:"info";J && this.j.Nj && (0,p.zha)(this.j.Nj.errorCode,this.j.Nj.Ua,this.kSa(),null === (M=this.j.Xd) || void 0 === M?void 0:M.yA()) && (P="info");this.j.zH.IAc(G) || (this.wKa(K,this.j,J,L),G=this.AH.Xt(G,P,K,this.Pa),this.di.Vc(G));};d.prototype.Ivc=function(G,J){var L,K;K=null === (L=J.bb) || void 0 === L?void 0:L.Drb;K && (null === K || void 0 === K?void 0:K.J) !== J.AG && (G.auxMid || (G.auxMid=K.J),G.auxPlaybackcontextid || (G.auxPlaybackcontextid=J.Pj(K.J).Zd));};d.prototype.wKa=function(G,J,L,K){var M,P,I,O,Q,T,U;this.Jc.Ozb(G,J);this.Ivc(G,J);K & F.lf && ((0,k.va)(!G || void 0 === G.moff),this.Jc.Szb(G,J.ga,J.eqa()));K & F.ix && this.Jc.Uzb(G,J);K & F.yl && (null === (M=J.bb) || void 0 === M?0:M.lk) && (G.abuflbytes=null !== (P=G.abuflbytes) && void 0 !== P?P:J.nLa(),G.abuflmsec=null !== (I=G.abuflmsec) && void 0 !== I?I:J.O7(),G.vbuflbytes=null !== (O=G.vbuflbytes) && void 0 !== O?O:J.c4a(),G.vbuflmsec=null !== (Q=G.vbuflmsec) && void 0 !== Q?Q:J.gga(),G.tbuflbytes=null !== (T=G.tbuflbytes) && void 0 !== T?T:J.tUc(),G.tbuflmsec=null !== (U=G.tbuflmsec) && void 0 !== U?U:J.uUc());K & F.Cz && this.Jc.Vzb(G,J.Iu);K & F.bO && (M=v.zg.hardwareConcurrency,0 <= M && (G.numcores=M),M=this.Pa.OOa) && (P=M.NQa(),G.droppedFrames=JSON.stringify(P),M=M.R$(this.config().sjc),(0,l.Di)(M,function(X,Y){G["droppedFramesP" + X]=JSON.stringify(Y);}));if(K & F.Wga)try{J.Vh && void 0 === G.cdninfo && (G.cdninfo=this.t$(J.Vh));}catch(X){}L && K & F.mO && ((0,k.va)(J.Nj),this.Jc.Qzb(G,J,J.Nj));K & F.Wu && this.Jc.ITa(G);};d.prototype.t$=function(G){return JSON.stringify(G.map(function(J){return {id:J.id,nm:J.name,rk:J.Bc,wt:J.location.weight,lv:J.location.level};}));};Ha.Object.defineProperties(d.prototype,{R3a:{configurable:!0,enumerable:!0,get:function(){return this.j.HK || this.j.VY;}}});b.t5=d;(function(G){G[G.lf=1]="MOFF";G[G.ix=2]="PRESENTEDSTREAMS";G[G.yl=4]="BUFFER";G[G.Cz=8]="SCREEN";G[G.bO=16]="CPU";G[G.Wga=32]="CDN";G[G.mO=64]="FATALERROR";G[G.Wu=128]="BROWSERINFO";})(F || (F={}));},26158:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m,p,q,r){this.di=l;this.config=m;this.Na=p;this.Xa=q;this.UVa=r;}Object.defineProperty(b,"__esModule",{value:!0});b.AO=void 0;t=a(22970);n=a(45118);c=a(22674);f=a(98326);g=a(4203);e=a(30869);h=a(81918);k=a(99400);d.prototype.create=function(l,m,p,q){var r;r=this.UVa.create(l,m);return new k.v5(l,m,p,q,this.di,this.config,this.Xa,r);};a=d;b.AO=a;b.AO=a=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(n.Xp)),t.__param(1,(0,c.v)(g.Ic)),t.__param(2,(0,c.v)(e.Li)),t.__param(3,(0,c.v)(h.ie)),t.__param(4,(0,c.v)(f.s5))],a);},99400:function(t,b,a){var n,c,f,g,e,h;function d(k,l,m,p,q,r,u,v){var w;w=this;this.j=k;this.Pa=l;this.vR=p;this.di=q;this.config=r;this.Xa=u;this.hb=v;this.ML=function(x,y){return function(A){var z;z=y(A);if("number" !== typeof z)throw Error("Event " + JSON.stringify(A) + " does not have movie Id");w.nDc.includes(z) && x(A);};};this.LDb=this.ML(function(x){w.Ywa(x.NR);},function(x){return x.R;});this.JDb=this.ML(function(){w.w8();},function(x){return x.R;});this.Kpb=this.ML(function(){w.w8();},function(x){return x.movieId;});this.wMa=this.ML(function(){w.j.Zb.value === g.Nb.rg && (w.j.Zb.removeListener(w.wMa),w.tB());},function(){return w.j.R;});this.AI=function(x){w.yw && w.hb.AI(x);};this.Ppb=this.ML(this.hb.ycc,function(x){return x.R;});this.Xsb=this.ML(this.hb.Zic,function(x){return x.R;});this.iDb=this.ML(this.hb.Aba,function(x){return w.j.Vl(x.segmentId).R;});this.LMb=this.ML(this.hb.Bea,function(x){return w.j.Vl(x.segmentId).R;});this.Rs=function(x){x.skip && (w.jN=!0);switch(x.Fc){case g.Mc.bv:case g.Mc.RV:case g.Mc.i6:case g.Mc.n4:case g.Mc.hia:w.P1 && w.Uu && w.hb.SYa(w.getTime() - w.Uu,w.P1);w.P1="repos";w.hb.NM(x.LS,x.Ye,x.ze);w.Uu=w.getTime();(0,f.Yh)(w.VC);break;case g.Mc.Bha:w.P1="force_rebuffer";w.Uu=w.getTime();(0,f.Yh)(w.VC);break;case g.Mc.rW:case g.Mc.No:break;default:return (0,e.QG)(x.Fc);}};this.nq=function(x){w.vH=x.tw;w.hb.nq(x);};this.VC=function(){var x;if(w.Uu && w.j.Zb.value !== g.Nb.ph){x=w.getTime() - w.Uu;w.hb.Hu(x,w.jN,w.P1);w.vH && w.vH != w.j.ka.je && w.hb.uLa();w.Uu=void 0;w.P1=void 0;w.jN=void 0;}};this.tB=function(){w.yw || (w.yw=!0,w.hb.Np(!1),w.RTa(),w.config().Hqa && (w.nH=Ba.setTimeout(function(){w.di.flush(!1).catch(function(){return w.log.warn("failed to flush log batcher on initialLogFlushTimeout");});w.nH=void 0;},w.config().Hqa)));};this.rh=function(){w.nH && (Ba.clearTimeout(w.nH),w.nH=void 0);if(w.Evb() || w.config().Av)(w.HOa && (Ba.clearInterval(w.HOa),w.HOa=void 0),w.hb.Osb());w.Sfa && w.Sfa();w.yw?w.hb.Qv(!!w.j.Nj):w.j.Nj?w.hb.Np(!0):w.Pa.background.value || w.hb.TYa();};this.nga=function(x){x.oldValue && x.Xm && x.Xm.aQ && w.hb.sG(x.oldValue,x.newValue,x.Xm.aQ,x.Xm.a8);};this.nda=function(x){var y;if(x.newValue){y=x.newValue.stream;w.$R != y && (w.$R && y && w.hb.t_a(w.$R,y,w.vR(x.newValue.aY.startTime)),w.$R=y);}};this.nDc=l.Ff?k.Iyb():[l.R];this.log=(0,n.ko)(k,"LogblobBuilder");this.Ob();m && this.Ywa();}Object.defineProperty(b,"__esModule",{value:!0});b.v5=void 0;n=a(31276);c=a(5021);f=a(32219);g=a(85001);e=a(79542);h=a(26388);d.prototype.Ob=function(){this.j.addEventListener(g.ja.TL,this.LDb);this.j.addEventListener(g.ja.eWa,this.JDb);this.j.addEventListener(g.ja.Aba,this.iDb);this.j.addEventListener(g.ja.Bea,this.LMb);this.j.addEventListener(g.ja.rh,this.Kpb);if(this.Evb() || this.config().Av)(this.j.addEventListener(g.ja.wQ,this.Xsb),this.HOa=Ba.setInterval(this.hb.Osb,this.config().cjc));this.config().C_a && this.j.addEventListener(g.ja.wQ,this.Ppb);};d.prototype.Ywa=function(k){var l;l=this;this.eFb || (this.j.Zb.value !== g.Nb.rg || (void 0 === k?0:k)?this.j.Zb.addListener(this.wMa):this.tB(),this.j.Xk.addListener(this.AI),this.j.ka.addListener([h.u.Da],this.hb.Rp),this.j.ka.addListener([h.u.X],this.nq),this.j.fj.addListener(this.hb.T7),this.j.paused.addListener(this.hb.wua),this.j.ze.addListener(this.nda),this.j.Zb.addListener(this.VC),this.j.Zb.addListener(this.hb.jQb),this.j.ag.addListener(this.nga),this.j.playbackRate.addListener(this.hb.Tea),this.j.addEventListener(g.ja.Hj,this.hb.Hj),this.j.addEventListener(g.ja.AX,this.hb.AX),this.j.addEventListener(g.ja.Ura,this.hb.Ura),this.j.addEventListener(g.ja.z2,this.hb.z2),this.j.addEventListener(g.ja.lG,function(m){l.P1="rebuffer";l.hb.lG(m);l.Uu=l.getTime();(0,f.Yh)(l.VC);}),this.j.addEventListener(g.ja.Rs,this.Rs),this.j.addEventListener(g.ja.L2,this.hb.L2),this.Pa.Ev && this.Pa.Ev.addListener(this.hb.Ev),this.eFb=!0);};d.prototype.w8=function(){this.rh();this.eFb && (this.j.removeEventListener(g.ja.TL,this.LDb),this.j.removeEventListener(g.ja.eWa,this.JDb),this.j.removeEventListener(g.ja.Aba,this.iDb),this.j.removeEventListener(g.ja.Bea,this.LMb),this.j.Xk.removeListener(this.AI),this.j.ka.removeListener(this.hb.Rp),this.j.ka.removeListener(this.nq),this.j.fj.removeListener(this.hb.T7),this.j.paused.removeListener(this.hb.wua),this.j.ze.removeListener(this.nda),this.j.Zb.removeListener(this.VC),this.j.Zb.removeListener(this.wMa),this.j.Zb.removeListener(this.hb.jQb),this.j.ag.removeListener(this.nga),this.j.playbackRate.removeListener(this.hb.Tea),this.j.removeEventListener(g.ja.rh,this.Kpb),this.j.removeEventListener(g.ja.Hj,this.hb.Hj),this.j.removeEventListener(g.ja.AX,this.hb.AX),this.j.removeEventListener(g.ja.z2,this.hb.z2),this.j.removeEventListener(g.ja.lG,this.hb.lG),this.j.removeEventListener(g.ja.Rs,this.Rs),this.j.removeEventListener(g.ja.L2,this.hb.L2),this.Pa.Ev && this.Pa.Ev.removeListener(this.hb.Ev),this.j.removeEventListener(g.ja.wQ,this.Xsb),this.j.removeEventListener(g.ja.wQ,this.Ppb));};d.prototype.getTime=function(){return this.Xa.yc().oa(c.za);};d.prototype.RTa=function(){var k,l,m;k=this;m=[];this.config().FEb && (this.config().GEb.forEach(function(p){m.push(Ba.setTimeout(k.hb.LH,p));}),this.config().Hsa && (l=Ba.setInterval(this.hb.LH,this.config().Hsa)),this.Sfa=function(){m.forEach(function(p){Ba.clearTimeout(p);});l && Ba.clearInterval(l);});};d.prototype.Evb=function(){var k,l,m;m=null === (l=null === (k=this.j.ga.S) || void 0 === k?void 0:k.Aa.CE) || void 0 === l?void 0:l.b2a;if(void 0 !== m && void 0 !== m.downloadReportDenominator)try{return parseInt(m.downloadReportDenominator,10);}catch(p){this.log.error("Unable to parse manifest config override:" + m.downloadReportDenominator);}return this.config().$sb;};b.v5=d;},33345:function(t,b,a){var c,f,g,e,h,k,l,m,p,q,r;function d(u,v,w,x,y,A,z){this.Xa=u;this.platform=w;this.ip=x;this.Ok=y;this.Yi=A;this.pDb=z;(0,f.nw)(this,"json");this.wa=v.wb("LogblobSender");}function n(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.gDa=b.gja=void 0;t=a(22970);c=a(22674);f=a(66523);g=a(5021);e=a(74870);h=a(81918);k=a(91581);l=a(33554);m=a(87386);p=a(40953);q=a(7605);r=a(51658);b.gja=n;d.prototype.send=function(u){var v;v=this;return new Promise(function(w,x){var y;try{y=u.reduce(function(A,z){A.entries.push(v.Sfc(z));return A;},new n());w(y);}catch(A){v.wa.error(A.message);x(A);}}).then(function(w){return v.D0a(w);});};d.prototype.Sfc=function(u){var v;v={};this.pDb.iN && (v.transport=r.Mgb.kYc);return this.Ok.n0(this.Ok.n0(v,u.data),{esn:this.ip().ij,sev:u.severity,type:u.type,lver:this.platform.TVa,jssid:this.Xa.id,devmod:this.platform.AK,jsoffms:u.timestamp.ea(this.Xa.wH).oa(g.za),clienttime:u.timestamp.oa(g.za),client_utc:u.timestamp.oa(g.cv),uiver:this.Yi.uiVersion});};d.prototype.D0a=function(u){var v;v=this;return this.pDb.Ue({log:this.wa},{logblobs:u}).then(function(){!1;}).catch(function(w){v.wa.error("PBO logblob failed",w);return Promise.reject(w);});};a=d;b.gDa=a;b.gDa=a=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(h.ie)),t.__param(1,(0,c.v)(m.zb)),t.__param(2,(0,c.v)(k.Bt)),t.__param(3,(0,c.v)(l.iC)),t.__param(4,(0,c.v)(e.Bm)),t.__param(5,(0,c.v)(q.zz)),t.__param(6,(0,c.v)(p.ieb))],a);},82956:function(t,b,a){var n,c;function d(f){switch(f){case n.Y.Y4:return "http";case n.Y.b5:return "connectiontimeout";case n.Y.rO:return "readtimeout";case n.Y.a$a:return "corruptcontent";case n.Y.qO:return "abort";case n.Y.c5:case n.Y.UBa:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.urc=d;b.asc=function(f,g){var e;f={errorcode:f + (g.errorCode || n.da.zh)};g.Ua && (f.errorsubcode=g.Ua);g.Ng && (f.errorextcode=g.Ng);g.M9 && (f.erroredgecode=g.M9);g.ef && (f.errordetails=g.ef);g.zq && (f.httperr=g.zq);g.PH && (f.aseneterr=g.PH);g.L9 && (f.errordata=g.L9);g.fca && (f.mediaerrormessage=g.fca);e=d(Number(g.Ua));e && (f.nwerr=e);g.Zd && (f.playbackcontextid=g.Zd);return f;};b.gyb=function(){return {screensize:c.kJ.width + "x" + c.kJ.height,screenavailsize:c.kJ.availWidth + "x" + c.kJ.availHeight,clientsize:Ba.innerWidth + "x" + Ba.innerHeight,devicePixelRatio:c.Gcb};};n=a(36129);c=a(22365);},50723:function(t,b,a){var c,f,g,e,h,k,l;function d(m){this.JJ=g.ia;this.dJa=[];this.E6=this.tka=!1;m && (this.JJ=m.size,this.dJa=m.vS);}function n(m,p,q,r){this.ACc=m;this.config=p;this.uh=q;this.json=r;(0,f.nw)(this,"json");this.wa=this.uh.wb("MessageQueue");this.eA=[];}Object.defineProperty(b,"__esModule",{value:!0});b.TDa=void 0;t=a(22970);c=a(22674);f=a(66523);g=a(72574);e=a(81829);h=a(87386);k=a(63368);a=a(45118);n.prototype.FKa=function(m){var p,q;0 === this.eA.length && this.eA.push(this.dRa());if(m=this.Isc(m)){p=this.ACc.measure([m]);q=this.eA[this.eA.length - 1];0 < q.size.add(p).Nl(this.config.eEb) && (q=this.dRa(),this.eA.push(q));q.FKa(m);}};n.prototype.$oc=function(){var m;m=this.eA.filter(function(p){return p.Dac;});this.eA.push(this.dRa());m.forEach(function(p){return p.uBc();});return m;};n.prototype.U5b=function(m){m.qH || this.eA.unshift(new d(m));};n.prototype.CMc=function(m){m=this.eA.indexOf(m);0 <= m && this.eA.splice(m,1);};n.prototype.Isc=function(m){try{return {data:this.json.parse(this.json.stringify(m.data)),severity:m.severity,size:m.size,timestamp:m.timestamp,type:m.type};}catch(r){var p,q;p={};m=m.data;q=m.debugMessage;q && "string" === typeof q && (p.originalDebugMessage=q);(m=m.debugCategory) && "string" === typeof m && (p.originalDebugCategory=m);this.wa.error("JSON.stringify error: " + r.message,p);}};n.prototype.dRa=function(){return new d();};Ha.Object.defineProperties(n.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.eA.reduce(function(m,p){return m.add(p.size);},g.ia);}}});l=n;b.TDa=l;b.TDa=l=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(e.pbb)),t.__param(1,(0,c.v)(a.VCa)),t.__param(2,(0,c.v)(h.zb)),t.__param(3,(0,c.v)(k.PV))],l);d.prototype.A2=function(){this.tka=!1;this.E6=!0;};d.prototype.Vd=function(){this.tka=!1;};d.prototype.FKa=function(m){this.dJa.push(m);this.JJ=this.JJ.add(m.size);};d.prototype.uBc=function(){this.tka=!0;};Ha.Object.defineProperties(d.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.JJ;}},vS:{configurable:!0,enumerable:!0,get:function(){return this.dJa;}},Dac:{configurable:!0,enumerable:!0,get:function(){return 0 < this.vS.length && !1 === this.tka;}},qH:{configurable:!0,enumerable:!0,get:function(){return this.E6;}}});},29670:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.OTb={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-5.1hq-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},51770:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.KDb=void 0;t=a(22674);d=a(37104);n=a(83081);c=a(43185);f=a(23176);g=a(17950);e=a(24273);h=a(44236);k=a(17398);l=a(47930);m=a(60042);p=a(97791);b.KDb=new t.Ce(function(q){q(c.Lbb).to(f.BDa).sa();q(d.DDa).to(n.CDa).sa();q(g.Veb).Sp(function(r){for(var u=[],v=0;v < arguments.length;++v)u[v - 0]=arguments[v];v=a(26159).RO;return new (Function.prototype.bind.apply(v,[null].concat(za(u))))();});q(e.Obb).$f(function(){return function(r){return new h.Pbb(r);};});q(k.XV).to(l.yDa).sa();q(m.Jbb).to(p.xDa).sa();});},43185:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lbb="ManifestProviderConfigSymbol";},37104:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.DDa="ManifestParserFactorySymbol";},24273:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Obb="ManifestVerifyErrorFactorySymbol";},17950:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Veb="PlayerTextTrackFactorySymbol";},77939:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m,p){l=c.A5.call(this,l) || this;l.config=m;l.j=p;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.Z5a=void 0;n=a(29670);c=a(28518);f=a(45266);g=a(51344);e=a(35128);h=a(36129);k=a(31149);Ia(d,c.A5);d.prototype.xHb=function(l,m,p){var q,r;q=this;r=this.config.sxa;m=m.filter(function(u){var v,w;v=u.gy || !u.ff || u.streams && 0 < u.streams.length;v || q.log.warn("Audio track is missing streams",q.Tpa(u));w=0 === r.length || 0 <= r.indexOf(u.aj);w || q.log.warn("Audio track is not supported",q.Tpa(u));return v && w;});if(!m.length)throw Error("no valid audio tracks");m=m.map(function(u){return q.wHb(l,u,q.Noc(u,p));});this.log.trace("Parsed audio tracks",{Count:m.length});return m;};d.prototype.wHc=function(l,m,p,q){var r,u,v,w;r=this;u=Ea((0,f.pM)(function(x){return x.gy;},m));m=u.next().value;u=u.next().value;u=Ea((0,f.pM)(function(x){return x.streams && 0 < x.streams.length;},u));v=u.next().value;u.next().value.forEach(function(x){return r.log.warn("Audio track is missing streams",r.Tpa(x));});w=this.config.sxa;u=Ea((0,f.pM)(function(x){return 0 === w.length || 0 <= w.indexOf(x.aj);},v));v=u.next().value;u.next().value.forEach(function(x){return r.log.warn("Audio track is not supported",r.Tpa(x));});m=[].concat(za(v),za(m)).map(function(x){return r.wHb(l,x,r.Sqc(x.We,p,q));});if(!m.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:m.length});return m;};d.prototype.Y8b=function(l){var m,p;m=this;p=this.config.kQa;if(p){if(l=Ea(l.filter(function(q){return q.Ig == p || q.trackId == p;})).next().value)return l;}else if(this.j.Qoa && (l=Ea(l.filter(function(q){return q.trackId == m.j.Qoa;})).next().value))return l;};d.prototype.Nmc=function(l,m){this.config.Dnb.forEach(function(p){var q,r,u;q=m.Om.filter(function(v){return v.profile === p;}).reduce(function(v,w){w.streams.map(function(x){return x.bitrate;}).forEach(function(x){v.add(x);});return v;},new Set());r=!1;u=l.Aa.Om.map(function(v){var w;if(v.profile === p){w=v.streams.filter(function(x){return q.has(x.bitrate);});if(w.length === v.streams.length)return v;r=!0;if(0 === w.length)throw new k.se(h.da.wbb,h.Y.BTb);return Object.assign(Object.assign({},v),{streams:w});}return v;});r && (l.Aa=Object.assign(Object.assign({},l.Aa),{Om:u}));});return l;};d.prototype.wHb=function(l,m,p){var q,r,u,v;v=m.aj;l=Object.assign(Object.assign({},l),{type:g.Nn.audio,vU:m.vU,variant:m.variant,trackId:m.We,aj:e.Gja[v.toLowerCase()] || e.dv.iW,JM:v,Ig:m.language,displayName:m.HL,Bc:null !== (q=m.Bc) && void 0 !== q?q:-1,ff:null !== (r=m.ff) && void 0 !== r?r:!0,channels:m.channels,t6c:m.channels,wj:p,Ki:{Bcp47:m.language,TrackId:m.We},streams:[],isNative:m.isNative,Kq:m.gy,kfa:m.kfa});l.streams=this.qQb(m.streams,l);this.log.trace("Transformed audio track",l,{StreamCount:l.streams.length,AllowedTimedTextTracks:l.wj.length});l.x8=n.OTb[null === (u=l.streams[0]) || void 0 === u?void 0:u.Uc];return l;};d.prototype.Tpa=function(l){return {language:l.HL,bcp47:l.language,type:l.aj};};d.prototype.Noc=function(l,m){var p;p=this;return m.filter(function(q){var r;if(0 <= (null === (r=l.Lic) || void 0 === r?void 0:r.indexOf(q.trackId)))return !1;if(!p.config.WKa || !q.Kq() || q.rp())if(l.hsb){if(l.hsb !== q.trackId && (q.Kq() || q.rp()))return !1;}else if(l.aFc){if(q.Kq() || q.rp())return !1;}else if(q.rp())return !1;return !0;});};d.prototype.Sqc=function(l,m,p){var q;m=m.filter(function(r){return r.ka.X === l;}).map(function(r){return r.ka.Da;}).map(function(r){return p.find(function(u){return u.trackId === r;});}).filter(Boolean);if(this.config.WKa && !m.find(function(r){return r.Kq() && !r.rp();})){q=p.find(function(r){return r.Kq() && !r.rp();});q && m.push(q);}return m;};b.Z5a=d;},82409:function(t,b,a){var n,c;function d(f,g){this.log=f;this.config=g;}Object.defineProperty(b,"__esModule",{value:!0});b.c7a=void 0;n=a(45266);c=a(64274);d.prototype.yHb=function(f,g){var e,h,k,l;e=this;h=this.config.nMa;k=this.config.mMa;f=Ea((0,n.pM)(function(m){return (!h.length || 0 <= h.indexOf(m.id)) && 0 > k.indexOf(m.id);},f || []));l=f.next().value;f.next().value.forEach(function(m){return e.log.warn("Cdn is not allowed",{Id:m.id});});f=l.map(function(m){var p;p=(g?g.find(function(q){return q.key === m.key;}):void 0) || ({});return {id:m.id,name:m.name,Bc:m.Bc,type:m.type,iS:m.key,vxc:m.tDb,location:{id:p.key,Bc:p.Bc,level:p.level,weight:p.weight}};});f.sort(function(m,p){return m.Bc - p.Bc;});this.log.trace("Transformed cdns",{Count:f.length});if(!f.length)throw Error("no valid cdns");return f;};d.prototype.qvc=function(f,g,e,h){var k;k=f.filter(function(l){return -1 === e.findIndex(function(m){return m.id === l.id;});}).map(function(l){return {cHb:!0,Ab:l};}).concat(e.map(function(l){return {cHb:!1,Ab:l};})).sort(function(l,m){return l.Ab.Bc === m.Ab.Bc?l.cHb?-1:1:l.Ab.Bc - m.Ab.Bc;}).map(function(l,m){(0,c.Nba)(l.Ab).Bc=m + 1;return l.Ab;});f=g.filter(function(l){return -1 === h.findIndex(function(m){return m.key === l.key;});}).concat(h).map(function(l){var m;m=k.findIndex(function(p){return p.key === l.key;});if(-1 !== m)return (m=k[m],(0,c.Nba)(l).Bc=m.Bc,l);}).filter(function(l){return void 0 !== l;});return {DPc:k,BAc:f};};b.c7a=d;},23176:function(t,b,a){var n,c,f,g,e,h;function d(k,l){k=c.Tf.call(this,k,"ManifestParserConfigImpl") || this;k.eg=l;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.BDa=void 0;t=a(22970);n=a(22674);c=a(64174);f=a(83767);g=a(12501);e=a(5614);h=a(72574);Ia(d,c.Tf);Ha.Object.defineProperties(d.prototype,{sxa:{configurable:!0,enumerable:!0,get:function(){return [];}},kQa:{configurable:!0,enumerable:!0,get:function(){return "";}},nMa:{configurable:!0,enumerable:!0,get:function(){return [];}},mMa:{configurable:!0,enumerable:!0,get:function(){return [];}},nQa:{configurable:!0,enumerable:!0,get:function(){return "";}},wTa:{configurable:!0,enumerable:!0,get:function(){return 0;}},M2:{configurable:!0,enumerable:!0,get:function(){return this.eg.M2.oa(h.pz);}},$B:{configurable:!0,enumerable:!0,get:function(){return this.eg.$B;}},Dnb:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}},WKa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=d;b.BDa=a;t.__decorate([g.config(g.w2,"supportedAudioTrackTypes")],a.prototype,"sxa",null);t.__decorate([g.config(g.string,"forceAudioTrack")],a.prototype,"kQa",null);t.__decorate([g.config(g.q3a,"cdnIdWhiteList")],a.prototype,"nMa",null);t.__decorate([g.config(g.q3a,"cdnIdBlackList")],a.prototype,"mMa",null);t.__decorate([g.config(g.string,"forceTimedTextTrack")],a.prototype,"nQa",null);t.__decorate([g.config(g.cz,"imageSubsResolution")],a.prototype,"wTa",null);t.__decorate([g.config(g.cz,"timedTextSimpleFallbackThreshold")],a.prototype,"M2",null);t.__decorate([g.config(g.w2,"timedTextProfiles")],a.prototype,"$B",null);t.__decorate([g.config(g.w2,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"Dnb",null);t.__decorate([g.config(g.qd,"alwaysIncludeOffTimedTextTrack")],a.prototype,"WKa",null);b.BDa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.Qo)),t.__param(1,(0,n.v)(e.lW))],a);},83081:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q;function d(r,u,v,w){this.uh=r;this.config=u;this.eZa=v;this.h3a=w;}Object.defineProperty(b,"__esModule",{value:!0});b.CDa=void 0;t=a(22970);n=a(22674);c=a(87386);f=a(43185);g=a(82409);e=a(71420);h=a(85696);k=a(6795);l=a(77939);m=a(44858);p=a(17950);a=a(77601);d.prototype.create=function(r){var u,v;u=this.uh.wb("ManifestParser",r);v=new g.c7a(u,this.config);return new h.Mbb(v,new e.Ihb(u,this.config,r,this.eZa),new k.bib(u,r,this.h3a),new l.Z5a(u,this.config,r),new m.Iib(u));};q=d;b.CDa=q;b.CDa=q=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.zb)),t.__param(1,(0,n.v)(f.Lbb)),t.__param(2,(0,n.v)(p.Veb)),t.__param(3,(0,n.v)(a.aib))],q);},85696:function(t,b,a){var n;function d(c,f,g,e,h){this.oMa=c;this.F2a=f;this.rVc=g;this.W7=e;this.pSb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.Mbb=void 0;n=a(64274);d.prototype.HHb=function(c){var f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B;e=c.Aa;h={correlationId:null !== (g=null === (f=e.gA) || void 0 === f?void 0:f.Lf) && void 0 !== g?g:"",Ep:e.ys?"ads":"content"};k=!!e.FB;f=this.oMa.yHb(e.Ik,e.Tj);g=this.F2a.PHb(h,e.nt);c=this.rVc.QHc(e.PU);l=k?this.W7.xHb(h,e.Om,g):this.W7.wHc(h,e.Om,e.media,g);h=this.pSb.SHc(h,e.km);m=h.find(function(C){return k?C.trackId === e.FB.Vp:C.trackId === e.h9[0].Vp;}) || h[0];p=this.W7.Y8b(l) || l.find(function(C){return k?C.trackId === e.FB.Dv:C.trackId === e.h9[0].Dv;}) || l[0];q=this.F2a.NUc(p.wj) || g.find(function(C){return k?C.trackId === e.FB.az:C.trackId === e.h9[0].hPb;}) || p.wj[0];r=this.pSb.EHc(e.km);u=e.Zd;v=e.Ib;w=e.fcc;x=e.gL;y=e.js;A=e.Om.findIndex(function(C){return C.We == p.trackId;});z=e.km.findIndex(function(C){return C.We == m.trackId;});B=e.nt.findIndex(function(C){return C.We == q.trackId;});return {yT:r,Vh:f,$k:l,NE:h,wj:g,EI:c,Zd:u,Ib:v,IPc:w,RR:x,js:y,Dhc:A,Ohc:z,Mhc:B,i9:m,d9:p,f9:q};};d.prototype.rvc=function(c,f,g){var e,h,k,l,m,p;e=this;l=this.oMa.qvc(c.Aa.Ik,c.Aa.Tj,g.Aa.Ik,g.Aa.Tj);m=l.DPc;l=l.BAc;(0,n.Nba)(c.Aa).Ik=m;(0,n.Nba)(c.Aa).Tj=l;f.Vh=this.oMa.yHb(m,l);p={correlationId:null !== (k=null === (h=g.Aa.gA) || void 0 === h?void 0:h.Lf) && void 0 !== k?k:"",Ep:g.Aa.ys?"ads":"content"};g=g.Aa;h=g.Om;g.nt.forEach(function(q){var r;if(q.ff){r=e.QKb(c.Aa.nt,f.wj,q,function(u){return e.F2a.PHb(p,[u])[0];});r && f.$k.forEach(function(u){var v;u=u.wj;v=u.findIndex(function(w){return w.trackId === r.trackId;});-1 !== v && (u[v]=r);});}});h.forEach(function(q){q.ff && e.QKb(c.Aa.Om,f.$k,q,function(r){return e.W7.xHb(p,[r],f.wj)[0];});});return {S:c,Yc:f};};d.prototype.BOc=function(c,f){return this.W7.Nmc(c,f);};d.prototype.QKb=function(c,f,g,e){var h,k,l,m;h=c.findIndex(function(p){return p.We === g.We;});k=-1 !== h?c[h]:void 0;l=f.findIndex(function(p){return p.trackId === g.We;});m=-1 !== l?f[l]:void 0;if(k && !k.ff && m && !m.ff)return (e=e(g),c[h]=g,f[l]=e);};b.Mbb=d;},44236:function(t,b){function a(d){this.Yc=d;this.ef=JSON.stringify(this.erc());}Object.defineProperty(b,"__esModule",{value:!0});b.Pbb=void 0;a.prototype.erc=function(){var d;d=[];(!this.Yc.Vh || 0 >= this.Yc.Vh.length) && d.push({error:"No CDN."});this.Yc.d9 || d.push({error:"No default audio track.",foundTracks:this.jRa(this.Yc.$k)});this.Yc.i9 || d.push({error:"No default video track.",foundTracks:this.jRa(this.Yc.NE)});this.Yc.f9 || d.push({error:"No default subtitle track.",foundTracks:this.jRa(this.Yc.wj)});return d;};a.prototype.jRa=function(d){return d && 0 < d.length?d.map(function(n){return n.trackId;}):"No tracks found.";};b.Pbb=a;},28518:function(t,b,a){var n;function d(c){this.log=c;}Object.defineProperty(b,"__esModule",{value:!0});b.A5=void 0;n=a(6305);d.prototype.qQb=function(c,f){var g,e;g=this;if(!c)return (this.log.warn("There are no media streams for " + f.type + " track - " + f.trackId),[]);e=c.map(function(h){var k,l,m,p,q,r,u,v;v=new n.MediaStream(f,f.type,h.$g,h.bitrate,h.Qb,h.size,g.Ppc(h.urls),h.ds,h.AQa / h.zQa,h.yk,h.Nk);v.QQc(h.O_a,h.Rva,h.QYa,h.PYa);v.VPc(null !== (k=h.zrb) && void 0 !== k?k:void 0,null !== (l=h.Arb) && void 0 !== l?l:void 0,null !== (m=h.yrb) && void 0 !== m?m:void 0,null !== (p=h.xrb) && void 0 !== p?p:void 0,null !== (q=h.QYa) && void 0 !== q?q:void 0,null !== (r=h.PYa) && void 0 !== r?r:void 0);f.js && (v.js=f.js);h.yQ && (v.yQ=null !== (u=h.yQ) && void 0 !== u?u:void 0);h.ds && (v.Uc=h.ds);return v;});e.sort(function(h,k){return h.bitrate - k.bitrate;});e.forEach(function(h,k){h.lower=e[k - 1];h.O9c=e[k + 1];});return e;};d.prototype.Ppc=function(c){return c.reduce(function(f,g){f[g.Kg]=g.url;return f;},{});};b.A5=d;},71420:function(t,b,a){var n,c,f,g;function d(e,h,k,l){this.log=e;this.config=h;this.j=k;this.eZa=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Ihb=void 0;n=a(75568);c=a(22365);f=a(35128);g=a(14423);d.prototype.PHb=function(e,h){var k;k=this;h=h.map(function(l){var m,p,q,r;q=k.hVc(l);l.gy || !l.ff || q && 0 < q.length || k.log.error("track without downloadables",k.$qc(l));r={};0 < q.length && (r=q[0],r.profile == n.Ir.bW && (r=k.mPc(q),!1));l=k.eZa(k.j,l.We,null !== (m=l.Bc) && void 0 !== m?m:-1,null !== (p=l.ff) && void 0 !== p?p:!0,e,r.ob,r.urls || [],l.language,l.HL,f.Gja[l.aj.toLowerCase()] || f.dv.iW,l.vU,l.variant,l.JM.toUpperCase(),r.profile,k.nrc(r) || ({}),l.gy,l.Xaa,l.dra,l.JA);k.log.trace("Transformed timed text track",l);return l;});this.log.trace("Transformed timed text tracks",{Count:h.length});return h;};d.prototype.NUc=function(e){var h,k;h=this;k=this.config.nQa;if(k){if(e=Ea(e.filter(function(l){return l.Ig == k || l.trackId == k;})).next().value)return e;}else if(this.j.Roa && (e=Ea(e.filter(function(l){return l.trackId == h.j.Roa;})).next().value))return e;};d.prototype.hVc=function(e){var h,k;h=this;k=e.ctb;e=Object.entries(e.FI || ({})).map(function(l){var m;m=Ea(l);l=m.next().value;m=m.next().value;return {ob:k[l],profile:l,size:m.size || 0,priority:h.Qpc(l,m),offset:m.GWa || 0,mIc:m.width,lIb:m.height,urls:m.urls};});e.sort(function(l,m){return l.priority - m.priority;});return e;};d.prototype.Qpc=function(e,h){var k,l;k=this.config.$B.indexOf(e);h=h.size;l=this.config.M2;return e === n.Ir.nAa && 0 < l && h > l?this.config.$B.length + 1:0 <= k?k:this.config.$B.length;};d.prototype.nrc=function(e){if(e.profile === n.Ir.bW)return {offset:e.offset,length:e.size,zo:{width:e.mIc,height:e.lIb}};};d.prototype.mPc=function(e){var h,k;h=this.config.wTa || g.iHa.Wxb();k=Ea(e.filter(function(l){return l.profile === n.Ir.bW;}).filter(function(l){return l.lIb === h;})).next().value;if(k)return k;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:c.kJ.height,intendedResolution:h});return e[0];};d.prototype.$qc=function(e){return {isNone:e.gy,isForced:e.Xaa,bcp47:e.language,id:e.We};};b.Ihb=d;},6795:function(t,b){function a(d,n,c){this.log=d;this.j=n;this.h3a=c;}Object.defineProperty(b,"__esModule",{value:!0});b.bib=void 0;a.prototype.QHc=function(d){var n;n=this;d=(d || []).filter(function(c){return c.urls && 0 < c.urls.length;}).map(function(c){return n.h3a(n.j,c.id,c.height,c.width,c.pIc,c.qIc,c.size,c.JA,{unknown:c.urls[0]});});0 === d.length && this.log.warn("There are no trickplay tracks");d.sort(function(c,f){return c.size - f.size;});this.log.trace("Transformed trick play tracks",{Count:d.length});return d;};b.bib=a;},44858:function(t,b,a){var n,c,f,g;function d(e){return c.A5.call(this,e) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Iib=void 0;n=a(45266);c=a(28518);f=a(51344);g=a(35128);Ia(d,c.A5);d.prototype.SHc=function(e,h){var k,l;k=this;h=Ea((0,n.pM)(function(m){return m.streams && 0 < m.streams.length;},h));l=h.next().value;h.next().value.forEach(function(m){return k.log.warn("Video track is missing streams",{trackId:m.We});});h=l.map(function(m){var p,q;q=m.aj;q=Object.assign(Object.assign({},e),{type:f.Nn.video,trackId:m.We,aj:g.Gja[q.toLowerCase()] || g.dv.iW,JM:q,streams:[],Ki:{},dva:m.dva,Bc:null !== (p=m.Bc) && void 0 !== p?p:-1});q.streams=k.qQb(m.streams,q);k.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!h.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:h.length});return h;};d.prototype.EHc=function(e){var h;h=e.map(function(k){return k.dva;}).filter(Boolean);h=[].concat.apply([],za(h)).map(function(k){return k.ma;});e=e.map(function(k){return k.etb;}).filter(Boolean).map(function(k){return k.ma;});return 0 < h.length?h:e;};b.Iib=d;},81737:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.S=void 0;t=a(22674);d=a(99070);n=a(49745);c=a(704);f=a(3861);b.S=new t.Ce(function(g){g(n.YV).to(d.zDa).sa();g(c.Kbb).to(f.ADa);});},60042:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jbb="ManifestEnricherSymbol";},17398:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.XV="ManifestFactorySymbol";},49745:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.YV="ManifestFetcherSymbol";},704:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kbb="ManifestMigrationSymbol";},91622:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.r6a="BookmarkSymbol";},72516:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.q6a="BookmarkConfigSymbol";},81364:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.p6a="BookmarkConfigParserSymbol";},66393:function(t,b,a){var d,n,c,f,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.TP=void 0;t=a(22674);d=a(91622);n=a(72516);c=a(81364);f=a(63143);g=a(25293);e=a(12563);b.TP=new t.Ce(function(h){h(d.r6a).to(f.Iza).sa();h(n.q6a).to(g.Gza).sa();h(c.p6a).to(e.Hza).sa();});},25293:function(t,b,a){var n,c;function d(f){this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.Gza=void 0;t=a(22970);n=a(22674);a=a(4203);d.prototype.oRa=function(){return this.jR().J9b;};d.prototype.pRa=function(){return this.jR().K9b;};d.prototype.Aqc=function(){return this.jR().L9b;};d.prototype.PQa=function(){return this.jR().Znb;};d.prototype.jR=function(){return this.config();};c=d;b.Gza=c;b.Gza=c=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.Ic))],c);},12563:function(t,b,a){var n,c,f;function d(g){this.ec=g;}Object.defineProperty(b,"__esModule",{value:!0});b.Hza=void 0;t=a(22970);n=a(22674);c=a(42207);f=a(5021);d.prototype.oTc=function(g,e){var h,k;h=parseFloat(g);k=0;"%" === g[g.length - 1] && this.ec.Xo(h)?k=Math.round(h * e.oa(f.za) / 100):(g=parseInt(g),this.ec.I7(g) && (k=g));return (0,f.ic)(Math.min(k,e.oa(f.za)));};a=d;b.Hza=a;b.Hza=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.Mi))],a);},63143:function(t,b,a){var n,c,f,g,e,h;function d(k,l,m,p){this.kma=l;this.ec=m;this.I9b=p;this.wa=k.wb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.Iza=void 0;t=a(22970);n=a(22674);c=a(72516);f=a(81364);g=a(87386);e=a(42207);h=a(5021);d.prototype.V6b=function(k){var l,m;l=k.qb.playbackState && k.qb.playbackState.currentTime;m=this.xpc(k.R);l=this.ec.HY(l)?(0,h.ic)(l):m;m=0;this.ec.Ci(l)?(this.wa.info("Overriding bookmark",{From:k.KE.oa(h.za),To:l.oa(h.za)}),l=Object.assign({},k,{KE:l})):l=k;return k.Dc.Ba && (m=k.Dc.BRa(k.KE.oa(h.za)),l=Object.assign({},l,{KE:(0,h.ic)(m.pq),uM:(0,h.ic)(m.uM)}),m=m.dsb,!k.Dc.PR())?(this.wa.trace("Do not apply bookmark ignore logic for ongoing LIVE events"),l.KE):l.KE.vUa()?(this.wa.trace("Ignoring bookmark because it's negative"),(0,h.ic)(m)):this.Avc(l)?(this.wa.trace("Ignoring bookmark because it's too close to beginning"),(0,h.ic)(m)):this.zvc(l)?(this.wa.trace("Ignoring bookmark because it's too close to end"),(0,h.ic)(m)):this.yvc(l)?(this.wa.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,h.ic)(m)):l.KE;};d.prototype.Avc=function(k){return 0 > k.KE.Nl(this.oRa(k));};d.prototype.oRa=function(k){return this.$nb(this.kma.oRa(),k.uM);};d.prototype.zvc=function(k){return 0 < k.KE.Nl(this.pRa(k));};d.prototype.pRa=function(k){var l;l=k.qb.Pg?this.kma.Aqc():this.kma.pRa();return k.uM.ea(this.$nb(l,k.uM));};d.prototype.yvc=function(k){return 0 < k.KE.Nl(this.$pc(k));};d.prototype.$pc=function(k){return k.uM.ea((0,h.ic)(k.nM));};d.prototype.xpc=function(k){var l;k=this.kma.PQa()[k];l=-1;this.ec.Jt(k)?l=parseInt(k):this.ec.Xo(k) && (l=k);if(this.ec.I7(l))return (0,h.ic)(l);};d.prototype.$nb=function(k,l){return this.I9b.oTc(k,l);};a=d;b.Iza=a;b.Iza=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(g.zb)),t.__param(1,(0,n.v)(c.q6a)),t.__param(2,(0,n.v)(e.Mi)),t.__param(3,(0,n.v)(f.p6a))],a);},34029:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.J6a="CDMAttestedDescriptorProvider";},6498:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.qob=void 0;t=a(22674);d=a(34029);n=a(28419);b.qob=new t.Ce(function(c){c(d.J6a).to(n.Oza).sa();});},28419:function(t,b,a){var n,c,f,g,e,h,k,l,m;function d(p,q,r,u,v,w){this.config=p;this.gM=r;this.profile=u;this.g3a=v;this.t8=w;this.uvb=!0;this.log=q.wb("CDMAttestedDescriptor");this.twb(l.gx.MO);}Object.defineProperty(b,"__esModule",{value:!0});b.Oza=void 0;t=a(22970);n=a(22674);c=a(4203);f=a(87386);g=a(97996);e=a(70865);h=a(71501);k=a(2492);l=a(34231);m=a(24735);d.prototype.twb=function(p){var q;q=this;return this.g3a.jU(p)?this.config().okc?this.rwb().then(function(r){return r?(!1,Promise.resolve(void 0)):q.Vqc();}).then(function(r){return Promise.all([Promise.resolve(r),q.rwb()]);}).then(function(r){var u;r=Ea(r);u=r.next().value;if(r.next().value)!1;else return u;}):this.gM().then(function(r){r.BS.IKb();}):Promise.resolve(void 0);};d.prototype.rwb=function(){var p;p=this;return this.gM().then(function(q){if(p.uvb)(p.uvb=!1,q.BS.IKb());else return (q=q.BS.bL(p.profile)) && q.find(function(r){return "cad" === r.name;});});};d.prototype.Vqc=function(){var p;p=this;this.CCb || (this.CCb=this.t8.jSa(m.xr.dJ).then(function(q){q.ul.close();return q.pMa;}).catch(function(q){p.log.error("Failed to generate challenge",q);}));return this.CCb;};a=d;b.Oza=a;b.Oza=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.Ic)),t.__param(1,(0,n.v)(f.zb)),t.__param(2,(0,n.v)(g.F5)),t.__param(3,(0,n.v)(h.NO)),t.__param(4,(0,n.v)(e.Ija)),t.__param(5,(0,n.v)(k.bha))],a);},97791:function(t,b,a){var n,c;function d(f){this.xlc=f;this.iMb={J:"viewableId",CB:"programId",Ta:"startTimeMs",cb:"endTimeMs",next:["next",{Cj:[c.Cj,{weight:"weight",$d:"transitionType"}]}],Hc:"defaultNext",Ul:"exitZones",xp:"main",type:"type",$d:"transitionType",playbackRate:"playbackRate",weight:"weight"};this.FIb={Hh:"mediaTypes",uf:"initialSegment",ba:["segments",{Cj:[c.Cj,Object.assign(Object.assign({},this.iMb),{next:["next",{Cj:[c.Cj,{weight:"weight",$d:"transitionType",sQb:"transitionHint",Idd:"skipRegionOffset",Jdd:"skipRegionWeight",wjc:"earliestSkipRequestOffset"}]}],sQb:"transitionHint",wjc:"earliestSkipRequestOffset"})]}]};this.GDb={TP:"bookmark",Dad:"manifestVersion",zQ:"drmType",I7c:"drmVersion",expiration:"expiration",R:"movieId",Ms:"packageId",duration:"duration",Zd:"playbackContextId",h9:["defaultTrackOrderList",{b0:"mediaId",Vp:"videoTrackId",hPb:"subtitleTrackId",Dv:"audioTrackId",scd:"preferenceOrder"}],a0:["mediaEventTracks",{id:"id",profile:"profile",type:"type",DT:["relay_servers",{id:"id",D7:"address",port:"port"}],streams:["streams",{$g:"downloadable_id",urls:["urls",{Kg:"cdn_id",url:"url",N_:"liveOcaCapabilities"}]}]}],P7c:["eligibleABTestMap",{Cj:c.Cj}],S5c:["badgingInfo",{B7c:"dolbyDigitalAudio",M9c:"hdrVideo",C7c:"dolbyVisionVideo",Oed:"ultraHdVideo","3dVideo":"3dVideo",A7c:"dolbyAtmosAudio",D5c:"assistiveAudio",idd:"sdVideo",K9c:"hdVideo",L9c:"hdr10PlusVideo"}],type:"type",DX:["audioTextShortcuts",{id:"id",Dv:"audioTrackId",Zy:"textTrackId"}],ecd:"partiallyHydrated",hEb:"maxRecommendedAudioRank",iEb:"maxRecommendedTextRank",js:"drmContextId",Zyb:"hasDrmProfile",xuc:"hasClearProfile",gL:"hasDrmStreams",dqa:"hasClearStreams",Tj:["locations",{Bc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],Ik:["servers",{id:"id",name:"name",type:"type",Bc:"rank",tDb:"lowgrade",Uic:["dns",{host:"host",Awc:"ipv4",Bwc:"ipv6",Jnc:"forceLookup"}],key:"key"}],Om:["audio_tracks",{type:"type",vU:"subType",variant:"variant",aj:"trackType",We:"new_track_id",ot:"track_id",FKc:"profileType",PSc:"stereo",profile:"profile",channels:"channels",language:"language",abc:"channelsFormat",kfa:"surroundFormatLabel",HL:"languageDescription",Lic:"disallowedSubtitleTracks",hsb:"defaultTimedText",isNative:"isNative",gy:"isNoneTrack",X5c:"bitrates",p7b:"allowedVideoTrackId",DT:["relay_servers",{id:"id",D7:"address",port:"port"}],streams:["streams",{$g:"downloadable_id",size:"size",ds:"content_profile",aj:"trackType",bitrate:"bitrate",yk:"isDrm",urls:["urls",{Kg:"cdn_id",url:"url",N_:"liveOcaCapabilities"}],FS:"new_stream_id",type:"type",channels:"channels",abc:"channelsFormat",kfa:"surroundFormatLabel",language:"language",I5c:"audioKey",mDc:["moov",{size:"size",offset:"offset"}],Bo:["sidx",{size:"size",offset:"offset"}],mSc:["ssix",{size:"size",offset:"offset"}],Nk:"tags",gNc:"representationId",Xna:["ellaChannels",{ee:"channelName",Tob:"channel_id",FMb:"sendrate",hoa:"bitrate",Gub:"fecLevel",lqb:"containsFullData",$Tc:"symmetric_key",fEc:"nonces"}]}],x8:"codecName",JM:"rawTrackType",id:"id",Bc:"rank",ff:"hydrated",aFc:"offTrackDisallowed"}],km:["video_tracks",{aj:"trackType",We:"new_track_id",type:"type",ot:"track_id",Zyb:"hasDrmProfile",xuc:"hasClearProfile",gL:"hasDrmStreams",dqa:"hasClearStreams",groupName:"groupName",DT:["relay_servers",{id:"id",D7:"address",port:"port"}],streams:["streams",{$g:"downloadable_id",size:"size",ds:"content_profile",aj:"trackType",yQ:"drmHeaderId",bitrate:"bitrate",yk:"isDrm",urls:["urls",{Kg:"cdn_id",url:"url",N_:"liveOcaCapabilities"}],FS:"new_stream_id",type:"type",gcd:"peakBitrate",Fic:"dimensionsCount",Gic:"dimensionsLabel",QYa:"pix_w",PYa:"pix_h",O_a:"res_w",Rva:"res_h",zrb:"crop_x",Arb:"crop_y",yrb:"crop_w",xrb:"crop_h",AQa:"framerate_value",zQa:"framerate_scale",oOb:"startByteOffset",Qb:"vmaf",mDc:["moov",{size:"size",offset:"offset"}],Bo:["sidx",{size:"size",offset:"offset"}],mSc:["ssix",{size:"size",offset:"offset"}],bU:["segmentVmaf",{offset:"offset",Qb:"vmaf"}],Nk:"tags",gNc:"representationId",Xna:["ellaChannels",{ee:"channelName",Tob:"channel_id",FMb:"sendrate",hoa:"bitrate",Gub:"fecLevel",lqb:"containsFullData",$Tc:"symmetric_key",fEc:"nonces"}]}],FKc:"profileType",PSc:"stereo",profile:"profile",Fic:"dimensionsCount",Gic:"dimensionsLabel",Mdd:["snippets",{Cj:[c.Cj,{Ldd:"snippetSpec",Ta:"startTimeMs",cb:"endTimeMs"}]}],etb:["drmHeader",{ma:"bytes",Dbc:"checksum",yQ:"drmHeaderId",YA:"keyId",zo:["resolution",{height:"height",width:"width"}]}],dva:["prkDrmHeaders",{ma:"bytes",Dbc:"checksum",yQ:"drmHeaderId",YA:"keyId",zo:["resolution",{height:"height",width:"width"}]}],fu:"flavor",b$c:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",pIb:"pixelAspectX",qIb:"pixelAspectY",Mad:"maxCroppedWidth",Lad:"maxCroppedHeight",Nad:"maxCroppedX",Oad:"maxCroppedY",bca:"max_framerate_value",aca:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",kbd:"minCroppedWidth",jbd:"minCroppedHeight",lbd:"minCroppedX",mbd:"minCroppedY",ff:"hydrated",Bc:"rank",vu:["license",{kzc:"licenseResponseBase64",Bcd:"providerSessionToken",ndd:"secureStopExpected",H7c:"drmSessionId",G7c:"drmGroupId",links:["links",{}]}]}],gA:["cdnResponseData",{dU:"sessionABTestCell",Lf:"pbcid"}],Yr:["choiceMap",Object.assign(Object.assign({},this.FIb),{type:"type",J:"viewableId",$d:"transitionType",sQb:"transitionHint",kXc:"uxlabel",acd:["parallelGraphs",{Cj:[c.Cj,this.FIb]}]})],$C:["contentPlaygraph",{Z:["playgraph",{uf:"initialSegment",$d:"transitionType",kXc:"uxlabel",ba:["segments",{Cj:[c.Cj,this.iMb]}]}],Odd:["startIdent",{c$c:"identToken",J:"viewableId"}]}],media:["media",{id:"id",ka:["tracks",{X:"AUDIO",Da:"TEXT",U:"VIDEO"}]}],FB:["recommendedMedia",{Vp:"videoTrackId",Dv:"audioTrackId",az:"timedTextTrackId"}],nt:["timedtexttracks",{aj:"trackType",We:"new_track_id",type:"type",vU:"subType",variant:"variant",JM:"rawTrackType",HL:"languageDescription",language:"language",id:"id",gy:"isNoneTrack",Xaa:"isForcedNarrative",ctb:["downloadableIds",{}],Ged:"trackVariant",X7c:"encodingProfileNames",p7b:"allowedVideoTrackId",p6c:["cdnlist",{id:"id",name:"name",type:"type",Bc:"rank",tDb:"lowgrade",Uic:["dns",{host:"host",Awc:"ipv4",Bwc:"ipv6",Jnc:"forceLookup"}],key:"key"}],FI:["ttDownloadables",{Cj:[c.Cj,{id:"id",size:"size",jed:"textKey",J9c:"hashValue",I9c:"hashAlgo",t$c:"isImage",GWa:"midxOffset",HEb:"midxSize",height:"height",width:"width",IOa:["downloadUrls",{}],urls:["urls",{url:"url",Kg:"cdn_id",N_:"liveOcaCapabilities"}]}]}],dra:"isLanguageLeftToRight",JA:"headIdentDuration",Bc:"rank",ff:"hydrated"}],PU:["trickplays",{$g:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",qIc:"pixelsAspectY",pIc:"pixelsAspectX",width:"width",height:"height",JA:"headIdentDuration",e$c:"imageCount"}],FSb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],F7c:"dpsid",Pg:"isBranching",jfd:"viewableType",ys:"isAd",A_:"isSupplemental",fcc:"clientIpAddress",Ted:"urlExpirationDuration",yad:"manifestExpirationDuration",CE:["steeringAdditionalInfo",{Rdd:"steeringId",n5c:"additionalGroupNames",b2a:["streamingClientConfig",{}],mN:["stickySteeringMetadata",{UA:"isSteeringSticky",bxa:"stickySteeringToken"}],XRc:"slowInitialBufferingSignal",DVa:"liveEdgeCushionWithSpreadMs"}],Ib:"auxiliaryManifestToken",Ji:["liveMetadata",{Rna:["downloadableIdToSegmentTemplateId",{Cj:c.Cj}],aU:["segmentTemplateIdToSegmentTemplate",{Cj:[c.Cj,{QP:"availabilityStartTime",jwc:"initialization",media:"media",KJc:"presentationTimeOffset",sOb:"startNumber",duration:"duration",O:"timescale"}]}],ZEc:"ocLiveWindowDurationSeconds",qoa:"eventAvailabilityOffsetMs",P9:"eventStartTime",QQ:"eventEndTime",Ksb:"disableLiveUi",maxBitrate:"maxBitrate",QP:"availabilityStartTime",WOc:"segmentAvailabilityWindowSeconds"}],$_:["mediaEventHistory",{O:"timescale",w9b:"baseTimeMs",ahc:"cutoffTimeMs",qo:["mediaEvents",{type:"type",id:"id",timestamp:"timestamp",duration:"duration",Ao:"segmentationTypeId",fb:"adBreakTriggerId",Fj:"applicationScope"}]}],yf:"streamingType",N2a:["timecodeAnnotations",{plc:"endOffsetMs",Wea:"startOffsetMs",type:"type"}],$Ib:"prefetchTtl",oq:"auxiliaryManifests",Jd:"adverts",uTa:"ignoreUserTextPreferences"};this.Elb={kw:"locationMs",Yk:"adBreakToken",fb:"adBreakTriggerId",TY:"embedded",rJc:"prefetchWindowOffsetMs",pKb:"refreshCache",qJc:"prefetchWindowDurationMs",$o:"autoSkip",f3:["uxDisplay",{aSb:"uxIndication",cya:"uxPlayerControl"}],Kb:["ads",{id:"id",Ta:"startTimeMs",cb:"endTimeMs",Dxa:["timedAdEvents",{event:"event",yx:"adEventToken",Qp:"timeMs"}],aG:["actionAdEvents",{start:["start",{event:"event",yx:"adEventToken"}],complete:["complete",{event:"event",yx:"adEventToken"}],stop:["stop",{event:"event",yx:"adEventToken"}]}],$o:"autoSkip",r_:"is3pVerificationEnabled",I2:"thirdPartyVerificationToken",p3a:["uiComponent",{l5c:"adImpressionMetadataId",Ned:"uiToken",Med:"uiLoadDelayMaxMs"}]}],VJ:["actionAdBreakEvents",{complete:["complete",{event:"event",yx:"adEventToken"}],start:["start",{event:"event",yx:"adEventToken"}],stop:["stop",{event:"event",yx:"adEventToken"}]}],EX:"auditPingUrl"};this.$6b={lb:["adBreaks",this.Elb],EX:"auditPingUrl",zLb:"retainAdBreaks",t7:["adBreakCacheUpdates",{Cj:[c.Cj,{action:"action",Sa:["adBreak",this.Elb]}]}],Ij:"daiSupported",gsb:"defaultPrefetchWindowDurationMs",Ihc:"defaultPrefetchWindowOffsetMs",hwc:"initialPrefetchWindowDurationMs",iwc:"initialPrefetchWindowOffsetMs",CGc:"orderedAdBreakTriggerIds"};this.eBc=Object.assign(Object.assign({},this.GDb),{oq:["auxiliaryManifests",this.GDb],Jd:["adverts",this.$6b]});}Object.defineProperty(b,"__esModule",{value:!0});b.xDa=void 0;t=a(22970);n=a(22674);c=a(90030);d.prototype.jZ=function(f){this.xlc.jZ(f,this.eBc);};a=d;b.xDa=a;b.xDa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.W8a))],a);},47930:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m,p){this.KCb=l;this.dBc=m;this.fBc=p;}Object.defineProperty(b,"__esModule",{value:!0});b.yDa=void 0;t=a(22970);n=a(22674);c=a(81025);f=a(60042);g=a(31149);e=a(36129);h=a(91176);a=a(704);d.prototype.create=function(l){var m,p,q,r;m=this;if(l && !this.txc(l)){if(this.yxc(l))throw g.se.sYc(e.da.BO,e.Y.X0b,l);this.fBc.forEach(function(u){var v;u.IEb(l);null === (v=l.auxiliaryManifests) || void 0 === v?void 0:v.forEach(function(w){u.IEb(w);});});(0,h.FLb)(l,h.NDb);r=this.KCb();r.BKa(l.links);this.dBc.jZ(l);return {Aa:l,wp:r,oUa:!1,oq:null !== (q=null === (p=l.oq) || void 0 === p?void 0:p.map(function(u){var v;v=m.KCb();v.BKa(u.links);return {Aa:u,wp:v,oUa:!1,oq:[]};})) && void 0 !== q?q:[]};}};d.prototype.yxc=function(l){return ("type" in l) && "muxed" === l.type;};d.prototype.txc=function(l){return ("runtime" in l) && !!l.runtime;};k=d;b.yDa=k;b.yDa=k=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.geb)),t.__param(1,(0,n.v)(f.Jbb)),t.__param(2,(0,n.OH)(a.Kbb))],k);},99070:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w;function d(x,y,A,z,B,C,D){this.wi=y;this.cBc=z;this.config=B;this.Pba=C;this.Na=D;this.Ida=new Map();this.log=x.wb("ManifestFetcher");this.cg=A.cg;}Object.defineProperty(b,"__esModule",{value:!0});b.zDa=void 0;n=a(22970);t=a(22674);c=a(81918);f=a(30869);g=a(31149);e=a(87386);h=a(5021);k=a(4203);l=a(72639);m=a(91176);p=a(18148);q=a(17398);r=a(13044);u=a(17612);v=a(21103);w=a(31276);d.prototype.mp=function(x,y,A,z){var B;B=this;A=void 0 === A?!0:A;z && this.u6b(x.J,z);return A && this.dw(x.J)?this.s$(x.J).catch(function(){return B.XKb(x,y,A);}):this.XKb(x,y,A);};d.prototype.dw=function(x){return this.cg.kaa(x,"manifest");};d.prototype.hJb=function(){var x;x=this;this.cg.yQc();setTimeout(function(){x.cg.YNc();},1);};d.prototype.tU=function(x,y){var A,z;A=this;if(this.config().Lkc){z=y?Promise.resolve(y):void 0;this.cg.setData(x,"manifest",y,function(){return A.duc(x,z);});null === z || void 0 === z?void 0:z.then(function(B){var C,D;(0,r.AFa)() && (null === (D=null === (C=B.Aa.CE) || void 0 === C?void 0:C.mN) || void 0 === D?0:D.UA) && A.cg.gRb(x,"manifest",void 0,p.Cab);}).catch(function(){});}};d.prototype.s$=function(x,y){var A;A=this;y=void 0 === y?!1:y;return this.cg.getData(x,"manifest").then(function(z){var B;if(!z)throw Error("Manifest not found");if(z.Aa.expiration <= A.Na.pI.oa(h.za))throw (A.cg.clearData(x,"manifest"),Error("Manifest has expired"));B=z.Aa.yf;if(!y && (0,m.RA)(B) && z.V3a)throw Error("Cached live manifest not available for reuse");return z;});};d.prototype.duc=function(x,y){var A;null === (A=this.Ida.get(x)) || void 0 === A?void 0:A.forEach(function(z){return z(y);});this.Ida.delete(x);};d.prototype.u6b=function(x,y){this.Ida.has(x) || this.Ida.set(x,[]);this.Ida.get(x).push(y);};d.prototype.XKb=function(x,y,A){return n.__awaiter(this,void 0,void 0,function B(){var C,D,E,H,F,G,J,L,K,M,P,I;C=this;return Ua(B,function(O){switch(O.Js){case 1:D=C;C.log.trace("Requesting a new manifest",x.J);J=C.wi.yc().oa(h.za);if(!(A && C.config().ePa && C.dw(x.J))){O.Js=2;break;}O.ZX=3;return cb(O,C.s$(x.J,!0),5);case 5:L=O.hV;K=L.Aa.yf;(0,m.RA)(K) && L.V3a && (x.dw=!0);Cb(O);break;case 3:kb(O);case 2:if(M=(0,r.AFa)())x.bxa=null === (F=null === (H=null === (E=M.S) || void 0 === E?void 0:E.Aa.CE) || void 0 === H?void 0:H.mN) || void 0 === F?void 0:F.bxa;P=function(){return D.cBc.Ue({log:D.log,RJ:y,J:x.J},x).catch(function(Q){if(L)return L;throw Q;});};I=((null === (G=x.ve) || void 0 === G?0:G.fd) && !x.ve.Yk && !x.ve.fb?C.DVc(x).catch(function(Q){D.log.warn(Q.message);return P();}):P()).then(function(Q){var T,U,X,Y,W;if(!(!Q.FG || null !== (T=x.ve) && void 0 !== T && T.Yk || null !== (U=x.ve) && void 0 !== U && U.fb)){W=Q.FG;T={ywa:Promise.resolve(W),yVa:{source:"manifest",type:x.Hi}};delete Q.FG;U=(0,r.AFa)() && (null === (Y=null === (X=Q.Aa.CE) || void 0 === X?void 0:X.mN) || void 0 === Y?0:Y.UA)?p.Cab:void 0;D.cg.setData(x.J,"ldl",T,function(){W.close().catch(function(Z){D.log.info("Unable to cleanup LDL session.",Z);});},void 0,U);}x.fu === l.Zp.N5 && (Q.NT=J,Q.I1=D.wi.yc().oa(h.za));return Q;}).then(function(Q){return D.HZa(Q);}).catch(function(Q){A && D.tU(x.J,void 0);D.log.error("Failed to fetch manifest",g.se.jj(Q));throw Q;});A && C.tU(x.J,I);return O.return(I);}});});};d.prototype.DVc=function(x){var y;y=this;return new Promise(function(A,z){var B,C,D,E,H;y.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",x.J);E=null === (B=x.ve) || void 0 === B?void 0:B.Uca;if(!E)return z(Error("Parent manifest does not exist."));H=null === (C=x.ve) || void 0 === C?void 0:C.Ib;B=null === (D=E.oq) || void 0 === D?void 0:D.find(function(F){return F.R === x.J && (void 0 === H || F.Ib === H);});if(!B)return z(Error("Auxiliary manifest not found in parent manifest."));A(y.Pba.create(B));});};d.prototype.HZa=function(x){var y,A;y=this;return this.config().Jsb && (null === (A=x.Aa.Jd) || void 0 === A?0:A.Ij)?w.Wa.get(v.wz).cH().then(function(z){u.mb.v_(z.my) && (y.log.info("Force disabling daiSupported for HWDRM"),x.Aa.Jd.Ij=!1);return x;}):Promise.resolve(x);};a=d;b.zDa=a;b.zDa=a=n.__decorate([(0,t.aa)(),n.__param(0,(0,t.v)(e.zb)),n.__param(1,(0,t.v)(c.ie)),n.__param(2,(0,t.v)(p.Uza)),n.__param(3,(0,t.v)(l.dFa)),n.__param(4,(0,t.v)(k.Ic)),n.__param(5,(0,t.v)(q.XV)),n.__param(6,(0,t.v)(f.Li))],a);},3861:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.ADa=void 0;t=a(22970);a=a(22674);d.prototype.IEb=function(c){var f,g,e;if("v3" !== c.manifestVersion && void 0 !== c.timedtexttracks && void 0 !== c.audio_tracks && void 0 !== c.video_tracks){f=c.timedtexttracks.reduce(function(h,k){h[k.id]=k.new_track_id;k.id=k.new_track_id;return h;},{});g=c.audio_tracks.reduce(function(h,k){h[k.id]=k.new_track_id;k.id=k.new_track_id;k.track_id=k.new_track_id;return h;},{});e=c.video_tracks.reduce(function(h,k){h[k.track_id]=k.new_track_id;k.track_id=k.new_track_id;return h;},{});c.audio_tracks.forEach(function(h){h.disallowedSubtitleTracks=h.disallowedSubtitleTracks.map(function(k){return f[k];});h.defaultTimedText && (h.defaultTimedText=f[h.defaultTimedText]);});c.defaultTrackOrderList && (c.defaultTrackOrderList=c.defaultTrackOrderList.map(function(h){return Object.assign(Object.assign({},h),{videoTrackId:e[h.videoTrackId],subtitleTrackId:f[h.subtitleTrackId],audioTrackId:g[h.audioTrackId]});}));}};n=d;b.ADa=n;b.ADa=n=t.__decorate([(0,a.aa)()],n);},16520:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.Qk={};t[t.Twa=1]="sourceopen";t[t.$t=2]="currentTimeChanged";t[t.sea=3]="seeked";t[t.HCb=5]="licenseadded";t[t.hOb=6]="sourceBufferAdded";t[t.Pbd=7]="onNeedKey";t[t.aKb=8]="readyStateChanged";},12653:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.lFb=void 0;t=a(22674);d=a(21801);n=a(59586);b.lFb=new t.Ce(function(c){c(d.$Da).to(n.ZDa).sa();});},21801:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Da=b.TYb=void 0;b.TYb=function(){};b.$Da="MseConfigSymbol";},59586:function(t,b,a){var n,c,f,g,e;function d(h){return c.Tf.call(this,h,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ZDa=void 0;t=a(22970);n=a(12501);c=a(64174);f=a(22674);g=a(83767);e=a(5021);Ia(d,c.Tf);Ha.Object.defineProperties(d.prototype,{YEb:{configurable:!0,enumerable:!0,get:function(){return (0,e.ic)(5E3);}},aHb:{configurable:!0,enumerable:!0,get:function(){return (0,e.ic)(1E3);}},bHb:{configurable:!0,enumerable:!0,get:function(){return (0,e.ic)(1E3);}}});a=d;b.ZDa=a;t.__decorate([n.config(n.ro,"minDecoderBufferMilliseconds")],a.prototype,"YEb",null);t.__decorate([n.config(n.ro,"optimalDecoderBufferMilliseconds")],a.prototype,"aHb",null);t.__decorate([n.config(n.ro,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"bHb",null);b.ZDa=a=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(g.Qo))],a);},7826:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.gM=void 0;t=a(22674);d=a(50681);n=a(63390);c=a(97996);b.gM=new t.Ce(function(f){f(d.cEa).to(n.bEa).sa();f(c.F5).Ffa(function(g){return function(){return g.Jb.get(d.cEa).wDc;};});});},97996:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.F5="MslProviderSymbol";},50681:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cEa="MslReadyNotifierSymbol";},63390:function(t,b,a){var n;function d(){var c;c=this;this.ready=!1;this.wDc=new Promise(function(f){c.MNc=f;});}Object.defineProperty(b,"__esModule",{value:!0});b.bEa=void 0;t=a(22970);a=a(22674);d.prototype.xDc=function(c){this.ready || (this.MNc(c),this.ready=!0);};d.prototype.Cs=function(){return this.ready;};n=d;b.bEa=n;b.bEa=n=t.__decorate([(0,a.aa)()],n);},30698:function(t,b,a){var d,n,c,f,g,e,h,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.zFb=void 0;t=a(22674);d=a(76698);n=a(32934);c=a(81438);f=a(59806);g=a(21941);e=a(55823);h=a(27E3);k=a(2571);l=a(17559);b.zFb=new t.Ce(function(m){m(c.bjb).to(d.ZHa).sa();m(n.qz).vN(function(){return Ba._cad_global.http;});m(g.Tcb).to(f.mEa).sa();m(e.Ucb).Sp(h.default);m(k.n$a).to(l.ZBa).sa();});},2571:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.n$a="HttpDispatcherSymbol";},32934:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qz=b.J5=b.ResponseType=void 0;b.ResponseType={Text:1,S4c:2,hUb:3};b.J5="OPEN_CONNECT_APPLIANCE";b.qz="LegacyHttpSymbol";},55823:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ucb="NetworkMonitorSymbol";},48004:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Scb="NetworkMonitorConfigSymbol";},21941:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tcb="NetworkMonitorFactorySymbol";},81438:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bjb="XhrFactorySymbol";},17559:function(t,b,a){var n,c,f;function d(g,e){this.De=e;this.wa=g.wb("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.ZBa=void 0;t=a(22970);n=a(22674);c=a(87386);a=a(32934);d.prototype.download=function(g,e){var h;h=this;e=void 0 === e?{X_:0}:e;return new Promise(function(k,l){var p;function m(q){if(q.success)return k(q.content);if(p === e.X_)return l({Ua:q.Ua,xk:q.zq});p++;!1;h.De.download(g,m);}p=0;h.De.download(g,m);});};f=d;b.ZBa=f;b.ZBa=f=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.zb)),t.__param(1,(0,n.v)(a.qz))],f);},40158:function(t,b,a){var n,c,f,g;function d(e,h){return f.Tf.call(this,e,void 0 === h?"NetworkMonitorConfigImpl":h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.lEa=void 0;t=a(22970);n=a(22674);c=a(12501);f=a(64174);a=a(83767);Ia(d,f.Tf);Ha.Object.defineProperties(d.prototype,{PRb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});g=d;b.lEa=g;t.__decorate([c.config(c.qd,"useNetworkMonitor")],g.prototype,"PRb",null);b.lEa=g=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.Qo)),t.__param(1,(0,n.v)(a.eha)),t.__param(1,(0,n.optional)())],g);},59806:function(t,b,a){var n,c,f,g;function d(e,h,k){this.config=e;this.zAc=h;this.bd=k;}Object.defineProperty(b,"__esModule",{value:!0});b.mEa=void 0;t=a(22970);n=a(48004);c=a(22674);f=a(48159);a=a(55823);d.prototype.fgc=function(){if(this.config.PRb)return this.bd(this.zAc());};g=d;b.mEa=g;b.mEa=g=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(n.Scb)),t.__param(1,(0,c.v)(f.Lcb)),t.__param(2,(0,c.v)(a.Ucb))],g);},76698:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.ZHa=void 0;t=a(22970);a=a(22674);d.prototype.create=function(){return new XMLHttpRequest();};n=d;b.ZHa=n;b.ZHa=n=t.__decorate([(0,a.aa)()],n);},31360:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u;Object.defineProperty(b,"__esModule",{value:!0});b.XHb=void 0;t=a(22674);d=a(30650);n=a(71976);c=a(7605);f=a(17705);g=a(31071);e=a(91918);h=a(81025);k=a(23632);l=a(15348);m=a(17108);p=a(82229);q=a(97361);r=a(17391);u=a(85432);b.XHb=new t.Ce(function(v){v(c.zz).to(f.UEa).sa();v(d.ceb).to(n.VEa).sa();v(h.heb).to(k.aFa);v(h.geb).$f(function(w){return function(){return w.Jb.get(h.heb);};});v(g.peb).to(e.oFa).sa();v(l.Jia).to(m.nFa).sa();v(p.cjb).to(q.$Ha).sa();v(r.Zdb).to(u.PEa).sa();});},7605:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zz="PboConfigSymbol";},30650:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ceb="PboDispatcherSymbol";},81025:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.heb="PboLinksManagerSymbol";b.geb="PboLinksManagerFactorySymbol";},15348:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jia="PboPublisherSymbol";},31071:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.peb="PboRequestFactorySymbol";},82229:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cjb="ZuulRetryPolicyParserSymbol";},49917:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tya="AdEventPboCommandSymbol";b.Rya="AdBreakEventPboCommandSymbol";},18880:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L,K,M,P,I,O,Q,T,U,X,Y,W,Z,ba,ca,da;Object.defineProperty(b,"__esModule",{value:!0});b.Upb=void 0;t=a(22674);d=a(40953);n=a(30543);c=a(72639);f=a(86563);g=a(81378);e=a(13158);h=a(16257);k=a(46303);l=a(829);m=a(45830);p=a(87607);q=a(84860);r=a(35329);u=a(31149);v=a(36129);w=a(25546);x=a(69740);y=a(22503);A=a(52137);z=a(88951);B=a(83998);C=a(54949);D=a(62898);E=a(15153);H=a(70285);F=a(76427);G=a(36642);J=a(15614);L=a(95738);K=a(82306);M=a(7605);P=a(67658);I=a(3035);O=a(46320);Q=a(595);T=a(49917);U=a(49449);X=a(41332);Y=a(20424);W=a(36475);Z=a(25743);ba=a(70885);ca=a(54861);da=a(21015);b.Upb=new t.Ce(function(ia){ia(B.On).to(C.TEa);ia(ca.WGa).to(ba.VGa).sa();ia(da.xja).to(da.UGa).sa();ia(d.ieb).to(n.bFa);ia(D.$db).to(E.QEa);ia(H.aeb).to(F.REa);ia(c.dFa).to(f.cFa);ia(P.jeb).$f(function(S){return function(){var N;N=S.Jb.get(M.zz);return N && N.VRb?S.Jb.resolve(O.pFa):S.Jb.resolve(I.eFa);};});ia(g.NEa).to(e.MEa);ia(h.feb).to(k.YEa);ia(l.$Ea).to(m.ZEa);ia(p.fhb).to(q.aHa);ia(p.khb).to(r.eHa);ia(p.rab).to(w.zCa);ia(p.chb).to(x.ZGa);ia(p.Wdb).to(y.LEa);ia(p.dgb).to(A.uGa);ia(p.U8a).to(z.iBa);ia(J.M_b).to(G.fFa);ia(W.Ydb).to(Z.OEa);ia(L.eeb).to(K.XEa);ia(T.Tya).to(Q.Sya);ia(T.Rya).to(U.Qya);ia(p.nBa).$f(function(S){return function(N){switch(N){case p.Lo.start:return S.Jb.get(p.fhb);case p.Lo.stop:return S.Jb.get(p.khb);case p.Lo.tra:return S.Jb.get(p.rab);case p.Lo.splice:return S.Jb.get(p.chb);case p.Lo.pause:return S.Jb.get(p.Wdb);case p.Lo.resume:return S.Jb.get(p.dgb);case p.Lo.hZ:return S.Jb.get(p.U8a);}throw new u.se(v.da.UZb,void 0,void 0,void 0,void 0,"The event key was invalid - " + N);};});ia(X.Nbb).to(Y.QCa);});},87607:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lo={start:"start",stop:"stop",tra:"keepAlive",hZ:"engage",splice:"splice",pause:"pause",resume:"resume"};b.nBa="EventPboCommandFactorySymbol";b.fhb="StartEventPboCommandSymbol";b.khb="StopEventPboCommandSymbol";b.rab="KeepAliveEventPboCommandSymbol";b.chb="SpliceEventPboCommandSymbol";b.U8a="EngageEventPboCommandSymbol";b.Wdb="PauseEventPboCommandSymbol";b.dgb="ResumeEventPboCommandSymbol";},41332:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nbb="ManifestPostProcessorSymbol";},81378:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.NEa=b.s5a=void 0;b.W_b=["prefetch/license","prefetch/license/live","prefetch/license/linear"];b.WXb=["license","license/live","license/linear"];b.s5a=[].concat(za(b.W_b),za(b.WXb));b.NEa="PboAcquireLicenseCommandSymbol";},36475:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ydb="AleProvisionCommand";},17391:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zdb="PboBackoffManagerSymbol";},62898:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$db="PboBindCommandSymbol";},70285:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.aeb="PboBindDeviceCommandSymbol";},19114:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.dj={lS:"logblob",S:"manifest",mzc:"licensedmanifest",vu:"license",events:"events",bind:"bind",ping:"ping",config:"config",ucd:"prefetchLiveAds",QKa:"aleProvision"};b.s0b={Xfb:"X-Netflix.Request.Id",Wfb:"X-Netflix.Request.Attempt",tGa:"X-Netflix.Client.Request.Name",A6a:"x-netflix.browsername",B6a:"x-netflix.browserversion",ldb:"x-netflix.osname",mdb:"x-xetflix.osversion",j7a:"x-netflix.clienttype",gib:"x-netflix.uiversion"};b.tC={Xfb:"reqId",Wfb:"reqAttempt",tGa:"reqName",A6a:"browsername",B6a:"browserversion",ldb:"osname",mdb:"osversion",j7a:"clienttype",gib:"uiversion",KYb:"mainContentViewableId"};},83998:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.On="PboCommandContextSymbol";},95738:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.eeb="PboGenerateScreenshotsCommandSymbol";},16257:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.feb="PboLicenseRequestTransformerSymbol";},829:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ea="PboLicenseResponseTransformerSymbol";},40953:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ieb="PboLogblobCommandSymbol";},72639:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.dFa=b.t5a=void 0;t=b.Zp={};t.N5="PRE_FETCH";t.f0b="QC";t.Er="STANDARD";t.qja="SUPPLEMENTAL";t.G_c="DOWNLOAD";b.X_b=("prefetch/licensedManifest prefetch/manifest prefetch/licensedManifest/live prefetch/manifest/live prefetch/licensedManifest/ad prefetch/manifest/ad prefetch/licensedManifest/live/ad prefetch/manifest/live/ad").split(" ");b.NYb=("licensedManifest manifest licensedManifest/live manifest/live adBreakHydration adBreakHydration/live prefetchLiveAds licensedManifest/ad manifest/ad licensedManifest/live/ad manifest/live/ad adBreakHydration/ad adBreakHydration/live/ad prefetchLiveAds/ad").split(" ");b.t5a=[].concat(za(b.X_b),za(b.NYb));b.dFa="PboManifestCommandSymbol";},67658:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jeb="PboManifestRequestTransformerSymbol";},15614:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.M_b="PboPingCommandSymbol";},49449:function(t,b,a){var n,c,f,g,e,h;function d(k){return g.bj.call(this,k,c.da.y4a) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Qya=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(19114);g=a(51658);e=a(83998);a(2762);h=a(71977);Ia(d,g.bj);d.prototype.tR=function(k){var l;l=(0,h.qSa)(k.yf);return f.dj.events + "/" + l + k.event;};d.prototype.Ue=function(k,l){var m,p,q;m=this;p=this.WP(l);!1;!1;q={url:l.href,name:f.dj.events,em:this.tR(l),zn:2};return this.send(k,q,p).then(function(){return l;}).catch(function(r){throw m.Xv(r);});};d.prototype.WP=function(k){return {xid:k.Ia,event:k.event,adEventToken:k.yx,adBreakTriggerId:k.fb,adBreakLocationMs:k.uv,eventLocationMs:k.OG,adInsertionType:k.rKa,position:k.position,clientTime:k.uG,sessionStartTime:k.Jk,appId:k.appId,sessionId:k.sessionId,playTimes:{},adBreakStartTime:k.mKa,playbackOffsetRefAdBreakStart:k.fda,adBreakStartOffset:k.lKa,mainManifestPlaybackContextId:k.$Va,embeddedReason:k.Zm};};a=d;b.Qya=a;b.Qya=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(e.On))],a);},595:function(t,b,a){var n,c,f,g,e,h;function d(k){return g.bj.call(this,k,c.da.y4a) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Sya=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(19114);g=a(51658);e=a(83998);a(2762);h=a(71977);Ia(d,g.bj);d.prototype.tR=function(k){var l;l=(0,h.qSa)(k.yf);return f.dj.events + "/" + l + k.event;};d.prototype.Ue=function(k,l){var m,p,q;m=this;p=this.WP(l);!1;!1;q={url:l.href,name:f.dj.events,em:this.tR(l),zn:2};return this.send(k,q,p).then(function(){return l;}).catch(function(r){throw m.Xv(r);});};d.prototype.WP=function(k){return {xid:k.Ia,event:k.event,adEventToken:k.yx,adBreakTriggerId:k.fb,adBreakLocationMs:k.uv,eventLocationMs:k.OG,adInsertionType:k.rKa,position:k.position,adStartPosition:k.tKa,clientTime:k.uG,sessionStartTime:k.Jk,appId:k.appId,sessionId:k.sessionId,playTimes:this.ULa(k.sB),mainManifestPlaybackContextId:k.$Va,thirdPartyAdVerificationMetadata:k.yUc,embeddedReason:k.Zm};};d.prototype.ULa=function(k){return {total:k.total,audio:k.audio.map(function(l){return {duration:l.duration,downloadableId:l.ob,cdnId:l.Uh};}),video:k.video.map(function(l){return {duration:l.duration,downloadableId:l.ob,cdnId:l.Uh};}),text:k.text.map(function(l){return {duration:l.duration,downloadableId:l.ob,cdnId:l.Uh};})};};a=d;b.Sya=a;b.Sya=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(e.On))],a);},88496:function(t,b,a){var n,c,f,g,e;function d(h,k,l,m){k=f.bj.call(this,h,k) || this;k.context=h;k.BPa=l;k.zn=m;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.Jo=void 0;t=a(22970);n=a(22674);c=a(19114);f=a(51658);a(2762);g=a(71977);e=a(42933);Ia(d,f.bj);d.prototype.tR=function(h){h=(0,g.qSa)(h.yf);return c.dj.events + "/" + h + this.BPa;};d.prototype.Ue=function(h,k){var l,m,p,q,r;l=this;p=h.links;q=this.WP(k);!1;!1;r={url:null !== (m=null === p || void 0 === p?void 0:p.QZ("events").href) && void 0 !== m?m:k.href,name:c.dj.events,em:this.tR(k),zn:this.zn,iN:this.iN};return this.send(h,r,q).then(function(u){null === p || void 0 === p?void 0:p.BKa(u.result.links);return k;}).catch(function(u){throw l.Xv(u);});};d.prototype.WP=function(h){return {event:this.BPa,xid:h.Ia,position:h.position || 0,clientTime:h.uG,sessionStartTime:h.Jk,videoTrackId:h.Vp,audioTrackId:h.Dv,timedTextTrackId:h.az,mediaId:h.b0,trackId:h.trackId,sessionId:h.sessionId,appId:h.appId,playTimes:this.ULa(h.sB),sessionParams:h.dr};};d.prototype.TLa=function(h){return {downloadableId:h.ob,duration:h.duration};};d.prototype.ULa=function(h){var k;k={total:h.total,audio:h.audio.map(this.TLa),video:h.video.map(this.TLa),text:h.text.map(this.TLa)};h.total !== h.IU && (k.totalContentTime=h.IU);0 !== h.xN && (k.totalAdDuration=h.xN);0 !== h.zN && (k.totalOtherDuration=h.zN);if(0 !== h.zN || 0 !== h.xN)k.totalCombinedDuration=h.P2;0 !== h.KU && (k.totalLiveEdgeDuration=h.KU);0 !== h.JU && (k.totalLiveEdgeAdDuration=h.JU);0 !== h.LU && (k.totalStartSlateDuration=h.LU);return k;};Ha.Object.defineProperties(d.prototype,{iN:{configurable:!0,enumerable:!0,get:function(){return this.socketRouterConfig.enabled && this.socketRouterConfig.ONb && e.q6.supported;}}});a=d;b.Jo=a;b.Jo=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.Su)()),t.__param(1,(0,n.Su)()),t.__param(2,(0,n.Su)()),t.__param(3,(0,n.Su)())],a);},51658:function(t,b,a){var n,c,f,g,e,h,k,l,m;function d(p,q){this.context=p;this.errorCode=q;}Object.defineProperty(b,"__esModule",{value:!0});b.bj=b.Mgb=void 0;n=a(22970);t=a(22674);c=a(71977);f=a(31149);g=a(34231);e=a(54861);h=a(21015);k=a(70885);a=a(15348);(function(p){p.kYc="websocket";p.smc="httpAfterWS";})(l || (b.Mgb=l={}));d.prototype.yPc=function(p,q,r){return n.__awaiter(this,void 0,void 0,function v(){var w,x,y,A;w=this;return Ua(v,function(z){x=w;if(null === (y=w.socketRouterClient) || void 0 === y?0:y.wUa)return z.return(w.Fwb(p,q,r,g.gx.MO).then(function(B){var C,D;D={type:q.name,payload:B.request,options:k.Nib[q.name]};return null === (C=x.socketRouterClient) || void 0 === C?void 0:C.request(D).then(function(E){var H,F;if(!("logblob" === q.name?null === (F=null === (H=null === E || void 0 === E?void 0:E.body) || void 0 === H?void 0:H.result) || void 0 === F?0:F.nlp:1))throw Error("SRC message not acknowledged");x.publisher.qva({command:q.name,url:B.context.url,inputs:B.request,outputs:E.body});return E.body;});}).catch(function(){return x.AMb(p,q,r);}));null === (A=w.socketRouterClient) || void 0 === A?void 0:A.start();return z.return(w.AMb(p,q,r));});});};d.prototype.AMb=function(p,q,r){return n.__awaiter(this,void 0,void 0,function v(){var w,x,y;y=this;return Ua(v,function(A){x=r.logblobs;null === (w=null === x || void 0 === x?void 0:x.entries) || void 0 === w?void 0:w.forEach(function(z){z.transport=l.smc;});q.iN=!1;return A.return(y.send(p,q,r));});});};d.prototype.send=function(p,q,r,u,v){var w;w=this;v=void 0 === v?g.gx.MO:v;return q.iN && v !== g.gx.Ycb?this.yPc(p,q,r):this.Fwb(p,q,r,v,u).then(function(x){return w.context.Nic.send(x.context,x.request);});};d.prototype.Fwb=function(p,q,r,u,v){var w,x;try{w=this.context.oNc.create(this.context.MA.yG(),q.url,r,v,u);x=this.h$b(q,p,u);return Promise.resolve({context:x,request:w});}catch(y){return Promise.reject(y);}};d.prototype.h$b=function(p,q,r){var u;return {De:this.context.De,Zr:p.name,url:this.context.YWc((0,c.m$b)(this.context.nk,this.context.Yi,p.name,r)),zn:p.zn,timeout:this.context.Yi.timeout,headers:Object.assign(Object.assign({},(0,c.l$b)(this.context.nk,this.context.Yi,this.context.sQ,p.name,r)),null !== (u=p.pNc) && void 0 !== u?u:{}),em:p.em,log:q.log,FLa:q.FLa,RJ:q.RJ,J:q.J,requestId:this.context.MA.Ffc()};};d.prototype.Xv=function(p){return p instanceof f.se?p:(0,c.Xv)(this.errorCode,p);};m=d;b.bj=m;n.__decorate([(0,t.v)(e.WGa)],m.prototype,"socketRouterClient",void 0);n.__decorate([(0,t.v)(h.xja)],m.prototype,"socketRouterConfig",void 0);n.__decorate([(0,t.v)(a.Jia)],m.prototype,"publisher",void 0);b.bj=m=n.__decorate([(0,t.aa)(),n.__param(0,(0,t.Su)()),n.__param(1,(0,t.Su)())],m);},88951:function(t,b,a){var n,c,f,g,e;function d(h){return f.Jo.call(this,h,c.da.oWb,g.Lo.hZ,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.iBa=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(88496);g=a(87607);a=a(83998);Ia(d,f.Jo);d.prototype.WP=function(h){return Object.assign(Object.assign({},f.Jo.prototype.WP.call(this,h)),{action:h.action});};e=d;b.iBa=e;b.iBa=e=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.On))],e);},82306:function(t,b,a){var n,c,f,g,e;function d(h){return g.bj.call(this,h,c.da.FWb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.XEa=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(19114);g=a(51658);a=a(83998);Ia(d,g.bj);d.prototype.Ue=function(h,k){var l,m,p;l=this;p=h.links;p={url:null !== (m=null === p || void 0 === p?void 0:p.QZ("generateScreenshots").href) && void 0 !== m?m:"/generateScreenshots",name:f.dj.S,em:"generateScreenshots",zn:2};return this.send(h,p,k).then(function(q){return q.result;}).catch(function(q){throw l.Xv(q);});};e=d;b.XEa=e;b.XEa=e=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.On))],e);},25546:function(t,b,a){var n,c,f,g,e;function d(h){return f.Jo.call(this,h,c.da.mab,g.Lo.tra,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.zCa=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(88496);g=a(87607);a=a(83998);Ia(d,f.Jo);e=d;b.zCa=e;b.zCa=e=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.On))],e);},20424:function(t,b,a){var n,c,f;function d(g){this.config=g;}Object.defineProperty(b,"__esModule",{value:!0});b.QCa=void 0;t=a(22970);n=a(4203);c=a(22674);f=a(91176);d.prototype.process=function(g){var e,h,k,l;e=this;if((0,f.RA)(g.streamingType) && this.config().gS){h=Object.assign(Object.assign({template:"$baseUrl/$packageId/$encoder/$feed/$mediaOutputGroup/$downloadableId"},this.config().gS),this.config().gS.video);g.video_tracks.forEach(function(m){m.streams.forEach(function(p){var q;p.urls=[p.urls[0]];q=Object.assign(Object.assign({},h),{downloadableId:p.downloadable_id});p.urls[0].url=e.DSa(q.template,q);});});k=Object.assign(Object.assign({template:"$baseUrl/$packageId/$encoder/$feed/$mediaOutputGroup/$downloadableId"},this.config().gS),this.config().gS.audio);g.audio_tracks.forEach(function(m){m.streams.forEach(function(p){var q;p.urls=[p.urls[0]];q=Object.assign(Object.assign({},k),{downloadableId:p.downloadable_id});p.urls[0].url=e.DSa(q.template,q);});});l=Object.assign(Object.assign({template:"$baseUrl/$packageId/$encoder/$feed/$mediaOutputGroup/$downloadableId"},this.config().gS),this.config().gS.text);g.timedtexttracks.forEach(function(m){Object.entries(m.ttDownloadables).forEach(function(p){var q,r;q=Ea(p);p=q.next().value;q=q.next().value;q.urls && 0 < (null === (r=q.urls) || void 0 === r?void 0:r.length) && (q.urls=[q.urls[0]],r=Object.assign(Object.assign({},l),{downloadableId:m.downloadableIds[p]}),q.urls[0].url=e.DSa(r.template,r));});});}};d.prototype.DSa=function(g,e){return g.split("/").map(function(h){var k;if(h.startsWith("$")){k=h.substring(1);if(e.hasOwnProperty(k))return e[k];}return h;}).join("/");};a=d;b.QCa=a;b.QCa=a=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(n.Ic))],a);},22503:function(t,b,a){var n,c,f,g,e;function d(h){return f.Jo.call(this,h,c.da.wdb,g.Lo.pause,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.LEa=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(88496);g=a(87607);a=a(83998);Ia(d,f.Jo);e=d;b.LEa=e;b.LEa=e=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.On))],e);},13158:function(t,b,a){var n,c,f,g,e,h;function d(k){return g.bj.call(this,k,c.da.Bab) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.MEa=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(19114);g=a(51658);e=a(83998);h=a(71977);Ia(d,g.bj);d.prototype.tR=function(k){var l;l="ldl" === k.AVa?"prefetch/license":"license";k=(0,h.gtc)(k.yf);return "" + l + k;};d.prototype.Ue=function(k,l){var m,p;m=this;p={url:k.links.QZ(l.AVa).href,name:f.dj.vu,em:this.tR(l),zn:"ldl" === l.AVa?0:3};return this.send(k,p,l.inputs,"drmSessionId").then(function(q){q=q.result;m.hbc(q);return q;}).catch(function(q){throw m.Xv(q);});};d.prototype.hbc=function(k){k.forEach(function(l){if(!l.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};a=d;b.MEa=a;b.MEa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(e.On))],a);},25743:function(t,b,a){var n,c,f,g,e,h;function d(k){return g.bj.call(this,k,c.da.hTb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.OEa=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(19114);g=a(51658);e=a(83998);h=a(34231);Ia(d,g.bj);d.prototype.Ue=function(k){var l;l=this;return this.send(k,{url:"/" + f.dj.QKa,name:f.dj.QKa,em:f.dj.QKa,zn:1,pNc:{"Content-Type":"application/json","content-encoding":"msl_v1"}},{provisionRequest:'{"ver":1,"scheme":"A128CBC-HS256","type":"SOCKETROUTER","keyx":{"scheme":"CLEAR"}}'},void 0,h.gx.MO).then(function(m){return m.result;}).catch(function(m){throw l.Xv(m);});};a=d;b.OEa=a;b.OEa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(e.On))],a);},15153:function(t,b,a){var n,c,f,g,e;function d(h){return g.bj.call(this,h,c.da.STb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.QEa=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(19114);g=a(51658);a=a(83998);Ia(d,g.bj);d.prototype.Ue=function(h,k){var l;l=this;return this.send(h,{url:"/" + f.dj.bind,name:f.dj.bind,em:f.dj.bind,zn:2},k).then(function(m){return m.result;}).catch(function(m){throw l.Xv(m);});};e=d;b.QEa=e;b.QEa=e=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.On))],e);},76427:function(t,b,a){var n,c,f,g,e;function d(h){return g.bj.call(this,h,c.da.TTb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.REa=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(19114);g=a(51658);a=a(83998);Ia(d,g.bj);d.prototype.Ue=function(h,k){var l;l=this;return this.send(h,{url:"/bindDevice",name:f.dj.bind,em:f.dj.bind,zn:2},k).then(function(m){return m.result;}).catch(function(m){throw l.Xv(m);});};e=d;b.REa=e;b.REa=e=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.On))],e);},54949:function(t,b,a){var n,c,f,g,e,h,k,l,m;function d(p,q,r,u,v,w,x,y,A){this.nk=p;this.De=q;this.Yi=r;this.Nic=u;this.MA=v;this.YWc=w;this.oNc=y;this.sQ=A;}Object.defineProperty(b,"__esModule",{value:!0});b.TEa=void 0;t=a(22970);n=a(22674);c=a(24747);f=a(7605);g=a(31071);e=a(30650);h=a(62665);k=a(32934);l=a(77687);m=a(15160);a=a(33554);b.TEa=d;b.TEa=d=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.Hga)),t.__param(1,(0,n.v)(k.qz)),t.__param(2,(0,n.v)(f.zz)),t.__param(3,(0,n.v)(e.ceb)),t.__param(4,(0,n.v)(h.iF)),t.__param(5,(0,n.v)(l.tib)),t.__param(6,(0,n.v)(m.nha)),t.__param(7,(0,n.v)(g.peb)),t.__param(8,(0,n.v)(a.iC))],d);},71977:function(t,b,a){var h,k,l;function d(m){return !(!m || !m.VH && !m.pboc || !m.code && !m.code);}function n(m){return !(!m || !m.subCode);}function c(m){return !!(m instanceof Error);}function f(m){switch(m){case "ACCOUNT_ON_HOLD":return k.Y.JZb;case "STREAM_QUOTA_EXCEEDED":return k.Y.SZb;case "INSUFFICICENT_MATURITY":return k.Y.YZb;case "TITLE_OUT_OF_WINDOW":return k.Y.g_b;case "CHOICE_MAP_ERROR":return k.Y.RZb;case "BadRequest":return k.Y.b_b;case "Invalid_SemVer_Format":return k.Y.ZZb;case "RESTRICTED_TO_TESTERS":return k.Y.e_b;case "AGE_VERIFICATION_REQUIRED":return k.Y.PZb;case "BLACKLISTED_IP":return k.Y.QZb;case "DEVICE_EOL_WARNING":return k.Y.BEa;case "DEVICE_EOL_FINAL":return k.Y.xdb;case "INCORRECT_PIN":return k.Y.CEa;case "MOBILE_ONLY":return k.Y.d_b;case "MDX_CONTROLLER_CTICKET_INVALID":return k.Y.c_b;case "VIEWABLE_RESTRICTED_BY_PROFILE":return k.Y.h_b;case "RESET_DEVICE":return k.Y.Adb;case "RELOAD_DEVICE":return k.Y.zdb;case "EXIT_DEVICE":return k.Y.ydb;case "FREE_PREVIEW_ENDED":return k.Y.XZb;case "STREAMING_LOCATION_DISALLOWED":return k.Y.f_b;case "EXTRA_MEMBER_STREAM_HOLD":return k.Y.WZb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return k.Y.VZb;case "ADS_UNAVAILABLE_VIEWABLE":return k.Y.KZb;case "ADS_UNSUPPORTED_DEVICE":return k.Y.NZb;case "ADS_UNSUPPORTED_CLIENT_APP_VERSION":return k.Y.LZb;case "ADS_UNSUPPORTED_COUNTRY":return k.Y.MZb;case "ADS_VPN_USE_DETECTED":return k.Y.OZb;case "LIVE_STREAMING_UNSUPPORTED_DEVICE":return k.Y.a_b;case "LIVE_STREAMING_UNSUPPORTED_APP_VERSION":return k.Y.$Zb;case "CONTENT_PREVIEW_MFA_REQUIRED":return k.Y.TZb;default:return k.Y.t9a;}}function g(m,p){var q;q=f(p.code);return new h.se(m,q,"BadRequest" === p.code?k.Oha.gUb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0,p.alert,p.alertTag,p.playbackContextId,p.displayCode);}function e(m,p){return new h.se(m,p.subCode,p.extCode,void 0,p.NH,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.hra=d;b.o$c=n;b.wL=c;b.N8c=f;b.Xv=function(m,p){return n(p)?e(m,p):d(p)?g(m,p):c(p)?h.se.Uoa(m,p):new h.se(m,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.O8c=g;b.M8c=e;b.m$b=function(m,p,q,r,u){var v,w,x,y;u=void 0 === u?"router":u;v=p.O0a[q];if(void 0 === v)throw {VH:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};w=v.version;if(void 0 === w)throw {VH:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};x=v.service;if(void 0 === x)throw {VH:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};y=v.orgOverride;if(void 0 === y && (y=p.organization,void 0 === y))throw {VH:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return v.isLogsApiDirect?m.Ptb + "/" + y + "/" + x + "/" + encodeURIComponent(w):v.isPlayApiDirect?m.Yrc(r) + "/" + y + "/" + x + "/" + encodeURIComponent(w):m.Frc(r) + "/" + y + "/" + x + "/" + encodeURIComponent(w) + "/" + u;};b.l$b=function(m,p,q,r,u){var v;v=p.O0a[r];if(void 0 === v)throw {VH:!0,code:"FAIL",display:"Unable to build the header map for " + r + " because there was no configuration information",detail:p};r={"Content-Type":"text/plain"};v.isLogsApiDirect && m.jU(u) && (r["content-encoding"]="msl_v1");m=q();p.nmb && m && (r["X-Esn"]=m.ij);return r;};b.qSa=function(m){return (0,l.Ba)(m)?"live/":(0,l.zD)(m)?"linear/":"";};b.gtc=function(m){return (0,l.Ba)(m)?"/live":(0,l.zD)(m)?"/linear":"";};h=a(31149);k=a(36129);l=a(91176);},46303:function(t,b,a){var n,c,f,g,e;function d(h,k,l){this.Na=h;this.platform=k;this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.YEa=void 0;t=a(22970);n=a(22674);c=a(30869);f=a(5021);g=a(91581);a=a(4203);d.prototype.gVc=function(h){var k,l;k=this;l=this.Na.Mg.oa(f.cv);return {inputs:h.oK.map(function(m){var p,q,r,u,v;return {drmSessionId:m.sessionId,clientTime:l,challengeBase64:m.dataBase64,xid:h.Ia.toString(),videoTrackName:h.Vp,platform:null === (p=k.config().Le) || void 0 === p?void 0:p.version,clientVersion:k.platform.version,osVersion:null === (r=null === (q=k.config().Le) || void 0 === q?void 0:q.os) || void 0 === r?void 0:r.version,osName:null === (v=null === (u=k.config().Le) || void 0 === u?void 0:u.os) || void 0 === v?void 0:v.name};}),AVa:"standard" === h.Hi.toLowerCase()?"license":"ldl",yf:h.yf,J:h.J};};e=d;b.YEa=e;b.YEa=e=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.Li)),t.__param(1,(0,n.v)(g.Bt)),t.__param(2,(0,n.v)(a.Ic))],e);},45830:function(t,b,a){var n,c,f;function d(g,e){this.Ok=g;this.Bx=e;}Object.defineProperty(b,"__esModule",{value:!0});b.ZEa=void 0;t=a(22970);n=a(22674);c=a(74870);a=a(2248);d.prototype.pQb=function(g){var e,h;e=this;h=g.map(function(k){return k.links.releaseLicense.href;}).map(function(k){return e.Ok.oua(k.substring(k.indexOf("?") + 1));});return {success:!0,D_:g.map(function(k,l){return {id:k.drmSessionId,DCb:h[l].drmlicensecontextid,ECb:h[l].licenseid};}),bB:g.map(function(k){return {data:e.Bx.decode(k.licenseResponseBase64),sessionId:k.drmSessionId};})};};f=d;b.ZEa=f;b.ZEa=f=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.Bm)),t.__param(1,(0,n.v)(a.om))],f);},30543:function(t,b,a){var n,c,f,g,e,h;function d(k){return g.bj.call(this,k,c.da.TXb) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bFa=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(19114);g=a(51658);e=a(83998);h=a(42933);Ia(d,g.bj);d.prototype.Ue=function(k,l){var m;m=this;return this.send(k,{url:"/" + f.dj.lS,name:f.dj.lS,em:f.dj.lS,zn:1,iN:this.iN},l).then(function(p){return p.result;}).catch(function(p){throw m.Xv(p);});};Ha.Object.defineProperties(d.prototype,{iN:{configurable:!0,enumerable:!0,get:function(){return this.socketRouterConfig.enabled && this.socketRouterConfig.QNb && h.q6.supported;}}});a=d;b.bFa=a;b.bFa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(e.On))],a);},86563:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u;function d(v,w,x,y,A,z){v=g.bj.call(this,v,c.da.BO) || this;v.platform=w;v.Pba=x;v.lzc=y;v.gBc=A;v.bJc=z;return v;}Object.defineProperty(b,"__esModule",{value:!0});b.cFa=void 0;t=a(22970);n=a(72639);c=a(36129);f=a(19114);a(2762);g=a(51658);e=a(83998);h=a(91581);k=a(34231);l=a(17398);m=a(829);p=a(22674);q=a(67658);r=a(41332);u=a(56039);Ia(d,g.bj);d.prototype.ysc=function(v,w){var x,y,A,z,B,C;A=w?f.dj.mzc:f.dj.S;w=w?"licensedManifest":"manifest";z=v.fu === n.Zp.N5;z && (w="prefetch/" + w);B="live" === v.qb.jf;B && (w+="/live");C=!(null === (x=v.ve) || void 0 === x || !x.Yk) || !(null === (y=v.ve) || void 0 === y || !y.fb);C && (w="adBreakHydration" + (B?"/live":""));if(x=!!v.By)A=w="prefetchLiveAds";!v.ys || C || x || (w+="/ad");v=!!v.dw;return {em:w,Dcc:A,zn:z || v?0:3};};d.prototype.Ue=function(v,w){var x,y;x=this;y=w.fu === n.Zp.qja?k.gx.jfb:k.gx.MO;return this.gBc().transform(w,y).then(function(A){var z,B;z=Ea(A);A=z.next().value;B=z.next().value;!1;z=x.ysc(w,"licensedManifest" === B.Zr);return x.send(v,{url:B.Zr,name:z.Dcc,em:z.em,zn:z.zn},A,void 0,y).then(function(C){var D,E,H;D=C.result;x.bJc.forEach(function(F){return F.process(D);});C=x.Pba.create(D);E=C.Aa;if(B.FG){H=E.km.map(function(F){return F.vu;}).filter(Boolean);0 < H.length?(H=x.lzc.pQb(H),E=(0,u.xRa)(E.km[0].streams),B.FG.Ylb(H,E),C.FG=B.FG,C.oUa=!0):B.FG.close();}C.R7=B.R7;C.kga=B.kga;!1;return C;});}).catch(function(A){!1;throw x.Xv(A);});};a=d;b.cFa=a;b.cFa=a=t.__decorate([(0,p.aa)(),t.__param(0,(0,p.v)(e.On)),t.__param(1,(0,p.v)(h.Bt)),t.__param(2,(0,p.v)(l.XV)),t.__param(3,(0,p.v)(m.$Ea)),t.__param(4,(0,p.v)(q.jeb)),t.__param(5,(0,p.optional)()),t.__param(5,(0,p.OH)(r.Nbb))],a);},3035:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w;function d(x,y,A,z,B,C,D,E,H){this.Yi=x;this.platform=y;this.config=A;this.Oac=z;this.yIc=B;this.zu=C;this.t8=D;this.Na=E;this.nA=H;}Object.defineProperty(b,"__esModule",{value:!0});b.eFa=void 0;t=a(22970);n=a(22674);c=a(72639);f=a(4203);g=a(14423);e=a(34029);h=a(67650);k=a(21103);l=a(91581);m=a(30869);p=a(5021);q=a(2492);r=a(7605);u=a(56800);v=a(24735);w=a(17612);d.prototype.transform=function(x,y){var A,z,B,C,D,E,H,F;A=this;z=x.qb;B=Object.assign({},z.bma,z.dr);C={};D=x.J;E=this.config();C[D]={unletterboxed:!!B.preferUnletterboxed || E.jJc};H=this.zu.Spc();F={jf:null === z || void 0 === z?void 0:z.jf};return Promise.all([this.nA.syb(F),this.nA.uyb(F),this.nA.S$(),this.jpc(x.Ia,y),this.Xpc(x),H,(function(){return A.config().Jsb?A.zu.cH().then(function(G){return w.mb.v_(G.my)?"replace":A.config().QCb;}):Promise.resolve(A.config().QCb);})()]).then(function(G){var J,L,K,M,P,I,O,Q,T,U,X,Y,W,Z,ba,ca,da,ia;J=Ea(G);L=J.next().value;K=J.next().value;M=J.next().value;P=J.next().value;G=J.next().value;I=J.next().value;O=J.next().value;J=L.Rpa().concat(K.Rpa()).concat(A.config().$B).concat(["iso_23001_18-dash-live"]).concat(["BIF240","BIF320"]).filter(Boolean);ia="postplay" === z.jf?!0:!!B.isUIAutoPlay;M={type:"standard",manifestVersion:A.Yi.Itb?"v3":A.Yi.Htb?"v2":"v1",viewableId:D,profiles:J,flavor:x.fu,drmType:I,drmVersion:"playready" === I?30:0,usePsshBox:!0,isBranching:!!x.qb.Pg,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().WTc,imageSubtitleHeight:g.iHa.Wxb(),uiVersion:A.Yi.uiVersion,uiPlatform:A.Yi.uiPlatform,clientVersion:A.platform.version,platform:null === (Q=A.config().Le) || void 0 === Q?void 0:Q.version,osVersion:null === (U=null === (T=A.config().Le) || void 0 === T?void 0:T.os) || void 0 === U?void 0:U.version,osName:null === (Y=null === (X=A.config().Le) || void 0 === X?void 0:X.os) || void 0 === Y?void 0:Y.name,supportsPreReleasePin:A.config().Ov.NTc,supportsWatermark:A.config().Ov.OTc,packageId:A.Src(z),videoOutputInfo:M,titleSpecificData:C,preferAssistiveAudio:!!B.assistiveAudioPreferred,preferredTextLocale:B.preferredTextLocale,preferredAudioLocale:B.preferredAudioLocale,isUIAutoPlay:ia,challenge:P,isNonMember:A.Yi.bBb,pin:z.jIb,desiredVmaf:A.config().ORb?A.config().xsb:A.config().ysb,desiredSegmentVmaf:A.config().ORb?A.config().xsb:A.config().ysb,requestSegmentVmaf:A.config().vNc,supportsPartialHydration:A.Yi.bZ,contentPlaygraph:x.qb.Pg?[]:A.Yi.Yma,supportsAdBreakHydration:!0,auxiliaryManifestToken:x.qb.Pg?void 0:null === (W=x.ve) || void 0 === W?void 0:W.Ib,adBreakToken:x.qb.Pg?void 0:null === (Z=x.ve) || void 0 === Z?void 0:Z.Yk,adBreakTriggerId:x.qb.Pg?void 0:null === (ba=x.ve) || void 0 === ba?void 0:ba.fb,originalPlaybackContextId:!x.qb.Pg && (null === (ca=x.ve) || void 0 === ca?0:ca.Ib)?null === (da=x.ve) || void 0 === da?void 0:da.aE:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE",useBetterTextUrls:!0,liveAdsCapability:O,supportsNetflixMediaEvents:!0,cachedAdBreaks:x.m8,occurredAdBreaks:x.By};z.oub && (M.extraParams=z.oub);z.usb && (M.desiredDownloadables=z.usb);z.H_a && (M.requestReference=z.H_a);E.Enb && (M.auxiliaryManifestToken=E.Enb);E.nPb && (M.supportsAdLazyLoading=E.nPb,void 0 !== E.nEb && (M.maxSupportedAdAuxiliaryManifests=E.nEb));E.JQb && (M.uiContext=E.JQb);Q={Zr:M.occurredAdBreaks?"prefetchLiveAds":M.adBreakToken || M.adBreakTriggerId?"adBreakHydration":G?"licensedManifest":"manifest",FG:null === G || void 0 === G?void 0:G.ul,R7:L,kga:K};G && (G={drmSessionId:G.ul.pR() || "session",clientTime:A.Na.pI.oa(p.cv),challengeBase64:G.pMa},M.challenges={"default":[G]},M.profileGroups=[{name:"default",profiles:J}],M.licenseType=x.Hi == v.xr.dJ?"limited":"standard",x.Ia && (M.xid=x.Ia.toString()));A.Yi.bZ || (M.showAllSubDubTracks=A.config().Ov.CRc || !!B.showAllSubDubTracks);A.Yi.Btb && x.fu === c.Zp.qja && (M.maxSupportedLanguages=2);x.AN && (M.originalPlaybackContextId=x.AN.aE,M.requiredAudioTrackId=x.AN.BNc,M.requiredTextTrackId=x.AN.FNc);x.dw && (M.hasCachedManifest=x.dw);x.bxa && (M.stickySteeringToken=x.bxa);return [M,Q];});};d.prototype.Src=function(x){if(this.config().sva.enabled){if(void 0 !== x.Ms)return x.Ms;if(void 0 !== this.config().sva.Ms)return Number(this.config().sva.Ms);}};d.prototype.jpc=function(x,y){var A;A=this;return this.Oac.twb(y).then(function(z){var B;B=x && A.yIc.$rc(x);B && B.xv("cad");return z;});};d.prototype.Xpc=function(x){var y;if(void 0 === x.Hi)return Promise.resolve(void 0);y=x.Hi === v.xr.Er && this.Yi.XC;return x.Hi === v.xr.dJ && this.Yi.IK || y?this.t8.jSa(x.Hi):Promise.resolve(void 0);};a=d;b.eFa=a;b.eFa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(r.zz)),t.__param(1,(0,n.v)(l.Bt)),t.__param(2,(0,n.v)(f.Ic)),t.__param(3,(0,n.v)(e.J6a)),t.__param(4,(0,n.v)(h.EFa)),t.__param(5,(0,n.v)(k.wz)),t.__param(6,(0,n.v)(q.bha)),t.__param(7,(0,n.v)(m.Li)),t.__param(8,(0,n.v)(u.zV))],a);},36642:function(t,b,a){var n,c,f,g,e;function d(h){return g.bj.call(this,h,c.da.i_b) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.fFa=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(19114);g=a(51658);a=a(83998);Ia(d,g.bj);d.prototype.Ue=function(h,k){var l;l=this;return this.send(h,{url:"/" + f.dj.ping,name:f.dj.ping,em:f.dj.ping,zn:1},k).then(function(m){return m.result;}).catch(function(m){throw l.Xv(m);});};e=d;b.fFa=e;b.fFa=e=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.On))],e);},46320:function(t,b,a){var n,c,f,g,e,h;function d(k,l,m,p){this.platform=k;this.config=l;this.t8=m;this.nA=p;}Object.defineProperty(b,"__esModule",{value:!0});b.pFa=void 0;t=a(22970);n=a(22674);c=a(4203);f=a(91581);g=a(2492);e=a(56800);h=a(24735);d.prototype.transform=function(k){var l,m,p;l=this;m=k.qb;p={jf:void 0};return Promise.all([this.nA.syb(p),this.nA.uyb(p),this.t8.jSa(h.xr.Er)]).then(function(q){var r,u;r=Ea(q);q=r.next().value;u=r.next().value;r=r.next().value;return [{viewableId:k.J,packageId:m.Ms,assetId:m.N7,challenge:r.pMa,audioProfiles:q.Rpa(),textProfiles:l.config().$B,trickplayProfiles:["BIF240","BIF320"],videoProfiles:u.Rpa(),audioLanguages:m.K8b,textLanguages:m.vUc,videoLanguages:m.jSb?[m.jSb]:void 0,videoAspectRatios:m.gSb?[m.gSb]:void 0,requestReference:m.H_a,additionalAudioAssets:m.M6b,additionalTextAssets:m.P6b,useBetterTextUrls:!0},{FG:null === r || void 0 === r?void 0:r.ul,Zr:"studioManifest",R7:q,kga:u}];});};a=d;b.pFa=a;b.pFa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.Bt)),t.__param(1,(0,n.v)(c.Ic)),t.__param(2,(0,n.v)(g.bha)),t.__param(3,(0,n.v)(e.zV))],a);},52137:function(t,b,a){var n,c,f,g,e;function d(h){return f.Jo.call(this,h,c.da.Kfb,g.Lo.resume,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.uGa=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(88496);g=a(87607);a=a(83998);Ia(d,f.Jo);e=d;b.uGa=e;b.uGa=e=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.On))],e);},69740:function(t,b,a){var n,c,f,g,e;function d(h){return f.Jo.call(this,h,c.da.qgb,g.Lo.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ZGa=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(88496);g=a(87607);a=a(83998);Ia(d,f.Jo);e=d;b.ZGa=e;b.ZGa=e=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.On))],e);},84860:function(t,b,a){var n,c,f,g,e;function d(h){return f.Jo.call(this,h,c.da.R0b,g.Lo.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.aHa=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(88496);g=a(87607);a=a(83998);Ia(d,f.Jo);e=d;b.aHa=e;b.aHa=e=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.On))],e);},35329:function(t,b,a){var n,c,f,g,e;function d(h){return f.Jo.call(this,h,c.da.Z5,g.Lo.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.eHa=void 0;t=a(22970);n=a(22674);c=a(36129);f=a(88496);g=a(87607);a=a(83998);Ia(d,f.Jo);e=d;b.eHa=e;b.eHa=e=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.On))],e);},85432:function(t,b,a){var n,c,f,g,e,h,k,l;function d(m,p,q){this.performance=m;this.config=q;this.Z7=[];this.log=p.wb("PboBackoffManager");}Object.defineProperty(b,"__esModule",{value:!0});b.PEa=void 0;t=a(22970);n=a(22674);c=a(87386);f=a(63368);g=a(5021);e=a(79542);h=a(81378);k=a(72639);a=a(7605);l=[].concat(za(h.s5a),za(k.t5a));d.prototype.AKc=function(m,p){var q;if(this.config.gPa && (0,e.$Jb)(l,p) && (m=(null !== m && void 0 !== m?m:{})["x-netflix.playapi.backoff"]))try{q=JSON.parse(m);this.sXc(q);this.log.debug("Adding backoff",q);this.Z7.push({$_a:q.retryAfterSeconds,xNc:q.requestTypes,hz:q.viewableIds,n9b:this.performance.now()});}catch(r){}};d.prototype.Xoc=function(m,p){var q,r,u;q=this;if(this.config.gPa){r=this.performance.now();this.Zbc(r);u=this.Z7.filter(function(v){return (0,e.$Jb)(v.xNc,m);}).filter(function(v){return void 0 === v.hz || 0 === v.hz.length || v.hz.includes(p);});if(0 !== u.length){if(m.startsWith("prefetch"))return (this.log.debug("getBackoff: cancelling " + m + " request for " + p),{YX:!0});u=u.map(function(v){return q.dyb(v,r);}).reduce(function(v,w){return 0 < w.Nl(v)?w:v;},(0,g.Zi)(0));this.log.debug("getBackoff: delaying " + m + " request for " + p + " for " + u.oa(g.za) + "ms");return {YX:!1,aOc:u};}}};d.prototype.sXc=function(m){if("number" !== typeof m.retryAfterSeconds)throw Error("retryAfterSeconds is not a number");if(!Array.isArray(m.requestTypes))throw Error("requestTypes is not an array");if(0 === m.requestTypes.length)throw Error("requestTypes is empty");if(!m.requestTypes.every(function(p){return "string" === typeof p;}))throw Error("requestTypes contains a non-string element");if(void 0 !== m.viewableIds){if(!Array.isArray(m.viewableIds))throw Error("viewableIds is not an array");if(!m.viewableIds.every(function(p){return "number" === typeof p;}))throw Error("viewableIds contains a non-number element");}};d.prototype.Zbc=function(m){for(var p=this.Z7.length - 1;0 <= p;)(this.dyb(this.Z7[p],m).DUa() || this.Z7.splice(p,1),--p);};d.prototype.dyb=function(m,p){p=(0,g.ic)(p).ea((0,g.ic)(m.n9b));return (0,g.Zi)(m.$_a).ea(p);};h=d;b.PEa=h;b.PEa=h=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.Kia)),t.__param(1,(0,n.v)(c.zb)),t.__param(2,(0,n.v)(a.zz))],h);},17705:function(t,b,a){var n,c,f,g,e,h,k,l;function d(m,p,q,r){m=c.Tf.call(this,m,"PboConfigImpl") || this;m.config=p;m.t7b=q;m.eg=r;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.UEa=void 0;t=a(22970);n=a(22674);c=a(64174);f=a(83767);g=a(12501);e=a(4203);h=a(24747);k=a(5614);l=a(5021);Ia(d,c.Tf);Ha.Object.defineProperties(d.prototype,{uiVersion:{configurable:!0,enumerable:!0,get:function(){return this.config().Ov.uiVersion || "";}},uiPlatform:{configurable:!0,enumerable:!0,get:function(){return this.config().Ov.uiPlatform || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Ov.sZa;}},bBb:{configurable:!0,enumerable:!0,get:function(){return !1;}},O0a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isLogsApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.t7b.Wnb,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"},prefetchLiveAds:{service:"prefetchLiveAds",isPlayApiDirect:!0,version:"1"},aleProvision:{service:"pbo_tokens",version:"^1.0.0",orgOverride:"nrdjs"}},this.OMb);}},OMb:{configurable:!0,enumerable:!0,get:function(){return {};}},nKb:{configurable:!0,enumerable:!0,get:function(){return !1;}},kTa:{configurable:!0,enumerable:!0,get:function(){return 10;}},nmb:{configurable:!0,enumerable:!0,get:function(){return !1;}},XC:{configurable:!0,enumerable:!0,get:function(){return this.eg.XC;}},IK:{configurable:!0,enumerable:!0,get:function(){return this.eg.IK;}},VU:{configurable:!0,enumerable:!0,get:function(){return this.eg.VU;}},VRb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Btb:{configurable:!0,enumerable:!0,get:function(){return !0;}},NRb:{configurable:!0,enumerable:!0,get:function(){return [];}},Htb:{configurable:!0,enumerable:!0,get:function(){return !0;}},Itb:{configurable:!0,enumerable:!0,get:function(){return !1;}},bZ:{configurable:!0,enumerable:!0,get:function(){return this.eg.bZ;}},Yma:{configurable:!0,enumerable:!0,get:function(){return this.eg.Yma;}},timeout:{configurable:!0,enumerable:!0,get:function(){return (0,l.Zi)(59);}},gPa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=d;b.UEa=a;t.__decorate([g.config(g.string,"uiVersion")],a.prototype,"uiVersion",null);t.__decorate([g.config(g.string,"uiPlatform")],a.prototype,"uiPlatform",null);t.__decorate([g.config(g.cz,"pboVersion")],a.prototype,"version",null);t.__decorate([g.config(g.string,"pboOrganization")],a.prototype,"organization",null);t.__decorate([g.config(g.w2,"pboLanguages")],a.prototype,"languages",null);t.__decorate([g.config(g.qd,"hasLimitedPlaybackFunctionality")],a.prototype,"bBb",null);t.__decorate([g.config(g.object(),"pboCommands")],a.prototype,"O0a",null);t.__decorate([g.config(g.object(),"pboCommandsOverride")],a.prototype,"OMb",null);t.__decorate([g.config(g.qd,"pboRecordHistory")],a.prototype,"nKb",null);t.__decorate([g.config(g.cz,"pboHistorySize")],a.prototype,"kTa",null);t.__decorate([g.config(g.qd,"pboAddXEsnHeader")],a.prototype,"nmb",null);t.__decorate([g.config(g.qd,"combineManifestAndLicense")],a.prototype,"XC",null);t.__decorate([g.config(g.qd,"enableLicensedManifestForPrefetch")],a.prototype,"IK",null);t.__decorate([g.config(g.qd,"useLdlForPrefetchLicensedManifest")],a.prototype,"VU",null);t.__decorate([g.config(g.qd,"pboUseStudioManifest")],a.prototype,"VRb",null);t.__decorate([g.config(g.qd,"pboEnableLeanManifest")],a.prototype,"Btb",null);t.__decorate([g.config(g.qd,"useHeaderForRequestNames")],a.prototype,"NRb",null);t.__decorate([g.config(g.qd,"pboEnableV2OptimizedManifest")],a.prototype,"Htb",null);t.__decorate([g.config(g.qd,"pboEnableV3Manifest")],a.prototype,"Itb",null);t.__decorate([g.config(g.qd,"pboEnableManifestPartialHydrationSupport")],a.prototype,"bZ",null);t.__decorate([g.config(g.w2,"pboContentPlaygraphTypes")],a.prototype,"Yma",null);t.__decorate([g.config(g.ro,"pboTimeout")],a.prototype,"timeout",null);t.__decorate([g.config(g.qd,"enablePboBackoff")],a.prototype,"gPa",null);b.UEa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.Qo)),t.__param(1,(0,n.v)(e.Ic)),t.__param(2,(0,n.v)(h.Hga)),t.__param(3,(0,n.v)(k.lW))],a);},71976:function(t,b,a){var f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D;function d(E){this.config=E;this.vG=[];}function n(E,H,F){this.Xa=E;this.transport=H;this.context=F;this.startTime=this.Xa.yc();}function c(E,H,F,G,J,L,K,M,P,I,O,Q){this.yQb=H;this.json=F;this.Xa=G;this.ZG=J;this.WZa=L;this.Cd=K;this.config=M;this.jc=P;this.receiver=I;this.JYc=O;this.YHb=Q;this.log=E.wb("Pbo");M.nKb && (this.vG=new d(M));this.transport=this.yQb();}Object.defineProperty(b,"__esModule",{value:!0});b.VEa=void 0;t=a(22970);f=a(22674);g=a(5021);e=a(14543);h=a(87386);k=a(63368);l=a(81918);m=a(34231);p=a(10306);q=a(53085);r=a(71977);u=a(7605);v=a(15160);w=a(85001);x=a(19114);y=a(45385);A=a(15348);z=a(91176);B=a(82229);a=a(17391);C={"shakti-":"akira"};c.prototype.send=function(E,H){var F;F=new n(this.Xa,this.transport,E);this.vG && this.vG.append(F);return this.D0a(E,H,F);};c.prototype.D0a=function(E,H,F){var G;G=this;return new Promise(function(J,L){G.retry(E,H).then(function(K){var M,P;G.wPc(K);M=Ea(G.vXc(K));P=M.next().value;M=M.next().value;P && (G.receiver.qva({command:E.Zr,url:E.url,inputs:H,outputs:P}),G.tcc(F),J(K));M && (G.Lpb(F,M),L(M));}).catch(function(K){var M;G.receiver.qva({command:E.Zr,inputs:H,outputs:K,url:E.url});M=G.Lpb(F,K);K.ef && (K.ef=[K.ef," ",M].join(""));L(K);});});};c.prototype.wPc=function(E){(E=E.serverTime) && this.jc.rd(w.nCa.MMb,(0,g.ic)(E));};c.prototype.vXc=function(E){var H;!1;H=E.result;if(("deviceCommand" in E)){E=E.deviceCommand;this.log.trace("Received device command '" + E + "'");switch(E){case "reset":H="RESET_DEVICE";break;case "reload":H="RELOAD_DEVICE";break;case "exit":H="EXIT_DEVICE";break;default:(H="FAIL",this.log.error("Unhandled device command '" + E + "'"));}return [,{VH:!0,code:H,detail:{message:"Server sent device action to '" + E + "' device"}}];}if(H)return (!1,[H,void 0]);if(E.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",E),[,{code:E.code,detail:{message:E.message}}]);this.log.error("Response did not contain a result or an error",E);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};c.prototype.F8b=function(E,H,F){var G,J;G=this;this.TWc(H,E);this.transport=this.yQb(F);return this.transport.send(H,F).then(function(L){J=L.headers;return {retry:!1,$Hb:y.Gia.GHc(G.json,L.body),headers:J};}).catch(function(L){var K,M;J=null !== J && void 0 !== J?J:L.headers;K=G.JYc.Esc(J);M=y.Gia.irc(L,K);M=void 0 !== M?Math.min(M,H.zn):H.zn;return G.Zs(H,L,E,M)?(K=G.kac(K,E,M),G.log.warn("Method failed, retrying",Object.assign({Method:H.Zr,Attempt:E + 1,WaitTime:K,MaxRetries:M},G.bOa(L))),Promise.resolve({retry:!0,delay:K,error:L,headers:J})):Promise.resolve({retry:!1,error:L,headers:J});});};c.prototype.Aoc=function(E){var H,F;if(!this.fKa || this.fKa.NGc !== E){H="";F=E;Object.entries(C).find(function(G){var J;J=Ea(G);G=J.next().value;J=J.next().value;if(0 === E.indexOf(G))return (H=J,E=E.slice(G.length),!0);});this.fKa={Epb:H,uiVersion:E,NGc:F};}return this.fKa;};c.prototype.TWc=function(E,H){var F,G,J,L;L=E.url.searchParams;L.set(x.tC.Wfb,(H + 1).toString());this.config.NRb.includes(E.em)?E.headers[x.s0b.tGa]=E.em:L.set(x.tC.tGa,E.em);L.set(x.tC.Xfb,E.requestId);E.J && L.set(x.tC.KYb,encodeURIComponent(E.J));E=this.Aoc(null !== (F=this.config.uiVersion) && void 0 !== F?F:"");E.Epb && (L.set(x.tC.j7a,E.Epb),E.uiVersion && L.set(x.tC.gib,encodeURIComponent(E.uiVersion)),F=this.ZG.Le,(null === F || void 0 === F?0:F.name) && L.set(x.tC.A6a,encodeURIComponent(F.name)),(null === F || void 0 === F?0:F.version) && L.set(x.tC.B6a,encodeURIComponent(F.version)),(null === (G=null === F || void 0 === F?void 0:F.os) || void 0 === G?0:G.name) && L.set(x.tC.ldb,encodeURIComponent(F.os.name)),(null === (J=null === F || void 0 === F?void 0:F.os) || void 0 === J?0:J.version) && L.set(x.tC.mdb,encodeURIComponent(F.os.version)));};c.prototype.retry=function(E,H,F){var G,J;G=this;F=void 0 === F?0:F;if(void 0 !== E.J){J=this.YHb.Xoc(E.em,E.J);if(J){if(J.YX)throw {pboc:!1,code:"FAIL",detail:{message:"The request is cancelled because of the backoff"}};return this.wait(E.RJ,J.aOc).then(function(){return G.retry(E,H,F);});}}return this.F8b(F++,E,H).then(function(L){G.receiver.qva({command:E.Zr + "-attempt",inputs:H,outputs:L,url:E.url});G.YHb.AKc(L.headers,E.em);if(L.retry)return G.wait(E.RJ,L.delay).then(function(){return G.retry(E,H,F);});if(L.error)throw L.error;if(void 0 === L.$Hb)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return L.$Hb;});};c.prototype.Zs=function(E,H,F,G){var J;J=y.Gia.Kxc(H);if(J && F < G)return !0;J?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:E.Zr,Attempt:F + 1,MaxRetries:G},this.bOa(H))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:E.Zr},this.bOa(H)));return !1;};c.prototype.kac=function(E,H,F){E=null === E || void 0 === E?void 0:E.$_a;if(void 0 !== E)return (0,g.Zi)(E);E=1E3 * (0 === H?1:H);H=1E3 * Math.pow(2,Math.min(H,F));return (0,g.ic)(this.WZa.RJb(E,H));};c.prototype.wait=function(E,H){var F,G;F=this;G=new Promise(function(J){F.Cd.Zq(H || g.ia,J);});return E?(0,z.PJb)(E,G,!0):G;};c.prototype.bOa=function(E){return (0,r.hra)(E)?E:{message:E.message,subCode:E.subCode,extCode:E.extCode,mslCode:E.NH,data:E.data};};c.prototype.tcc=function(E){E.A2();};c.prototype.Lpb=function(E,H){var F;E.Vd(H);if(this.vG)try{F=this.json.stringify(this.vG);this.log.error("PBO command history",F);return F;}catch(G){}return "";};D=c;b.VEa=D;b.VEa=D=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(h.zb)),t.__param(1,(0,f.v)(e.$hb)),t.__param(2,(0,f.v)(k.PV)),t.__param(3,(0,f.v)(l.ie)),t.__param(4,(0,f.v)(m.xt)),t.__param(5,(0,f.v)(p.dja)),t.__param(6,(0,f.v)(q.Dl)),t.__param(7,(0,f.v)(u.zz)),t.__param(8,(0,f.v)(v.FBa)),t.__param(9,(0,f.v)(A.Jia)),t.__param(10,(0,f.v)(B.cjb)),t.__param(11,(0,f.v)(a.Zdb))],D);n.prototype.A2=function(){this.success=!0;this.elapsedTime=this.Xa.yc().ea(this.startTime);};n.prototype.Vd=function(E){this.success=!1;this.elapsedTime=this.Xa.yc().ea(this.startTime);this.wTc=E.subCode || E.subCode;this.dmc=E.extCode || E.extCode;};n.prototype.toString=function(){return JSON.stringify(this);};n.prototype.toJSON=function(){var E;E=Object.assign({success:this.success,method:this.context.Zr,startTime:this.startTime.oa(g.za),elapsedTime:this.elapsedTime?this.elapsedTime.oa(g.za):"in progress"},this.transport.iNa());return this.success?E:Object.assign(Object.assign(Object.assign({},E),this.transport.iNa()),{subcode:this.wTc,extcode:this.dmc});};d.prototype.append=function(E){this.vG.push(E);0 < this.config.kTa && this.vG.length > this.config.kTa && this.vG.shift();};d.prototype.toJSON=function(){return this.vG;};},45385:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.Gia=void 0;n=a(36129);d.Kxc=function(c){var f,g;f=c && c.code;g=c && (c.Ua || c.subCode);c=c.extCode !== n.Oha.Xdb;g=!!g && g >= n.Y.c5 && g <= n.Y.Z4 && c;return !("RETRY" !== f && "FAIL" !== f) || g;};d.irc=function(c,f){f=null === f || void 0 === f?void 0:f.X_;return void 0 !== f?f:"FAIL" === (null === c || void 0 === c?void 0:c.code)?1:void 0;};d.GHc=function(c,f){var g;if(f){try{g=c.parse(f);}catch(e){throw {VH:!0,code:"FAIL",message:"Unable to parse the response body",data:f};}if(g.error)throw g.error;if(g.result){if(Array.isArray(g.result) && (c=g.result.find(function(e){return e.error;})))throw c.error;return g;}throw {VH:!0,code:"FAIL",message:"There is no result property on the response"};}throw {VH:!0,code:"FAIL",message:"There is no body property on the response"};};b.Gia=d;},23632:function(t,b,a){var n,c,f;function d(g,e){this.sQ=e;this.log=g.wb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.aFa=void 0;t=a(22970);n=a(22674);c=a(87386);a=a(33554);d.prototype.BKa=function(g){g && (!1,this.links=Object.assign(Object.assign({},this.links),g));};d.prototype.QZ=function(g){!1;return this.links[g];};f=d;b.aFa=f;b.aFa=f=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.zb)),t.__param(1,(0,n.v)(a.iC))],f);},17108:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.nFa=void 0;t=a(22970);a=a(22674);d.prototype.oQc=function(c){this.listener=c;};d.prototype.qva=function(c){var f;null === (f=this.listener) || void 0 === f?void 0:f.call(this,c);};n=d;b.nFa=n;b.nFa=n=t.__decorate([(0,a.aa)()],n);},91918:function(t,b,a){var c,f;function d(g,e,h,k,l,m,p){this.version=g;this.url=e;this.id=h;this.languages=k;this.Cb=l;this.yjc=m;this.uDc=p;}function n(g){this.Yi=g;}Object.defineProperty(b,"__esModule",{value:!0});b.oFa=void 0;t=a(22970);c=a(22674);a=a(7605);n.prototype.create=function(g,e,h,k,l){return new d(this.Yi.version,e,g,this.Yi.languages,h,k,l);};f=n;b.oFa=f;b.oFa=f=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(a.zz))],f);d.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Cb,echo:this.yjc};};},97361:function(t,b,a){var n,c;function d(f){this.log=f.wb("ZuulRetryPolicyParser");}Object.defineProperty(b,"__esModule",{value:!0});b.$Ha=void 0;t=a(22970);n=a(22674);a=a(87386);d.prototype.Esc=function(f){var g,e;try{g=f["x-netflix.retry.server.policy"];if(g){e=JSON.parse(g);this.wXc(e);return {$_a:e.retryAfterSeconds,X_:e.maxRetries};}}catch(h){!1;}};d.prototype.wXc=function(f){if(void 0 !== f.retryAfterSeconds && "number" !== typeof f.retryAfterSeconds)throw Error("retryAfterSeconds is not a number");if(void 0 !== f.maxRetries && "number" !== typeof f.maxRetries)throw Error("maxRetries is not a number");};c=d;b.$Ha=c;b.$Ha=c=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.zb))],c);},5652:function(t,b,a){var d,n,c,f,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;t=a(22674);d=a(70865);n=a(14543);c=a(60204);f=a(89146);g=a(74429);e=a(34231);b.transports=new t.Ce(function(h){h(d.Ija).to(g.wHa).sa();h(n.Ccb).to(c.eEa);h(n.dhb).to(f.$Ga);h(n.$hb).$f(function(k){return function(l){var m;return k.Jb.get(d.Ija).jU(null !== (m=null === l || void 0 === l?void 0:l.uDc) && void 0 !== m?m:e.gx.MO)?k.Jb.get(n.Ccb):k.Jb.get(n.dhb);};});});},14543:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$hb="TransportFactorySymbol";b.Ccb="MslTransportSymbol";b.dhb="SslTransportSymbol";},70865:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ija="TransportConfigSymbol";},60204:function(t,b,a){var n,c,f,g,e,h;function d(k,l,m){var p;p=this;this.gM=l;this.profile=m;this.log=k.wb("MslTransport");this.gM().then(function(q){return p.Vsa=q;});}Object.defineProperty(b,"__esModule",{value:!0});b.eEa=void 0;t=a(22970);n=a(22674);c=a(87386);f=a(97996);g=a(5021);a=a(71501);e={license:!0};d.prototype.send=function(k,l){var m,p;m=this;p={fM:Object.assign({De:k.De,log:k.log,profile:this.profile},k.FLa),method:k.Zr,url:k.url.href,body:JSON.stringify(l),timeout:k.timeout.oa(g.za),W3a:this.profile,RKb:!e[k.Zr],fXa:!!e[k.Zr],Ox:!0,TT:k.zn,headers:k.headers};!1;return this.gM().then(function(q){return q.send(p).catch(function(r){var u;if(!r.error)throw (r.subCode=r.Ua || r.subCode,r);u=r.error;u.headers=r.headers;m.log.error("Error sending MSL request",{mslCode:u.NH,subCode:u.subCode,data:u.data,message:u.message});throw u;});});};d.prototype.iNa=function(){var k;return {userTokens:null === (k=this.Vsa) || void 0 === k?void 0:k.BS.FSa()};};h=d;b.eEa=h;b.eEa=h=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.zb)),t.__param(1,(0,n.v)(f.F5)),t.__param(2,(0,n.v)(a.NO))],h);},89146:function(t,b,a){var n,c,f,g;function d(e,h){this.De=h;this.log=e.wb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.$Ga=void 0;t=a(22970);n=a(22674);c=a(5021);f=a(87386);a=a(32934);d.prototype.send=function(e,h){var k,l;k=this;l={url:e.url.href,BK:"nq-" + e.Zr,RIb:JSON.stringify(h),Vma:e.timeout.oa(c.za),headers:e.headers,withCredentials:!0,Mw:"pbo"};!1;return new Promise(function(m,p){k.De.download(l,function(q){q.success?m(q):p(q);});}).then(function(m){return {body:m.content,headers:m.headers};}).catch(function(m){var p;if(!m.error)throw (m.subCode=m.Ua || m.subCode,m);p=m.error;p.headers=m.headers;k.log.error("Error sending SSL request",{subCode:p.subCode,data:p.content,message:p.message});throw p;});};d.prototype.iNa=function(){return {};};g=d;b.$Ga=g;b.$Ga=g=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.zb)),t.__param(1,(0,n.v)(a.qz))],g);},74429:function(t,b,a){var n,c,f,g,e;function d(h){return c.Tf.call(this,h,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.wHa=void 0;t=a(22970);n=a(22674);c=a(64174);f=a(83767);g=a(12501);e=a(34231);Ia(d,c.Tf);d.prototype.jU=function(h){var k,l;k=this.d3;l=this.Dmb;switch(h){case e.gx.MO:return k;case e.gx.jfb:return k && !l;case e.gx.Ycb:return !1;}};Ha.Object.defineProperties(d.prototype,{d3:{configurable:!0,enumerable:!0,get:function(){return !0;}},Dmb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=d;b.wHa=a;t.__decorate([g.config(g.qd,"usesMsl")],a.prototype,"d3",null);t.__decorate([g.config(g.qd,"allowRequestsWithoutMsl")],a.prototype,"Dmb",null);b.wHa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.Qo))],a);},75236:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kja="UserAgentDataProviderSymbol";b.vib="UserAgentDataAsyncProviderSymbol";},92623:function(t,b,a){var e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B;function d(C,D,E){this.vd=C;this.groups=D;this.FJ=E;C=v(C,D,E);this.info=C.info.bind(C);this.fatal=C.fatal.bind(C);this.error=C.error.bind(C);this.warn=C.warn.bind(C);this.trace=C.trace.bind(C);this.debug=C.debug.bind(C);this.log=C.log.bind(C);}function n(){}function c(){}function f(){return u?u:"0.0.0.0";}function g(C){C({Wbd:0,ded:0,N9c:0,q8c:0});}e=a(90745);n.prototype.set=function(C,D){l[C]=D;m.save(C,D);};n.prototype.get=function(C,D){if(l.hasOwnProperty(C))return l[C];r.trace("key: " + C + ", is not available in storage cache and needs to be retrieved asynchronously");m.load(C,function(E){E.success?(l[C]=E.data,D && D(E.data)):l[C]=void 0;});};n.prototype.remove=function(C){m.remove(C);};n.prototype.clear=function(){r.info("WARNING: Calling unimplemented function Storage.clear()");};c.prototype.now=function(){return p();};c.prototype.ha=function(){return q();};c.prototype.Ssa=function(C){return C + p() - q();};c.prototype.Cta=function(C){return C + q() - p();};d.prototype.krb=function(C){var D;D=[];this.FJ && Array.isArray(this.FJ)?D.push.apply(D,za(this.FJ)):this.FJ && D.push(this.FJ);D.push(C);return new d(this.vd,this.groups,D);};Ha.Object.defineProperties(d.prototype,{prefix:{configurable:!0,enumerable:!0,get:function(){return Array.isArray(this.FJ)?this.FJ.join(" "):this.FJ;}}});w=(function(){var C;C=Promise;C.prototype.fail=Promise.prototype.catch;return C;})();t.exports=function(C){h=C.Gua;v=C.gn;m=C.storage;l=C.bS;p=C.Erc;q=C.getTime;r=C.V7b;x=C.Bl;B=C.wm;y=C.h4;A=C.SourceBuffer;z=C.MediaSource;u=C.k$c;k=C.aD;return {name:"cadmium",aD:k,Gua:h,storage:new n(),Storage:n,time:new c(),events:new e.EventEmitter(),console:new d("JS-ASE",void 0,"default"),Console:d,options:{},Promise:w,Bl:x,h4:y,U1c:A,MediaSource:z,wm:B,UD:{name:f},memory:{g9c:g},SZ:C.SZ,ona:C.ona,xK:C.xK,goa:C.goa,ping:function(D){fetch(D).catch(function(){});}};};},87141:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t.exports=function(a){return {minInitVideoBitrate:a.uy,maxInitVideoBitrate:a.gB,minInitAudioBitrate:a.ty,maxInitAudioBitrate:a.yu,minAllowedVideoBitrate:a.zS,maxAllowedVideoBitrate:a.Tba,switchableAudioProfiles:a.Pp,switchableAudioProfilesOverride:a.yI,minAcceptableVideoBitrate:a.yS,minRequiredBuffer:a.vy,minPrebufSize:a.Ap,minCheckBufferingCompleteInterval:a.lca,rebufferingFactor:a.Cda,useMaxPrebufSize:a.bga,maxPrebufSize:a.OD,maxRebufSize:a.Zba,maxBufferingTime:a.Gs,minAudioMediaRequestSizeBytes:a.Isa,minVideoMediaRequestSizeBytes:a.Msa,initialBitrateSelectionCurve:a.oL,throughputPercentForAudio:a.BU,bandwidthMargin:a.b8,bandwidthMarginContinuous:a.c8,bandwidthMarginCurve:a.d8,conservBandwidthMargin:a.G8,switchConfigBasedOnInSessionTput:a.nfa,conservBandwidthMarginTputThreshold:a.I8,conservBandwidthMarginCurve:a.H8,maxTotalBufferLevelPerSession:a.rS,skipBitrateInUpswitch:a.Sea,watermarkLevelForSkipStart:a.sga,highStreamRetentionWindow:a.raa,lowStreamTransitionWindow:a.Fba,highStreamRetentionWindowUp:a.taa,lowStreamTransitionWindowUp:a.Hba,highStreamRetentionWindowDown:a.saa,lowStreamTransitionWindowDown:a.Gba,highStreamInfeasibleBitrateFactor:a.qaa,lowestBufForUpswitch:a.eB,lockPeriodAfterDownswitch:a.jS,lowWatermarkLevel:a.Jba,lowestWaterMarkLevel:a.fB,lowestWaterMarkLevelBufferRelaxed:a.Lba,mediaRate:a.tS,maxTrailingBufferLen:a.GH,audioBufferTargetAvailableSize:a.P7,videoBufferTargetAvailableSize:a.hga,fastUpswitchFactor:a.tZ,fastDownswitchFactor:a.S9,maxMediaBufferAllowed:a.FH,simulatePartialBlocks:a.Pwa,considerConnectTime:a.J8,connectTimeMultiplier:a.F8,maxNetworkErrorsDuringBuffering:a.tsa,maxBufferingTimeAllowedWithNetworkError:a.Uba,locationStatisticsUpdateInterval:a.Bba,probeServerWhenError:a.ZH,allowSwitchback:a.KP,probeDetailDenominator:a.eva,maxDelayToReportFailure:a.W_,maxActiveRequestsSABCell100:a.msa,headerRequestSize:a.naa,estimateHeaderSize:a.lZ,minBufferLenForHeaderDownloading:a.i0,pipelineEnabled:a.Rq,maxParallelConnections:a.usa,socketReceiveBufferSize:a.K1a,audioSocketReceiveBufferSize:a.S7,videoSocketReceiveBufferSize:a.mga,headersSocketReceiveBufferSize:a.rqa,aseReportDenominator:a.Av,aseReportIntervalMs:a.$z,prebufferTimeLimit:a.j1,penaltyFactorForLongConnectTime:a.xua,longConnectTimeThreshold:a.csa,additionalBufferingLongConnectTime:a.rla,additionalBufferingPerFailure:a.sla,rebufferCheckDuration:a.x1,enableOCSideChannel:a.GQ,OCSCBufferQuantizationConfig:a.fW,defaultHeaderCacheSize:a.una,defaultHeaderCacheDataPrefetchMs:a.tna,networkFailureResetWaitMs:a.bta,networkFailureAbandonMs:a.ata,maxThrottledNetworkFailures:a.$ba,throttledNetworkFailureThresholdMs:a.vfa,lowThroughputThreshold:a.dsa,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.soa,requireAudioStreamToEncompassVideo:a.PT,enableManagerDebugTraces:a.fPa,netIntrStoreWindow:a.uFb,minNetIntrDuration:a.QEb,fastHistoricBandwidthExpirationTime:a.Eub,bandwidthExpirationTime:a.Mnb,failureExpirationTime:a.Aub,expandDownloadTime:a.iub,ignoreShortResponses:a.xqa,minimumMeasurementTime:a.Psa,minimumMeasurementBytes:a.Osa,probingMeasurementTime:a.hva,probingMeasurementBytes:a.gva,historicBandwidthUpdateInterval:a.xzb,ase_stream_selector:a.inb,liveStreamSelectorAlgorithm:a.vba,jointStreamSelectorEnabled:a.iba,enableFilters:a.ztb,filterDefinitionOverrides:a.Mub,defaultFilter:a.esb,secondaryFilter:a.eMb,defaultFilterDefinitions:a.hOa,bufferingSelectorAlgorithm:a.l8,ase_dump_fragments:a.lna,ase_location_history:a.nna,secondThroughputEstimator:a.mwa,marginPredictor:a.lsa,networkMeasurementGranularity:a.fta,maxIQRSamples:a.qWa,minIQRSamples:a.JWa,periodicHistoryPersistMs:a.bda,saveBitrateMs:a.nea,needMinimumNetworkConfidence:a.Xsa,biasTowardHistoricalThroughput:a.ima,maxFastPlayBufferInMs:a.qsa,minAudioMediaRequestDuration:a.jB,minVideoMediaRequestDuration:a.QD,minAudioMediaRequestDurationCache:a.jB,minVideoMediaRequestDurationCache:a.QD,addHeaderDataToNetworkMonitor:a.ila,hindsightDenominator:a.gTa,hindsightDebugDenominator:a.fTa,hindsightParam:a.hTa,minimumTimeBeforeBranchDecision:a.sca,maxNumSessionHistoryStored:a.Yba,minSessionHistoryDuration:a.pca,waitForDrmToAppendMedia:a.rya,forceAppendHeadersAfterDrm:a.Poa,startMonitorOnLoadStart:a.Xwa,reportFailedRequestsToNetworkMonitor:a.Kva,maxActiveRequestsPerSession:a.U_,limitAudioDiscountByMaxAudioBitrate:a.Mra,appendFirstHeaderOnComplete:a.Fla,applyProfileTimestampOffset:a.cK,profileTimestampOffsets:a.tda,applyProfileStreamingOffset:a.Th,mediaSourceSupportsNegativePts:a.hca,requireDownloadDataAtBuffering:a.aea,requireSetupConnectionDuringBuffering:a.bea,selectStartingVMAFMethod:a.aN,activateSelectStartingVMAF:a.gX,minStartingVideoVMAF:a.pw,minAcceptableVMAF:a.xS,minAllowedVmaf:a.MH,enableCombinedPlaygraphs:a.CQ,enableAdPlaygraphs:a.hD,enableLiveProgramPlaygraphs:a.oA,enableLiveProgramPlaygraphsForLinear:a.$Y,enableLiveAdPlaygraphs:a.EQ,retainSbrOnFade:a.Q1,excludedContentPlaygraphIds:a.Q9,enableDiscontiguousBuffering:a.XY,forceImmediateTransitionTypeForTitles:a.g$,forceImmediateTransitionExitZone:a.f$,useBufferSizeLimiter:a.MI,maxAllowedOutstandingRequests:a.V_,minStreamableConcurrencyWindow:a.qca,streamableConcurrencyFactor:a.dfa,bufferingConcurrencyWindow:a.VP,enableResolutionVMAFStreamFilter:a.eZ,resolutionVMAFCappingRuleList:a.N1,percentCapTitlesForResolutionVMAFStreamFilter:a.$ca,useExitZones:a.aga,perFragmentVMAFConfig:a.ZS,paddingDurationMs:a.iua,paddingMediaType:a.jua,paddingCodecSelector:a.US,supportsPtsChanged:a.s2a,ciPredictorSource:a.Hma,experimentalFilter:a.jub,simulationDurationStrategy:a.Qwa,pipelineHealthThresholdCriticalMs:a.Cua,pipelineHealthThresholdLowMs:a.Dua,enableRequestAbandonment:a.HQ,requestAbandonmentLockIntervalMs:a.Uda,streamModeAppendAttachThreshold:a.jxa,minProbeIntervalMs:a.nca,enableUnifiedSideChannel:a.JK,liveEdgeCushion:a.Pra,enableLive504Handling:a.doa,liveStreamSelectorUseLatency:a.wba,latencyMultiplierForLive:a.Fra,liveLowQualityAvoidance:a.Sra,liveLowQualityThreshold:a.uba,liveLowQualityMultiplier:a.L_,liveBufferRatioStrategy:a.Nra,liveMaxUpswitchSteps:a.Tra,enableConditionalServerTimeUpdate:a.aoa,negligibleServerTimeDeltaDifference:a.Zsa,liveSwitchStreamsOnErrorInPipeline:a.Yra,enableMissingSegmentsReplacement:a.FQ,simulateLiveEdge:a.lU,liveShouldAccountForPlayDelay:a.GVa,livePrefetchEnabled:a.Vra,livePrefetchEnabledForStickySteering:a.Wra,decryptOCSideChannelMinInterval:a.FY,decryptOCSideChannelMinIntervalAfterCompleted:a.sna,enableLiveOCSideChannelRefresh:a.ZY,liveOCSideChannelRefreshInterval:a.M_,liveRequestSpreadMs:a.Xra,liveConsiderSpreadInCushion:a.CVa,enableTwoPartLiveFragmentEditing:a.foa,liveSlowBufferFilling:a.hS,liveEarlyRequestProbability:a.Ora,liveEarlyRequestDefaultOffsetMs:a.tba,supportLiveIdrMismatch:a.B2,synthesizeLiveIdrMismatch:a.F2,alwaysRetainAds:a.G7,enableMediaEventsTrack:a.cZ,liveAdManifestWindowMs:a.xH,liveAdManifestWindowAllowanceMs:a.cS,syntheticAdBreakUx:a.pfa,enableMediaEventHistory:a.D9,enableLiveAdBreakReportingEvents:a.DQ,enableBlackBoxNotification:a.GK,minimumPresentationDelayMs:a.nl,liveEdgeSegmentSkipCount:a.eS,probeBeforeSwitchingBackToPrimary:a.pda,minIntervalForSwitchingBackToPrimary:a.j0,maxIntervalForSwitchingBackToPrimary:a.Vba,enableLiveRequestPacing:a.aZ,logarithmicRequestPacingCurveCenterPositionMs:a.Q_,logarithmicRequestPacingCurveSharpness:a.R_,maxLiveTargetBufferDurationMs:a.XL,enableSvodRequestPacing:a.F9,minSvodTargetBufferDurationMs:a.l0,svodBufferGrowthRateSlope:a.C2,enableCprVideo:a.IG,enableCprVideoNonPipelined:a.A9,enableInitialThroughputHistory:a.YY,enableActiveRequestsInFilters:a.WY};};},31594:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L,K,M,P,I;Object.defineProperty(b,"__esModule",{value:!0});b.rAc=function(O){O.load(d.YC,h.CU,n.qDb,k.nA,c.cFb,f.ba,g.nSb,e.zzb,l.storage,m.TP,p.qob,q.KDb,r.gM,u.ip,v.logblobs,w.zFb,x.Qvb,y.CJb,A.gT,z.itb,B.ptb,C.Rf,D.og,E.bb,H.lFb,F.XHb,G.j,J.Upb,L.transports,K.KD,M.Ih,P.qnb,I.S);};d=a(28131);n=a(38385);c=a(56371);f=a(33194);g=a(36149);e=a(75950);h=a(40076);k=a(51259);l=a(62945);m=a(66393);p=a(6498);q=a(51770);r=a(7826);u=a(82656);v=a(21009);w=a(30698);x=a(63341);y=a(32754);A=a(72614);z=a(1891);B=a(49594);C=a(28838);D=a(99584);E=a(92692);H=a(12653);F=a(31360);G=a(65945);J=a(18880);L=a(5652);K=a(43367);M=a(87886);P=a(87284);I=a(81737);},83989:function(t,b,a){var d,n,c,f,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.md=void 0;t=a(22674);d=a(71501);n=a(88351);c=a(49594);f=a(83810);g=a(51120);e=a(31594);a=a(99198);b.md=new t.fha({mU:!0});(0,e.rAc)(b.md);b.md.load(n.platform);b.md.load(f.config);c.UY.load(g.qtb);b.md.load(a.Omb);b.md.load(a.profile);b.md.bind(d.Z$a).Sp(b.md);},76892:function(t,b,a){var c,f,g,e,h,k;function d(){}function n(){}Object.defineProperty(b,"__esModule",{value:!0});b.GHa=b.HHa=void 0;t=a(22970);g=a(22674);a=a(22365);e={FD:!1,reason:"uninitialized"};h={FD:!1,reason:"uninitialized"};k=null === (f=null === (c=null === a.zg || void 0 === a.zg?void 0:a.zg.userAgentData) || void 0 === c?void 0:c.getHighEntropyValues) || void 0 === f?void 0:f.call(c,["architecture","platformVersion"]);null === k || void 0 === k?void 0:k.then(function(l){var m;m=l.architecture;e=m?{FD:!0,architecture:m}:{FD:!1,reason:"undefined"};h=(l=l.platformVersion)?{FD:!0,version:l}:{FD:!1,reason:"undefined"};}).catch(function(){e={FD:!1,reason:"exception"};h={FD:!1,reason:"exception"};});Ha.Object.defineProperties(n.prototype,{architecture:{configurable:!0,enumerable:!0,get:function(){return e;}},platformVersion:{configurable:!0,enumerable:!0,get:function(){return h;}}});c=n;b.HHa=c;b.HHa=c=t.__decorate([(0,g.aa)()],c);Ha.Object.defineProperties(d.prototype,{architecture:{configurable:!0,enumerable:!0,get:function(){return Promise.resolve().then(function(){return null === k || void 0 === k?void 0:k.then(function(l){return l.architecture;});});}},platformVersion:{configurable:!0,enumerable:!0,get:function(){return Promise.resolve().then(function(){return null === k || void 0 === k?void 0:k.then(function(l){return l.platformVersion;});});}}});c=d;b.GHa=c;b.GHa=c=t.__decorate([(0,g.aa)()],c);},25066:function(t,b,a){var d,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});b.tpc=function(e){return Object.assign(Object.assign({},(0,g.w$)()),{Px:e.mBb?"T":e.jra?"Q":e.Oaa?"C":"M",bu:e.mBb?"NFCDTS-01-":e.jra?"NFCDQS-01-":e.VA?"NFCDCH-02-":e.AD?"NFCDCH-MC-":e.Oaa?"NFCDCH-01-":e.Rqa?"NFCDCH-AP-":e.Maa?"NFCDCH-AT-":e.OR?"NFCDCH-PH-":"NFCDCH-LX-",AK:e.Oaa?"chromeos-cadmium":"chrome-cadmium"});};b.rpc=function(e){var h,k,l,m,p,q;h=(0,g.v$)();k=Object.assign(Object.assign({},h),{XC:!0,IK:!0,VU:!0});l=[c.H.aJ];m=[c.H.EV];p={minimumCores:3};q={minimumCores:5};e.VA && (k.ki=[].concat(za((0,f.Dy).apply(null,[h.ki].concat(za(l)))),za((0,f.Nf)([c.H.Ww,c.H.Yw,c.H.SN,c.H.TN].concat(za(l),[c.H.$w,c.H.bx,c.H.UN,c.H.VN]),q))),k.Sj=[].concat(za((0,f.Dy).apply(null,[h.Sj].concat(za(m)))),za((0,f.Nf)([c.H.Vw,c.H.Xw].concat(za(m),[c.H.Zw,c.H.ax]),q))),115 <= e.Fv && (k.ki=[].concat(za(k.ki),za((0,f.Nf)([].concat(za(c.xc.S3),za(c.xc.sV),za(c.xc.rV),za(c.xc.qV),za(c.xc.pV)))))));e.AD && (k.ki=[].concat(za((0,f.Dy).apply(null,[h.ki].concat(za(l)))),za((0,f.Nf)([c.H.Ww,c.H.Yw,c.H.SN,c.H.TN].concat(za(l),[c.H.$w,c.H.bx,c.H.UN,c.H.VN]),p))),k.Sj=[].concat(za((0,f.Dy).apply(null,[h.Sj].concat(za(m)))),za((0,f.Nf)([c.H.Vw,c.H.Xw].concat(za(m),[c.H.Zw,c.H.ax]),p))));e.Oaa && (k.ki=(0,f.Nf)([].concat(za(c.xc.s3),za(c.xc.S3),za(c.xc.rV),za(c.xc.sV),za(c.xc.pV),za(c.xc.qV))),k.Sj=(0,f.Nf)([].concat(za(c.xc.r3),za(c.xc.Yga),za(c.xc.Xga),za(c.xc.Zga))));e.pUa && (k.ki=[].concat(za((0,f.Dy).apply(null,[h.ki].concat(za(l)))),za((0,f.Nf)([c.H.Ww,c.H.Yw].concat(za(l),[c.H.$w,c.H.bx]),q))),k.Sj=[].concat(za((0,f.Dy).apply(null,[h.Sj].concat(za(m)))),za((0,f.Nf)([c.H.Vw,c.H.Xw].concat(za(m),[c.H.Zw,c.H.ax]),q))));e.jra && (k.gK=(0,f.Nf)([c.Pc.Mo,c.Pc.gF,c.Pc.Ro,c.Pc.fO,c.Pc.gO,c.Pc.hO]),k.ki=(0,f.Nf)([].concat(za(c.xc.s3),za(c.xc.S3),za(c.xc.rV),za(c.xc.sV),za(c.xc.pV),za(c.xc.qV),za(c.xc.Pza))),k.Sj=(0,f.Nf)([].concat(za(c.xc.r3),za(c.xc.Yga),za(c.xc.Xga),za(c.xc.Zga))));return k;};b.spc=function(e){var h;h={droppedFrameRateFilterEnabled:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:d.Lr.wV,preciseSeeking:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,useEncryptedEvent:!1,applyProfileStreamingOffset:!0,applyProfileTimestampOffset:!0};80 <= e.Fv && (h=Object.assign(Object.assign({},h),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));e.Maa && (h=Object.assign(Object.assign({},h),{enableFullHdForHWDRM:!0}));e.Oaa && (h=Object.assign(Object.assign({},h),{enableHWDRM:!1,enableHwdrmOnArm:!0,prepareLdlCacheMaxCount:15,enableFullHdForHWDRM:!0,enableAvcHighHwdrm:!0,enableHevcPrkHwdrm:!0}),89 <= e.Fv && (h=Object.assign(Object.assign({},h),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));115 <= e.Fv && e.VA && (h=Object.assign(Object.assign({},h),{enableHWDRM:!0,enableAvcHighHwdrm:!0,enableHevcPrkHwdrm:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0,microsoftHwdrmRequiresHevc:!0,microsoftHwdrmRequiresQHD:!0,enableKeySystemRestrictor:!0,enableCachedErrors:!0,enableHEVC:!0,enableHdcp:!0,enableHDR:!0,validateKeySystemAccess:!0,keySystemList:[n.mb.Wc,n.mb.Qja],logKeySystemHasHwdrmAvailable:!0,enableNonSeamlessTransitions:!0,playreadySegmentTypesRequiringNonSeamlessTransitions:["paddingToContent","paddingToAd","contentToAd","adToContent"]}));if(e.VA || e.AD)h=Object.assign(Object.assign({},h),{enableFullHdForSWDRM:!0});e.VA && 99 <= e.Fv && (h=Object.assign(Object.assign({},h),{enableAV1:!0}));e.AD && 113 <= e.Fv && (h=Object.assign(Object.assign({},h),{enableAV1:!0}));e.pUa && 113 <= e.Fv && (h=Object.assign(Object.assign({},h),{enableAV1:!0}));(e.AD || e.VA) && 113 <= e.Fv && (h=Object.assign(Object.assign({},h),{enableXHEAAC:!0}));e.jra && (h=Object.assign(Object.assign({},h),{enableHWDRM:!0,prepareCadmium:!1,prepareLdlCacheMaxCount:10,enableFullHdForHWDRM:!0,enableSeamless:!1,enableDDPlus51:!0,enableDDPlusAtmos:!0}));return h;};d=a(56800);n=a(17612);c=a(75568);f=a(88195);g=a(64232);},30837:function(t,b,a){var m,p,q,r,u,v,w;function d(x,y){var A,z;if(x)(A=1440 <= Ba.screen.height * Ba.devicePixelRatio,z=(x=g() && e() && (A || h() || n())) || f());else z=(x=null === (z=Ba.MSMediaKeys) || void 0 === z?void 0:z.isTypeSupported(p.mb.Wc,u.uc.HWa)) || (null === (A=Ba.MSMediaKeys) || void 0 === A?void 0:A.isTypeSupported(p.mb.rC,u.uc.HWa));y && (x=z=!1);return {Dxc:x,gBb:z};}function n(){var x;return !(null === (x=Ba.matchMedia) || void 0 === x || !x.call(Ba,"(dynamic-range: high)").matches);}function c(x,y){var A,z;try{return "probably" === (null === (z=null === (A=Ba.MSMediaKeys) || void 0 === A?void 0:A.isTypeSupportedWithFeatures) || void 0 === z?void 0:z.call(A,x,y));}catch(B){return !1;}}function f(){return c(p.mb.rC,u.uc.HCc);}function g(){return c(p.mb.Wc,"video/mp4;codecs=" + u.uc.TE + ";features=" + w.sm.NMa.join(","));}function e(){var x;return null === (x=Ba.MSMediaKeys) || void 0 === x?void 0:x.isTypeSupported(p.mb.Wc,u.uc.ICc);}function h(){return c(p.mb.Wc,"video/mp4;codecs=" + u.uc.mi + ";features=" + w.sm.EQa.join(","));}function k(x){var y;x=x.data;return "false" !== (null !== (y=null === x || void 0 === x?void 0:x.enableHWDRMForHEVCAndQHDOnly) && void 0 !== y?y:"true").toString().toLowerCase();}function l(x){var y;x=x.data;return "true" === (null !== (y=null === x || void 0 === x?void 0:x.disablePlayReady) && void 0 !== y?y:"false").toString().toLowerCase();}Object.defineProperty(b,"__esModule",{value:!0});b.Wpc=function(x){return Object.assign(Object.assign({},(0,r.w$)()),{Px:"D",bu:x.AD?"NFCDIE-04-":x.pUa?"NFCDIE-LX-":x.Rqa?"NFCDIE-AP-":x.Maa?"NFCDIE-AT-":x.OR?"NFCDIE-PH-":"NFCDIE-03-",AK:"edge-cadmium"});};b.Upc=function(x){var y,A;y=Object.assign(Object.assign({},(0,r.v$)()),{gK:(0,v.Nf)([q.Pc.Mo,q.Pc.gF,q.Pc.fO,q.Pc.gO,q.Pc.hO,q.Pc.Ro]),ki:(0,v.Nf)([].concat(za(q.xc.s3),za(q.xc.S3),za(q.xc.rV),za(q.xc.sV),za(q.xc.pV),za(q.xc.qV),za(q.xc.K6a),za(q.xc.L6a),za(q.xc.Pza))),Sj:(0,v.Nf)([].concat(za(q.xc.r3),za(q.xc.Yga),za(q.xc.Xga),za(q.xc.Zga))),ly:void 0,zaa:!1});A=k(x);x=l(x);d(A,x).gBb || (y.XC=!0,y.IK=!0,y.VU=!0);return y;};b.e9c=d;b.G9c=n;b.vxa=c;b.hfa=f;b.Zdd=g;b.aed=e;b.$dd=h;b.Vpc=function(x,y){var A,z,B,C;x=x.VA;A=k(y);y=l(y);A=d(A,y);y=A.gBb;z=A.Dxc;B=(0,v.Nf)([q.H.ZI,q.H.$I]);C=(0,v.Nf)([q.H.ZI,q.H.$I,q.H.aJ]);A={nudgeSourceBuffer:!0,audioCapabilityDetectorType:m.XE.nF,videoCapabilityDetectorType:m.Lr.nF,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0,enableXHEAAC:!0,useEncryptedEvent:!1};z={prepareCadmium:!0,enableLdlPrefetch:!y || z,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};B={audioCapabilityDetectorType:m.XE.aF,videoCapabilityDetectorType:m.Lr.wV,microsoftScreenSizeFilterEnabled:!1,keySystemList:[p.mb.Qja],licenseRenewalRequestDelay:0,audioProfiles:(0,v.Nf)([q.Pc.Mo,q.Pc.gF,q.Pc.Ro]),videoProfiles:x?C:B,liveVideoProfiles:(0,v.Nf)([q.H.nO,q.H.oO]),droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0,enableFullHdForSWDRM:x?!0:!1};A=Object.assign(Object.assign({},A),z);x && (A=Object.assign(Object.assign({},A),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4}));return y?Object.assign(Object.assign({},A),{microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlus51:!0,enableDDPlusAtmos:!0,keySystemList:[p.mb.Wc,p.mb.S_b],validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0,enableCachedErrors:!0,enableKeySystemRestrictor:!0,logKeySystemHasHwdrmAvailable:!0}):Object.assign(Object.assign({},A),B);};m=a(56800);p=a(17612);q=a(75568);r=a(64232);u=a(73796);v=a(88195);w=a(75456);},54534:function(t,b,a){var d,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});b.lqc=function(e){return Object.assign(Object.assign({},(0,f.w$)()),{Px:"F",bu:e.AD?"NFCDFF-MC-":e.VA?"NFCDFF-02-":e.Rqa?"NFCDFF-AP-":e.Maa?"NFCDFF-AT-":e.OR?"NFCDFF-PH-":"NFCDFF-LX-",AK:"firefox-cadmium"});};b.jqc=function(e){var h,k,l,m;h=(0,f.v$)();k=Object.assign(Object.assign({},h),{XC:!0,IK:!0,VU:!0});l=[n.H.aJ];if(e.VA){m={minimumCores:5};k.ki=[].concat(za((0,c.Dy).apply(null,[h.ki].concat(za(l)))),za((0,c.Nf)([n.H.Ww,n.H.Yw].concat(za(l),[n.H.$w,n.H.bx]),m)));k.ki=[].concat(za(k.ki),za((0,c.Nf)([].concat(za(n.xc.sV),za(n.xc.rV),za(n.xc.qV),za(n.xc.pV)))));k.Sj=[].concat(za(k.Sj),za((0,c.Nf)([n.H.Vw,n.H.Xw,n.H.Zw,n.H.ax],m)));}e.AD && (e={minimumCores:3},k.ki=[].concat(za((0,c.Dy).apply(null,[h.ki].concat(za(l)))),za((0,c.Nf)([n.H.Ww,n.H.Yw].concat(za(l),[n.H.$w,n.H.bx]),e))),k.Sj=[].concat(za(k.Sj),za((0,c.Nf)([n.H.Vw,n.H.Xw,n.H.Zw,n.H.ax],e))));return k;};b.kqc=function(e){var h;h={droppedFrameRateFilterEnabled:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:d.Lr.wV,enableCDMAttestedDescriptors:!0,enablePRK:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0,applyProfileStreamingOffset:!0};e.VA && 144 <= e.Fv && (h=Object.assign(Object.assign({},h),{enableAvcHighHwdrm:!0,enableHevcPrkHwdrm:!0,microsoftClearLeadRequiresSwdrm:!0,prepareLdlCacheMaxCount:15,microsoftHwdrmRequiresHevc:!0,microsoftHwdrmRequiresQHD:!0,enableKeySystemRestrictor:!0,enableCachedErrors:!0,enableHEVC:!0,enableHdcp:!0,enableHDR:!0,validateKeySystemAccess:!0,enableFullHdForHWDRM:!0,keySystemList:[g.mb.yeb,g.mb.Qja],logKeySystemHasHwdrmAvailable:!0}));(e.VA || e.AD) && 125 <= e.Fv && (h=Object.assign(Object.assign({},h),{enableFullHdForSWDRM:!0,enableAV1:!0}));134 <= e.Fv && (h=Object.assign(Object.assign({},h),{enableMediaCapabilities:!0}));return h;};d=a(56800);n=a(75568);c=a(88195);f=a(64232);g=a(17612);},64232:function(t,b,a){var n,c,f,g;function d(e,h){var k,l,m,p,q,r;k=e.CH;l=e.m0;e=e.$0;m=h.CH;p=h.m0;h=h.$0;q=void 0 === k || void 0 === m;r=q || void 0 === l || void 0 === p;return q || k > m || k === m && (r || l > p) || k === m && l === p && (r || void 0 === e || void 0 === h || e >= h);}Object.defineProperty(b,"__esModule",{value:!0});b.fBb=function(e,h,k,l){return d({CH:e.OGc,m0:e.PGc,$0:e.QGc},{CH:h,m0:k,$0:l});};b.JAb=function(e,h){return d({CH:e.Fv},{CH:h});};b.J$c=d;b.w$=function(){return {version:"6.0054.803.911",Vsa:!0,HZ:!0,fsb:["en-US"],TVa:"",o9:"cadmium",$Rb:!0,VKa:!0};};b.v$=function(){return {gK:(0,g.Nf)([f.Pc.Mo,f.Pc.gF,f.Pc.Ro]),ki:(0,g.Nf)([].concat(za(f.xc.s3))),Sj:(0,g.Nf)([].concat(za(f.xc.r3))),ly:c.mb.Qja,EH:(0,n.ic)(31E3)};};n=a(5021);c=a(17612);f=a(75568);g=a(88195);},20447:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.Jrc=function(g){return Object.assign(Object.assign({},(0,f.w$)()),{Px:"O",bu:g.Rqa?"NFCDOP-AP-":g.Maa?"NFCDOP-AT-":g.OR?"NFCDOP-PH-":"NFCDOP-01-",AK:"opera-cadmium"});};b.Hrc=function(g){var e,h,k,l,m,p;e=(0,f.v$)();h=Object.assign(Object.assign({},e),{XC:!0,IK:!0,VU:!0});k=[n.H.aJ];l=[n.H.EV];m={minimumCores:3};p={minimumCores:5};g.AD?(h.ki=[].concat(za((0,c.Dy).apply(null,[e.ki].concat(za(k)))),za((0,c.Nf)([n.H.Ww,n.H.Yw].concat(za(k),[n.H.$w,n.H.bx]),m))),h.Sj=[].concat(za((0,c.Dy).apply(null,[e.Sj].concat(za(l)))),za((0,c.Nf)([n.H.Vw,n.H.Xw].concat(za(l),[n.H.Zw,n.H.ax]),m)))):(h.ki=[].concat(za((0,c.Dy).apply(null,[e.ki].concat(za(k)))),za((0,c.Nf)([n.H.Ww,n.H.Yw].concat(za(k),[n.H.$w,n.H.bx]),p))),h.Sj=[].concat(za((0,c.Dy).apply(null,[e.Sj].concat(za(l)))),za((0,c.Nf)([n.H.Vw,n.H.Xw].concat(za(l),[n.H.Zw,n.H.ax]),p))));return h;};b.Irc=function(g){var e;e={droppedFrameRateFilterEnabled:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:d.Lr.wV,preciseSeeking:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0,enableFullHdForSWDRM:!0};67 <= g.Fv && (e=Object.assign(Object.assign({},e),{enableAV1:!0,enablePRK:!0}));return e;};d=a(56800);n=a(75568);c=a(88195);f=a(64232);},22224:function(t,b,a){var n,c,f,g,e,h;function d(){return Object.assign(Object.assign({},(0,h.v$)()),{gK:(0,e.Nf)([g.Pc.Mo,g.Pc.gF,g.Pc.Ro]),ki:(0,e.Nf)([].concat(za(g.xc.s3),za(g.xc.S3),za(g.xc.rV),za(g.xc.sV),za(g.xc.pV),za(g.xc.qV),za(g.xc.K6a),za(g.xc.L6a),za(g.xc.Pza),za(g.xc.FUb))),Sj:(0,e.Nf)([].concat(za(g.xc.r3),za(g.xc.Yga),za(g.xc.Xga),za(g.xc.Zga))),ly:f.mb.AWb,EH:(0,n.ic)(31E3)});}Object.defineProperty(b,"__esModule",{value:!0});b.Hsc=function(k){return Object.assign(Object.assign({},(0,h.w$)()),{Px:"S",bu:k.OR?"NFCDSF-PH-":"NFCDSF-01-",AK:"safari-cadmium"});};b.yqc=function(k){return Object.assign(Object.assign({},d(k)),{$xa:!0,bZ:!1,$B:[g.Ir.Pja]});};b.Fsc=d;b.Gsc=function(k){var l;l={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,logUnexpectedRewindDelay:0,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:c.Lr.aF,enableSeamless:!0,enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0,enableMissingSegmentsReplacement:!1,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0,enableLdlPrefetch:!0,monitorFrozenFrames:!0};(0,h.fBb)(k,10,15,5) && (l=Object.assign(Object.assign({},l),{useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,h.fBb)(k,10,15,6) && (l=Object.assign(Object.assign({},l),{keyStatusFilterEnabled:!0,enableUHD:!0}));(0,h.JAb)(k,16) && (l=Object.assign(Object.assign({},l),{enableAV1:!0}));(0,h.JAb)(k,16) && !k.OR && (l=Object.assign(Object.assign({},l),{enableXHEAAC:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));return l;};n=a(5021);c=a(56800);f=a(17612);g=a(75568);e=a(88195);h=a(64232);},89397:function(t,b,a){var f,g,e,h,k,l,m,p,q;function d(r,u){this.Le=r;this.PA=u;}function n(r,u){var v;v=g.sFa.call(this) || this;r.OR?Object.assign(v,(0,p.yqc)(r)):r.ara?Object.assign(v,(0,m.jqc)(r)):r.xUa?Object.assign(v,(0,l.Hrc)(r)):r.Xqa || r.hUa?Object.assign(v,(0,k.Upc)(u)):r.gba?Object.assign(v,(0,p.Fsc)(r)):Object.assign(v,(0,h.rpc)(r));return v;}function c(r){this.data=r.ara?(0,m.lqc)(r):r.xUa?(0,l.Jrc)(r):r.Xqa || r.hUa?(0,k.Wpc)(r):r.gba?(0,p.Hsc)(r):(0,h.tpc)(r);}Object.defineProperty(b,"__esModule",{value:!0});b.Nza=b.Mza=b.Lza=void 0;t=a(22970);f=a(22674);g=a(27081);e=a(22816);h=a(25066);k=a(30837);l=a(20447);m=a(54534);p=a(22224);a=a(83767);Ha.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},Vsa:{configurable:!0,enumerable:!0,get:function(){return this.data.Vsa;}},Px:{configurable:!0,enumerable:!0,get:function(){return this.data.Px;}},bu:{configurable:!0,enumerable:!0,get:function(){return this.data.bu;}},HZ:{configurable:!0,enumerable:!0,get:function(){return this.data.HZ;}},AK:{configurable:!0,enumerable:!0,get:function(){return this.data.AK;}},fsb:{configurable:!0,enumerable:!0,get:function(){return this.data.fsb;}},TVa:{configurable:!0,enumerable:!0,get:function(){return this.data.TVa;}},o9:{configurable:!0,enumerable:!0,get:function(){return this.data.o9;}},$Rb:{configurable:!0,enumerable:!0,get:function(){return this.data.$Rb;}},VKa:{configurable:!0,enumerable:!0,get:function(){return this.data.VKa;}}});q=c;b.Lza=q;b.Lza=q=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(e.oV))],q);Ia(n,g.sFa);q=n;b.Mza=q;b.Mza=q=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(e.oV)),t.__param(1,(0,f.v)(a.uO))],q);d.prototype.apply=function(){this.Le.ara?Object.assign(this,(0,m.kqc)(this.Le)):this.Le.xUa?Object.assign(this,(0,l.Irc)(this.Le)):this.Le.Xqa || this.Le.hUa?Object.assign(this,(0,k.Vpc)(this.Le,this.PA)):this.Le.gba?Object.assign(this,(0,p.Gsc)(this.Le)):Object.assign(this,(0,h.spc)(this.Le));return this;};q=d;b.Nza=q;b.Nza=q=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(e.oV)),t.__param(1,(0,f.v)(a.uO))],q);},88351:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.platform=void 0;t=a(22674);d=a(91581);n=a(5614);c=a(52033);f=a(89397);b.platform=new t.Ce(function(g){g(d.Bt).to(f.Lza).sa();g(n.lW).to(f.Mza);g(c.veb).to(f.Nza);});},80966:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uya={S5b:"adStart",Olb:"adProgress",k5c:"adComplete",T5b:"adStop"};b.O4a={dla:"adBreakComplete",h5c:"adBreakStart",i5c:"adBreakStop"};b.$ya={error:"error",Xlc:"exit",UQb:"unload"};b.W4a="AdImpressionLoggerrFactorySymbol";},70068:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Xya=b.EXb=b.FTb=void 0;d=a(45247);Object.defineProperty(b,"AdBreakResult",{enumerable:!0,get:function(){return d.FTb;}});Object.defineProperty(b,"IPlayerControlState",{enumerable:!0,get:function(){return d.EXb;}});b.Xya="AdManagerFactorySymbol";},1200:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.z3="AdTrackerBaseSymbol";},25540:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.f5a="AdFocusMonitorSymbol";},69377:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.h5a="AdvertsMismatchLoggerSymbol";},12826:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.j6a="BandwidthMeterFactorySymbol";},65945:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L,K,M,P,I,O,Q,T,U,X,Y,W,Z,ba,ca,da,ia,S,N,V,aa,fa,ha,ka,pa,oa,la,R,ea,ja,sa,ta,qa,Aa,Ga,na,va,xa;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;t=a(22674);d=a(77601);n=a(78388);c=a(18181);f=a(12826);g=a(31085);e=a(41106);h=a(51038);k=a(24722);l=a(27104);m=a(4203);p=a(81918);q=a(90597);r=a(42207);u=a(87386);v=a(65090);w=a(61861);x=a(37025);y=a(5021);A=a(89561);z=a(25837);B=a(65106);C=a(13889);D=a(15160);E=a(92205);H=a(52200);F=a(45842);G=a(74870);J=a(95162);L=a(33554);K=a(2160);M=a(67650);P=a(25138);I=a(77134);O=a(34231);Q=a(93367);T=a(82557);U=a(85405);X=a(56800);Y=a(39551);W=a(69334);Z=a(70068);ba=a(89540);ca=a(30869);da=a(49917);ia=a(80966);S=a(72160);N=a(54952);V=a(97635);aa=a(74834);fa=a(25540);ha=a(38508);ka=a(30873);pa=a(78312);oa=a(53085);la=a(63013);R=a(14177);ea=a(56386);ja=a(1200);sa=a(24711);ta=a(13673);qa=a(31099);Aa=a(67590);Ga=a(6823);na=a(95735);va=a(69377);xa=a(79785);b.j=new t.Ce(function(ra){ra(M.EFa).to(P.DFa).sa();ra(U.B5a).$f(function(ya){var Ca;Ca=ya.Jb;return function(Ja,Ka){return new (a(92720).nDa)(Ja,Ka,Ca.get(q.hC),Ca.get(D.nha),Ca.get(Aa.uza));};});ra(d.aib).$f(function(ya){var Ca;Ca=ya.Jb;return function(Ja,Ka,La,Oa,Na,Qa,Va,Sa,Ta){return new (a(37517).z)(Ca.get(A.dib),Ja,Ka,La,Oa,Na,Qa,Va,Sa,Ta);};});ra(A.dib).to(z.yHa).sa();ra(n.cib).to(c.xHa).sa();ra(h.Feb).to(k.BFa).sa();ra(V.Hgb).to(aa.MGa).sa();ra(va.h5a).to(xa.dza).sa();ra(Q.Vfb).to(T.rGa);ra(Q.Ufb).UPb(Q.Vfb);ra(e.b8a).$f(function(ya){var Ca;Ca=ya.Jb;return function(Ja){return new (a(11372).DBa)(Ca.get(D.a8a),Ca.get(q.hC),Ca.get(p.ie),Ja);};});ra(f.j6a).$f(function(){return function(ya){return new g.k6a(ya);};});ra(Y.IFa).$f(function(ya){var Ca;Ca=ya.Jb;return function(Ja){return new W.JFa(Ja,Ca.get(u.zb),Ca.get(r.Mi));};});ra(ia.W4a).$f(function(ya){var Ca;Ca=ya.Jb;return function(Ja){return new S.Vya(Ja,Ca.get(u.zb).wb("AdImpressionLogger"),Ca.get(ca.Li),Ca.get(m.Ic),Ca.get(p.ie),Ca.get(da.Tya),Ca.get(da.Rya));};});ra(fa.f5a).to(ha.aza);ra(ja.z3).to(la.Yya);ra(ja.z3).to(ea.Zya);ra(ja.z3).to(sa.bza);ra(ja.z3).to(R.cza);ra(Z.Xya).$f(function(ya){var Ca;Ca=ya.Jb;return function(Ja,Ka){return new ba.$4a(Ja,Ka,Ca.get(u.zb).wb("AdManager"),Ca.get(m.Ic),Ca.get(V.Hgb),Ca.get(va.h5a),Ca.getAll(ja.z3),Ca.get(ia.W4a),function(La){return new N.Z4a(La);},Ca.get(fa.f5a));};});ra(v.Aeb).$f(function(ya){var Ca;Ca=ya.Jb;return function(Ja){return new l.uFa(Ja,Ca.get(u.zb),Ca.get(m.Ic),Ca.get(r.Mi),Ca.get(q.hC),Ca.get(Y.IFa));};});ra(ka.Uab).$f(function(ya){var Ca;Ca=ya.Jb;return function(Ja,Ka){return new pa.Vab(Ca.get(m.Ic),Ca.get(ta.Wab),Ca.get(oa.Dl),Ca.get(u.zb),Ja,Ka);};});ra(ta.Wab).$f(function(ya){var Ca;Ca=ya.Jb;return function(Ja){return new qa.Xab(Ca.get(m.Ic),Ca.get(u.zb),Ca.get(F.uJ),Ja);};});ra(w.GFa).$f(function(ya){var Ca;Ca=ya.Jb;return function(Ja,Ka,La,Oa,Na,Qa,Va,Sa,Ta,bb,Xa,gb){return new x.Leb(Ja,Ka,La,Oa,Na,Qa,Va,Sa,Ta,Ca.get(v.Aeb),Ca.get(M.EFa),Ca.get(ka.Uab),bb,Xa,gb);};});ra(B.Dgb).$f(function(ya){return function(Ca){var Ja,Ka;Ja=ya.Jb.get(m.Ic);Ka=ya.Jb.get(u.zb);return new C.Egb(Ja,Ca,Ka);};});ra(E.Heb).$f(function(ya){return function(Ca){var Ja,Ka,La,Oa,Na;Ja=ya.Jb.get(L.iC);Ka=ya.Jb.get(F.uJ);La=ya.Jb.get(G.Bm);Oa=ya.Jb.get(J.YGa);Na=ya.Jb.get(X.zV);return new H.Ieb(Ca,Ja,Ka((0,y.Zi)(1)),La,Oa,Na);};});ra(K.WDa).vN(function(ya){return new (a(51149).VDa)(ya.Jb.get(I.D5),ya.Jb.get(O.xt));}).sa();ra(Ga.fia).to(na.kDa).sa();});},41106:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.b8a="DiagnosticsFactorySymbol";},30873:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.rz={X5:"START_SLATE",FCa:"LIVE_EVENT",XAa:"END_SLATE"};b.Uab="LivePlaybackManagerFactorySymbol";},13673:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wab="LivePlaybackRateControllerFactorySymbol";},6823:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.n5={};t[t.S9a=1]="HIGH";t[t.MEDIUM=2]="MEDIUM";t[t.p5=3]="LOW";b.fia="LowNetworkActivityManagerSymbol";},45526:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});},2160:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.WDa="MilestonesEventBuilderSymbol";},65090:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aeb="PlayTimeTrackerFactorySymbol";},51038:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Feb="PlaybackFactorySymbol";},92205:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Heb="PlaybackInfoPanelFactorySymbol";},67650:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.EFa="PlaybackMilestoneStoreSymbol";},61861:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.GFa="PlaybackSegmentDataFactorySymbol";},39551:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.IFa="PlayedSegmentsTrackerFactorySymbol";},93367:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vfb="RepositionTraceSymbol";b.Ufb="RepositionTraceFactorySymbol";},65106:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dgb="SeekManagerFactorySymbol";},97635:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hgb="SegmentDroppedLoggerSymbol";},94025:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.Gz={};t[t.tia=0]="NOT_LOADED";t[t.LOADING=1]="LOADING";t[t.xO=2]="LOADED";t[t.o5=3]="LOAD_FAILED";t[t.vdb=4]="PARSE_FAILED";},77601:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.aib="TrickPlayFactorySymbol";},78388:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cib="TrickPlayManagerSymbol";},89561:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.dib="TrickPlayParserSymbol";},72160:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m,p,q,r,u,v){this.context=l;this.log=m;this.Na=p;this.config=q;this.Xa=r;this.R5b=u;this.L5b=v;this.P0a={};this.Qq=new Set();this.BVa=Math.floor(Math.random() * this.config().BVa);}Object.defineProperty(b,"__esModule",{value:!0});b.Vya=void 0;t=a(22970);n=a(22674);c=a(81918);f=a(30869);g=a(5021);e=a(4203);h=a(49917);k=a(80966);d.prototype.oPc=function(l,m,p){var q,r,u,v,w;q=this;u=l.event;if(Object.values(k.O4a).includes(u)){v=m.oH?m.oH.oa(g.za):-1;w={href:m.S.wp.QZ("events").href,yf:m.S.Aa.yf,Ia:this.context.Ia.toString(),event:u,yx:l.yx,fb:l.fb,uv:l.uv,OG:l.OG,rKa:l.Kt,position:l.ai.offset.G,Jk:v,sB:{},uG:this.Na.pI.oa(g.za),appId:this.config().appId || this.Xa.id,sessionId:this.config().sessionId || this.Xa.id,mKa:l.mKa,fda:l.fda,lKa:l.lKa,$Va:null === (r=m.S) || void 0 === r?void 0:r.Aa.Zd,Zm:l.Zm};this.fub(m,p,function(){q.L5b.Ue({log:q.log,J:m.R},w).catch(function(x){q.log.error("Failed to send event",{eventKey:u,xid:m.Ia,error:x});});});}else this.log.debug("Ignoring unsupported event " + l.event);};d.prototype.pPc=function(l,m,p,q){var r,u,v,w,x,y;r=this;v=l.event;if(Object.values(k.Uya).includes(v)){w=l.S.links.events.href;x=l.S.yf;this.P0a[l.Jk] || (this.P0a[l.Jk]=this.Na.U6b((0,g.ic)(l.Jk)).oa(g.za));y={href:w,yf:x,Ia:this.context.Ia.toString(),event:v,yx:l.yx,fb:l.fb,uv:l.uv,OG:l.OG,rKa:l.Kt,position:l.ai.offset.G,tKa:l.tKa,Jk:this.P0a[l.Jk],sB:l.sB,uG:this.Na.pI.oa(g.za),appId:this.config().appId || this.Xa.id,sessionId:this.config().sessionId || this.Xa.id,$Va:null === (u=m.S) || void 0 === u?void 0:u.Aa.Zd,yUc:null !== p && void 0 !== p?p:void 0,Zm:l.Zm};this.fub(m,q,function(){r.R5b.Ue({log:r.log,J:m.R},y).catch(function(A){r.log.error("Failed to send event",{eventKey:v,xid:r.context.Ia,error:A});});});}else this.log.debug("Ignoring unsupported event " + l.event);};d.prototype.xnc=function(){this.Qq.forEach(function(l){l();});};d.prototype.fub=function(l,m,p){var q,r,u;q=this;l=l.Dc.Ba && !m?this.BVa:0;if(0 < l){r=function(){Ba.clearTimeout(u);q.Qq.delete(r);p();};u=Ba.setTimeout(r,l);this.Qq.add(r);}else p();};a=d;b.Vya=a;b.Vya=a=t.__decorate([t.__param(2,(0,n.v)(f.Li)),t.__param(3,(0,n.v)(e.Ic)),t.__param(4,(0,n.v)(c.ie)),t.__param(5,(0,n.v)(h.Tya)),t.__param(6,(0,n.v)(h.Rya))],a);},54952:function(t,b){function a(m){this.Rc=m;}function d(m){this.padding=m;}function n(m){this.Df=m;}function c(m){this.ai=m;}function f(m){this.Yua=m;}function g(m){this.zZa=m;}function e(m){this.yZa=m;}function h(m){this.bG=m;}function k(m){this.BM=m;}function l(m){this.Ec=m;}Object.defineProperty(b,"__esModule",{value:!0});b.ITb=b.K_b=b.HTb=b.JWb=b.$_b=b.a0b=b.Z_b=b.GTb=b.Y_b=b.Z4a=void 0;l.prototype.getPresentingAdBreak=function(){var m;m=this.Ec.sD();if(m)return new k(m);};l.prototype.getPlayerControlState=function(){var m;m=this.Ec.T$();return {seekEnabled:m.nI,playPauseEnabled:m.WH,languageSelectionEnabled:m.uH};};l.prototype.getAds=function(){return this.Ec.$G();};l.prototype.getLogInfo=function(){return this.Ec.jxb();};b.Z4a=l;Ha.Object.defineProperties(k.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new h(this.BM.Sa);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var m;m=this.BM.XJ;if(m)return new e(m);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var m;m=this.BM.uYa;if(m)return new g(m);}},progress:{configurable:!0,enumerable:!0,get:function(){return new f(this.BM.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new c(this.BM.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.BM.index;}}});b.Y_b=k;Ha.Object.defineProperties(h.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new n(this.bG.Df);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new d(this.bG.Xea);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new d(this.bG.gZ);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.bG.Iuc;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.bG.duration.G};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.bG.hua.G};}},type:{configurable:!0,enumerable:!0,get:function(){return this.bG.type;}},segmentationTypeId:{configurable:!0,enumerable:!0,get:function(){return this.bG.Ao;}},isPreroll:{configurable:!0,enumerable:!0,get:function(){return this.bG.w_;}}});b.GTb=h;Ha.Object.defineProperties(e.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new a(this.yZa.Rc);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.yZa.Olb;}},index:{configurable:!0,enumerable:!0,get:function(){return this.yZa.index;}}});b.Z_b=e;Ha.Object.defineProperties(g.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.zZa.kua;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.zZa.hHc;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.zZa.hua.G};}}});b.a0b=g;Ha.Object.defineProperties(f.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.Yua.O5b;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Yua.Flb.G};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.Yua.Q5b;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Yua.P5b.G};}}});b.$_b=f;Ha.Object.defineProperties(c.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.ai.L;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.ai.offset.G};}}});b.JWb=c;Ha.Object.defineProperties(n.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.Df.Kb.map(function(m){return new a(m);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Df.duration.G};}},type:{configurable:!0,enumerable:!0,get:function(){return this.Df.type;}},segmentationTypeId:{configurable:!0,enumerable:!0,get:function(){return this.Df.Ao;}},isPreroll:{configurable:!0,enumerable:!0,get:function(){return this.Df.w_;}}});b.HTb=n;Ha.Object.defineProperties(d.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.G};}}});b.K_b=d;Ha.Object.defineProperties(a.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.Rc.bi;}},id:{configurable:!0,enumerable:!0,get:function(){return this.Rc.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Rc.startTime.G};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Rc.endTime.G};}},is3pVerificationEnabled:{configurable:!0,enumerable:!0,get:function(){return this.Rc.r_;}},thirdPartyVerificationToken:{configurable:!0,enumerable:!0,get:function(){return this.Rc.I2;}},uiComponent:{configurable:!0,enumerable:!0,get:function(){return this.Rc.p3a;}}});b.ITb=a;},89540:function(t,b,a){var n,c,f,g,e,h;function d(k,l,m,p,q,r,u,v,w,x){var y;y=this;this.bb=k;this.j=l;this.log=m;this.config=p;this.$Oc=q;this.a7b=r;this.DPb=u;this.Yo=new n.wc(!1);this.jc=new e.rm();this.gma=!1;this.Jca=function(){y.gma=!0;y.vv.xnc();h.ye.removeListener(h.hn,y.Jca);};this.IQ=w(this);k=k.cn();this.vv=v({Ia:l.Ia.toString()});v=null === k || void 0 === k?void 0:k.Os.events;null === v || void 0 === v?void 0:v.addListener("adPresenting",function(){!1;y.Dub();});null === v || void 0 === v?void 0:v.addListener("adBreakPresenting",function(A){!1;!1;y.Bka=A.presentingInfo.Sa.type;"embedded" === y.Bka || y.j.fra() || x.p0(l);y.Yo.set(!0);});null === v || void 0 === v?void 0:v.addListener("adBreakEnded",function(){!1;y.Yo.set(!1);});null === v || void 0 === v?void 0:v.addListener("adPlaygraphUpdated",function(){!1;});null === v || void 0 === v?void 0:v.addListener("segmentDropped",function(A){var z;!1;z=y.j.Vl(A.segmentId);y.$Oc.BKc(A,z);});null === v || void 0 === v?void 0:v.addListener("advertsMismatch",function(A){!1;y.a7b.oKc(A,y.j.ga);});this.yw=new f.Uia();this.j.addEventListener("playbackStart",function(){y.yw.resolve();});v=null === k || void 0 === k?void 0:k.FR.events;null === v || void 0 === v?void 0:v.addListener("adEvent",function(A){y.yw.promise.then(function(){var z,B;A.event === c.Uya.S5b && y.DPb.forEach(function(C){return C.start(y.j);});z=y.otc(A);if(A.event === c.Uya.T5b && z){B=y.gma?c.$ya.UQb:l.Nj?c.$ya.error:c.$ya.Xlc;z=Object.assign(Object.assign({},z),{reason:B});}y.vv.pPc(A,l,z,y.gma);});});null === v || void 0 === v?void 0:v.addListener("adBreakEvent",function(A){A.event === c.O4a.dla && y.jc.rd(g.Wya.dla);y.yw.promise.then(function(){y.vv.oPc(A,l,y.gma);});});h.ye.addListener(h.hn,this.Jca);}Object.defineProperty(b,"__esModule",{value:!0});b.$4a=void 0;n=a(81734);c=a(80966);f=a(94293);g=a(85001);e=a(94886);h=a(37509);d.prototype.addEventListener=function(k,l,m){this.jc.addListener(k,l,m);};d.prototype.removeEventListener=function(k,l){this.jc.removeListener(k,l);};d.prototype.sD=function(){var k,l;if(this.aPa && !1 !== this.Yo.value)return null === (l=null === (k=this.bb) || void 0 === k?void 0:k.cn()) || void 0 === l?void 0:l.tj.BM;};d.prototype.T$=function(){var k,l;return (null === (l=null === (k=this.bb) || void 0 === k?void 0:k.cn()) || void 0 === l?void 0:l.Os.T$()) || ({nI:void 0,WH:void 0,uH:void 0});};d.prototype.jxb=function(){var k,l,m,p;m=this.sD();if(m){p={position:null === m || void 0 === m?void 0:m.position.offset.G,adDuration:null === (k=null === m || void 0 === m?void 0:m.XJ) || void 0 === k?void 0:k.Rc.endTime.G,adIndex:null === (l=m.XJ) || void 0 === l?void 0:l.index,adBreakIndex:m.index,adBreakDuration:null === m || void 0 === m?void 0:m.Sa.duration.G};(k=m.uYa) && (p.padding={type:k.kua,duration:k.hua.G});return p;}};d.prototype.$G=function(){var k,l,m,p,q;if(!this.aPa)return [];p=this.j.ga.R.toString();q=null === (l=null === (k=this.bb) || void 0 === k?void 0:k.cn()) || void 0 === l?void 0:l.Os.$G({hz:[p]});return null !== (m=null === q || void 0 === q?void 0:q.result[p]) && void 0 !== m?m:[];};d.prototype.aw=function(){var k,l,m,p,q;p=this.j.ga.R.toString();q=null === (l=null === (k=this.bb) || void 0 === k?void 0:k.cn()) || void 0 === l?void 0:l.Os.aw({hz:[p]});return null !== (m=null === q || void 0 === q?void 0:q.result[p]) && void 0 !== m?m:!1;};d.prototype.Dub=function(){};d.prototype.otc=function(k){var l;l=this.DPb.reduce(function(m,p){return Object.assign(Object.assign({},m),p.Upa(k));},{});return Object.assign(Object.assign({},l),{thirdPartyVerificationToken:k.I2});};Ha.Object.defineProperties(d.prototype,{aPa:{configurable:!0,enumerable:!0,get:function(){var k;return this.Bka?this.config().Ctb || "embedded" !== this.Bka:(null === (k=this.j.Dc) || void 0 === k?0:k.Ba)?this.config().Ctb:!0;}},hVa:{configurable:!0,enumerable:!0,get:function(){return this.Bka;}}});b.$4a=d;},63013:function(t,b,a){var n,c,f,g,e;function d(h,k){var l;l=e.Ho.call(this) || this;l.Xa=h;l.paused=!1;l.Fx=function(){var m,p,q;p=l.Ec.Yo.value;q=l.Ec.sD();p && q?(p=null === (m=q.XJ) || void 0 === m?void 0:m.Rc.id,m=l.paused,l.paused=l.j.paused.value,m !== l.paused && (l.paused?(l.vua=l.Xa.yc(),l.w7=q.position.offset.G,l.wa.debug("Ad " + p + " paused at " + l.w7 + " ms into the ad")):void 0 !== l.vua && void 0 !== l.w7 && (q=l.Xa.yc().ea(l.vua).oa(g.za),l.wa.debug("Ad " + p + " resumed. Pause duration: " + q),l.trace.push([l.w7,q]),l.w7=void 0,l.vua=void 0))):l.unsubscribe();};l.wa=k.wb("AdPauseStateTracker");return l;}Object.defineProperty(b,"__esModule",{value:!0});b.Yya=void 0;t=a(22970);n=a(22674);c=a(81918);f=a(87386);g=a(5021);e=a(87144);Ia(d,e.Ho);d.prototype.start=function(h){e.Ho.prototype.start.call(this,h);this.CD || (this.j.paused.addListener(this.Fx),this.CD=!0);};d.prototype.Upa=function(){return {pauseTrace:this.trace};};d.prototype.cea=function(){this.w7=void 0;this.paused=this.j.paused.value;this.vua=void 0;this.trace=[];};d.prototype.unsubscribe=function(){e.Ho.prototype.unsubscribe.call(this);this.j.paused.removeListener(this.Fx);};a=d;b.Yya=a;b.Yya=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.ie)),t.__param(1,(0,n.v)(f.zb))],a);},56386:function(t,b,a){var n,c,f,g,e;function d(h,k){var l;l=e.Ho.call(this) || this;l.aOa=k;l.KNc=function(){0 === l.trace.length?l.Fx():l.yPa.ig(function(){l.Fx();});};l.Fx=function(){var m,p,q,r;m=l.Ec.Yo.value;p=l.Ec.sD();if(m && p){(m=l.trace[l.trace.length - 1]) && m[0] === p.position.offset.G && l.trace.pop();m=l.trace[l.trace.length - 1];q=l.j.Iu.getBoundingClientRect();r=q.height;q=q.width;0 < r && 0 < q && (!m || m[1] !== q || m[2] !== r) && l.trace.push([p.position.offset.G,q,r]);}else l.unsubscribe();};l.wa=h.wb("AdResizeTracker");l.yPa=k((0,g.Zi)(1));return l;}Object.defineProperty(b,"__esModule",{value:!0});b.Zya=void 0;t=a(22970);n=a(22674);c=a(34043);f=a(87386);g=a(5021);e=a(87144);Ia(d,e.Ho);d.prototype.start=function(h){e.Ho.prototype.start.call(this,h);this.CD || (this.mGb=new ResizeObserver(this.KNc),this.mGb.observe(this.j.Iu),this.CD=!0);};d.prototype.Upa=function(){return {resizeTrace:this.trace.slice(1)};};d.prototype.cea=function(){this.trace=[];};d.prototype.unsubscribe=function(){var h;e.Ho.prototype.unsubscribe.call(this);null === (h=this.mGb) || void 0 === h?void 0:h.disconnect();};a=d;b.Zya=a;b.Zya=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.zb)),t.__param(1,(0,n.v)(c.mha))],a);},87144:function(t,b){function a(){var d;d=this;this.CD=!1;this.trace=[];this.kna=function(){d.yPa.ig(function(){d.Fx();});};}Object.defineProperty(b,"__esModule",{value:!0});b.Ho=void 0;a.prototype.start=function(d){var n;n=this;this.j=d;this.Ec=this.j.cn();this.CD || (this.Ec.Yo.addListener(this.Fx),this.j.addEventListener("closing",function(){return n.unsubscribe();}));this.cea();};a.prototype.unsubscribe=function(){this.Ec.Yo.removeListener(this.Fx);this.CD=!1;this.cea();};b.Ho=a;},38508:function(t,b,a){var n,c;function d(f){var g;g=this;this.$P=function(){var e,h,k;h=!document.hidden;k=null === (e=g.j.cn()) || void 0 === e?void 0:e.Yo.value;e=g.j.paused.value;h || !k || e || (g.wa.debug("Pausing playback because window is not visible"),g.j.paused.set(!0,{mB:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",g.$P);g.j.cn().Yo.removeListener(g.$P);g.j.paused.removeListener(g.$P);};this.wa=f.wb("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.aza=void 0;t=a(22970);n=a(22674);a=a(87386);d.prototype.p0=function(f){this.kDc || (this.wa.debug("Starting to monitor playback for visibility"),this.j=f,this.kDc=!0,document.addEventListener("visibilitychange",this.$P),this.j.cn().Yo.addListener(this.$P),this.j.paused.addListener(this.$P),this.j.addEventListener("closing",this.unsubscribe),this.$P());};c=d;b.aza=c;b.aza=c=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.zb))],c);},24711:function(t,b,a){var n,c,f;function d(g){var e;e=f.Ho.call(this) || this;e.uWa=0;e.Crb=[0];e.qS=[0];e.visibility=0;e.Fx=function(){var h,k;h=e.Ec.Yo.value;k=e.Ec.sD();h && k?(h=e.visibility,e.visibility=document.hidden?0:1,h !== e.visibility && (1 === e.visibility?(e.uWa=e.visibility,e.xsa=k.position.offset.G):(k=k.position.offset.G - (e.xsa || 0),k > e.qS[0] && (e.qS[0]=k),e.xsa=void 0))):e.unsubscribe();};e.wa=g.wb("AdVisibilityTracker");return e;}Object.defineProperty(b,"__esModule",{value:!0});b.bza=void 0;t=a(22970);n=a(22674);c=a(87386);f=a(87144);Ia(d,f.Ho);d.prototype.start=function(g){f.Ho.prototype.start.call(this,g);this.CD || (document.addEventListener("visibilitychange",this.Fx),this.CD=!0);};d.prototype.Upa=function(g){var e,h,k;h=this.j.Iu.getBoundingClientRect();k=h.height;h=h.width;"adStart" === g.event && (k=0 === k?document.documentElement.clientHeight:k,h=0 === h?document.documentElement.clientWidth:h);g=g.ai.offset.G - (null !== (e=this.xsa) && void 0 !== e?e:0);g > this.qS[0] && (this.qS[0]=g);e=document.fullscreenElement?!0:screen.height === Ba.outerHeight && screen.width === Ba.outerWidth;this.Crb=this.qS;return {cumulativeTimeByVisibilityMs:this.Crb,maxContinuousTimeByVisibilityMs:this.qS,visibility:this.visibility,maxVisibility:this.uWa,screenHeight:screen.height,screenWidth:screen.width,adHeight:k,adWidth:h,fullScreen:e};};d.prototype.cea=function(){this.xsa=void 0;this.qS=[0];this.uWa=this.visibility=document.hidden?0:1;};d.prototype.unsubscribe=function(){f.Ho.prototype.unsubscribe.call(this);document.removeEventListener("visibilitychange",this.Fx);};a=d;b.bza=a;b.bza=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.zb))],a);},14177:function(t,b,a){var n,c,f,g,e;function d(h,k){var l;l=e.Ho.call(this) || this;l.uh=h;l.aOa=k;l.Fx=function(){var m,p;m=l.Ec.Yo.value;p=l.Ec.sD();m && p?(m=l.trace[l.trace.length - 1],p=p.position.offset.G,m && m[0] === p && l.trace.pop(),(m=l.trace[l.trace.length - 1]) && m[1] === l.j.CY || l.trace.push([p,l.j.CY])):l.unsubscribe();};l.wa=h.wb("AdVolumeTracker");l.yPa=k((0,g.Zi)(1));return l;}Object.defineProperty(b,"__esModule",{value:!0});b.cza=void 0;t=a(22970);n=a(22674);c=a(34043);f=a(87386);g=a(5021);e=a(87144);Ia(d,e.Ho);d.prototype.start=function(h){e.Ho.prototype.start.call(this,h);this.CD || (this.j.volume.addListener(this.kna),this.j.muted.addListener(this.kna),this.CD=!0);};d.prototype.Upa=function(){return {volumeChangeTrace:this.trace,volume:this.j.CY};};d.prototype.cea=function(){this.trace=[];};d.prototype.unsubscribe=function(){e.Ho.prototype.unsubscribe.call(this);this.j.volume.removeListener(this.kna);this.j.muted.removeListener(this.kna);};a=d;b.cza=a;b.cza=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.zb)),t.__param(1,(0,n.v)(c.mha))],a);},79785:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.dza=void 0;t=a(22970);a=a(22674);d.prototype.oKc=function(c,f){f.RL.hb.OKa({xid:f.Ia,playbackcontextid:f.Zd,pbcid:f.correlationId,manifestUnmatchedAdBreakLocations:c.manifestUnmatchedAdBreakLocations,mediaEventsUnmatchedAdBreakLocations:c.mediaEventsUnmatchedAdBreakLocations,sev:c.sev});};n=d;b.dza=n;b.dza=n=t.__decorate([(0,a.aa)()],n);},31085:function(t,b){function a(d){this.j=d;}Object.defineProperty(b,"__esModule",{value:!0});b.k6a=void 0;a.prototype.yRb=function(){var d;d=this.j.bb;if(null !== d && void 0 !== d && d.IF){d=d.bd.get();if(null === d || void 0 === d?0:d.Jh)this.j.Jh=d.Jh.Fa;if(null === d || void 0 === d?0:d.kb)this.j.kb=d.kb.Fa;}};a.prototype.jl=function(){-1 === this.j.kb && this.yRb();return this.j.kb;};a.prototype.O$b=function(d){-1 !== this.j.Jh && -1 !== this.j.kb || this.yRb();return -1 === this.j.Jh || -1 === this.j.kb?Number.MAX_VALUE:this.j.Jh + 8 * d / this.j.kb;};b.k6a=a;},11372:function(t,b,a){var n;function d(c,f,g,e){this.yOa=c;this.debug=f;this.Xa=g;this.j=e;this.lua=[];this.Rsa={};this.AOa={};this.ZPa=!1;this.zPb=1;this.f6a=7.8125;}b.DBa=void 0;n=a(5021);a(85001);a(32687);a(61726);d.prototype.register=function(c,f){this.debug.assert(!(0 <= this.lua.indexOf(c)),"panel already registered");this.Rsa[c]=f;this.lua.push(c);};d.prototype.$Fb=function(c){var f;f=this;this.AOa[c]=!0;this.ZPa || (this.ZPa=!0,setTimeout(function(){return f.onc();},0));};d.prototype.prc=function(c){return (c=this.Rsa[c])?c():void 0;};d.prototype.F$=function(){var c;c=this.j.Fua;return c?c.F$():[];};d.prototype.addEventListener=function(c,f){this.yOa.addListener(c,f);this.Rsa[c] && this.$Fb(c);};d.prototype.removeEventListener=function(c,f){this.yOa.removeListener(c,f);};d.prototype.getTime=function(){return this.Xa.yc().oa(n.za);};d.prototype.onc=function(){this.ZPa=!1;for(var c=this.lua.length,f;c--;)(f=this.lua[c],this.AOa[f] && (this.AOa[f]=!1,this.yOa.rd(f + "changed",{getModel:this.Rsa[f]})));};b.DBa=d;},78312:function(t,b,a){var n,c,f,g,e,h,k,l;function d(m,p,q,r,u,v){var w,x,y,A,z;w=this;this.config=m;this.Cd=q;this.K=u;this.j=v;this.KR=new h.wc(!1);this.lLa=new h.wc(!1);this.eo=this.uk=void 0;this.y1a=!1;this.YQ=void 0;this.log=r.wb("LivePlaybackManager");this.YQ=this.config().Enc;x=this.config().HSc;y=this.config().fAc;this.y1a=(0,f.pc)(x) && (0,f.pc)(y);null === v || void 0 === v?void 0:v.addEventListener(g.ja.Fp,function(){var B;if(w.Ba && ((0,c.va)(w.j && w.j.ga === w.K,"Unexpected playback segment on playbackReady"),w.config().Ikc && (w.yIb=p(function(C){(0,c.va)(w.Ba && w.j && w.j.ga === w.K,"Unexpected playback segment on playback rate update");w.K.playbackRate.value !== C && (w.K.playbackRate.set(C),w.j.fireEvent(g.ja.PL));})),w.y1a)){B=w.AA();A=w.Cd.ZT((0,n.ic)(500),function(){var C,D,E,H;C=w.AA();E=B + x;C >= E - 500 && (D=w.oNa(E));E=B + x + y;if(C >= E - 500){H=w.oNa(E);null === A || void 0 === A?void 0:A.cancel();}w.W0a(D,H,!0);});}});null === v || void 0 === v?void 0:v.addEventListener(g.ja.rh,function(){var B;w.Ba && ((0,c.va)(w.j && w.j.ga === w.K,"Unexpected playback segment on closing"),w.yIb=void 0,null === (B=w.sba) || void 0 === B?void 0:B.cancel(),w.sba=void 0,null === A || void 0 === A?void 0:A.cancel());});null === v || void 0 === v?void 0:v.addEventListener(g.ja.Mva,function(B){w.Ba && ((0,c.va)(w.j && w.j.ga === w.K,"Unexpected playback segment on repositioning"),B.Fc !== g.Mc.bv && B.Fc !== g.Mc.RV || w.KR.set((B.Fc === g.Mc.RV || w.config().lU) && !w.hBb()));});null === v || void 0 === v?void 0:v.addEventListener(g.ja.X3a,function(){w.Ba && ((0,c.va)(w.j && w.j.ga === w.K,"Unexpected playback segment on userInitiatedPause"),w.KR.set(!1));});null === v || void 0 === v?void 0:v.background.addListener(function(){var B;w.Ba && ((0,c.va)(w.j && w.j.ga === w.K,"Unexpected playback segment on background update"),!w.j.background.value && w.lu() && void 0 === w.YQ && (w.PR()?null === (B=w.j.Xd) || void 0 === B?void 0:B.seek(w.uk,g.Mc.bv):w.Y1()));});this.K.mediaTime.addListener(function(){var B,C,D,E,H,F;if(w.Ba){(0,c.va)(w.j && w.j.ga === w.K,"Unexpected playback segment on mediaTime update");E=w.j;w.wma();H=z;F=null !== (B=w.K.gs) && void 0 !== B?B:void 0;z=F;B=w.ZK(H);H=w.ZK(F);B !== H && (!1,E.fireEvent(g.ja.PL));w.PR()?(null === (C=w.sba) || void 0 === C?void 0:C.cancel(),w.sba=void 0):w.sba || (w.sba=w.Cd.ZT((0,n.ic)(1E3),function(){w.wma();E.fireEvent(g.ja.PL);}));null === (D=w.yIb) || void 0 === D?void 0:D.Y2(w.j.$j.value && w.lu(),F,w.AA());w.config().vkc && w.uxc() && w.Fvb();}});null === v || void 0 === v?void 0:v.$j.addListener(function(){w.Ba && ((0,c.va)(w.j && w.j.ga === w.K,"Unexpected playback segment on playing update"),w.config().wkc && w.Fvb());});this.KR.addListener(function(){(0,c.va)(w.Ba,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + w.Ba);(0,c.va)(w.j && w.j.ga === w.K,"Playback is required for live.");w.wma();});this.lLa.addListener(function(){(0,c.va)(w.Ba,"Unexpected call to intentToPlayAtLiveEdge.set(). isLive:" + w.Ba);(0,c.va)(w.j && w.j.ga === w.K,"Playback is required for live.");!1;w.j.fireEvent(g.ja.PL);});}Object.defineProperty(b,"__esModule",{value:!0});b.Vab=void 0;n=a(5021);c=a(45146);f=a(32687);g=a(85001);e=a(30873);h=a(81734);k=a(45247);l=a(91176);d.prototype.LSc=function(){var m,p;return void 0 !== (null === (p=null === (m=this.K.S) || void 0 === m?void 0:m.Aa.Ji) || void 0 === p?void 0:p.QQ);};d.prototype.pRc=function(){var m,p,q,r;(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");r=null !== (q=null === (p=null === (m=this.K.S) || void 0 === m?void 0:m.Aa.Ji) || void 0 === p?void 0:p.Ksb) && void 0 !== q?q:!1;return this.config().Hnc || r && this.LSc();};d.prototype.HZa=function(){var m;(0,c.va)(this.Ba,"Unexpected call to processManifest(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");(0,c.va)(null === (m=this.K.S) || void 0 === m?void 0:m.Aa.Ji,"Live manifest is unavailable.");m=this.K.S.Aa.Ji;this.W0a(m.P9,m.QQ);m=this.config().Inc;void 0 !== m && void 0 !== this.uk && (this.YQ=this.uk + m);};d.prototype.W0a=function(m,p,q){var r,u,v,w,x;(0,c.va)(this.Ba,"Unexpected call to setLiveEventTimes(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");if(!this.y1a || q){q=this.j;v=this.uk;w=this.eo;x=null !== (r=this.tqb(m)) && void 0 !== r?r:v;r=null !== (u=this.tqb(p)) && void 0 !== u?u:w;if(void 0 === x && void 0 === r || void 0 !== x && 0 <= x && void 0 === r || void 0 !== x && 0 <= x && void 0 !== r && r > x){if((this.uk=x,this.eo=r,v !== this.uk || w !== this.eo))(!1,q.fireEvent(g.ja.PL));}else this.log.error("Unexpected live event times. Ignoring:startTime:" + (m + ", startPts:") + (x + ", endTime:") + (p + ", endPts:") + r);}};d.prototype.Dpc=function(){var m;(0,c.va)(this.Ba,"Unexpected call to getCurrentContentEventTime(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");m=this.K.gs;if(null !== m)return this.oNa(m);};d.prototype.Epc=function(){var m,p,q;(0,c.va)(this.Ba,"Unexpected call to getCurrentSegmentNumber(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");(0,c.va)(null === (m=this.K.S) || void 0 === m?void 0:m.Aa.Ji,"Live manifest is unavailable.");m=this.K.gs;if(null !== m){p=this.K.S.Aa.Ji;q=p.aU[p.Rna[this.K.S.Aa.km[0].streams[0].$g]];p=Number(q.sOb);q=new k.I(q.duration,q.O);return p + Math.floor(m / q.G);}};d.prototype.Wpa=function(){var m;(0,c.va)(this.Ba,"Unexpected call to getUIAdjustedCurrentContentPts(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");m=this.K.gs;if(null !== m)switch(this.ZK(m)){case e.rz.X5:return 0;case e.rz.FCa:return ((0,c.va)(void 0 !== this.uk,"eventStartPts should be defined in LIVE_EVENT slate."),m - this.uk);case e.rz.XAa:return ((0,c.va)(void 0 !== this.uk && void 0 !== this.eo,"eventStartPts and eventEndPts should be defined in END_SLATE slate."),this.eo - this.uk);}};d.prototype.DLb=function(m){var p,q;(0,c.va)(this.Ba,"Unexpected call to revertUIAdjustedTime(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");return void 0 === this.uk?null !== (q=null !== (p=this.AA()) && void 0 !== p?p:this.K.gs) && void 0 !== q?q:m:this.uk + m;};d.prototype.tBb=function(m){var p;(0,c.va)(this.Ba,"Unexpected call to isWithinUILiveEdgeThreshold(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");p=this.AA();return void 0 !== p && m >= p - this.config().Kzc;};d.prototype.BRa=function(m,p){var q,r,u;(0,c.va)(this.Ba,"Unexpected call to getLiveBookmark(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");if(void 0 !== this.YQ)return {pq:this.YQ,uM:Number.MAX_SAFE_INTEGER,dsb:this.YQ};this.config().lU && this.KR.set(!0);u=Number.MAX_SAFE_INTEGER;p || void 0 === this.uk || void 0 === this.eo && 0 === m?(this.KR.set(!0),m=u):(m=this.uk + m,void 0 !== this.eo && m > this.eo && (m=this.uk));return {pq:m,uM:null !== (q=this.eo) && void 0 !== q?q:Number.MAX_SAFE_INTEGER,dsb:null !== (r=this.uk) && void 0 !== r?r:u};};d.prototype.WK=function(){var m,p,q;return Math.max(null !== (m=this.eo) && void 0 !== m?m:0,null !== (p=this.AA()) && void 0 !== p?p:0,null !== (q=this.K.gs) && void 0 !== q?q:0);};d.prototype.Dyb=function(){var m;(0,c.va)(this.Ba,"Unexpected call to getLiveContentDuration(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");if(void 0 === this.uk)return 0;m=this.K.gs;return (void 0 !== this.eo?this.eo:this.cy() && null !== m?m:this.WK()) - this.uk;};d.prototype.jrc=function(){var m;(0,c.va)(this.Ba,"Unexpected call to getMaxSeekPts(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");m=this.AA();m=void 0 !== this.eo && void 0 !== m?Math.min(this.eo,m):m;!1;return null !== m && void 0 !== m?m:0;};d.prototype.AA=function(){var m,p;(0,c.va)(this.Ba,"Unexpected call to getLiveEdge(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");return null === (p=null === (m=this.j.bb) || void 0 === m?void 0:m.ho(this.K.R)) || void 0 === p?void 0:p.G;};d.prototype.Y1=function(){var m;(0,c.va)(this.Ba,"Unexpected call to seekToLiveEdge(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");this.KR.set(!this.hBb());if(this.j.Xd){m=this.AA();void 0 !== m?this.j.Xd.seek(m,g.Mc.RV,this.K.L):!1;}else this.K.pq=this.BRa(0,!0).pq;};d.prototype.cy=function(){(0,c.va)(this.Ba,"Unexpected call to isAtLiveEdge(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");this.wma();return this.lLa.value;};d.prototype.lu=function(){(0,c.va)(this.Ba,"Unexpected call to intentToPlayAtLiveEdge(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");return this.KR.value;};d.prototype.ZK=function(m){var p,q,r;(0,c.va)(this.Ba,"Unexpected call to getLiveEventState(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");m=null !== (p=null !== m && void 0 !== m?m:this.K.gs) && void 0 !== p?p:0;p=null !== (q=this.uk) && void 0 !== q?q:Infinity;q=null !== (r=this.eo) && void 0 !== r?r:Infinity;return m < p?e.rz.X5:m > q?e.rz.XAa:e.rz.FCa;};d.prototype.PR=function(m){(0,c.va)(this.Ba,"Unexpected call to isLiveEventEnded(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");if(m)return void 0 !== this.eo;m=this.AA();return void 0 !== this.eo && void 0 !== m && this.eo < m;};d.prototype.uxc=function(){var m;(0,c.va)(this.Ba,"Unexpected call to isLiveEventStarted(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");m=this.AA();return void 0 !== this.uk && void 0 !== m && this.uk < m;};d.prototype.hBb=function(){var m;(0,c.va)(this.Ba,"Unexpected call to isPlaybackPausedByUser(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");return this.j.paused.value && !(null === (m=this.j.paused.Xm) || void 0 === m?0:m.mB);};d.prototype.wma=function(){var m;(0,c.va)(this.Ba,"Unexpected call to calculateIsAtLiveEdge(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");this.lLa.set(this.lu() && this.tBb(null !== (m=this.K.gs) && void 0 !== m?m:0));};d.prototype.Fvb=function(){(0,c.va)(this.Ba,"Unexpected call to forceLiveEdgeInStartSlate(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");this.j.$j.value && this.ZK() === e.rz.X5 && !this.cy() && void 0 === this.YQ && this.Y1();};d.prototype.oNa=function(m){var p,q;(0,c.va)(this.Ba,"Unexpected call to convertPtsToEventTime(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");(0,c.va)(null === (p=this.K.S) || void 0 === p?void 0:p.Aa.Ji,"Live manifest is unavailable.");p=this.K.S.Aa.Ji;q=new Date(p.aU[p.Rna[this.K.S.Aa.km[0].streams[0].$g]].QP).getTime();return new Date(q - p.qoa + m).toISOString();};d.prototype.tqb=function(m){var p,q,r;(0,c.va)(this.Ba,"Unexpected call to convertEventTimeToPts(). isLive:" + this.Ba);(0,c.va)(this.j && this.j.ga === this.K,"Playback is required for live.");(0,c.va)(null === (p=this.K.S) || void 0 === p?void 0:p.Aa.Ji,"Live manifest is unavailable.");if(m){p=this.K.S.Aa.Ji;q=p.aU[p.Rna[this.K.S.Aa.km[0].streams[0].$g]];r=new Date(m).getTime() + p.qoa - new Date(q.QP).getTime();if(isNaN(r) || 0 > r)this.log.error("Invalid live event time. Ignoring: eventDateString:" + (m + ", eventAvailabilityOffsetMs:") + (p.qoa + ", availabilityStartTime:") + q.QP);else return r;}};Ha.Object.defineProperties(d.prototype,{Ba:{configurable:!0,enumerable:!0,get:function(){var m,p;m=this.K;p=m.S;m=m.jf;return p?(0,l.RA)(p.Aa.yf):"live" === m;}}});b.Vab=d;},31099:function(t,b,a){var n,c;function d(f,g,e,h){this.config=f;this.Dwa=h;this.log=g.wb("LivePlaybackRateController");this.yxa=e((0,n.ic)(this.config().Xzc));}Object.defineProperty(b,"__esModule",{value:!0});b.Xab=void 0;n=a(5021);c=a(8825);d.prototype.Y2=function(f,g,e){var h,k;h=this;if(!f || void 0 === g || void 0 === e || Math.abs(g - e) < this.config().Yzc)k=1;else (f=e - g,f=1 + this.config().Wzc / 1E3 * f,k=(0,c.qF)(f,this.config().$zc,this.config().Zzc));this.yxa.ig(function(){!1;h.Dwa(k);});};b.Xab=d;},95735:function(t,b,a){var n,c,f,g;function d(){this.jP=!1;this.Fka=n.n5.p5;this.Rmc=["chgstrm","debug","cdnsel","netstats","midplay"];}Object.defineProperty(b,"__esModule",{value:!0});b.kDa=void 0;t=a(22970);n=a(6823);c=a(22674);f=a(29204);g=a(45146);d.prototype.Stb=function(e){var h,k,l,m;h=this;k=e.duration;l=e.lnaStartTime;m=e.level;(0,g.va)(void 0 !== k && 0 < k,"Unexpected or undefined duration value");(0,g.va)(void 0 !== l && 0 < l,"Unexpected or undefined start time value");e.platform && !e.platform.includes("web") || f.config.Gnc || (this.Fka=null !== m && void 0 !== m?m:n.n5.p5,setTimeout(function(){h.jP=!0;h.hub({lnaStopTime:k});},l));};d.prototype.hub=function(e){var h,k;h=this;e=e.lnaStopTime;(0,g.va)(void 0 !== e && 0 < e,"Unexpected or undefined stop time value");k=Math.floor(Math.random() * f.config.oAc) + 1;this.FPa && clearTimeout(this.FPa);this.FPa=setTimeout(function(){h.jP && (h.jP=!1,h.FPa=void 0);},e + k);};d.prototype.sKc=function(e){var h,k,l,m;if("enterLNAMode" === e.type && e.payload)this.Stb(e.payload);else if("exitLNAMode" === e.type && e.payload)this.hub(e.payload);else if("lna" === e.type){h=e.lnaStartTime;k=e.lnaEndTime;l=e.serverCurrTime;e=e.level;if(h && k && l){m=Math.min(k - l,f.config.LBc);l < k && l > h && this.Stb({lnaStartTime:1,duration:m,level:e});}}};d.prototype.MXc=function(){return this.jP && this.Fka === n.n5.S9a;};d.prototype.YIb=function(){return this.jP && (this.Fka === n.n5.MEDIUM || this.Fka === n.n5.S9a);};d.prototype.IAc=function(e){return this.jP && this.Rmc.includes(e);};Ha.Object.defineProperties(d.prototype,{nAc:{configurable:!0,enumerable:!0,get:function(){return this.jP;}}});a=d;b.kDa=a;b.kDa=a=t.__decorate([(0,c.aa)()],a);},11953:function(t,b,a){var c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G;function d(){this.Jxa=[];this.dVc=50;}function n(J){var L;L=this;this.j=J;Promise.resolve();this.KJ=[];this.Dm=new e.rm();this.zjb=0;this.$ja=[];this.sg=(0,l.ko)(this.j,"MediaElementASE");this.Tkb=f.lJ;this.wIa=!1;this.gb=new d();this.tg=new F.wc(C.Yu.bJ.HAVE_NOTHING);this.ZJa={};this.ppa=this.aka(function(){var K;if(L.Ha)return null !== (K=L.Ha.webkitDecodedFrameCount) && void 0 !== K?K:0;});this.yA=this.aka(function(){var K;if(L.Ha){K=L.KIa();return K?K.totalVideoFrames:L.Ha.webkitDecodedFrameCount;}});this.lR=this.aka(function(){var K;if(L.Ha){K=L.KIa();return K?K.droppedVideoFrames:L.Ha.webkitDroppedFrameCount;}});this.z$=this.aka(function(){var K;if(L.Ha){K=L.KIa();return K && K.corruptedVideoFrames;}});this.gkb=function(K){!1;L.Dm.rd(A.Qk.HCb,{J:K});};this.lJa=function(){!0 === w.Ni.hidden?L.$ja.forEach(function(K){K.refresh();K.rSc();}):L.$ja.forEach(function(K){K.refresh();K.RSc();});};this.Bkb=function(K){var M,I;if(L.Ha){K=K.iya;M=L.b3b();M && (K.ConstrictionActive=M.constrictionActive,K.Status=M.status);try{K.readyState="" + L.Ha.readyState;K.currentTime="" + L.Ha.currentTime;K.pbRate="" + L.Ha.playbackRate;}catch(O){}M=L.KJ.length;for(var P;M--;){P=L.KJ[M];I="";P.type == f.gia?I="audio":P.type == f.x5 && (I="video");(0,u.Jf)(K,P.gpa(),{prefix:I});}L.EC && (M=L.EC.duration) && !isNaN(M) && (K.duration=M.toFixed(4));}};this.zkb=function(){L.Dm.rd(A.Qk.aKb);};G?(this.KD=l.Wa.get(y.Gab).create(this,this.j),this.Cd=l.Wa.get(H.Dl),g.config.K_ && new Promise(function(K){L.Tkb=K;L.j.addEventListener(B.ja.rh,K);}),this.sg.trace("Created Media Element"),this.addEventListener=this.Dm.addListener,this.removeEventListener=this.Dm.removeListener,this.klc="encrypted"):this.Xja(m.da.Hdb);}Object.defineProperty(b,"__esModule",{value:!0});b.HDa=void 0;c=a(90762);f=a(33096);g=a(29204);e=a(94886);h=a(37509);k=a(52569);l=a(31276);m=a(36129);p=a(45146);q=a(8825);r=a(67572);u=a(3887);v=a(77705);w=a(22365);x=a(32687);y=a(80012);A=a(16520);z=a(5021);B=a(85001);C=a(63156);D=a(82100);E=a(26388);H=a(53085);F=a(81734);G=!!(w.HO && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);n.prototype.xA=function(J){try{this.Ha && (this.zjb=this.Ha.currentTime);}catch(L){this.sg.error("Exception while getting VIDEO.currentTime",L);J && this.v6(m.da.z_b,L);}return (0,w.zt)(this.zjb * f.yr);};n.prototype.seek=function(J,L){var K;L=void 0 === L?!1:L;(0,p.va)(!this.Qr);this.Mkb();K=this.xA(!0);if(!L && !g.config.n7b && (0,w.iia)(K - J) <= this.hMb)(this.sg.trace("Seek delta too small",{currentTime:K,seekTime:J,min:this.hMb}),this.gb.trace("smallseek",J));else {this.gb.trace("seek",J);try{this.sg.trace("Setting video elements currentTime",{From:(0,q.ik)(K),To:(0,q.ik)(J)});this.Qr={};this.Ha.currentTime=J / f.yr;this.Dm.rd(A.Qk.$t);}catch(M){this.sg.error("Exception while setting VIDEO.currentTime",M);this.v6(m.da.A_b,M);}}};n.prototype.hyb=function(){return !!this.Qr;};n.prototype.addSourceBuffer=function(J){var L;try{L=new c.IDa(this.j,J,this.EC,this.sg);this.KJ.push(L);J == f.x5 && L.bQa && L.bQa.addListener(this.Tkb);this.Dm.rd(A.Qk.hOb);return L;}catch(K){L=(0,u.jj)(K);this.sg.error("Unable to add source buffer.",{error:L});this.j.wg(m.da.HEa,{Ua:J === E.u.X?m.Y.tDa:m.Y.uDa,ef:L});}};n.prototype.B7=function(J){var L;L=this;J.forEach(function(K){return L.addSourceBuffer(K);});return !0;};n.prototype.removeSourceBuffer=function(J){this.KJ=this.KJ.filter(function(L){return !(0,k.Fcc)(J,L);});this.EC.removeSourceBuffer(J);};n.prototype.endOfStream=function(){this.gb.trace("endofstream");!1;g.config.fMa && this.EC.endOfStream();};n.prototype.au=function(J){!1;this.KJ=[];J && J.Rbd();return !0;};n.prototype.JRa=function(){if(this.EC)return (0,z.fJc)(this.EC.duration);};n.prototype.Bic=function(){var J;if(!this.wIa && this.Ha && this.Ha.readyState >= C.Yu.bJ.HAVE_CURRENT_DATA){J=this.Ha.webkitDecodedFrameCount;if(void 0 === J || 0 < J || g.config.iYc)this.wIa=!0;}return this.wIa;};n.prototype.open=function(J){var L;L=this;this.Ha=J || (0,k.createElement)("VIDEO","position:absolute;width:100%;height:100%");try{this.EC=new w.HO();}catch(K){this.v6(m.da.q_b,K);return;}try{this.Hg=URL.createObjectURL(this.EC);}catch(K){this.v6(m.da.r_b,K);return;}try{this.EC.addEventListener("sourceopen",function(K){return L.l4b(K);});this.KD.h6b(this.gkb);this.J6b(this.Ha);this.K6b(this.Ha);this.Ha.src=this.Hg;this.tg.addListener(this.zkb);this.j.addEventListener(B.ja.w1a,this.Bkb);h.ye.addListener(h.us,this.lJa);this.lJa();}catch(K){this.v6(m.da.s_b,K);return;}J || !this.j.RR || g.config.Q3a || this.KD.DGb();};n.prototype.close=function(){this.gb.trace("close");this.Ha && (this.xA(!1),this.Mkb(),this.KJ=[],this.PMc(this.Ha),this.KMc(this.Ha),this.KD.IMc(this.gkb),this.KD.close(),clearTimeout(this.KD.Mcd),this.tg.removeListener(this.zkb),this.j.removeEventListener(B.ja.w1a,this.Bkb),h.ye.removeListener(h.us,this.lJa),this.Ha=void 0);};n.prototype.JNc=function(){this.Qr && (this.gb.trace("resetSeek"),this.Qr=void 0);};n.prototype.f4b=function(){g.config.Q3a && this.KD.DGb();};n.prototype.KIa=function(){if(this.Ha)return this.Ha.getVideoPlaybackQuality && this.Ha.getVideoPlaybackQuality() || this.Ha.videoPlaybackQuality || this.Ha.playbackQuality;};n.prototype.S4b=function(){var J;J=this.j.Nj;return (J=J && J.errorCode) && 0 <= [m.da.Eia,m.da.Rha].indexOf(J);};n.prototype.aka=function(J){var L;L=l.Wa.get(r.sdb)(J);this.$ja.push(L);return function(){L.refresh();return L.Cpc();};};n.prototype.v6=function(J,L){var K,M;K={Ua:m.Y.wr,ef:(0,u.jj)(L)};try{M=L.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase();M && 8 == M.length && (K.Ng=M);}catch(P){}this.j.wg(J,K);};n.prototype.Mkb=function(){this.$ja.forEach(function(J){J.refresh();});};n.prototype.b3b=function(){return this.Ha && this.Ha.msGraphicsTrustStatus;};n.prototype.Xja=function(J,L){this.j.wg(J,L,void 0);};n.prototype.l4b=function(J){!1;this.V4b || (this.V4b=!0,this.Dm.rd(A.Qk.Twa,J));};n.prototype.k4b=function(){this.gb.trace("seeking");this.sg.trace("Video element event: seeking");this.Qr?this.Qr.PEc=!0:(this.sg.error("unexpected seeking event"),g.config.ymc && this.Xja(m.da.F_b,{ef:{Trace:this.gb.e_()}}));};n.prototype.j4b=function(){this.gb.trace("seeked");this.sg.trace("Video element event: seeked");this.Qr?((0,p.va)(this.Qr.PEc),this.Qr.OEc=!0,this.olb()):(this.sg.error("unexpected seeked event"),g.config.xmc && this.Xja(m.da.E_b,{ef:{Trace:this.gb.e_()}}));};n.prototype.m4b=function(){var J;this.gb.trace("timeupdate",null === (J=this.Ha) || void 0 === J?void 0:J.currentTime);!1;this.Qr && (this.Qr.REc=!0,this.olb());this.Dm.rd(A.Qk.$t);};n.prototype.i4b=function(){this.sg.trace("Video element event: loadstart");};n.prototype.n4b=function(J){this.sg.trace("Video element event:",J.type);try{this.j.volume.set(this.Ha.volume);this.j.muted.set(this.Ha.muted);}catch(L){this.sg.error("error updating volume",L);}};n.prototype.g4b=function(J){var L,K,M,P,I,O,Q,T;L=this.Xja;K=m.da.Gdb;M=m.Z8a;P=this.gb.e_();I=J.target;O=I && I.error;Q=J.errorCode;I=O && O.code;(0,x.$c)(I) || (I=Q && Q.code);Q=O && O.message;T=O && O.msExtendedCode;(0,x.$c)(T) || (T=O && O.systemCode);(0,x.$c)(T) || (T=J.systemCode);(0,x.$c)(T) || (T=(0,D.VRa)(Q));J=(0,u.Jf)({},{code:I,systemCode:T,trace:JSON.stringify(P)},{Yta:!0});M={Ua:M(I),ef:(0,v.aWa)(J)};try{Q && (M.fca=Q);}catch(U){}T=(0,u.am)(T);(0,x.pc)(T) && (M.Ng=(0,l.BLa)(T,4));L.call(this,K,M);};n.prototype.olb=function(){this.Qr && this.Qr.OEc && this.Qr.REc && (this.gb.trace("seekcomplete"),this.Qr=void 0,this.Dm.rd(A.Qk.sea));};n.prototype.J6b=function(J){var K,M;function L(P,I){J.addEventListener(P,M[P]=I);}K=this;M=this.ZJa;L("error",function(P){return K.g4b(P);});L("seeking",function(){return K.k4b();});L("seeked",function(){return K.j4b();});L("timeupdate",function(){return K.m4b();});L("loadstart",function(){return K.i4b();});L("volumechange",function(P){return K.n4b(P);});L(this.klc,function(){return K.f4b();});g.config.Jic && L("contextmenu",function(P){return P.preventDefault();});this.xLc=this.Cd.ZT((0,z.ic)(500),function(){K.tg.set(J.readyState);});};n.prototype.PMc=function(J){var L,P;if(J){for(var K=Ea(Object.entries(this.ZJa)),M=K.next();!M.done;M=K.next()){P=Ea(M.value);M=P.next().value;P=P.next().value;J.removeEventListener(M,P);delete this.ZJa[M];}null === (L=this.xLc) || void 0 === L?void 0:L.cancel();this.tg.set(C.Yu.bJ.HAVE_NOTHING);}};n.prototype.K6b=function(J){var L,K;L=this.j.Iu;K=L.lastChild;K?L.insertBefore(J,K):L.appendChild(J);};n.prototype.KMc=function(J){g.config.SJc && this.S4b() || (J.removeAttribute("src"),J.load(),this.j.Iu.removeChild(J));this.Hg && (URL.revokeObjectURL(this.Hg),this.Hg=void 0);this.EC=void 0;};Ha.Object.defineProperties(n.prototype,{sourceBuffers:{configurable:!0,enumerable:!0,get:function(){return this.KJ;}},hMb:{configurable:!0,enumerable:!0,get:function(){return g.config.YRc;}}});b.HDa=n;d.prototype.trace=function(J,L){this.Jxa.push([J,L]);this.Jxa.length > this.dVc && this.Jxa.shift();};d.prototype.e_=function(){return this.Jxa;};},51149:function(t,b,a){var n,c,f,g,e,h,k,l;function d(m,p){var q;q=this;this.Sq=m;this.ZG=p;this.hQb=function(r){var u,v,w,x,y,A;u=q.zPb++;v=r.request.BK || "dl";w=q.Byb(v,"start");if(w){x=r.request.bM.L;if(x && !q.DOb.has(x)){y=q.Lxb(x);A=r.mE;q.Sq.mark(w,y,A?v + "-" + A + "-" + u:v);r.gla(function(){var z,B;z=q.Byb(v,"end");B=A?v + "-" + A + "-" + u:v;z && q.Sq.mark(z,y,B);});}}};this.zPb=0;this.DOb=new Set();this.y0a=new Map();p.E9 && this.nYc();}Object.defineProperty(b,"__esModule",{value:!0});b.VDa=void 0;t=a(22970);n=a(22674);c=a(63156);f=a(77134);g=a(5021);e=a(61726);h=a(34231);k=a(79542);l={start:{video:c.nb.R3,audio:c.nb.N3},end:{video:c.nb.Q3,audio:c.nb.M3}};d.prototype.Mxb=function(m){var q,r,u,v,w,x,y,A;function p(z){return (0,g.timestamp)(q.wmb((0,g.timestamp)(z),m,!0));}q=this;r=new Set();u=m.If;v=m.Ia;w=void 0 === m.wOb?null:m.wOb;x=m.L;y=this.Sq.rxb(v);A=x && this.Lxb(x);A && y.push.apply(y,za(this.Sq.rxb(A)));this.Sq.BKb(m.Ia);A && this.Sq.BKb(A);x && this.DOb.add(x);x=[];("pr_ats" in u) && x.push({name:c.nb.aja,$y:p(u.pr_ats),Ia:v,correlationId:"request-pre-manifest"});("ats" in u) && x.push({name:c.nb.Zia,$y:p(u.ats),Ia:v,correlationId:"request-manifest"});("pr_at" in u) && x.push({name:c.nb.$ia,$y:p(u.pr_at),Ia:v,correlationId:"request-pre-manifest"});("at" in u) && x.push({name:c.nb.Yia,$y:p(u.at),Ia:v,correlationId:"request-manifest"});("lg" in u) && x.push({name:c.nb.Xia,$y:p(u.lg),Ia:v,correlationId:"request-license"});("lr" in u) && (x.push({name:c.nb.Wia,$y:p(u.lr),Ia:v,correlationId:"request-license"}),x.push({name:c.nb.Bga,$y:p(u.lr),Ia:v,correlationId:"apply-license"}));("ld" in u) && x.push({name:c.nb.Aga,$y:p(u.ld),Ia:v,correlationId:"apply-license"});("tt_start" in u) && x.push({name:c.nb.P3,$y:p(u.tt_start),Ia:v,correlationId:"request-timed-text"});("tt_comp" in u) && x.push({name:c.nb.O3,$y:p(u.tt_comp),Ia:v,correlationId:"request-timed-text"});return x.concat(y).map(function(z){return q.PUc(z,m);}).filter(function(z){return z.ts <= (null !== w && void 0 !== w?w:z.ts)?("end" === z.step && r.add(z.eventId),!0):!1;}).filter(function(z){return "start" !== z.step || r.has(z.eventId)?!0:!1;}).sort(function(z,B){return z.ts - B.ts;}).reduce(function(z,B){var C;C=B.eventName;delete B.eventName;C && (z[C]=B);return z;},{});};d.prototype.T6b=function(m,p,q){return (void 0 === q?0:q)?m.oa(g.za) + p.Yj.oa(g.za):m.oa(g.za) - p.Yj.oa(g.za);};d.prototype.wmb=function(m,p,q){q=void 0 === q?!1:q;if(p.mr)if(q)m.oa(g.za) + p.mr;else return m.oa(g.za) - p.mr;return this.T6b(m,p,q);};d.prototype.PUc=function(m,p){var q,r;q=m.correlationId;r=m.name;return {eventName:this.kEc(r,q),eventId:q || r,ts:this.wmb(m.$y,p),comp:this.x$(r),cat:this.ipc(r),step:this.Zsc(r)};};d.prototype.kEc=function(m,p){switch(m){case c.nb.P3:case c.nb.O3:case c.nb.N3:case c.nb.M3:case c.nb.R3:case c.nb.Q3:return m + "-" + p;default:return m;}};d.prototype.x$=function(m){switch(m){case c.nb.aja:case c.nb.$ia:case c.nb.Zia:case c.nb.Yia:return "manifest";case c.nb.Xia:case c.nb.Wia:case c.nb.yGa:case c.nb.xGa:case c.nb.Dha:case c.nb.Cha:case c.nb.Bga:case c.nb.Aga:return "license";case c.nb.P3:case c.nb.O3:case c.nb.N3:case c.nb.M3:case c.nb.R3:case c.nb.Q3:case c.nb.Gya:case c.nb.Fya:return "buffering";case c.nb.EEa:case c.nb.DEa:return "playback";default:return (0,k.QG)(m);}};d.prototype.ipc=function(m){switch(m){case c.nb.aja:case c.nb.$ia:case c.nb.Zia:case c.nb.Yia:return "aws";case c.nb.Xia:case c.nb.Wia:return "mixed";case c.nb.EEa:case c.nb.DEa:case c.nb.yGa:case c.nb.xGa:case c.nb.Dha:case c.nb.Cha:case c.nb.Bga:case c.nb.Aga:case c.nb.Gya:case c.nb.Fya:return "device";case c.nb.P3:case c.nb.O3:case c.nb.N3:case c.nb.M3:case c.nb.R3:case c.nb.Q3:return "cdn";default:return (0,k.QG)(m);}};d.prototype.Zsc=function(m){switch(m){case c.nb.aja:case c.nb.EEa:case c.nb.Zia:case c.nb.Xia:case c.nb.Gya:case c.nb.P3:case c.nb.N3:case c.nb.R3:case c.nb.yGa:case c.nb.Dha:case c.nb.Bga:return "start";case c.nb.$ia:case c.nb.DEa:case c.nb.Yia:case c.nb.Wia:case c.nb.xGa:case c.nb.Cha:case c.nb.Aga:case c.nb.Fya:case c.nb.O3:case c.nb.M3:case c.nb.Q3:return "end";default:return (0,k.QG)(m);}};d.prototype.Byb=function(m,p){if((m in l[p]))return l[p][m];};d.prototype.XVc=function(){e.De.removeEventListener(e.sqa,this.hQb);};d.prototype.nYc=function(){this.XVc();e.De.addEventListener(e.sqa,this.hQb);};d.prototype.Lxb=function(m){var p;if(this.y0a.has(m))return this.y0a.get(m);p=Date.now();this.y0a.set(m,p);return p;};a=d;b.VDa=a;b.VDa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.D5)),t.__param(1,(0,n.v)(h.xt))],a);},27104:function(t,b,a){var c,f,g,e,h,k,l,m,p,q;function d(r,u,v,w,x,y){var A;A=this;this.sj=r;this.config=v;this.ec=w;this.debug=x;this.RP={};this.Vsb=!1;this.Y7={};this.aUa=0;this.rpa=function(z){var B,C,D;B=z.stream;if(B){z=B.ob;C=B.bitrate;D=B.Qb;}else z=z.track.ob;return {key:z + "$" + C + "$" + D,ob:z,bitrate:C,Qb:D};};this.Hwb=function(z){var B,C,D;C=A.rpa(z);D=null === (B=z.Tc) || void 0 === B?void 0:B.id;z=z.track.correlationId;return Object.assign({},C,{key:C.key + "$" + D + "$" + z,Uh:D,correlationId:z});};this.dpc=function(z){var B;B=z.stream;z=null === B || void 0 === B?void 0:B.ob;B=null === B || void 0 === B?void 0:B.bitrate;return {key:z + "$" + B,ob:null !== z && void 0 !== z?z:"",h0:B};};this.Otc=function(z){var B;B=z.stream;z=null === B || void 0 === B?void 0:B.ob;B=null === B || void 0 === B?void 0:B.Qb;return {key:z + "$" + B,ob:null !== z && void 0 !== z?z:"",h0:B};};this.log=u.wb("PlayTimeTracker");this.Kua=y(r);this.vB=y(r);this.YYa=y(r);this.startTime=this.sj.mediaTime.value;this.bsa=this.config().y5b;this.eV();this.RP.abrdel=0;this.bsa.forEach(function(z){z="abrdel" + z;A.Y7[z]=0;A.RP[z]=0;});}function n(){}Object.defineProperty(b,"__esModule",{value:!0});b.uFa=void 0;t=a(22970);c=a(22674);f=a(87386);g=a(4203);e=a(71501);a(5021);h=a(42207);k=a(90597);l=a(33096);m=a(3887);p=a(39551);q=a(30873);n.prototype.encode=function(r){return {downloadableId:r.ob,correlationId:r.correlationId,bitrate:r.bitrate,vmaf:r.Qb,duration:r.duration,metric:r.h0,cdnId:r.Uh};};n.prototype.decode=function(r){return {ob:r.downloadableId,correlationId:r.correlationId,bitrate:r.bitrate,Qb:r.vmaf,duration:r.duration,h0:r.metric,Uh:r.cdnId};};d.prototype.Zv=function(r){r=void 0 === r?"content":r;this.kN(this.sj.mediaTime.value);return Math.floor(this.vB.Zv(function(u){return u.Ep === r;}));};d.prototype.hRa=function(r){this.kN(this.sj.mediaTime.value);return Math.floor(this.vB.Zv(r));};d.prototype.eaa=function(r){var u;r=void 0 === r?"content":r;this.kN(this.sj.mediaTime.value);u=this.vB.eaa(function(v){return v.Ep === r;});this.debug.assert(u === Math.floor(u),"Value of totalContentPlayTime is not an integer.");return Math.floor(u);};d.prototype.Uoc=function(){this.kN(this.sj.mediaTime.value);return {audio:this.C$(this.Kua,this.Hwb),video:this.C$(this.vB,this.Hwb)};};d.prototype.Zrc=function(){var r,u,v;r=this.Zv("content");u=this.Zv("ads");v=this.Zv("other");r={total:r,totalAdDuration:u,totalOtherDuration:v,totalCombinedDuration:r + u + v,totalContentTime:this.eaa("content"),totalStartSlateDuration:this.hRa(function(w){return !0 === w.Zaa;}),totalLiveEdgeDuration:this.hRa(function(w){return !0 === w.cy;}),totalLiveEdgeAdDuration:this.hRa(function(w){return !0 === w.cy && "ads" === w.Ep;}),audio:this.C$(this.Kua,this.rpa),video:this.C$(this.vB,this.rpa),timedtext:this.C$(this.YYa,this.rpa)};this.debug.assert(!(!r.audio || !r.video));return r;};d.prototype.MQa=function(){var r,u;this.kN(this.sj.mediaTime.value);r=this.vB.IQa(this.dpc);try{u=this.iwb(r);}catch(v){return (this.log.warn("Failed to calc average bitrate."),null);}this.RP.abrdel=Math.round(u);return this.RP.abrdel;};d.prototype.jwb=function(){var r,u;this.kN(this.sj.mediaTime.value);r=this.vB.IQa(this.Otc);try{u=this.iwb(r);}catch(v){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(u);};d.prototype.hwb=function(){var r,u;r=this;if(!this.Vsb){u=this.Zv();this.bsa.forEach(function(v){var w,x,y;if(0 === r.Y7["abrdel" + v] && u > v * l.yr){w=0;x=0;y=0;r.vB.some(function(A){w+=A.stream.bitrate * (A.endTime - A.startTime);x+=A.endTime - A.startTime;y=A.stream.bitrate;return x > v * l.yr;});w && (r.Y7["abrdel" + v]=Math.round((w - y * (x - v * l.yr)) / (v * l.yr)));}});0 !== this.Y7["abrdel" + this.bsa[this.bsa.length - 1]] && (this.Vsb=!0);(0,m.Di)(this.Y7,function(v,w){r.RP[v]=0 === w?r.RP.abrdel:w;});}return this.RP;};d.prototype.d6b=function(r){this.aUa+=r;};d.prototype.mqa=function(){return this.vB.mqa();};d.prototype.eV=function(){var r;r=this;this.sj.Ye.addListener(function(u){r.wY=r.Pob(r.wY,r.Kua,u.newValue);});this.sj.ze.addListener(function(u){r.BY=r.Pob(r.BY,r.vB,u.newValue);});this.sj.playbackRate.addListener(function(u){r.kN(r.sj.mediaTime.value,u.oldValue);});this.sj.Xk.addListener(this.hFc.bind(this));};d.prototype.tXa=function(r,u){this.kN(r);this.startTime=u;this.BY=this.wY=void 0;this.AY && (this.AY.startTime=this.startTime);!1;};d.prototype.hFc=function(r){this.YYa.Re(this.AY,this.sj.mediaTime.value);this.AY=(r=r.newValue)?{track:r,startTime:this.sj.mediaTime.value,endTime:e.kF}:void 0;};d.prototype.kN=function(r,u){u=void 0 === u?this.sj.playbackRate.value:u;r && this.wY && this.BY && (r=Math.min(r,this.wY.endTime,this.BY.endTime),this.Kua.Re(this.wY,r,u),this.wY.startTime=r,this.vB.Re(this.BY,r,u),this.BY.startTime=r,this.AY && (this.YYa.Re(this.AY,r,u),this.AY.startTime=r),this.startTime=r,!1);};d.prototype.Pob=function(r,u,v){var w,x;r && u.Re(r,Math.min(r.endTime,this.sj.mediaTime.value));if(v && v.stream){r=v.aY;u=v.stream;w=v.Ep;x=this.sj.Dc;return {Tc:v.Tc,track:u.track,stream:u,startTime:Math.max(r.startTime,this.startTime),endTime:r.endTime,Zaa:x.Ba?x.ZK(r.mqb) === q.rz.X5:void 0,cy:x.Ba?x.lu():void 0,Ep:w};}};d.prototype.C$=function(r,u){return r.IQa(u,"content").map(function(v){return new n().encode(v);});};d.prototype.iwb=function(r){var u,v,w;u=this;v=0;r.forEach(function(x){if(u.ec.Ci(x.duration) && u.ec.Ci(x.h0))v+=x.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!v)return 0;w=0;r.forEach(function(x){w+=x.h0 * x.duration / v;});return w;};a=d;b.uFa=a;b.uFa=a=t.__decorate([(0,c.aa)(),t.__param(1,(0,c.v)(f.zb)),t.__param(2,(0,c.v)(g.Ic)),t.__param(3,(0,c.v)(h.Mi)),t.__param(4,(0,c.v)(k.hC)),t.__param(5,(0,c.v)(p.IFa))],a);},24722:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L,K,M;function d(P,I,O,Q,T,U,X,Y,W,Z,ba,ca,da,ia,S,N,V,aa,fa,ha,ka,pa,oa,la,R,ea,ja,sa){this.MA=P;this.eK=I;this.Xa=O;this.Na=Q;this.q9b=T;this.G2a=U;this.Qba=X;this.fWa=Y;this.S_=W;this.og=Z;this.Zj=ba;this.ql=ca;this.TP=da;this.ida=ia;this.vh=S;this.i3a=N;this.di=V;this.Sq=aa;this.Rf=fa;this.WYa=ha;this.fNc=ka;this.hLa=pa;this.wS=oa;this.HYa=la;this.sKa=R;this.G$b=ea;this.zH=ja;this.zX=sa;}Object.defineProperty(b,"__esModule",{value:!0});b.BFa=void 0;t=a(22970);n=a(62665);c=a(22674);f=a(45842);g=a(11479);e=a(81918);h=a(30869);k=a(12826);l=a(37104);m=a(24273);p=a(73449);q=a(66476);r=a(79274);u=a(52531);v=a(24550);w=a(91622);x=a(61861);y=a(78388);A=a(45118);z=a(6823);B=a(74870);C=a(92205);D=a(77134);E=a(93367);H=a(85405);F=a(2160);G=a(49745);J=a(50889);L=a(70068);K=a(33258);d.prototype.create=function(P,I,O,Q,T,U,X,Y){return new (a(18128).Geb)(P,I,U,X,Q,T,this.MA,O,this.Xa,this.eK,this.Na,this.Qba,this.q9b,this.G2a,this.fWa,this.S_,this.og,this.Zj,this.ql,this.TP,this.ida,this.vh,this.i3a,this.di,this.Rf,this.WYa,this.Sq,this.fNc(),this.hLa,this.wS,this.HYa,this.sKa,this.G$b,this.zH,void 0,Y);};M=d;b.BFa=M;b.BFa=M=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(n.iF)),t.__param(1,(0,c.v)(g.fk)),t.__param(2,(0,c.v)(e.ie)),t.__param(3,(0,c.v)(h.Li)),t.__param(4,(0,c.v)(k.j6a)),t.__param(5,(0,c.v)(f.uJ)),t.__param(6,(0,c.v)(l.DDa)),t.__param(7,(0,c.v)(m.Obb)),t.__param(8,(0,c.v)(p.u5)),t.__param(9,(0,c.v)(q.TO)),t.__param(10,(0,c.v)(r.P5)),t.__param(11,(0,c.v)(u.LO)),t.__param(12,(0,c.v)(w.r6a)),t.__param(13,(0,c.v)(x.GFa)),t.__param(14,(0,c.v)(G.YV)),t.__param(15,(0,c.v)(y.cib)),t.__param(16,(0,c.v)(A.Xp)),t.__param(17,(0,c.v)(D.D5)),t.__param(18,(0,c.v)(B.Bm)),t.__param(19,(0,c.v)(C.Heb)),t.__param(20,(0,c.v)(E.Ufb)),t.__param(21,(0,c.v)(H.B5a)),t.__param(22,(0,c.v)(F.WDa)),t.__param(23,(0,c.v)(J.meb)),t.__param(24,(0,c.v)(L.Xya)),t.__param(25,(0,c.v)(K.Xza)),t.__param(26,(0,c.v)(z.fia)),t.__param(27,(0,c.v)(v.C3)),t.__param(27,(0,c.optional)())],M);},18128:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L,K,M,P,I,O,Q,T,U,X,Y,W,Z,ba,ca,da,ia;function d(S,N,V,aa,fa,ha,ka,pa,oa,la,R,ea,ja,sa,ta,qa,Aa,Ga,na,va,xa,ra,ya,Ca,Ja,Ka,La,Oa,Na,Qa,Va,Sa,Ta,bb,Xa,gb){var Fa,Ib;function wb(Da){Da.newValue && Da.newValue.stream && (Fa.ze.removeListener(wb),Fa.Jqa=Da.newValue.stream.bitrate);}function xb(Da){Da.newValue !== O.Nb.ph && Da.newValue !== O.Nb.Oi && (Fa.Zb.removeListener(xb),Fa.oH=Fa.Na.pI,Fa.jc.rd(O.ja.tB));}function yb(Da){Da.newValue !== O.Nb.ph && (Fa.Zb.removeListener(yb),Fa.Fp=!0,Fa.hda=Fa.Na.Mg.oa(C.za),Fa.jc.rd(O.ja.Fp));}Fa=this;this.xb=fa;this.lm=ha;this.MA=ka;this.Xa=oa;this.eK=la;this.Na=R;this.Qba=ea;this.fWa=ta;this.S_=qa;this.og=Aa;this.Zj=Ga;this.ql=na;this.TP=va;this.ida=xa;this.vh=ra;this.i3a=ya;this.di=Ca;this.Rf=Ja;this.WYa=Ka;this.Sq=La;this.D_a=Oa;this.hLa=Na;this.wS=Qa;this.HYa=Va;this.sKa=Sa;this.$La=Ta;this.zH=bb;this.zX=Xa;this.KIb=[];this.wo=new Map();this.rTa=new Map();this.Rh=new ba.AbortController();this.ka=new ca.MFa();this.Xk=new p.wc(null);this.ZB=new p.wc(void 0);this.ag=new p.wc(null);this.fj=new p.wc(null);this.mediaTime=new p.wc(void 0);this.playbackRate=new Y.Keb(1,q.config.sWa);this.background=new p.wc(!0);this.Yfa=function(Da){return Fa.ka.Vy(Da);};this.$Vc=function(Da){return Fa.Xk.set(Da.newValue);};this.OWc=function(Da){return Fa.ZB.set(Da.newValue);};this.QWc=function(Da){return Fa.ag.set(Da.newValue);};this.bWc=function(Da){return Fa.fj.set(Da.newValue);};this.GWc=function(Da){return Fa.ze.set(Da.newValue);};this.FWc=function(Da){return Fa.Ye.set(Da.newValue);};this.yWc=function(Da){return Fa.mediaTime.set(Da.newValue);};this.cWc=function(Da){return Fa.background.set(Da.newValue);};this.Y2=function(Da){return Fa.playbackRate.set(Da.newValue);};this.Es={};this.U_a=this.Z2a=0;this.jc=new r.rm();this.iya={};this.Zea=this.AIb=this.Fp=!1;this.bV=new p.wc(void 0);this.state=new p.wc(O.Gc.dW);this.$j=new p.wc(!1);this.paused=new p.wc(!1);this.muted=new p.wc(!1);this.volume=new p.wc(q.config.Phc / 100);this.Zb=new p.wc(O.Nb.ph);this.ke=new p.wc(O.mh.Sf);this.Pt=new p.wc(O.mh.Sf);this.Gn=new p.wc(O.mh.Sf);this.Ye=new p.wc(null);this.ze=new p.wc(null);this.VLa=new p.wc(null);this.tqa=(0,l.WWb)(this);this.Tc=[new p.wc(null),new p.wc(null),new p.wc(null)];this.ELa={};this.VY=!1;this.kb=this.Jh=-1;this.vR=function(Da,Ra){var Ya;Da=void 0 === Da?null:Da;return (0,J.pc)(Da)?Ra && !Fa.Vl(Ra).S?Da:(null === (Ya=Fa.bb) || void 0 === Ya?0:Ya.lk)?Fa.bb.nNa(Da):Da:null;};this.Jca=function(){Fa.O1a();};this.WGb=function(){var Da,Ra;Ra=document.hidden;0 === Fa.CY && Ra && !Fa.paused.value?(Fa.paused.set(!0,{mB:!0}),!1):Ra || !Fa.paused.value || !0 !== (null === (Da=Fa.paused.Xm) || void 0 === Da?void 0:Da.mB) || Fa.background.value || (Fa.Dc.Ba && Fa.Dc.lu() && Fa.Dc.Y1(),Fa.paused.set(!1,{mB:!0}),!1);};this.UAc=this.AG=S;this.addEventListener=this.jc.addListener;this.removeEventListener=this.jc.removeListener;this.fireEvent=this.jc.rd;this.lla({J:S,Ff:fa.ga.xp,L:aa,qb:V || ({})},q.config.Iy?this.og.DA(S):void 0,N);this.log=(0,B.ko)(this);this.Dsb=pa(this);this.p9b=ja(this);this.Iu=(0,P.createElement)("DIV",m.jGa,void 0,{id:this.R});this.bwc();this.nd=this.log.iQ("Playback");(0,f.R_b)(this);w.Az.uca=this;w.Az.eQa || (w.Az.eQa=this);this.nd.info("Playback created",this.Ki);this.oDb?this.nd.info("Playback selected for trace playback info logging"):this.nd.trace("Playback not selected for trace playback info logging");q.config.Iy && (this.og.luc(this.R),this.addEventListener(O.ja.tB,function(){Fa.og.nuc(Fa.R);Fa.ka.addListener([Z.u.Da],function(){Fa.og.Ryb();});Fa.ka.addListener([Z.u.X],function(){Fa.og.Ryb();});}),this.addEventListener(O.ja.rh,function(){Fa.og.kuc(Fa.R);}));this.state.addListener(function(Da){Fa.nd.info("Playback state changed",{From:Da.oldValue,To:Da.newValue});(0,E.va)(Da.newValue > Da.oldValue);});v.ye.addListener(v.hn,this.Jca,m.vEa);Ib=sa((0,C.Zi)(1));this.mediaTime.addListener(function(){Fa.nnc();Ib.ig(function(){return Fa.jvb();});});this.Zb.addListener(function(Da){Fa.nd.info("PresentingState changed",{From:Da.oldValue,To:Da.newValue,MediaTime:(0,H.ik)(Fa.mediaTime.value)},Fa.hB());});this.Zb.addListener(function(){Fa.$j.set(Fa.Zb.value === O.Nb.rg);});this.ke.addListener(function(Da){Fa.nd.info("BufferingState changed",{From:Da.oldValue,To:Da.newValue,MediaTime:(0,H.ik)(Fa.mediaTime.value)},Fa.hB());});this.Pt.addListener(function(Da){Fa.nd.info("AV BufferingState changed",{From:Da.oldValue,To:Da.newValue,MediaTime:(0,H.ik)(Fa.mediaTime.value)},Fa.hB());});this.Gn.addListener(function(Da){Fa.nd.info("Text BufferingState changed",{From:Da.oldValue,To:Da.newValue,MediaTime:(0,H.ik)(Fa.mediaTime.value)},Fa.hB());});this.ka.addListener([Z.u.X],function(Da){(0,E.va)(Da.yy && Da.yy.ff);Fa.nd.info("AudioTrack changed",Da.yy && ({ToBcp47:Da.yy.Ig,To:Da.yy.trackId}),Da.tw && ({FromBcp47:Da.tw.Ig,From:Da.tw.trackId}),{MediaTime:(0,H.ik)(Fa.mediaTime.value)});});this.ka.addListener([Z.u.Da],function(Da){(0,E.va)(!Da.so || Da.so.ff);Fa.nd.info("TimedTextTrack changed",Da.so?{ToBcp47:Da.so.Ig,To:Da.so.trackId}:{To:"none"},Da.Cy?{FromBcp47:Da.Cy.Ig,From:Da.Cy.trackId}:{From:"none"},{MediaTime:(0,H.ik)(Fa.mediaTime.value)});});this.Zb.addListener(yb,m.gW);this.Zb.addListener(xb);this.addEventListener(O.ja.tB,function(){Fa.Zea=!0;Fa.wOb=Fa.q8();Fa.ih("start");});this.ze.addListener(wb);(0,z.T_b)(this);w.bq.push(this);q.config.Mda && (this.Fua=this.WYa(this),this.Iua=new y.Meb(this));w.yFa.forEach(function(Da){Da(Fa);});this.p6b=function(){Fa.addEventListener(O.ja.G1,function(Da){var Ra,Ya,ob,zb,Jb,$a,Ab,Kb,pb,Bb,Lb;zb=Da.Fc;Jb=Da.skip;$a=Da.ES;Ab=Da.LS;Kb=Da.R;pb=Da.Ol;if(zb !== O.Mc.rW && zb !== O.Mc.No)if((null === (Ra=Fa.bb) || void 0 === Ra?void 0:Ra.stop(),Jb)){if(null !== (Ya=Fa.bb) && void 0 !== Ya && Ya.cl($a)){Fa.nd.trace("Repositioned. Skipping from " + Ab + " to " + $a);Da=function(Pa){Fa.log.error("streamingSession.skipped threw an exception",Pa);Pa=Q.se.Uoa(D.da.pTb,Pa);Fa.Dw(Pa.code,Pa);};try{Fa.bb.jN($a).then(function(Pa){var ab;Pa.s_ || (null === (ab=Fa.bb) || void 0 === ab?void 0:ab.play());}).catch(Da);}catch(Pa){Da(Pa);}}else Fa.log.error("can skip returned false");}else {Fa.nd.trace("Repositioned. Seeking from " + Ab + " to " + $a);try{Bb=Fa.xb.rR(Fa.ga);Lb=Object.keys(Bb.ba).find(function(Pa){var ab;Pa=Bb.ba[Pa];return Pa.J === Kb && Pa.Ta <= pb && (null !== (ab=Pa.cb) && void 0 !== ab?ab:Infinity) > pb;});null === (ob=Fa.bb) || void 0 === ob?void 0:ob.UOc(pb,Lb);}catch(Pa){Fa.log.error("streamingSession.seekByContentPts threw an exception",Pa);$a=Q.se.Uoa(D.da.nTb,Pa);Fa.Dw($a.code,$a);}}});Fa.addEventListener(O.ja.Rs,function(Da){Fa.D_a.Rs(Da);Fa.ga.Dp.tXa(Da.LS,Da.ES);});};this.playbackRate.addListener(function(){var Da,Ra;if(null === (Da=Fa.bb) || void 0 === Da?0:Da.lk)null === (Ra=Fa.bb) || void 0 === Ra?void 0:Ra.zIc();});this.addEventListener(O.ja.lG,function(Da){var Ra;if(Da.Fc == w.wFa)try{Fa.ke.set(O.mh.Sf);null === (Ra=Fa.bb) || void 0 === Ra?void 0:Ra.pr(Fa.Xd.Iwb());}catch(Ya){Fa.log.error("streamingSession.underflow threw an exception",Ya);Da=Q.se.Uoa(D.da.qTb,Ya);Fa.Dw(Da.code,Da);}});v.ye.addListener(v.us,this.WGb);gb && (this.ga.S=gb,this.vh.tU(S,gb));}Object.defineProperty(b,"__esModule",{value:!0});b.Geb=void 0;n=a(22970);c=a(50040);f=a(86258);g=a(20318);e=a(66093);h=a(11953);k=a(73585);l=a(24427);m=a(33096);p=a(81734);q=a(29204);r=a(94886);u=a(42654);v=a(37509);w=a(13044);x=a(59032);y=a(62439);A=a(79014);z=a(39480);B=a(31276);C=a(5021);D=a(36129);E=a(45146);H=a(8825);F=a(3887);G=a(32219);J=a(32687);L=a(73056);K=a(45266);M=a(16520);P=a(52569);I=a(72639);O=a(85001);Q=a(31149);T=a(78719);U=a(35128);X=a(13494);Y=a(65361);W=a(79048);Z=a(26388);ba=a(91176);ca=a(73403);da=a(54973);ia=a(99416);d.prototype.ih=function(S,N){var V;N=void 0 === N?this.AG:N;null === (V=this.wo.get(N)) || void 0 === V?void 0:V.ih(S);};d.prototype.jL=function(S){this.ga.jL(S);};d.prototype.eqa=function(){var S;return !(null === (S=this.S) || void 0 === S || !S.Aa.$C);};d.prototype.x_=function(){return this.xb.x_();};d.prototype.aw=function(){var S,N,V,aa;aa=null === (S=this.S) || void 0 === S?void 0:S.Aa.Jd;return 0 < (null !== (N=null === aa || void 0 === aa?void 0:aa.lb.length) && void 0 !== N?N:0) || !0 === (null === aa || void 0 === aa?void 0:aa.Ij) || !0 === (null === (V=this.Ec) || void 0 === V?void 0:V.aw());};d.prototype.LUa=function(S){return void 0 !== S && S === this.Ff;};d.prototype.bwc=function(){var S;S=this;this.ka.addListener([Z.u.X,Z.u.Da,Z.u.U],function(N){return S.ga.ka.Vy(N);});this.Xk.addListener(function(N){return S.ga.Xk.set(N.newValue);});this.ZB.addListener(function(N){return S.ga.ZB.set(N.newValue);});this.ag.addListener(function(N){return S.ga.ag.set(N.newValue);});this.fj.addListener(function(N){return S.ga.fj.set(N.newValue);});this.ze.addListener(function(N){return S.ga.ze.set(N.newValue);});this.Ye.addListener(function(N){return S.ga.Ye.set(N.newValue);});this.Tc[Z.u.X].addListener(function(N){return S.ga.Tc[Z.u.X].set(N.newValue);});this.Tc[Z.u.U].addListener(function(N){return S.ga.Tc[Z.u.U].set(N.newValue);});this.Tc[Z.u.Da].addListener(function(N){return S.ga.Tc[Z.u.Da].set(N.newValue);});this.mediaTime.addListener(function(N){return S.ga.mediaTime.set(N.newValue);});this.background.addListener(function(N){return S.ga.background.set(N.newValue);});this.playbackRate.addListener(function(N){return S.ga.playbackRate.set(N.newValue);});this.GLb();};d.prototype.GLb=function(){var S;S=this;this.ga !== this.wea && (this.ga.mediaTime.set(this.mediaTime.value),this.ga.background.set(this.background.value),this.ga.playbackRate.set(this.playbackRate.value),this.oYc(this.Yfa),this.kz(function(N){return N.ZB;},this.OWc),this.kz(function(N){return N.Xk;},this.$Vc),this.kz(function(N){return N.ag;},this.QWc),this.kz(function(N){return N.fj;},this.bWc),this.kz(function(N){return N.Ye;},this.FWc),this.kz(function(N){return N.ze;},this.GWc),this.kz(function(N){return N.Tc[Z.u.X];},function(N){return S.Tc[Z.u.X].set(N.newValue);}),this.kz(function(N){return N.Tc[Z.u.U];},function(N){return S.Tc[Z.u.U].set(N.newValue);}),this.kz(function(N){return N.Tc[Z.u.Da];},function(N){return S.Tc[Z.u.Da].set(N.newValue);}),this.kz(function(N){return N.mediaTime;},this.yWc),this.kz(function(N){return N.background;},this.cWc),this.kz(function(N){return N.playbackRate;},this.Y2),this.ka.Mp(this.ga.ka.Rd),this.ka.LB(this.ga.ka.je,{dG:!0}),this.ka.p1a(this.ga.ka.Mh),this.Xk.set(this.ga.Xk.value),this.ZB.set(this.ga.ZB.value),this.ag.set(this.ga.ag.value),this.fj.set(this.ga.fj.value),this.wea=this.ga);};d.prototype.oYc=function(S){this.wea && this.wea.ka.removeListener(S);this.ga.ka.addListener([Z.u.X,Z.u.U,Z.u.Da],S);};d.prototype.kz=function(S,N){this.wea && S(this.wea).removeListener(N);S(this.ga).addListener(N);};d.prototype.Cac=function(){var S,N;N=!(null === (S=this.Ec) || void 0 === S || !S.Yo.value);S=!N;if(N && "embedded" === this.Ec.hVa || this.fra())S=!0;return S;};d.prototype.fra=function(){var S,N;return this.Dc.Ba && !(null === (N=null === (S=this.S) || void 0 === S?void 0:S.Aa.Jd) || void 0 === N || !N.Ij);};d.prototype.load=function(S){var N,V;N=this;this.load=function(){};this.QIb=S;if(!(this.state.value != O.Gc.dW || this.$Ab() && this.zH.MXc())){this.nd.info("Playback loading",this);this.tEc();this.ih("asl_load_start");V=this.eK;S=V.startTime;V=V.endTime;(0,J.$c)(S)?(0,J.$c)(V)?this.ih("asl_ended"):this.ih("asl_in_progress"):this.ih("asl_not_started");this.eK.yba(function(aa){N.ih("asl_load_complete");aa.success?N.nfc():N.Dw(aa.errorCode || D.da.bCa,aa);});}};d.prototype.ZIc=function(){!1;try{this.state.value === O.Gc.LOADING && (this.BRb(),this.pq=this.TP.V6b({KE:(0,C.ic)(this.Hb),R:this.R,uM:this.xG,qb:this.qb,nM:this.qb.Pg?q.config.hYa:q.config.nM,Dc:this.Dc}).oa(C.za),this.cLa(),this.Pgc());}catch(S){this.Dw(D.da.sXb,{Ua:D.Y.wr,ef:(0,F.jj)(S)});}};d.prototype.BRb=function(){var S,N,V;V={width:1,height:1};this.dL({LRb:!0}).forEach(function(aa){V.width * V.height < aa.width * aa.height && (V={width:aa.width,height:aa.height});});V.height === (null === (S=this.bV.value) || void 0 === S?void 0:S.height) && V.width === (null === (N=this.bV.value) || void 0 === N?void 0:N.width) || this.bV.set(V);};d.prototype.ZD=function(){var S,N;!1;N=this.xb.rR(this);this.arb(N);null === (S=this.bb) || void 0 === S?void 0:S.HN(N);};d.prototype.MS=function(S){var N,V;!1;(0,E.va)(this.bb,"ASE should be initialized");V=this.xb.N$(S);V?S === this.xb.Bi?this.bb.Gma(V,!0) || this.iaa(V,{}):null === (N=this.bb) || void 0 === N?void 0:N.Dn(S,V,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};d.prototype.iaa=function(S,N,V){var aa,fa,ha,ka,pa;aa=this;V=void 0 === V?!0:V;!1;ka=this.xb.ku(S);if(this.ql.aya && this.xb.ga.J === ka.J)return Promise.resolve(this.Xd.seek(ka.Ta,O.Mc.bv,void 0));ka=this.lm.AR(ka.J);N=(0,K.Gsa)(ka.Cb,N);if(null === (fa=this.bb) || void 0 === fa || !fa.lk)throw (!1,Error("No streaming session"));!1;this.IP("Transition " + this.xb.Bi + "->" + S);pa=this.Vl(S);pa.mr=this.Xa.yc().oa(C.za);pa.qb=N;return "seamless" !== (null !== (ha=this.xb.ku(S).$d) && void 0 !== ha?ha:"seamless") || V?(this.bb.O$(S).k8?this.Rtc(S,pa.R):this.rea(S,pa.R)).then(function(){aa.Onc(pa.R);}):Promise.resolve();};d.prototype.rea=function(S,N){var V;V=this.xb.wn.ba[S].Ta;!1;this.IP("NO DATA " + S + ", SEEKING " + V + ", viewableId: " + N);return Promise.resolve(this.Xd.seek(V,O.Mc.bv,S,!0));};d.prototype.Rtc=function(S,N){var V,aa,fa,ha,ka;V=this;!1;aa=this.bb;if(null === aa || void 0 === aa || !aa.lk)throw Error("No streaming session");fa=new Promise(function(pa){function oa(){!1;aa.removeEventListener("stop",oa);pa();}aa.addEventListener("stop",oa);});ha=!1;ka=new Promise(function(pa){function oa(la){!1;V.removeEventListener(O.ja.G1,oa);aa.stop();ha=la.skip;pa();}V.addEventListener(O.ja.G1,oa);});fa=Promise.all([fa,ka]).then(function(){var pa;pa=!1;ha && (pa=aa.Gma(S,!1));if(!pa)return (V.IP("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),V.rea(S,N));});ka=aa.pNa(S,this.xb.wn.ba[S].Ta);!1;this.Xd.seek(ka,O.Mc.rW,S,!0);return fa;};d.prototype.lla=function(S,N,V){var aa,fa,ha,ka,pa,oa,la,R,ea;N=void 0 === N?this.MA.yG():N;V=void 0 === V?this.Xa.yc():V;ha=!!q.config.fSb && !(N % q.config.fSb);ka=S.J;pa=S.Ff;oa=S.L;la=S.qb;R=S.ve;if(this.wo.has(ka))N=this.wo.get(ka);else {N=this.ida(w.Az.index++,ka,oa,la,N,V,ha,this.ga,this.vR,R,pa,this);this.wo.set(ka,N);1 < this.wo.size && (N.RL=this.LUa(N.Ff)?this.RL:this.S_.create(this,N,!1,this.vR));N.e0=new x.ncb(this,N);ea=null === R || void 0 === R?void 0:R.Ib;(S=S.e9b) || (S=null === (fa=null === (aa=this.ga.S) || void 0 === aa?void 0:aa.oq) || void 0 === fa?void 0:fa.find(function(ja){return ja.Aa.R === ka && (void 0 === ea || ja.Aa.Ib === ea);}));S?this.rda(S,N):1 < this.wo.size && this.vh.dw(N.R) && this.uva(N);}};d.prototype.$qb=function(S,N,V,aa){var fa,ha,ka,pa,oa,la,R,ea,ja,sa,ta;fa=this;!1;ea={BD:!0,Pg:!1,cC:Date.now()};(0,E.va)(N.Uf,"Auxiliary viewable config request options must have auxiliary options");ja=N.Uf;sa=ja.Ib;if((ja=ja.fd) && this.laa(ja)){ta=null === (ha=this.Pj(ja).S) || void 0 === ha?void 0:ha.Aa;N={Ib:sa,aE:this.Zd,fd:ja,Uca:ta,ys:N.ys};(0,E.va)(null === (ka=this.bb) || void 0 === ka?void 0:ka.Wh,"If we have auxiliary viewables combined playgraph must exist");if(null === (oa=null === (pa=this.bb) || void 0 === pa?void 0:pa.Wh) || void 0 === oa?0:oa.ba)(ka=Object.keys(null === (R=null === (la=this.bb) || void 0 === la?void 0:la.Wh) || void 0 === R?void 0:R.ba).find(function(qa){var Aa,Ga;return (null === (Ga=null === (Aa=fa.bb) || void 0 === Aa?void 0:Aa.Wh) || void 0 === Ga?void 0:Ga.ba[qa].J) === S;}),!ka && this.fra() && (ka="placeholder-segmentId-" + S),(0,E.va)(!!ka,"Segment for the auxiliary viewable should exist in the combined playgraph"),ka && this.lla({e9b:aa,ve:N,qb:ea,L:ka,J:S},V));}};d.prototype.laa=function(S){return !!this.wo.has(S);};d.prototype.hzb=function(S){try{return (this.Vl(S),!0);}catch(N){return !1;}};d.prototype.Pj=function(S){if(S === W.Br)return this.ga;if(!this.wo.has(S))throw Error("Playback segment not found: " + S);return this.wo.get(S);};d.prototype.Vl=function(S){var N,V,aa;a:{for(var fa=Ea(this.eT),ha=fa.next();!ha.done;ha=fa.next())if((ha=ha.value,ha.L === S)){fa=ha;break a;}fa=void 0;}return fa?fa:(null === (V=null === (N=this.bb) || void 0 === N?void 0:N.Wh) || void 0 === V?0:V.ba[S])?(S=null === (aa=this.bb) || void 0 === aa?void 0:aa.Wh.ba[S].J,this.ZVa.R === S && (fa=this.ZVa),null !== fa && void 0 !== fa?fa:this.Pj(S)):this.ga;};d.prototype.Vwb=function(S){return this.rTa.get(S);};d.prototype.uva=function(S){var N,V;N=this;!1;V=S.R;this.lm.dQc(V);return this.Aea(S).then(function(aa){N.rda(aa,S);aa=S.RR?N.ac.KD.kNc(S):Promise.resolve();N.nJc(S);return aa.then(function(){return N.lm.WMb(V);});}).catch(function(aa){N.log.error("queueManifest failed",aa);N.lm.cQc(V,aa);throw N.Zj(aa.code,aa);});};d.prototype.CJc=function(){var S,N,V,aa,fa,ha;V=this.ga;(0,E.va)(void 0 !== V.Ff,"segment should have mainViewableId defined to fetch main manifest");V.Ia=null !== (S=V.Ia) && void 0 !== S?S:this.MA.yG();aa=this.xb.rR(this);S=Object.keys(aa.ba).find(function(ka){return aa.ba[ka].J === V.Ff;});fa=I.Zp.Er;ha={BD:!0,Pg:!1};S && (ha=aa.ba[S],ha=Object.assign(null !== (N=this.lm.AR(V.Ff).Cb) && void 0 !== N?N:this.qb,{Hb:ha.Ta,Lg:ha.cb,Pg:!1,cC:Date.now(),BD:!0}),this.lla({J:V.Ff,Ff:V.Ff,L:S,qb:ha},V.Ia));return q.config.Iy && this.vh.dw(this.R)?this.vh.s$(this.R):this.vh.mp({Ia:V.Ia,qb:ha,J:V.Ff,fu:fa,Hi:void 0,AN:void 0,ve:void 0},this.Rh.signal,!1);};d.prototype.LT=function(S){var N,V,aa,fa,ha,ka,pa;N=this;V=S.By;aa=S.m8;fa=S.Uf;S=fa.Ib;ha=fa.fd;fa=this.Pj(ha);ka=I.Zp.Er;pa={BD:!0,Pg:!1,cC:Date.now()};return this.vh.mp({Ia:fa.Ia,qb:pa,J:fa.R,fu:ka,Hi:void 0,By:V,m8:aa,ve:{Ib:S,aE:fa.Zd}},this.Rh.signal,!1).then(function(oa){N.vh.hJb();oa.oq.forEach(function(la){N.vh.tU(la.Aa.R,la);N.rTa.set(la.Aa.R,la);});if(!oa.Aa.Jd)throw Error("Dai prefetch request has no adverts forparentViewableId: " + ha);return oa.Aa.Jd;});};d.prototype.KT=function(S){var N,V,aa,fa,ha,ka,pa;N=this;(0,E.va)(S.Uf,"auxiliaryOptions must exist if an adBreak hydration was requested");V=S.Uf;aa=V.Ib;fa=V.fd;ha=S.Yk;ka=S.fb;(0,E.va)(!!aa,"auxiliaryManifestToken must exist if an adBreak hydration was requested");!1;S=this.Pj(S.Uf.fd);V=I.Zp.Er;pa={BD:!0,Pg:!1,cC:Date.now()};return this.vh.mp({Ia:S.Ia,qb:pa,J:S.R,fu:V,Hi:void 0,AN:void 0,ve:{Yk:ha,fb:ka,Ib:aa,fd:fa,aE:S.Zd}},this.Rh.signal,!1).then(function(oa){var la,R;oa.oq.forEach(function(ea){N.rTa.set(ea.Aa.R,ea);});if(null === (la=oa.Aa.Jd) || void 0 === la || !la.lb.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (fa + ", adBreakToken: " + ha + ", adBreakTriggerId: " + ka));return null === (R=oa.Aa.Jd) || void 0 === R?void 0:R.lb[0];});};d.prototype.Voc=function(){if((0,J.pc)(this.If.ats) && (0,J.pc)(this.If.at))return this.If.at - this.If.ats;};d.prototype.nwb=function(){var S,N;S=this.gga();N=this.O7();return Math.min(S,N);};d.prototype.p2=function(){this.background.value || (this.nd.info("Starting inactivity monitor for movie " + this.R),new u.GXb(this));};d.prototype.close=function(S){S && (this.state.value == O.Gc.CLOSED?S():this.addEventListener(O.ja.closed,function(){S();}));this.O1a();};d.prototype.wg=function(S,N,V){S=this.Zj(S,N,V);this.qK(S,void 0);};d.prototype.qK=function(S,N){var V,aa,fa,ha;V=this;!1;(0,D.zha)(S.errorCode,S.Ua,this.Xa.yc().ea(this.Yj).oa(C.za),null === (aa=this.Xd) || void 0 === aa?void 0:aa.yA()) || this.$La.add(this.Na.Mg,null === (fa=this.Rl) || void 0 === fa?void 0:fa.wy.my,S.errorCode,S.Ua,S.Ng);S.iNb(this.Fp);if(this.state.value == O.Gc.dW)this.Nj || (this.Nj=S,this.load());else {N && (this.state.value == O.Gc.CLOSED?N():this.addEventListener(O.ja.closed,function(){N();}));aa=function(){V.O1a(S);};fa=q.config.nsb && S && q.config.nsb[S.errorCode];ha=-1;(0,J.C_)(fa) && (ha=(0,F.am)(fa));this.nd.error("Fatal playback error",{Error:"" + S,HandleDelay:"" + fa});0 <= ha?setTimeout(aa,ha):aa();}};d.prototype.IP=function(S){var N;N=void 0 === N?this.L:N;S=this.Xa.yc().oa(C.za) + "-" + N + "-" + S;!1;this.KIb.push(S);};d.prototype.ync=function(){this.jvb();};d.prototype.ZRa=function(){var S;if(null === (S=this.bb) || void 0 === S?0:S.lk)if((S=this.bb.ju().id,void 0 !== S))return S;return null;};d.prototype.Iyb=function(){var S;S=this.xb.rR(this);S=Object.values(S.ba).map(function(N){return N.J;});return [].concat(za(new Set(S)));};d.prototype.Mwb=function(){var S,N,V,aa;aa=this.Ff?null === (N=null === (S=this.wo.get(this.Ff)) || void 0 === S?void 0:S.S) || void 0 === N?void 0:N.Aa.duration:null === (V=this.S) || void 0 === V?void 0:V.Aa.duration;if(aa)return this.xb.Oua.dPc(this.$K(),this.xb.Bi,aa);};d.prototype.$K=function(){var S,N;N=null === (S=this.bb) || void 0 === S?void 0:S.lk;return void 0 === this.ga.M8 || N?this.vR(this.mediaTime.value):this.ga.M8;};d.prototype.YRa=function(){var S;S=this.vR(this.Xd.Iwb());return null === S?null:Math.min(this.xG.oa(C.za),Math.max(0,S));};d.prototype.u$=function(){var S,N;return null === (N=null === (S=this.S) || void 0 === S?void 0:S.Aa.Yr) || void 0 === N?void 0:N.ba;};d.prototype.Uxa=function(S){!1;this.qb=(0,K.Gsa)(this.qb,S);this.cLa();};d.prototype.KSa=function(S){return (null === S || void 0 === S?0:S.J)?S.J:(null === S || void 0 === S?0:S.LRb) && this.dQ?this.dQ.J === W.Br?(S=this.dQ.Hc) && this.bb && this.bb.Wh?this.bb.Wh.ba[S].J:this.R:this.dQ.J:this.R;};d.prototype.Roc=function(){var S;S=this.Pj(this.KSa(void 0)).ka.je;return S?S.streams:[];};d.prototype.dL=function(S){return (S=this.Pj(this.KSa(S)).ka.Mh)?S.streams:[];};d.prototype.Yyb=function(S){for(var N=Ea(this.eT),V=N.next();!V.done;V=N.next())if(V=(V=V.value.Vh) && V.find(function(aa){return aa.id === S;}))return V;!1;};d.prototype.nJc=function(S){S=void 0 === S?this.ga:S;!1;S.ka.Rd?this.gr.tZa(S.ka.Rd):Promise.resolve();};d.prototype.xRb=function(S){var N,V;N=this;V=this.xb.rR(this);Object.values(V.ba).forEach(function(aa){var fa,ha;aa=N.wo.get(aa.J);ha=null === (fa=null === aa || void 0 === aa?void 0:aa.Yc) || void 0 === fa?void 0:fa.wj;ha && (fa=ha.filter(function(ka){return ka.Ig === S.Ig;}),1 < fa.length && (fa=fa.filter(function(ka){return ka.displayName === S.displayName;})),1 < fa.length && (fa=fa.filter(function(ka){return ka.aj === S.aj;})),(fa=Ea(fa.sort(function(ka,pa){return ka.Bc - pa.Bc;})).next().value) && fa !== aa.ka.Rd && (aa.ka.Mp(fa),N.gr.tZa(aa.ka.Rd)));});};d.prototype.Uyb=function(S){for(var N=Ea(this.eT),V=N.next();!V.done;V=N.next()){V=Ea(V.value.$k);for(var aa=V.next();!aa.done;aa=V.next())if(aa=aa.value.streams.find(function(fa){return fa.ob === S;}))return aa;}!1;};d.prototype.nzb=function(S){for(var N=Ea(this.eT),V=N.next();!V.done;V=N.next()){V=Ea(V.value.NE);for(var aa=V.next();!aa.done;aa=V.next())if(aa=(aa=aa.value) && aa.streams.find(function(fa){return fa.ob === S;}))return aa;}!1;};d.prototype.Juc=function(S){for(var N=Ea(this.eT),V=N.next();!V.done;V=N.next())if(V.value.Zd === S)return !0;return !1;};d.prototype.aD=function(){var S,N,V;return null !== (V=null === (N=null === (S=this.Iua) || void 0 === S?void 0:S.T8) || void 0 === N?void 0:N.call(S)) && void 0 !== V?V:this.zfc().Oub;};d.prototype.wNb=function(S){var N,V;null !== (N=this.bb) && void 0 !== N && N.lk && this.wo.has(S) && ((null === (V=this.Iua) || void 0 === V?0:V.T8)?this.Iua.ZQb():(N=this.LNa(S),this.bb.Kwa(N,S)));};d.prototype.cyc=function(){return "trailer" === this.jf;};d.prototype.Lwc=function(){return !!this.jf && 0 <= this.jf.indexOf("billboard");};d.prototype.jyc=function(){return !!this.jf && 0 <= this.jf.indexOf("video-merch");};d.prototype.$Ab=function(){return !!this.jf && 0 <= this.jf.indexOf("mini-modal");};d.prototype.A_=function(){return this.cyc() || this.Lwc() || this.jyc() || this.$Ab();};d.prototype.kpa=function(){var S,N,V;N={LRb:!0};if((null === (S=this.Pj(this.KSa(N)).S) || void 0 === S || !S.Aa.ys) && this.NE){this.dL(N).forEach(function(aa){var fa,ha;if((0,J.pc)(aa.NNa) && (0,J.pc)(aa.trb) && (0,J.pc)(aa.srb) && (0,J.pc)(aa.rrb) && (0 < aa.NNa || 0 < aa.trb)){fa=1;ha=1;(0,J.pc)(aa.nIb) && (0,J.pc)(aa.oIb) && (fa=aa.nIb,ha=aa.oIb);fa=aa.rrb * ha / (aa.srb * fa);V=(0,J.pc)(V)?0 < aa.NNa?Math.max(V,fa):Math.min(V,fa):fa;}});return V;}};d.prototype.Csc=function(){return {tr:this.Z2a,rt:this.U_a};};d.prototype.RZ=function(S){return this.Es[S];};d.prototype.cMa=function(){return this.mr?this.Xa.yc().oa(C.za) - this.mr:this.Na.Mg.oa(C.za) - this.cR();};d.prototype.q8=function(){var S;if(this.mr)return this.Xa.yc().oa(C.za) - this.mr;S=this.Xa.wH;return this.hda - (this.Yj.oa(C.za) + S.oa(C.za));};d.prototype.dMa=function(){return this.mr?this.Xa.yc().oa(C.za) - this.mr:this.hda - this.cR();};d.prototype.bpc=function(){var S,N;S=this.loadTime;N={};(0,F.Di)(this.ELa,function(V,aa){N[V]=aa.map(function(fa){return fa - S;});});return e.PC?{level:e.PC.exb(),charging:e.PC.UQa(),statuses:N}:null;};d.prototype.$pa=function(){this.ivb();return this.iya;};d.prototype.cR=function(){var S;S=this.qb.cC;S=(0,J.pc)(S)?S:this.Yj.oa(C.za) + this.Xa.wH.oa(C.za);(0,E.va)((0,J.BL)(S));return S;};d.prototype.cyb=function(){return this.Xa.yc().oa(C.za) - this.Yj.oa(C.za);};d.prototype.aYc=function(){this.BRc=!0;};d.prototype.uta=function(){this.sKb();};d.prototype.gga=function(){var S;S=this.BX();return S && S.vbuflmsec || 0;};d.prototype.O7=function(){var S;S=this.BX();return S && S.abuflmsec || 0;};d.prototype.uUc=function(){var S;S=this.BX();return S && S.tbuflmsec || 0;};d.prototype.c4a=function(){var S;S=this.BX();return S && S.vbuflbytes || 0;};d.prototype.nLa=function(){var S;S=this.BX();return S && S.abuflbytes || 0;};d.prototype.tUc=function(){var S;S=this.BX();return S && S.tbuflbytes || 0;};d.prototype.Aea=function(S,N,V){var aa,fa,ha,ka,pa,oa;aa=this;S=void 0 === S?this.ga:S;V=void 0 === V?!0:V;!1;ka=!!N;pa=!ka && S !== this.ga;oa=q.config.sva.enabled?I.Zp.f0b:pa?I.Zp.N5:this.A_()?I.Zp.qja:I.Zp.Er;ka=this.A_() || ka || pa?void 0:(0,da.J$)(q.config,pa);return this.vh.mp({Ia:S.Ia,qb:S.qb,J:S.R,fu:oa,Hi:ka,AN:N,ve:S.ve,ys:null !== (ha=null === (fa=S.ve) || void 0 === fa?void 0:fa.ys) && void 0 !== ha?ha:!1},this.Rh.signal,S.ve?!1:V).then(function(la){la.oUa && aa.fireEvent(O.ja.zVa,{R:S.R});return la;});};d.prototype.rda=function(S,N,V){var aa,fa,ha,ka;N=void 0 === N?this.ga:N;V=void 0 === V?!1:V;!1;if(N.qb.Pg && !S.Aa.Yr)this.wg(D.da.$Tb);else {fa=this.Qba.create(this);ha=!!(N.ve && N.ve.Ib && N.ve.Uca);if(V){ka=fa.rvc(N.S,N.Yc,S);S=ka.S;ka=ka.Yc;}else (S=ha?fa.BOc(S,null === (ka=N.ve) || void 0 === ka?void 0:ka.Uca):S,ka=fa.HHb(S));N.S=S;N.Yc=ka;N.Ff && (N.ve=Object.assign(null !== (aa=N.ve) && void 0 !== aa?aa:{},{Ib:S.Aa.Ib,aE:S.Aa.Zd}));N.R !== N.Ff || this.fsa || (this.fsa=S.Aa.Zd);V || (N.ka.p1a(ka.i9),N.ka.LB(ka.d9),N.ka.Mp(ka.f9));N.Dc.Ba && N.Dc.HZa();}};d.prototype.Onc=function(S){var N;N=void 0 === N?!1:N;!1;this.$T({J:S,NR:N});};d.prototype.$yb=function(S,N){if(!this.ql.T3a)return !0;S=this.Ps.oa(C.za) - S;return 0 > S || S > N;};d.prototype.tLb=function(){!1;this.Xd.seek(this.$K() || 0,O.Mc.Bha);};d.prototype.Fzb=function(S,N){var V,aa;V=this;!1;aa=this.ga;aa.Jna=!0;return this.Aea(aa,{aE:aa.Zd,BNc:S,FNc:N},!1).then(function(fa){var ha;V.rda(fa,aa,!0);V.vh.tU(aa.R,aa.S);return null === (ha=V.bb) || void 0 === ha?void 0:ha.Z2(V.JIb);}).then(function(){var fa,ha;fa=aa.$k.find(function(ka){return ka.trackId === S;});ha=aa.wj.find(function(ka){return ka.trackId === N;});if(!(fa && fa.ff && ha && ha.ff))throw Error("Track hydration failed: requiredAudioTrackId=" + S + " requiredTextTrackId=" + N);V.fireEvent(O.ja.mQb);return {je:fa,ufa:ha};});};d.prototype.cn=function(){return this.Ec;};d.prototype.$T=function(S){var N,V,aa;N=S.J;V=S.NR;S=S.dQ;!1;S !== this.dQ && (this.dQ=S,this.BRb());if(this.m1){if(N === this.AG){this.m1=N;return;}S=this.Pj(N);aa=S.S;aa && (0,J.$c)(aa.NT) && (0,J.$c)(aa.I1) && S.jL({pr_ats:aa.NT,pr_at:aa.I1});this.Ff && S.Ff === this.Ff || this.fireEvent(O.ja.eWa,{R:this.AG});this.AG=N;this.cLa();V || this.GLb();this.oH=this.Na.pI;this.ga.mr || (this.ga.mr=this.Xa.yc().oa(C.za));}("boolean" === typeof this.qb.fZ?this.qb.fZ:q.config.fZ) && !V && this.i3a.fZ(this);V={R:N,NR:V,m1:this.m1};this.m1=N;this.fireEvent(O.ja.TL,V);};d.prototype.nfc=function(){!1;try{this.ac=new h.HDa(this);this.RL=this.S_.create(this,this.ga,!0,this.vR);q.config.Jac && new T.wWb(this,this.log);q.config.u8 && this.u8(this);this.qXc();}catch(S){this.Dw(D.da.rXb,{Ua:D.Y.wr,ef:(0,F.jj)(S)});}};d.prototype.qXc=function(){!1;this.Nj?this.qK(this.Nj):(0,J.EUa)(this.R)?this.vbc():this.Dw(D.da.oXb,{ef:"" + this.R});};d.prototype.vbc=function(){var S;!1;S=c.sU.PMb;S?S.success?this.QMa():this.Dw(D.da.P$a,S):((0,E.va)(!q.config.loa),this.gKa());};d.prototype.QMa=function(){var S;S=this;!this.background.value && q.config.QMa?(0,w.Eeb)(function(){S.gKa();},this):this.gKa();};d.prototype.gKa=function(){var S;S=this;!1;this.state.value == O.Gc.LOADING && (q.config.qPa && !this.A_()?c.sU.Yz(w.Deb,function(N){N.success?(S.$ra=N.$ra,S.ynb()):S.Dw(D.da.O$a);},!0):this.ynb());};d.prototype.ynb=function(){var S,N,V,aa;S=this;if(this.state.value == O.Gc.LOADING){this.log.info("Authorizing",this);N=this.Xa.yc().oa(C.za);this.ih("ats");(0,E.DY)(this.R);(0,E.DY)(this.Jn);V=this.yKc.bind(this,N);aa=this.ga;Promise.all([this.S,q.config.Iy && this.vh.dw(this.R)?this.vh.s$(this.R).catch(function(){}):void 0,aa.Ff && aa.Ff !== aa.R?this.CJc():void 0]).then(function(fa){var ha,ka,pa,oa,la,R;ha=Ea(fa);fa=ha.next().value;ka=ha.next().value;ha=ha.next().value;fa && ka?oa=ka.Aa.expiration > fa.Aa.expiration?ka:fa:fa?oa=fa:ka && (oa=ka);oa && 18E5 > oa.Aa.expiration - S.Na.pI.oa(C.za) && (oa=void 0);if(ha){ka=S.wo.get(aa.Ff);la=ha.Aa.Zd;R=ha.Aa.Ib;S.fsa=la;ka && S.rda(ha,ka);aa.ve=Object.assign(null !== (pa=aa.ve) && void 0 !== pa?pa:{},{Ib:R,aE:la});R && R !== (null === oa || void 0 === oa?void 0:oa.Aa.Ib) && (oa=void 0);}return oa?(S.ZP=oa === fa?"ui":"videopreparer",oa):S.Aea();}).then(function(fa){try{S.rda(fa);V(m.Ph);S.AIb || (S.AIb=!0,S.HYa.im(S));}catch(ha){S.log.error("Exception processing authorization response",ha);V({success:!1,Ua:D.Y.I_b});}}).catch(V);}};d.prototype.yKc=function(S,N){var V,aa;V=this;!1;if(this.state.value == O.Gc.LOADING){this.ih("at");aa=this.S;this.jL({pr_ats:aa && (0,J.$c)(aa.NT)?aa.NT:S,pr_at:aa && (0,J.$c)(aa.I1)?aa.I1:this.Xa.yc().oa(C.za)});N.success?((0,ba.Ba)(aa.Aa.yf),0 < this.Yc.Vh.length && this.Yc.d9 && this.Yc.i9 && this.Yc.f9?this.QIb?(this.log.info("Processing post-authorize",this),this.QIb(this,function(fa){fa.success?V.eRb():V.Dw(D.da.vXb,fa);})):this.eRb():this.Dw(D.da.wbb,this.fWa(this.Yc))):this.Dw(D.da.BO,N);}};d.prototype.eRb=function(){n.__awaiter(this,void 0,void 0,function N(){var V,aa,fa;fa=this;return Ua(N,function(ha){!1;if(fa.state.value != O.Gc.LOADING)return ha.return();(null === (V=fa.ga.S) || void 0 === V?0:V.Aa.Yr) && fa.xb.reset((0,W.CMa)(null === (aa=fa.ga.S) || void 0 === aa?void 0:aa.Aa.Yr,{config:q.config}));fa.bb=fa.hLa(fa.xb,fa);fa.bb.TQc({zv:g.zv,config:q.config,Rf:fa.Rf,nd:fa.nd,hB:fa.hB.bind(fa),gn:B.gn,Fea:fa.Fea.bind(fa),$T:fa.$T.bind(fa)});fa.ZIc();ha.Js=0;});});};d.prototype.Pgc=function(){var S,N,V,aa,fa,ha,ka,pa;S=this;!1;try{if(this.state.value === O.Gc.LOADING){this.ac.open();N=new Promise(function(oa){S.ac.addEventListener(M.Qk.Twa,oa);});this.Xd=new L.NDa(this,this.Hb);V=this.Yc.d9.aj === U.dv.NONE;aa={lSb:this.Yc.d9.Kq || V};fa={Ia:this.Ia,Lf:this.correlationId,HK:this.HK};try{if(this.state.value !== O.Gc.LOADING)return;ha=this.bb;ha.Haa({flags:aa,kQ:fa,L:this.JIb,LNa:this.LNa.bind(this)});ka=this.xb.rR(this);this.arb(ka);ha.HN(ka);this.p6b();ha.D9b({Es:this.Es,loadTime:this.loadTime});this.Ec=this.sKa(ha,this);this.Ec.Yo.addListener(function(oa){var la,R;oa.newValue?("dynamic" === (null === (la=S.Ec) || void 0 === la?void 0:la.hVa) && S.gr.$uc(),q.config.Iy && !S.Dc.Ba && S.og.Nyb()):"dynamic" === (null === (R=S.Ec) || void 0 === R?void 0:R.hVa) && S.gr.ERc();});this.Ec.addEventListener(O.Wya.dla,function(){S.Dc.Ba || S.og.Nyb();});}catch(oa){throw (this.log.error("Failed to initialize ASE streaming",{error:oa,startPts:this.Hb,flags:aa}),oa);}N.then(function(){var oa;S.state.value !== O.Gc.CLOSING && S.state.value !== O.Gc.CLOSED && (null === (oa=S.bb) || void 0 === oa?void 0:oa.open());});this.mediaTime.set(this.Hb);pa=new ia.Phb(q.config);this.gr=new k.Ohb(this,pa);if("boolean" === typeof this.qb.Fva?this.qb.Fva:q.config.Fva)this.Afa=new A.Qhb(this,pa);this.p2();w.zFa.forEach(function(oa){oa(S);});this.sEc();}}catch(oa){this.Dw(D.da.tXb,{Ua:D.Y.wr,ef:(0,F.jj)(oa)});}};d.prototype.tEc=function(){(0,E.va)(this.state.value == O.Gc.dW);this.loadTime=this.Xa.yc().oa(C.za);this.state.set(O.Gc.LOADING);};d.prototype.PLc=function(){return n.__awaiter(this,void 0,void 0,function N(){var V,aa,fa,ha,ka,pa,oa;V=this;return Ua(N,function(la){aa=V;ka=(0,J.pc)(null === (fa=V.bb) || void 0 === fa?void 0:fa.dob)?null === (ha=V.bb) || void 0 === ha?void 0:ha.dob:V.gs;(0,E.va)((0,J.pc)(ka),"lastPts before restart should have a valid number type");pa=V.Xd.YS;oa=V.ac.Ha;V.jc.rd(O.ja.fea);V.ac=new h.HDa(V);V.ac.open(oa);V.Xd=new L.NDa(V,pa?V.mediaTime.value:ka,!0);return la.return(new Promise(function(R){function ea(){aa.ac.removeEventListener(M.Qk.Twa,ea);R();}aa.ac.addEventListener(M.Qk.Twa,ea);}));});});};d.prototype.Dw=function(S,N){this.done || (this.done=!0,N instanceof Q.se?this.wg(N.code,N):this.wg(S,N));};d.prototype.u8=function(S){var V,aa;function N(){var fa,ha;fa=e.PC.UQa() + "";ha=S.ELa[fa];ha || (ha=S.ELa[fa]=[]);ha.push(V.Xa.yc().oa(C.za));V.log.trace("charging change event",{level:e.PC.exb(),charging:e.PC.UQa()});}V=this;aa=e.PC.GUb;e.PC.addEventListener(aa,N);S.addEventListener(O.ja.rh,function(){e.PC.removeEventListener(aa,N);});};d.prototype.O1a=function(S){var N,V;N=this;if(this.state.value == O.Gc.dW || this.state.value == O.Gc.LOADING || this.state.value == O.Gc.Cf){this.nd.info("Playback closing",this,S?{ErrorCode:S.Nna}:void 0);this.IP("Closing");v.ye.removeListener(v.hn,this.Jca);v.ye.removeListener(v.us,this.WGb);this.Nj=S;this.ga.M8=this.$K();this.ivb();(null === (V=this.bb) || void 0 === V?0:V.lk) && this.bb.flush();try{this.jc.rd(O.ja.rh,{movieId:this.AG});}catch(aa){this.nd.error("Unable to fire playback closing event",aa);}this.state.set(O.Gc.CLOSING);this.mTb();this.Rh.abort();this.BRc || (0,G.Yh)(function(){return N.sKb();});}};d.prototype.nnc=function(){this.jc.rd(O.ja.YQb);};d.prototype.jvb=function(){var S;S=this.mediaTime.value;this.Wyc != S && (!1,this.Wyc=S,this.jc.rd(O.ja.H2a));};d.prototype.sKb=function(){var S,N;S=this;(0,E.va)(this.state.value == O.Gc.CLOSING);N=this.$ra;this.$ra=void 0;N?c.sU.release(N,function(V){(0,E.va)(V.success);S.VMa();}):this.VMa();};d.prototype.mTb=function(){var S;null === (S=this.bb) || void 0 === S?void 0:S.Se();delete this.bb;};d.prototype.VMa=function(){var S,N;this.VMa=m.lJ;(0,E.va)(this.state.value == O.Gc.CLOSING);N=w.bq.indexOf(this);(0,E.va)(0 <= N);w.bq.splice(N,1);this.state.set(O.Gc.CLOSED);this.jc.rd(O.ja.closed,void 0,!0);this.jc.Zg();N=Ea(this.eT);for(var V=N.next();!V.done;V=N.next())(V=V.value,null === (S=V.Rl) || void 0 === S?void 0:S.close().catch(function(){}),delete V.Rl);this.ga.uta();};d.prototype.cLa=function(){this.qb.playbackState && ("number" === typeof this.qb.playbackState.volume && this.volume.set((0,H.qF)(this.qb.playbackState.volume,0,1)),"boolean" === typeof this.qb.playbackState.muted && this.muted.set(this.qb.playbackState.muted),"number" === typeof this.qb.playbackState.playbackRate && this.playbackRate.set(this.qb.playbackState.playbackRate));};d.prototype.ivb=function(){this.jc.rd(O.ja.w1a,{iya:this.iya});};d.prototype.Fea=function(S,N,V){N=this.Yyb(N);S=this.Vl(S);N && S.Tc[V].set(N);};d.prototype.hB=function(){return {AudioBufferLength:this.O7(),VideoBufferLength:this.gga()};};d.prototype.BX=function(){var S;if(null === (S=this.bb) || void 0 === S?0:S.lk)return this.bb.yAb();};d.prototype.sEc=function(){this.state.value == O.Gc.LOADING && this.state.set(O.Gc.Cf);};d.prototype.zfc=function(){var S,N,V;S=void 0 === S?this.R:S;N=this.dL({J:S});V=this.Pj(S);return (0,X.aD)(N,function(aa){return V.e0.rI(aa);});};d.prototype.LNa=function(S){var N,V;S=void 0 === S?this.R:S;N=this.dL({J:S});V=this.Pj(S);return (0,X.Itc)(N,function(aa){return V.e0.rI(aa);});};d.prototype.arb=function(S){var N;N=this;Object.keys(S.ba).filter(function(V){return !N.wo.has(S.ba[V].J);}).forEach(function(V){var aa,fa,ha,ka,pa,oa,la;ha=S.ba[V];ka=ha.J;pa=N.wo.get(S.ba[S.uf].J);oa=ha.xp?N.wo.get(ha.xp):void 0;la=Object.assign(null !== (aa=N.lm.AR(ka).Cb) && void 0 !== aa?aa:N.qb,{Hb:ha.Ta,Lg:ha.cb,Pg:!1,cC:Date.now(),BD:!0});aa=N.LUa(ha.xp) && N.fsa?{Ib:null !== (fa=null === oa || void 0 === oa?void 0:oa.Ib) && void 0 !== fa?fa:null === pa || void 0 === pa?void 0:pa.Ib,aE:N.fsa}:void 0;N.lla({J:ka,Ff:ha.xp,L:V,qb:la,ve:aa},N.LUa(ha.xp)?null === pa || void 0 === pa?void 0:pa.Ia:void 0);});};Ha.Object.defineProperties(d.prototype,{eT:{configurable:!0,enumerable:!0,get:function(){return this.wo.values();}},ga:{configurable:!0,enumerable:!0,get:function(){return this.wo.get(this.AG);}},ZVa:{configurable:!0,enumerable:!0,get:function(){return this.Pj(this.UAc);}},Hb:{configurable:!0,enumerable:!0,get:function(){var S,N;return void 0 !== this.pq?this.pq:null !== (N=null === (S=this.eT.next()) || void 0 === S?void 0:S.value.qb.Hb) && void 0 !== N?N:0;}},Yc:{configurable:!0,enumerable:!0,get:function(){return this.ga.Yc;},set:function(S){this.ga.Yc=S;}},Qoa:{configurable:!0,enumerable:!0,get:function(){return this.ga.qb.Qoa;}},Roa:{configurable:!0,enumerable:!0,get:function(){return this.ga.qb.Roa;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ga.index;}},L:{configurable:!0,enumerable:!0,get:function(){return this.ga.L;}},JIb:{configurable:!0,enumerable:!0,get:function(){return this.xb.U3a?this.xb.Bi:this.ga.L;}},Rl:{configurable:!0,enumerable:!0,get:function(){return this.ga.Rl;},set:function(S){this.ga.Rl=S;}},mr:{configurable:!0,enumerable:!0,get:function(){return this.ga.mr;},set:function(S){this.ga.mr=S;}},ZP:{configurable:!0,enumerable:!0,get:function(){return this.ga.ZP;},set:function(S){this.ga.ZP=S;}},RX:{configurable:!0,enumerable:!0,get:function(){return this.ga.RX;},set:function(S){this.ga.RX=S;}},Jqa:{configurable:!0,enumerable:!0,get:function(){return this.ga.Jqa;},set:function(S){this.ga.Jqa=S;}},S:{configurable:!0,enumerable:!0,get:function(){return this.ga.S;},set:function(S){this.ga.S=S;}},pq:{configurable:!0,enumerable:!0,get:function(){return this.ga.pq;},set:function(S){this.ga.pq=S;}},ofa:{configurable:!0,enumerable:!0,get:function(){return this.ga.ofa;},set:function(S){this.ga.ofa=S;}},qb:{configurable:!0,enumerable:!0,get:function(){return this.ga.qb;},set:function(S){this.ga.qb=S;}},RL:{configurable:!0,enumerable:!0,get:function(){return this.ga.RL;},set:function(S){this.ga.RL=S;}},Dp:{configurable:!0,enumerable:!0,get:function(){return this.ga.Dp;}},R:{configurable:!0,enumerable:!0,get:function(){return this.ga.R;}},jf:{configurable:!0,enumerable:!0,get:function(){return this.ga.jf;}},$k:{configurable:!0,enumerable:!0,get:function(){return this.ga.$k;}},NE:{configurable:!0,enumerable:!0,get:function(){return this.ga.NE;}},EI:{configurable:!0,enumerable:!0,get:function(){return this.ga.EI;}},wj:{configurable:!0,enumerable:!0,get:function(){return this.ga.wj;}},Zd:{configurable:!0,enumerable:!0,get:function(){return this.ga.Zd;}},Ib:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ib;}},RR:{configurable:!0,enumerable:!0,get:function(){return this.ga.RR;}},yT:{configurable:!0,enumerable:!0,get:function(){return this.ga.yT;}},js:{configurable:!0,enumerable:!0,get:function(){return this.ga.js;}},Vh:{configurable:!0,enumerable:!0,get:function(){return this.ga.Vh;}},xG:{configurable:!0,enumerable:!0,get:function(){return this.ga.xG;},set:function(S){this.ga.xG=S;}},Ia:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ia;}},Ff:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ff;}},Jn:{configurable:!0,enumerable:!0,get:function(){return this.ga.Jn;}},Yj:{configurable:!0,enumerable:!0,get:function(){return this.ga.Yj;}},oH:{configurable:!0,enumerable:!0,get:function(){return this.ga.oH;},set:function(S){this.ga.oH=S;}},correlationId:{configurable:!0,enumerable:!0,get:function(){return this.ga.correlationId;}},dU:{configurable:!0,enumerable:!0,get:function(){return this.ga.dU;}},gs:{configurable:!0,enumerable:!0,get:function(){return this.ga.gs;}},If:{configurable:!0,enumerable:!0,get:function(){return this.ga.If;}},Ev:{configurable:!0,enumerable:!0,get:function(){return this.ga.Ev;}},OOa:{configurable:!0,enumerable:!0,get:function(){return this.ga.OOa;}},e0:{configurable:!0,enumerable:!0,get:function(){return this.ga.e0;}},HK:{configurable:!0,enumerable:!0,get:function(){var S,N,V,aa;V=q.config.$sb;aa=null === (N=null === (S=this.S) || void 0 === S?void 0:S.Aa.CE) || void 0 === N?void 0:N.b2a;if(void 0 !== aa && void 0 !== aa.downloadReportDenominator)try{V=parseInt(aa.downloadReportDenominator,10);}catch(fa){this.log.error("Unable to parse manifest config override:" + aa.downloadReportDenominator);}return 0 !== V && 0 === this.ga.Ia % V;}},Jna:{configurable:!0,enumerable:!0,get:function(){return this.ga.Jna;}},Dc:{configurable:!0,enumerable:!0,get:function(){return this.ga.Dc;}},CY:{configurable:!0,enumerable:!0,get:function(){return this.muted.value?0:Math.round(100 * this.volume.value) / 100;}},Ki:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.R,TrackingId:this.Jn,Xid:this.Ia};}},vn:{configurable:!0,enumerable:!0,get:function(){return this.xb.vn;}}});b.Geb=d;},52200:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x;function d(y,A,z,B,C,D){var E;E=this;this.j=y;this.ip=A;this.Xfa=z;this.Ok=B;this.iOb=C;this.nA=D;this.Nrb={};this.update=function(){var H;if(E.Qu.selectionStart == E.Qu.selectionEnd){H="";E.F$().forEach(function(F){H=H?H + "\n":"";Object.entries(F).forEach(function(G){var J;J=Ea(G);G=J.next().value;J=J.next().value;H+=G + ": " + J + "\n";});});E.Qu.style.fontSize=(0,f.qF)((0,e.ZV)(E.element.clientHeight / 60),8,18) + "px";E.Qu.value=H;}};this.GFc=function(){var H,F;if(E.j.Xd){F=E.j.Xd.lR();F && (E.RNa=F - (null !== (H=E.YPb) && void 0 !== H?H:0),E.YPb=F,E.J0());}};this.J0=function(){E.Xfa.ig(E.update);};this.onkeydown=function(H){H.ctrlKey && H.altKey && H.shiftKey && (H.keyCode == l.QV.eVb || H.keyCode == l.QV.Q) && E.toggle();};this.xIb=[y.mediaTime,y.Tc[p.u.X],y.Tc[p.u.U],y.Tc[p.u.Da],y.Ye,y.ze,y.fj,y.ag,y.Xk,y.state,y.Pt,y.Zb,y.volume,y.muted];this.element=this.Ok.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.Qu=this.Ok.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.Qu);this.controls=this.Ok.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);A=this.Ok.createElement("button",void 0,"X");A.addEventListener("click",function(){return E.wD();},!1);this.controls.appendChild(A);c.ye.addListener(c.eL,this.onkeydown);y.addEventListener(k.ja.rh,function(){c.ye.removeListener(c.eL,E.onkeydown);E.wD();});}Object.defineProperty(b,"__esModule",{value:!0});b.Ieb=void 0;n=a(13044);c=a(37509);f=a(8825);g=a(77705);e=a(22365);h=a(32687);k=a(85001);l=a(43193);m=a(5021);p=a(26388);q=a(45247);r=a(75568);t={};u=(t[k.Gc.dW]="Not Loaded",t[k.Gc.LOADING]="Loading",t[k.Gc.Cf]="Normal",t[k.Gc.CLOSING]="Closing",t[k.Gc.CLOSED]="Closed",t);t={};v=(t[k.mh.Cf]="Normal",t[k.mh.Sf]="Pre-buffering",t[k.mh.rgb]="Network stalled",t);t={};w=(t[k.Nb.ph]="Waiting for decoder",t[k.Nb.rg]="Playing",t[k.Nb.Oi]="Paused",t[k.Nb.ex]="Media ended",t);x=[k.ja.dca];d.prototype.YPc=function(y){this.Nrb.DFR=y;};d.prototype.show=function(){var y;y=this;this.visible || (this.Laa=Ba.setInterval(this.GFc,1E3),document.body.appendChild(this.element),this.xIb.forEach(function(A){A.addListener(y.J0);}),x.forEach(function(A){y.j.addEventListener(A,y.J0);}),this.visible=!0,this.nA.ifa().then(function(A){y.cTa=A;y.J0();}));this.update();};d.prototype.wD=function(){var y;y=this;this.visible && (clearInterval(this.Laa),this.YPb=this.RNa=void 0,document.body.removeChild(this.element),this.xIb.forEach(function(A){A.removeListener(y.J0);}),x.forEach(function(A){y.j.removeEventListener(A,y.J0);}),this.Xfa.ig(),this.visible=!1);};d.prototype.toggle=function(){this.visible?this.wD():this.show();};d.prototype.F$=function(){var y,A,z,B,C,D,E,H,F,G,J,L,K,M,P,I,O,Q,T,U,X,Y,W,Z,ba,ca,da,ia,S,N,V,aa,fa,ha,ka,pa,oa,la,R,ea,ja,sa,ta,qa,Aa,Ga,na,va,xa,ra,ya,Ca,Ja,Ka,La,Oa;y=this;U=[];X=this.ip();U.push({Version:"6.0054.803.911",Esn:X?X.ij:"UNKNOWN",PBCID:this.j.correlationId,UserAgent:e.cW});try{Y=this.j.mediaTime.value;W={MovieId:this.j.R,PackageId:null === (z=null === (A=this.j.S) || void 0 === A?void 0:A.Aa) || void 0 === z?void 0:z.Ms,Xid:this.j.Ia + " (" + n.bq.map(function(Na){return Na.Ia;}).join(", ") + ")",Position:(0,f.ik)(Y),Duration:(0,f.ik)(this.j.xG.oa(m.za)),PlayerDuration:(0,f.ik)(this.j.Ps.oa(m.za)),Volume:(0,e.zt)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":""),Segment:this.j.ZRa()};if(this.j.qb.Pg || this.j.qb.BD)W["Segment Position"]=(0,f.ik)(this.j.$K());null === (B=this.j.cn()) || void 0 === B || B.jxb();if(this.j.Dc.Ba){W["Is Live"]="true";W["Live Event Slate"]=this.j.Dc.ZK();W["Is At Live Edge"]="" + this.j.Dc.cy();W["Adjusted Live Edge Target"]=(0,f.ik)(this.j.Dc.AA());W["Live Adjusted Duration"]=(0,f.ik)(this.j.Dc.Dyb());W["Live Adjusted Playback Position"]=(0,f.ik)(this.j.Dc.Wpa());W["Live Event Time Playback Position"]=this.j.Dc.Dpc();W["Live Segment Number"]=this.j.Dc.Epc();Z=[p.u.U,p.u.X,p.u.Da].reduce(function(Na,Qa){var Va,Sa,Ta;Ta=null === (Sa=null === (Va=y.j.bb) || void 0 === Va?void 0:Va.cB) || void 0 === Sa?void 0:Sa[Qa];Na[(0,q.JH)(Qa)]=Ta?{encoderRegion:Ta.bo,encoderTag:Ta.co}:void 0;return Na;},{});W["Live Logging Info"]=JSON.stringify(Z);}U.push(W);}catch(Na){}try{U.push({"Player state":u[this.j.state.value],"Buffering state":v[this.j.Pt.value],"Rendering state":w[this.j.Zb.value]});}catch(Na){}try{ba=this.j.c4a() + this.j.nLa();ca=this.j.Ye.value;da=null === ca || void 0 === ca?void 0:ca.stream;ia=this.j.ze.value;S=null === ia || void 0 === ia?void 0:ia.stream;N=null !== (C=null === da || void 0 === da?void 0:da.bitrate) && void 0 !== C?C:"?";V=S?S.bitrate + " (" + S.width + "x" + S.height + ")":"?";aa=null !== (D=null === da || void 0 === da?void 0:da.ob) && void 0 !== D?D:"?";fa=null !== (E=null === S || void 0 === S?void 0:S.ob) && void 0 !== E?E:"?";ha=null !== (H=null === S || void 0 === S?void 0:S.Qb) && void 0 !== H?H:"?";ka=null !== (G=null === (F=this.j.ag.value) || void 0 === F?void 0:F.Qb) && void 0 !== G?G:"?";pa=null !== (L=null === (J=this.j.fj.value) || void 0 === J?void 0:J.bitrate) && void 0 !== L?L:"?";oa=null !== (M=null === (K=this.j.ag.value) || void 0 === K?void 0:K.bitrate) && void 0 !== M?M:"?";la=this.j.Tc[p.u.X].value;R=this.j.Tc[p.u.U].value;ea=this.j.Tc[p.u.Da].value;U.push({"Playing bitrate (a/v)":N + " / " + V,"Playing/Buffering vmaf":ha + "/" + ka,"Buffering bitrate (a/v)":pa + " / " + oa,"Buffer size in Bytes (a/v)":this.j.nLa() + " / " + this.j.c4a(),"Buffer size in Bytes":"" + ba,"Buffer size in Seconds (a/v)":(0,f.ik)(this.j.O7()) + " / " + (0,f.ik)(this.j.gga()),"Downloadables (a/v)":aa + " / " + fa,"Current CDN (a/v/t)":(la?la.name + ", Id: " + la.id:"?") + " / " + (R?R.name + ", Id: " + R.id:"?") + " / " + (ea?ea.name + ", Id: " + ea.id:"?")});}catch(Na){}try{ja=this.j.Ye.value;A={};if(ja && ja.stream){sa=ja.stream;ta=sa.track;qa=this.iOb.Cqb(ta.streams);Aa=sa.Uc;if((/xheaac/).test(Aa))Ga="xhe-aac";else if((/heaac/).test(Aa))Ga="he-aac";else if((/ddplus/).test(Aa))switch(Aa){case r.Pc.fO:Ga="ddplus51";break;case r.Pc.gO:Ga="ddplus51hq";break;case r.Pc.hO:Ga="ddplusatmos";break;default:Ga="ddplus";}else Ga="unknown";A["Audio Track"]=ta.Ig + ", Id: " + ta.trackId + ", Channels: " + ta.channels + ", Codec: " + qa + " (" + Ga + ")";A["Audio Tags"]=null === (P=ja.stream) || void 0 === P?void 0:P.Nk.toString();}na=this.j.ze.value;if(na && na.stream){va=na.stream;xa=this.iOb.orb(this.j.ka.Mh?this.j.ka.Mh.streams:[]);ra=va.Uc;ya=(/hevc/).test(ra)?"hevc":(/h264hpl/).test(ra)?"avchigh":(/av1/).test(ra)?"av1":"avc";(/hdr/).test(ra) && (ya+=", hdr");(/dv/).test(ra) && (ya+=", dv");(/prk/).test(ra) && (ya+=", prk");A["Video Track"]="Codec: " + xa + " (" + ya + ")";A["Video Tags"]=null === (I=na.stream) || void 0 === I?void 0:I.Nk.toString();}Ca=this.j.Xk.value;A["Timed Text Track"]=Ca?Ca.Ig + ", Profile: " + Ca.profile + ", Id: " + Ca.trackId + ", DownloadableId: " + Ca.ob:"none";U.push(A);}catch(Na){}try{Ja=this.j.Xd;Ka=this.j.ag.value?this.j.ag.value.framerate:0;La=a(99732).yDb;U.push({Framerate:Ka.toFixed(3),"Current Dropped Frames":(0,h.pc)(this.RNa)?this.RNa:"","Total Frames":Ja.yA(),"Total Dropped Frames":Ja.lR(),"Total Corrupted Frames":Ja.z$(),"Main Thread stall/sec":La?La.wpa().join(" "):"DISABLED",KeySystem:null === (O=this.j.Rl) || void 0 === O?void 0:O.wy.my,KeyStatus:null === (T=null === (Q=this.j.Rl) || void 0 === Q?void 0:Q.bxb) || void 0 === T?void 0:T.call(Q),VideoDiag:(0,g.aWa)(this.j.$pa()),"HDR support":this.cTa?this.cTa.result + " (" + this.cTa.reason + ")":"unknown"});}catch(Na){}try{U.push({Throughput:this.j.kb + " kbps"});}catch(Na){}Oa=void 0;try{Object.entries(this.Nrb).forEach(function(Na){var Qa;Qa=Ea(Na);Na=Qa.next().value;Qa=Qa.next().value;Oa=Oa || ({});Oa[Na]=JSON.stringify(Qa);});Oa && U.push(Oa);}catch(Na){}return U;};b.Ieb=d;},25138:function(t,b,a){var c,f,g,e;function d(h,k,l,m){this.Ia=h;this.yNc=k;this.wa=l;this.wi=m;this.If={};}function n(h,k){this.uh=h;this.wi=k;this.Ac={};this.wa=h.wb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.V_b=b.DFa=void 0;t=a(22970);c=a(22674);f=a(87386);g=a(81918);e=a(5021);n.prototype.rMc=function(h,k){this.Ac[h] && this.wa.warn("registerPlayback: xid " + h + " already registered, overriding");k=(k?k:this.wi.yc()).oa(e.za);this.wa.trace("registerPlayback: xid " + h + " at " + k);this.Ac[h]=new d(h,k,this.wa,this.wi);return this.Ac[h];};n.prototype.$rc=function(h){this.Ac[h] || this.wa.warn("getPlaybackMilestones: xid " + h + " is not registered");return this.Ac[h];};n.prototype.MMc=function(h){this.wa.trace("removePlayback: xid " + h);delete this.Ac[h];};a=n;b.DFa=a;b.DFa=a=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(f.zb)),t.__param(1,(0,c.v)(g.ie))],a);d.prototype.xv=function(h,k){k=k?k.oa(e.za):this.wi.yc().oa(e.za) - this.yNc;this.wa.trace("addMilestone: xid " + this.Ia + " " + h + " at " + k);this.If[h]=k;};b.V_b=d;},81889:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.FFa=void 0;a.prototype.gWa=function(d){d=void 0 === d?{}:d;return {Jn:d.trackingId,bma:d.authParams,dr:d.sessionParams,jf:d.uiLabel,bya:d.uxLabels,COa:d.disableTrackStickiness,cC:d.uiPlayStartTime,Qoa:d.forceAudioTrackId,Roa:d.forceTimedTextTrackId,Pg:d.isBranching,playbackState:d.playbackState?{currentTime:d.playbackState.currentTime,volume:d.playbackState.volume,muted:d.playbackState.muted,playbackRate:d.playbackState.playbackRate}:void 0,fZ:d.enableTrickPlay,dTa:d.heartbeatCooldown,BD:d.isPlaygraph,Zra:d.loadImmediately || !1,jIb:d.pin,dE:d.preciseSeeking,Hb:d.startPts,Lg:d.endPts,pj:d.logicalEnd,Fva:d.renderTimedText,oub:d.extraManifestParams,N7:d.assetId,K8b:d.audioLanguages,vUc:d.textLanguages,jSb:d.videoLanguage,gSb:d.videoAspectRatio,Ms:d.packageId,usb:d.desiredDownloadables,H_a:d.requestReference,M6b:d.additionalAudioAssets,P6b:d.additionalTextAssets};};b.FFa=a;},65361:function(t,b,a){var n,c;function d(f,g){f=n.wc.call(this,f) || this;f.sWa=g;return f;}Object.defineProperty(b,"__esModule",{value:!0});b.Keb=void 0;n=a(81734);c=a(8825);Ia(d,n.wc);d.prototype.set=function(f){n.wc.prototype.set.call(this,(0,c.qF)(f,0,this.sWa));};b.Keb=d;},37025:function(t,b,a){var n,c,f;function d(g,e,h,k,l,m,p,q,r,u,v,w,x,y,A){this.index=g;this.R=e;this.L=h;this.qb=k;this.Ia=l;this.Yj=m;this.oDb=p;this.nqb=r;this.JEb=v;this.ve=x;this.Ff=y;this.j=A;this.ka=new f.MFa();this.Xk=new n.wc(null);this.ZB=new n.wc(void 0);this.ag=new n.wc(null);this.fj=new n.wc(null);this.Ye=new n.wc(null);this.ze=new n.wc(null);this.Tc=[new n.wc(null),new n.wc(null),new n.wc(null)];this.mediaTime=new n.wc(void 0);this.playbackRate=new n.wc(1);this.Ev=new n.wc(null);this.background=new n.wc(!1);this.RX={source:"notcached",type:void 0};this.ZP="notcached";this.Jna=!1;q && (this.ag.set(q.ag.value),this.fj.set(q.fj.value));this.Dp=u(this);this.Sq=this.JEb.rMc(this.Ia,this.Yj);this.Dc=w(this,A);}Object.defineProperty(b,"__esModule",{value:!0});b.Leb=void 0;n=a(81734);c=a(5021);f=a(73403);d.prototype.ih=function(g){this.Sq.xv(g);};d.prototype.jL=function(g){var e;e=this;Object.entries(g).forEach(function(h){var k;k=Ea(h);h=k.next().value;k=k.next().value;e.Sq.xv(h,(0,c.ic)(k - e.Yj.oa(c.za)));});};d.prototype.uta=function(){this.JEb.MMc(this.Ia);};Ha.Object.defineProperties(d.prototype,{jf:{configurable:!0,enumerable:!0,get:function(){return this.qb.jf;}},bya:{configurable:!0,enumerable:!0,get:function(){return this.qb.bya;}},js:{configurable:!0,enumerable:!0,get:function(){return this.Yc && this.Yc.js;}},$k:{configurable:!0,enumerable:!0,get:function(){var g;return null !== (g=this.Yc && this.Yc.$k) && void 0 !== g?g:[];}},NE:{configurable:!0,enumerable:!0,get:function(){var g;return null !== (g=this.Yc && this.Yc.NE) && void 0 !== g?g:[];}},EI:{configurable:!0,enumerable:!0,get:function(){var g;return null !== (g=this.Yc && this.Yc.EI) && void 0 !== g?g:[];}},wj:{configurable:!0,enumerable:!0,get:function(){var g;return null !== (g=this.Yc && this.Yc.wj) && void 0 !== g?g:[];}},Zd:{configurable:!0,enumerable:!0,get:function(){return this.Yc && this.Yc.Zd;}},Ib:{configurable:!0,enumerable:!0,get:function(){return this.Yc && this.Yc.Ib;}},RR:{configurable:!0,enumerable:!0,get:function(){var g;return null !== (g=this.Yc && this.Yc.RR) && void 0 !== g?g:!1;}},yT:{configurable:!0,enumerable:!0,get:function(){var g;return null !== (g=this.Yc && this.Yc.yT) && void 0 !== g?g:[];}},Vh:{configurable:!0,enumerable:!0,get:function(){var g;return null !== (g=this.Yc && this.Yc.Vh) && void 0 !== g?g:[];}},xG:{configurable:!0,enumerable:!0,get:function(){var g,e;return this.Dc.Ba && (void 0 === this.JW || 0 >= this.JW.oa(c.za) || Infinity <= this.JW.oa(c.za))?(0,c.ic)(this.Dc.WK()):this.JW && 0 < this.JW.oa(c.za)?this.JW:(0,c.ic)(null !== (e=null === (g=this.S) || void 0 === g?void 0:g.Aa.duration) && void 0 !== e?e:0);},set:function(g){this.JW=g;}},lEb:{configurable:!0,enumerable:!0,get:function(){return this.Dc.Ba && (void 0 === this.Jka || 0 >= this.Jka.oa(c.za) || Infinity <= this.Jka.oa(c.za))?(0,c.ic)(this.Dc.jrc()):this.Jka;},set:function(g){this.Jka=g;}},Jn:{configurable:!0,enumerable:!0,get:function(){return this.qb.Jn || 0;}},gs:{configurable:!0,enumerable:!0,get:function(){var g,e,h,k,l;if(void 0 !== this.M8)return this.M8;if(void 0 === this.mediaTime.value)return null;l=null === (e=null === (g=this.j) || void 0 === g?void 0:g.bb) || void 0 === e?void 0:e.Drb;return l && this.Dc.Ba && this.Dc.PR() && (g=this.j.Pj(l.J),e=null === (k=null === (h=this.j.bb) || void 0 === h?void 0:h.Wh) || void 0 === k?void 0:k.ba[g.L],"content" !== (null === e || void 0 === e?void 0:e.type) && (h=this.nqb(this.mediaTime.value,g.L),k=this.Dc.uk,null !== h && k && h < k))?h + k:this.nqb(this.mediaTime.value,this.L);}},correlationId:{configurable:!0,enumerable:!0,get:function(){var g,e;return null === (e=null === (g=this.S) || void 0 === g?void 0:g.Aa.gA) || void 0 === e?void 0:e.Lf;}},dU:{configurable:!0,enumerable:!0,get:function(){var g,e;return null === (e=null === (g=this.S) || void 0 === g?void 0:g.Aa.gA) || void 0 === e?void 0:e.dU;}},If:{configurable:!0,enumerable:!0,get:function(){return this.Sq.If;}},bb:{configurable:!0,enumerable:!0,get:function(){var g;return null === (g=this.j) || void 0 === g?void 0:g.bb;}}});b.Leb=d;},69334:function(t,b,a){var n,c,f;function d(g,e,h){this.sj=g;this.ec=h;this.ba=[];this.log=e.wb("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.JFa=void 0;n=a(22970);t=a(22674);c=a(42207);f=a(87386);a(5021);d.prototype.some=function(g){return this.ba.some(g);};d.prototype.mqa=function(){return !!(this.ba[0] && this.ba[0].stream && this.ec.Ci(this.ba[0].stream.Qb));};d.prototype.Zv=function(g){return this.ba.filter(g).reduce(function(e,h){return e + (h.endTime - h.startTime) / h.rate;},0);};d.prototype.eaa=function(g){return this.ba.filter(g).reduce(function(e,h){return e + h.endTime - h.startTime;},0);};d.prototype.IQa=function(g,e){var h,k;h=this;k={};return this.ba.filter(function(l){return !e || l.Ep === e;}).reduce(function(l,m){var p,q,r;p=g.bind(h,m)();q=p.key;p=n.__rest(p,["key"]);m=m.endTime - m.startTime;r=k[q];r?r.duration+=m:(r=p,r.duration=m,l.push(r),k[q]=r);return l;},[]);};d.prototype.Re=function(g,e,h){var k;h=void 0 === h?this.sj.playbackRate.value:h;k=this.ba;g && e && e >= g.startTime && (g={Tc:g.Tc,track:g.track,stream:g.stream,startTime:g.startTime,cy:g.cy,Zaa:g.Zaa,endTime:e,rate:h,Ep:g.Ep || "content"},(e=k[k.length - 1]) && e.track === g.track && e.stream === g.stream && e.Tc === g.Tc && e.endTime === g.startTime && e.rate === g.rate && e.cy === g.cy && e.Zaa === g.Zaa && e.Ep === g.Ep?e.endTime=g.endTime:k.push(g),!1);};a=d;b.JFa=a;b.JFa=a=n.__decorate([n.__param(1,(0,t.v)(f.zb)),n.__param(2,(0,t.v)(c.Mi))],a);},73403:function(t,b,a){var n,c;function d(){this.Em=[];this.Rd=this.Mh=this.je=null;}Object.defineProperty(b,"__esModule",{value:!0});b.MFa=void 0;n=a(26388);c=a(45146);d.prototype.Mp=function(f,g){var e,h;if(f !== this.Rd){h=this.Rd;this.Rd=f;f={D2a:!0,Cy:h,dG:null !== (e=null === g || void 0 === g?void 0:g.dG) && void 0 !== e?e:!1};this.wta(f);}};d.prototype.LB=function(f,g){var e,h;if(f !== this.je){h=this.je;this.je=f;f={tw:h,rLa:!0,dG:null !== (e=null === g || void 0 === g?void 0:g.dG) && void 0 !== e?e:!1};this.wta(f);}};d.prototype.p1a=function(f){var g;if(f !== this.Mh){g=this.Mh;this.Mh=f;this.wta({qGb:g,d4a:!0});}};d.prototype.Vy=function(f){var g,e,h,k,l,m;g=this.Mh !== f.DFb;e=this.je !== f.yy;h=this.Rd !== f.so;if(g || e || h){k=this.Mh;this.Mh=f.DFb;l=this.je;this.je=f.yy;m=this.Rd;this.Rd=f.so;this.wta({qGb:k,d4a:g,tw:l,rLa:e,Cy:m,D2a:h});}};d.prototype.addListener=function(f,g){(0,c.X8)(g);(0,c.va)(0 > this.Xub(g));this.Em=this.Em.slice();this.Em.push({Hh:f,listener:g});};d.prototype.removeListener=function(f){var g;(0,c.X8)(f);this.Em=this.Em.slice();0 <= (g=this.Xub(f)) && this.Em.splice(g,1);};d.prototype.Xub=function(f){return this.Em.findIndex(function(g){return g.listener === f;});};d.prototype.wta=function(f){var k,l;f=Object.assign({D2a:!1,Cy:this.Rd,so:this.Rd,rLa:!1,tw:this.je,yy:this.je,d4a:!1,qGb:this.Mh,DFb:this.Mh,dG:!1},f);for(var g=this.Em,e=g.length,h=0;h < e;h++){k=g[h];l=k.Hh;k=k.listener;(l.includes(n.u.X) && f.rLa || l.includes(n.u.U) && f.d4a || l.includes(n.u.Da) && f.D2a) && k(f);}};b.MFa=d;},82557:function(t,b,a){var n,c,f,g;function d(e){this.Xa=e;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.rGa=void 0;t=a(22970);n=a(85001);c=a(22674);f=a(81918);g=a(5021);d.prototype.Rs=function(e){e.Fc !== n.Mc.No && (this.trace.unshift({time:this.Xa.yc(),event:e}),5 < this.trace.length && this.trace.pop());};d.prototype.uSa=function(){var e,h;e=this;if(0 === this.trace.length)return {};h=this.trace[0];return {timeSinceLastRepositionMs:this.NPb(h.time),lastRepositionCause:this.swb(h.event.Fc),repositionTrace:this.trace.map(function(k){return {timeSince:e.NPb(k.time),cause:e.swb(k.event.Fc),newMediaTime:k.event.ES,oldMediaTime:k.event.LS,contentPts:k.event.Ol,skip:k.event.skip};})};};d.prototype.NPb=function(e){return this.Xa.yc().ea(e).oa(g.za);};d.prototype.swb=function(e){switch(e){case n.Mc.No:return "initial";case n.Mc.bv:return "seek";case n.Mc.RV:return "live_edge";case n.Mc.rW:return "segment_changed";case n.Mc.i6:return "track_changed";case n.Mc.Bha:return "force_rebuffer";case n.Mc.n4:return "fragments_missing";case n.Mc.hia:return "media_discontinuity";}};a=d;b.rGa=a;b.rGa=a=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(f.ie))],a);},13889:function(t,b,a){var n,c,f,g;function d(e,h,k){this.config=e;this.j=h;this.uh=k;this.b1=this.YS=void 0;this.Zca=!1;this.log=this.uh.wb();}Object.defineProperty(b,"__esModule",{value:!0});b.Egb=void 0;n=a(85001);c=a(5021);f=a(8825);g=a(32687);d.prototype.vrc=function(e,h,k,l,m){var p,q,r,u,v;k=void 0 === k?this.j.L:k;p=h === n.Mc.rW || h === n.Mc.hia;l=(void 0 === l?!1:l) || this.Fxc();q=this.lac(p?e:this.Sbc(e,k),h,l,k);r=this.j.bb;p?(e=q,q=r.nNa(q)):e=r.pNa(k,q);h === n.Mc.No && (this.j.aob=q);m=this.cl(e,h,m);u=(p=p || m)?e:q;if(this.j.Ps){v=this.j.qb.Pg?this.config().hYa:this.config().nM;this.j.$yb(u,v) || h !== n.Mc.bv && h !== n.Mc.RV || (u=this.j.Ps.oa(c.za) - v - 1E3,p?(e=u,q=r.nNa(u)):(e=r.pNa(k,u),q=u));}return {ES:u,Ol:q,JIc:e,cl:m,dE:l};};d.prototype.lac=function(e,h,k,l){k?e=Math.round(e):(k=this.j.bb.jnc(e,l),e=(0,g.pc)(k)?k:Math.round(e));this.j.qb.Pg && (e=this.Nnc(e));this.config().gMb && 0 !== e && h !== n.Mc.No && (e+=this.config().gMb);return e;};d.prototype.cl=function(e,h,k){if(this.config().Iic || h === n.Mc.No || h === n.Mc.i6 || h === n.Mc.Bha || !k || e < k.start.oa(c.za) || e >= k.end.oa(c.za))return !1;h=this.j.bb;return (null === h || void 0 === h?void 0:h.lk) && h.cl(e) || !1;};d.prototype.Fxc=function(){return this.j.qb.Pg || this.j.Dc.Ba?(!1,!0):"boolean" === typeof this.j.qb.dE?this.j.qb.dE:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().dE && this.config().gJc:this.config().dE;};d.prototype.Sbc=function(e,h){var k;k=this.j.Vl(h);h=k.xG;k=k.lEb;!1;h=k || h;k=this.j.Dc.Ba && !this.j.Dc.PR()?0:this.config().wYc;h=Math.max(0,h.oa(c.za) - k);return (0,f.qF)(e,0,h);};d.prototype.Nnc=function(e){var h,k,l;h=this.j.u$();if(Object.values(h).find(function(m){var p;p=m.cb;p=e < (null !== p && void 0 !== p?p:Infinity);return m.Ta <= e && p;}))return (!1,e);l=e;Object.entries(h).forEach(function(m){var p;m=Ea(m);m.next();m=m.next().value.Ta;p=m - e;0 < p && (void 0 === k || p < k) && (k=p,l=m);});!1;return l;};Ha.Object.defineProperties(d.prototype,{bba:{configurable:!0,enumerable:!0,get:function(){return this.Zca || !!this.b1 || !!this.YS;}}});b.Egb=d;},74834:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.MGa=void 0;t=a(22970);a=a(22674);d.prototype.BKc=function(c,f){f.RL.hb.w0a({xid:f.Ia,auxPlaybackcontextid:f.Zd,auxMid:c.auxMid,auxMidType:c.auxMidType,reason:c.reason,adBreakLocationMs:c.adBreakLocationMs},"error" === c.sev);};n=d;b.MGa=n;b.MGa=n=t.__decorate([(0,a.aa)()],n);},37517:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m,p,q,r,u,v,w,x,y){var A;A=this;this.sVc=l;this.j=m;this.id=p;this.height=q;this.width=r;this.nIc=u;this.oIc=v;this.size=w;this.JA=x;this.urls=y;this.type=n.Nn.j3a;this.retry=!0;this.state=e.Gz.tia;this.Ki={};this.Ula={};this.sda=function(z){if(z.success)try{A.data=A.sVc.parse(z.content);A.state=e.Gz.xO;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.Ki);A.j.fireEvent(h.ja.Ofa);}catch(B){A.state=e.Gz.vdb;A.log.error("TrickPlay parse failed.",B);}else (A.state=e.Gz.tia,A.log.error("TrickPlay download failed.",(0,k.fF)(z),A.Ki));};this.log=(0,f.ko)(m,"TrickPlay");}b.z=void 0;n=a(51344);c=a(29204);f=a(31276);g=a(61726);e=a(94025);h=a(85001);k=a(36129);d.prototype.pqc=function(l){if(this.data && (this.JA && (l+=this.JA),l=Math.floor(l / this.data.header.SPb),0 <= l && l < this.data.images.length))return {image:this.data.images[l],time:l * this.data.header.SPb,height:this.height,width:this.width,pixelAspectHeight:this.nIc,pixelAspectWidth:this.oIc};};d.prototype.c_=function(){switch(this.state){case e.Gz.xO:return "downloaded";case e.Gz.LOADING:return "loading";case e.Gz.o5:return "downloadfailed";case e.Gz.vdb:return "parsefailed";default:return "notstarted";}};d.prototype.download=function(){var l;l=this.Eyb();l?(this.state=e.Gz.LOADING,this.ajc(l)):this.retry=!1;};d.prototype.getState=function(){return this.state;};d.prototype.Eyb=function(){var l,m,p;l=this;m=Object.keys(this.urls).find(function(q){return (l.Ula[l.urls[q]] || 0) <= c.config.oVc;});if(m){p=this.urls[m];(p in this.Ula)?this.Ula[p]++:this.Ula[p]=1;return {url:p,Uh:m};}};d.prototype.ajc=function(l){var m,p;this.log.trace("Downloading",l.url,this.Ki);p=this.hpa(l.Uh);l={responseType:g.waa,Tc:p,url:l.url,track:this,Mw:null !== (m=null === p || void 0 === p?void 0:p.type) && void 0 !== m?m:"unknown",BK:"trickplay"};this.j.tqa.download(l,this.sda);};d.prototype.hpa=function(l){return this.j.Vh.find(function(m){return m && m.id === l;});};b.z=d;},18181:function(t,b,a){var n,c,f,g,e,h;function d(k,l){this.wi=k;this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.xHa=void 0;t=a(22970);n=a(85001);c=a(94025);f=a(81918);g=a(22674);e=a(5021);a=a(4203);d.prototype.fZ=function(k){var l;k.Pfa={};if(!k.A_() && k.EI && 0 < k.EI.length && (k.DI=this.Uwb(k),k.DI)){l=this.UQc(k);l() || (k.Zb.addListener(l),k.ag.addListener(l));}};d.prototype.UQc=function(k){var m;function l(){var p,q;if(!k.ag.value || k.Zb.value === n.Nb.ph)return !1;p=k.DI;q=p.getState();return q === c.Gz.LOADING?!1:q !== c.Gz.xO && p.retry?(p=m.ttc(k))?(k.Pfa.offset=m.wi.yc().oa(e.za),k.DI=p,p.download(),!0):!1:(k.Zb.removeListener(l),k.ag.removeListener(l),!1);}m=this;return l;};d.prototype.ttc=function(k){var l,m;l=this.config();m=k.Dp.Zv() < l.qVc;l=(k.ag.value?k.ag.value.bitrate:0) > l.pVc;return this.Jsc(k,m && l);};d.prototype.Jsc=function(k,l){if(l && (l=this.Uwb(k),this.fyb(k,l.size)))return (k.Pfa.cLb="h",l);l=this.crc(k);if(this.fyb(k,l.size))return (k.Pfa.cLb="l",l);};d.prototype.fyb=function(k,l){var m,p;m=this.config();p=Math.min(k.O7(),k.gga());return k.p9b.O$b(l) * (1 + .01 * m.O6b[2]) < p * m.tVc;};d.prototype.Uwb=function(k){return k.EI[k.EI.length - 1];};d.prototype.crc=function(k){return k.EI[0];};h=d;b.xHa=h;b.xHa=h=t.__decorate([(0,g.aa)(),t.__param(0,(0,g.v)(f.ie)),t.__param(1,(0,g.v)(a.Ic))],h);},25837:function(t,b,a){var n,c,f;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.yHa=void 0;t=a(22970);c=a(70834);a=a(22674);d.prototype.parse=function(g){var e,h;if(!g)throw Error("invalid array buffer");e=new Uint8Array(g);h=new c.lha(e);g=this.mua(h);e=this.vHc(h,e,g);return {header:g,images:e};};d.prototype.mua=function(g){var e,h,k,l;if(g.W$() < this.DNc())throw Error("array buffer too short");n.ubb.forEach(function(m){if(m != g.Eu())throw Error("BIF has invalid magic.");});e=g.v1();if(e > n.VERSION)throw Error("BIF version in unsupported");h=g.v1();if(0 == h)throw Error("BIF has no frames.");k=g.v1();l=g.yn(n.Jfb);return {version:e,KEc:h,SPb:k,fLb:l};};d.prototype.vHc=function(g,e,h){var m,p;for(var k=[],l=0;l <= h.KEc;l++){m={timestamp:g.v1(),offset:g.v1()};void 0 != p && k.push(e.subarray(p.offset,m.offset));p=m;}return k;};d.prototype.DNc=function(){return n.ubb.length + 4 + 4 + 4 + n.Jfb;};f=n=d;b.yHa=f;f.ubb=[137,66,73,70,13,10,26,10];f.VERSION=0;f.Jfb=44;b.yHa=f=n=t.__decorate([(0,a.aa)()],f);},72614:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v;function d(w){return function(){return w.Jb.get(n.neb).Ob();};}Object.defineProperty(b,"__esModule",{value:!0});b.gT=void 0;t=a(22674);n=a(96687);c=a(32979);f=a(23048);g=a(62278);e=a(95480);h=a(91859);k=a(95398);l=a(77334);m=a(10469);p=a(44698);q=a(36258);r=a(78339);u=a(50889);v=a(18477);b.gT=new t.Ce(function(w){w(k.Neb).to(l.HFa).sa();w(c.jFa).to(f.iFa).sa();w(g.beb).to(e.SEa).sa();w(n.neb).to(h.lFa).sa();w(n.O5).Ffa(d);w(u.meb).to(v.kFa).sa();w(m.deb).to(p.WEa).sa().tga();w(q.oeb).to(r.mFa).sa();w(q.keb).to(r.gFa).sa();w(q.leb).to(r.hFa).sa();});},62278:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.beb="PboCachedPlaydataSymbol";},10469:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hia={tra:"keepAlive",splice:"splice",pause:"pause",resume:"resume"};b.deb="PboEventSenderSymbol";},32979:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jFa="PboPlaydataFactorySymbol";},50889:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.meb="PboPlaydataPlaybackMonitorSymbol";},96687:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.neb="PboPlaydataServicesSymbol";b.O5="PboPlaydataServicesProviderSymbol";},95398:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Neb="PlaydataConfigSymbol";},95480:function(t,b,a){var f,g,e,h,k,l,m,p,q,r;function d(){}function n(){}function c(u,v,w,x,y){var A;A=this;this.is=u;this.kt=v;this.config=w;this.sQ=x;this.YHc=y;this.Hfa=function(){return new d().encode({version:A.version,data:A.gT});};this.VWc=function(z){z=A.upgrade(z);A.YHc.validate(z);return z;};this.upgrade=function(z){var B;if(A.is.vx(z))return A.WWc(z);B=z.version;if(void 0 != B && A.is.Xo(B) && 1 == B)return A.XWc(z);B=z.version;if(void 0 != B && A.is.Xo(B) && 2 == B)return new d().decode(z);if(z.version && A.is.Xo(z.version))throw new k.se(e.da.cJ,e.Y.CUb,void 0,void 0,void 0,"Version number is not supported. Version: " + z.version,void 0,z);throw new k.se(e.da.cJ,e.Y.Uga,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,z);};this.Ty=new l.T$a(2,this.config().BIb,"" !== this.config().BIb && 0 < this.config().CIc,this.kt,this.Hfa);}Object.defineProperty(b,"__esModule",{value:!0});b.SEa=void 0;t=a(22970);f=a(22674);g=a(4203);e=a(36129);h=a(42207);k=a(31149);l=a(52657);m=a(17892);p=a(33554);q=a(23048);a=a(36258);c.prototype.tLc=function(){return this.Ty.load(this.VWc).catch(function(u){throw new k.se(e.da.cJ,u.Ua || u.subCode,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,u);});};c.prototype.r6b=function(u){return this.Ty.add(u);};c.prototype.FKb=function(u){return this.Ty.remove(u,function(v,w){return v.Ia === w.Ia;});};c.prototype.C3a=function(u){return this.Ty.update(u,function(v,w){return v.Ia === w.Ia;});};c.prototype.toString=function(){return JSON.stringify(this.Hfa(),null,"  ");};c.prototype.FRb=function(u){return u?"/events?playbackContextId=" + u + "&esn=" + this.sQ().ij:"";};c.prototype.K3a=function(u){return u.map(function(v){return {ob:v.downloadableId,duration:v.duration};});};c.prototype.GRb=function(u){var v;return u?{total:u.playTimes.total,IU:null !== (v=u.playTimes.totalContentTime) && void 0 !== v?v:u.playTimes.total,P2:u.playTimes.total,xN:0,zN:0,KU:0,JU:0,LU:0,audio:this.K3a(u.playTimes.audio || []),video:this.K3a(u.playTimes.video || []),text:this.K3a(u.playTimes.timedtext || [])}:{total:0,IU:0,P2:0,xN:0,zN:0,KU:0,JU:0,LU:0,audio:[],video:[],text:[]};};c.prototype.WWc=function(u){var v,w,x;v=this;u=JSON.parse(u);w={yf:"VOD",href:this.FRb(u.playbackContextId),Ia:u.xid?u.xid.toString():"",R:u.movieId,position:u.position,uG:u.timestamp,Jk:u.playback?1E3 * u.playback.startEpoch:-1,b0:u.mediaId,sB:this.GRb(u.playback),trackId:"",dr:{},p1:u.accountKey};x=JSON.stringify({keySessionIds:u.keySessionIds,movieId:u.movieId,xid:u.xid,licenseContextId:u.licenseContextId,profileId:u.profileId});this.kt.create().then(function(y){y.save(v.config().LOa,x,!1);});if("" === w.href || "" === w.Ia)throw new k.se(e.da.cJ,e.Y.Uga);return {version:2,data:[w]};};c.prototype.XWc=function(u){var v;v=this;if(!u.playdata || !this.is.LP(u.playdata))throw new k.se(e.da.cJ,e.Y.Uga,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,u);return {version:2,data:(function(w){return w.map(function(x){var y;return {yf:null !== (y=x.streamingType) && void 0 !== y?y:"VOD",href:v.FRb(x.playbackContextId),Ia:x.xid?x.xid.toString():"",R:x.movieId,position:x.position,uG:x.timestamp,Jk:x.playback?1E3 * x.playback.startEpoch:-1,b0:x.mediaId,sB:v.GRb(x.playback),trackId:"",dr:{},p1:x.profileId};});})(u.playdata)};};Ha.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Ty.version;}},gT:{configurable:!0,enumerable:!0,get:function(){return this.Ty.Xr;}}});r=c;b.SEa=r;b.SEa=r=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(h.Mi)),t.__param(1,(0,f.v)(m.QI)),t.__param(2,(0,f.v)(g.Ic)),t.__param(3,(0,f.v)(p.iC)),t.__param(4,(0,f.v)(a.leb))],r);n.prototype.encode=function(u){var v;v=new q.Iia();return u.map(v.encode);};n.prototype.decode=function(u){var v;v=new q.Iia();return u.map(v.decode);};d.prototype.encode=function(u){return {version:u.version,data:new n().encode(u.data)};};d.prototype.decode=function(u){return {version:u.version,data:new n().decode(u.data)};};},44698:function(t,b,a){var n,c,f;function d(g,e){this.A8=e;this.log=g.wb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.WEa=void 0;t=a(22970);n=a(87607);c=a(87386);a=a(22674);d.prototype.E0a=function(g,e){var h;h=this.A8(n.Lo.start);return this.cub(h,g,e);};d.prototype.EMb=function(g){var e;e=this;return this.A8(n.Lo.stop).Ue({log:this.log,J:g.R},g).then(function(){}).catch(function(h){e.log.error("PBO stop event failed",h);throw h;});};d.prototype.d2=function(g,e,h){g=this.A8(g);return this.cub(g,e,h);};d.prototype.cub=function(g,e,h){var k;k=this;return g.Ue({log:this.log,links:e.S.wp,J:h.R},h).then(function(){}).catch(function(l){k.log.error("PBO event failed",l);throw l;});};f=d;b.WEa=f;b.WEa=f=t.__decorate([(0,a.aa)(),t.__param(0,(0,a.v)(c.zb)),t.__param(1,(0,a.v)(n.nBa))],f);},23048:function(t,b,a){var h,k,l,m,p,q;function d(r,u,v,w){this.Na=r;this.gaa=u;this.Xa=v;this.profile=w;}function n(){}function c(){}function f(){}function g(){}function e(){}Object.defineProperty(b,"__esModule",{value:!0});b.iFa=b.Iia=void 0;t=a(22970);h=a(22674);k=a(30869);l=a(5021);m=a(4203);p=a(81918);a=a(71501);e.prototype.encode=function(r){return {downloadableId:r.ob,duration:r.duration};};e.prototype.decode=function(r){return {ob:r.downloadableId,duration:r.duration};};g.prototype.encode=function(r){return {total:r.total,totalContentTime:r.IU,totalAdDuration:r.xN,totalCombinedDuration:r.P2,totalOtherDuration:r.zN,totalStartSlateDuration:r.LU,totalLiveEdgeDuration:r.KU,totalLiveEdgeAdDuration:r.JU,audio:r.audio.map(new e().encode),video:r.video.map(new e().encode),text:r.text.map(new e().encode)};};g.prototype.decode=function(r){var u;return {total:r.total,IU:null !== (u=r.totalContentTime) && void 0 !== u?u:r.total,xN:r.totalAdDuration,P2:r.totalCombinedDuration,zN:r.totalOtherDuration,LU:r.totalStartSlateDuration,KU:r.totalLiveEdgeDuration,JU:r.totalLiveEdgeAdDuration,audio:r.audio.map(new e().decode),video:r.video.map(new e().decode),text:r.text.map(new e().decode)};};f.prototype.encode=function(r){var u;u=new c();return {audio:u.encode(r.audio),video:u.encode(r.video),timedtext:u.encode(r.N2),mediaevents:u.encode(r.vEb)};};f.prototype.decode=function(r){var u;u=new c();return {audio:u.decode(r.audio),video:u.decode(r.video),N2:u.decode(r.timedtext),vEb:u.decode(r.mediaevents)};};c.prototype.encode=function(r){return {streamingCdnId:r.efa,presentingCdnId:r.Zua};};c.prototype.decode=function(r){return {efa:r.streamingCdnId,Zua:r.presentingCdnId};};n.prototype.encode=function(r){return {streamingType:r.yf,href:r.href,xid:r.Ia,movieId:r.R,position:r.position,clientTime:r.uG,sessionStartTime:r.Jk,videoTrackId:r.Vp,audioTrackId:r.Dv,timedTextTrackId:r.az,mediaId:r.b0,playTimes:new g().encode(r.sB),trackId:r.trackId,sessionId:r.sessionId,appId:r.appId,sessionParams:r.dr,profileId:r.p1,cdnDownloadableInfos:r.v8?new f().encode(r.v8):void 0};};n.prototype.decode=function(r){return {yf:r.streamingType,href:r.href,Ia:r.xid,R:r.movieId,position:r.position,uG:r.clientTime,Jk:r.sessionStartTime,Vp:r.videoTrackId,Dv:r.audioTrackId,az:r.timedTextTrackId,b0:r.mediaId,sB:new g().decode(r.playTimes),trackId:r.trackId,sessionId:r.sessionId,appId:r.appId,dr:r.sessionParams,p1:r.profileId,v8:r.cdnDownloadableInfos?new f().decode(r.cdnDownloadableInfos):void 0};};b.Iia=n;d.prototype.create=function(r){var u,v,w,x,y,A,z,B,C;C=Object.assign(Object.assign({},null !== (u=r.qb.dr) && void 0 !== u?u:{}),{uiVersion:this.gaa().Ov.uiVersion});u=null !== (v=r.Dc.Ba?r.Dc.Wpa():r.gs) && void 0 !== v?v:0;v=null === (w=r.bb) || void 0 === w?void 0:w.URa();return {href:r.S && r.S.wp?r.S.wp.QZ("events").href:"",yf:null !== (y=null === (x=r.S) || void 0 === x?void 0:x.Aa.yf) && void 0 !== y?y:"VOD",Ia:r.Ia.toString(),R:r.R,position:Math.floor(u),uG:this.Na.pI.oa(l.za),Jk:r.oH?r.oH.oa(l.za):-1,Vp:null === (A=r.ka.Mh) || void 0 === A?void 0:A.trackId,Dv:null === (z=r.ka.je) || void 0 === z?void 0:z.trackId,az:null === (B=r.ka.Rd) || void 0 === B?void 0:B.trackId,b0:void 0,sB:this.WRa(r),trackId:void 0 !== r.Jn?r.Jn.toString():"",sessionId:this.gaa().sessionId || this.Xa.id,appId:this.gaa().appId || this.Xa.id,dr:C,p1:this.profile,v8:null === v || void 0 === v?void 0:v.v8};};d.prototype.load=function(r){return new n().decode(r);};d.prototype.$Ra=function(r){return r.map(function(u){return {ob:u.downloadableId,duration:u.duration};});};d.prototype.WRa=function(r){return (r=r.Dp)?(r=r.Zrc(),{total:r.total,IU:r.totalContentTime,xN:r.totalAdDuration,zN:r.totalOtherDuration,P2:r.totalCombinedDuration,KU:r.totalLiveEdgeDuration,JU:r.totalLiveEdgeAdDuration,LU:r.totalStartSlateDuration,audio:this.$Ra(r.audio),video:this.$Ra(r.video),text:this.$Ra(r.timedtext)}):{total:0,IU:0,xN:0,P2:0,zN:0,KU:0,JU:0,LU:0,video:[],audio:[],text:[]};};q=d;b.iFa=q;b.iFa=q=t.__decorate([(0,h.aa)(),t.__param(0,(0,h.v)(k.Li)),t.__param(1,(0,h.v)(m.Ic)),t.__param(2,(0,h.v)(p.ie)),t.__param(3,(0,h.v)(a.NO))],q);},18477:function(t,b,a){var n,c,f,g,e;function d(h,k){this.ZHb=k;this.log=h.wb("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.kFa=void 0;t=a(22970);n=a(22674);c=a(87386);f=a(85001);g=a(96687);e=a(26388);d.prototype.im=function(h){var k;k=this;this.ZHb().then(function(l){h.addEventListener(f.ja.TL,function(m){var p,q;if(void 0 !== m.m1){p=h.Pj(m.m1);q=p.Ff && p.Ff === h.ga.Ff;q || l.cfa(p);m.NR || new Promise(function(r){var u;if(h.$j.value)r();else {u=function(v){v.newValue && (r(),h.$j.removeListener(u));};h.$j.addListener(u);}}).then(function(){q || l.im(h,k.PNb(h),function(r){return h.qK(r);});});}});h.addEventListener(f.ja.tB,function(){l.im(h.ga,k.PNb(h),function(m){return h.qK(m);});});h.background.value || h.addEventListener(f.ja.zVa,function(m){var p;m=h.Pj(m.R);if(null === (p=m.ve) || void 0 === p?0:p.fd)(p=h.Pj(m.ve.fd),k.log.trace("Auxiliary viewable segment (viewableId: " + m.R + "). Starting playdata monitor for parent viewable " + p.R),m=p);l.R1a(m);});h.addEventListener(f.ja.rh,function(){l.JOb();});h.addEventListener(f.ja.X3a,function(){l.BMb(h.ga).catch(function(m){(m=m.wM) && h.qK(m);});});h.addEventListener(f.ja.ZRb,function(){l.CMb(h.ga).catch(function(m){(m=m.wM) && h.qK(m);});});h.ka.addListener([e.u.Da],function(){h.qb.COa?k.log.trace("stickiness is disabled for timedtext"):l.vwa(h.ga);});h.ka.addListener([e.u.X],function(){h.qb.COa?k.log.trace("stickiness is disabled for audio"):l.vwa(h.ga).catch(function(m){(m=m.wM) && h.qK(m);});});});};d.prototype.PNb=function(h){return h.state.value == f.Gc.Cf;};a=d;b.kFa=a;b.kFa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.zb)),t.__param(1,(0,n.v)(g.O5))],a);},91859:function(t,b,a){var c,f,g,e,h,k,l,m,p,q,r,u,v;function d(w,x,y,A,z,B,C){this.config=w;this.Cd=y;this.LE=A;this.uB=z;this.Jua=B;this.Zj=C;this.Bra=Promise.resolve();this.closed=!1;this.log=x.wb("PlaydataServices");this.fT=[];this.active=new Set();}function n(w,x,y,A,z,B){this.log=w;this.Cd=x;this.sj=y;this.uB=A;this.LE=z;this.uIc=B;this.zub=this.Zc=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.lFa=void 0;t=a(22970);c=a(22674);f=a(5021);g=a(87386);e=a(53085);h=a(32979);k=a(62278);l=a(95398);m=a(36129);p=a(23048);q=a(10469);r=a(45266);u=a(30869);a=a(79274);n.prototype.p0=function(w,x){var A;function y(){var z;z=A.uB.create(A.sj);A.LE.C3a(z).catch(function(B){var C;C=A.zub?g.Oo.UHa:g.Oo.Wp;A.zub=!0;A.log.write(C,"Unable to save playdata changes to IDB",B);});}A=this;this.log.trace("Adding initial playdata",x);this.LE.r6b(x).then(function(){A.log.trace("Scheduling monitor",{interval:w});A.Py=A.Cd.ZT(w,y);}).catch(function(z){A.log.error("Unable to add playdata",{error:z,playdata:new p.Iia().encode(x)});A.Py=A.Cd.ZT(w,y);});};n.prototype.stop=function(w){var x,y;x=this;if(this.Zc)return Promise.resolve();this.Py && this.Py.cancel();y=this.uB.create(this.sj);return this.LE.C3a(y).catch(function(A){x.log.error("Unable to update playdata changes during stop",A);}).then(function(){if(w){if(x.sj.background.value)return (x.log.trace("Playback is currently in the background and never played, not sending the playdata",y),Promise.resolve());x.log.trace("Sending final playdata to the server",y);return x.uIc.EMb(y);}x.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(w)return (x.log.trace("Removing playdata from the persisted store",y),x.LE.FKb(y));x.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){x.log.info("Successfully stopped the playback",y.R);}).catch(function(A){x.log.error("Unable to remove playdata changes",A);throw A;});};n.prototype.cancel=function(){this.Zc=!0;this.Py && this.Py.cancel();this.LE.C3a(this.uB.create(this.sj));};d.prototype.Ob=function(){var w;w=this;this.mL || (this.log.trace("Starting playdata services"),this.mL=this.LE.tLc().then(function(){!1;return w;}).catch(function(x){w.log.error("Unable to read the playdata, it will be deleted and not sent to the server",x);return w;}));return this.mL;};d.prototype.close=function(){this.closed=!0;this.fT.forEach(function(w){w.p0.cancel();});};d.prototype.send=function(w){var x;if(this.closed)return Promise.resolve();x=this.config;return x.aT && x.C0a?this.qPc(w):Promise.resolve();};d.prototype.im=function(w,x,y){var A;A=this;this.closed || (this.R1a(w),this.E0a(w).catch(function(z){A.log.error("Start command failed",{playdata:z.gT,error:z.K9});}),x && this.P1a(this.Kqc(w),w,y));};d.prototype.cfa=function(w){var x,y,A;x=this;if(this.closed)return Promise.resolve();y=this.uB.create(w);this.active.delete(y.Ia);w=Ea((0,r.pM)(function(z){return z.key === y.Ia;},this.fT));A=w.next().value;this.fT=w.next().value;return Promise.all(A.map(function(z){z.stopped=!0;return z.p0.stop(x.config.C0a);})).then(function(){});};d.prototype.R1a=function(w){var x,y;w.ih("pdb");if(this.config.NYa.DUa()){x=this.uB.create(w);y=x.Ia;this.fT.some(function(A){return A.key === y;})?this.log.trace("Already collecting playdata, ignoring",x):(this.log.info("Starting to collect playdata",x),this.active.add(y),this.fT.push({key:y,p0:this.qrc(w,x),Xy:!1,stopped:!1}));}};d.prototype.qPc=function(w){var x,y,A,z;x=this;y=this.LE.gT.filter(function(B){return !x.active.has(B.Ia);});A=void 0;z=void 0;w && Infinity === w?A=y:(y=Ea((0,r.pM)(function(B){return B.R === w;},y)),A=y.next().value,z=y.next().value);z && 0 < z.length && this.Cd.Zq(this.config.zMb,function(){x.DMb(z).catch(function(){});});return A && 0 !== A.length?this.DMb(A):Promise.resolve();};d.prototype.DMb=function(w){var y;function x(A){return y.Jua.EMb(A).then(function(){return y.LMc(A);});}y=this;return w.reduce(function(A,z){return A.then(function(){return x(z);});},Promise.resolve());};d.prototype.LMc=function(w){var x;x=this;return this.LE.FKb(w).then(function(){}).catch(function(y){x.log.error("Unable to complete the stop lifecycle event",y);throw y;});};d.prototype.qrc=function(w,x){w=new n(this.log,this.Cd,w,this.uB,this.LE,this.Jua);w.p0(this.config.NYa,x);return w;};d.prototype.E0a=function(w){var x,y;x=this;y=this.uB.create(w);return this.Jua.E0a(w,y).then(function(){!1;x.UDb(w);}).catch(function(A){x.UDb(w);throw {gT:y,K9:A};});};d.prototype.UDb=function(w){this.fT.filter(function(x){return x.key === w.Ia.toString();}).forEach(function(x){x.Xy=!0;});};d.prototype.BMb=function(w){return this.d2(q.Hia.pause,w,m.da.wdb);};d.prototype.CMb=function(w){return this.d2(q.Hia.resume,w,m.da.Kfb);};d.prototype.vwa=function(w){return this.d2(q.Hia.splice,w,m.da.qgb);};d.prototype.d2=function(w,x,y){var z;function A(B){var C;C=z.fT.filter(function(D){return D.key === B.Ia.toString();});return 0 === C.length?!0:C.reduce(function(D,E){return D || E.stopped || !E.Xy;},!1);}z=this;return A(x)?this.Bra:this.Bra=this.Bra.catch(function(){return Promise.resolve();}).then(function(){var B;if(A(x))return Promise.resolve();!1;B=z.uB.create(x);return z.Jua.d2(w,x,B);}).then(function(B){!1;return B;}).catch(function(B){var C;z.log.error("Failed to send event",{eventKey:w,xid:x.Ia,error:B});B.tPa?C=z.Zj(y,B):B.NH === m.nia.jd && (C=z.Zj(y,B));throw {K9:B,wM:C};});};d.prototype.P1a=function(w,x,y){var A;A=this;!1;this.IMa();this.WUa=this.Cd.Zq(w,function(){A.IMa();A.d2(q.Hia.tra,x,m.da.mab).then(function(){A.P1a(w,x,y);}).catch(function(z){var B;B=z.K9;(z=z.wM) && y(z);B.NH !== m.nia.jd && A.P1a(w,x,y);});});};d.prototype.JOb=function(){this.IMa();};d.prototype.IMa=function(){this.WUa && (this.WUa.cancel(),this.WUa=void 0);};d.prototype.Kqc=function(w){return w.qb.dTa?(0,f.ic)(w.qb.dTa):this.config.QBb;};v=d;b.lFa=v;b.lFa=v=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(l.Neb)),t.__param(1,(0,c.v)(g.zb)),t.__param(2,(0,c.v)(e.Dl)),t.__param(3,(0,c.v)(k.beb)),t.__param(4,(0,c.v)(h.jFa)),t.__param(5,(0,c.v)(q.deb)),t.__param(6,(0,c.v)(a.P5)),t.__param(7,(0,c.v)(u.Li))],v);},78339:function(t,b,a){var f,g,e,h;function d(){}function n(k){this.XHc=k;}function c(k){this.ZHc=k;}Object.defineProperty(b,"__esModule",{value:!0});b.mFa=b.hFa=b.gFa=void 0;t=a(22970);f=a(22674);g=a(36258);e=a(31149);h=a(36129);c.prototype.validate=function(k){k.map(this.ZHc.validate);};a=c;b.gFa=a;b.gFa=a=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(g.oeb))],a);n.prototype.validate=function(k){this.XHc.validate(k.data);};a=n;b.hFa=a;b.hFa=a=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(g.keb))],a);d.prototype.validate=function(k){var l;k.Ia && "string" === typeof k.Ia?k.href && "string" === typeof k.href?k.p1 && "string" === typeof k.p1 || (l="ProfileId value is corrupted."):l="Href value is corrupted.":l="Xid value is corrupted.";if(l)throw new e.se(h.da.cJ,h.Y.Uga,void 0,void 0,void 0,l,void 0,k.Ia);};g=d;b.mFa=g;b.mFa=g=t.__decorate([(0,f.aa)()],g);},77334:function(t,b,a){var n,c,f,g,e,h;function d(k,l){k=c.Tf.call(this,k,"PlaydataConfigImpl") || this;k.config=l;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.HFa=void 0;t=a(22970);n=a(22674);c=a(64174);f=a(83767);g=a(12501);e=a(5021);a=a(34231);Ia(d,c.Tf);Ha.Object.defineProperties(d.prototype,{aT:{configurable:!0,enumerable:!0,get:function(){return this.config.KG?"unsentplaydatatest":"unsentplaydata";}},C0a:{configurable:!0,enumerable:!0,get:function(){return !0;}},zMb:{configurable:!0,enumerable:!0,get:function(){return (0,e.ic)(1E4);}},NYa:{configurable:!0,enumerable:!0,get:function(){return (0,e.ic)(4E3);}},QBb:{configurable:!0,enumerable:!0,get:function(){return (0,e.PWa)(1);}}});h=d;b.HFa=h;t.__decorate([g.config(g.string,"playdataPersistKey")],h.prototype,"aT",null);t.__decorate([g.config(g.qd,"sendPersistedPlaydata")],h.prototype,"C0a",null);t.__decorate([g.config(g.ro,"playdataSendDelayMilliseconds")],h.prototype,"zMb",null);t.__decorate([g.config(g.ro,"playdataPersistIntervalMilliseconds")],h.prototype,"NYa",null);t.__decorate([g.config(g.ro,"heartbeatCooldown")],h.prototype,"QBb",null);b.HFa=h=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.Qo)),t.__param(1,(0,n.v)(a.xt))],h);},58343:function(t,b,a){var n,c;function d(f,g){var e;e=this;this.Yj=f;this.Ih=g;this.addEventListener=function(h,k,l){return e.Ih.addListener(h,e.$rb(h,k),l);};this.removeEventListener=function(h,k){return e.Ih.removeListener(h,e.$rb(h,k));};this.getReady=function(){return e.Ih.Cs();};this.getXid=function(){return e.Rb().DA();};this.getPlaybackContextId=function(){return e.Rb().Nxb();};this.getMovieId=function(){return e.Rb().Axb();};this.getElement=function(){return e.Ih.Dq();};this.isPlaying=function(){return e.Rb().hy();};this.isPaused=function(){return e.Rb().$aa();};this.isMuted=function(){return e.Rb().tUa();};this.isReady=function(){return e.Rb().Cs();};this.isBackground=function(){return e.Rb().GAb();};this.setBackground=function(h){return e.Rb().S0a(h);};this.startInactivityMonitor=function(){return e.Rb().p2();};this.setTransitionTime=function(h){return e.Rb().n1a(h);};this.getDiagnostics=function(){return e.Rb().Ewb();};this.getTextTrackList=function(h){return e.Rb().xSa(h);};this.getMaxRecommendedTextIndex=function(h){return e.Rb().HRa(h);};this.getTextTrack=function(){return e.Rb().wSa();};this.setTextTrack=function(h){return e.Rb().Mp(h);};this.getVolume=function(){return e.Rb().Jyb();};this.isEnded=function(){return e.Rb().jUa();};this.getBusy=function(){return e.Rb().Oj();};this.getError=function(){return e.Rb().getError();};this.getCurrentTime=function(){return e.Rb().xA();};this.getAdManager=function(){return e.Rb().cn();};this.getLivePlaybackManager=function(){var h;h=e.Rb().io();(0,c.va)(h,"Unexpected call to getLivePlaybackManager()");if(h.Ba && !h.pRc())return {seekToLiveEdge:function(){return h.Y1();},isAtLiveEdge:function(){return h.cy();},getLiveEventState:function(){return h.ZK();},isLiveEventEnded:function(){return h.PR();}};};this.getBufferedTime=function(){return e.Rb().owb();};this.getSegmentTime=function(){return e.Rb().aH();};this.getDuration=function(){return e.Rb().WK();};this.getVideoSize=function(){return e.Rb().Gyb();};this.getAudioTrackList=function(){return e.Rb().gwb();};this.getMaxRecommendedAudioIndex=function(){return e.Rb().sxb();};this.getAudioTrack=function(){return e.Rb().fwb();};this.getTimedTextTrackList=function(h){return e.Rb().xSa(h);};this.getMaxRecommendedTimedTextIndex=function(h){return e.Rb().HRa(h);};this.getTimedTextTrack=function(){return e.Rb().wSa();};this.getAdditionalLogInfo=function(){return e.Rb().ewb();};this.getTrickPlayFrame=function(h){return e.Rb().Cyb(h);};this.getSessionSummary=function(){return e.Rb().mSa();};this.getTimedTextSettings=function(){return e.Rb().daa();};this.setMuted=function(h){return e.Rb().gNb(h);};this.setVolume=function(h){return e.Rb().yNb(h);};this.getPlaybackRate=function(){return e.Rb().VZ();};this.getTimeCodes=function(){return e.Rb().zyb();};this.setPlaybackRate=function(h){return e.Rb().Dwa(h);};this.setAudioTrack=function(h){return e.Rb().LB(h);};this.setTimedTextTrack=function(h){return e.Rb().Mp(h);};this.setTimedTextSettings=function(h){return e.Rb().i2(h);};this.prepare=function(){return e.Rb().rT();};this.load=function(){return e.Rb().load();};this.close=function(h){return e.Xmb(e.Ih.close(),h);};this.play=function(){return e.Rb().play();};this.pause=function(){return e.Rb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(h,k){return e.Xmb(e.Rb().hZ(h),k);};this.induceError=function(h){return e.Rb().Yzb(h);};this.loadCustomTimedTextTrack=function(h,k,l,m){return e.Rb().cDb(h,k,l,m);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return e.Rb().kpa();};this.generateScreenshots=function(h){return e.Rb().Zvb(h);};this.getPlaygraphManager=function(){return {getPlaygraphId:function(){return e.Ih.dsc();},getCurrentSegmentId:function(){return e.Ih.Awb();},getPlaygraphMap:function(){return e.Ih.sR();},updatePlaygraphMap:function(h){return e.Ih.HN(h);},getSegmentOffset:function(){return e.Ih.jyb();},getPlaygraphSessionOffset:function(){return e.Ih.esc();},getPlaygraphDuration:function(){return e.Ih.csc();}};};this.APa=new Map();this.log=(0,n.gn)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.Mja=void 0;n=a(31276);a(24550);c=a(45146);d.prototype.Rb=function(){return this.Ih.Rb();};d.prototype.$rb=function(f,g){var e;this.APa.has(f) || this.APa.set(f,new Map());e=this.APa.get(f);e.has(g) || e.set(g,this.whc(f,g));return e.get(g);};d.prototype.whc=function(f,g){var e;e=this;return function(h){return g(Object.assign({},h,{type:f,target:e}));};};d.prototype.Xmb=function(f,g){return g?f.then(g,g):f;};b.Mja=d;},64059:function(t,b,a){var n;function d(c,f,g){var e;e=n.Mja.call(this,c,f) || this;e.seek=function(h){return e.Rb().seek(h);};e.addEpisode=function(h){return e.vVa.X5b(h);};e.playNextEpisode=function(h){h=void 0 === h?{}:h;return e.vVa.vIc(h);};e.watchCredits=function(h){return e.vVa.eYc(h);};e.playSegment=function(h){return e.Rb().uIb(h);};e.queueSegment=function(h){return e.Rb().MJb(h);};e.updateNextSegmentWeights=function(h,k){return e.Rb().xl(h,k);};e.setNextSegment=function(h){for(var k=[],l=0;l < arguments.length;++l)k[l - 0]=arguments[l];k=k.map(function(m){return {L:m.segmentId,v0:m.nextSegmentId};});e.Ih.Dn.apply(e.Ih,za(k));};e.clearNextSegment=function(h){for(var k=[],l=0;l < arguments.length;++l)k[l - 0]=arguments[l];return e.Ih.bcc.apply(e.Ih,za(k));};e.goToNextSegment=function(h,k){return e.Ih.NSa(h,k);};e.getPlaying=function(){return e.isPlaying();};e.getPaused=function(){return e.isPaused();};e.getMuted=function(){return e.isMuted();};e.getEnded=function(){return e.isEnded();};e.getTimedTextVisibility=function(){return e.isTimedTextVisible();};e.isTimedTextVisible=function(){return !!e.Rb().daa().visibility;};e.setTimedTextVisibility=function(h){return e.setTimedTextVisible(h);};e.setTimedTextSize=function(h){return e.Rb().i2({size:h});};e.setTimedTextBounds=function(h){return e.Rb().i2({bounds:h});};e.setTimedTextMargins=function(h){return e.Rb().i2({margins:h});};e.setTimedTextVisible=function(h){return e.Rb().i2({visibility:h});};e.getCongestionInfo=function(h){h && h({success:!1,name:null,isCongested:null});};e.vVa=g(c,f,e.log);return e;}b.Oga=void 0;n=a(58343);Ia(d,n.Mja);b.Oga=d;},59219:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x;function d(y){var A,z;A=this;this.Hua=new w.FFa();this.createPlaygraphPlayer=function(B,C,D){var E;B=q.OFa.encode(B);E=f.Wa.get(r.XV);D=D?E.create(D):void 0;E=f.Wa.get(l.RFa).create(B);return E.pgc(B.uf,A.Hua.gWa(A.xnb(C,E.npa())),D);};this.closeAllPlayers=function(B){B=void 0 === B?function(){}:B;(0,c.Eeb)(B);};this.init=function(B){A.eK.yba(function(C){C.success?A.tPc().catch(function(D){f.log.error("Unable to initialize the playdata services",D);}).then(function(){Object.assign(A,d.NP);B(Object.assign({success:!0},d.NP));}):B({success:!1,error:(0,f.Qeb)(C.errorCode || e.da.bCa,C)});});};this.applyConfig=function(B){A.kRb(B);(0,n.bNa)(B);};this.prepare=function(B,C){var D;B=A.XIb.pic(B) || [];D=new Set();B=B.filter(function(E){var H;H=D.has(E.R);D.add(E.R);return !H && (!A.zH.YIb() || E.rUa);});if(n.config.Iy && A.og && 0 < B.length)try{A.og.rT(B,C);}catch(E){f.log.warn("Prepare call failed",E);}};this.ppmUpdate=function(B){A.zH.YIb() || (Ba._cad_global.playerPredictionModel?(B=A.XIb.ric(B)) && Ba._cad_global.playerPredictionModel.update(B):f.log.error("ppmUpdate called but there is no ppmModel"));};this.supportsHdr=function(B){(0,f.MZ)().ifa().then(function(C){return B(C.result);}).catch(function(){return B(!1);});};this.supportsUltraHd=function(B){(0,f.MZ)().jfa().then(B).catch(function(){return B(!1);});};this.supportsDolbyAtmos=function(B){(0,f.MZ)().hfa().then(B).catch(function(){return B(!1);});};this.supportsDolbyVision=function(B){(0,f.MZ)().uxa().then(function(C){return B(C.result);}).catch(function(){return B(!1);});};this.supportsDolby51=function(B){(0,f.MZ)().txa().then(B).catch(function(){return B(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return n.config.Wkc;};this.lnaMessage=function(B){A.zH.sKc(B);};this.isLNAOn=function(){return A.zH.nAc;};this.kRb(y);f.Wa.get(v.u5a);this.XIb=f.Wa.get(g.xeb);this.eK=f.Wa.get(p.fk);this.zH=f.Wa.get(x.fia);z=f.Wa.get(u.veb).apply();(0,n.Ucc)([y],z);this.og=f.Wa.get(m.TO);(0,f.MZ)().jfa();}Object.defineProperty(b,"__esModule",{value:!0});b.vJ=void 0;n=a(29204);c=a(13044);f=a(31276);g=a(68976);e=a(36129);h=a(83767);k=a(96687);l=a(58252);m=a(66476);p=a(11479);q=a(79048);r=a(17398);u=a(52033);v=a(13847);w=a(81889);x=a(6823);d.prototype.xnb=function(y,A){var z,B,C,D;y=void 0 === y?{}:y;D=null !== (B=null === (z=y.playbackState) || void 0 === z?void 0:z.currentTime) && void 0 !== B?B:A.Ta;return Object.assign(Object.assign({startPts:D,uiPlayStartTime:Date.now()},y),{endPts:null !== (C=A.cb) && void 0 !== C?C:void 0,isPlaygraph:!0});};d.prototype.kRb=function(y){f.Wa.get(h.uO).uCc(y);};d.prototype.tPc=function(){f.Wa.get(k.O5)().catch(function(y){f.log.error("Unable to initialize the playdata services",y);throw y;}).then(function(y){return y.send(Infinity);}).catch(function(y){f.log.error("Unable to send deferred playdata",y);});return Promise.resolve();};b.vJ=d;d.NP={};},17925:function(t,b,a){var n,c,f,g,e,h;function d(k){var l;l=f.vJ.call(this,k) || this;l.createPlayer=function(m,p){var q,r,u;p=void 0 === p?{}:p;p="number" === typeof p?{Jn:p}:p;q=n.Wa.get(c.Q5);r=n.Wa.get(e.XV).create(p.manifest);u=n.Wa.get(g.YFa);m=q.mgc(m);q=n.Wa.get(h.RFa).create(m);m=q.npa();u=u.irb(q);u.addEpisode({movieId:m.J,playbackParams:l.xnb(p,m),manifest:r});return u;};return l;}Object.defineProperty(b,"__esModule",{value:!0});b.Hib=void 0;n=a(31276);c=a(75864);f=a(59219);g=a(32050);e=a(17398);h=a(58252);Ia(d,f.vJ);b.Hib=d;},41325:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperty(b,"__esModule",{value:!0});t=a(17925);d=a(29204);n=a(13044);b=a(87386);c=a(31276);f=a(45118);g=a(36410);e=a(45146);h=a(32687);Ba.netflix=Ba.netflix || ({});(0,e.va)(!Ba.netflix.player);Ba.netflix.player={VideoSession:t.Hib,diag:{togglePanel:function(k,l){var m;m=[];if(!d.config || d.config.Mda){switch(k){case "info":m=n.bq.map(function(p){return p.Fua;});break;case "streams":m=n.bq.map(function(p){return p.Iua;});break;case "log":m=[];}m.forEach(function(p){(0,h.$c)(l)?l?p.show():p.wD():p.toggle();});}},addLogMessageSink:function(k){c.Wa.get(f.Xp).addListener({wdd:function(){},zCc:function(l){k({data:l.data});}});}},log:(0,c.gn)("Ext"),LogLevel:b.Oo,addLogSink:function(k,l){c.Wa.get(g.UV).Bva(k,l);},getVersion:function(){return "6.0054.803.911";},getMostRecentPlaybackDiagnosticGroups:function(){var k;return null === (k=n.Az.uca) || void 0 === k?void 0:k.Dsb.F$();}};},61524:function(t,b,a){var d,n,c,f,g,e,h,k,l,m;Object.defineProperty(b,"__esModule",{value:!0});d=a(1481);n=a(59219);c=a(33096);f=a(29204);t=a(36129);g=a(31276);e=a(45146);h=a(3887);k=a(32687);l=a(45118);m=a(31850);a=a(11479);g.Wa.get(a.fk).register(t.da.J$a,function(p){var q,r;q=(0,g.gn)("NccpApi");r=(0,h.U7b)(["info","warn","trace","error"]);n.vJ.NP.nccp={getEsn:function(){return d.ip.ij;},getPreferredLanguages:function(){return f.config.Ov.sZa;},setPreferredLanguages:function(u){(0,e.va)((0,k.isArray)(u) && (0,k.C_)(u[0]));f.config.Ov.sZa=u;},queueLogblob:function(u,v,w){var x;if(u && v)if((v=v.toLowerCase(),r[v])){x=g.Wa.get(l.Xp);u=g.Wa.get(m.jF).Xt(u,v,w);x.Vc(u);}else q.warn("Invalid severity",{severity:v});},flushLogblobs:function(){g.Wa.get(l.Xp).flush(!0);}};p(c.Ph);});},42433:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u;Object.defineProperty(b,"__esModule",{value:!0});d=a(59219);n=a(1481);c=a(33096);f=a(52569);t=a(36129);g=a(31276);e=a(70834);h=a(45146);k=a(32687);l=a(22365);b=a(11479);m=a(24066);p=a(71501);q=a(97996);r=a(22816);u=a(65630);g.Wa.get(b.fk).register(t.da.K$a,function(v){var B;function w(){return n.ip.ij;}function x(C){var D;D=g.Wa.get(p.NO);g.Wa.get(q.F5)().then(function(E){var F,G,J,L;function H(K){var M;M={tokendata:"",signature:""};M.tokendata=(0,g.OC)(K.jr);M.signature=(0,g.OC)(K.Kk);return M;}F=E.BS.Vsc(D);G=F.cp;J=F.bc;F=F.kg;L=E.BS.fM.Dg;J && F && G?((0,h.va)(G),E=["1",(0,g.OC)(JSON.stringify(H(J))),(0,g.OC)(JSON.stringify(H(F)))].join(),C({success:!0,cryptoContext:{cTicket:E,encrypt:function(K,M){K=(0,k.Fi)(K)?(0,g.e3)(K):K;G.encrypt(K,L,u.pC.JSON,{result:function(P){P=(0,g.OC)(P);M({success:!0,mslEncryptionEnvelopeBase64:P});},error:function(P){(0,h.va)(!1,"Encrypt error: " + P);M({success:!1});}});},decrypt:function(K,M){K=(0,g.hG)(K);G.decrypt(K,L,{result:function(P){M({success:!0,text:(0,g.cga)(P)});},error:function(P){(0,h.va)(!1,"Decrypt error: " + P);M({success:!1});}});},hmac:function(K,M){K=(0,k.Fi)(K)?(0,g.e3)(K):K;G.sign(K,L,u.pC.JSON,{result:function(P){M({success:!0,hmacBase64:(0,g.OC)(P)});},error:function(P){(0,h.va)(!1,"Hmac error: " + P);M({success:!1});}});}}})):((0,h.va)(!1,"Must login first"),C({success:!1}));});}function y(C,D){var E;E=(0,g.hG)(C);C=E.subarray(32,48);E=E.subarray(0,32);if(16 != C.length || 32 != E.length)throw Error("Bad shared secret");Promise.all([(0,f.R0)(l.Xn.importKey("raw",C,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,f.R0)(l.Xn.importKey("raw",E,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(H){D({success:!0,cryptoContext:A(H[0],H[1])});},function(){D({success:!1});});}function A(C,D){function E(H){H=new e.lha((0,g.hG)(H));H.Eu();return {iv:H.TJb(),jlc:H.TJb()};}return {encrypt:function(H,F){var G;H=(0,k.Fi)(H)?(0,g.e3)(H):H;G=l.jJ.getRandomValues(new Uint8Array(16));(0,f.R0)(l.Xn.encrypt({name:"AES-CBC",iv:G},C,H)).then(function(J){var L,K;J=new Uint8Array(J);L=[];K=new e.lha(L);K.lz(2);K.VSb(G);K.VSb(J);J=(0,g.OC)(L);F({success:!0,encryptedDataAsn1Base64:J});},function(J){(0,h.va)(!1,"Encrypt error: " + J);F({success:!1});});},decrypt:function(H,F){var G;G=E(H);H=G.iv;G=G.jlc;(0,f.R0)(l.Xn.decrypt({name:"AES-CBC",iv:H},C,G)).then(function(J){J=new Uint8Array(J);F({success:!0,text:(0,g.cga)(J)});},function(J){(0,h.va)(!1,"Decrypt error: " + J);F({success:!1});});},hmac:function(H,F){H=(0,k.Fi)(H)?(0,g.e3)(H):H;(0,f.R0)(l.Xn.sign({name:"HMAC",hash:{name:"SHA-256"}},D,H)).then(function(G){G=new Uint8Array(G);F({success:!0,hmacBase64:(0,g.OC)(G)});},function(G){(0,h.va)(!1,"Hmac error: " + G);F({success:!1});});}};}function z(){return (0,m.jcc)();}B=g.Wa.get(r.oV);if(B.LAb || B.Xqa)d.vJ.NP.mdx={getEsn:w,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:z};v(c.Ph);});},13777:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p;Object.defineProperty(b,"__esModule",{value:!0});t=a(11479);b=a(36129);d=a(87386);n=a(91581);c=a(15348);f=a(33096);g=a(29204);e=a(31276);h=a(13044);k=a(59219);l=a(62898);m=a(66476);p=a(45118);e.Wa.get(t.fk).register(b.da.L$a,function(q){var v,w,x,y;function r(A,z){return void 0 === A || void 0 === z?Promise.reject("Invalid email and/or password"):e.Wa.get(l.$db).Ue({log:this.log,FLa:{email:A,password:z}},{}).then(function(){});}function u(A){var z;z=e.Wa.get(m.TO);return z.Kub.fetch(A,z);}if(g.config.cmc){v=e.Wa.get(c.Jia);w=e.Wa.get(n.Bt);x=e.Wa.get(d.zb).wb("Test");y=e.Wa.get(p.Xp);k.vJ.NP.test={setPboRequestsListener:function(A){return v.oQc(A);},playbacks:h.bq,playgraphManager:{isNextSegmentReady:function(A){var z,B;return void 0 !== (null === (B=null === (z=h.bq.find(function(C){return C.Ia === A;})) || void 0 === z?void 0:z.bb) || void 0 === B?void 0:{MLa:0});},isNextSegmentBuffering:function(A,z){var B,C;return null === (C=null === (B=h.bq.find(function(D){return D.Ia === A;})) || void 0 === B?void 0:B.bb) || void 0 === C?void 0:C.O$(z).k8;}},live:{isLive:function(A){var z;return null === (z=h.bq.find(function(B){return B.Ia === A;})) || void 0 === z?void 0:z.Dc.Ba;},isAtLiveEdge:function(A){var z;return null === (z=h.bq.find(function(B){return B.Ia === A;})) || void 0 === z?void 0:z.Dc.cy();}},device:{esn:Ba._cad_global.device.ij,esnPrefix:w.bu,errorPrefix:w.Px},log:{info:function(A,z){for(var B=[],C=1;C < arguments.length;++C)B[C - 1]=arguments[C];return x.info(A,B);},error:function(A,z){for(var B=[],C=1;C < arguments.length;++C)B[C - 1]=arguments[C];return x.error(A,B);},warn:function(A,z){for(var B=[],C=1;C < arguments.length;++C)B[C - 1]=arguments[C];return x.warn(A,B);},trace:function(A,z){for(var B=[],C=1;C < arguments.length;++C)B[C - 1]=arguments[C];return x.trace(A,B);},log:function(A,z){for(var B=[],C=1;C < arguments.length;++C)B[C - 1]=arguments[C];return x.log(A,B);},debug:function(A,z){for(var B=[],C=1;C < arguments.length;++C)B[C - 1]=arguments[C];return x.debug(A,B);},flush:function(){return y.flush();}},login:r,getManifest:u};}q(f.Ph);});},66093:function(t,b,a){var d,n,c,f,g,e,h,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.PC=void 0;d=a(33096);n=a(29204);t=a(36129);c=a(31276);f=a(22365);g=a(11479);e=a(32687);h=a(59818);k=a(5021);a=c.Wa.get(g.fk);l=c.Wa.get(h.sF);a.register(t.da.z$a,function(m){var u,v;function p(){m(d.Ph);p=d.lJ;}function q(w){if(!(w instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(x){if(!(0,e.dy)(w[x]))throw x + " is not a function";});}function r(){return Promise.resolve().then(function(){var w;w=f.zg.getBattery();if(!(0,e.dy)(w.then))throw "getBattery did not return a promise";return w;});}u=(0,c.gn)("BatteryManager");b.PC={GUb:"chargingchange",exb:function(){return v?v.level:null;},UQa:function(){return v?v.charging:null;},addEventListener:function(w,x){v && v.addEventListener(w,x);},removeEventListener:function(w,x){v && v.removeEventListener(w,x);}};n.config.u8 && (0,e.dy)(f.zg.getBattery)?l.Us((0,k.ic)(n.config.apc),r()).then(function(w){q(w);v=w;}).catch(function(w){u.error("getBattery failed",w);}).then(p):p();});},94886:function(t,b,a){var n,c;function d(){var f,g;f=this;this.Mz={};this.on=function(e,h,k){f.addListener(e,h,k);};this.addListener=function(e,h,k){f.Mz && (f.Mz[e]=f.Mz[e] || new c.Sia(!0)).add(h,k);};this.removeListener=function(e,h){f.Mz && f.Mz[e] && f.Mz[e].removeAll(h);};this.gRa=function(e){return f.Mz && f.Mz[e]?f.Mz[e].flatten():[];};g=this;this.rd=function(e,h,k){var l;if(g.Mz){l=g.gRa(e);for(e={jV:0};e.jV < l.length;(e={jV:e.jV},e.jV++))k?(function(m){return function(){var p;p=l[m.jV];(0,n.Yh)(function(){p(h);});};})(e)():l[e.jV].call(this,h);}};}Object.defineProperty(b,"__esModule",{value:!0});b.rm=void 0;n=a(32219);c=a(20483);d.prototype.Zg=function(){this.Mz=void 0;};b.rm=d;},31298:function(t,b,a){var n,c,f;function d(g,e,h,k,l,m){this.debug=g;this.config=e;this.platform=h;this.debug.assert(k && k != c.da.zh,"There should always be a specific error code");this.errorCode=k || c.da.zh;l && "object" === typeof l?(this.Ua=l.Ua || l.subCode,this.Ng=l.Ng || l.extCode,this.M9=l.M9 || l.ltb,this.ef=l.ef || l.details,this.r9=l.tPa,this.noa=l.noa || l.ybd || l.NH,this.L9=l.L9 || l.data,l.fca && (this.fca=l.fca),this.Yca=l.Yca,this.zq=l.zq,this.method=l.method,this.PH=l.PH,this.alert=l.alert,this.SKa=l.SKa,this.DR=l.DR,!this.ef && this.DR && (this.ef=JSON.stringify(this.DR)),this.Zd=l.Zd,this.debug.assert(!this.zq || this.zq == this.Ng)):(this.Ua=l,this.Ng=m);this.stack=[this.errorCode];this.Ua?this.stack.push(this.Ua):this.Ng && this.stack.push(c.Y.zh);this.Ng && this.stack.push(this.Ng);this.Nna=this.hra?this.Yca:this.platform.Px + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.Reb=void 0;n=a(33096);c=a(36129);f=a(32687);a(3887);d.prototype.iNb=function(g){this.IIc=g;};d.prototype.toString=function(){var g;g="[PlayerError #" + this.Nna + "]";this.ef && (g+=" " + this.ef);this.r9 && (g+=" (CustomMessage: " + this.r9 + ")");return g;};d.prototype.mD=function(){return (/widevine/i).test(this.config().ly)?n.PAa:(/fps/i).test(this.config().ly)?"fairplay":n.uha;};d.prototype.Gfa=function(){var g,e,h,k;this.r9 && (h=["streaming_error"]);h || this.mD() !== n.uha || ("80080017" == this.Ng && (h=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Ng && (h=["pause_timeout"]));h || this.mD() !== n.PAa || this.errorCode !== c.da.v8a && this.errorCode !== c.da.SAa || (h=["no_cdm","platform_error","plugin_error"]);h || this.errorCode !== c.da.VAa || this.Ua !== c.Y.TAa || (h=["pause_timeout"]);this.noa === c.nia.jd && (this.tMa("2018") || this.tMa("2020")?h=["received_soad"]:this.tMa("5000") && (h=["should_reset_device"]));k=this.kpc();k && (h=[k],this.r9=void 0);if(!h)switch(this.errorCode){case c.da.Eia:case c.da.Rha:case c.da.yTb:case c.da.FEa:this.IIc && (h=["pause_timeout"]);break;case c.da.O$a:case c.da.P$a:h=this.Ua?["platform_error"]:["multiple_tabs"];break;case c.da.cCa:case c.da.Hdb:case c.da.HEa:case c.da.p_b:h=["platform_error","plugin_error"];break;case c.da.y_b:h=["no_cdm","platform_error","plugin_error"];break;case c.da.B8a:case c.da.Fia:case c.da.Jdb:switch(this.Ng){case "FFFFD000":h=["device_needs_service","platform_error"];break;case "48444350":h=["unsupported_output","platform_error"];break;case "00000024":h=["private_mode"];}break;case c.da.Fdb:case c.da.GEa:h=["unsupported_output"];}!h && (0,c.Y8a)(this.Ua) && (h=this.Ua == c.Y.Z4?["geo"]:["internet_connection_problem"]);h || this.errorCode !== c.da.SAa || this.Ua !== c.Y.wr || "S" !== this.platform.Px || (h=["private_mode"]);if(!h)switch(this.h2a(this.Ua)){case c.Y.VHa:h=["should_upgrade"];break;case c.Y.Adb:h=["should_reset_device"];break;case c.Y.zdb:h=["should_reload_device"];break;case c.Y.ydb:h=["should_exit_device"];break;case c.Y.ZYb:case c.Y.Dbb:h=["should_signout_and_signin"];break;case c.Y.$Yb:h=["internet_connection_problem"];break;case c.Y.H7a:h=["platform_error","plugin_error"];break;case c.Y.nVb:case c.Y.w$a:case c.Y.x$a:h=["private_mode"];break;case c.Y.pDa:h=["should_reload_with_preferred_locales"];}h=h || [];if(this.hra)(h.push(this.Yca,this.M9),this.h2a(this.Ua) === c.Y.CEa && h.push("incorrect_pin"));else if((h.push(this.platform.Px + this.errorCode),this.Ua))switch(this.h2a(this.Ua)){case c.Y.CEa:h.push("incorrect_pin");break;default:h.push("" + this.Ua);}h={display:{code:this.Nna,text:this.r9},messageIdList:h,alert:this.alert,alertTag:this.SKa,preferredAudioLocale:null === (g=this.DR) || void 0 === g?void 0:g.Gzb,preferredTextLocale:null === (e=this.DR) || void 0 === e?void 0:e.Hzb};this.config().bmc && (h.debugData=this.L9);return h;};d.prototype.h2a=function(g){var e;e=parseInt(g,10);return isNaN(e)?g:e;};d.prototype.tMa=function(g){return ((0,f.pc)(this.Ng)?this.Ng.toString():(0,f.Fi)(this.Ng)?this.Ng:"").endsWith(g);};d.prototype.kpc=function(){if(this.errorCode === c.da.Bab && (this.Ua === c.Y.BEa || this.Ua === c.Y.xdb))return this.lpc(this.Ua === c.Y.BEa);};d.prototype.lpc=function(g){var e,h,k,l;k=this.config().browserInfo || ({});l=null === (e=k.os) || void 0 === e?void 0:e.name;e=((null === (h=k.os) || void 0 === h?void 0:h.version) || "").split(".");h=parseInt(e && e[0]);e=parseInt(e && e[1]);switch(l){case "windows":return 6 > h || 6 === h && 1 > e?g?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":g?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > h || 10 === h && 10 > e?g?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":g?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return g?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};Ha.Object.defineProperties(d.prototype,{hra:{configurable:!0,enumerable:!0,get:function(){return !!this.Yca && !!this.M9;}}});b.Reb=d;},981:function(t,b){function a(d,n){this.P2a=d;this.uD=n;}Object.defineProperty(b,"__esModule",{value:!0});b.Qfb=void 0;a.prototype.NQc=function(){this.Yka || (this.Yka=setInterval(this.uD,this.P2a));};a.prototype.Bpb=function(){this.Yka && (clearInterval(this.Yka),this.Yka=void 0);};b.Qfb=a;},35128:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gja=void 0;b.dv={iW:"PRIMARY",Hya:"ASSISTIVE",P6a:"COMMENTARY",NONE:"NONE"};b.Gja={assistive:b.dv.Hya,closedcaptions:b.dv.Hya,directorscommentary:b.dv.P6a,commentary:b.dv.P6a,subtitles:b.dv.iW,primary:b.dv.iW,none:b.dv.NONE};},24066:function(t,b,a){var n,c,f,g,e;function d(){return n.md.get(f.ie).wH.oa(e.za);}Object.defineProperty(b,"__esModule",{value:!0});b.Hx=function(){return n.md.get(f.ie).yc().oa(e.za);};b.Fpb=function(){return n.md.get(c.Li).Mg.oa(e.cv);};b.z6c=function(){return n.md.get(f.ie).wH.oa(e.cv);};b.y6c=function(){return n.md.get(g.iF).yG();};b.icc=d;b.jcc=function(){return n.md.get(c.Li).Mg.oa(e.za);};b.A6c=function(){return d();};n=a(83989);c=a(30869);f=a(81918);g=a(62665);e=a(5021);},33096:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.a6a=b.jGa=b.x5=b.gia=b.mUb=b.oUb=b.pUb=b.t6a=b.lUb=b.nUb=b.s6a=b.qUb=b.uUb=b.sUb=b.tUb=b.rUb=b.$Vb=b.ZVb=b.YVb=b.mYb=b.oYb=b.nYb=b.jYb=b.lYb=b.kYb=b.aWb=b.PAa=b.uha=b.wZb=b.N0b=b.Abb=b.fUb=b.E7a=b.vEa=b.gW=b.Cia=b.zbb=b.kF=b.eUb=b.f6a=b.JXb=b.J1b=b.iYb=b.hYb=b.B0b=b.A0b=b.yr=b.Ph=b.Lfb=b.lJ=void 0;b.$5a=b.b6a=b.d6a=b.c6a=void 0;b.lJ=function(){};b.Lfb=function(){return !0;};b.Ph={success:!0};b.yr=1E3;b.A0b=86400;b.B0b=604800;b.hYb=1E4;b.iYb=1E7;b.J1b=1.5;b.JXb=.128;b.f6a=7.8125;b.eUb=128;b.kF=145152E5;b.zbb=1E5;b.Cia="$netflix$player$order";b.gW=-1;b.vEa=1;b.E7a=["en-US"];b.fUb=8;b.Abb=65535;b.N0b=65536;b.wZb=Number.MAX_VALUE;b.uha="playready";b.PAa="widevine";b.aWb="fps";b.kYb='audio/mp4; codecs="mp4a.40.5"';b.lYb='audio/mp4; codecs="mp4a.40.42"';b.jYb='audio/mp4; codecs="ec-3"';b.nYb='video/mp4; codecs="avc1.640028"';b.oYb='video/mp4; codecs="hev1.2.6.L153.B0"';b.mYb='video/mp4; codecs="dvhe.01000000"';b.YVb="9A04F079-9840-4286-AB92-E65BE0885F95";b.ZVb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.$Vb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.rUb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.tUb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.sUb="4E657466-6C69-7846-7261-6D6552617465";b.uUb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.qUb="mp4a";b.s6a="enca";b.nUb="ec-3";b.lUb="avc1";b.t6a="encv";b.pUb="hvcC";b.oUb="hev1";b.mUb="dvhe";b.gia=0;b.x5=1;b.jGa="position:relative;width:100%;height:100%;overflow:hidden";b.a6a="AAAAJGZ0eXBpc282AAAAAW1jbDBpc282ZHNtc21zaXhkYXNoAAAAKWZyZWVJc29NZWRpYSBGaWxlIFByb2R1Y2VkIHdpdGggR1BBQwAAAAXwbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAABdwAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAzt0cmFrAAAAXHRraGQAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAYAAAADYAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAAAAAAH0gABAAAAAAKzbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAABdwAAAAABVxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABNZWRpYUhhbmRsZXIAAAACXm1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAh5zdGJsAAAB0nN0c2QAAAAAAAAAAgAAAQllbmN2AAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAYAA2ABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAP2F2Y0MBZAAW/+EAI2dkABasylBgd+XARAAAD6QAA6mDkgAD0JAAehKTTAHixbLAAQAFaOk7LIv9+PgAAAAAEHBhc3AAAAABAAAAAQAAAFBzaW5mAAAADGZybWFhdmMxAAAAFHNjaG0AAAAAY2VuYwABAAAAAAAoc2NoaQAAACB0ZW5jAAAAAAAAAQgAAAAABJJuTQAAAAAAAAAAAAAAFGJ0cnQAAFdDAAQxEAAA4PAAAAC5YXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAGAANgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAD9hdmNDAWQAFv/hACNnZAAWrMpQYHflwEQAAA+kAAOpg5IAA9CQAHoSk0wB4sWywAEABWjpOyyL/fj4AAAAABBwYXNwAAAAAQAAAAEAAAAUYnRydAAAV0MABDEQAADg8AAAABBzdHRzAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAOG12ZXgAAAAQbWVoZAAAAAABSRwjAAAAIHRyZXgAAAAAAAAAAQAAAAEAAAPpAAAAAAABAAAAAAGJcHNzaAAAAACaBPB5mEBChquS5lvgiF+VAAABaUoCAAAQAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiAD4ADQAKACAAIAA8AEQAQQBUAEEAPgANAAoAIAAgACAAIAA8AEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+AE8ATgBEAEUATQBBAE4ARAA8AC8ARABFAEMAUgBZAFAAVABPAFIAUwBFAFQAVQBQAD4ADQAKACAAIAA8AC8ARABBAFQAQQA+AA0ACgA8AC8AVwBSAE0ASABFAEEARABFAFIAPgAAAABMcHNzaAAAAAApcB/kPMdKNIxbrpDHQ5pHAAAALAAAAAQAAAAABJJuTcxdH7v6mbzxtj405AeHQcIhLEFIaAigoatAInie7Qj4AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAASSbk0AAAAAAAAAAA==";b.c6a="AAAAJGZ0eXBpc282AAAAAW1jbDBpc282ZHNtc21zaXhkYXNoAAAAKWZyZWVJc29NZWRpYSBGaWxlIFByb2R1Y2VkIHdpdGggR1BBQwAAAAa0bW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAB1MAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAA/90cmFrAAAAXHRraGQAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAABQAAAALQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAAAAAAH0gABAAAAAAN3bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAAABVxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABNZWRpYUhhbmRsZXIAAAADIm1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAuJzdGJsAAAClnN0c2QAAAAAAAAAAgAAAWtlbmN2AAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAABQAC0ABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAjmh2Y0MBAiAAAACQAAAAAABd8AD9/fr6AAAPA6AAAQAYQAEMAf//AiAAAAMAkAAAAwAAAwBdkcCQoQABAEFCAQECIAAAAwCQAAADAAADAF2gAoCALRNnkeSQpEM5Kym/RhSVgLUBAQEEAAAPpAAB1MPoq978AS6AJeACXQBLwqIAAQAHRAHBcvY8kAAAABBwYXNwAAAAAQAAAAEAAAATY29scm5jbHgAAQABAAEAAAAAUHNpbmYAAAAMZnJtYWh2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAEkm5NAAAAAAAAAAAAAAAUYnRydAAAfR0ADq1AAAfrqAAAARtodmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAABQAC0ABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAjmh2Y0MBAiAAAACQAAAAAABd8AD9/fr6AAAPA6AAAQAYQAEMAf//AiAAAAMAkAAAAwAAAwBdkcCQoQABAEFCAQECIAAAAwCQAAADAAADAF2gAoCALRNnkeSQpEM5Kym/RhSVgLUBAQEEAAAPpAAB1MPoq978AS6AJeACXQBLwqIAAQAHRAHBcvY8kAAAABBwYXNwAAAAAQAAAAEAAAATY29scm5jbHgAAQABAAEAAAAAFGJ0cnQAAH0dAA6tQAAH66gAAAAQc3R0cwAAAAAAAAAAAAAAEHN0c2MAAAAAAAAAAAAAABRzdHN6AAAAAAAAAAAAAAAAAAAAEHN0Y28AAAAAAAAAAAAAADhtdmV4AAAAEG1laGQAAAAAAAbfkgAAACB0cmV4AAAAAAAAAAEAAAABAAAD6QAAAAAAAQAAAAABiXBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAWlKAgAAEAEAlAI8AFcAUgBNAEgARQBBAEQARQBSACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADIALgAwAC4AMAAiACAAeABtAGwAbgBzAD0AIgBoAHQAdABwADoALwAvAHMAYwBoAGUAbQBhAHMALgBtAGkAYwByAG8AcwBvAGYAdAAuAGMAbwBtAC8ARABSAE0ALwAyADAAMAA3AC8AMAAzAC8AUABsAGEAeQBSAGUAYQBkAHkASABlAGEAZABlAHIAIgA+AA0ACgAgACAAPABEAEEAVABBAD4ADQAKACAAIAAgACAAPABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+AA0ACgAgACAAPAAvAEQAQQBUAEEAPgANAAoAPAAvAFcAUgBNAEgARQBBAEQARQBSAD4AAAAATHBzc2gAAAAAKXAf5DzHSjSMW66Qx0OaRwAAACwAAAAEAAAAAASSbk3MXR+7+pm88bY+NOQHh0HCISxBSGgIoKGrQCJ4nu0I+AAAADRwc3NoAAAAAO3vi6l51krOo8gn3NUdIe0AAAAUCAESEAAAAAAEkm5NAAAAAAAAAAA=";b.d6a="AAAAJGZ0eXBpc282AAAAAW1jbDBpc282ZHNtc21zaXhkYXNoAAAAKWZyZWVJc29NZWRpYSBGaWxlIFByb2R1Y2VkIHdpdGggR1BBQwAAAAX3bW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAABdwAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAA0J0cmFrAAAAXHRraGQAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAmAAAAFWAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAAAAAAPpAABAAAAAAK6bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAABdwAAAAABVxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABNZWRpYUhhbmRsZXIAAAACZW1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAiVzdGJsAAAB2XN0c2QAAAAAAAAAAQAAAcllbmN2AAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAmABVgBIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAwGh2Y0MBAiAAAACQAAAAAABa8AD9/fr6AAAPA6AAAQAYQAEMAf//AiAAAAMAkAAAAwAAAwBamLAkoQABAHFCAQECIAAAAwCQAAADAAADAFqgBMIBWfTZ5i5JCkQE7hCsImJ5ff6PNnL+jmUyXv6ObMv0YUITiKxJl7+jmzL9GFETmrEm/Zl+jCmnJWU36MKSsBahIgE2wgAAAwACAAADADHzze9+ALWAFrgBawAtcaIAAQAJRAHBcsKhljyQAAAAEHBhc3AAAAABAAAAAQAAABNjb2xybmNseAAJABAACQAAAAAgbWRjdjPChsQdTAu4hNA+gD0TQEICYloAAAAAMgAAAAxjbGxpJxAArwAAAFBzaW5mAAAADGZybWFodmMxAAAAFHNjaG0AAAAAY2VuYwABAAAAAAAoc2NoaQAAACB0ZW5jAAAAAAAAAQgAAAAABJJuTQAAAAAAAAAAAAAAFGJ0cnQAACRGAAVtaAABwSAAAAAQc3R0cwAAAAAAAAAAAAAAEHN0c2MAAAAAAAAAAAAAABRzdHN6AAAAAAAAAAAAAAAAAAAAEHN0Y28AAAAAAAAAAAAAADhtdmV4AAAAEG1laGQAAAAAADb8kAAAACB0cmV4AAAAAAAAAAEAAAABAAAD6QAAAAAAAQAAAAABiXBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAWlKAgAAEAEAlAI8AFcAUgBNAEgARQBBAEQARQBSACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADIALgAwAC4AMAAiACAAeABtAGwAbgBzAD0AIgBoAHQAdABwADoALwAvAHMAYwBoAGUAbQBhAHMALgBtAGkAYwByAG8AcwBvAGYAdAAuAGMAbwBtAC8ARABSAE0ALwAyADAAMAA3AC8AMAAzAC8AUABsAGEAeQBSAGUAYQBkAHkASABlAGEAZABlAHIAIgA+AA0ACgAgACAAPABEAEEAVABBAD4ADQAKACAAIAAgACAAPABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+AA0ACgAgACAAPAAvAEQAQQBUAEEAPgANAAoAPAAvAFcAUgBNAEgARQBBAEQARQBSAD4AAAAATHBzc2gAAAAAKXAf5DzHSjSMW66Qx0OaRwAAACwAAAAEAAAAAASSbk3MXR+7+pm88bY+NOQHh0HCISxBSGgIoKGrQCJ4nu0I+AAAADRwc3NoAAAAAO3vi6l51krOo8gn3NUdIe0AAAAUCAESEAAAAAAEkm5NAAAAAAAAAAA=";b.b6a="AAAAJGZ0eXBpc282AAAAAW1jbDBpc282ZHNtc21zaXhkYXNoAAAAOmZyZWVJc29NZWRpYSBGaWxlIFByb2R1Y2VkIHdpdGggR1BBQyAyLjIuMS1yZXZyZWxlYXNlAAAABiBtb292AAAAbG12aGQAAAAA5NfWeuTX1noAAF3AAAAAAAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAADa3RyYWsAAABcdGtoZAAAAAHk19Zf5NfWegAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAADwAAAAhwAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAAAAAA+kAAEAAAAAAuNtZGlhAAAAIG1kaGQAAAAA5NfWX+TX1noAAF3AAAAAAFXEAAAAAAA3aGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAD9AR1BBQzIuMi4xLXJldnJlbGVhc2UAAAAChG1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAkRzdGJsAAAB+HN0c2QAAAAAAAAAAgAAARxlbmN2AAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAA8ACHABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAH2h2Y0MBAiAAAACQAAAAAABa8AD9/fr6AAAPAAAAACBkdmNDAQAKDQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEHBhc3AAAAABAAAAAQAAABNjb2xybmNseAACAAIAAoAAAABQc2luZgAAAAxmcm1hZHZoZQAAABRzY2htAAAAAGNlbmMAAQAAAAAAKHNjaGkAAAAgdGVuYwAAAAAAAAEIAAAAAASSbk0AAAAAAAAAAAAAABRidHJ0AACamQAHyWAAAdpQAAAAzGR2aGUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAADwAIcAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAfaHZjQwECIAAAAJAAAAAAAFrwAP39+voAAA8AAAAAIGR2Y0MBAAoNAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQcGFzcAAAAAEAAAABAAAAE2NvbHJuY2x4AAIAAgACgAAAABRidHJ0AACamQAHyWAAAdpQAAAAEHN0dHMAAAAAAAAAAAAAABBzdHNjAAAAAAAAAAAAAAAUc3RzegAAAAAAAAAAAAAAAAAAABBzdGNvAAAAAAAAAAAAAAA4bXZleAAAABBtZWhkAAAAAASXy9QAAAAgdHJleAAAAAAAAAABAAAAAQAAA+kAAAAAAAEAAAAAAYlwc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAFpSgIAABABAJQCPABXAFIATQBIAEUAQQBEAEUAUgAgAHYAZQByAHMAaQBvAG4APQAiADQALgAyAC4AMAAuADAAIgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAPgANAAoAIAAgADwARABBAFQAQQA+AA0ACgAgACAAIAAgADwARABFAEMAUgBZAFAAVABPAFIAUwBFAFQAVQBQAD4ATwBOAEQARQBNAEEATgBEADwALwBEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgANAAoAIAAgADwALwBEAEEAVABBAD4ADQAKADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAEkm5NzF0fu/qZvPG2PjTkB4dBwiEsQUhoCKChq0AieJ7tCPgAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABJJuTQAAAAAAAAAA";b.$5a="AAAAIGZ0eXBpc282AAAAAWlzbzZkc21zbXNpeGRhc2gAAABJZnJlZUlzb01lZGlhIEZpbGUgUHJvZHVjZWQgd2l0aCBHUEFDIDIuMy1ERVYtcmV2NzMyNC1nYmY2MjljNjllLUhFQUQAAAACyW1vb3YAAABsbXZoZAAAAADh+ZcJ4fmXCQAAu4AAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIddHJhawAAAFx0a2hkAAAAB+H5lKLh+ZcJAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAAAAAAAAAAAAQAAAAABlW1kaWEAAAAgbWRoZAAAAADh+ZSi4fmXCQAAu4AAAAAAFccAAAAAACVoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAc291bgAAAAFIbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEMc3RibAAAAKZzdHNkAAAAAAAAAAEAAACWbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAALuAAAAAAAByZXNkcwAAAAADZAAAAARcQBUABhoAAx/QAALzCAVN+UZDIjzA08ngIAAAEkt4gQIEBgtciAIJAggJCAAJ1AGAQARCAAV1AGAwsAGQgAgdcgBgKHACEIAIGQAYCAAABMAK5JYATgAgAASfSwAGAQIAAAAQc3R0cwAAAAAAAAAAAAAAEHN0c2MAAAAAAAAAAAAAABRzdHN6AAAAAAAAAAAAAAAAAAAAEHN0Y28AAAAAAAAAAAAAABpzZ3BkAQAAAHByb2wAAAACAAAAAQABAAAAOG12ZXgAAAAQbWVoZAAAAAAJVBbgAAAAIHRyZXgAAAAAAAAAAQAAAAEAAAQAAAAAAAABAAA=";},77705:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.Brb=b.aWa=void 0;d=a(45146);n=a(3887);c=a(32687);(function(){var g,e,h;function f(k){(0,d.va)(void 0 !== g[k]);return g[k];}g={'"':'""',"\r":"","\n":" "};e=/["\r\n]/g;h=/[", ]/;b.Brb=function(k){return (0,c.$c)(k)?(0,c.pc)(k)?k:(0,c.Fi)(k)?k.replace(e,f):(0,c.HAb)(k)?k:isNaN(k)?"NaN":"":"";};b.aWa=function(k){var l,m;l=b.Brb;m="";(0,n.Di)(k,function(p,q){p=l(p) + "=" + l(q);h.test(p) && (p='"' + p + '"');m=m?m + ("," + p):p;});return m;};})();},45146:function(t,b,a){var c,f,g;function d(){g || (g=c.Wa.get(f.hC));return g;}function n(e,h){return d().assert(e,h);}Object.defineProperty(b,"__esModule",{value:!0});b.ohc=b.X8=b.hhc=b.lhc=b.DY=b.Y8=b.khc=b.mhc=b.Z8=b.Vrb=b.jhc=b.ihc=b.nhc=b.QTb=void 0;b.va=n;c=a(31276);f=a(90597);b.QTb=function(){n(!1);};b.nhc=!0;g=void 0;b.ihc=function(e,h){return d().a8b(e,h);};b.jhc=function(e,h){return d().b8b(e,h);};b.Vrb=function(e,h){return d().Ola(e,h);};b.Z8=function(e,h){return d().h8b(e,h);};b.mhc=function(e,h){return d().f8b(e,h);};b.khc=function(e,h){return d().Nla(e,h);};b.Y8=function(e,h){return d().d8b(e,h);};b.DY=function(e,h){return d().g8b(e,h);};b.lhc=function(e,h){return d().e8b(e,h);};b.hhc=function(e,h){return d().$7b(e,h);};b.X8=function(e,h){return d().c8b(e,h);};b.ohc=function(){return d().ywc();};},32219:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yh=function(a){return setTimeout(a,0);};},22894:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.DWb=function(a){var c,f,g,e;function d(){if(g)for(var h;h=c.pop();)h(e);}function n(h){g=!0;e=h;d();}c=[];return function(h){c.push(h);f || (f=!0,a(n));d();};};},37509:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.aqa=b.us=b.bqa=b.eL=b.hn=b.ye=void 0;t=a(94886);d=a(32219);n=a(22365);b.ye=new t.rm();b.hn=1;b.eL=2;b.bqa=3;b.us=4;b.aqa=5;(0,d.Yh)(function(){var f,g,e;function c(h,k){if(g)g.on(h,k);else Ba.addEventListener(h,k);}f=Ba.jQuery;g=f && f(Ba);f=(f=Ba.netflix) && f.cadmium && f.cadmium.addBeforeUnloadHandler;e=n.Ni.hidden;f?f(function(h){b.ye.rd(b.hn,h);}):c("beforeunload",function(h){b.ye.rd(b.hn,h);});c("keydown",function(h){b.ye.rd(b.eL,h);});c("resize",function(){b.ye.rd(b.bqa);});n.Ni.addEventListener("visibilitychange",function(){e !== n.Ni.hidden && (e=n.Ni.hidden,b.ye.rd(b.us));});});(function(){Ba.addEventListener("error",function(c){b.ye.rd(b.aqa,c);return !0;});})();},52828:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});t=a(36129);d=a(31276);n=a(31701);a=a(11479);d.Wa.get(a.fk).register(t.da.B$a,function(c){d.Wa.get(n.p8a)().then(function(){c({success:!0});}).catch(function(f){d.log.error("error in initializing indexedDb debug tool",f);c({success:!0});});});},37353:function(t,b,a){var h,k,l,m,p;function d(q){var r,v;(0,k.Z8)(q);if((0,m.Fi)(q) && b.Q$a.test(q)){r=q.split(".");if(4 === r.length){for(var u=0;u < r.length;u++){v=(0,p.am)(r[u]);if(0 > v || !(0,m.BL)(v,0,255) || 1 !== r[u].length && 0 === r[u].indexOf("0"))return;}return q;}}}function n(q){var r;r=0;if(d(q) === q)return (q=q.split("."),r+=(0,p.am)(q[0]) << 24,r+=(0,p.am)(q[1]) << 16,r+=(0,p.am)(q[2]) << 8,r + (0,p.am)(q[3]));}function c(q){var r,u;(0,k.Z8)(q);if((0,m.Fi)(q) && q.match(b.R$a)){r=q.split(":");-1 !== r[r.length - 1].indexOf(".") && (q=f(r[r.length - 1]),r.pop(),r.push(q[0]),r.push(q[1]),q=r.join(":"));q=q.split("::");if(!(2 < q.length || 1 === q.length && 8 !== r.length) && (r=1 < q.length?g(q):r,q=r.length,8 === q)){for(;q--;){u=parseInt(r[q],16);if(!(0,m.BL)(u,0,h.Abb))return;}return r.join(":");}}}function f(q){var r;q=n(q) >>> 0;r=[];r.push((q >>> 16 & 65535).toString(16));r.push((q & 65535).toString(16));return r;}function g(q){var r,u,v;r=q[0].split(":");q=q[1].split(":");1 === r.length && "" === r[0] && (r=[]);1 === q.length && "" === q[0] && (q=[]);u=8 - (r.length + q.length);if(1 > u)return [];for(v=0;v < u;v++)r.push("0");for(v=0;v < q.length;v++)r.push(q[v]);return r;}function e(q){return -1 << 32 - q;}Object.defineProperty(b,"__esModule",{value:!0});b.tO=b.R$a=b.Q$a=void 0;b.r1c=d;b.n1c=n;b.s1c=c;b.p1c=f;b.q1c=g;b.t1c=function(q,r,u){var v,w,x,y;v=d(q);w=c(q);x=d(r);y=c(r);if(!v && !w || !x && !y || v && !x || w && !y)return !1;if(q === v)return (u=e(u),(n(q) & u) !== (n(r) & u)?!1:!0);if(q === w){q=q.split(":");r=r.split(":");for(v=(0,l.ZV)(u / b.tO.length);v--;)if(q[v] !== r[v])return !1;u%=b.tO.length;if(0 !== u)for((q=parseInt(q[v],16).toString(2),r=parseInt(r[v],16).toString(2),q=b.tO.substring(0,b.tO.length - q.length) + q,r=b.tO.substring(0,b.tO.length - r.length) + r,v=0);v < u;v++)if(q[v] !== r[v])return !1;return !0;}return !1;};b.o1c=e;h=a(33096);k=a(45146);l=a(22365);m=a(32687);p=a(3887);b.Q$a=/^[0-9.]*$/;b.R$a=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.tO="0000000000000000";},32687:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.dy=b.HAb=b.C_=b.Fi=b.QUa=b.hxc=b.Owc=b.EUa=b.BL=b.XAb=b.pc=b.hba=b.isArray=b.sBb=b.TA=b.$c=b.is=void 0;t=a(76564);b.is=t.vO;b.$c=function(d){return b.is.Ci(d);};b.TA=function(d){return b.is.H7(d);};b.sBb=function(d){return b.is.eKa(d);};b.isArray=function(d){return b.is.LP(d);};b.hba=function(d){return b.is.Hmb(d);};b.pc=function(d,n,c){return b.is.Xo(d,n,c);};b.XAb=function(d,n,c){return b.is.XKa(d,n,c);};b.BL=function(d,n,c){return b.is.I7(d,n,c);};b.EUa=function(d){return b.is.n7(d);};b.Owc=function(d){return b.is.t5b(d);};b.hxc=function(d){return b.is.u5b(d);};b.QUa=function(d){return b.is.Imb(d);};b.Fi=function(d){return b.is.Jt(d);};b.C_=function(d){return b.is.vx(d);};b.HAb=function(d){return b.is.Zka(d);};b.dy=function(d){return b.is.ala(d);};},2734:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});t=a(31276);b=a(36410);a=a(34126);t.Wa.get(b.UV).Bva(a.iDa.SUb,function(d){var n,c;n=d.level;if(!Ba._cad_global.config || n <= Ba._cad_global.config.NAc){d=d.Gxa();c=Ba.console;1 >= n?c.error(d):2 >= n?c.warn(d):c.log(d);}});},73100:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(29204);a(33096);t=a(31276);a(36410);a(34126);a(36129);a(45842);a(5021);a=a(11479);t.Wa.get(a.fk);!1;},8825:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.qF=void 0;b.z2c=function(n,c,f,g,e){return (n - c) * (e - g) / (f - c) + g;};b.ik=function(n){if((0,d.pc)(n))return (n / 1E3).toFixed(3);};d=a(32687);b.qF=b.qF || (function(n,c,f){return n >= c?n <= f?n:f:c;});},87051:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.n4c=function(c,f,g){for(g=(g - c.length) / f.length;0 < g--;)c+=f;return c;};b.l4c=function(c,f,g){g=(0,d.Fi)(g)?g:"...";return c.length <= f?c:c.substr(0,c.length - (c.length + g.length - f)) + g;};b.m4c=function(c,f){var e;for(var g=1;g < arguments.length;++g);e=n.slice.call(arguments,1);return c.replace(/{(\d+)}/g,function(h,k){return "undefined" != typeof e[k]?e[k]:h;});};b.o4c=function(c){for(var f=c.length,g=new Uint16Array(f),e=0;e < f;e++)g[e]=c.charCodeAt(e);return g.buffer;};b.afd=function(c){var f;f=new Uint8Array(c.length);Array.prototype.forEach.call(c,function(g,e){f[e]=g.charCodeAt(0);});return f;};d=a(32687);n=a(22365);},52569:function(t,b,a){var h,k,l,m,p,q;function d(){var r,u;if(r=b.Kpa.Ikb)return r;r=m.ria.search.substr(1);u=r.indexOf("#");0 <= u && (r=r.substr(0,u));r=n(r);return b.Kpa.Ikb=r;}function n(r){for(var u=/[+]/g,v=(r || "").split("&"),w={},x,y=0;y < v.length;y++)(r=(0,l.trim)(v[y]),x=r.indexOf("="),0 <= x?w[decodeURIComponent(r.substr(0,x).replace(u,"%20")).toLowerCase()]=decodeURIComponent(r.substr(x + 1).replace(u,"%20")):w[r.toLowerCase()]=null);return w;}function c(r){return (r=(/function (.{1,})\(/).exec(r.toString())) && 1 < r.length?r[1]:"";}function f(r){return c(r.constructor);}function g(r){return m.sort.call(r,function(u,v){return u - v;});}function e(r){for(var u=0,v=r.length;v--;)u+=r[v];return u;}Object.defineProperty(b,"__esModule",{value:!0});b.Moa=b.createElement=b.O8=b.Kpa=b.D8=void 0;b.Fcc=function(r,u){if(r === u)return !0;if(!r || !u)return !1;for(var v in r)if(r.hasOwnProperty(v) && (!u.hasOwnProperty(v) || r[v] !== u[v]))return !1;return !0;};b.Hcd=function(r){var u;if(r){u=r.length;if(u)return (u=(0,l.kLc)(0,u - 1),r[u]);}};b.gdc=function(r,u){if(r.length != u.length)return !1;r.sort();u.sort();for(var v=r.length;v--;)if(r[v] !== u[v])return !1;return !0;};b.B6b=function(r,u,v){function w(){r.removeEventListener(u,w);v.apply(this,arguments);}r.addEventListener(u,w);};b.oLc=function(){var r,u,v,w,x,y;r=m.Ni.cookie.split("; ");u=r.length;x={};for(v=0;v < u;v++)if(w=(0,l.trim)(r[v])){y=w.indexOf("=");0 < y && (x[w.substr(0,y)]=w.substr(y + 1));}return x;};b.v9c=d;b.oua=n;b.getFunctionName=c;b.xwb=f;b.oGb=function(r){var u;u="";(0,p.isArray)(r) || (0,p.hba)(r)?u=m.reduce.call(r,function(v,w){return v + (32 <= w && 128 > w?(0,m.shb)(w):".");},""):(0,p.Fi)(r)?u=r:(0,l.Di)(r,function(v,w){u+=(u?", ":"") + "{" + v + ": " + ((0,p.dy)(w)?c(w) || "function":w) + "}";});return "[" + f(r) + " " + u + "]";};b.vcd=function(r,u){r.firstChild?r.insertBefore(u,r.firstChild):r.appendChild(u);};b.j$c=function(r,u){var v;v=r[0];if(u <= v[0])return v.slice(1);for(var w=1,x;x=r[w++];){if(u <= x[0]){r=(u - v[0]) / (x[0] - v[0]);u=[];for(w=1;w < v.length;w++)u.push((v[w] || 0) + r * ((x[w] || 0) - (v[w] || 0)));return u;}v=x;}return v.slice(1);};b.uZc=function(r,u){var x;for(var v={},w=0;w < u.length;w++){x=u[w];if("string" != typeof x && "number" != typeof x)return !1;v[u[w]]=1;}for(w=0;w < r.length;w++)if((x=r[w],!v[x]))return !1;return !0;};b.jza=g;b.wZc=e;b.Iga=function(r,u){var v,w,x,y;v=-1;w=r.length;if(1 === arguments.length){for(;++v < w && !(null != (x=r[v]) && x <= x);)x=void 0;for(;++v < w;)null != (y=r[v]) && y > x && (x=y);}else {for(;++v < w && !(null != (x=u.call(r,r[v],v)) && x <= x);)x=void 0;for(;++v < w;)null != (y=u.call(r,r[v],v)) && y > x && (x=y);}return x;};b.vZc=function(r,u){var v,w,x,y;v=-1;w=r.length;if(1 === arguments.length){for(;++v < w && !(null != (x=r[v]) && x <= x);)x=void 0;for(;++v < w;)null != (y=r[v]) && x > y && (x=y);}else {for(;++v < w && !(null != (x=u.call(r,r[v],v)) && x <= x);)x=void 0;for(;++v < w;)null != (y=u.call(r,r[v],v)) && x > y && (x=y);}return x;};b.R0=function(r){return (0,p.dy)(r.then)?r:new Promise(function(u,v){r.oncomplete=function(){u(r.result);};r.onerror=function(){v(r.error);};});};b.r8c=function(r,u){var w,x,y,A,z,B;function v(C){0 > w.indexOf(C) && (0,p.pc)(C) && w.push(C);}r=r.slice();g(r);w=[];if(!u || !u.length)return r;if(!r.length)return [];x=u.length;try{for(;x--;){A="" + u[x];z=(0,l.am)(A);switch(A[A.length - 1]){case "-":for(y=r.length;y--;){B=r[y];if(B < z){v(B);break;}}break;case "+":for(y=0;y < r.length;y++)if((B=r[y],B > z)){v(B);break;}break;default:0 <= r.indexOf(z) && v(z);}}}catch(C){}w.length || w.push(r[0]);g(w);return w;};b.H6c=function(r,u,v){for(var w=[],x=0;x < u;x++)w.push((0,m.Rbb)(r[x] - v,2));return (0,m.Sbb)(e(w) / w.length);};b.p8=function(r,u){var v;v=r.length;u=(v - 1) * u + 1;if(1 === u)return r[0];if(u == v)return r[v - 1];v=(0,m.ZV)(u);return r[v - 1] + (u - v) * (r[v] - r[v - 1]);};b.A8c=function(r,u){if(!(0,p.isArray)(r))throw Error("boxes is not an array");if(0 >= r.length)throw Error("There are no boxes in boxes");u=(0,p.isArray)(u)?u:[u];for(var v=r.length,w=0;w < v;w++)for(var x=0;x < u.length;x++)if(r[w].type == u[x])return r[w];throw Error("Box not found " + u);};b.$Zc=function(r){return r.Jpc("trak/mdia/minf/stbl/stsd/" + h.s6a + "|" + h.t6a).children.filter(function(u){return "sinf" == u.type && u.w8c.schm.gdd == q.ZE;})[0].Jpc("schi/tenc").YA;};b.ZZc=function(r){var v;function u(w,x){var y;y=v[w];v[w]=v[x];v[x]=y;}v=new Uint8Array(r);u(0,3);u(1,2);u(4,5);u(6,7);return v;};b.mcd=function(r){return function(u){return u && u[r];};};b.rBb=function(r){return r && 0 == r.toLowerCase().indexOf("https");};b.aqc=function(){var r,u;r=new ArrayBuffer(4);u=new Uint8Array(r);r=new Uint32Array(r);u[0]=161;u[1]=178;u[2]=195;u[3]=212;return 3569595041 == r[0]?"LE":2712847316 == r[0]?"BE":"undefined";};b.WZ=function(){var r,u,v;try{r=/playercore.*js/;u=m.qC.getEntries("resource").filter(function(w){return null !== r.exec(w.name);});if(u && 0 < u.length){v=(0,m.zt)(u[0].duration);return JSON.stringify(v);}}catch(w){}};b.pcd=function(r,u,v){if(r && r.length){if(v && v.Hbc)try{r.forEach(function(w,x){var y;y=(x=v.Hbc[x]) && x.media;y && (0,p.Fi)(y)?(!1,y=(0,k.hG)(y).buffer,w.media={arrayBuffer:y,length:y.byteLength,stream:u,Tc:x.cdn}):k.log.warn("chunk not in cache",w.Ki);});}catch(w){k.log.error("error reading cached chunks",w);}else k.log.warn("chunks not available in cached stream",v.type);}else k.log.warn("chunks not available in mediabuffer",v.type);};h=a(33096);k=a(31276);l=a(3887);m=a(22365);p=a(32687);q=a(82100);b.D8=b.D8 || (function(r,u){if(r.length == u.length){for(var v=r.length;v--;)if(r[v] != u[v])return !1;return !0;}return !1;});b.Kpa=Object.assign(d,{Ikb:void 0});b.O8=b.O8 || (function(r){var u;u="";(0,l.Di)(r,function(v,w){u+=(u?";":"") + v + ":" + w;});return u;});b.createElement=b.createElement || (function(r,u,v,w){var x;x=m.Ni.createElement(r);u && (x.style.cssText=u);v && (x.innerHTML=v);w && (0,l.Di)(w,function(y,A){x.setAttribute(y,A);});return x;});b.Moa=b.Moa || (function(r,u,v){var w;if(r / u > v){w=(0,m.zt)(u * v);r=u;}else (w=r,r=(0,m.zt)(r / v));return {width:w,height:r};});(0,p.dy)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(r,u){var v,w;void 0 === r && (r=0);void 0 === u && (u=this.byteLength);r=Math.floor(r);u=Math.floor(u);0 > r && (r+=this.byteLength);0 > u && (u+=this.byteLength);r=Math.min(Math.max(0,r),this.byteLength);u=Math.min(Math.max(0,u),this.byteLength);if(0 >= u - r)return new ArrayBuffer(0);v=new ArrayBuffer(u - r);w=new Uint8Array(v);r=new Uint8Array(this,r,u - r);w.set(r);return v;});},3887:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.jj=b.trim=b.lTa=b.am=b.Jf=b.Di=void 0;b.tac=function(f,g,e,h){var k;if(f){k=f[g];(0,c.dy)(k) && (e=k.apply(f,n.slice.call(arguments,3)));}return e;};b.U7b=function(f){for(var g={},e=f.length;e--;)g[f[e]]=!0;return g;};b.ccd=function(f){return (/^true$/i).test(f);};b.kLc=function(f,g){return (0,n.zt)(f + (0,n.jia)() * (g - f));};b.tTc=function(f){return JSON.stringify(f,null,"  ");};b.SL=function(f){return Array.isArray(f)?f:[f];};b.C6c=function(f){var h;for(var g=0;g < arguments.length;++g);g=0;for(var e=arguments.length;g < e;){h=arguments[g++];if((0,c.$c)(h))return h;}};b.$h=function(f){return (0,c.pc)(f)?f.toFixed(0):void 0;};b.ps=function(f){return (0,c.pc)(f)?(f / 1E3).toFixed(0):void 0;};b.P6c=function(f){for(var g=[],e=0;e < f.length;e++)g[e]=f[e];return g;};d=a(45146);n=a(22365);c=a(32687);b.Di=function(f,g){for(var e in f)f.hasOwnProperty(e) && g(e,f[e]);};b.Jf=b.Jf || (function(f,g,e){var h,k,l;if(g)if(e){h=e.Mba;k=e.prefix;l=e.Yta;(0,b.Di)(g,function(m,p){if(!l || (0,c.$c)(p))f[(k || "") + (h?m.toLowerCase():m)]=p;});}else (0,b.Di)(g,function(m,p){f[m]=p;});return f;});b.am=b.am || (function(f){return parseInt(f,10);});b.lTa=(function(){var g,e;function f(h){(0,d.va)(void 0 !== g[h]);return g[h];}g={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};e=/[&'"<>]/g;return function(h){return h.replace(e,f);};})();b.trim=(function(){var f;f=/^\s+|\s+$/gm;return function(g){return g.replace(f,"");};})();b.jj=b.jj || (function(f){var g,e,h;if(f){g=f.stack;e=f.number;h=f.message;h || (h="" + f);g?(f="" + g,0 != f.indexOf(h) && (f=h + "\n" + f)):f=h;e && (f+="\nnumber:" + e);return f;}});},29204:function(t,b,a){var c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C;function d(D){return (D=b.config.IVc[n(D)])?D:{};}function n(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":0 <= D.indexOf("live")?"live":D;}Object.defineProperty(b,"__esModule",{value:!0});b.bNa=b.config=void 0;b.Ucc=function(D,E){var ba,ca,da,ia,S,N,V,aa,fa;function H(ha,ka){(0,m.Di)(ha,function(pa,oa){(0,q.dy)(oa)?ka[pa]=oa.call(void 0,ka[pa]):(0,q.TA)(oa) && (ka[pa]=ka[pa] || ({}),H(oa,ka[pa]));});}function F(ha,ka,pa,oa){for(var la=[],R=3;R < arguments.length;++R)la[R - 3]=arguments[R];return function(ea){(0,q.$c)(ea) && (pa=ea);(0,h.va)((0,q.dy)(ha));return ha.apply(void 0,[ka,pa].concat(za(la)));};}function G(ha){ha=ha.toLowerCase();ia.hasOwnProperty(ha) && (da[ha]=ia[ha],S[ha]=ia[ha]);return ha;}function J(ha,ka,pa){var oa;ha=ha.toLowerCase();if(da.hasOwnProperty(ha)){oa=da[ha];try{oa=pa?pa(oa):oa;}catch(la){oa=void 0;}if(void 0 !== oa)return oa;(0,h.va)(!1);g.log.error("Invalid configuration value. Name: " + ha);}return ka;}function L(ha,ka,pa,oa){return J(ha,ka,function(la){(0,q.Fi)(la) && (la=(0,m.am)(la));if((0,q.XAb)(la,pa,oa))return la;});}function K(ha,ka,pa,oa){return J(ha,ka,function(la){(0,q.Fi)(la) && (la=(0,m.am)(la));if((0,q.BL)(la,pa,oa))return la;});}function M(ha,ka,pa,oa){return J(ha,ka,function(la){(0,q.Fi)(la) && (la=parseFloat(la));if((0,q.pc)(la,pa,oa))return la;});}function P(ha,ka,pa){return J(ha,ka,function(oa){if(pa?pa.test(oa):(0,q.Fi)(oa))return oa;});}function I(ha,ka){return J(ha,ka,function(pa){if("true" == pa || !0 === pa)return !0;if("false" == pa || !1 === pa)return !1;});}function O(ha,ka){return J(ha,ka,function(pa){if((0,q.Fi)(pa))return JSON.parse((0,p.sia)(pa));if((0,q.TA)(pa))return pa;});}function Q(ha,ka,pa,oa,la,R){var ea;ha=ha.toLowerCase();da.hasOwnProperty(ha) && (ea=da[ha]);if(!(0,q.$c)(ea))return ka;if((0,q.Fi)(ea))if(ea[0] !== pa)ea=oa(ea);else try{ea=JSON.parse((0,p.sia)(ea));}catch(ja){ea=void 0;}if(void 0 === ea)return ka;for(ha=0;ha < la.length;ha++)if(!la[ha](ea))return ka;return R?R(ea):ea;}function T(ha,ka,pa,oa,la){return Q(ha,ka,"[",function(R){R=R.split("|");for(var ea=R.length;ea--;)R[ea]=(0,m.am)(R[ea]);return R;},[function(R){return (0,q.isArray)(R) && 0 < R.length;},function(R){for(var ea=R.length;ea--;)if(!(0,q.BL)(R[ea],pa,oa))return !1;return !0;},function(R){return void 0 === la || R.length >= la;}]);}function U(ha,ka){return Q(ha,ka,"[",function(pa){pa=(0,q.isArray)(pa)?pa:pa.split("|");for(var oa=pa.length;oa--;)try{pa[oa]=JSON.parse((0,p.sia)(pa[oa]));}catch(la){pa=void 0;break;}return pa;},[function(pa){return (0,q.isArray)(pa) && 0 < pa.length;},function(pa){for(var oa=pa.length;oa--;)if(!(0,q.$c)(pa[oa]) || !(0,q.TA)(pa[oa]))return !1;return !0;}]);}function X(ha,ka){var pa;pa=Y(ha,[]);return pa && 0 < pa.length?(0,C.Nf)(pa):U(ha,ka);}function Y(ha,ka,pa,oa){return Q(ha,ka,"[",function(la){return (0,q.isArray)(la)?la:la.split("|");},[function(la){return (0,q.isArray)(la) && 0 < la.length;},function(la){for(var R=la.length;R--;)if(pa?!pa.test(la[R]):!(0,q.C_)(la[R]))return !1;return !0;},function(la){return void 0 === oa || la.length >= oa;}]);}function W(ha,ka,pa){return Q(ha,ka,"{",function(oa){var la,ea,ja;la={};oa=oa.split(";");for(var R=oa.length;R--;){ea=oa[R];ja=ea.indexOf(":");if(0 >= ja)return;la[ea.substring(0,ja)]=ea.substring(ja + 1);}return la;},[function(oa){return (0,q.TA)(oa) && 0 < Object.keys(oa).length;},function(oa){if(pa)for(var la in oa)if(!pa.test(oa[la]))return !1;return !0;}],function(oa){var la;la={};(0,m.Jf)(la,ka);(0,m.Jf)(la,oa);return la;});}function Z(ha){var ka;ka=[];(0,m.Di)(ha,function(pa,oa){var la;try{la="videoapp" === pa.toLowerCase()?"[object object]":JSON.stringify(oa);}catch(R){la="cantparse";}ka.push(pa + "=" + la);});return ka.join("\n");}ba=/^[0-9]+[%]?$/;ca=/^[0-9]*$/;S={};N=g.Wa.get(e.xt);V=g.Wa.get(w.lW);(function(ha){function ka(pa){pa.split(",").forEach(function(oa){var la;la=oa.indexOf("=");0 < la && (da[oa.substring(0,la).toLowerCase()]=oa.substring(la + 1));});}da={};(0,m.Jf)(da,ha);D && D.length && p.forEach.call(D,function(pa){(0,q.Fi)(pa)?ka(pa):(0,q.TA)(pa) && (0,m.Jf)(da,pa,{Mba:!0});});ia=(0,m.Jf)({},(0,f.Kpa)(),{Mba:!0});if(ha=(0,f.oLc)().cadmiumconfig)(g.log.info("Config cookie loaded",ha),ka(ha));if(g.Wa.get(z.Bt).VKa || da.istestaccount)((0,m.Jf)(da,ia),S=ia);})(E);b.config={};aa={dlc:F(I,G("enableXHEAAC"),!1),B9:F(I,G("enableDDPlus51"),!1),boa:F(I,G("enableDDPlusAtmos"),!1),Fkc:F(I,G("enableLSSDH"),!0),zkc:F(I,G("enableHEVC"),!1),pHb:F(I,G("overrideEnableHEVC"),!1),dPa:F(I,G("enableHDR"),!1),oHb:F(I,G("overrideEnableHDR"),!1),XGc:F(I,G("overrideEnableHdrDisplay"),!1),nHb:F(I,G("overrideEnableDV"),!1),gkc:F(I,G("enableAV1"),!1),lHb:F(I,G("overrideEnableAV1"),!1),hkc:F(I,G("enableAV1HDR10P"),!1),mHb:F(I,G("overrideEnableAV1HDR10P"),!1),YGc:F(I,G("overrideEnableXHEAAC"),!1),VGc:F(I,"overrideEnableAllAudioProfiles",!1),WGc:F(I,"overrideEnableAllVideoProfiles",!1),Qkc:F(I,G("enablePRK"),!1),tkc:F(I,G("enableDV"),!1),Akc:F(I,G("enableHWDRM"),!1),Dkc:F(I,G("enableHwdrmOnArm"),!1),x7c:F(I,G("disablePlayReady"),!1),Ekc:F(I,G("enableImageSubs"),!0),gK:F(X,G("audioProfiles"),V.gK),ykc:F(I,G("enableFullHdForSWDRM"),!1),xkc:F(I,G("enableFullHdForHWDRM"),!1),$kc:F(I,G("enableUHD"),!0),hya:F(K,"videoCapabilityDetectorType",k.Lr.aF),qLa:F(K,"audioCapabilityDetectorType",k.XE.aF),ki:F(X,G("videoProfiles"),V.ki),Sj:F(X,G("liveVideoProfiles"),V.Sj),rmb:F(X,G("additionalVideoProfiles"),[]),Z4b:F(Y,G("timedTextProfiles"),V.$B),$B:function(){return aa.Z4b().filter(function(ha){return ha === l.Ir.nAa?aa.Fkc():ha === l.Ir.bW?aa.Ekc():!0;});},endpoint:F(I,G("endpoint"),!1),version:F(P,"version","unknown"),Bkc:F(I,G("enableHdcp"),!1),Iy:F(I,G("prepareCadmium"),!1),z5b:F(I,G("acceptManifestOnPrepareItemParams"),!0),dJc:F(O,"ppmconfig",{maxNumberTitlesScheduled:1}),coa:F(I,G("enableLdlPrefetch"),!1),eoa:F(I,G("enableMediaPrefetch"),x.Va.eoa),Lkc:F(I,G("enableManifestCache"),!0),cic:F(I,G("deleteCachedManifestOnPlayback"),!1),bic:F(I,G("deleteCachedManifestOnCreate"),!1),eic:F(I,G("deleteOtherManifestCacheOnCreate"),!1),dic:F(I,G("deleteOtherLdlCacheOnCreate"),!1),icd:F(K,G("periodicPrepareLogsIntervalMilliseconds"),36E5),BJc:F(K,G("prepareManifestCacheMaxCount"),50),zJc:F(K,G("prepareLdlCacheMaxCount"),30),aJb:F(K,G("prepareManifestExpiryMilliseconds"),12E5),AJc:F(K,G("prepareLdlExpiryMilliseconds"),78E4),tJc:F(K,G("prefetcherMaxWishlistSize"),10),sJc:F(K,G("prefetcherBudgetInBytes"),Infinity),uJc:F(I,G("prefetcherOverrideItemPriority"),!0),yJc:F(P,G("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),ffd:F(O,"videoApp"),nN:F(O,"storageRules"),hoc:F(I,"ftlEnabled",!0),wTa:F(K,G("imageSubsResolution"),0),Evc:F(K,G("imageSubsMaxBuffer"),V.JBc.oa(y.pz),0),u8:F(I,G("captureBatteryStatus"),!1),apc:F(K,G("getBatteryApiTimeoutMilliseconds"),5E3),ly:F(P,G("keySystemId"),V.ly),$Ua:F(Y,G("keySystemList"),void 0,void 0),b4a:F(I,G("validateKeySystemAccess"),!1),CCc:F(K,G("hdcpGlobalTimeout1"),1E4),DCc:F(K,G("hdcpGlobalTimeout2"),1E4),fbd:F(K,G("hdcpQueryTimeout1"),1E3),gbd:F(K,G("hdcpQueryTimeout2"),1E3),CEb:F(K,G("hdcpQueryTimeout2"),100),DEb:F(I,G("microsoftHwdrmRequiresHevc"),!1),EEb:F(I,G("microsoftHwdrmRequiresQHD"),!1),$Cc:F(K,G("minimumMajorOsVersionForHwdrm"),15),BCc:F(I,G("microsoftClearLeadRequiresSwdrm"),!1),lkc:F(I,G("enableAvcHighHwdrm"),!1),Ckc:F(I,G("enableHevcPrkHwdrm"),!1),Mkc:F(I,G("enableMediaCapabilities"),!1),cJc:F(I,G("powerEfficientForVideo"),!1),Nkc:F(I,G("enableMediaCapabilitiesSourceBufferCheck"),!1),iad:F(I,"logMediaPipelineStatus",!1),Mda:F(I,G("renderDomDiagnostics"),!0),nDb:function(){return -1;},P_:F(L,G("logDisplayMaxEntryCount"),V.P_,-1),NAc:F(L,G("logToConsoleLevel"),-1),Y5c:F(L,G("bladerunnerCmdHistorySize"),10),KG:function(){return N.KG;},NVa:F(I,"logErrorIfEsnNotProvided",!0),qPa:F(I,"enforceSinglePlayback",V.qPa),loa:F(I,"enforceSingleSession",V.loa),QMa:F(I,"closeOtherPlaybacks",!0),z8b:F(K,"asyncLoadTimeout",15E3,1),VAc:F(K,"mainThreadMonitorPollRate",0),groupName:function(){return N.groupName;},WX:function(){return N.WX;},Rfa:function(){return N.Rfa;},fSb:F(K,G("verbosePlaybackInfoDenominator"),0),Fva:F(I,"renderTimedText",!0),eJc:F(I,"preBufferTimedText",!0),wmc:F(I,"fatalOnTimedTextLoadError",!0),LUc:F(W,"timedTextStyleDefaults",{characterSize:"MEDIUM"}),MUc:F(W,"timedTextStyleOverrides",{}),Exa:F(W,"timedTextFontFamilyMapping",V.Exa || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),M2:F(K,"timedTextSimpleFallbackThreshold",V.M2.oa(y.pz)),Cqa:F(Y,G("increasedMediumScaleLanguageList"),V.Cqa),Dqa:F(Y,G("increasedSmallScaleLanguageList"),V.Dqa),Kra:F(Y,G("lessBoldLanguageList"),V.Kra),XNa:F(P,G("customDfxpUrl")),Ykc:F(I,G("enableSubtitleTrackerLogging"),!1),xPc:F(I,G("sendSubtitleQoeLogblobOnMidplay"),!1),nMa:F(T,"cdnIdWhiteList",[]),mMa:F(T,"cdnIdBlackList",[]),kQa:F(P,G("forceAudioTrack")),nQa:F(P,G("forceTimedTextTrack")),SBc:F(K,G("maxRetriesTimedTextDownload"),0),KUc:F(K,G("timedTextRetryInterval"),8E3),ZSc:F(P,"storageType","idb",/^(none|fs|idb|ls)$/),jDb:F(K,"lockExpiration",1E4),FAc:F(K,"lockRefresh",3E3),Jac:F(I,"captureUnhandledExceptions",!0),Dvc:F(I,"ignoreUnhandledExceptionDuringPlayback",!0),OVc:F(I,"unhandledExceptionsArePlaybackErrors",!1),QQb:F(P,"unhandledExceptionSource",""),SJc:F(I,"preserveLastFrame",!1),PCc:F(K,"minBufferingTimeInMilliseconds",4E3),IKc:F(K,"progressBackwardsGraceTimeMilliseconds",4E3),JKc:F(K,"progressBackwardsMinPercent",10),J9b:F(P,G("bookmarkIgnoreBeginning"),"0",ba),K9b:F(P,G("bookmarkIgnoreEnd"),"5%",ba),L9b:F(P,G("bookmarkIgnoreEndForBranching"),"60000",ba),usa:F(K,"maxParallelConnections",3),C_a:F(I,"reportThroughputInLogblobs",!0),jB:F(K,"minAudioMediaRequestDuration",4E3),KEb:F(K,"minAudioMediaRequestDurationBranching",0),QD:F(K,"minVideoMediaRequestDuration",4E3),WEb:F(K,"minVideoMediaRequestDurationVariableGOP",0),VEb:F(K,"minVideoMediaRequestDurationBranching",0),Isa:F(K,"minAudioMediaRequestSizeBytes",0),Msa:F(K,"minVideoMediaRequestSizeBytes",0),ojc:F(I,"droppedFrameRateFilterEnabled",!1),pjc:F(K,"droppedFrameRateFilterMaxObservation",60,10,1E3),rjc:F(function(ha,ka,pa,oa,la,R){return Q(ha,ka,"[",function(ea){ea=ea.split(";");for(var ja=ea.length;ja--;){ea[ja]=ea[ja].split("|");for(var sa=ea[ja].length;sa--;)ea[ja][sa]=(0,m.am)(ea[ja][sa]);}return ea;},[function(ea){return (0,q.isArray)(ea) && 0 < ea.length;},function(ea){for(var ja=ea.length;ja-- && void 0 !== ea;){if(!(0,q.isArray)(ea[ja]))return !1;for(var sa=ea[ja].length;sa--;)if(!(0,q.BL)(ea[ja][sa],pa,oa))return !1;}return !0;},function(ea){if(void 0 !== la)for(var ja=ea.length;ja--;)if(la !== ea[ja].length)return !1;return !0;},function(ea){return void 0 === R || ea.length >= R;}]);},"droppedFrameRateFilterPolicy",[[4,15],[8,9],[12,2],[20,1]],void 0,void 0,2,0),qjc:F(K,"droppedFrameRateFilterMinHeight",384),sjc:F(T,"droppedFramesPercentilesList",[]),ECc:F(I,"microsoftScreenSizeFilterEnabled",!1),Byc:F(I,"keyStatusFilterEnabled",!0),HVc:F(I,"uiLabelFilterEnabled",!0),GVc:F(O,"uiLabelFilter",{}),Phc:F(K,G("defaultVolume"),100,0,100),sWa:F(K,G("maxPlaybackRate"),2,0,16),Dub:F(I,"fastForwardAds",!1),Jic:F(I,"disableVideoRightClickMenu",!1),Ksa:F(K,"minDecoderBufferMilliseconds",1E3,0,c.kF),nM:F(K,"optimalDecoderBufferMilliseconds",5E3,0,c.kF),hYa:F(K,"optimalDecoderBufferMillisecondsBranching",3E3,0,c.kF),sca:F(K,"minimumTimeBeforeBranchDecision",3E3,0,c.kF),$Eb:F(K,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,c.kF),EH:F(K,"maxDecoderBufferMilliseconds",V.EH.oa(A.za),0,c.kF),Zrb:F(K,"decoderTimeoutMilliseconds",1E4,1),MFb:F(K,"noRenderTimeoutMilliseconds",0),Vvb:F(K,"gapsTimeoutMilliseconds",500),hDc:F(I,"monitorAudioGaps",!0),VHc:F(K,"pauseTimeoutLimitMilliseconds",18E5),ETa:F(K,"inactivityMonitorInterval",3E4,0),y5b:F(T,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),fZ:F(I,"enableTrickPlay",!1),O6b:F(T,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),pVc:F(K,"trickPlayHighResolutionBitrateThreshold",1E3),qVc:F(K,"trickPlayHighResolutionThresholdMilliseconds",1E4),tVc:F(M,"trickplayBufferFactor",.5),oVc:F(K,"trickPlayDownloadRetryCount",1),lsa:F(P,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),jub:F(Y,"experimentalFilter",["throughput-wssl"]),Hma:F(P,"ciPredictorSource","throughput-ci"),Qwa:F(P,"simulationDurationStrategy","default"),fta:F(P,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),qWa:F(L,"maxIQRSamples",Infinity),JWa:F(L,"minIQRSamples",5),TRb:F(I,"useResourceTimingAPI",!1),Bvc:F(I,"ignoreFirstByte",!0),pmc:F(T,"failedDownloadRetryWaitsASE",[200,500,1E3,2E3,4E3]),Vma:F(K,"connectTimeoutMilliseconds",8E3,500),dXa:F(K,"noProgressTimeoutMilliseconds",8E3,500),PPb:F(K,"timedTextDownloadRetryCountBeforeCdnSwitch",3),Bbd:F(K,"netflixRequestExpiryTimeout",0),iYc:F(I,"webkitDecodedFrameCountIncorrectlyReported",!1),sxa:F(Y,G("supportedAudioTrackTypes"),[],void 0,1),Hqa:F(K,"initialLogFlushTimeout",5E3),BIb:F(P,"playdataPersistKey",N.KG?"unsentplaydatatest":"unsentplaydata"),udd:F(I,"sendPersistedPlaydata",!0),CIc:F(K,"playdataPersistIntervalMilliseconds",4E3),kcd:F(K,"playdataSendDelayMilliseconds",1E4),vdd:F(I,"sendPlaydataBackupOnInit",!0),LAc:F(Y,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),FEb:F(I,"midplayEnabled",!0),Hsa:F(K,"midplayIntervalMilliseconds",3E5),GEb:F(T,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),$sb:F(K,"downloadReportDenominator",0),cjc:F(K,"downloadReportInterval",3E5),mDb:F(K,"logConfigApplyDenominator",0),Znb:F(W,G("bookmarkByMovieId"),{}),lQa:F(I,G("forceLimitedDurationLicense"),!1),K_:F(K,G("licenseRenewalRequestDelay"),0),fIb:F(K,G("persistedReleaseDelay"),1E4),bad:F(I,G("limitedDurationFlagOverride"),void 0),NLb:F(K,"safariPlayPauseWorkaroundDelay",100),wYc:F(K,"workaroundValueForSeekIssue",1200),fMa:F(I,G("callEndOfStream"),V.fMa),dIb:F(I,"performRewindCheck",!1),SVa:F(K,"logUnexpectedRewindDelay",1E3),ymc:F(I,"fatalOnUnexpectedSeeking",!0),xmc:F(I,"fatalOnUnexpectedSeeked",!0),vmc:F(I,"fatalOnManifestMistmatch",!0),osb:F(K,G("delayPlayPause"),0),Q3a:F(I,G("useEncryptedEvent"),!0),LOa:F(P,G("drmPersistKey"),"unsentDrmData"),EEc:F(I,G("nudgeSourceBuffer"),!1),gMb:F(L,G("seekDelta"),1),dE:F(I,G("preciseSeeking"),!1),gJc:F(I,G("preciseSeekingOnTwoCoreDevice"),!1),nsb:F(W,G("delayErrorHandling")),ij:F(P,"esn",""),Hub:F(P,"fesn",""),Ukc:F(I,G("enablePerformanceLogging"),!1),U7c:F(I,G("enableEmeVerboseLogging"),!1),appId:F(P,"appId","",ca),sessionId:F(P,"sessionId","",ca),Job:F(P,"cdnProxyUrl"),Hvb:F(K,"forceXhrErrorResponseCode",void 0),Ov:{xbd:F(P,"mslApiPath","/msl/"),Ccd:F(P,"proxyPath",""),uiVersion:F(P,"uiVersion"),uiPlatform:F(P,"uiPlatform"),q6c:function(){return "0";},sZa:F(Y,"preferredLanguages",c.E7a,/^[a-zA-Z-]{2,5}$/,1),Fnc:F(P,G("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),NTc:F(I,"supportPreviewContentPin",!0),OTc:F(I,"supportWatermarking",!0),CRc:F(I,"showAllSubDubTracks",!1),p8c:F(I,G("failOnGuidMismatch"),!1)},sva:{enabled:F(I,"qcEnabled",!1),Ms:F(P,"qcPackageId","")},fz:F(I,"useRangeHeader",!1),E9:F(I,"enableMilestoneEventList",!0),c9b:F(W,"authenticationKeyNames",(0,m.Jf)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),eUc:F(P,"systemKeyWrapFormat"),uRc:F(I,"shouldSendUserAuthData",!0),F0a:F(I,"sendUserAuthIfRequired",V.F0a),lRc:F(I,"shouldClearUserData",!1),d3:F(I,"usesMsl",!0),tDc:F(I,"mslDeleteStore",!1),vDc:F(I,"mslPersistStore",!0),wdc:F(I,"correctNetworkForShortTitles",!0),WTc:F(I,"supportsUnequalizedDownloadables",!0),Wrb:F(K,G("debugAseDenominator"),100),Kla:F(K,"aseAudioBufferSizeBytes",V.Kla.oa(y.pz)),Mla:F(K,"aseVideoBufferSizeBytes",V.Mla.oa(y.pz)),Lla:F(K,"aseTextBufferSizeBytes",V.Lla.oa(y.pz)),uy:F(K,"minInitVideoBitrate",x.Va.uy),gB:F(K,"maxInitVideoBitrate",x.Va.gB),ty:F(K,"minInitAudioBitrate",x.Va.ty),yu:F(K,"maxInitAudioBitrate",x.Va.yu),zS:F(K,"minAllowedVideoBitrate",x.Va.zS),Tba:F(K,"maxAllowedVideoBitrate",x.Va.Tba),Pp:F(Y,"switchableAudioProfiles",x.Va.Pp),yI:F(U,"switchableAudioProfilesOverride",x.Va.yI),yS:F(K,"minAcceptableVideoBitrate",x.Va.yS),vy:F(K,"minRequiredBuffer",x.Va.vy),Ap:F(K,"minPrebufSize",x.Va.Ap),lca:F(K,"minCheckBufferingCompleteInterval",x.Va.lca),Cda:F(M,"rebufferingFactor",x.Va.Cda),Gs:F(K,"maxBufferingTime",x.Va.Gs),bga:F(I,"useMaxPrebufSize",x.Va.bga),OD:F(K,"maxPrebufSize",x.Va.OD),Zba:F(K,"maxRebufSize",x.Va.Zba),oL:F(U,"initialBitrateSelectionCurve",x.Va.oL),BU:F(K,"throughputPercentForAudio",x.Va.BU),b8:F(K,"bandwidthMargin",x.Va.b8),c8:F(I,"bandwidthMarginContinuous",x.Va.c8),d8:F(U,"bandwidthMarginCurve",x.Va.d8),G8:F(K,"conservBandwidthMargin",x.Va.G8),nfa:F(I,"switchConfigBasedOnInSessionTput",x.Va.nfa),I8:F(K,"conservBandwidthMarginTputThreshold",x.Va.I8),H8:F(U,"conservBandwidthMarginCurve",x.Va.H8),rS:F(K,"maxTotalBufferLevelPerSession",x.Va.rS),CQ:F(I,"enableCombinedPlaygraphs",x.Va.CQ),hD:F(I,"enableAdPlaygraphs",x.Va.hD),oA:F(I,"enableLiveProgramPlaygraphs",x.Va.oA),$Y:F(I,"enableLiveProgramPlaygraphsForLinear",x.Va.$Y),EQ:F(I,"enableLiveAdPlaygraphs",x.Va.EQ),Q1:F(I,"retainSbrOnFade",x.Va.Q1),Q9:F(Y,"excludedContentPlaygraphIds",x.Va.Q9),XY:F(I,"enableDiscontiguousBuffering",x.Va.XY),g$:F(T,"forceImmediateTransitionTypeForTitles",x.Va.g$),f$:F(K,"forceImmediateTransitionExitZone",x.Va.f$),MI:F(I,"useBufferSizeLimiter",x.Va.MI),Sea:F(I,"skipBitrateInUpswitch",x.Va.Sea),sga:F(K,"watermarkLevelForSkipStart",x.Va.sga),raa:F(K,"highStreamRetentionWindow",x.Va.raa),Fba:F(K,"lowStreamTransitionWindow",x.Va.Fba),taa:F(K,"highStreamRetentionWindowUp",x.Va.taa),Hba:F(K,"lowStreamTransitionWindowUp",x.Va.Hba),saa:F(K,"highStreamRetentionWindowDown",x.Va.saa),Gba:F(K,"lowStreamTransitionWindowDown",x.Va.Gba),qaa:F(M,"highStreamInfeasibleBitrateFactor",x.Va.qaa),eB:F(K,"lowestBufForUpswitch",x.Va.eB),jS:F(K,"lockPeriodAfterDownswitch",x.Va.jS),Jba:F(K,"lowWatermarkLevel",x.Va.Jba),fB:F(K,"lowestWaterMarkLevel",x.Va.fB),Lba:F(I,"lowestWaterMarkLevelBufferRelaxed",x.Va.Lba),tS:F(M,"mediaRate",x.Va.tS),GH:F(K,"maxTrailingBufferLen",x.Va.GH),P7:F(K,"audioBufferTargetAvailableSize",x.Va.P7),hga:F(K,"videoBufferTargetAvailableSize",x.Va.hga),tZ:F(M,"fastUpswitchFactor",x.Va.tZ),S9:F(M,"fastDownswitchFactor",x.Va.S9),FH:F(K,"maxMediaBufferAllowed",x.Va.FH),dEb:F(K,"maxLiveMediaBufferAllowed",x.Va.dEb),Pwa:F(I,"simulatePartialBlocks",x.Va.Pwa),J8:F(I,"considerConnectTime",x.Va.J8),F8:F(M,"connectTimeMultiplier",x.Va.F8),tsa:F(K,"maxNetworkErrorsDuringBuffering",x.Va.tsa),Uba:F(K,"maxBufferingTimeAllowedWithNetworkError",x.Va.Uba),ZH:F(I,"probeServerWhenError",x.Va.ZH),fva:F(K,"probeRequestTimeoutMilliseconds",x.Va.fva),KP:F(I,"allowSwitchback",x.Va.KP),eva:F(K,"probeDetailDenominator",x.Va.eva),nca:F(K,"minProbeIntervalMs",x.Va.nca),W_:F(K,"maxDelayToReportFailure",x.Va.W_),Bba:F(K,"locationStatisticsUpdateInterval",x.Va.Bba),naa:F(K,"headerRequestSize",4096),lZ:F(I,"estimateHeaderSize",!1),i0:F(K,"minBufferLenForHeaderDownloading",1E4),Rq:F(I,"pipelineEnabled",!1),K1a:F(K,"socketReceiveBufferSize",0),S7:F(K,"audioSocketReceiveBufferSize",32768),mga:F(K,"videoSocketReceiveBufferSize",65536),rqa:F(K,"headersSocketReceiveBufferSize",32768),eob:F(K,"bufferLevelNotifyIntervalMs",2E3),Av:F(K,"aseReportDenominator",0),$z:F(K,"aseReportIntervalMs",3E5),j1:F(K,"prebufferTimeLimit",24E4),xua:F(K,"penaltyFactorForLongConnectTime",2),csa:F(K,"longConnectTimeThreshold",200),rla:F(K,"additionalBufferingLongConnectTime",2E3),sla:F(K,"additionalBufferingPerFailure",8E3),x1:F(K,"rebufferCheckDuration",6E4),GQ:F(I,"enableOCSideChannel",!0),fW:F(O,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),una:F(K,"defaultHeaderCacheSize",4),tna:F(K,"defaultHeaderCacheDataPrefetchMs",8E3),bta:F(K,"networkFailureResetWaitMs",2E3),ata:F(K,"networkFailureAbandonMs",12E4),$ba:F(K,"maxThrottledNetworkFailures",3),vfa:F(K,"throttledNetworkFailureThresholdMs",2E3),dsa:F(L,"lowThroughputThreshold",400),soa:F(I,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),PT:F(I,"requireAudioStreamToEncompassVideo",!0),fPa:F(I,"enableManagerDebugTraces",!1),Lbd:F(I,"notifyManifestCacheEom",!1),bda:F(K,"periodicHistoryPersistMs",3E5),nea:F(K,"saveBitrateMs",18E4),rya:F(I,"waitForDrmToAppendMedia",!1),Poa:F(I,G("forceAppendHeadersAfterDrm"),!1),Dvb:F(I,G("forceAppendEncryptedStreamHeaderFirst"),!0),uFb:F(K,"netIntrStoreWindow",36E3),QEb:F(K,"minNetIntrDuration",8E3),Eub:F(K,"fastHistoricBandwidthExpirationTime",10368E3),Mnb:F(K,"bandwidthExpirationTime",5184E3),Aub:F(K,"failureExpirationTime",86400),S9c:F(K,"historyTimeOfDayGranularity",4),iub:F(I,"expandDownloadTime",!1),xqa:F(I,"ignoreShortResponses",!1),INb:F(I,"shortResponseDurationMs",10),HNb:F(I,"shortResponseBytes",1E4),Psa:F(K,"minimumMeasurementTime",500),Osa:F(K,"minimumMeasurementBytes",131072),hva:F(K,"probingMeasurementTime",2E3),gva:F(K,"probingMeasurementBytes",262144),xzb:F(K,"historicBandwidthUpdateInterval",2E3),mwa:F(P,"secondThroughputEstimator","none"),ztb:F(Y,"enableFilters",("throughput-ewma throughput-sw throughput-sw-fast throughput-iqr throughput-tdigest avtp entropy").split(" ")),Mub:F(O,"filterDefinitionOverrides",{}),esb:F(P,"defaultFilter","throughput-ewma"),eMb:F(P,"secondaryFilter","none"),hOa:F(O,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-sw-fast":{type:"slidingwindow",mw:500},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),Xsa:F(I,"needMinimumNetworkConfidence",!0),ima:F(I,"biasTowardHistoricalThroughput",!0),ila:F(I,"addHeaderDataToNetworkMonitor",!1),Xwa:F(I,"startMonitorOnLoadStart",!1),Kva:F(I,"reportFailedRequestsToNetworkMonitor",!1),qsa:F(L,"maxFastPlayBufferInMs",Infinity),Fla:F(I,"appendFirstHeaderOnComplete",!0),inb:F(P,"ase_stream_selector","optimized"),vba:F(P,"liveStreamSelectorAlgorithm","livesimple"),iba:F(I,"jointStreamSelectorEnabled",!1),l8:F(P,"bufferingSelectorAlgorithm","default"),lna:F(I,"ase_dump_fragments",!1),nna:F(K,"ase_location_history",0),R9c:F(P,"historicByLocationOrGlobal","timedPerLocation"),WIc:F(K,"pollingPeriod",150),xAc:F(K,"loadTimeMs",18E4),sBc:F(K,"marginTimeMs",1E4),ZQa:F(I,"getDeviceIdFromBindDevice",!1),AKa:F(I,"addFailedLogBlobsToQueue",!0),IVc:{"content-sampling":{Gs:F(K,"contentSamplingMaxBufferingTime",3E3),aN:F(P,"contentSamplingSelectStartingVMAFMethod",x.Va.aN),gX:F(I,"contentSamplingActivateSelectStartingVMAF",!0),pw:F(K,"contentSamplingMinStartingVideoVMAF",80),xS:F(K,"contentSamplingMinAcceptableVMAF",70),MH:F(K,"contentSamplingMinAllowedVmaf",60)},billboard:{uy:F(K,"billboardMinInitVideoBitrate",1050),gB:F(K,"billboardMaxInitVideoBitrate",null),Ap:F(K,"billboardMinPrebufSize",null),OD:F(K,"billboardMaxPrebufSize",null),Gs:F(K,"billboardMaxBufferingTime",null),fB:F(K,"billboardLowestWaterMarkLevel",6E3),eB:F(K,"billboardLowestBufForUpswitch",25E3),ced:F(P,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{uy:F(K,"preplayMinInitVideoBitrate",1050),gB:F(K,"preplayMaxInitVideoBitrate",null),Ap:F(K,"preplayMinPrebufSize",null),OD:F(K,"preplayMaxPrebufSize",null),Gs:F(K,"preplayMaxBufferingTime",null),fB:F(K,"preplayLowestWaterMarkLevel",6E3),eB:F(K,"preplayLowestBufForUpswitch",25E3)},embedded:{uy:F(K,"embeddedMinInitVideoBitrate",1050),gB:F(K,"embeddedMaxInitVideoBitrate",null),Ap:F(K,"embeddedMinPrebufSize",null),OD:F(K,"embeddedMaxPrebufSize",null),Gs:F(K,"embeddedMaxBufferingTime",null),fB:F(K,"embeddedLowestWaterMarkLevel",6E3),eB:F(K,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{uy:F(K,"videoMerchBobHorizontalMinInitVideoBitrate",null),gB:F(K,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Ap:F(K,"videoMerchBobHorizontalMinPrebufSize",null),OD:F(K,"videoMerchBobHorizontalMaxPrebufSize",null),Gs:F(K,"videoMerchBobHorizontalMaxBufferingTime",null),fB:F(K,"videoMerchBobHorizontalLowestWaterMarkLevel",null),eB:F(K,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{uy:F(K,"miniModalHorizontalMinInitVideoBitrate",null),gB:F(K,"miniModalHorizontalMaxInitVideoBitrate",null),Ap:F(K,"miniModalHorizontalMinPrebufSize",null),OD:F(K,"miniModalHorizontalMaxPrebufSize",null),Gs:F(K,"miniModalHorizontalMaxBufferingTime",500),fB:F(K,"miniModalHorizontalLowestWaterMarkLevel",null),eB:F(K,"miniModalHorizontalLowestBufForUpswitch",null)},live:{}},alc:F(I,"enableVerbosePlaydelayLogging",!1),Wkc:F(I,"enableSeamless",!1),gTa:F(K,"hindsightDenominator",0),fTa:F(K,"hindsightDebugDenominator",0),hTa:F(O,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),Yba:F(K,"maxNumSessionHistoryStored",30),pca:F(K,"minSessionHistoryDuration",3E5),U_:F(K,"maxActiveRequestsPerSession",3),msa:F(K,"maxActiveRequestsSABCell100",x.Va.msa),Mra:F(I,"limitAudioDiscountByMaxAudioBitrate",!0),Le:F(O,"browserInfo",{}),u$b:F(K,G("busyGracePeriod"),199),zPc:F(I,G("sendTransitionLogblob"),!0),Mvc:F(I,G("includeSegmentInfoOnLogblobs"),!0),cmc:F(I,"exposeTestData",!1),bmc:F(I,G("exposeErrorData"),!1),cK:F(I,G("applyProfileTimestampOffset"),!1),tda:F(O,G("profileTimestampOffsets"),{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}),Th:F(I,G("applyProfileStreamingOffset"),!1),hca:F(I,G("mediaSourceSupportsNegativePts"),!1),n7b:F(I,G("allowSmallSeekDelta"),!1),YRc:F(K,G("smallSeekDeltaThresholdMilliseconds"),r.DGa),okc:F(I,"enableCDMAttestedDescriptors",!1),aea:F(I,"requireDownloadDataAtBuffering",x.Va.aea),bea:F(I,"requireSetupConnectionDuringBuffering",x.Va.bea),ORb:F(I,"useMobileVMAF",!1),xsb:F(P,"desiredVMAFTypeMobile","phone_plus_lts"),ysb:F(P,"desiredVMAFTypeNonMobile","plus_lts"),gX:F(I,"activateSelectStartingVMAF",x.Va.gX),pw:F(K,"minStartingVideoVMAF",x.Va.pw),xS:F(K,"minAcceptableVMAF",x.Va.xS),MH:F(K,"minAllowedVmaf",x.Va.MH),V_:F(K,"maxAllowedOutstandingRequests",x.Va.V_),qca:F(K,"minStreamableConcurrencyWindow",x.Va.qca),dfa:F(M,"streamableConcurrencyFactor",x.Va.dfa),VP:F(K,"bufferingConcurrencyWindow",x.Va.VP),eZ:F(I,"enableResolutionVMAFStreamFilter",x.Va.eZ),N1:F(O,"resolutionVMAFCappingRuleList",x.Va.N1),$ca:F(L,"percentCapTitlesForResolutionVMAFStreamFilter",x.Va.$ca),Iic:F(I,"disableSkipping",!1),$xa:F(I,"useHLSPlayer",V.$xa),aga:F(I,G("useExitZones"),x.Va.aga),vNc:F(I,"requestSegmentVmaf",!1),ZS:F(O,"perFragmentVMAFConfig",{enabled:!1}),iua:F(K,"paddingDurationMs",1E3),jua:F(P,"paddingMediaType","padding"),US:F(P,"paddingCodecSelector","flexible"),s2a:F(I,"supportsPtsChanged",!1),jJc:F(I,G("preferUnletterboxed"),!1),nOb:F(I,"standaloneMode",!1),Atb:F(I,"enableKeySystemRestrictor",!1),Llc:F(K,"errorEventToRestrict",2),Jlc:F(T,"errorCodesToRestrict",[7353,7361,7377,7701,7702,7703,7717]),Ilc:F(T,"errorCodesToCache",[7353,7361,7377,7701,7702,7703,7717]),xtb:F(I,"enableCachedErrors",!1),F$b:F(K,"cachedErrorCountLimit",20),H$b:F(K,"cachedErrorExpirationSeconds",604800),I$b:F(K,"cachedErrorsStorageTimeoutSeconds",2E3),JAc:F(I,"logKeySystemHasHwdrmAvailable",!1),Pra:F(L,"liveEdgeCushion",0),DVa:F(L,"liveEdgeCushionWithSpreadMs",0),doa:F(I,"enableLive504Handling",!1),wba:F(I,"liveStreamSelectorUseLatency",!0),Fra:F(M,"latencyMultiplierForLive",4),Sra:F(I,"liveLowQualityAvoidance",!0),uba:F(L,"liveLowQualityThreshold",750),L_:F(M,"liveLowQualityMultiplier",6),Nra:F(I,"liveBufferRatioStrategy","strict"),Tra:F(L,"liveMaxUpswitchSteps",Infinity),aoa:F(I,"enableConditionalServerTimeUpdate",!1),Zsa:F(L,"negligibleServerTimeDeltaDifference",1E3),Yra:F(I,"liveSwitchStreamsOnErrorInPipeline",!0),FQ:F(I,"enableMissingSegmentsReplacement",!0),lU:F(I,"simulateLiveEdge",!1),Kzc:F(L,"liveEdgeThreshold",1E4),Hnc:F(I,"forceDisableLiveUi",!1),vkc:F(I,"enableForceLiveEdgeAtEventStart",!0),wkc:F(I,"enableForceLiveEdgeOnResumeInStartSlate",!0),Ikc:F(I,"enableLivePlaybackRateDriftCorrection",!1),$zc:F(M,"livePlaybackRateMin",.98),Zzc:F(M,"livePlaybackRateMax",1.02),Yzc:F(L,"livePlaybackRateAdjustmentThresholdMs",20),Xzc:F(L,"livePlaybackRateAdjustmentIntervalMs",1E3),Wzc:F(M,"livePlaybackRateAdjustmentFactor",.1),Enc:F(L,"forceAstRelativeLiveBookmark",void 0),Inc:F(L,"forceEstRelativeLiveBookmark",void 0),HSc:F(L,"startSlateMs",void 0),fAc:F(L,"liveSlateMs",void 0),ePa:F(I,"enableLiveManifestReuse",!0),GVa:F(I,"liveShouldAccountForPlayDelay",!1),Vra:F(I,"livePrefetchEnabled",!0),Wra:F(I,"livePrefetchEnabledForStickySteering",!0),FY:F(L,"decryptOCSideChannelMinInterval",1E3),sna:F(L,"decryptOCSideChannelMinIntervalAfterCompleted",1E3),ZY:F(I,"enableLiveOCSideChannelRefresh",!0),M_:F(L,"liveOCSideChannelRefreshInterval",3E4),Pkc:F(I,G("enableNonSeamlessTransitions"),!1),GXc:F(Y,G("videoCodecsRequiringNonSeamlessTransitions"),[]),fPc:F(Y,G("segmentTypesRequiringNonSeamlessTransitions"),[]),VIc:F(Y,G("playreadySegmentTypesRequiringNonSeamlessTransitions"),[]),gS:F(O,"liveOriginOverride",void 0),Xra:F(L,"liveRequestSpreadMs",1E3),CVa:F(I,"liveConsiderSpreadInCushion",!1),foa:F(I,"enableTwoPartLiveFragmentEditing",!0),hS:F(I,"liveSlowBufferFilling",!1),oAc:F(L,"lnaModeJitterMs",12E5),LBc:F(L,"maxLNADuration",36E6),Gnc:F(I,"forceDisableLNA",!1),QCb:F(P,"liveAdsCapability","dynamic"),HQ:F(I,"enableRequestAbandonment",!1),Cua:F(L,"pipelineHealthThresholdCriticalMs",2E3),Dua:F(L,"pipelineHealthThresholdLowMs",6E3),Uda:F(L,"requestAbandonmentLockIntervalMs",1E4),jxa:F(M,"streamModeAppendAttachThreshold",.75),Ctb:F(I,"enableLiveAdsUi",!0),Ora:F(M,"liveEarlyRequestProbability",.05),tba:F(L,"liveEarlyRequestDefaultOffsetMs",-500),B2:F(I,"supportLiveIdrMismatch",!1),F2:F(L,"synthesizeLiveIdrMismatch",0),G7:F(I,"alwaysRetainAds",!1),cZ:F(I,"enableMediaEventsTrack",!0),xH:F(L,"liveAdManifestWindowMs",1E4),cS:F(L,"liveAdManifestWindowAllowanceMs",5E3),pfa:F(P,"syntheticAdBreakUx",""),D9:F(I,"enableMediaEventHistory",x.Va.D9),DQ:F(I,"enableLiveAdBreakReportingEvents",x.Va.DQ),GK:F(I,"enableBlackBoxNotification",x.Va.GK),BVa:F(L,"liveAdEventJitterMs",6E4),Enb:F(P,"auxiliaryManifestTokenOverride"),nl:F(L,"minimumPresentationDelayMs",x.Va.nl),eS:F(L,"liveEdgeSegmentSkipCount",x.Va.eS),pda:F(I,"probeBeforeSwitchingBackToPrimary",x.Va.pda),j0:F(L,"minIntervalForSwitchingBackToPrimary",x.Va.j0),Vba:F(L,"maxIntervalForSwitchingBackToPrimary",x.Va.Vba),nPb:F(I,"supportsAdLazyLoading",!1),nEb:F(L,"maxSupportedAdAuxiliaryManifests",void 0),Jsb:F(I,"disableDAISupportedForHWDRM",!1),iDc:F(I,"monitorFrozenFrames",!1),aZ:F(I,"enableLiveRequestPacing",x.Va.aZ),Q_:F(K,"logarithmicRequestPacingCurveCenterPositionMs",x.Va.Q_),R_:F(M,"logarithmicRequestPacingCurveSharpness",x.Va.R_),XL:F(K,"maxLiveTargetBufferDurationMs",x.Va.XL),F9:F(I,"enableSvodRequestPacing",x.Va.F9),l0:F(K,"minSvodTargetBufferDurationMs",x.Va.l0),C2:F(M,"svodBufferGrowthRateSlope",x.Va.C2),IG:F(I,"enableCprVideo",x.Va.IG),A9:F(I,"enableCprVideoNonPipelined",x.Va.A9),YY:F(I,"enableInitialThroughputHistory",x.Va.YY),WY:F(I,"enableActiveRequestsInFilters",x.Va.WY),JQb:F(O,"uiContext"),JK:F(I,"enableUnifiedSideChannel",x.Va.JK)};fa=!0;b.bNa=function(ha){var ka,pa,oa;ka=g.Wa.get(B.ie).id;if(0 < b.config.mDb && 0 === ka % b.config.mDb)try{pa=g.Wa.get(u.Xp);oa=g.Wa.get(v.jF).Xt("config","info",{params:ha});pa.Vc(oa);}catch(la){g.log.error("Failed to log config$apply",la);}Ba._cad_global.config=b.config;(0,h.va)(ha);ha && (da=(0,m.Jf)({},ha,{Mba:!0}),(0,m.Jf)(da,S,{Mba:!0}),H(aa,b.config),da.istestaccount && g.log.trace("Config applied for",Z(fa?da:ha)),fa=!1);};(0,b.bNa)(da);};b.cNa=function(D){D=d(D);return (0,m.Jf)({},a(87141)(D),{Yta:!0});};b.Tcc=function(D,E,H){E=!!H && (0 <= H.indexOf("h264hpl") || 0 <= H.indexOf("av1"));D={jB:D?b.config.KEb:b.config.jB,QD:D?b.config.VEb:E?b.config.WEb:b.config.QD};return (0,m.Jf)({},a(87141)(D),{Yta:!0});};b.J6c=d;b.I6c=n;c=a(33096);f=a(52569);g=a(31276);e=a(34231);h=a(45146);k=a(56800);l=a(75568);m=a(3887);a(87386);p=a(22365);q=a(32687);r=a(93294);u=a(45118);v=a(31850);w=a(5614);x=a(45247);y=a(72574);A=a(5021);z=a(91581);B=a(81918);C=a(88195);},70:function(t,b,a){var d,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});d=a(52569);n=a(33096);c=a(36129);f=a(22365);t=a(31276);a=a(11479);g=t.Wa.get(a.fk);g.register(c.da.M$a,function(e){f.Xn && f.Xn.generateKey && f.Xn.importKey && f.Xn.unwrapKey?(g.ih("wcs"),(0,d.R0)(f.Xn.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){g.ih("wcdone");e(n.Ph);},function(h){var k;h="" + h;if(0 <= h.indexOf("missing crypto.subtle"))k=c.Y.VHa;else 0 <= h.indexOf("timeout waiting for iframe to load") && (k=c.Y.M1b);e({Ua:k,ef:h});})):e({Ua:c.Y.VHa});});},1481:function(t,b,a){var d,n,c,f,g,e,h,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.ip=void 0;d=a(33096);n=a(29204);t=a(36129);c=a(45146);f=a(31276);g=a(68703);e=a(22365);h=a(11479);k=a(91581);l=f.Wa.get(h.fk);l.register(t.da.cCa,function(m){var p,q,r;p=f.Wa.get(k.Bt);(0,c.va)(n.config);(0,c.va)(e.jJ && e.jJ.getDeviceId || e.Fcb || p.HZ);q=f.Wa.get(g.$7a);r=(0,f.gn)("Device");l.ih("devs");q.create({deviceId:n.config.deviceId,HZ:p.HZ,Bsb:"deviceid",ij:n.config.ij,bu:p.bu,o9:p.o9,userAgent:e.cW,NVa:n.config.NVa,ZQa:n.config.ZQa,zbd:n.config.KG?"mslstoretest":"mslstore",d3:n.config.d3}).then(function(u){b.ip=u;Ba._cad_global.device=b.ip;r.info("Esn source: " + b.ip.ooa);l.ih("devdone");m(d.Ph);}).catch(function(u){u.success=void 0;m(u);});});},15531:function(t,b,a){var m,p,q,r,u,v,w,x;function d(y,A,z,B,C){var D;D={};"right" == y.horizontalAlignment?D.right=100 * (z - A.left - A.width - C) / z + "%":D.left=100 * (A.left - C) / z + "%";"bottom" == y.verticalAlignment?D.bottom=100 * (B - A.top - A.height - C) / B + "%":D.top=100 * (A.top - C) / B + "%";return D;}function n(y,A){var z;if(y && A){40 === A.x && 19 === A.y?z=4 / 3 / (40 / 19):52 === A.x && 19 === A.y && (z=16 / 9 / (52 / 19));if(z)return y.width / y.fontSize / z;}}function c(y,A,z,B,C,D,E){for(var H=y.style,F=(0,p.lTa)(y.text),G=y.lineBreaks;G--;)F="<br />" + F;return f(F,H,A,z,B,C,D,y.lang,E);}function f(y,A,z,B,C,D,E,H,F){var G;G=A.characterStyle;C=C[G];G=0 <= G.indexOf("MONOSPACE")?n(C,A.cellResolution) || C.lineHeight:C.lineHeight;B=A.characterSize * B.height / (G || 1);H && "ja" === H.slice(0,2) && A.ruby && "text" === A.ruby && (B/=2);B=0 < D?(0,q.ZV)(B * D):(0,q.zt)(B);D={"font-size":B + "px","line-height":"normal","font-weight":"normal"};A.characterItalic && (D["font-style"]="italic");A.characterUnderline && (D["text-decoration"]="underline");A.characterColor && (D.color=A.characterColor);A.backgroundColor && 0 !== A.backgroundOpacity && (D["background-color"]=g(A.backgroundColor,A.backgroundOpacity));if(H && "ja" === H.slice(0,2)){if(A.textEmphasis){B=A.textEmphasis;switch(B.textEmphasisShape){case "auto":D["text-emphasis"]="vertical-lr" === E || "vertical-rl" === E?"filled sesame":"filled circle";break;default:D["text-emphasis"]=B.textEmphasisFill + " " + B.textEmphasisShape;}F=h(B.textEmphasisPosition,F);switch(E){case "vertical-rl":D["text-emphasis-position"]=w[F];break;case "vertical-lr":D["text-emphasis-position"]=x[F];break;default:D["text-emphasis-position"]=v[F];}}A.textCombine && (D["text-combine-upright"]=A.textCombine);}E=A.characterEdgeColor || "#000000";switch(A.characterEdgeAttributes){case "DROP_SHADOW":D["text-shadow"]=E + " 0px 0px 7px";break;case "UNIFORM":D["text-shadow"]="-1px 0px " + E + ",0px 1px " + E + ",1px 0px " + E + ",0px -1px " + E;break;case "RAISED":D["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":D["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}E=(0,m.O8)(D);(z=z[A.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (E+=";" + z);z=A.characterOpacity;0 < z && 1 > z && (y='<span style="opacity:' + z + '">' + y + "</span>");H && "ja" === H.slice(0,2)?(y='<span lang="ja" style="' + E + '">' + y + "</span>",A.ruby && "text" === A.ruby && (y="<rt>" + y + "</rt>")):y='<span style="' + E + '">' + y + "</span>";return y;}function g(y,A){y=y.substring(1);y=parseInt(y,16);return "rgba(" + (y >> 16 & 255) + "," + (y >> 8 & 255) + "," + (y & 255) + "," + (void 0 !== A?A:1) + ")";}function e(y,A,z,B){var C;C="";y && "text" === y && (C='<ruby style="ruby-position: ' + ("before" === A || "over" === A || "outside" === A && 0 === z?"over":"under") + "; " + B + '">');return C;}function h(y,A){return y === u[0] || "outside" === y && 0 === A?u[0]:u[1];}function k(y){return y.replace(/(<ruby[\s\S]*?)(<br\s*\/?>+)([\s\S]*?<\/ruby>)/g,"$2$1$3");}function l(y){return (y=y.match(/(font-size:\d+px)/))?y[0]:"";}Object.defineProperty(b,"__esModule",{value:!0});b.Utb=function(y,A,z,B,C){var D,E,H,F,G,J,L;D="";E="";H=0;F="";G=!1;J="";L="";y.textNodes.forEach(function(K){var M,P,I,O;H+=K.lineBreaks;I=c(K,z,A,B,C,y.region.writingMode,H);if(K.lang && "ja" === K.lang.slice(0,2)){if(K.style && K.style.ruby && "" != K.style.ruby && (K.style.ruby === r.Wr && (L=l(I)),K.style.ruby !== r.Jb && (J+=I),I="",K.style.ruby === r.text)){O=e(K.style.ruby,null !== (M=K.style.rubyPosition) && void 0 !== M?M:"outside",H,L);G="" !== O;J=O + J;}!F || "" === F || K.style.ruby && "" !== K.style.ruby && K.style.ruby !== r.Jb || (J=k(J + (G?"</ruby> ":"")),I=J + I,G=!1,J="");}D+=I;F=null !== (P=K.style.ruby) && void 0 !== P?P:"";"" === E && K.style && K.style.shear && (E="font-style: oblique " + -90 * parseFloat(K.style.shear) + "deg;");});"" !== J && (D+=J + (G?"</ruby> ":""));y.region && y.region.multiRowAlignment && (D='<span style="display:inline-block;' + E + "text-align:" + y.region.multiRowAlignment + '">' + D + "</span>");return D;};b.Dlc=function(y,A,z,B,C){var D,E,F,G,J;D="";E=C.width;C=C.height;for(var H=A.length;H--;){F=A[H];G=y[H];G=G && G.region;J="position:absolute;background:" + B + ";width:" + (0,q.zt)(F.width + 2 * z) + "px;height:" + (0,q.zt)(F.height + 2 * z) + "px;";F=d(G,F,E,C,z);(0,p.Di)(F,function(L,K){J+=L + ":" + K + ";";});D+='<div style="' + J + '"></div>';}return D;};b.Clc=d;b.$7c=n;b.b8c=c;b.Z7c=f;b.a8c=g;b.Blc=function(y){var A;y=y.region;A={display:"block","white-space":"nowrap"};switch(y.horizontalAlignment){case "left":A["text-align"]="left";break;case "right":A["text-align"]="right";break;default:A["text-align"]="center";}"vertical-lr" === y.writingMode || "vertical-rl" === y.writingMode?A["writing-mode"]=y.writingMode:"horizontal-tb" === y.writingMode && y.direction && (A.direction=y.direction);return (0,m.O8)(A);};b.b6c=e;b.O6c=h;b.vbd=k;b.f9c=l;m=a(52569);p=a(3887);q=a(22365);r={Jb:"container",text:"text",Wr:"base"};u=["before","after"];v={before:"over right",after:"under right"};w={before:"over right",after:"over left"};x={before:"over left",after:"over right"};},33579:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.MVc=function(n,c){function f(h,k,l){var r,v,w,x,y;if(h && 1 < h.length){for(var m=[],p=[],q=0;q < h.length;q++)(m[q]=0,p[q]=0);r=!1;for(q=0;q < h.length;q++)for(var u=q + 1;u < h.length;u++){v=h[q];w=h[u];if(0 > v.width || 0 > w.width || w.left > v.left + v.width || w.left + w.width < v.left || w.top > v.top + v.height?0:w.top + w.height >= v.top){x=(0,d.uz)(v.left,w.left);y=(0,d.uz)(v.top,w.top);x={width:(0,d.uz)((0,d.mF)(v.left + v.width,w.left + w.width) - x,0),height:(0,d.uz)((0,d.mF)(v.top + v.height,w.top + w.height) - y,0),x:x,y:y};}else x=void 0;if(x && 1 < x.width && 1 < x.height)if((y=x.width <= x.height,v=g(h[q]),w=g(h[u]),y && k || !y && !k))(x=(0,d.uz)(x.width / 2,.25),v.x <= w.x?(p[q]-=x,p[u]+=x):(p[u]-=x,p[q]+=x));else if(y && !k || !y && k)(v=(0,d.uz)(x.height / 2,.25),m[q]-=v,m[u]+=v);}for(q=0;q < h.length;q++){if(-.25 > p[q] && 0 <= h[q].left + p[q] || .25 < p[q] && h[q].left + h[q].width + p[q] <= l.width)(h[q].left+=p[q],r=!0);if(-.25 > m[q] && 0 <= h[q].top + m[q] || .25 < m[q] && h[q].top + h[q].height + m[q] <= l.height)(h[q].top+=m[q],r=!0);}return r;}}function g(h){return {x:h.left + h.width / 2,y:h.top + h.height / 2};}n=n.map(function(h){return {top:h.top,left:h.left,width:h.width,height:h.height};});(function(h,k){h.forEach(function(l){0 > l.left && l.left + l.width < k.width?l.left+=(0,d.mF)(-l.left,k.width - (l.left + l.width)):l.left + l.width > k.width && 0 < l.left && (l.left-=(0,d.mF)(l.left + l.width - k.width,l.left));0 > l.top && l.top + l.height < k.height?l.top+=(0,d.mF)(-l.top,k.height - (l.top + l.height)):l.top + l.height > k.height && 0 < l.top && (l.top-=(0,d.mF)(l.top + l.height - k.height,l.top));});})(n,c);for(var e=0;50 > e && f(n,!0,c);e++);for(e=0;50 > e && f(n,!1,c);e++);return n;};d=a(22365);},99732:function(t,b,a){var d,n,c,f,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.yDb=void 0;d=a(29204);n=a(33096);c=a(24066);t=a(36129);f=a(22365);g=a(32687);e=a(31276);a=a(11479);e.Wa.get(a.fk).register(t.da.D$a,function(h){var m,p,q,r,u;function k(){return (0,f.ZV)((0,c.Hx)() / q);}function l(){var v;v=k();if(v != u){for(var w=(0,f.mF)(v - u,30);w--;)r.push(0);(w=(0,f.uz)(r.length - 31,0)) && r.splice(0,w);u=v;}r[r.length - 1]++;}m=d.config.VAc;p=-6 / (m - 2 - 2);q=n.yr;r=[];u=k();(0,g.EUa)(m) && (setInterval(l,1E3 / m),b.yDb={wpa:function(){var x;for(var v=[],w=r.length - 1;w--;){x=r[w];v.unshift(0 >= x?9:1 >= x?8:x >= m - 1?0:(0,f.zt)((x - 2) * p + 7));}return v;}});h(n.Ph);});},24674:function(t,b,a){var g,e,h,k,l,m;function d(p){var q;p=new h.lha(p);if(1481462272 != p.Iw())throw Error("Invalid header");q={XMR:{Version:p.Iw(),RightsID:p.oE(16)}};n(p,q.XMR,p.zpa());return q;}function n(p,q,r){var u,v,w,x,y;for(;p.position < r;){u=p.uj();v=p.Iw();v-=8;switch(u){case 1:w="OuterContainer";break;case 2:w="GlobalPolicy";break;case 3:w="MinimumEnvironment";break;case 4:w="PlaybackPolicy";break;case 5:w="OutputProtection";break;case 6:w="UplinkKID";break;case 7:w="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:w="AnalogVideoOutputConfiguration";break;case 9:w="KeyMaterial";break;case 10:w="ContentKey";break;case 11:w="Signature";break;case 12:w="DeviceIdentification";break;case 13:w="Settings";break;case 18:w="ExpirationRestriction";break;case 42:w="ECCKey";break;case 48:w="ExpirationAfterFirstPlayRestriction";break;case 50:w="PlayReadyRevocationInformationVersion";break;case 51:w="EmbeddedLicenseSettings";break;case 52:w="SecurityLevel";break;case 54:w="PlayEnabler";break;case 57:w="PlayEnablerType";break;case 85:w="RealTimeExpirationRestriction";break;default:w="Other";}x={Type:c(u)};y=q[w];y?(0,m.isArray)(y)?y.push(x):(q[w]=[],q[w].push(y),q[w].push(x)):q[w]=x;switch(u){case 1:case 2:case 4:case 7:case 9:case 54:n(p,x,p.position + v);break;case 5:x.Reserved1=p.uj();x.MinimumUncompressedDigitalVideoOutputProtectionLevel=p.uj();x.MinimumAnalogVideoOutputProtectionLevel=p.uj();x.Reserved2=p.uj();x.MinimumUncompressedDigitalAudioOutputProtectionLevel=p.uj();break;case 10:x.Reserved=p.oE(16);x.SymmetricCipherType=p.uj();x.AsymmetricCipherType=p.uj();v=p.uj();x.EncryptedKeyLength=v;u=p.oE(v);x.EncryptedKeyData=10 >= v?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 11:x.SignatureType=p.oE(2);v=p.uj();u=p.oE(v);x.SignatureData=10 >= v?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 13:x.Reserved=p.uj();break;case 18:x.BeginDate=p.Iw();x.EndDate=p.Iw();break;case 42:x.CurveType=p.oE(2);v=p.uj();u=p.oE(v);x.Key=10 >= v?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 48:x.ExpireAfterFirstPlay=p.Iw();break;case 50:x.Sequence=p.Iw();break;case 51:x.LicenseProcessingIndicator=p.uj();break;case 52:x.MinimumSecurityLevel=p.uj();break;case 57:x.PlayEnablerType=f(p.oE(16));break;case 85:break;default:x.OtherData=p.oE(v);}}}function c(p){return "0x" + p.toString(16);}function f(p){return p.substring(6,8) + p.substring(4,6) + p.substring(2,4) + p.substring(0,2) + "-" + p.substring(10,12) + p.substring(8,10) + "-" + p.substring(14,16) + p.substring(12,14) + "-" + p.substring(16,20) + "-" + p.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.e7c=function(p,q,r){switch(q){case g.uha:p && (p=(0,e.Pnb)(p),(0,l.FYc)(p,function(u){u.success && (u=u.object) && (u=(0,k.Kpc)(u,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (u=(0,k.OHc)(u)) && (u=(0,e.hG)(u)) && (u=d(u)) && r(u);}));}};b.f7c=d;b.g7c=n;b.i7c=c;b.h7c=f;g=a(33096);e=a(31276);h=a(70834);k=a(62604);l=a(84281);m=a(32687);},59032:function(t,b){var d;function a(n,c){var f;f=this;this.EIa=[];d.forEach(function(g){(g=g(n,c)) && f.EIa.push(g);});}Object.defineProperty(b,"__esModule",{value:!0});b.ncb=void 0;b.kia=function(n){d.push(n);};d=[];a.prototype.rI=function(n){var g;for(var c=[],f=this.EIa.length;f--;){g=this.EIa[f];g.rI(n) && c.push(g.Foa);}if(c.length)return c;};b.ncb=a;},3390:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});t=a(59032);d=a(31276);n=a(4203);c=a(95136);f=a(81918);(0,t.kia)(function(g,e){var h,k;h=d.Wa.get(n.Ic);if(h().ojc){k=d.Wa.get(f.ie);return new c.n8a(g,e,d.uh,k,h);}});},95136:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m,p,q,r){var u;u=this;this.j=l;this.Pa=m;this.wa=p;this.Xa=q;this.Gta={};this.NY={};this.n2=[];this.AAb=1E3;this.hxa=n.zbb;this.ZXa=function(){var v;v=u.j.Zb.value === g.Nb.rg && u.j.state.value === g.Gc.Cf && u.j.R === u.Pa.R;u.Laa?v || (clearInterval(u.Laa),u.Laa=void 0,u.oba=void 0):v && (u.Laa=Ba.setInterval(u.DUc,u.AAb));};this.DUc=function(){var v,w,x,y;w=u.j.ze.value;w=w && w.stream;w=null !== (v=w && w.height) && void 0 !== v?v:null;if(null !== w && 0 < w){v=u.Xa.yc().oa(h.za);x=u.j.Xd.lR();if(x){if(u.oba && v - u.oba.time < 2 * u.AAb && w === u.oba.height){y=x - u.oba.njc;u.GKa(w,y);u.m6b(w,y);}u.oba={time:v,njc:x,height:w};u.j.Fua && u.j.Fua.YPc(u.Gta);}}};this.NQa=function(){var v;v={};u.NY && u.n2.forEach(function(w){var x,y,A;x=u.NY[w];if(x){y=0;A=0;(0,e.Di)(x,function(z,B){A+=(0,e.am)(z);y+=B;});v[w]=A / y;}});return v;};this.R$=function(v){var w;w={};v.forEach(function(x){w[x]={};});u.NY && ((0,c.jza)(v),u.n2.forEach(function(x){var y,A,z,B;y=u.NY[x];if(y){A=0;z=0;(0,e.Di)(y,function(F,G){A+=G;});B=Object.keys(y).map(Number);(0,c.jza)(B);for(var C=B.length - 1,D=B[C],E=v.length - 1;0 <= E;E--){for(var H=v[E];D >= H && 0 <= C;)((D=y[D]) && (z+=D),D=B[--C]);w[H][x]=(0,f.zt)(z / A * 100);}}}));return w;};this.WNc=function(v){!1 === v.oldValue && !0 === v.newValue && (u.j.tLb(),u.vLb.set(!1));};this.log=this.wa.wb("DFF",l);this.jZa=r().rjc;this.QBc=r().pjc;this.UEb=r().qjc;this.Pa.OOa={NQa:this.NQa,R$:this.R$};this.vLb=new k.wc(!1,this.WNc);l.state.addListener(this.ZXa);l.Zb.addListener(this.ZXa);l.addEventListener(g.ja.TL,this.ZXa);}Object.defineProperty(b,"__esModule",{value:!0});b.n8a=void 0;n=a(33096);c=a(52569);f=a(22365);g=a(85001);e=a(3887);h=a(5021);k=a(81734);d.prototype.rI=function(l){return l.lower && l.height > this.UEb?l.height >= this.atc():!1;};d.prototype.GKa=function(l,m){var p;p=this.Gta[l];p || (this.Gta[l]=p=[],l > this.UEb && (this.n2.push(l),(0,c.jza)(this.n2)));0 < m && !(this.mca && this.mca < l) && (this.mca=l);p.push(m);p.length > this.QBc && p.shift();};d.prototype.m6b=function(l,m){var p;p=this.NY[l];p || (this.NY[l]=p={});l=p[m];p[m]=l?l + 1:1;};d.prototype.atc=function(){var p,q;if(this.mca){for(var l=this.n2.length,m=0;m < l;m++){p=this.n2[m];if(p >= this.mca && p < this.hxa){q=this.Gta[p];if(q && this.nbc(this.jZa,q) && this.hxa != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.Pa.Ev.set({reason:"droppedFrames",height:p}),this.vLb.set(!0),this.hxa=p);}}this.mca=void 0;}return this.hxa;};d.prototype.nbc=function(l,m){var u,v;for(var p=l.length,q=m.length,r=0;r < p;r++){u=l[r];v=u[0];u=u[1];for(var w=0;w < q;w++)if(m[w] >= u && 0 >= --v)return !0;}return !1;};Ha.Object.defineProperties(d.prototype,{Foa:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.n8a=d;},25357:function(t,b,a){var n,c;function d(f,g,e,h,k){var l;l=this;this.j=f;this.Pa=g;this.wa=e;this.Na=h;this.qBb=k;this.o7b=function(m){!0 === m.oldValue && !1 === m.newValue && (l.log.error("RestartStreaming: UHD key is no longer usable"),l.j.tLb());};this.FVc=function(m){var p,q,r;l.log.trace("UhdKeyStatus: " + m.oldValue + " -> " + m.newValue);q=m.newValue;r=m.oldValue;"usable" !== q && (l.NPc(q,(null === (p=m.Xm) || void 0 === p?void 0:p.height) || 0),"usable" === r && (m=l.Na.Mg.ea(l.Dyc),l.log.error("UHD KeyStatus unexpectedly changed: " + m.oa(c.za))));};this.log=this.wa.wb("KeyStatusStreamFilter",this.j);this.Emb=new n.wc(k,this.o7b);this.EVc=new n.wc("status-pending",this.FVc);}Object.defineProperty(b,"__esModule",{value:!0});b.yab=void 0;n=a(81734);c=a(5021);d.prototype.rI=function(f){return f.yk && (this.yTc(),this.Emb.set(this.qBb),f.lower && 1080 < f.height && !this.Emb.value)?!0:!1;};d.prototype.EFb=function(f){var g;g=this;Object.entries(f).forEach(function(e){var h,k,l;h=Ea(e);e=h.next().value;h=h.next().value;e=null !== (l=null === (k=g.Cyc) || void 0 === k?void 0:k[e]) && void 0 !== l?l:0;1080 < e && (g.qBb="usable" === h,g.EVc.set(h,{height:e}));});};d.prototype.yTc=function(){var f,g;f=this;g=this.Pa.Rl;!this.Zxc && g && (this.Zxc=!0,this.Cyc=null === g || void 0 === g?void 0:g.XA,this.EFb(g.keyStatuses.value),g.keyStatuses.addListener(function(e){return f.EFb(e.newValue);}),this.Dyc=this.Na.Mg);};d.prototype.NPc=function(f,g){this.log.error("Restricting resolution due to keyStatus",{keyHeight:g,keyStatus:f});this.Pa.Ev.set({reason:"keyStatus",height:g});};Ha.Object.defineProperties(d.prototype,{Foa:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.yab=d;},2898:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});t=a(59032);d=a(29204);n=a(31276);c=a(25357);f=a(23563);(0,t.kia)(function(g,e){var h;if(d.config.Byc){h=n.Wa.get(f.kC);return new c.yab(g,e,n.uh,n.Na,h.IQb);}});},45706:function(t,b,a){var n,c;function d(f,g){var e,h;e=(0,c.ko)(f,"MSS");if(n.config.ECc)return {Foa:"mss",rI:function(k){var l,m;if(k.lower && 2160 <= k.height)a:{for(l=k;l.lower;){if(2160 > l.height && 1080 < l.height){l=!0;break a;}if(1080 >= l.height)break;l=l.lower;}l=!1;}else l=void 0;if(l){if(void 0 === h){try{m=Ba.MSMediaKeys;h=m && m.isTypeSupportedWithFeatures?"probably" === m.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(p){e.error("hasUltraHdDisplay exception");h=!0;}h || (e.warn("Restricting resolution due screen size",{MaxHeight:k.height}),g.Ev.set({reason:"microsoftScreenSize",height:k.height}));}return !h;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.V1c=d;t=a(59032);n=a(29204);c=a(31276);(0,t.kia)(d);},76563:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});t=a(59032);d=a(29204);n=a(31276);(0,t.kia)(function(c,f){var g,e,h,k;g={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(g,d.config.GVc);e=g[f.jf];if(d.config.HVc && e){h={};k=(0,n.ko)(c,"MediaStreamFilter");return {Foa:"uiLabel",rI:function(l){if(l.lower && l.height > e)return (h[l.height] || (h[l.height]=!0,k.warn("Restricting resolution due to uiLabel",{MaxHeight:e,streamHeight:l.height}),f.Ev.set({reason:"uiLabel",height:l.height})),!0);}};}});},24427:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.WWb=function(c){function f(g){c.fireEvent(d.ja.wQ,{response:g,R:c.ga.R});}return {download:function(g,e){g.j=c;g=n.De.download(g,e);g.gla(f);return g;}};};d=a(85001);n=a(61726);},61726:function(t,b,a){var e,h,k,l,m,p,q,r,u,v,w,x,y,A;function d(){this.sg=(0,p.gn)("Http");this.Dm=new e.rm();this.bP=0;this.stats={ssl:0,"non-ssl":0,invalid:0};this.bja={Da:1,P1b:2,e6a:3};this.addEventListener=this.Dm.addListener;this.removeEventListener=this.Dm.removeListener;}function n(z){var B,C,D,E;B=z.url.split("?");C="sc=" + z.ROc;D=z.C$b?"random=" + (1E17 * (0,u.jia)()).toFixed(0):"";E=B[0];E=B[1]?E + ("?" + B[1] + "&" + C):E + ("?" + C);E+=D?"&" + D:"";z.Tc && !(0,k.rBb)(E) && (z=h.config && h.config.Job) && (E=z.replace("{URL}",E).replace("{EURL}",encodeURIComponent(E)));return E;}function c(z,B){var C,D,E;C=z.url.split("?");D=f(z);E=C[0];D && (B.mE=D,(void 0 === z.fz?h.config.fz:z.fz) || z.Mw !== x.J5?(z.headers=z.headers || ({}),z.headers.Range="bytes=" + D):(B.mE=D,E="/" === E[E.length - 1]?E + "range/":E + "/range/",E+=D));D=z.C$b?"random=" + (1E17 * (0,u.jia)()).toFixed(0):"";h.config.GQ && z.OB && (D="sc=" + z.OB + (D?"&" + D:""));E=C[1]?E + ("?" + C[1] + (D?"&" + D:"")):E + (D?"?" + D:"");z.Tc && !(0,k.rBb)(E) && (z=h.config && h.config.Job) && (E=z.replace("{URL}",E).replace("{EURL}",encodeURIComponent(E)));B.url=E;}function f(z){var B;B=z.offset;if(void 0 !== B)return ((0,q.Y8)(B),void 0 !== z.length?(z=B + z.length - 1,(0,q.Y8)(z),B + "-" + z):B + "-");}function g(z,B,C,D){var E,H;E=D.RIb;H=D.headers;z.open(E?"POST":"GET",B,C);switch(D.responseType){case b.waa:z.responseType="arraybuffer";break;case b.nTa:(0,r.tac)(z,"overrideMimeType",void 0,"text/xml");}E && (B={"Content-Type":(0,w.Fi)(E)?"text/plain":"application/x-octet-stream"},H=H?(0,r.Jf)(B,H):B);H && (0,r.Di)(H,function(F,G){z.setRequestHeader(F,G);});D.withCredentials && (z.withCredentials=!0);E?z.send(E):z.send();}Object.defineProperty(b,"__esModule",{value:!0});b.waa=b.nTa=b.mTa=b.gvc=b.oTa=b.fvc=b.Bzb=b.sqa=b.De=void 0;b.$9c=c;b.Z9c=f;e=a(94886);h=a(29204);t=a(33096);k=a(52569);l=a(24066);m=a(36129);p=a(31276);q=a(45146);r=a(3887);u=a(22365);v=a(32219);w=a(32687);x=a(32934);y=a(57504);d.prototype.FRc=function(z){var B;B=new XMLHttpRequest();z=n(z);B.open("HEAD",z,!0);B.onreadystatechange=function(){2 === B.readyState && 200 <= B.status && 299 >= B.status && !1;};B.send();return function(){return B.abort();};};d.prototype.download=function(z,B){var L,K,M,P,I,O,Q,T,U,X,Y,W,Z,ba;function C(){var ca;if(!Q){Q=!0;ba && (Ba.clearTimeout(ba),ba=null);L.Dm.removeListener(b.oTa,H);L.BJa(Y,W);W && (W.onloadstart=null,W.onreadystatechange=null,W.onprogress=null,W.onerror=null,W.onload=null,W=W.onabort=null);Y.success || (Y.Ua != m.Y.qO?M.warn("Download failed",O,(0,m.fF)(Y)):M.trace("Download aborted",O));ca=T;T=null;null === ca || void 0 === ca?void 0:ca.reduceRight(function(da,ia){(0,v.Yh)(function(){return ia(Y);});},null);L.Dm.rd(b.Bzb,Y,!0);}}function D(){ba && (Ba.clearTimeout(ba),ba=null);ba=Ba.setTimeout(F,Z?I:P);}function E(ca,da,ia){var S,N;Y.success=!1;Y.Ua=ca;S=(0,l.Hx)();N=Y.Oq;N.fm=N.fm || S;N.Kw=N.Kw || S;da && 0 < da && (Y.zq=da,Y.Ng=da.toString());ia && (Y.ef=ia);ca !== m.Y.X4 && ca !== m.Y.rO && ca !== m.Y.b5 || !W || (W.onabort=null,G());C();}function H(){A() || E(m.Y.X4);}function F(){E(Z?m.Y.rO:m.Y.b5);}function G(){try{null === W || void 0 === W?void 0:W.abort();}catch(ca){}}function J(){E(m.Y.qO);}L=this;(0,q.va)(B);M=(null === (K=null === z || void 0 === z?void 0:z.j) || void 0 === K?0:K.log)?(0,p.ko)(z.j,"Http"):this.sg;P=z.Vma || h.config.Vma;I=z.dXa || h.config.dXa;O={Num:this.bP++};Q=!1;T=[B];U={};this.g5b(z);Y=new y.s$a(z,G,F,U,function(ca){Q || ((0,q.va)(T,"Callback should be added before download starts."),T && T.unshift(ca));});Z=!1;(0,v.Yh)(function(){var ca;if((0,w.QUa)(z.url))try{if((c(z,Y),X=Y.url,(0,q.Z8)(X),O.Url=X,A())){!1;W=new XMLHttpRequest();W.onreadystatechange=function(){2 === (null === W || void 0 === W?void 0:W.readyState) && (Z=!0,U.fm=(0,l.Hx)(),W.onreadystatechange=null,D(),!1,L.BJa(Y,W),Y.NS({timestamp:U.fm,connect:!0,mediaRequest:z,start:U.hI,rt:[U.fm - U.hI],responseHeaders:Y.headers,httpCode:Y.xk}));};W.onprogress=function(da){Z=!0;U.Wn=da.loaded;D();L.BJa(Y,W);da={mediaRequest:z,bytes:da.loaded,timestamp:(0,l.Hx)(),bytesLoaded:da.loaded,responseHeaders:Y.headers,httpCode:Y.xk};Y.NS(da);};W.onload=function(da){if(!Q && W){(0,q.va)(void 0 === U.Kw);U.Kw=(0,l.Hx)();U.fm=U.fm || U.Kw;U.Wn=da.loaded;if(200 <= W.status && 299 >= W.status){a:switch((da=W,Y.type)){case b.waa:da=da.response || new ArrayBuffer(0);break a;case b.nTa:da=da.responseXML;break a;default:da=da.responseText;}Y.parsed=!1;Y.content=da;Y.success=!0;}else 420 === W.status?E(m.Y.Z4,W.status):E(m.Y.Y4,W.status,W.response);C();}};W.onabort=J;W.onerror=function(){var da,ia;if(W){da=W.status;"undefined" !== typeof h.config.Hvb && (da=h.config.Hvb);if(0 < da){if(420 === da)E(m.Y.Z4,da);else {try{ia=W.responseText;}catch(S){}E(m.Y.Y4,da,ia);}}else E(m.Y.c5);}};ca=(0,l.Hx)();g(W,X,!0,z);L.Dm.rd(b.sqa,Y,!0);U.hI=ca;Y.H0({mediaRequest:z,timestamp:ca});D();L.Dm.addListener(b.oTa,H);}else (0,v.Yh)(E.bind(void 0,m.Y.X4));}catch(da){M.error("Exception starting download",da,O);E(m.Y.UBa,void 0,(0,r.jj)(da));}else E(m.Y.X9a);});return Y;};d.prototype.lKc=function(z){var B,C;B=new XMLHttpRequest();C=z.iKc;B.open("HEAD",z.url,!0);B.timeout=h.config.fva;B.onreadystatechange=function(){2 === B.readyState && (!1,C && C.z0(B.status));};B.ontimeout=B.onerror=function(){!1;C && C.sXa(B.status);};B.send();};d.prototype.g5b=function(z){var B;try{B=z.url;(0,w.QUa)(B)?0 === B.indexOf("https")?this.stats.ssl++:0 === B.indexOf("http")?this.stats["non-ssl"]++:this.stats.invalid++:this.stats.invalid++;}catch(C){}};d.prototype.BJa=function(z,B){var C;if((void 0 === z.xk || void 0 === z.headers) && B){z.xk=B.status;C={};B.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(D){var E;E=Ea(D.split(": "));D=E.next().value;E=sb(E).join(": ");D && (C[D.toLowerCase()]=E);});z.headers=C;}};A=t.Lfb;b.De=new d();b.sqa=1;b.Bzb=2;b.fvc=3;b.oTa=4;b.gvc=5;b.mTa=b.De.bja.Da;b.nTa=b.De.bja.P1b;b.waa=b.De.bja.e6a;Ba._cad_global.http=b.De;},57504:function(t,b,a){var n;function d(c,f,g,e,h){this.gla=this.NS=this.H0=n.lJ;this.request=c;this.type=c.responseType;this.Oq=e;this.abort=f;this.timeout=g;this.gla=h;}Object.defineProperty(b,"__esModule",{value:!0});b.s$a=void 0;n=a(33096);d.prototype.pQc=function(c){this.H0=c;};d.prototype.BQc=function(c){this.NS=c;};b.s$a=d;},31276:function(t,b,a){var d,n,c,f,g,e,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.Wa=b.Qeb=b.n$=b.ko=b.gn=b.log=b.uh=b.Pnb=b.hG=b.OC=b.Kd=b.u9b=b.BLa=b.s9b=b.t9b=b.Ml=b.e3=b.cga=b.Aj=b.Cd=b.Na=void 0;b.MZ=function(){return d.md.get(n.zV);};d=a(83989);t=a(87386);n=a(56800);c=a(84408);f=a(6405);g=a(2248);e=a(32687);h=a(79274);k=a(30869);a=a(53085);b.Na=d.md.get(k.Li);b.Cd=d.md.get(a.Dl);b.Aj=d.md.get(c.AF);b.cga=b.Aj.encode.bind(b.Aj);b.e3=b.Aj.decode.bind(b.Aj);b.Ml=d.md.get(f.YN);b.t9b=b.Ml.encode.bind(b.Ml);b.s9b=b.Ml.decode.bind(b.Ml);b.BLa=b.Ml.Voa.bind(b.Ml);b.u9b=b.Ml.XPb.bind(b.Ml);b.Kd=d.md.get(g.om);b.OC=function(l){l=(0,e.Fi)(l)?(0,b.e3)(l):l;return b.Kd.encode(l);};b.hG=b.Kd.decode.bind(b.Kd);b.Pnb=function(l){return (0,b.cga)((0,b.hG)(l));};b.uh=d.md.get(t.zb);b.log=b.uh.wb("General");b.gn=function(l,m){return b.uh.wb(l,void 0,m);};b.ko=function(l,m,p){return b.uh.wb(m,l,p);};b.n$=function(l,m,p,q){return b.uh.wb(l,void 0,q,m,p);};b.Qeb=function(l,m,p){return d.md.get(h.P5)(l,m,p).Gfa();};b.Wa=d.md;},93114:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v;Object.defineProperty(b,"__esModule",{value:!0});d=a(82956);n=a(33096);c=a(29204);f=a(13044);g=a(24066);t=a(36129);e=a(31276);h=a(77134);k=a(22365);l=a(32219);m=a(32687);p=a(45118);q=a(31850);a=a(11479);v=e.Wa.get(a.fk);v.register(t.da.C$a,function(w){var y;function x(){var A,z,B;A=v.startTime;z={browserua:k.cW,browserhref:k.ria.href,initstart:A,initdelay:v.endTime - A};(A=k.Ni.documentMode) && (z.browserdm="" + A);(0,m.C_)(c.config.Hub) && (z.fesn=c.config.Hub);Object.assign(z,(0,d.gyb)());B=k.qC && k.qC.timing;B && c.config.LAc.map(function(C){var D;D=B[C];D && (z["pt_" + C]=D - (0,g.icc)());});A=y.frc();Object.entries(A).forEach(function(C){var D;D=Ea(C);C=D.next().value;D=D.next().value;return z["m_" + C]=D;});A=u.Xt("startup","info",z,f.Az.eQa);r.Vc(A);}u=e.Wa.get(q.jF);r=e.Wa.get(p.Xp);y=e.Wa.get(h.AW);v.yba(function(){r.Ob();(0,l.Yh)(x);});w(n.Ph);});},86258:function(t,b,a){var d,n,c,f,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.R_b=function(h){var m,p,q,r;function k(){p || (h.ih("pdsb"),p=c.Wa.get(f.O5)().then(function(u){r=u;h.ih("pdsc");return u;}).catch(function(u){m.error("Unable to initialize the playdata services",u);h.ih("pdse");throw u;}));return p;}function l(){q=!0;r && r.close();n.ye.removeListener(n.hn,l);}m=(0,c.ko)(h,"PlayDataManager");q=!1;h.ih("pdctor");h.addEventListener(g.ja.rh,function(){n.ye.removeListener(n.hn,l);});h.addEventListener(g.ja.rh,function(){var u;if(!q){h.aYc();u=[(function(){return k().then(function(v){return v.cfa(h.ga);}).then(function(){m.info("Sent the playdata");}).catch(function(v){m.error("Unable to send the playdata",v);});})(),(function(){return new Promise(function(v){c.Wa.get(e.Xp).flush(!1).catch(function(){m.error("Unable to send logblob");v(void 0);}).then(function(){v(void 0);});});})()];Promise.all(u).then(function(){h.uta();}).catch(function(){h.uta();});}});n.ye.addListener(n.hn,l);return {};};d=a(33096);n=a(37509);c=a(31276);t=a(36129);f=a(96687);g=a(85001);e=a(45118);a=a(11479);c.Wa.get(a.fk).register(t.da.cJ,function(h){h(d.Ph);});},8129:function(t,b,a){var n,c,f,g,e;function d(h){this.Mr=h;}Object.defineProperty(b,"__esModule",{value:!0});b.p$a=void 0;n=a(48795);c=a(45146);f=a(31276);g=a(32687);e=a(3887);d.prototype.Y$=function(h,k){var l,m,p;l=this.Mr;m=l.fM.De || m;h=(0,g.hba)(h.body)?(0,f.cga)(h.body):h.body;(0,c.Z8)(h,"Msl should not be sending empty request");l={url:l.url,RIb:h,withCredentials:!0,BK:"nq-" + l.method,headers:l.headers};h=this.Mr.timeout;l.Vma=h;l.dXa=h;p=m.download(l,function(q){try{if(q.success)k.result({body:q.content,headers:q.headers});else throw (0,e.Jf)(new n.default("HTTP error, SubCode: " + q.Ua + (q.zq?", HttpCode: " + q.zq:"")),{cadmiumResponse:q});}catch(r){k.error(r);}});return {abort:function(){p.abort();}};};b.p$a=d;},41292:function(t,b,a){var n,c,f,g,e,h,k,l,m;function d(p,q,r,u,v){this.log=p;this.sDc=q;this.fM=r;this.Hs=u;this.Y=v;this.NNb=[];}Object.defineProperty(b,"__esModule",{value:!0});n=a(51411);c=a(1966);f=a(36114);g=a(14348);e=a(42979);h=a(14945);k=a(70390);l=a(94971);m=a(5988);d.prototype.Z5b=function(p){this.NNb.push(p);};d.prototype.send=function(p){var q;q=this;return new Promise(function(r,u){var v,w,x;v=p.timeout;w=new m.default.nZb(q.log,q.fM,p,q.Hs.oR());x=new l.sib(p.url);q.log.trace("Sending MSL request");q.sDc.request(q.fM,w,x,v,{result:function(y){var A;q.log.trace("Received MSL response",{Method:p.method});if(y){p.allowTokenRefresh && q.Bua();A=y.input.PZ();A?(q.uPa(A,p.profileGuid || p.userId),u({error:A})):q.mLc(y,v,{result:function(z){r({headers:y.input.G$(),body:new g.Eja().xe(z)});},timeout:function(){u({subCode:this.Y.Fbb});},error:function(z){u({headers:y.input.G$(),error:z});}});}else u({success:!1,error:new c.default(f.default.nC,"Null response stream"),description:"Null response stream"});},timeout:function(){u({success:!1,subCode:this.Y.Gbb});},error:function(y){u({success:!1,error:y});}});});};d.prototype.uPa=function(p,q){p.errorCode === n.default.P.pg || p.errorCode === n.default.P.li?(this.Hs.Xbc(),this.Bua()):p.errorCode !== n.default.P.Oe && p.errorCode !== n.default.P.jd || this.Lda(q);};d.prototype.FSa=function(){return this.Hs.FSa();};d.prototype.Lda=function(p){if(p=this.Hs.Ux(p))(this.Hs.Lda(p),this.Bua());};d.prototype.cxc=function(p){return p && p.errorCode == n.default.P.jd;};d.prototype.bxc=function(p){return p instanceof k.l4;};d.prototype.D$=function(p){return p && p.errorCode;};d.prototype.Vsc=function(p){var q,r;q=this.Hs.pD();p=this.Hs.Ux(p);r=q?this.Hs.wA(q):null;return {bc:q,kg:p,cp:r};};d.prototype.mLc=function(p,q,r){var u;u=[];(function w(){p.input.read(-1,q,{result:function(x){(0,e.default)(r,function(){if(x)(u.push(x),w());else switch(u.length){case 0:return new Uint8Array(0);case 1:return u[0];default:return h.default.concat(u);}},null);},timeout:function(){r.timeout();},error:function(x){r.error(x);}});})();};d.prototype.Bua=function(){var p;p=this;this.Hs.$sc({result:function(q){for(var r=p.NNb.slice(),u=0;u < r.length;u++)r[u]({$Sc:q});},timeout:function(){p.log.error("Timeout getting store state","");},error:function(q){p.log.error("Error getting store state","" + q);}});};d.prototype.bL=function(p){var q;q=this.Hs.pD();(p=this.Hs.Ux(p)) && !p.Dh(q) && (p=null);return this.Hs.bL(q,p);};d.prototype.IKb=function(){var p;p=this.Hs.pD();this.Hs.bL(p,null).find(function(q){return "cad" === q.name;}) && (this.Hs.Eva("cad",p,null),this.Bua());};b["default"]=d;},5988:function(t,b,a){var c,f,g,e,h,k;function d(l,m){this.sg=l;this.Mr=m;}function n(l,m,p,q){this.sg=l;this.V3b=m;this.Mr=p;this.AJ=q;}Object.defineProperty(b,"__esModule",{value:!0});c=a(23710);f=a(48795);g=a(49123);e=a(14348);h=a(42979);k=a(61693);n.prototype.fSa=function(){return null;};n.prototype.cra=function(){return !1;};n.prototype.lpa=function(){return {};};n.prototype.Saa=function(){return !!this.Mr.encrypted;};n.prototype.su=function(){return !!this.Mr.nonReplayable;};n.prototype.dba=function(){return !0;};n.prototype.CA=function(){return this.Mr.profileGuid || this.Mr.userId || null;};n.prototype.Ypa=function(l,m,p,q){var r;r=this.Mr;(0,h.default)(q,function(){return l || !r.shouldSendUserAuthData?null:r.email?new c.bBa(r.email,r.password):r.useNetflixUserAuthData || p && r.sendUserAuthIfRequired?new g.jEa():null;},null);};n.prototype.oR=function(l){l.result(this.Mr.allowTokenRefresh?[this.AJ]:[]);};n.prototype.E3a=function(l,m,p){var q,r,u,v,w;q=this.sg;r=(this.Mr.serviceTokens || []).slice();u=this.V3b;m=u.Gm;v=l.hb.pD();w=m.Ux(this.CA());(function y(){var A;A=r.shift();if(A)try{A instanceof k.Ogb?(l.fmb(A),y()):(0,k.qua)(u,A,v,w,null,{result:function(z){try{l.fmb(z);}catch(B){q.warn("Exception adding service token","" + B);}y();},error:function(z){q.warn("Error parsing service token","" + z);y();}});}catch(z){q.warn("Exception processing service token","" + z);y();}else p.result(!0);})();};n.prototype.write=function(l,m,p){var q;q=new e.Eja().wd(this.Mr.body);l.write(q,0,q.length,m,{result:function(r){r != q.length?p.error(new f.default("Not all data was written to output.")):l.flush(m,{result:function(){p.result(!0);},timeout:function(){p.timeout();},error:function(u){p.error(u);}});},timeout:function(){p.timeout();},error:function(r){p.error(r);}});};n.prototype.opa=function(){this.Ajb || (this.Ajb=new d(this.sg,this.Mr));return this.Ajb;};d.prototype.APc=function(l){this.sg.trace("Sent MSL header",this.iu(this.Mr,l),("serviceTokens" in l) && l.dN.map(this.qBc).join("\n"));};d.prototype.HLc=function(l){var m,p;m=this.iu(this.Mr,l);p=l.errorCode;p?this.sg.warn("Received MSL error header",m,{errorCode:p,errorMessage:null === l || void 0 === l?void 0:l.errorMessage,internalCode:null === l || void 0 === l?void 0:l.Kaa}):this.sg.trace("Received MSL header",m);};d.prototype.iu=function(l,m){var p,q;p=null === m || void 0 === m?void 0:m.bc;q=null === m || void 0 === m?void 0:m.kg;m=null === m || void 0 === m?void 0:m.dN;return {NccpMethod:l.method,UserId:l.userId,UT:q && q.Pf,MT:p && p.Pf + ":" + p.bk,STCount:m && m.length};};d.prototype.qBc=function(l){return l.ji();};b["default"]={nZb:n,w2c:d};},49614:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v;function d(w,x,y,A,z,B){var C,D,E;C=l.aEa.call(this) || this;D=new k.scb([r.VI.HCa],null,null);E=new g.hgb();E.t6b(x,y);A[e.eF.oW]=new f.ggb(null,E);x={};x[u.Lja.RAa]=new n.P8a();x[v.yia.fEa]=new c.Ncb();y=new q.S7a();E=new p.h7a();C.Kka=E;C.FF=D;C.Dg=y;C.fP=z;C.O2b=A;C.i5b=x;C.w3b=B;C.Gm=w;return C;}Object.defineProperty(b,"__esModule",{value:!0});n=a(25606);c=a(79925);f=a(18089);g=a(88774);e=a(36332);h=a(75948);k=a(68480);l=a(38470);m=a(31809);p=a(48603);q=a(30370);r=a(51411);u=a(91331);v=a(32256);Ia(d,l.aEa);d.prototype.getTime=function(){return Date.now();};d.prototype.byb=function(){return new m.Pfb();};d.prototype.spa=function(w){w.result(this.fP);};d.prototype.bqc=function(w){return e.default.$$(w);};d.prototype.tpa=function(w){return this.O2b[w];};d.prototype.Etc=function(w){return u.default.$$(w);};d.prototype.Fyb=function(w){return this.i5b[w];};d.prototype.axb=function(w){return h.default.$$(w);};d.prototype.wRa=function(w){return this.w3b.filter(function(x){return x.scheme == w;})[0];};b["default"]=d;},74810:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y;function d(A,z,B,C,D,E){var H;H=p.vW.call(this) || this;H.sg=A;H.Ijb=z;H.AJ=B;H.v2b=C;H.glb=D;H.YW=E;return H;}Object.defineProperty(b,"__esModule",{value:!0});n=a(50441);c=a(1966);f=a(36114);g=a(44127);e=a(42979);h=a(96837);k=a(10558);l=a(43088);m=a(9E3);p=a(25137);q=a(58892);r=a(85065);u=a(61693);v=a(72672);w=a(60426);x={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Ia(d,p.vW);d.prototype.Gea=function(A,z,B){var C;C=this;C.sg.trace("Adding MasterToken",{SequenceNumber:A.bk,SerialNumber:A.Pf,Expiration:A.vk().getTime()});p.vW.prototype.Gea.call(this,A,z);!B && (A=C.v2b) && (C.sg.trace("Generating new keyx request data"),A().then(function(D){D=Ea(D);C.AJ=D.next().value;C.VIa=D.next().value;},function(D){C.sg.error("Unable to generate new keyx request data","" + D);}));};d.prototype.qla=function(A,z){this.sg.trace("Adding UserIdToken",{UserId:A,SerialNumber:z.Pf,MTSerialNumber:z.Wj,Expiration:z.vk().getTime()});p.vW.prototype.qla.call(this,A,z);};d.prototype.nla=function(A){p.vW.prototype.nla.call(this,A.filter(function(z){return !x[z.name];}));};d.prototype.FSa=function(){var A,z;A=[];for(z in this.gz)A.push(z);return A;};d.prototype.oR=function(){return this.AJ;};d.prototype.$sc=function(A){var z;z=this;(0,e.default)(A,function(){var B;B=z.pD();B?z.Oqc(B,{result:function(C){(0,e.default)(A,function(){var D,E;D=z.gz;E=Object.keys(D).map(function(H){var F;F=D[H];return {userId:H,userIdTokenJSON:z.toJSON(D[H]),serviceTokenJSONList:z.bL(B,F).map(z.toJSON)};});C.esn=z.Ijb;C.masterTokenJSON=z.toJSON(B);C.userList=E;z.VIa && Object.keys(z.VIa).forEach(function(H){C[H]=z.VIa[H];});return C;},null);},timeout:A.timeout,error:A.error}):A.result(null);},null);};d.prototype.Oqc=function(A,z){var B;B=this;(0,e.default)(z,function(){var C;C=B.wA(A);if(!(C instanceof v.jHa))throw new c.default(f.default.nC,"CryptoContext was not a SymmetricCryptoContext");C={encryptionKey:C.Pv,hmacKey:C.tI};if(C.encryptionKey && C.hmacKey){if(B.YW)B.xYc(C,z);else return C;}else throw new c.default(f.default.nC,"Unable to get CryptoContext keys");},null);};d.prototype.toJSON=function(A){return {tokendata:(0,g.zi)(A.jr),signature:(0,g.zi)(A.Kk)};};d.prototype.vyb=function(A,z){y?z.result(y):Promise.resolve().then(function(){return n.Tg.generateKey({name:A},!1,["wrapKey","unwrapKey"]);}).then(function(B){y=B;z.result(y);}).catch(function(){z.error(new c.default(f.default.nC,"Unable to get system key"));});};d.prototype.xYc=function(A,z){var B;B=this;this.vyb(this.glb,{result:function(C){(0,e.default)(z,function(){var D,E,H,F;D=A.encryptionKey;E=A.hmacKey;H=D.$netflix$msl$wrapsys;F=E.$netflix$msl$wrapsys;if(H && F)return {yYc:H,zYc:F};Promise.resolve().then(function(){return Promise.all([n.Tg.wrapKey(B.YW,D,C,C.algorithm),n.Tg.wrapKey(B.YW,E,C,C.algorithm)]);}).then(function(G){H=(0,g.zi)(G[0],!0);D.$netflix$msl$wrapsys=H;F=(0,g.zi)(G[1],!0);E.$netflix$msl$wrapsys=F;z.result({yYc:H,zYc:F});}).catch(function(G){z.error(new c.default(f.default.nC,"Error wrapping key with SYSTEM key",G));});},null);},timeout:z.timeout,error:z.error});};d.prototype.YVc=function(A,z){var B;B=this;this.vyb(this.glb,{result:function(C){(0,e.default)(z,function(){var D,E;D=(0,g.pk)(A.wrappedEncryptionKey,!0);E=(0,g.pk)(A.wrappedHmacKey,!0);Promise.resolve().then(function(){return Promise.all([n.Tg.unwrapKey(B.YW,D,C,C.algorithm,h.Pe.RN,!1,k.CF.xha),n.Tg.unwrapKey(B.YW,E,C,C.algorithm,h.Pe.LV,!1,k.CF.sW)]);}).then(function(H){var F;F=H[0];H=H[1];F.$netflix$msl$wrapsys=A.wrappedEncryptionKey;H.$netflix$msl$wrapsys=A.wrappedHmacKey;z.result({encryptionKey:F,hmacKey:H});}).catch(function(H){z.error(new c.default(f.default.nC,"Error wrapping key with SYSTEM key",H));});},null);},timeout:z.timeout,error:z.error});};d.prototype.wAc=function(A,z,B,C){var H,F;function D(G,J){var L;try{L=B.userList.slice();}catch(K){}L?(function M(){var P,I;P=L.shift();I={};if(P){for(var O in P.userIdTokenJSON)I[O]=(0,g.pk)(P.userIdTokenJSON[O]);I=new m.cj(I);(0,r.EYa)(z,I,G,{result:function(Q){try{H.qla(P.userId,Q);E(G,Q,P.serviceTokenJSONList,{result:M,timeout:M,error:M});}catch(T){M();}},error:function(){M();}});}else J.result();})():J.result();}function E(G,J,L,K){var M,P;try{M=L.slice();}catch(I){}if(M){P=H.wA(G);(function O(){var Q,T;Q=M.shift();T={};if(Q){for(var U in Q)T[U]=(0,g.pk)(Q[U]);Q=new m.cj(T);T=z.Dg.Cp(Q.get("tokendata")).xe("name");U={};U[T]=P;(0,u.qua)(z,Q,G,J,U,{result:function(X){H.nla([X]);O();},error:function(){O();}});}else K.result();})();}else K.result();}H=this;F=H.sg;B.esn != H.Ijb?(F.error("Esn mismatch, starting fresh"),C.error()):(function(G){var K,M,P,I,O;function J(){!K && M && P && I && (K=!0,new w.KGa(P,{result:function(T){new w.KGa(I,{result:function(U){U=new l.b6(z,M,A.esn,T,U);H.Gea(M,U,!0);G.result(M);},error:G.error});},error:G.error}));}function L(T,U){F.error(T,U && "" + U);K || (K=!0,G.error(new c.default(f.default.nC,T)));}O={};if(B.masterTokenJSON){for(var Q in B.masterTokenJSON)O[Q]=(0,g.pk)(B.masterTokenJSON[Q]);O=new m.cj(O);(0,q.nua)(z,O,{result:function(T){M=T;J();},error:function(T){L("Error parsing MasterToken",T);}});H.YW?H.YVc(B,{result:function(T){P=T.encryptionKey;I=T.hmacKey;J();},timeout:function(){L("Timeout unwrapping keys");},error:function(T){L("Error unwrapping keys",T);}}):Promise.resolve().then(function(){return n.Tg.encrypt({name:h.Pe.RN.name,iv:new Uint8Array(16)},B.encryptionKey,new Uint8Array(1));}).then(function(){P=B.encryptionKey;}).catch(function(){L("Error loading encryptionKey");}).then(function(){return n.Tg.sign(h.Pe.LV,B.hmacKey,new Uint8Array(1));}).then(function(){I=B.hmacKey;J();}).catch(function(){L("Error loading hmacKey");});}else L("Persisted store is corrupt");})({result:function(G){D(G,C);},timeout:C.timeout,error:C.error});};b["default"]=d;},24354:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.mdc=function(c){return (0,n.ndc)(c,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},d.Zu.rCa);};d=a(93562);n=a(43124);},43124:function(t,b,a){var d,n,c,f,g,e,h,k,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.ndc=function(p,q,r){var w;function u(){return Promise.resolve().then(function(){return c.Tg.generateKey(q,!1,["wrapKey","unwrapKey"]);}).then(function(x){return v(x.publicKey,x.privateKey);});}function v(x,y){return Promise.all([new Promise(function(A,z){new g.Via(x,{result:A,error:function(B){z(new l.default(m.default.nC,"Unable to create keyx public key",B));}});}),new Promise(function(A,z){new e.Afb(y,{result:A,error:function(B){z(new l.default(m.default.nC,"Unable to create keyx private key",B));}});})]).then(function(A){return [new d.gja("rsaKeypairId",r,A[0],A[1]),w?{keyxPublicKey:x,keyxPrivateKey:y}:null];});}w=!p.systemKeyWrapFormat;return Promise.resolve().then(function(){var x,y;x=p.storeState;y=x && x.keyxPublicKey;x=x && x.keyxPrivateKey;return w && y && x?v(y,x):u();}).then(function(x){var y,A,z;x=x[0];y={};y[n.eF.NONE]=new h.qib(new f.qEa());A=new k.FHa(p.esn);z=[new d.S5a(new f.qEa())];return {Alc:y,zlc:A,Ayc:z,DD:x,Mfc:w?u:void 0};});};d=a(93562);n=a(36332);c=a(50441);f=a(18461);g=a(42486);e=a(36911);h=a(28296);k=a(2479);l=a(1966);m=a(36114);},65799:function(t,b,a){var c,f,g,e,h,k,l,m,p,q,r,u,v,w;function d(){return k.lia.apply(this,arguments) || this;}function n(){return h.kEa.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.VWb=void 0;b.cgc=function(x,y){var A,z,B,C,D;A=x.log;z=x.notifyMilestone || (function(){});Promise.resolve().then(function(){var E;if(!(f.Xn && f.Xn.generateKey && f.Xn.importKey && f.Xn.unwrapKey))throw new r.default(q.default.nC,"No WebCrypto");E=f.Xn.generateKey({name:"AES-CBC",length:128},!0,p.CF.xha);(0,g.q1a)("function" === typeof E.then?g.Vb.Jr:g.Vb.yt);z("mslisik");return g.Tg.importKey("spki",x.serverIdentityKeyData,m.Pe.S5,!1,["verify"]);}).then(function(E){return new Promise(function(H,F){new l.Via(E,{result:H,error:function(){F(new r.default(q.default.MXb,"Unable to create server identity verification key"));}});});}).then(function(E){B=E;z("mslcc");return (0,c.mdc)(x);}).then(function(E){var H;C=new w.default(A,x.esn,E.DD,E.Mfc,x.authenticationKeyNames.s,x.systemKeyWrapFormat);D=new u.default(C,x.serverIdentityId,B,E.Alc,E.zlc,E.Ayc);H=x.storeState;if(H)return (z("mslss"),A.info("Loading store state"),new Promise(function(F){C.wAc(x,D,H,{result:F,timeout:F,error:F});}));A.info("No store state, starting fresh");}).then(function(){var E;E=new e.zcb(void 0,new n());z("msldone");y.result(new v.default(A,E,D,C,x.ErrorSubCodes));}).catch(function(E){y.error(E);});};c=a(24354);f=a(22365);g=a(50441);e=a(84898);h=a(61368);k=a(34801);l=a(42486);m=a(96837);p=a(10558);q=a(36114);r=a(1966);u=a(49614);v=a(41292);w=a(74810);Ia(n,h.kEa);n.prototype.ANa=function(x,y,A,z,B,C){new d(x,y,A,z,B,C);};Ia(d,k.lia);d.prototype.G$=function(){return "function" === typeof this.Ht.G$?this.Ht.G$() || ({}):{};};b.VWb=d;},46493:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);n=a(62807);c=a(80824);f=a(50040);g=a(1481);e=a(29204);h=a(33096);k=a(36129);l=a(45146);m=a(31276);p=a(77134);q=a(63156);r=a(17892);u=a(3887);v=a(22365);w=a(52569);x=a(45842);y=a(5021);t=a(11479);A=a(50681);z=a(59219);B=a(32934);C=a(71501);D=a(65799);E=a(8129);H={};F=m.Wa.get(t.fk);F.register(k.da.E$a,function(G){var M,P,I,O,Q,T,U,X,Y,W,Z;function J(ba){var ca;ba && ba.userList && e.config.lRc && (ba.userList=[]);ca=new n.Tib();c.dEa.Ue(ca);ba={esn:g.ip.ij,esnPrefix:g.ip.bu,authenticationKeyNames:e.config.c9b,systemKeyWrapFormat:e.config.eUc,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:W,storeState:ba,notifyMilestone:F.ih.bind(F),log:I,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:k.Y.Gbb,MSL_READ_TIMEOUT:k.Y.Fbb}};(0,D.cgc)(ba,{result:function(da){L(da);},timeout:function(){G({Ua:k.Y.Ebb});},error:function(da){G(K(k.Y.Ebb,void 0,da));}});}function L(ba){var da,ia,S;function ca(){Y && m.Wa.get(r.QI).create().then(function(N){return N.save(T,S,!1);}).catch(function(N){I.error("Error persisting msl store",(0,k.fF)(N));});}da=this;ia=m.Wa.get(x.uJ)((0,y.ic)(100));Q && ba.Z5b(function(N){S=N.$Sc;ia.ig(ca);});(0,u.Jf)(H,{g$c:function(){X=!0;},send:function(N){function V(){var aa,fa;aa=N.fM;fa={method:N.method,nonReplayable:N.fXa,encrypted:N.Ox,userId:N.W3a,body:N.body,timeout:2 * N.timeout,url:new E.p$a(N),allowTokenRefresh:Y,sendUserAuthIfRequired:Z,shouldSendUserAuthData:e.config.uRc};aa.email?(fa.email=aa.email,fa.password=aa.password || ""):X && (fa.useNetflixUserAuthData=!0);return fa;}return new Promise(function(aa,fa){var ha;ha=V();ba.send(ha).then(function(ka){X && (X=!1);aa({body:ka.body,headers:ka.headers});}).catch(function(ka){ka.error?fa(K(ka.error.cadmiumResponse && ka.error.cadmiumResponse.Ua?ka.error.cadmiumResponse.Ua:ba.cxc(ka.error)?k.Y.Dbb:ba.bxc(ka.error)?k.Y.DYb:k.Y.CYb,ba.D$(ka.error),ka.error)):(I.error("Unknown MSL error",ka),ka.subCode=ka.subCode,fa({Ua:ka.subCode?ka.subCode:k.Y.IYb}));});});},BS:ba});z.vJ.NP.mslFetch=function(N,V){return d.__awaiter(da,void 0,void 0,function fa(){var ha,ka,pa;return Ua(fa,function(oa){if(1 == oa.Js)return (ha=m.Wa.get(C.NO),cb(oa,H.send({fM:{De:m.Wa.get(B.qz),profile:ha},timeout:8E3,url:N.toString(),body:null === V || void 0 === V?void 0:V.body,headers:{"Content-Encoding":"msl_v1","Content-Type":"application/json"},W3a:ha,RKb:!1,fXa:!0,Ox:!0}),2));ka=oa.hV;pa={get body() {this.bodyUsed=!0;return ka.body;}};return oa.return((pa.bodyUsed=!1,pa.ok=!0,pa.status=200,pa.statusText="OK",pa.type="basic",pa.url=N.toString(),pa.headers=new Headers(ka.headers),pa.text=function(){return Promise.resolve(this.body);},pa.json=function(){return Promise.resolve(JSON.parse(this.body));},pa.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},pa.clone=function(){return Object.assign({},this);},pa.blob=function(){return this.arrayBuffer().then(function(la){return new Blob([la]);});},pa.formData=function(){throw Error("Not implemented");},pa.redirected=!1,pa));});});};z.vJ.NP.sendSecure=function(N){var V;V=m.Wa.get(C.NO);return H.send({fM:{De:m.Wa.get(B.qz),profile:V},timeout:N.timeout || 8E3,url:N.url,body:N.body,headers:Object.assign(Object.assign({},N.headers),{"Content-Encoding":"msl_v1","Content-Type":"application/json"}),W3a:V,RKb:!1,fXa:!0,Ox:!0}).then(function(aa){return {ok:!0,status:200,code:200,statusText:"OK",headers:new Headers(aa.headers),body:aa.body};}).catch(function(aa){var fa,ha,ka;fa=aa.zq;ha=aa.statusText;ka=Object.assign(Object.assign({},aa.error),{content:aa.Klc});aa=new Headers(aa.headers);return {ok:!1,status:fa,code:fa,statusText:ha,headers:aa,body:JSON.stringify(ka)};});};G(h.Ph);m.Wa.get(A.cEa).xDc(H);}function K(ba,ca,da){var ia,S,N,V;N={Ua:ba,noa:ca};if(da){V=function(aa){var fa;aa=aa || "" + da;if(da.stack){fa="" + da.stack;aa=0 <= fa.indexOf(aa)?fa:aa + fa;}return aa;};if(S=da.cadmiumResponse){if(ia=S.Ng && S.Ng.toString())S.Ng=ia;S.Ua=ba;S.noa=ca;S.Klc=S.ef;S.ef=V(da.message);S.error={subCode:ba,extCode:ia,NH:ca,data:da.cause,message:da.message};return S;}V=V(da.errorMessage);ia=(0,u.am)(da.Kaa) || (0,u.am)(da.error && da.error.Kaa);S=void 0 !== da.N9?(0,w.oGb)(da.N9):void 0;}V && (N.ef=V);ia && (N.Ng=ia);N.error={subCode:ba,extCode:ia.toString(),NH:ca,data:S,message:V};return N;}(0,l.va)(e.config);if(v.jJ && v.Xn && v.Xn.unwrapKey){M=m.Wa.get(p.AW);P=q.Yu.Pn;I=(0,m.gn)("Msl");O=e.config.tDc;Q=e.config.vDc;T=e.config.KG?"mslstoretest":"mslstore";U=f.sU.PMb;X=!0;Y=!U || U.success;W=(0,m.hG)(e.config.KG?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");Z=!!e.config.F0a;m.Wa.get(r.QI).create().then(function(ba){O?ba.remove(T).then(function(){J();}).catch(function(ca){I.error("Unable to delete MSL store",(0,k.fF)(ca));J();}):Q?ba.load(T).then(function(ca){M.mark(P.FYb);J(ca.value);}).catch(function(ca){ca.Ua == k.Y.vF?(M.mark(P.HYb),J()):(I.error("Error loading msl store",(0,k.fF)(ca)),M.mark(P.GYb),ba.remove(T).then(function(){J();}).catch(function(da){G(da);}));}):J();}).catch(function(ba){I.error("Error creating app storage while loading msl store",(0,k.fF)(ba));G(ba);});}else G({Ua:k.Y.EYb});});},78719:function(t,b,a){var d,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});b.wWb=function(e,h){function k(m){var p,q;p=m.error || m;q=(0,c.jj)(p);h.error("uncaught exception",p,q);(p=(p=p && p.stack) && d.config.QQb && d.config.OVc?0 <= p.indexOf(d.config.QQb):void 0) && (m && m.stopImmediatePropagation && m.stopImmediatePropagation(),e.wg(f.da.hib));}function l(){n.ye.removeListener(n.aqa,k);e.removeEventListener(g.ja.rh,l);e.removeEventListener(g.ja.tB,l);}try{n.ye.addListener(n.aqa,k);e.addEventListener(g.ja.rh,l);d.config.Dvc && e.addEventListener(g.ja.tB,l);}catch(m){h.error("exception in exception handler ",m);}};d=a(29204);n=a(37509);c=a(3887);f=a(36129);g=a(85001);},42654:function(t,b,a){var d,n,c,f,g,e,h,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.GXb=function(m){var q,r,u,v;function p(){m.state.value !== h.Gc.Cf || m.Zb.value !== h.Nb.Oi && m.Zb.value !== h.Nb.ex?r.er():r.MK();}q=d.config.VHc;if(!m.A_() && q){r=k.Wa.get(l.j6)(q,function(){m.fireEvent(h.ja.i_,c.da.Eia);});m.Zb.addListener(p);m.state.addListener(p);if(d.config.ETa){u=(0,n.Hx)();v=new f.Qfb(d.config.ETa,function(){var w,x;w=(0,n.Hx)();x=w - u;x > q && (m.fireEvent(h.ja.i_,c.da.Rha),v.Bpb());x > 2 * d.config.ETa && (m.FTa=(0,g.uz)(x,m.FTa || 0));u=w;});v.NQc();}m.addEventListener(h.ja.rh,function(){r.er();(0,e.$c)(v) && v.Bpb();});}};d=a(29204);n=a(24066);c=a(36129);f=a(981);g=a(22365);e=a(32687);h=a(85001);k=a(31276);l=a(4246);},33059:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x;function d(y,A){this.j=y;this.tl=A;this.XTc=!1;this.log=(0,f.ko)(this.j,"MediaAppendManager");this.ac=this.j.ac;this.Ha=this.ac.Ha;this.oga=this.U7=!1;this.audio={type:c.Nn.audio,Jx:[],zp:[],c1:!1};this.video={type:c.Nn.video,Jx:[],zp:[],c1:!1};y={};this.NU=(y[v.u.U]=this.video,y[v.u.X]=this.audio,y);this.closed=!1;this.EH=n.config.EH;this.Ksa=n.config.Ksa;this.nM=this.j.qb.Pg?n.config.hYa:n.config.nM;this.Jnb=!0;this.Kd=f.Wa.get("Base64EncoderSymbol");this.cQa=!1;(0,e.va)(this.EH > this.Ksa,"bad config");(0,e.va)(this.EH > this.nM,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.Ubb=void 0;n=a(29204);c=a(51344);f=a(31276);g=a(36129);e=a(45146);h=a(3887);k=a(33096);l=a(85001);m=a(93294);p=a(5021);q=a(63156);r=a(75568);u=a(69931);v=a(26388);w=a(79048);x=a(22210);d.prototype.JZ=function(){var z,B;function y(C,D){return A(C,D.aM);}function A(C,D){var E,H,F,G;F=!!D.response;G=D.response;if(D.gf)return C + (G.byteLength || 0);D=(null !== (E=null === D || void 0 === D?void 0:D.sma) && void 0 !== E?E:0) - (null !== (H=null === D || void 0 === D?void 0:D.tma) && void 0 !== H?H:0);return (F?G.byteLength:D) + C;}z=this.NU[v.u.U];B=this.NU[v.u.X];return {videoToAppend:z.zp.reduce(A,0),videoInBuffer:z.Jx.reduce(y,0),audioToAppend:B.zp.reduce(A,0),audioInBuffer:B.Jx.reduce(y,0)};};d.prototype.KZ=function(){return {audioBufferedSegments:this.audio.Jx.map(function(y){return [y.aM.GM,y.aM.jE];}),videoBufferedSegments:this.video.Jx.map(function(y){return [y.aM.GM,y.aM.jE];})};};d.prototype.DEc=function(){this.audio.Qd && !this.audio.Qd.Oj() && (!1,this.audio.Qd.Rmb(new Uint8Array([0,0,0,8,102,114,101,101])));};d.prototype.DQc=function(){this.audio.u1a=!0;this.video.u1a=!0;};d.prototype.IQc=function(y){y === v.u.X?this.U7=!0:y === v.u.U && (this.oga=!0);};d.prototype.Oj=function(){var y,A;return !(null === (y=this.audio.Qd) || void 0 === y || !y.Oj()) || !(null === (A=this.video.Qd) || void 0 === A || !A.Oj());};d.prototype.Eea=function(y){var A,z;null === (A=this.audio.Qd) || void 0 === A?void 0:A.Eea(y);null === (z=this.video.Qd) || void 0 === z?void 0:z.Eea(y);};d.prototype.C7b=function(y){var A;y.mediaType === v.u.X?this.U7=!1:y.mediaType === v.u.U && (this.oga=!1);A=this.NU[y.mediaType];A?A.zp.push(y):(0,e.va)(!1);};d.prototype.B7b=function(y,A,z){A=this.lob(y.mediaType,A,z);this.cQa || y.mediaType !== v.u.U || (this.FJc(y,z.profile),this.cQa=!0);this.Smb(A);};d.prototype.Smb=function(y){var A;A=this.NU[y.mediaType];A?A.zp.push(y):(0,e.va)(!1);};d.prototype.lob=function(y,A,z){return {mediaType:y,SA:!1,response:A,Ei:function(){return "header";},get gf() {return !this.SA;},profile:z.profile};};d.prototype.FJc=function(y,A){(0,e.va)(!!y.uOb,"startOfSegment properties need to be set before first header is appended");this.cQa || !n.config.Dvb || !this.j.eqa() && !this.j.aw() || y.uOb.NAb || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),y=this.Zpc(A),this.Smb(this.lob(v.u.U,y.data,{profile:y.profile})));};d.prototype.Zpc=function(y){var A;A=y;x.te.zl.test(y)?y=k.b6a:x.te.Al.test(y)?y=k.d6a:x.te.MBa.test(y)?y=k.c6a:(A=r.H.pO,y=k.a6a);return {data:this.Kd.decode(y),profile:A};};d.prototype.HQc=function(y){var A;A=this.NU[y.type];if(A)try{A.Qd=y;}catch(z){this.wg(g.da.HEa,{Ua:(0,m.eRa)(y.type),ef:(0,h.jj)(z)});}};d.prototype.close=function(){this.Ha=this.ac=void 0;this.closed=!0;};d.prototype.wg=function(y,A,z){this.closed || this.j.wg(y,A,z);};d.prototype.dOa=function(y){return this.Tsb(this.audio,y,this.pna()) && this.Tsb(this.video,y,this.pna());};d.prototype.pna=function(){return this.j.Zb.value === l.Nb.ph?this.nM:this.Ksa;};d.prototype.RUc=function(){var y,A;y=this.video.zp.filter(function(z){return !z.gf;}).reduce(function(z,B){return z + B.ah;},0);A=this.audio.zp.filter(function(z){return !z.gf;}).reduce(function(z,B){return z + B.ah;},0);return Math.min(y,A);};d.prototype.Tsb=function(y,A,z){var B;B=y.eOa;B=B && B.aM;return !y.Qd || 0 === y.zp.length && (y.type === c.Nn.audio && this.U7 || y.type === c.Nn.video && this.oga)?!0:B && B.jE - A >= z || !1;};d.prototype.BQb=function(y){this.XTc || (this.AQb(this.audio,y),this.AQb(this.video,y));this.closed || this.Zob();};d.prototype.Zob=function(){var y,A,z,B,C,D;B=!this.audio.Qd || 0 !== this.audio.Jx.length;C=0 === this.video.zp.length && this.oga;D=!this.video.Qd || 0 !== this.video.Jx.length;!(0 === this.audio.zp.length && this.U7 && D || C && B) || (null === (y=this.audio.Qd) || void 0 === y?0:y.Oj()) || (null === (A=this.video.Qd) || void 0 === A?0:A.Oj()) || this.lPa || !(this.Ha.readyState > q.Yu.bJ.HAVE_NOTHING) || this.tl.bba || (this.lPa=!0,null === (z=this.ac) || void 0 === z?void 0:z.endOfStream());};d.prototype.AQb=function(y,A){var z,B,C,D;if(!this.closed && y.Qd){B=y.Qd;C=y.Jx;!B.Oj() && 0 < C.length && (y.eOa=C[C.length - 1]);if(y.u1a){if(B.Oj())return;y.u1a=!1;D=null === (z=this.ac) || void 0 === z?void 0:z.JRa().rZa(p.za);D && 0 < D && B.remove(0,D / k.yr);}for(z=y.zp[0];z && z.response && (z.gf || z.GM - A <= this.EH);)if((this.lPa=!1,this.CVc(z)))(y.zp.shift(),z=y.zp[0]);else break;!B.Oj() && 0 < C.length && (y.eOa=C[C.length - 1]);}};d.prototype.CVc=function(y){var A,z,B;!1;(0,e.va)(y && !!y.response);A=y.response;z=y.mediaType;B=this.NU[z];if(!this.closed && B.Qd && !B.Qd.Oj()){try{y.gf && y.profile && B.Qd.Xac(y.profile);this.log.trace("Feeding media segment to decoder",{Bytes:A.byteLength});B.Qd.Rmb(A,y);y.gf || B.Jx.push(this.qfc(y));}catch(C){"QuotaExceededError" === C.name?(this.j.rna=this.j.rna?this.j.rna + 1:1,this.Jnb=!1,B.c1=!0):(this.log.error("Exception while appending media",y,C),this.wg("CodecSwitchingError" === C.name?g.da.Kdb:g.da.B_b,(0,m.eRa)(z)));return;}return !0;}};d.prototype.hfc=function(y){var A;if(u.bHa[y.Ra])return u.bHa[y.Ra];A=this.j.Yyb(y.dd);A || (this.log.warn("Could not find CDN",{cdnId:y.dd}),A={id:y.dd,iS:y.location});return A;};d.prototype.JNa=function(y){var A,z;A=y.Ra;if(u.cHa[A])return u.cHa[A];y.mediaType === v.u.X?z=this.j.Uyb(A):y.mediaType === v.u.U && (z=this.j.nzb(A));z || this.log.error("Could not find stream",{stream:A});return z;};d.prototype.qfc=function(y){var A,z,B,C;z=this.JNa(y);B={startTime:Math.floor(y.GM),endTime:Math.floor(y.jE),ldc:Math.floor(y.Ol),mqb:Math.floor(y.Ol + y.ah)};C=null === z || void 0 === z?void 0:z.track.Ep;"content" === C && (null === (A=this.j.bb) || void 0 === A?0:A.Wh) && (A=this.j.bb.Wh.ba[y.L],A.type === w.pd.Rc || A.type === w.pd.Sa) && (C="ads");return {aM:y,stream:z,aY:B,Tc:this.hfc(y),Ep:C};};d.prototype.vMa=function(y){this.fpb(y,v.u.X);this.fpb(y,v.u.U);};d.prototype.fpb=function(y,A){var z,B,C,D,E,H,F,G,J;z=this;C=y;this.Jnb && (C-=n.config.GH);D=this.NU[A];E=D.Jx;G=!1;E.some(function(L,K){var M;M=L.aM;if(y < M.GM - 50)return ((0,e.va)(!1,"decoder content does not contain media time"),!0);C >= M.jE && (H=K);if(y < M.jE)return (F=K,K=A === v.u.X?z.j.Ye:z.j.ze,L !== K.value && (K.set(L),G=!0),!0);});if((D.c1 || G) && void 0 !== H && !this.lPa){if(H + 1 === F){if(0 === H)return;H--;}J=H === E.length - 1?null === (B=this.ac) || void 0 === B?void 0:B.JRa().rZa(p.za):E[H].aM.jE - 1;!1;J && 0 < J && ((B=D.Qd) && !B.Oj()?(B.remove(0,J / k.yr),D.c1=!1,E.splice(0,H + 1)):(D.c1=!0,!1));}};d.prototype.hLb=function(){!1;[this.audio,this.video].forEach(function(y){y.Jx=[];y.eOa=void 0;y.zp=[];});this.oga=this.U7=!1;this.j.fireEvent(l.ja.dca);};d.prototype.ESa=function(){return [this.audio,this.video].filter(function(y){return y.Qd;});};d.prototype.gpc=function(){var y,A;if(this.Oj())(0,e.va)(!1,"should not be busy while checking buffer ranges");else {y=this.ESa().map(function(z){var B,C,D,E,H;E=z.zp.filter(function(F){return F.SA;});H=z.Qd.buffered();z=H.length?Math.ceil(1E3 * H.start(0)):void 0;H=H.length?Math.floor(1E3 * H.end(H.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (B=E[0]) || void 0 === B?void 0:B.GM;B=null !== (D=null === (C=E[E.length - 1]) || void 0 === C?void 0:C.jE) && void 0 !== D?D:H;if(void 0 !== z && void 0 !== B)return {start:z,end:B};});if(y.every(function(z){return z;})){A=Math.max.apply(Math,za(y.map(function(z){return z.start;})));y=Math.min.apply(Math,za(y.map(function(z){return z.end;})));if(y > A)return {start:(0,p.ic)(A),end:(0,p.ic)(y)};}}};d.prototype.skip=function(y){(0,e.va)(!this.Oj(),"should not be busy while skipping");this.ESa().forEach(function(A){A.c1=!0;});this.vMa(y);this.ESa().forEach(function(A){0 < A.Jx.length || (A.zp=A.zp.filter(function(z){return z.gf || z.jE > y?!0:!1;}));});};b.Ubb=d;},90762:function(t,b,a){var c,f,g,e,h,k,l,m,p,q,r,u;function d(v){v=Error.call(this,v);this.message=v.message;("stack" in v) && (this.stack=v.stack);this.name="CodecSwitchingError";}function n(v,w,x,y){var A,z;A=this;this.j=v;this.type=w;this.log=y;this.uka=new g.wc(!1);this.cP={data:void 0,state:"",operation:""};this.error=void 0;this.mimeType=this.rub((this.type === u.u.U?this.j.ka.Mh:this.j.ka.je).streams);this.Dm=new e.rm();this.$Ia={Type:this.type};if(f.config.K_){z=!0;this.bQa=new g.wc(!1);}this.log.trace("Adding source buffer",this.$Ia,{TypeId:this.mimeType});this.Hl=x.addSourceBuffer(this.mimeType);this.Hl.addEventListener("updatestart",function(){!1;A.cP.state="updatestart";});this.Hl.addEventListener("update",function(){!1;A.cP.state="update";});this.Hl.addEventListener("updateend",function(){var B;!1;A.uka.set(!1);A.pjb && A.pjb();A.cP.state="updateend";B=0;try{B=A.Hl.buffered.length;}catch(C){}z && B && (z=!1,A.bQa.set(!0),!1);});this.Hl.addEventListener("error",function(B){var C;!1;try{C=B.target.error && B.target.error.message;(B.message || C) && y.error("error event received on sourcebuffer",{mediaErrorMessage:B.message});}catch(D){}B={Ua:(0,c.eRa)(A.type),ef:A.npa()};v.wg(k.da.C_b,B);});this.Hl.addEventListener("abort",function(){!1;});v.addEventListener(p.ja.closed,function(){A.Hl=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.ZUb=b.IDa=void 0;c=a(93294);f=a(29204);g=a(81734);e=a(94886);h=a(31276);a(24550);k=a(36129);a(5021);l=a(45146);m=a(32687);p=a(85001);q=a(95162);r=a(48220);u=a(26388);n.prototype.Oj=function(){return this.uka.value;};n.prototype.updating=function(){return this.Hl?this.Hl.updating:!1;};n.prototype.Eea=function(v){this.pjb=v;};n.prototype.npa=function(){return this.cP;};n.prototype.buffered=function(){return this.Hl.buffered;};n.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};n.prototype.toJSON=function(){return {type:this.type};};n.prototype.SQa=function(){var v,y,A;try{v=this.Hl.buffered;if(v){for(var w=[],x=0;x < v.length;x++){y=1E3 * v.start(x);A=1E3 * v.end(x);(0,l.va)(A > y);w.push({start:y,end:A});}return w;}}catch(z){}};n.prototype.gpa=function(){var v,w;v=this.SQa();if(v){v=v.map(function(x){return {start:x.start / 1E3,end:x.end / 1E3};});w=v.reduce(function(x,y){return x + y.end - y.start;},0);v=v.map(function(x){return x.start + "-" + x.end;});return {Buffered:w.toFixed(3),Ranges:v.join("|")};}};n.prototype.Rmb=function(v,w){var x;!1;try{(0,l.va)(this.Hl.buffered && 1 >= this.Hl.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.gpa()));}catch(y){}(0,l.va)(!this.Oj());x=w && w.yda / 1E3;(0,m.pc)(x) && this.Hl.timestampOffset !== x && (!1,this.Lwa("timestampOffset",x),this.Hl.timestampOffset=x);this.Lwa((null === w || void 0 === w?0:w.gf)?"headerappend":"mediaappend");this.Hl.appendBuffer(v);!1;this.uka.set(!0);};n.prototype.remove=function(v,w){(0,l.va)(!this.Oj());try{this.Lwa("remove");!1;this.Hl.remove(v,w);this.uka.set(!0);}catch(x){this.log.error("SourceBuffer remove exception",x,this.$Ia);}};n.prototype.Lwa=function(v,w){this.cP.data=w;this.cP.state="init";this.cP.operation=v;};n.prototype.vNb=function(v,w){this.Xyc=v / w * 1E3;};n.prototype.Xac=function(v){var w;if(this.Hl){if((v=this.rub([{type:this.kdc,Uc:v}]),v !== this.mimeType)){w=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + v);if(!this.Hl.changeType)throw new d("Platform doesnt support changing SourceBuffer mime-type");try{this.Lwa("changeType",v);this.Hl.changeType(v);this.mimeType=v;}catch(x){throw (this.log.error("Error changing SourceBuffer type",x,this.$Ia,{From:w,To:v}),new d(x.message));}}}else this.log.info("No SourceBuffer");};n.prototype.appendBuffer=function(v,w){!w || w.gf?this.wX(v,w):this.$Ka(v,w);return !0;};n.prototype.wX=function(v,w){this.j.Xd.wX(this,v,w || ({}));};n.prototype.$Ka=function(v,w){v=this.ddc(v,w);!1;this.j.Xd.$Ka(v);};n.prototype.ddc=function(v,w){var x;x=this.Xyc || 0;return {Ei:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:r.ue.ae.DONE,GM:w.Hb,jE:w.Hb + w.duration,ah:w.duration,yda:x,Ol:w.Ol,L:w.L,Ra:w.Ra,dd:+w.dd,location:w.location,tma:w.offset,sma:w.offset + w.ma - 1,bitrate:w.bitrate,response:v,Euc:v && 0 < v.byteLength,SA:!0,get gf() {return !this.SA;},kMb:this.z6 - Math.floor(x) || Infinity,toJSON:function(){var y;y={requestId:this.requestId,segmentId:this.L,isHeader:this.gf,ptsStart:this.GM,ptsOffset:this.yda,responseType:this.d5c,duration:this.ah,readystate:this.tg};this.stream && (y.bitrate=this.stream.bitrate);return JSON.stringify(y);}};};n.prototype.endOfStream=function(){var v;this.j.IP("EndOfStream");null === (v=this.j.Xd) || void 0 === v?void 0:v.vta(this.mediaType);return !0;};n.prototype.tOb=function(v){this.W4b=v;};n.prototype.addEventListener=function(v,w,x){this.Dm.addListener(v,w,x);};n.prototype.removeEventListener=function(v,w){this.Dm.removeListener(v,w);};n.prototype.rub=function(v){var w;w=h.Wa.get(q.YGa);return this.type === u.u.U?w.orb(v):w.Cqb(v);};Ha.Object.defineProperties(n.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},uOb:{configurable:!0,enumerable:!0,get:function(){return this.W4b;}},kdc:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.IDa=n;Ia(d,Error);b.ZUb=d;},73056:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L,K;function d(M,P,I){var O;O=this;this.j=M;this.dAb=P;this.ZGc=void 0 === I?!1:I;this.ac=this.j.ac;this.log=(0,k.ko)(this.j,"MediaPresenterASE");this.cta=this.qna=0;this.Ha=this.ac.Ha;this.iSb=new K.Bib(this.j,this.log.iQ("VideoFreezeMonitor"));this.qM=new J.Aib(this.Ha,this.j);this.tIb=this.eIb=this.lra=this.XYa=!1;this.Lra=new Set();this.cUc=k.Wa.get(z.uJ)((0,A.ic)(x.DGa));this.zX=void 0;this.tl=k.Wa.get(C.Dgb)(this.j);this.ME={};this.tEb={};this.haa={};this.tn={};this.EY={};this.u_a={};this.Gh=new E.Ubb(this.j,this.tl);this.PQb=0;this.cBb=!1;this.aUc=function(){var Q,T,U;O.j.ofa=(0,h.Hx)();if(!O.kn() && O.pL){Q=O.ac.hyb();Q || (O.dIc(),O.Gh.BQb(O.mediaTime));O.j.paused.value || !O.Gh.dOa(O.mediaTime) || !O.SLa() || Q || O.tl.bba?O.c0a():O.XYa || O.d0a();O.cIc();if(!(O.ac.hyb() || O.lra || O.cBb)){Q=O.ac.xA(!0);T=O.j.Zb.value;U=O.Occ();T !== U && !1;U === v.Nb.ex?(O.mediaTime=O.j.Ps.oa(A.za),O.c0a()):U !== v.Nb.ph && O.zWc(Q);O.rRb();O.Gh.vMa(O.mediaTime);O.j.Zb.set(U);U !== v.Nb.ph || T !== v.Nb.rg && T !== v.Nb.Oi || O.TXa();}}};this.Fo=(0,D.LKc)(this.aUc);this.mediaTime=this.dAb;this.j.Hj=!1;this.ac.addEventListener(y.Qk.hOb,function(){if(O.jOb){O.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{O.Ob();}catch(Q){O.log.error("Exception while initializing",Q);O.wg(l.da.o_b);}}});this.ac.addEventListener(y.Qk.HCb,function(Q){Q=Q.J;O.jOb?O.HGb(Q):O.Lra.add(Q);});}Object.defineProperty(b,"__esModule",{value:!0});b.NDa=void 0;n=a(33096);c=a(29204);f=a(13044);g=a(37509);e=a(52569);h=a(24066);k=a(31276);a(24550);l=a(36129);m=a(91591);p=a(45146);q=a(8825);r=a(3887);u=a(32219);v=a(85001);w=a(32687);x=a(93294);y=a(16520);A=a(5021);z=a(45842);B=a(4246);C=a(65106);D=a(97368);E=a(33059);H=a(91562);F=a(22365);G=a(26388);J=a(49587);L=a(63156);K=a(42087);d.prototype.WKc=function(M){var P,I,O;I=Math.ceil(M.eAb);O=Math.ceil(null !== (P=M.lUc) && void 0 !== P?P:M.eAb);this.tl.b1 || (P={oldMediaTime:this.mediaTime,newMediaTime:O,contentPts:M.Ol},Object.assign(P,this.j.D_a.uSa()),this.log.error("ptsChanged without pendingPtsChanged",P),this.tl.b1={dE:!1,LS:this.mediaTime,ES:O,Ol:M.Ol,Fc:v.Mc.bv,skip:!1,Ye:this.j.Ye.value,ze:this.j.ze.value,R:this.j.R});P=this.tl.b1;this.tl.b1=void 0;this.tl.Zca=!0;I=P.dE?O:I;!1;this.XFb(P,I,M.Ol);};d.prototype.Iwb=function(){return this.ac.xA(!1);};d.prototype.ppa=function(){return this.ac.ppa();};d.prototype.yA=function(){return this.ac.yA();};d.prototype.lR=function(){return this.ac.lR();};d.prototype.z$=function(){return this.ac.z$();};d.prototype.Ob=function(){var M,P;M=this;this.log.trace("Video element initializing");this.ac.sourceBuffers.forEach(function(I){return M.Gh.HQc(I);});this.j.RR?this.log.trace("Waiting for encrypted"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.R}),null === (P=this.j.bb) || void 0 === P?void 0:P.t9(this.j.R));0 < this.Lra.size && setTimeout(function(){M.log.trace("Notifying about licenses that were added before source buffers created");Array.from(M.Lra).forEach(function(I){M.Lra.delete(I);M.HGb(I);});},0);this.log.trace("Waiting for loadedmetadata");(0,e.B6b)(this.Ha,"loadedmetadata",function(){M.log.trace("Video element event: loadedmetadata");M.j.ih("md");});g.ye.addListener(g.hn,this.haa[g.hn]=function(){return M.close();},n.gW);this.j.addEventListener(v.ja.rh,this.tn[v.ja.rh]=function(){return M.close();},n.gW);this.j.addEventListener(v.ja.fea,this.tn[v.ja.fea]=function(){return M.close();});this.j.addEventListener(v.ja.kea,this.tn[v.ja.kea]=function(){return M.d0a();});this.j.paused.addListener(this.tn.paused=function(){return M.Fo();});this.j.muted.addListener(this.tn.muted=function(){return M.G3a();});this.j.volume.addListener(this.tn.volume=function(){return M.G3a();});this.j.playbackRate.addListener(this.tn.playbackRate=function(){return M.Y2();});this.j.Pt.addListener(this.tn.avBufferingState=function(){return M.Fo();});this.j.Gn.addListener(this.tn.textBufferingState=function(){return M.Fo();});this.G3a();this.Y2();this.Gh.Eea(function(){return M.Asa();});this.Asa();this.vVc();};d.prototype.HGb=function(M){var P;this.j.ih("ld",M);null === (P=this.j.bb) || void 0 === P?void 0:P.t9(M);this.j.fireEvent(v.ja.wVa);};d.prototype.$Ka=function(M){var P;P=this;!1;this.Gh.C7b(M);this.Wac(M).then(function(){P.Asa();P.j.fireEvent(v.ja.dca);}).catch(function(I){P.wg(l.da.t_b,{ef:(0,r.jj)(I)});});};d.prototype.wX=function(M,P,I){P=this.Cjc(M,P);this.Gh.B7b(M,P,I);this.Asa();this.eIb || M.type !== G.u.U || (this.tl.bba || this.seek(this.dAb,v.Mc.No),this.eIb=!0);};d.prototype.vVc=function(){var M;M=this;this.ac.addEventListener(y.Qk.sea,this.ME[y.Qk.sea]=function(){return M.jGc();});this.ac.addEventListener(y.Qk.$t,this.ME[y.Qk.$t]=function(){return M.Nta();});this.Ha.addEventListener("ended",this.ME.ended=function(){return M.CFc();});this.Ha.addEventListener("play",this.ME.play=function(){return M.QXa();});this.Ha.addEventListener("pause",this.ME.pause=function(){return M.PXa();});this.Ha.addEventListener("playing",this.ME.playing=function(){return M.I0();});this.pL=!0;this.Gh.BQb(this.mediaTime);this.log.trace("Video element initialization complete");this.j.ih("vi");c.config.osb?setTimeout(function(){M.wXa=!0;M.Fo();},c.config.osb):this.wXa=!0;this.wSc();this.j.Dc.Ba && this.ySc();(0,u.Yh)(function(){return M.Fo();});};d.prototype.wSc=function(){var I;function M(){var O;I.j.Zb.value !== v.Nb.rg || 0 !== (null === (O=I.j.Xd) || void 0 === O?void 0:O.ppa()) || F.Ni.hidden?(I.eXa.er(),O="stopTimer"):(I.eXa.MK(),O="ensureTimer");I.log.trace("No render timer update: " + O,{presentingState:v.Nb[I.j.Zb.value],hidden:F.Ni.hidden});}function P(O){var Q,T;O=void 0 === O?!0:O;Q=I.j.bb;T=(null === Q || void 0 === Q?void 0:Q.lk) && Q.czb() || I.ZGc;I.j.Zb.value == v.Nb.ph && I.j.state.value == v.Gc.Cf && I.j.Pt.value == v.mh.Cf && I.j.Gn.value == v.mh.Cf && !I.j.Hj && T?(O && I.a9.er(),I.a9.MK(),Q="ensureTimer"):(I.a9.er(),Q="stopTimer");I.log.trace("Timer update: " + Q,{presentingState:v.Nb[I.j.Zb.value],playbackState:v.Gc[I.j.state.value],avBufferingState:v.mh[I.j.Pt.value],textBufferingState:v.mh[I.j.Gn.value],autoplayWasBlocked:I.j.Hj,hasLicense:T,restartTimer:O});}I=this;c.config.Zrb && ((0,p.va)(!this.a9),this.a9=k.Wa.get(B.j6)(c.config.Zrb,function(){var O;O=k.Wa.get(m.AAa).Csb(I.j);I.wg(O.code,O);}),this.tSc(P));c.config.MFb && (this.eXa=k.Wa.get(B.j6)(c.config.MFb,function(){var O;0 === (null === (O=I.j.Xd) || void 0 === O?void 0:O.yA()) && (O=k.Wa.get(m.AAa).Csb(I.j),I.wg(O.code,O));I.KOb();}),this.uSc(M));};d.prototype.tSc=function(M){var O;function P(Q,T,U){U=void 0 === U?function(){return M();}:U;O.EY[T]=U;Q.addEventListener(T,U);}function I(Q,T,U){U=void 0 === U?function(){return M();}:U;O.EY[T]=U;Q.addListener(U);}O=this;I(this.j.Pt,"avBufferingState");I(this.j.Zb,"presentingState");I(this.j.Gn,"textBufferingState");I(this.j.state,"state");P(this.j,v.ja.cma);P(this.j,v.ja.Hj);P(this.j,v.ja.wVa);P(this.j,v.ja.Mva,function(){return M(!0);});M();};d.prototype.SSc=function(){var I,O;function M(Q,T){var U;U=I.EY[T];U && (Q.removeEventListener(T,U),delete I.EY[T]);}function P(Q,T){var U;U=I.EY[T];U && (Q.removeListener(U),delete I.EY[T]);}I=this;P(this.j.Pt,"avBufferingState");P(this.j.Zb,"presentingState");P(this.j.Gn,"textBufferingState");P(this.j.state,"state");M(this.j,v.ja.cma);M(this.j,v.ja.Hj);M(this.j,v.ja.wVa);M(this.j,v.ja.Mva);null === (O=this.a9) || void 0 === O?void 0:O.er();};d.prototype.uSc=function(M){this.j.Zb.addListener(this.u_a.presentingState=M);g.ye.addListener(g.us,this.haa[g.us]=M);M();};d.prototype.KOb=function(){var M;this.u_a.presentingState && this.j.Zb.removeListener(this.u_a.presentingState);g.ye.removeListener(g.us,this.haa[g.us]);null === (M=this.eXa) || void 0 === M?void 0:M.er();};d.prototype.ySc=function(){var O;function M(){var Q,T,U,X,Y;U=I();if(U){X=U.YZa;U=U.mediaType;Y=null !== (T=null === (Q=O.Ha) || void 0 === Q?void 0:Q.readyState) && void 0 !== T?T:L.Yu.bJ.HAVE_NOTHING;T=Y < L.Yu.bJ.HAVE_FUTURE_DATA;Q=P(X,O.mediaTime);T && Q?(O.Xoa.MK(),T="ensureTimer"):(O.Xoa.er(),T="stopTimer");O.log.trace("Gaps Monitor Timer update: " + T,{mediaType:U,mediaTime:O.mediaTime,bufferedRanges:JSON.stringify(X),nextRange:JSON.stringify(Q),readyState:Y});}else O.Xoa.er();}function P(Q,T){return Q.find(function(U,X){if(Math.abs(T - U.end) < Math.abs(T - U.start))return !1;U=U.end - U.start;return X !== Q.length - 1 && 1E4 > U?!1:!0;});}function I(){var Q,T,U;U=O.ac.sourceBuffers.find(function(X){return X.mediaType === G.u.U;});U=null !== (Q=null === U || void 0 === U?void 0:U.SQa()) && void 0 !== Q?Q:[];Q=O.ac.sourceBuffers.find(function(X){return X.mediaType === G.u.X;});Q=c.config.hDc?null !== (T=null === Q || void 0 === Q?void 0:Q.SQa()) && void 0 !== T?T:[]:[];if(1 < U.length)return {YZa:U,mediaType:"video"};if(1 < Q.length)return {YZa:Q,mediaType:"audio"};}O=this;c.config.Vvb && ((0,p.va)(!this.Xoa),this.Xoa=k.Wa.get(B.j6)(c.config.Vvb,function(){var Q,T;Q=I();if(Q){Q=Q.YZa;T=P(Q,O.mediaTime);T && (O.log.error("Detected media gaps: seeking over gap",{seekPoint:T.start,ranges:JSON.stringify(Q)}),O.ac.JNc(),O.seek(T.start,v.Mc.hia));}}),this.j.mediaTime.addListener(M),this.j.ac.addEventListener(y.Qk.aKb,M),this.j.addEventListener(v.ja.dca,M),M());};d.prototype.Cjc=function(M,P){var I;I=this.j.Rl;(I=null === I || void 0 === I?void 0:I.NZ()) && M.type === G.u.U && ((M=new H.l5(this.log,{mediaType:G.u.U,url:"http://some-url"},P).na(I))?P=M:!1);return P;};d.prototype.Asa=function(){this.pL && this.Fo();this.Gh.Zob();};d.prototype.KSc=function(){!1;this.j.Zb.set(v.Nb.ph);this.lra=!0;this.Fo();};d.prototype.Jcc=function(){var M;M=this;this.lra && (!1,this.lra=!1,(0,u.Yh)(function(){return M.seek(M.j.$K() || 0,v.Mc.i6);}));};d.prototype.ASc=function(){!1;this.cBb=!0;this.j.Zb.set(v.Nb.ph);this.Fo();};d.prototype.JZ=function(){return this.Gh.JZ();};d.prototype.KZ=function(){return this.Gh.KZ();};d.prototype.vta=function(M){var P;P=this;this.Gh.IQc(M);(0,u.Yh)(function(){return P.Fo();});};d.prototype.Dqc=function(){return {qna:this.qna,cta:this.cta};};d.prototype.Wac=function(M){var P;P=this.ac && this.ac.JRa();(0,p.va)(this.j.Ps,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.Ps && P && (M=Infinity !== M.kMb && 0 < M.yda?M.kMb + M.yda:M.jE,M > this.j.Ps.rZa(A.za) && (!1,this.j.Ps=(0,A.ic)(M)));return Promise.resolve();};d.prototype.cIc=function(){var M;M=this;this.tl.Zca && (!1,this.SLa() && this.Gh.dOa(this.mediaTime) && (this.ac.seek(this.mediaTime),this.tl.Zca=!1,(0,u.Yh)(function(){return M.Fo();})));};d.prototype.zWc=function(M){var P,I;P=this;if(M < this.mediaTime){if(this.mediaTime - M > x.Mfb && (c.config.dIb || c.config.SVa)){this.PQb++;I={Trace:this.ac.gb.e_(),ElementTime:(0,q.ik)(M),MediaTime:(0,q.ik)(this.mediaTime)};c.config.dIb?this.wg(l.da.D_b,{ef:I}):c.config.SVa && (this.ac.gb.trace("unexpected-rewind"),Ba.setTimeout(function(){P.log.error("UnexpectedRewind",I);},c.config.SVa));}}else this.mediaTime=(0,q.qF)(M,0,this.j.Ps.oa(A.za));};d.prototype.SLa=function(){return this.j.Pt.value === v.mh.Cf && this.j.Gn.value === v.mh.Cf;};d.prototype.Occ=function(){var M,P,I;M=this;P=this.j.Zb.value;I=P;this.tl.bba?I=v.Nb.ph:this.Ha && this.Ha.ended?P === v.Nb.rg && (I=v.Nb.ex):this.SLa() && this.Gh.dOa(this.mediaTime)?this.ac.Bic()?I=this.qM.paused?v.Nb.Oi:v.Nb.rg:this.cUc.ig(function(){return M.bUc();}):I=this.j.Ps?this.j.$yb(this.mediaTime,this.Gh.pna())?v.Nb.ph:v.Nb.ex:v.Nb.ph;return I;};d.prototype.TXa=function(){var M;if(this.j.Zb.value === v.Nb.ph){M=this.Gh.RUc() > this.Gh.pna();this.j.Gn.value !== v.mh.Cf?this.j.Xk.value?(this.j.fireEvent(v.ja.lG,{Fc:f.Beb}),this.log.warn("rebuffer due to timed text",this.j.Xk.value.Ki)):this.j.fireEvent(v.ja.L2):M?(this.qna++,this.j.fireEvent(v.ja.lG,{Fc:f.vFa})):(this.cta++,this.j.fireEvent(v.ja.lG,{Fc:f.wFa}));}};d.prototype.bUc=function(){this.kn() || (c.config.EEc && this.Gh.DEc(),this.Fo());};d.prototype.jGc=function(){this.Fo();};d.prototype.Nta=function(){this.Fo();this.j.fireEvent(v.ja.$t);};d.prototype.CFc=function(){this.log.trace("Video element event: ended");this.Fo();};d.prototype.QXa=function(){this.log.trace("Video element event: play");this.Fo();};d.prototype.PXa=function(){this.log.trace("Video element event: pause");this.qM.PXa();this.Fo();};d.prototype.I0=function(){this.log.trace("Video element event: playing");this.qM.QXa();this.Fo();c.config.iDc && this.j.aw() && this.iSb.xSc();};d.prototype.G3a=function(){this.kn() || (this.Ha && this.Ha.volume !== this.j.volume.value && (this.Ha.volume=this.j.volume.value),this.Ha && this.Ha.muted !== this.j.muted.value && (this.Ha.muted=this.j.muted.value));};d.prototype.Y2=function(){!this.kn() && this.Ha && (this.Ha.playbackRate=this.j.playbackRate.value);};d.prototype.d0a=function(){var M;M=this;!this.kn() && (0,w.$c)(this.Ha) && !this.Ha.ended && this.wXa && this.qM.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.qM.play()).then(function(){M.closed || (M.XYa=!1,M.Ha.style.display=null,M.j.Hj=!1,M.j.fireEvent(v.ja.cma));}).catch(function(P){"NotAllowedError" === P.name?(M.log.warn("Playback is blocked by the browser settings",P),M.j.Hj=!0,M.closed || (M.XYa=!0,M.Ha.style.display="none",M.j.fireEvent(v.ja.Hj,{player:{play:function(){return M.d0a();}}}))):M.closed || M.tIb || (M.tIb=!0,M.log.error("Play promise rejected",P));}));};d.prototype.c0a=function(){this.kn() || !(0,w.$c)(this.Ha) || this.Ha.ended || !this.wXa || this.qM.paused || (this.log.trace("Calling pause on element"),this.qM.pause());};d.prototype.rRb=function(M){this.j.mediaTime.set(this.mediaTime);M && this.j.ync();};d.prototype.seek=function(M,P,I,O){var Q,T,U,X,Y;I=void 0 === I?this.j.L:I;O=void 0 === O?!1:O;Y=null === (Q=this.j.bb) || void 0 === Q?void 0:Q.lk;!this.kn() && Y && (Q=null !== (X=null === (U=null === (T=this.j.S) || void 0 === T?void 0:T.Aa.Ji) || void 0 === U?void 0:U.Ksb) && void 0 !== X?X:!1,this.j.Dc.Ba && !1 === Q && 0 === M && this.log.error("Unexpected seek to 0 for the live playback",Error().stack),this.j.fireEvent(v.ja.Mva,{Fc:P}),this.tl.YS={time:M,Fc:P,L:I,Knc:O},this.j.Zb.set(v.Nb.ph),this.Fo());};d.prototype.dIc=function(){var M,P,I,O,Q,T,U,X,Y;if(this.tl.YS){M=this.tl.YS;P=M.time;I=M.Fc;O=M.L;Q=M.Knc;if(!this.Gh.Oj() || I === v.Mc.No){M=this.j.Vl(O).R;T=this.Gh.Oj()?void 0:this.Gh.gpc();U=this.tl.vrc(P,I,O,Q,T);O=U.ES;Q=U.Ol;X=U.JIc;T=U.cl;U=U.dE;this.Gh.vMa(this.mediaTime);Y=this.mediaTime;P=(0,q.ik)(P);this.j.IP("SEEKING: Requested: (" + M + ":" + I + ":" + P + ") - Actual: (contentPts: " + Q + ",playerPts: " + (X + ", newMediaTime: " + O + ")"));this.log.info("Seeking",{Requested:P,Actual:(0,q.ik)(O),Cause:I,Skip:T});I === v.Mc.No || T || (this.Gh.hLb(),this.Gh.DQc());P=this.j.Ye.value;X=this.j.ze.value;this.j.Ye.set(null);this.j.ze.set(null);this.tl.YS=void 0;I={dE:U,LS:Y,ES:O,Ol:Q,Fc:I,skip:T,Ye:P,ze:X,R:M};T?this.tl.Zca=!0:this.tl.b1=I;this.j.fireEvent(v.ja.G1,I);T && (this.XFb(I,O,Q),this.Gh.skip(O));}}};d.prototype.XFb=function(M,P,I){this.mediaTime=P;this.rRb(!0);this.j.fireEvent(v.ja.Rs,{ES:P,Ol:I,LS:M.LS,Fc:M.Fc,skip:M.skip,Ye:M.Ye,ze:M.ze,R:M.R});};d.prototype.wg=function(M,P,I){this.closed || this.j.wg(M,P,I);};d.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.Gh.close();this.SSc();this.KOb();this.ac.removeEventListener(y.Qk.sea,this.tEb[y.Qk.sea]);this.ac.removeEventListener(y.Qk.$t,this.tEb[y.Qk.$t]);this.Ha.removeEventListener("ended",this.ME.ended);this.Ha.removeEventListener("play",this.ME.play);this.Ha.removeEventListener("pause",this.ME.pause);this.Ha.removeEventListener("playing",this.ME.playing);this.qM.close();g.ye.removeListener(g.hn,this.haa[g.hn]);g.ye.removeListener(g.us,this.haa[g.us]);this.j.removeEventListener(v.ja.rh,this.tn[v.ja.rh]);this.j.removeEventListener(v.ja.fea,this.tn[v.ja.fea]);this.j.removeEventListener(v.ja.kea,this.tn[v.ja.kea]);this.j.removeEventListener(v.ja.TL,this.tn[v.ja.TL]);this.j.paused.removeListener(this.tn.paused);this.j.muted.removeListener(this.tn.muted);this.j.volume.removeListener(this.tn.volume);this.j.playbackRate.removeListener(this.tn.playbackRate);this.j.Pt.removeListener(this.tn.avBufferingState);this.j.Gn.removeListener(this.tn.textBufferingState);this.Gh.Eea(function(){});this.closed=!0;try{this.Ha.volume=0;this.Ha.muted=!0;this.c0a();this.ac.close();}catch(M){}this.Ha=void 0;this.Gh.hLb();}};d.prototype.kn=function(){return this.closed?!0:(0,w.$c)(this.Ha)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};Ha.Object.defineProperties(d.prototype,{jOb:{configurable:!0,enumerable:!0,get:function(){var M,P;M=this;return !(null === (P=this.j.bb) || void 0 === P || !P.Hh) && [].concat(za(this.j.bb.Hh)).every(function(I){return M.ac.sourceBuffers.find(function(O){return O.mediaType === I;});});}},YS:{configurable:!0,enumerable:!0,get:function(){return this.tl.bba;}}});b.NDa=d;},93294:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Mfb=b.DGa=void 0;b.eRa=function(c){return c === d.u.X?n.Y.tDa:n.Y.uDa;};d=a(26388);n=a(36129);b.DGa=50;b.Mfb=1E3;},53754:function(t,b,a){var n,c,f,g,e,h,k,l;function d(m){var q,r;function p(){q.h7=new k.Rhb();return q.h7;}(0,n.gn)("MediaSourceASE").trace("Inside MediaSourceASE");q=this;r=m.mrc();q.lkb=r;q.readyState=l.ae.CLOSED;q.addSourceBuffer=function(u){return u === h.u.Da?p():r.addSourceBuffer(u);};q.B7=function(u){u.includes(h.u.Da) && p();return r.B7(u);};q.removeSourceBuffer=function(u){if(u.mediaType === h.u.Da)q.h7=void 0;else return ((0,e.va)(u.mediaType === h.u.Da,"Unexpected removeSourceBuffer. Only TEXT is expected to ever be removed."),r.removeSourceBuffer(u));};q.au=function(u){q.h7=void 0;r.au(u);};q.duration=void 0;this.readyState=l.ae.OPEN;this.vg=c.Wa.get(f.Bm).n0(l.vg,{});m=new g.EventEmitter();m.on("subtitleData",function(u){(0,e.va)(r.j.ka.Rd,"Unexpected AseSubtitleEvent. No current timedTextTrack.");r.j.ka.Rd.TZa(u);});this.events=m;}Object.defineProperty(b,"__esModule",{value:!0});b.lcb=void 0;n=a(31276);c=a(31276);f=a(74870);g=a(90745);e=a(45146);h=a(45247);k=a(91515);Object.defineProperty(d.prototype,"sourceBuffers",{get:function(){return this.h7?this.lkb.sourceBuffers.concat(this.h7):this.lkb.sourceBuffers;}});Object.defineProperty(d.prototype,"duration",{get:function(){return this.z6;},set:function(m){var p;this.z6=m || Infinity;p=Math.floor(1E3 * m) || Infinity;this.sourceBuffers.forEach(function(q){q.z6=p;});}});l={ae:{CLOSED:0,OPEN:1,ex:2,name:["CLOSED","OPEN","ENDED"]},vg:{scc:!0,yDc:!0}};b.lcb=Object.assign(d,l);},69931:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.cHa=b.bHa=void 0;t=a(79048);a={};b.bHa=(a[t.Br]={id:-1,name:"hardcoded",Bc:1,type:"hardcoded",iS:"-1",vxc:!1,location:{id:"-1",Bc:1,level:100,weight:1}},a);a={};b.cHa=(a[t.Br]={track:{type:"padding",trackId:"padding",aj:"padding",correlationId:"padding",Ep:"other",Ig:"padding",JM:"padding",Ki:{},Bc:1},type:"padding",ob:"-1",bitrate:1,Qb:100,Uc:"unknown",size:1,IOa:{},Ki:{},js:"",framerate:0,yk:!1,Nk:[],height:1,width:1},a);},6305:function(t,b,a){var n,c,f;function d(g,e,h,k,l,m,p,q,r,u,v){this.track=g;this.type=e;this.ob=h;this.bitrate=k;this.Qb=l;this.size=m;this.IOa=p;this.Uc=q;this.framerate=r;this.yk=u;this.Nk=v;this.Ki={Type:e,Bitrate:k,DownloadableId:h};}Object.defineProperty(b,"__esModule",{value:!0});b.MediaStream=void 0;b.o_c=function(g,e,h,k,l){if(g == n.gia || g === f.Nn.audio)return e;if(g == n.x5 || g === f.Nn.video)return h;if(g == f.Nn.N2)return k;if(g == f.Nn.j3a)return l;};n=a(33096);c=a(32687);f=a(51344);d.prototype.toJSON=function(){return this.Ki;};d.prototype.QQc=function(g,e,h,k){(0,c.$c)(g) && (0,c.$c)(e) && (this.width=g,this.height=e,(0,c.pc)(h) && (0,c.pc)(k) && (this.width=Math.round(h / k * g)),this.Ki.Resolution=(this.width || "") + ":" + (this.height || ""));};d.prototype.VPc=function(g,e,h,k,l,m){(0,c.$c)(g) && (0,c.$c)(e) && (0,c.$c)(h) && (0,c.$c)(k) && (this.NNa=g,this.trb=e,this.srb=h,this.rrb=k);(0,c.$c)(l) && (0,c.$c)(m) && (this.nIb=l,this.oIb=m);};b.MediaStream=d;},51344:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nn={audio:"audio",video:"video",N2:"timedtext",j3a:"trickplay"};},62439:function(t,b,a){var n,c,f,g,e,h,k;function d(l){var m,p,q,r;m=this;this.j=l;this.T8=void 0;this.AIa=(0,c.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.qIa=(0,c.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.kIa=(0,c.createElement)("DIV","width:100%;text-align:center");this.c2b=this.sIa("Audio Bitrate");this.$Ja=this.sIa("Video Bitrate / VMAF");this.lIa=this.sIa("CDN");this.O6={};this.gaa=f.Wa.get(g.xt);this.AIa.appendChild(this.qIa);this.qIa.appendChild(this.kIa);p=(0,c.createElement)("BUTTON",void 0,"Override");p.addEventListener("click",this.b2b.bind(this),!1);this.kIa.appendChild(p);p=(0,c.createElement)("BUTTON",void 0,"Reset");p.addEventListener("click",this.K4b.bind(this),!1);this.kIa.appendChild(p);q=this.o4b.bind(this);n.ye.addListener(n.eL,q);l.addEventListener(h.ja.TL,function(){m.O6={};});l.addEventListener(h.ja.rh,function(){n.ye.removeListener(n.eL,q);});r=this.H4b.bind(this);l.Tc.forEach(function(u){u.addListener(r);});l.ka.addListener([k.u.X,k.u.U],r);}Object.defineProperty(b,"__esModule",{value:!0});b.Meb=void 0;n=a(37509);c=a(52569);f=a(31276);g=a(34231);e=a(43193);h=a(85001);k=a(26388);d.prototype.show=function(){this.m7 || (this.Pkb(),document.body.appendChild(this.AIa),this.m7=!0);};d.prototype.wD=function(){this.m7 && (document.body.removeChild(this.AIa),this.m7=!1);};d.prototype.toggle=function(){this.m7?this.wD():this.show();};d.prototype.ZQb=function(){var p,q,r,u;function l(v,w,x){var y,A,z;A=[];w.filter(function(B){return B.Uc === v;}).forEach(function(B){0 <= x.indexOf(B)?(void 0 === z?z=B.bitrate:y=B.bitrate,void 0 === y && (y=B.bitrate)):void 0 !== z && void 0 !== y && (A.push({min:z,max:y}),z=y=void 0);});if(void 0 !== z && void 0 !== y){A.push({min:z,max:y});z=y=void 0;}return A;}function m(v,w,x){var y;y=[];w.filter(function(A){return A.Uc === v;}).forEach(function(A){-1 === x.indexOf(A) && y.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return y;}q=this.j.aD();r=this.j.dL().sort(function(v,w){return v.bitrate - w.bitrate;});u=r.reduce(function(v,w){0 > v.indexOf(w.Uc) && v.push(w.Uc);return v;},[]).map(function(v){return {profile:v,ranges:l(v,r,q),disallowed:m(v,r,q)};});!1;null === (p=this.j.bb) || void 0 === p?void 0:p.Kwa(u,this.j.R);};d.prototype.b2b=function(){var p,q;this.O6={};for(var l=this.$Ja.options,m=l.length;m--;){p=l[m];p.selected && (this.O6[p.value]=1);}this.T8=this.t2b.bind(this);this.ZQb();if(l=this.j.Vh){q=this.lIa.value;l=l.filter(function(r){return r.id == q;})[0];m=this.j.Tc[k.u.U].value;l && l != m && (l.Lob={testreason:"streammanager",selreason:"userselection"},this.j.Tc[k.u.U].set(l));}this.wD();};d.prototype.K4b=function(){this.T8=void 0;this.j.wNb(this.j.R);this.wD();};d.prototype.t2b=function(){var l;l=this;return this.j.dL().filter(function(m){return l.O6[m.bitrate];});};d.prototype.Pkb=function(){var l,m,p,q;l=this;m=this.j.ka.je;p=this.j.ka.Mh;q=this.j.Vh;m && (q=q.slice(),q.sort(function(r,u){return r.Bc - u.Bc;}),this.RJa(this.c2b,m.streams.map(function(r){return {value:r.bitrate,caption:r.bitrate,selected:r == l.j.fj.value};})));p && (this.RJa(this.$Ja,p.streams.map(function(r){var u,v,w;u=l.j.e0.rI(r);v=r.bitrate;r=r.Qb;w="" + v;r && (w+=" / " + r);u && (w+=" (" + u.join("|") + ")");return {value:v,caption:w,selected:l.T8?l.O6[v]:!u};})),this.$Ja.removeAttribute("disabled"));q && (this.RJa(this.lIa,q.map(function(r){return {value:r.id,caption:"[" + r.id + "] " + r.name,selected:r == l.j.Tc[k.u.U].value};})),this.lIa.removeAttribute("disabled"));};d.prototype.H4b=function(){this.m7 && this.Pkb();};d.prototype.sIa=function(l){var m,p;m=(0,c.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");l=(0,c.createElement)("DIV",void 0,l);p=(0,c.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});m.appendChild(l);m.appendChild(p);this.qIa.appendChild(m);return p;};d.prototype.RJa=function(l,m){l.innerHTML="";m.forEach(function(p){var q;q={title:p.caption};p.selected && (q.selected="selected");q=(0,c.createElement)("option",void 0,p.caption,q);q.value=p.value;l.appendChild(q);});};d.prototype.o4b=function(l){l.ctrlKey && l.altKey && l.shiftKey && l.keyCode == e.QV.Oga && this.gaa.OUa && this.toggle();};b.Meb=d;},79173:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Bfb=void 0;d=a(31276);n=a(61726);b.Bfb=(function(){(0,d.gn)("ProbeDownloader");return {Woa:function(c){c={url:c.url,iKc:c};!1;n.De.lKc(c);}};})();},27758:function(t,b,a){var n,c,f,g,e,h,k;function d(){var l;l=new c.rm();this.addEventListener=l.addListener.bind(this);this.removeEventListener=l.removeListener.bind(this);this.emit=l.rd.bind(this);this.Rka=h++;this.sg=(0,f.gn)("ProbeRequest");this.Ekb=n.Bfb;(0,g.va)(void 0 !== this.Ekb);this.tg=b.wm.ae.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.wm=void 0;n=a(79173);c=a(94886);f=a(31276);g=a(45146);e=a(3887);h=0;(function(){function l(){return JSON.stringify({url:this.Hg,id:this.Rka,affected:this.Wja,readystate:this.tg});}(0,e.Jf)(d.prototype,{z0:function(m){this.tg !== b.wm.ae.lO && this.tg !== b.wm.ae.DONE && (this.Vka=m,m={url:this.Hg,affected:this.Wja,probed:{requestId:this.Rka,url:this.Hg,dd:this.f7,groupId:this.qka}},200 <= this.Vka && 299 >= this.Vka?(this.tg=b.wm.ae.DONE,this.emit(b.wm.qm.K5,m)):(this.tg=b.wm.ae.lO,this.emit(b.wm.qm.nJ,m)));},sXa:function(m){this.tg !== b.wm.ae.lO && this.tg !== b.wm.ae.DONE && (this.Vka=m,m={url:this.Hg,affected:this.Wja,probed:{requestId:this.Rka,url:this.Hg,dd:this.f7,groupId:this.qka}},this.tg=b.wm.ae.lO,this.emit(b.wm.qm.nJ,m));},open:function(m,p,q){if(!m)return (!1,!1);this.Hg=m;this.Wja=p;this.f7=q;this.tg=b.wm.ae.OPENED;this.Ekb.Woa(this);this.tg=b.wm.ae.uF;return !0;},Se:function(){!1;return !0;},Ei:function(){return this.Rka;},toString:l,toJSON:l});Object.defineProperties(d.prototype,{readyState:{get:function(){return this.tg;}},status:{get:function(){return this.Vka;}},url:{get:function(){return this.Hg;}},p5c:{get:function(){return this.Wja;}}});})();(function(l){l.qm={K5:"pr0",nJ:"pr1"};l.ae={UNSENT:0,OPENED:1,uF:2,DONE:3,lO:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(k || (k={}));b.wm=Object.assign(d,k);},59405:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});d=a(29204);n=a(33096);t=a(36129);c=a(31276);f=a(69484);a=a(11479);c.Wa.get(a.fk).register(t.da.A$a,function(g){d.config.hoc && c.Wa.get(f.s9a).start();g(n.Ph);});},91515:function(t,b,a){var n;function d(){this.mediaType=n.u.Da;}Object.defineProperty(b,"__esModule",{value:!0});b.Rhb=void 0;n=a(45247);d.prototype.appendBuffer=function(){return !0;};d.prototype.vNb=function(){};b.Rhb=d;},49587:function(t,b){function a(d,n){this.j=n;this.XS=!0;this.Mxa=!1;this.Ha=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Aib=void 0;a.prototype.QXa=function(){this.XS && (this.XS=!1,this.j.paused.set(!1));};a.prototype.PXa=function(){this.XS || (this.XS=!0,this.j.paused.set(!0));};a.prototype.pause=function(){var d;this.paused || (this.XS=!0,null === (d=this.Ha) || void 0 === d?void 0:d.pause());};a.prototype.play=function(){var d,n;d=this;return this.paused && !this.Mxa?(this.Mxa=!0,Promise.resolve(null === (n=this.Ha) || void 0 === n?void 0:n.play()).then(function(){d.Mxa=!1;}).catch(function(c){var f;d.Mxa=!1;d.XS=!(null === (f=d.Ha) || void 0 === f || !f.paused);throw c;})):Promise.resolve();};a.prototype.close=function(){this.Ha=void 0;};Ha.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.XS;}}});b.Aib=a;},42087:function(t,b){function a(d,n){var c;c=this;this.j=d;this.wa=n;this.zCb=-1;this.jya=0;this.Pvb=[];this.IXc=function(f,g){var e,h,k;c.QNa=void 0;f=null !== (h=null === (e=c.j.ac) || void 0 === e?void 0:e.xA(!1)) && void 0 !== h?h:0;c.zCb === g.mediaTime?c.jya++:c.jya=0;c.zCb=g.mediaTime;if(0 === g.mediaTime)return c.requestVideoFrameCallback();3 < c.jya && f >= 1E3 * g.mediaTime + c.dYa && (c.Pvb.push(g.mediaTime),c.jya=0,g=c.j.ac.xA(!1),e=g + c.dYa,c.wa.error("freeze detected, seek forward",{currentTime:g,newMediaTime:e,oneFrameInMs:c.dYa}),null === (k=c.j.ac) || void 0 === k?void 0:k.seek(e,!0));c.requestVideoFrameCallback();};}Object.defineProperty(b,"__esModule",{value:!0});b.Bib=void 0;a.prototype.xSc=function(){this.requestVideoFrameCallback();};a.prototype.requestVideoFrameCallback=function(){var d,n;n=null === (d=this.j.ac) || void 0 === d?void 0:d.Ha;n && void 0 !== this.QNa && n.cancelVideoFrameCallback && n.cancelVideoFrameCallback(this.QNa);n && n.requestVideoFrameCallback && (this.QNa=n.requestVideoFrameCallback(this.IXc));};Ha.Object.defineProperties(a.prototype,{dYa:{configurable:!0,enumerable:!0,get:function(){var d,n;if(this.xQa)return this.xQa;if(null === (d=this.j.ag.value) || void 0 === d?0:d.framerate)this.xQa=Math.ceil(1E3 / this.j.ag.value.framerate);return null !== (n=this.xQa) && void 0 !== n?n:0;}}});b.Bib=a;},20318:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.zv=b.MTb=void 0;b.MTb=a;b.zv=new a();},70632:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);n=a(45247);c=a(51790);f=a(27758);g=a(90762);e=a(29204);h=a(33096);k=a(67263);l=a(53754);m=a(24066);t=a(36129);p=a(31276);q=a(21941);r=a(22365);u=a(59416);b=a(11479);v=a(13044);w=a(20318);x=a(2248);y=a(84408);A=a(97685);({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).z1c && A.VR.enable();p.Wa.get(b.fk).register(t.da.y$a,function(z){var B,C,D,E,H,F,G,J,L,K;B=p.Wa.get(q.Tcb).fgc();C=p.Wa.get(k.KAa).h4;D=p.Wa.get(c.jcb).Bl;E=p.Wa.get(x.om);H=p.Wa.get(y.AF);F={Gua:(0,p.n$)("ASE"),V7b:(0,p.n$)("JS-ASE",void 0,"Platform"),gn:p.n$,storage:u.storage,Erc:r.O7a,getTime:m.Hx,ona:function(M){return E.decode(M).buffer;},xK:function(M){return H.encode(M);},goa:function(M){return H.decode(M);},bS:{},Bl:D,wm:f.wm,h4:C,MediaSource:l.lcb,SourceBuffer:g.IDa,SZ:function(){return [e.config.Kla,e.config.Mla,e.config.Lla];},aD:function(M){v.bq.forEach(function(P){P.wNb(M);});}};C=new Promise(function(M){u.storage.load("nh",function(P){F.bS.nh=P.success?P.data:void 0;M();});});D=new Promise(function(M){u.storage.load("lh",function(P){F.bS.lh=P.success?P.data:void 0;M();});});G=new Promise(function(M){u.storage.load("gh",function(P){F.bS.gh=P.success?P.data:void 0;M();});});J=new Promise(function(M){u.storage.load("sth",function(P){F.bS.sth=P.success?P.data:void 0;M();});});L=new Promise(function(M){u.storage.load("vb",function(P){F.bS.vb=P.success?P.data:void 0;M();});});K=new Promise(function(M){u.storage.load("ab",function(P){F.bS.ab=P.success?P.data:void 0;M();});});Promise.all([C,D,K,L,J,G]).then(function(){return d.__awaiter(this,void 0,void 0,function P(){var I,O;return Ua(P,function(Q){if(1 == Q.Js)return (I=a(92623)(F),w.zv.Zk=a(21457),w.zv.Zk.declare(n.eg),w.zv.Zk.set(a(87141)(e.config),!0,(0,p.n$)("ASE")),cb(Q,n.P$(I),2));O=Q.hV;O.open(w.zv.Zk,B);O.OPc({audio:e.config.Kla,video:e.config.Mla,text:e.config.Lla},{G:e.config.GH,ma:void 0});w.zv.ck=O;z(h.Ph);Q.Js=0;});});}).catch(function(M){F.Gua.error("Exception loading location history from local storage",M);});});},39480:function(t,b,a){var d,n,c,f,g,e,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.T_b=function(l){var r,u,v,w,x,y;function m(){return l.state.value === k.Gc.LOADING || l.state.value === k.Gc.Cf && l.Zb.value === k.Nb.ph;}function p(){m()?y || (y=setInterval(q,100)):y && (clearInterval(y),y=void 0,(0,e.Yh)(q));}function q(){var A,z,B,C,D,E,H,F;A=(0,c.Hx)();z=r.value;B=z?z.progress:0;C=l.state.value == k.Gc.LOADING || m() && A - u > n.config.u$b;if(C && l.state.value == k.Gc.Cf){if(l.ke.value === k.mh.rgb)(D=B,E=!0);else {H=A;v=v || A;w=w || v + n.config.PCc + 1;(0,h.pc)(H) && (H=(0,g.uz)(H,w),D=(0,g.zt)(1E3 * (0,f.qF)((A - v) / (H - v),0,.99)) / 1E3);}if(D < B)if(B - D < n.config.JKc / 100)(D=B,x=void 0);else if(x){if(A - x > n.config.IKc){F=!0;x=void 0;}else D=B;}else (x=A,D=B);}else x=w=v=void 0;A=C?{ft:E,progress:D,KKc:F}:null;(!A || !r || !z || (0,h.pc)(A.progress) && !(0,h.pc)(z.progress) || (0,h.pc)(A.progress) && (0,h.pc)(z.progress) && .01 < (0,g.iia)(A.progress - z.progress) || A.ft !== z.ft) && r.set(A);}r=l.VLa;u=0;l.state.addListener(function(){p();q();},d.vEa);l.Zb.addListener(function(A){if(A.oldValue !== k.Nb.ph || A.newValue !== k.Nb.ph)u=(0,c.Hx)();p();});l.ke.addListener(function(){p();});l.Pt.addListener(function(){p();});l.Gn.addListener(function(){p();});y || (y=setInterval(q,100));};d=a(33096);n=a(29204);c=a(24066);f=a(8825);g=a(22365);e=a(32219);h=a(32687);k=a(85001);},13044:function(t,b,a){var n,c;function d(f,g){var e;e=b.bq[0];e == g && (e=b.bq[1]);e?e.close(function(){d(f,g);}):f && f(n.Ph);}Object.defineProperty(b,"__esModule",{value:!0});b.Deb=b.Beb=b.vFa=b.wFa=b.Az=b.xFa=b.Ceb=b.zFa=b.yFa=b.bq=void 0;b.Eeb=d;b.U_b=function(f,g){switch(f){case b.Ceb:b.yFa.push(g);return;case b.xFa:b.zFa.push(g);return;}(0,c.va)(!1);};b.AFa=function(){return b.Az.uca && b.bq.includes(b.Az.uca)?b.Az.uca:void 0;};n=a(33096);c=a(45146);b.bq=[];b.yFa=[];b.zFa=[];b.Ceb=1;b.xFa=3;b.Az={index:0,uca:void 0,eQa:void 0};b.wFa="network";b.vFa="media";b.Beb="timedtext";b.Deb="playback";},30689:function(t,b,a){var d,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});d=a(29204);n=a(33096);t=a(36129);c=a(31276);b=a(11479);f=a(66476);c.Wa.get(b.fk).register(t.da.F$a,function(e){var h,k,l;if(d.config.Iy){h=(0,c.gn)("PlayerPredictionModel");k=c.Wa.get(f.TO);l=a(99886);h.log=h.trace.bind(h);g=new l({},h,{Qda:function(){},WMc:function(){}},k,{rT:function(){}});Ba._cad_global.playerPredictionModel=g;h.info("ppm v2 initialized");}e(n.Ph);});},22365:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.KVa=b.localStorage=b.Vvc=b.indexedDB=b.Fcb=b.Xn=b.jJ=b.HO=b.URL=b.sia=b.dZb=b.Sbb=b.Rbb=b.iia=b.jia=b.mF=b.uz=b.zt=b.OYb=b.ZV=b.shb=b.O7a=b.zZb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.fG=b.cZb=b.Ni=b.qC=b.Gcb=b.kJ=b.ria=b.cW=void 0;t=Ba;b.zg=t.navigator;b.cW=null === b.zg || void 0 === b.zg?void 0:b.zg.userAgent;b.ria=t.location;b.kJ=t.screen;b.Gcb=t.devicePixelRatio;b.qC=t.performance;b.Ni=t.document;b.cZb=b.Ni.documentElement;b.fG=Array.prototype;b.sort=b.fG.sort;b.map=b.fG.map;b.slice=b.fG.slice;b.every=b.fG.every;b.reduce=b.fG.reduce;b.filter=b.fG.filter;b.forEach=b.fG.forEach;b.pop=b.fG.pop;b.zZb=Object.create;b.O7a=Date.now;b.shb=String.fromCharCode;b.ZV=Math.floor;b.OYb=Math.ceil;b.zt=Math.round;b.uz=Math.max;b.mF=Math.min;b.jia=Math.random;b.iia=Math.abs;b.Rbb=Math.pow;b.Sbb=Math.sqrt;b.dZb=t.escape;b.sia=t.unescape;b.URL=t.URL || t.webkitURL;b.HO=t.MediaSource || t.WebKitMediaSource;b.jJ=t.webkitCrypto || t.msCrypto || t.crypto;b.Xn=b.jJ && (b.jJ.webkitSubtle || b.jJ.subtle);b.Fcb=t.webkitCryptokeys || t.msCryptokeys || t.cryptokeys;try{b.indexedDB=t.indexedDB;}catch(a){b.Vvc=a || "noex";}try{b.localStorage=t.localStorage;}catch(a){b.KVa=a || "noex";}},59416:function(t,b,a){var d,n,c,f,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;d=a(29204);n=a(33096);c=a(50350);t=a(36129);f=a(75876);g=a(19630);e=a(31276);a=a(11479);b.storage=b.storage || void 0;e.Wa.get(a.fk).register(t.da.H$a,function(h){var k;switch(d.config.ZSc){case "idb":k=f.VSc;break;case "none":k=c.XSc;break;case "ls":k=g.WSc;}k(function(l){l.success?(b.storage=l.storage,h(n.Ph)):h(l);});});},75876:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.VSc=function(g){d.Wa.get(n.QI).create().then(function(e){g({success:!0,storage:new f.KCa(e,d.Wa.get(c.Bm))});}).catch(function(e){g(e);});};d=a(31276);n=a(17892);c=a(74870);f=a(6675);},19630:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.WSc=function(g){g({success:!0,storage:new d.KCa(n.Wa.get(c.jbb),n.Wa.get(f.Bm))});};d=a(6675);n=a(31276);c=a(56278);f=a(74870);},50350:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.XSc=function(f){var g;(0,n.gn)("Storage");g={};f({success:!0,storage:{load:function(e,h){var k;if(g.hasOwnProperty(e)){k=g[e];!1;h({success:!0,data:k,fxa:e});}else (!1,h({Ua:c.Y.vF}));},save:function(e,h,k,l){k && g.hasOwnProperty(e)?l({success:!1}):(g[e]=h,!1,l && l({success:!0,fxa:e}));},remove:function(e,h){delete g[e];!1;h && h(d.Ph);}}});};d=a(33096);n=a(31276);c=a(36129);a(3887);},50040:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.sU=void 0;d=a(33096);n=a(29204);c=a(37509);f=a(24066);g=a(36129);e=a(45146);h=a(31276);k=a(3887);l=a(22365);m=a(59416);p=a(32687);t=a(11479);h.Wa.get(t.fk).register(g.da.I$a,function(q){var v,w,x;function r(){var y;r=d.lJ;y=setInterval(u,n.config.FAc);c.ye.addListener(c.hn,function(A){A && A.isPopStateEvent?v.trace("popstate event, Lock timers can stay"):((0,k.Di)(w,function(z,B){localStorage.removeItem(B.py);}),clearInterval(y));},d.gW);}function u(){var y;y=(0,f.Fpb)();(0,k.Di)(w,function(A,z){!1;A=localStorage.getItem(z.py);(A=JSON.parse(A))?A.updated=y:A={updated:y,sessionId:x,count:1};localStorage.setItem(z.py,JSON.stringify(A));});}(0,e.va)(m.storage);v=(0,h.gn)("StorageLock");w={};x=Date.now() + "-" + Math.floor(1E6 * Math.random());b.sU={Yz:function(y,A,z){var C,D,E,H,F,G,J,L,K,M;function B(P){localStorage.setItem(E,JSON.stringify(P));P={py:E};w[E]=P;v.trace("Lock acquired",{Name:P.py});r();A({success:!0,$ra:P});}C=this;z=void 0 === z?!1:z;if(localStorage){D=(0,f.Fpb)();E="lock-" + y;H={updated:D,sessionId:x,count:1};try{if((E in localStorage)){F=localStorage.getItem(E);G=0;J=JSON.parse(F);(0,p.BL)(J.updated) && (G=J.updated);L=(0,l.iia)(D - G) * d.yr;K=x === J.sessionId;if(L < n.config.jDb){if(K)(J.count+=1,v.debug("Incremented lock count for existing playbackSession",{id:x,count:J.count}),J.updated=D,B(J));else if(z){M=n.config.jDb - L + d.yr;v.error("Waiting until current expiration to confirm whether lock is still active",{id:x,count:J.count,Epoch:D,LockEpoch:G,waitTimeoutMs:M});Ba.setTimeout(function(){return C.Yz(y,A,!1);},M);}else A({success:!1});}else (v.error("Lock was expired or invalid, ignoring",{Epoch:D,LockEpoch:G}),B(H));}else B(H);}catch(P){v.error("Error acquiring Lock",{errorSubCode:g.Y.wr,errorDetails:(0,k.jj)(P)});A({success:!0});}}else (l.KVa?v.error("Local storage access exception",{errorSubCode:g.Y.U0b,errorDetails:(0,k.jj)(l.KVa)}):v.error("No localstorage",{errorSubCode:g.Y.V0b}),A({success:!0}));},release:function(y,A){var z,B;(0,e.va)(w[y.py] == y);if(localStorage){try{z=localStorage.getItem(y.py);B=JSON.parse(z);B && 1 < B.count?(--B.count,localStorage.setItem(y.py,JSON.stringify(B)),v.trace("Lock count decremented",{Name:y.py,count:B.count})):(localStorage.removeItem(y.py),delete w[y.py],v.trace("Lock released",{Name:y.py}));}catch(C){v.error("Unable to release Lock",{Name:y.py},C);}A && A(d.Ph);}}};n.config.loa?b.sU.Yz("session",function(y){b.sU.PMb=y;q(d.Ph);}):q(d.Ph);});},991:function(t,b,a){var f,g,e,h;function d(k,l,m,p){var q,r,u;(0,f.va)((0,h.TA)(k) && !(0,h.isArray)(k));p=p || "";q="";r=k.hasOwnProperty(e.xga) && k[e.xga];r && (0,g.Di)(r,function(v,w){q && (q+=" ");q+=v + '="' + c(w) + '"';});m=(l?l + ":":"") + m;r=p + "<" + m + (q?" " + q:"");u=k.hasOwnProperty(e.RE) && k[e.RE].trim && "" !== k[e.RE].trim() && k[e.RE];if(u)return r + ">" + c(u) + "</" + m + ">";k=n(k,l,p + "  ");return r + (k?">\n" + k + "\n" + p + "</" + m + ">":"/>");}function n(k,l,m){var p;(0,f.va)((0,h.TA)(k) && !(0,h.isArray)(k));m=m || "";p="";(0,g.Di)(k,function(q,r){var w;if("$" != q[0])for(var u=(0,g.SL)(r),v=0;v < u.length;v++)if((r=u[v],p && (p+="\n"),(0,h.TA)(r)))p+=d(r,l,q,m);else {w=(l?l + ":":"") + q;p+=m + "<" + w + ">" + c(r) + "</" + w + ">";}});return p;}function c(k){if((0,h.Fi)(k))return (0,g.lTa)(k);if((0,h.pc)(k))return ((0,f.Y8)(k,"Convert non-integer numbers to string for xml serialization."),"" + k);if(null === k || void 0 === k)return "";(0,f.va)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.L$c=d;b.M$c=n;b.wed=c;f=a(45146);g=a(3887);e=a(62604);h=a(32687);},62604:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.THc=b.aTb=b.$Sb=b.RE=b.w4a=b.ZSb=b.xga=void 0;b.Kpc=function(c,f,g){for(var e=2;e < arguments.length;++e);for(e=1;(f=arguments[e++]) && (c=c[f]););return c;};b.dcd=function(c,f){var g;c?g=(0,d.am)(c[b.RE]):void 0 !== f && (g=f);(0,n.Y8)(g);return g;};b.OHc=function(c,f){var g;c?g=c[b.RE]:void 0 !== f && (g=f);(0,n.Vrb)(g);return g;};b.wad=function(c,f){var g;g={};g[b.xga]=c;g[b.RE]=f;return g;};d=a(3887);n=a(45146);b.xga="$attributes";b.ZSb="$children";b.w4a="$name";b.RE="$text";b.$Sb="$parent";b.aTb="$sibling";b.THc=/^\s*<\?xml.*\?>/i;},84281:function(t,b,a){var d,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});b.FYc=function(e,h){var k,l;try{l=(0,c.GYc)(e);}catch(m){d.log.error("xml2xmlDoc exception",m);}(0,g.Yh)(function(){if(l && l.documentElement)try{k=(0,f.HYc)(l);}catch(m){d.log.error("xmlDoc2js exception",m);}(0,g.Yh)(function(){k?h({success:!0,object:k}):h({success:!1,Ua:n.Y.zWb});});});};d=a(31276);n=a(36129);c=a(78857);f=a(74413);g=a(32219);},78857:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.GYc=function(c){var f,g;if((0,n.C_)(c)){f=new DOMParser().parseFromString(c,"text/xml");g=f.getElementsByTagName("parsererror");if(g && g[0]){try{d.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(g[0]),xmlData:c.slice(0,300),fileSize:c.length});}catch(e){}throw Error("xml parser error");}return f;}throw Error("bad xml text");};d=a(31276);n=a(32687);},74413:function(t,b,a){var n;function d(c){var f,g,e,h,k,l,m;g={};g[n.w4a]=c.localName;e={};g[n.xga]=e;h=[];g[n.ZSb]=h;k=c.attributes;l=k.length;for(f=0;f < l;f++){m=k[f];e[m.localName]=m.value;}c=c.childNodes;l=c.length;e={};for(f=0;f < l;f++)switch((k=c[f],k.nodeType)){case b.dTb:k=d(k);m=k[n.w4a];k[n.$Sb]=g;h.push(k);g[m]?e[m][n.aTb]=k:g[m]=k;e[m]=k;break;case b.eTb:case b.bTb:(k=k.text || k.nodeValue,h.push(k),g[n.RE] || (g[n.RE]=k));}return g;}Object.defineProperty(b,"__esModule",{value:!0});b.cTb=b.bTb=b.eTb=b.IYc=b.dTb=void 0;b.HYc=function(c){return d(c.nodeType == b.cTb?c.documentElement:c);};b.rfd=d;n=a(62604);b.dTb=1;b.IYc=2;b.eTb=3;b.bTb=4;b.cTb=9;},87886:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x;Object.defineProperty(b,"__esModule",{value:!0});b.Ih=void 0;t=a(22674);d=a(58252);n=a(60443);c=a(32050);f=a(62468);g=a(75864);e=a(45716);h=a(99282);k=a(52531);l=a(88063);m=a(79054);p=a(56190);q=a(69751);r=a(62665);u=a(7342);v=a(82585);w=a(76409);x=a(69882);b.Ih=new t.Ce(function(y){y(d.RFa).to(n.QFa).sa();y(c.YFa).to(f.XFa).sa();y(g.Q5).to(e.PFa).sa();y(k.LO).to(h.NFa).sa();y(w.hfb).to(x.WFa).sa();y(l.cfb).to(m.TFa).sa();y(p.efb).$f(function(A){var z;z=A.Jb;return function(B){return new q.ffb(B,z.get(w.hfb),z.get(r.iF),z.get(k.LO));};});y(u.Eab).$f(function(A){var z;z=A.Jb;return function(B,C,D){return new v.Fab(B,C,D,z.get(k.LO),z.get(g.Q5));};});});},7342:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eab="LegacyPostPlayShimFactorySymbol";},52531:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.LO="PlaygraphConfigSymbol";},75864:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.R5={};t.i1c="ident";t.oDa="main";t.X6a="credits";b.Q5="PlaygraphHelperSymbol";},58252:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.RFa="PlaygraphManagerFactorySymbol";},88063:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cfb="PlaygraphPlaybackStrategyFactorySymbol";},56190:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.efb="PlaygraphStateFactorySymbol";},76409:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hfb="PlaygraphUtilsSymbol";},32050:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.YFa="PlaygraphVideoPlayerFactorySymbol";},56819:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.UO={};t[t.$cb=0]="None";t[t.n9a=1]="Fetching";t[t.XVb=2]="Done";t[t.Error=3]="Error";},82585:function(t,b,a){var n,c;function d(f,g,e,h,k){this.Yj=f;this.Ih=g;this.log=e;this.ql=h;this.Tq=k;this.Hua=new n.FFa();}Object.defineProperty(b,"__esModule",{value:!0});b.Fab=void 0;n=a(81889);c=a(75864);d.prototype.X5b=function(f){var g,e,h,k,l,m,p;this.log.info("Next episode added",f);m=this.Hua.gWa(f.playbackParams);p=Math.max(0,null !== (h=null !== (e=null !== (g=f.startPts) && void 0 !== g?g:f.nextStartPts) && void 0 !== e?e:m.Hb) && void 0 !== h?h:0);g=null !== (l=null !== (k=f.endPts) && void 0 !== k?k:f.currentEndPts) && void 0 !== l?l:m.pj;return this.Ih.L6b({R:f.movieId,Hb:p,pj:g,Cb:m,S:f.manifest,Yj:this.Yj});};d.prototype.vIc=function(f){var g,e,h,k,l,m;f=this.Hua.gWa(f);this.log.info("Playing the next episode",f);h=this.Ih.Awb();k=this.Ih.sR();l=k.ba[h];m=Object.keys(null !== (g=l.next) && void 0 !== g?g:{}).find(function(p){return l.J !== k.ba[p].J;});g=!this.ql.Qua || !(null === (e=f.dr) || void 0 === e?0:e.isUIAutoPlay);return m?this.Ih.NSa(h,m,f,g):Promise.reject(Error("Next episode not found"));};d.prototype.eYc=function(f){var g,e;g=this.Tq.Tx(f,c.R5.oDa);f=this.Tq.Tx(f,c.R5.X6a);e=this.Ih.xb;this.ql.Qua && e.Bi !== f && e.ZM(f) && e.N$(g) !== f && this.Ih.Dn({L:g,v0:f});};b.Fab=d;},65473:function(t,b,a){var n;function d(c,f,g,e,h){var k;k=this;this.xb=c;this.lm=f;this.Ju=g;this.jc=e;this.Tq=h;this.Tua=new Map();this.VQc();this.jc.addListener(n.Za.loaded,function(){return k.bJb();});}Object.defineProperty(b,"__esModule",{value:!0});b.GO=void 0;n=a(85001);d.prototype.mmb=function(c){var f,g;f=this;g=Object.keys(this.xb.wn.ba).find(function(e){return f.xb.wn.ba[e].J === c.R;});c.id || (c.id=null !== g && void 0 !== g?g:this.Tq.Tx(c.R));g || (this.xb.wn=this.Tq.E7b(this.xb.wn,c));g=this.sT(c.id);c.pj && this.xb.wRb(c.id,c.pj);return g;};d.prototype.DQb=function(){return Promise.reject(Error("Error isn't recoverable"));};d.prototype.OSa=function(c,f){var g;g=this;f=void 0 === f?{}:f;return this.Ju.transition(c,f).then(function(){g.xb.Bi=c;});};d.prototype.close=function(c){return this.Ju.close(c);};d.prototype.Cs=function(){return this.Ju.rsc();};d.prototype.Dq=function(){return this.Ju.Dq();};d.prototype.fH=function(){return this.Ju.fH();};d.prototype.sT=function(c){this.Tua.has(c) || this.Tua.set(c,this.Ju.Re(this.s$b(c)));return this.Tua.get(c);};d.prototype.VQc=function(){var c;c=this;this.Ju.addListener(n.mW.vea,function(f){return c.jc.rd(n.mW.vea,f);});Object.values(n.Za).forEach(function(f){c.Ju.addListener(f,function(g){return c.jc.rd(f,g);});});};d.prototype.ZD=function(){this.bJb();};d.prototype.XXa=function(c){this.Ju.tRb({id:c,R:this.xb.ku(c).J,pj:this.xb.Qsc(c)});};d.prototype.MS=function(){};d.prototype.bJb=function(){var c,f;if(this.Cs()){c=this.xb.Bi;f=this.xb.N$(c);f && !this.Tua.has(f) && (this.XXa(c),this.sT(f));}};d.prototype.s$b=function(c){var f,g,e,h;g=this.xb.ku(c);e=this.lm.AR(g.J);h=null === e || void 0 === e?void 0:e.Cb;e=null === e || void 0 === e?void 0:e.S;return {id:c,R:g.J,Ff:g.xp,Hb:g.Ta,pj:null !== (f=null === h || void 0 === h?void 0:h.pj) && void 0 !== f?f:g.cb,Cb:h,S:e};};b.GO=d;},99282:function(t,b,a){var n,c,f,g,e;function d(h){return c.Tf.call(this,h,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.NFa=void 0;t=a(22970);n=a(22674);c=a(64174);f=a(83767);g=a(12501);e=a(5021);Ia(d,c.Tf);Ha.Object.defineProperties(d.prototype,{EJc:{configurable:!0,enumerable:!0,get:function(){return 2;}},DJc:{configurable:!0,enumerable:!0,get:function(){return (0,e.PWa)(3);}},T3a:{configurable:!0,enumerable:!0,get:function(){return !1;}},aya:{configurable:!0,enumerable:!0,get:function(){return !1;}},URb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Gvb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Qua:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=d;b.NFa=a;t.__decorate([g.config(g.cz,"prepareSegmentsUpfront")],a.prototype,"EJc",null);t.__decorate([g.config(g.ro,"prepareSegmentsDuration")],a.prototype,"DJc",null);t.__decorate([g.config(g.qd,"usePlaygraphForPostPlay")],a.prototype,"T3a",null);t.__decorate([g.config(g.qd,"usePlaygraphForSkipSegment")],a.prototype,"aya",null);t.__decorate([g.config(g.qd,"useSinglePlayerPlayback")],a.prototype,"URb",null);t.__decorate([g.config(g.qd,"forcePlaygraphTrace")],a.prototype,"Gvb",null);t.__decorate([g.config(g.qd,"postPlayDefaultNextEpisode")],a.prototype,"Qua",null);b.NFa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.Qo))],a);},45716:function(t,b,a){var n,c,f;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.PFa=void 0;t=a(22970);n=a(75864);c=a(22674);f=a(79048);d.prototype.mgc=function(g){var k,l,m;for(var e=[],h=0;h < arguments.length;++h)e[h - 0]=arguments[h];k=this;if(0 === e.length)throw Error("Empty playgraph");l=new f.av().zE(this.Tx(e[0]));e.reverse().forEach(function(p){var q;q=k.Tx(p);l.Re(q,Object.assign({J:p,Ta:0,cb:Infinity},m?{Hc:m}:{}));m=q;});return l.build();};d.prototype.Tx=function(g,e){e=void 0 === e?n.R5.oDa:e;return g + ":" + e;};d.prototype.E7b=function(g,e){var h,k,l,m;if(void 0 === l)l=null !== (h=e.id) && void 0 !== h?h:this.Tx(e.R);h=this.cxb(g);m=new f.av(g);m.Re(l,{J:e.R,Ta:null !== (k=e.Hb) && void 0 !== k?k:0,cb:Infinity});g=g.ba[h];e={};m.Re(h,Object.assign({},g,{Hc:l,next:Object.assign({},g.next || ({}),(e[l]={},e))}));return m.build();};d.prototype.cxb=function(g){for(var e=g.uf,h=e;h=g.ba[h].Hc;)e=h;return e;};a=d;b.PFa=a;b.PFa=a=t.__decorate([(0,c.aa)()],a);},60443:function(t,b,a){var n,c,f,g,e,h,k,l,m;function d(p,q,r,u,v,w,x){this.uh=p;this.CPa=q;this.ql=r;this.e3a=u;this.QIc=v;this.SIc=w;this.RIc=x;}Object.defineProperty(b,"__esModule",{value:!0});b.QFa=void 0;t=a(22970);n=a(22674);c=a(9862);f=a(87386);g=a(52531);e=a(44720);h=a(88063);k=a(25830);l=a(56190);a=a(32050);d.prototype.create=function(p){return new c.$eb(p,this.uh,this.CPa,this.ql,this.e3a,this.QIc,this.SIc,this.RIc);};m=d;b.QFa=m;b.QFa=m=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.zb)),t.__param(1,(0,n.v)(e.m4)),t.__param(2,(0,n.v)(g.LO)),t.__param(3,(0,n.v)(k.Zhb)),t.__param(4,(0,n.v)(h.cfb)),t.__param(5,(0,n.v)(l.efb)),t.__param(6,(0,n.v)(a.YFa))],m);},9862:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m,p,q,r,u,v,w){this.e3a=r;this.e4a=w;q.aya && (l=new f.afb().iVc(l));this.xb=v(l);this.lm=new c.ifb(this.xb);this.lm.WMb(this.xb.ga.J);this.log=m.wb("PlaygraphManager");this.jc=p.create();this.Gy=u.create(this.xb,this.lm,this.log,this.jc);this.WQc();this.XQc();}Object.defineProperty(b,"__esModule",{value:!0});b.$eb=void 0;n=a(85001);c=a(98899);f=a(15645);g=a(5021);e=a(33096);h=a(31276);k=a(45842);d.prototype.XQc=function(){var l,m,p;l=this;try{if(null !== (m=navigator.mediaSession) && void 0 !== m && m.setActionHandler){p=h.Wa.get(k.uJ)((0,g.ic)(500));navigator.mediaSession.setActionHandler("play",function(){p.ig(function(){l.Rb().play();});});navigator.mediaSession.setActionHandler("pause",function(){p.ig(function(){l.Rb().pause();});});navigator.mediaSession.setActionHandler("seekbackward",function(){p.ig(function(){var q,r;q=l.Rb();r=q.xA();r && q.seek(Math.max(0,r - 10 * e.yr),n.Mc.bv);});});navigator.mediaSession.setActionHandler("seekforward",function(){p.ig(function(){var q,r,u;q=l.Rb();r=q.xA();u=q.WK();r && q.seek(Math.min(r + 10 * e.yr,u),n.Mc.bv);});});navigator.mediaSession.setActionHandler("seekto",function(q){p.ig(function(){var r,u;r=l.Rb();u=q.seekTime;void 0 !== u && 0 <= u && u < r.WK() && r.seek(u * e.yr,n.Mc.bv);});});navigator.mediaSession.setActionHandler("previoustrack",null);navigator.mediaSession.setActionHandler("nexttrack",null);}}catch(q){this.log.error("Error setting up MediaSession",q);}};d.prototype.dsc=function(){return this.xb.vn;};d.prototype.npa=function(){return this.xb.ga;};d.prototype.Awb=function(){return this.xb.Bi;};d.prototype.sR=function(){return this.xb.wn;};d.prototype.Dn=function(l){for(var m=[],p=0;p < arguments.length;++p)m[p - 0]=arguments[p];this.xb.Dn.apply(this.xb,za(m));};d.prototype.bcc=function(l){for(var m=[],p=0;p < arguments.length;++p)m[p - 0]=arguments[p];this.xb.jnb(m);};d.prototype.HN=function(l){this.xb.wn=l;};d.prototype.csc=function(){return this.xb.Oua.XZ();};d.prototype.xl=function(l,m){this.xb.xl(l,m);};d.prototype.NSa=function(l,m,p,q){var r,u;p=void 0 === p?{}:p;q=void 0 === q?!0:q;if(l !== this.xb.Bi)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (r=this.sR().ba[l].next) && void 0 !== r?r:{}).indexOf(m))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + l + " -> " + m);null === (u=p.dr) || void 0 === u?void 0:u.isUIAutoPlay;return this.Gy.OSa(m,p,q);};d.prototype.jyb=function(){var l,m;l=this.Gy.fH().aH();m=this.xb.ga.Ta;return l?l - m:void 0;};d.prototype.esc=function(){var l,m;l=this.xb.Oua.XZ(this.xb.Bi);m=this.jyb();return l && m?l + m:void 0;};d.prototype.Cs=function(){return this.Gy.Cs();};d.prototype.addListener=function(l,m,p){this.jc.addListener(l,m,p);};d.prototype.removeListener=function(l,m){this.jc.removeListener(l,m);};d.prototype.Dq=function(){return this.Gy.Dq();};d.prototype.Rb=function(){return this.Gy.fH();};d.prototype.pgc=function(l,m,p){var q;l=void 0 === l?this.sR().uf:l;m=void 0 === m?{}:m;q=this.e4a.irb(this);this.xJc(null !== l && void 0 !== l?l:this.sR().uf,m,p);return q;};d.prototype.L6b=function(l){var m;this.log.info("Adding segment - movieId: " + l.R + ", startPts: " + l.Hb + ", logicalEnd: " + l.pj);m=Object.assign({},l.Cb,l.Hb?{Hb:l.Hb}:{},l.pj?{pj:l.pj}:{});this.OOb(l.R,m,l.S);return this.Gy.mmb(l);};d.prototype.transition=function(l){var m;m=this.xb.N$(this.xb.Bi);return m?this.NSa(this.xb.Bi,m,l):(this.log.error("Next segment is not defined"),Promise.reject());};d.prototype.close=function(l){return this.Gy.close(l);};d.prototype.xJc=function(l,m,p){var q;void 0 === l && (l=null === (q=this.sR()) || void 0 === q?void 0:q.uf);(m || p) && this.OOb(this.sR().ba[l].J,null !== m && void 0 !== m?m:{},p);this.Gy.sT(l);};d.prototype.OOb=function(l,m,p){p && this.lm.ZJ(l,p);this.lm.q6b(l,m);};d.prototype.WQc=function(){var l;l=this;this.xb.BTc(function(){l.lm.ZD();l.Gy.ZD();});this.xb.CTc(function(m){l.Gy.XXa(m);});this.xb.ATc(function(m){l.Gy.MS(m);});this.addListener(n.mW.vea,function(m){return l.lGc(m);});this.addListener(n.Za.xAb,function(m){return l.XFc(m);});};d.prototype.XFc=function(l){var m;m=this;this.Gy.DQb(l).catch(function(){return m.jc.rd(n.Za.error,l.Gfa());});};d.prototype.lGc=function(l){var m,p,q;m=this;p=this.Rb().getError();if(p)this.jc.rd(n.Za.LX,p);else {l=l.player;p=l.Dq().id;if(!this.Grb || this.Grb !== p){q=function(r){return m.nB(r);};this.Rb().EKb(n.ja.$M,q);l.HKa(n.ja.$M,q);this.Grb=p;}this.jc.rd(n.Za.Zla);this.jc.rd(n.Za.nq);this.jc.rd(n.Za.aC);this.jc.rd(n.Za.Rp);this.jc.rd(n.Za.Ofa);this.jc.rd(n.Za.LX);}};d.prototype.nB=function(l){var m,p,q;!1;m=l.metrics;if(m){p=this.Rb();q=p.Vl(l.position.segmentId);m=p.Vl(m.srcsegment);this.e3a.EKc(l,q,m,!!p.Oxb().Pg);}};b.$eb=d;},15645:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.afb=void 0;n=a(79048);d.prototype.iVc=function(c){var f;if(!this.Vxc(c.ba))return c;f=new n.av().zE(c.uf);Object.entries(c.ba).forEach(function(g){var e;e=Ea(g);g=e.next().value;e=e.next().value;g === c.uf?f.Re(g,Object.assign(Object.assign({},e),{next:void 0,cb:void 0,Hc:void 0})):f.Re(g,e);});return f.build();};d.prototype.Vxc=function(c){c=Object.values(c).map(function(f){return f.J;});return 1 === new Set(c).size;};b.afb=d;},79054:function(t,b,a){var n,c,f,g,e,h,k,l,m,p;function d(q,r,u,v,w,x,y){this.Xa=q;this.cPc=u;this.ql=w;this.Tq=y;this.YOc=r.jR(!1,"6.0054.803.911",q.id,x,v);}Object.defineProperty(b,"__esModule",{value:!0});b.TFa=void 0;t=a(22970);n=a(22674);c=a(81918);f=a(52531);g=a(88574);e=a(93488);h=a(2911);k=a(4203);l=a(65473);m=a(63368);a=a(75864);d.prototype.create=function(q,r,u,v){var w,x;w=this.cPc.Ufc(q,this.YOc,r);x=q.U3a;u.debug("Using " + (x?"single":"multiple") + " player playback strategy");return x?new g.Xgb(this.ql,q,r,u,w,v,this.Tq):new l.GO(q,r,w,v,this.Tq);};p=d;b.TFa=p;b.TFa=p=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.ie)),t.__param(1,(0,n.v)(e.Fgb)),t.__param(2,(0,n.v)(h.OGa)),t.__param(3,(0,n.v)(k.Ic)),t.__param(4,(0,n.v)(f.LO)),t.__param(5,(0,n.v)(m.Mia)),t.__param(6,(0,n.v)(a.Q5))],p);},69751:function(t,b,a){var n,c;function d(f,g,e,h){this.Oua=g;this.MA=e;this.ql=h;this.Lka={};this.iRb=[];this.cOb=[];this.HFb=[];this.iLa=new WeakMap();this.reset(f);}Object.defineProperty(b,"__esModule",{value:!0});b.ffb=void 0;n=a(79048);c=a(79048);d.prototype.reset=function(f){var g;g=1 < Object.keys(f.ba).length && 1 === new Set(Object.values(f.ba).map(function(e){return e.J;})).size;this.h5b=this.ql.URb || g;this.kNb(f);this.Bi=f.uf;this.vJa=this.MA.yG();this.I1a=new Map();};d.prototype.rR=function(f){if(this.U3a)return this.wn;this.iLa.has(f) || this.iLa.set(f,(0,n.F1a)(f.R,f.L));return this.iLa.get(f);};d.prototype.kNb=function(f){this.Uo=f;this.Lka={};f=Object.keys(f.ba);this.jnb(f);this.Oua.EWc(this.Uo);this.CEc();};d.prototype.Dn=function(f){var h;for(var g=[],e=0;e < arguments.length;++e)g[e - 0]=arguments[e];h=this;g.filter(function(k){return h.ZM(k.L);}).filter(function(k){k=k.v0;return !k || h.ZM(k);}).forEach(function(k){var l;l=k.L;h.Lka[l]=h.bGb(k.v0);h.wEc(l);});};d.prototype.jnb=function(f){var g;g=this;f.filter(function(e){return g.ZM(e);}).forEach(function(e){g.Lka[e]=g.bGb(g.ku(e).Hc);});};d.prototype.xl=function(f,g){var e,h,k;e=this.ku(f);if(e && e.next){h=new c.av(this.wn);k=Object.keys(e.next).reduce(function(l,m){l[m]=void 0 === g[m]?e.next[m]:Object.assign({},e.next[m],{weight:g[m]});return l;},{});k=Object.assign({},e,{next:k});h.Re(f,k);this.wn=h.build();}};d.prototype.ZM=function(f,g){g=void 0 === g?this.wn.ba:g;return (f in g);};d.prototype.N$=function(f){return this.Lka[f];};d.prototype.ku=function(f){return this.wn.ba[f];};d.prototype.Qsc=function(f){if(this.I1a.has(f))return this.I1a.get(f);f=this.ku(f);return isFinite(f.cb)?f.cb:void 0;};d.prototype.wRb=function(f,g){this.I1a.set(f,g);this.AEc(f);};d.prototype.BTc=function(f){this.iRb.push(f);};d.prototype.CTc=function(f){this.cOb.push(f);};d.prototype.ATc=function(f){this.HFb.push(f);};d.prototype.x_=function(){var f;f=void 0 === f?this.wn:f;return Object.values(f.ba).every(function(g){return void 0 !== g.xp;}) && 1 < Object.values(f.ba).length;};d.prototype.CEc=function(){var f;f=this;this.iRb.forEach(function(g){return g(f.wn);});};d.prototype.wEc=function(f){this.HFb.forEach(function(g){return g(f);});};d.prototype.AEc=function(f){this.cOb.forEach(function(g){return g(f);});};d.prototype.bGb=function(f){return null === f?void 0:f;};Ha.Object.defineProperties(d.prototype,{vn:{configurable:!0,enumerable:!0,get:function(){return this.vJa;}},U3a:{configurable:!0,enumerable:!0,get:function(){return this.h5b;}},wn:{configurable:!0,enumerable:!0,get:function(){return this.Uo;},set:function(f){if(this.Bi && !this.ZM(this.Bi,f.ba))throw Error("Provided playgraphMap does not contain the current segmentId " + this.Bi);this.kNb(f);}},Bi:{configurable:!0,enumerable:!0,get:function(){return this.C2b;},set:function(f){if(!this.ZM(f))throw Error("Provided currentSegmentId " + f + " does not exist in the current playgraph");this.C2b=f;}},ga:{configurable:!0,enumerable:!0,get:function(){return this.ku(this.Bi);}}});b.ffb=d;},69882:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.WFa=void 0;t=a(22970);n=a(45146);a=a(22674);d.prototype.EWc=function(f){this.Uo=f;this.xDb=this.Tfc(this.Uo.ba[this.Uo.uf].xp);};d.prototype.XZ=function(f){var k;(0,n.va)(this.Uo,"Playgraph should be initialized");for(var g=this.Uo.uf,e=0,h=new Set();g && !h.has(g);){k=this.Uo.ba[g];if(!k || !k.cb)break;if(f && f === g)break;e+=k.cb - k.Ta;h.add(g);g=k.Hc;}return e;};d.prototype.dPc=function(f,g,e){var h,k,l,m,p;(0,n.va)(this.Uo,"Playgraph should be initialized");l=this.Uo.ba[g];m=this.XZ(g);p=l.xp;if(l && void 0 !== p && void 0 !== m){m=m + f - l.Ta;if(p === l.J)return f;f=null === (h=this.xDb.get(g)) || void 0 === h?void 0:h.before;g=null === (k=this.xDb.get(g)) || void 0 === k?void 0:k.after;k=f?this.Uo.ba[f].cb:0;e=g?this.Uo.ba[g].Ta:e;h=f?this.XZ(f) + this.Uo.ba[f].cb - this.Uo.ba[f].Ta:0;g=g?this.XZ(g):this.XZ();if(void 0 != k && void 0 != e && void 0 != h && void 0 != g)return k + (m - h) * (e - k) / (g - h);}};d.prototype.Tfc=function(f){var m;(0,n.va)(this.Uo,"Playgraph should be initialized");for(var g,e=this.Uo.uf,h=[],k=new Map(),l=new Set();e && !l.has(e);){m=this.Uo.ba[e];m.J === f?(k.set(e,{before:e,after:e}),g=e,h.forEach(function(p){if(p=k.get(p))p.after=g;}),h=[]):(k.set(e,{before:g,after:void 0}),h.push(e));e=m.Hc;}return k;};c=d;b.WFa=c;b.WFa=c=t.__decorate([(0,a.aa)()],c);},62468:function(t,b,a){var n,c,f,g;function d(e,h){this.Xa=e;this.fzc=h;}Object.defineProperty(b,"__esModule",{value:!0});b.XFa=void 0;t=a(22970);n=a(22674);c=a(81918);f=a(7342);d.prototype.create=function(e){return new (a(58343).Mja)(this.Xa.yc(),e);};d.prototype.irb=function(e){return new (a(64059).Oga)(this.Xa.yc(),e,this.fzc);};g=d;b.XFa=g;b.XFa=g=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.ie)),t.__param(1,(0,n.v)(f.Eab))],g);},98899:function(t,b,a){var n;function d(c){this.Z=c;this.i3={};this.ZD();}Object.defineProperty(b,"__esModule",{value:!0});b.ifb=void 0;n=a(56819);d.prototype.ZD=function(){var c;c=this;Object.values(this.Z.wn.ba).forEach(function(f){f=f.J;c.i3[f] || c.mAb(f);});this.Txa();};d.prototype.AR=function(c){return this.i3[c];};d.prototype.dQc=function(c){this.Q$(c).state=n.UO.n9a;this.Txa();};d.prototype.cQc=function(c,f){c=this.Q$(c);c.state=n.UO.Error;c.error=f;c.oLb(!1);this.Txa();};d.prototype.WMb=function(c){c=this.Q$(c);c.state=n.UO.XVb;c.oLb(!0);this.Txa();};d.prototype.q6b=function(c,f){this.Q$(c).Cb=f;};d.prototype.ZJ=function(c,f){this.Q$(c).S=f;};d.prototype.Q$=function(c){var f;return null !== (f=this.AR(c)) && void 0 !== f?f:this.mAb(c);};d.prototype.mAb=function(c){var f,g;f=void 0;g=new Promise(function(e,h){f=function(k){(k?e:h)();};});return this.i3[c]={state:n.UO.$cb,vLc:g,oLb:f};};d.prototype.Txa=function(){var f;for(var c=this.Z.Bi;c=this.Z.N$(c);){f=this.Vf(c);if(this.i3[f].state === n.UO.Error)break;if(this.i3[f].state === n.UO.n9a)break;if(this.i3[f].state === n.UO.$cb)break;}};d.prototype.Vf=function(c){return this.Z.wn.ba[c].J;};b.ifb=d;},88574:function(t,b,a){var n,c,f,g,e;function d(h,k,l,m,p,q,r){var u;u=g.GO.call(this,k,l,p,q,r) || this;u.ql=h;u.wa=m;u.Ju=p;u.svb=!1;u.vPa=new Map();u.bGc=function(){u.fH().HKa(c.ja.$M,function(v){u.jc.rd(c.mW.vea,{player:u.Ju.fH()});u.xb.Bi=v.position.segmentId;});};u.Yvc();q.addListener(c.Za.loaded,u.bGc);return u;}Object.defineProperty(b,"__esModule",{value:!0});b.Xgb=void 0;n=a(79048);c=a(85001);f=a(36129);g=a(65473);e=a(75864);Ia(d,g.GO);d.prototype.mmb=function(h){var k,l,m,p,q,r,u,v,w,x,y;k=this;m=this.xb.wn;p=this.Tq.Tx(h.R,"ident");q=this.Tq.Tx(h.R,"main");r=this.Tq.Tx(h.R,"credits");u=isFinite(h.pj);v=isFinite(h.Hb) && h.R !== m.ba[m.uf].J;w={};x=new n.av(m).Re(q,Object.assign({J:h.R,Ta:v && h.Hb || 0,cb:null !== (l=h.pj) && void 0 !== l?l:Infinity},u?{next:(w[r]={},w),Hc:r}:{}));v && (l={},x.Re(p,{J:h.R,Ta:0,cb:h.Hb,next:(l[q]={},l),Hc:q}));u && x.Re(r,{J:h.R,Ta:h.pj,cb:Infinity});if(!this.xb.ZM(q)){h=m.ba[this.Tq.cxb(m)].J;y=this.Tq.Tx(h,e.R5.X6a);[this.Tq.Tx(h,e.R5.oDa),y].filter(function(A){return k.xb.ZM(A);}).forEach(function(A){var z,B,C;z=k.xb.ku(A);B=A === y || k.ql.Qua;C={};x.Re(A,Object.assign({},z,{next:Object.assign({},z.next,(C[q]={},C))},B?{Hc:q}:{}));});}this.xb.wn=x.build();return this.sT(q);};d.prototype.ZD=function(){this.Cs() && this.fH().ZD();};d.prototype.XXa=function(){};d.prototype.MS=function(h){this.fH().MS(h);};d.prototype.OSa=function(h,k,l){k=void 0 === k?{}:k;this.wa.debug("goToSegment " + h);return this.fH().iaa(h,k,l);};d.prototype.sT=function(h){if(h === this.XOc)return null;this.XOc=h;return this.svb?this.lm.AR(this.xb.ku(h).J).vLc:(this.svb=!0,g.GO.prototype.sT.call(this,h));};d.prototype.DQb=function(h){return h.errorCode && this.vPa.has(h.errorCode)?this.vPa.get(h.errorCode)(h):Promise.reject(Error("Error " + h.errorCode + " isn't recoverable"));};d.prototype.Yvc=function(){var h;h=this;this.vPa.set(f.da.Kdb,function(){var k,l;return null !== (l=null === (k=g.GO.prototype.sT.call(h,h.xb.Bi)) || void 0 === k?void 0:k.then(function(){var m,p;g.GO.prototype.OSa.call(h,h.xb.Bi,null !== (p=null === (m=h.lm.AR(h.xb.ga.J)) || void 0 === m?void 0:m.Cb) && void 0 !== p?p:{});})) && void 0 !== l?l:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.Xgb=d;},32754:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.CJb=void 0;t=a(22674);d=a(69493);n=a(28978);c=a(98166);f=a(660);b.CJb=new t.Ce(function(g){g(d.j8a).to(n.LAa).sa();g(c.Hab).to(f.OCa).sa();});},82100:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.t$a=b.egb=b.hF=b.d$a=b.sja=b.rja=b.Oib=b.Pib=b.n_b=b.sBa=b.TEMPORARY=b.ZE=void 0;b.txb=function(c){var f;f=c.getConfiguration();return [b.hF,b.sja,b.rja].find(function(g){var e;return null === (e=f.videoCapabilities) || void 0 === e?void 0:e.some(function(h){return h.robustness === g;});});};b.VRa=function(c){var f,g,e,k;try{g=c.match(/\(hr=([0-9a-fA-F]+)\)/);if(g && g[1]){e=parseInt(g[1],16);if((0,d.pc)(e))return e;}g=/\((\d[^)]+)\)/g;for(var h;h=g.exec(c);){k=Number(h[1]);(0,d.pc)(k) && (f=k);}}catch(l){}return f;};b.MAb=function(c){return n.te.Af.test(c);};b.eqb=function(c){return c.robustness?c.keySystem + "." + c.robustness:c.keySystem;};d=a(32687);n=a(22210);b.ZE="cenc";b.TEMPORARY="temporary";b.sBa="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.n_b="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.Pib="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.Oib="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.rja="SW_SECURE_CRYPTO";b.sja="SW_SECURE_DECODE";b.d$a="HW_SECURE_DECODE";b.hF="HW_SECURE_ALL";b.egb={rja:"SW_SECURE_CRYPTO",sja:"SW_SECURE_DECODE",d$a:"HW_SECURE_DECODE",hF:"HW_SECURE_ALL"};b.t$a=[b.hF];},56039:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.xRa=function(n){var c;c={};try{n.forEach(function(f){var g,e;if(f.yQ){for(var h=(0,d.OC),k=f.yQ,l=0,m=new Uint8Array(16),p=0;p < k.length;p+=2)m[l++]=parseInt(k.slice(p,p + 2),16);h=h(m);f=null !== (g=f.height) && void 0 !== g?g:f.Rva;c[h]=Math.max(f,null !== (e=c[h]) && void 0 !== e?e:0);}});}catch(f){}return c;};d=a(31276);},69493:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.j8a="DrmProviderSymbol";},98166:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hab="LicenseProviderSymbol";},24735:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.xr=void 0;b.GCb=function(d){return ["STANDARD","LIMITED"][d];};(function(d){d[d.Er=0]="STANDARD";d[d.dJ=1]="LIMITED";})(a || (b.xr=a={}));},28978:function(t,b,a){var n,c,f,g,e,h,k,l;function d(m,p,q,r){this.Ok=m;this.Bx=p;this.hXc=q;this.jzc=r;}Object.defineProperty(b,"__esModule",{value:!0});b.LAa=void 0;t=a(22970);n=a(22674);c=a(74870);f=a(2248);g=a(84408);e=a(53921);h=a(24735);k=a(82100);a=a(98166);d.prototype.vu=function(m){var p;p=this;return this.Ok.D8(m.oK[0].data[0],[8,4])?Promise.resolve({D_:[{id:"ddd",DCb:"cert",ECb:void 0}],bB:[{sessionId:"ddd",data:new Uint8Array(this.Bx.decode(k.Oib))}]}):this.Ok.D8(m.oK[0].data[0],this.hXc.decode("certificate"))?Promise.resolve({D_:[{id:"ddd",DCb:"cert",ECb:void 0}],bB:[{sessionId:"ddd",data:new Uint8Array(this.Bx.decode(k.sBa))}]}):this.jzc.Yz(this.boc(m)).then(function(q){return p.coc(q);});};d.prototype.boc=function(m){var p,q;p=this;q=m.oK.map(function(r){return r.data.map(function(u){return {sessionId:r.sessionId,dataBase64:p.Bx.encode(u)};});});return {Ia:m.Ia,Zd:m.Zd,dtb:m.dtb,Hi:(0,h.GCb)(m.Hi),zQ:e.vr[m.zQ],oK:q.reduce(function(r,u){return r.concat(u);},[]),wp:m.wp,yf:m.yf,J:m.J,Vp:m.Vp};};d.prototype.coc=function(m){return {D_:m.D_,bB:m.bB};};l=d;b.LAa=l;b.LAa=l=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.Bm)),t.__param(1,(0,n.v)(f.om)),t.__param(2,(0,n.v)(g.AF)),t.__param(3,(0,n.v)(a.Hab))],l);},660:function(t,b,a){var n,c,f,g,e;function d(h,k,l,m){this.C5b=h;this.wNc=l;this.TNc=m;this.wa=k.wb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.OCa=void 0;t=a(22970);n=a(22674);c=a(87386);f=a(81378);a(24674);g=a(16257);a=a(829);d.prototype.Yz=function(h){var k,l;k=this;!1;l=this.wNc.gVc(h);return this.C5b.Ue({log:this.wa,links:h.wp,J:h.J},l).then(function(m){m.map(function(p){return p.kzc;});return k.TNc.pQb(m);}).catch(function(m){k.wa.error("PBO license failed",m);return Promise.reject(m);});};e=d;b.OCa=e;b.OCa=e=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.NEa)),t.__param(1,(0,n.v)(c.zb)),t.__param(2,(0,n.v)(g.feb)),t.__param(3,(0,n.v)(a.$Ea))],e);},45266:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.Isb=b.Ttc=b.TQb=b.pM=b.Gsa=b.xEb=void 0;t=a(29664);d=a(31435);n=a(60024);c=a(56663);a=a(5154);b.xEb=t;b.Gsa=function(f,g){return (0,b.xEb)(function(e,h){return void 0 !== h?h:e;},f,g);};b.pM=d;b.TQb=n;b.Ttc=c;b.Isb=a;},17892:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.e1b="StorageValidatorSymbol";b.QI="AppStorageFactorySymbol";},44272:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.lhb="Storage";},62945:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;t=a(22674);d=a(91133);n=a(48159);c=a(56278);f=a(42304);g=a(42236);e=a(84970);h=a(57925);k=a(67894);l=a(17892);m=a(86607);p=a(26305);b.storage=new t.Ce(function(q){q(n.Lcb).$f(function(){return function(){return Ba.localStorage;};});q(n.v$a).$f(function(){return function(){return Ba.indexedDB;};});q(m.rcb).to(p.QDa).sa();q(l.QI).to(k.gza).sa();q(c.jbb).to(f.TCa).sa();q(d.Uha).to(h.iCa).sa();q(g.W$a).to(e.jCa).sa();q(g.u$a).to(e.aCa).sa();q(g.X$a).to(e.kCa).sa();});},56278:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jbb="LocalStorageSymbol";},86607:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.rcb="MemoryStorageSymbol";},48159:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mZb="NativeLocalStorageSymbol";b.Lcb="NativeLocalStorageFactorySymbol";b.v$a="IDBFactorySymbol";},31679:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.lVb="__default_rule_key__";},67894:function(t,b,a){var c,f,g,e,h,k,l;function d(m,p,q,r){this.wa=m;this.config=p;this.wvc=q;this.CWa=r;this.fQ={mem:{storage:this.CWa,key:"mem"}};this.nN=this.config.nN;}function n(m,p,q,r){this.uh=m;this.kt=p;this.CWa=q;this.config=r;}Object.defineProperty(b,"__esModule",{value:!0});b.hza=b.gza=void 0;t=a(22970);c=a(22674);f=a(36129);g=a(42236);e=a(87386);h=a(86607);k=a(31679);a=a(34231);n.prototype.create=function(){this.U8 || (this.U8=this.kY());return this.U8;};n.prototype.kY=function(){this.v7b=new d(this.uh.wb("AppStorage"),this.config,this.kt,this.CWa);return this.v7b.create();};l=n;b.gza=l;b.gza=l=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(e.zb)),t.__param(1,(0,c.v)(g.X$a)),t.__param(2,(0,c.v)(h.rcb)),t.__param(3,(0,c.v)(a.xt))],l);d.prototype.create=function(){var m;m=this;return this.Gfc().then(function(p){if(!m.Bac(p,m.config.zaa))throw m.jEc(p);return m;});};d.prototype.load=function(m){var p;p=this;return new Promise(function(q,r){p.x$(m).storage.load(m).then(function(u){q(u);}).catch(function(u){r(u);});});};d.prototype.save=function(m,p,q){var r;r=this;return new Promise(function(u,v){r.x$(m).storage.save(m,p,q).then(function(w){u(w);}).catch(function(w){v(w);});});};d.prototype.remove=function(m){var p;p=this;return new Promise(function(q,r){p.x$(m).storage.remove(m).then(function(){q();}).catch(function(u){r(u);});});};d.prototype.removeAll=function(){var m;m=this;return new Promise(function(p,q){m.vKb("mem").then(function(){return m.vKb("idb");}).catch(function(r){return Promise.reject(r);}).then(function(){p();}).catch(function(r){m.wa.error("remove all failed");q(r);});});};d.prototype.loadAll=function(){var m,p;m=this;p=[];return this.bDb("mem").then(function(q){p=p.concat(q);return m.bDb("idb");}).catch(function(q){m.Xxc(q) || m.wa.error("IndexedDb.LoadAll exception",q);return [];}).then(function(q){return p=p.concat(q);}).catch(function(q){m.wa.error("load all failed",q);throw q;});};d.prototype.Gfc=function(){var m;m=this;return this.wvc.create().then(function(p){m.fQ.idb={storage:p,key:"idb"};}).catch(function(p){m.wa.error("idb failed to load",p);return p || ({Ua:f.Y.zh});});};d.prototype.Bac=function(m,p){return !m || m && p?!0:!1;};d.prototype.jEc=function(m){var p;p="";m && (p+=m.Ua);return {Ua:p};};d.prototype.vKb=function(m){return (m=this.fQ[m])?m.storage.removeAll():Promise.resolve();};d.prototype.bDb=function(m){return (m=this.fQ[m])?m.storage.loadAll():Promise.resolve([]);};d.prototype.anc=function(m){for(var p in this.nN)if(m.startsWith(p))return this.nN[p];return this.nN[k.lVb];};d.prototype.x$=function(m){var p,q;p=this;this.anc(m).every(function(r){return p.fQ[r]?(q=p.fQ[r],!1):!0;});if(!q){this.wa.error("component not found for storageKey",{YSc:m,N5c:Object.keys(this.fQ),rules:this.nN});q=this.fQ.mem;}this.wa.trace("component found for key",{storageKey:m,componentKey:q.key});return q;};d.prototype.Xxc=function(m){return (m && (m.Ua || m.errorSubCode)) === f.Y.vF;};b.hza=d;},6675:function(t,b){function a(d,n){this.eG=d;this.Rf=n;}Object.defineProperty(b,"__esModule",{value:!0});b.KCa=void 0;a.prototype.load=function(d,n){var c;c=this;this.eG.load(d).then(function(f){n && n(a.kPb(f));}).catch(function(f){n && n(c.MG(d,f));});};a.prototype.save=function(d,n,c,f){var g;g=this;this.eG.save(d,n,c).then(function(){f && f(a.kPb({key:d,value:n}));}).catch(function(e){f && f(g.MG(d,e));});};a.prototype.remove=function(d,n){var c;c=this;this.eG.remove(d).then(function(){n && n({success:!0,fxa:d});}).catch(function(f){n && n(c.MG(d,f));});};a.kPb=function(d){return {success:!0,data:d.value,fxa:d.key};};a.prototype.MG=function(d,n){return {success:!1,fxa:d,Ua:n.Ua,ef:n.Fc?this.Rf.jj(n.Fc):void 0};};b.KCa=a;},42304:function(t,b,a){var n,c,f;function d(g){this.tM=g;}Object.defineProperty(b,"__esModule",{value:!0});b.TCa=void 0;t=a(22970);n=a(22674);c=a(36129);a=a(48159);d.prototype.load=function(g){var e;e=this;return new Promise(function(h,k){var l,m;try{l=e.tM.getItem(g);if(l){m=l;if("{" === l[0])try{m=JSON.parse(l) || l;}catch(p){}h({key:g,value:m});}else k({Ua:c.Y.vF});}catch(p){k({Ua:c.Y.tgb,Fc:p});}});};d.prototype.save=function(g,e,h){var k;k=this;return new Promise(function(l,m){if(h && k.tM.getItem(g))l(!1);else try{"string" === typeof e?k.tM.setItem(g,e):k.tM.setItem(g,JSON.stringify(e));l(!0);}catch(p){m({Ua:c.Y.ugb,Fc:p});}});};d.prototype.remove=function(g){var e;e=this;return new Promise(function(h,k){try{e.tM.removeItem(g);h();}catch(l){k({Ua:c.Y.EGa,Fc:l});}});};d.prototype.loadAll=function(){return Promise.reject("Not supported");};d.prototype.removeAll=function(){return Promise.reject("Not supported");};f=d;b.TCa=f;b.TCa=f=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.mZb))],f);},26305:function(t,b,a){var n,c,f;function d(g){this.uh=g;this.CS={};this.wa=this.uh.wb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.QDa=void 0;t=a(22970);n=a(22674);c=a(36129);a=a(87386);d.prototype.load=function(g){var e;if(this.CS.hasOwnProperty(g)){e=this.CS[g];this.wa.debug("Storage entry loaded",{key:g});return Promise.resolve({key:g,value:e});}this.wa.debug("Storage entry not found",{key:g});return Promise.reject({Ua:c.Y.vF});};d.prototype.save=function(g,e,h){if(h && this.CS.hasOwnProperty(g))return Promise.resolve(!1);this.CS[g]=e;return Promise.resolve(!0);};d.prototype.remove=function(g){delete this.CS[g];return Promise.resolve();};d.prototype.loadAll=function(){var g;g=Object.entries(this.CS).map(function(e){var h;h=Ea(e);e=h.next().value;h=h.next().value;return {key:e,value:h};});return Promise.resolve(g);};d.prototype.removeAll=function(){this.CS={};return Promise.resolve();};f=d;b.QDa=f;b.QDa=f=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.zb))],f);},92093:function(t,b,a){var c,f,g;function d(e,h,k){this.config=e;this.Ip=h;this.tM=k;}function n(e,h){this.reason=e;this.Fc=h;}Object.defineProperty(b,"__esModule",{value:!0});b.V$a=b.q0b=void 0;c=a(36129);f=a(59818);(function(e){e[e.oEa=0]="NoData";e[e.Error=1]="Error";e[e.yF=2]="Timeout";})(g || (b.q0b=g={}));d.prototype.load=function(e){var h;h=this;return new Promise(function(k,l){h.toa("get",!1,e).then(function(m){k({key:e,value:m});}).catch(function(m){var p;p=c.Y.tgb;switch(m.reason){case g.oEa:p=c.Y.vF;break;case g.yF:p=c.Y.T0b;}l({Ua:p,Fc:m.Fc});});});};d.prototype.save=function(e,h,k){var l;l=this;return new Promise(function(m,p){l.toa(k?"add":"put",!0,{name:e,data:h}).then(function(){m(!k);}).catch(function(q){var r;r=c.Y.ugb;switch(q.reason){case g.yF:r=c.Y.W0b;}p({Ua:r,Fc:q.Fc});});});};d.prototype.remove=function(e){var h;h=this;return new Promise(function(k,l){h.toa("delete",!0,e).then(function(){k();}).catch(function(m){var p;p=c.Y.EGa;switch(m.reason){case g.yF:p=c.Y.sgb;}l({Ua:p,Fc:m.Fc});});});};d.prototype.removeAll=function(){var e;e=this;return new Promise(function(h,k){e.toa("clear",!0,"").then(function(){h();}).catch(function(l){var m;m=c.Y.EGa;switch(l.reason){case g.yF:m=c.Y.sgb;}k({Ua:m,Fc:l.Fc});});});};d.prototype.loadAll=function(){var e;e=this;return this.Ip.Us(this.config.timeout,new Promise(function(h,k){var l,m,p;if(e.config.D1a)k(new n(e.config.D1a));else {l=[];m=e.tM.transaction(e.config.Ica,"readonly");p=m.objectStore(e.config.Ica).openCursor();m.onerror=function(){k(new n(g.Error,p.error));};p.onsuccess=function(q){if(q=q.target.result)try{l.push({key:q.value.name,value:q.value.data});q.continue();}catch(r){k(new n(g.Error,r));}else h(l);};p.onerror=function(){k(new n(g.Error,p.error));};}})).catch(function(h){return h instanceof f.jx?Promise.reject(new n(g.yF,h)):h instanceof n?Promise.reject(h):Promise.reject(new n(g.Error,h));});};d.prototype.toa=function(e,h,k){var l;l=this;return this.Ip.Us(this.config.timeout,new Promise(function(m,p){var q,r;q=l.tM.transaction(l.config.Ica,h?"readwrite":"readonly");r=q.objectStore(l.config.Ica)[e](k);q.onerror=function(){p(new n(g.Error,r.error));};r.onsuccess=function(u){var v;if("get" == e)try{v=u.target.result;v?m(v.data):p(new n(g.oEa));}catch(w){p(new n(g.oEa,w));}else m(void 0);};r.onerror=function(){p(new n(g.Error,r.error));};})).catch(function(m){return m instanceof f.jx?Promise.reject(new n(g.yF,m)):m instanceof n?Promise.reject(m):Promise.reject(new n(g.Error,m));});};b.V$a=d;},91133:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uha="IndexedDBConfigSymbol";},42236:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.u$a="IDBDatabaseFactorySymbol";b.W$a="IndexedDBFactorySymbol";b.X$a="IndexedDBStorageFactorySymbol";},57925:function(t,b,a){var n,c,f,g,e;function d(h,k){h=f.Tf.call(this,h,"IndexedDBConfigImpl") || this;h.config=k;h.version=1;h.Ica="namedatapairs";return h;}Object.defineProperty(b,"__esModule",{value:!0});b.iCa=void 0;t=a(22970);n=a(22674);c=a(12501);f=a(64174);g=a(34231);a=a(83767);Ia(d,f.Tf);Ha.Object.defineProperties(d.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.KG?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.MOb;}},Hla:{configurable:!0,enumerable:!0,get:function(){return this.config.Hla;}},E1a:{configurable:!0,enumerable:!0,get:function(){return 0;}},D1a:{configurable:!0,enumerable:!0,get:function(){return 0;}},xvb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});e=d;b.iCa=e;t.__decorate([c.config(c.cz,"simulateIdbOpenError")],e.prototype,"E1a",null);t.__decorate([c.config(c.cz,"simulateIdbLoadAllError")],e.prototype,"D1a",null);t.__decorate([c.config(c.qd,"fixInvalidDatabase")],e.prototype,"xvb",null);b.iCa=e=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.Qo)),t.__param(1,(0,n.v)(g.xt))],e);},84970:function(t,b,a){var f,g,e,h,k,l,m,p,q,r,u,v;function d(w,x,y,A,z,B){this.config=x;this.W8=y;this.kt=A;this.xXc=z;this.Go=B;this.wa=w.wb(l.lhb);}function n(w,x){this.config=w;this.GE=x;}function c(w,x,y,A,z){this.config=x;this.GE=y;this.Go=z;this.wa=w.wb(l.lhb);this.W8=new Promise(function(B,C){var D;try{D=A();D?B(D):C({Ua:k.Y.w$a});}catch(E){C({Ua:k.Y.Sha,Fc:E});}});}Object.defineProperty(b,"__esModule",{value:!0});b.kCa=b.jCa=b.aCa=void 0;t=a(22970);f=a(22674);g=a(87386);e=a(92093);h=a(48159);k=a(36129);l=a(44272);m=a(91133);p=a(59818);q=a(17892);r=a(77134);u=a(42236);v=a(63156);c.prototype.create=function(){this.$Na || (this.$Na=this.kY());return this.$Na;};c.prototype.au=function(w){var x;x=this;this.$Na=null;return this.GE.Us(this.config.timeout,new Promise(function(y,A){w.close();x.delete(w.name).then(function(){y();}).catch(function(z){A(z);});})).catch(function(y){return y instanceof p.jx?Promise.reject({Ua:k.Y.Sha}):y.Ua?Promise.reject(y):Promise.reject({Ua:k.Y.Sha,Fc:y});});};c.prototype.delete=function(w){var x;x=this;return this.GE.Us(this.config.timeout,new Promise(function(y,A){x.W8.then(function(z){var B;B=z.deleteDatabase(w);B.onsuccess=function(){y();};B.onerror=function(){A({Ua:k.Y.Sha,Fc:B.error});};}).catch(function(z){A(z);});}));};c.prototype.kY=function(){var w,x;w=this;return this.GE.Us(this.config.timeout,new Promise(function(y,A){if(w.config.E1a)return A({Ua:w.config.E1a});w.W8.then(function(z){w.Go.mark(v.Pn.gXb);x=z.open(w.config.name,w.config.version);if(!x)return A({Ua:k.Y.x$a});x.onblocked=function(){w.Go.mark(v.Pn.dXb);A({Ua:k.Y.$Wb});};x.onupgradeneeded=function(){var B;w.Go.mark(v.Pn.nXb);B=x.result;try{B.createObjectStore(w.config.Ica,{keyPath:"name"});}catch(C){w.wa.error("Exception while creating object store",C);}};x.onsuccess=function(B){var C,D;w.Go.mark(v.Pn.mXb);try{C=B.target.result;D=C.objectStoreNames.length;w.wa.trace("objectstorenames length ",D);if(0 === D){w.wa.error("invalid indexedDb state, deleting");w.Go.mark(v.Pn.fXb);try{C.close();}catch(E){}z.deleteDatabase(w.config.name);setTimeout(function(){A({Ua:k.Y.ZWb});},1);return;}}catch(E){w.wa.error("Exception while inspecting indexedDb objectstorenames",E);}y(x.result);};x.onerror=function(){w.Go.mark(v.Pn.eXb);w.wa.error("IndexedDB open error",x.error);A({Ua:k.Y.aXb,Fc:x.error});};}).catch(function(z){A(z);});})).catch(function(y){if(y instanceof p.jx){try{x && x.readyState && w.Go.mark("readyState-" + x.readyState);}catch(A){}if(w.config.Hla && x && "done" === x.readyState){if(w.mXc(x))return (w.Go.mark(v.Pn.kXb),Promise.resolve(x.result));w.Go.mark(v.Pn.jXb);}w.Go.mark(v.Pn.iXb);return Promise.reject({Ua:k.Y.cXb});}if(y.Ua)return Promise.reject(y);w.Go.mark(v.Pn.hXb);w.wa.error("IndexedDB open exception occurred",y);return Promise.reject({Ua:k.Y.bXb,Fc:y});});};c.prototype.mXc=function(w){try{return 0 < w.result.objectStoreNames.length;}catch(x){this.Go.mark(v.Pn.lXb);this.wa.error("failed to check open request state",x);}return !1;};a=c;b.aCa=a;b.aCa=a=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(g.zb)),t.__param(1,(0,f.v)(m.Uha)),t.__param(2,(0,f.v)(p.sF)),t.__param(3,(0,f.v)(h.v$a)),t.__param(4,(0,f.v)(r.AW))],a);n.prototype.create=function(w){return Promise.resolve(new e.V$a(this.config,this.GE,w));};a=n;b.jCa=a;b.jCa=a=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(m.Uha)),t.__param(1,(0,f.v)(p.sF))],a);d.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.U8 || (this.U8=this.kY(this.xXc));return this.U8;};d.prototype.kY=function(w){var x;x=this;w=void 0 === w?[]:w;return new Promise(function(y,A){x.Go.mark(v.Pn.S0b);x.W8.create().then(function(z){x.kt.create(z).then(function(B){Promise.all(w.map(function(C){return C.validate(B);})).then(function(){x.storage=B;y(x.storage);}).catch(function(C){x.wa.debug("DB validation failed, cause: " + C);x.config.xvb?(x.wa.debug("Fixing corrupt DB"),x.W8.au(z).then(function(){x.wa.error("Invalid database deleted, creating new database.");x.kY().then(function(D){x.wa.error("Invalid database successfully recreated.");x.storage=D;y(x.storage);});}).catch(function(D){x.wa.error("Couldn't delete invalid database.");A(D);})):(x.wa.debug("Ignoring invalid DB due to config"),x.storage=B,y(x.storage));});}).catch(function(B){A(B);});}).catch(function(z){A(z);});});};a=d;b.kCa=a;b.kCa=a=t.__decorate([(0,f.aa)(),t.__param(0,(0,f.v)(g.zb)),t.__param(1,(0,f.v)(m.Uha)),t.__param(2,(0,f.v)(u.u$a)),t.__param(3,(0,f.v)(u.W$a)),t.__param(4,(0,f.optional)()),t.__param(4,(0,f.OH)(q.e1b)),t.__param(5,(0,f.v)(r.AW))],a);},69899:function(t,b,a){var c;function d(f,g,e){this.start=f;this.track=g;this.oN=Array.isArray(e)?e:[];}function n(f,g){this.log=f;this.fya=g;this.XZa=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.vhb=void 0;c=a(45146);n.prototype.G5b=function(f,g){this.BFb(f,g,"activating");};n.prototype.fhc=function(f){this.nPa(f,"de-activating");};n.prototype.BFb=function(f,g,e){var h;this.Yn && this.nPa(f,"close current for new");h=[];this.orphans.length && (h.push.apply(h,za(this.orphans)),this.orphans=[]);this.Yn=new d(f,g,h);this.fya && this.log.trace("new range: " + e,this.Yn);};n.prototype.nPa=function(f,g){this.Yn && (this.Yn.end=f,this.XZa.push(this.Yn),this.fya && this.log.trace("end range: " + g,this.Yn || ({})),this.Yn=void 0);};n.prototype.CRb=function(f){for(var g=[],e=0;e < arguments.length;++e)g[e - 0]=arguments[e];this.Yn?this.Yn.oN.push.apply(this.Yn.oN,za(g)):this.orphans.push.apply(this.orphans,za(g));};n.prototype.tSa=function(f){var g,e;g=this.XZa.slice(0);if(this.Yn && "undefined" !== typeof f){e=new d(this.Yn.start,this.Yn.track,this.Yn.oN);e.end=f;g.push(e);}f=g.reduce(function(h,k){var l,m,p,q;if(!k.track)return h;m=k.track.ob;p=k.track.Gq(k.start,k.end);if(void 0 === p || null === p)return h;q=new Set(k.oN);h[m]?(k=h[m],k.expected+=p,k.missed+=p - q.size):h[m]={dlid:m,bcp47:k.track.Ig,profile:k.track.profile,expected:p,missed:p - q.size,startPts:null !== (l=k.track.Usc()) && void 0 !== l?l:0};return h;},{});f=Object.values(f);this.fya && this.log.trace("subtitleqoe:",JSON.stringify(f,null,"\t"));return f;};n.prototype.Ksc=function(f){var g,e,h,k;g=this.XZa.slice(0);e=0;h=0;if(this.Yn && "undefined" != typeof f){k=new d(this.Yn.start,this.Yn.track,this.Yn.oN);k.end=f;g.push(k);}g.forEach(function(l){var m,p;if(l.track){if(l.end < l.start){(0,c.va)(!1,"negative range");l.XM=0;return;}m=new Set(l.oN);p=l.track.Gq(l.start,l.end);l.voa=p;l.XM=void 0 === p || null === p?0:0 === p?100:100 * m.size / p;}else l.XM=100;m=l.end - l.start;e+=m;h+=l.XM * m;});k=e?Math.round(h / e):100;this.log.trace("qoe score " + k + ", at pts: " + f);this.fya && (f=g.map(function(l){return {start:l.start,"end  ":l.end,duration:l.end - l.start,score:Math.round(l.XM),lang:l.track?l.track.Ig:"none","actual  ":l.oN.join(" "),expected:l.voa};}),this.log.trace("score for each range: ",JSON.stringify(f,function(l,m){return m;}," ")));return k;};b.vhb=n;},40076:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.CU=void 0;t=a(22674);d=a(53205);n=a(29773);c=a(22692);f=a(87549);b.CU=new t.Ce(function(g){g(f.Lhb).to(d.pHa);g(c.Jhb).Sp(new n.oHa());g(f.Khb).$f(function(e){return function(){return e.Jb.get(f.Lhb);};});});},87549:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lhb="ThroughputTrackerSymbol";b.Khb="ThroughputTrackerFactorySymbol";},22692:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jhb="ThroughputTrackerConfigSymbol";},70826:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.g8a=void 0;d=a(72574);b.g8a=function(n,c){this.djc=n;this.size=c.vUa()?d.ia:c;};},29773:function(t,b,a){function d(n){this.fjc=void 0 === n?10:n;}Object.defineProperty(b,"__esModule",{value:!0});b.oHa=void 0;t=a(22970);a=a(22674);b.oHa=d;b.oHa=d=t.__decorate([(0,a.aa)()],d);},53205:function(t,b,a){var n,c,f,g;function d(e){this.config=e;this.G1a=c.ia;this.m2=[];}Object.defineProperty(b,"__esModule",{value:!0});b.pHa=void 0;t=a(22970);n=a(22674);c=a(72574);f=a(5021);a=a(22692);d.prototype.jl=function(){var h;for(var e;0 < this.m2.length;)(e=this.m2.shift(),this.Wlb(e));e=void 0 === this.s9 || void 0 === this.xQ?f.ia:this.xQ.ea(this.s9);h=e.uBb()?0:this.G1a.oa(c.$N) / e.oa(f.za);return {I2a:Math.floor(h),E7c:e.oa(f.za)};};d.prototype.W5b=function(e){this.G1a=this.G1a.add(e.size);this.m2.push(e.djc);for(this.m2.sort(function(h,k){return h.start.Nl(k.start);});this.m2.length > this.config.fjc;)(e=this.m2.shift(),this.Wlb(e));};d.prototype.Wlb=function(e){void 0 === this.s9 && (this.s9=e.start);void 0 !== this.xQ && 0 > this.xQ.Nl(e.start) && (this.s9=this.s9.add(e.start.ea(this.xQ)));if(void 0 === this.xQ || 0 > this.xQ.Nl(e.end))this.xQ=e.end;};g=d;b.pHa=g;b.pHa=g=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.Jhb))],g);},35781:function(t,b,a){var n,c,f,g,e,h,k,l,m;function d(p,q,r,u,v,w){var x,y;p=e.RO.call(this,q,p,v,!0,{correlationId:"",Ep:"content"},"1",[{Kg:0,url:r,type:"unknown"}],"xx",u || p,h.dv.iW,void 0,void 0,"primary",null !== (x=null === w || void 0 === w?void 0:w.profile) && void 0 !== x?x:"dfxp-ls-sdh",null !== (y=null === w || void 0 === w?void 0:w.midx) && void 0 !== y?y:{},!1,!1,null === w || void 0 === w?void 0:w.isLanguageLeftToRight) || this;p.j=q;p.url=r;p.options=w;p.fz=null === w || void 0 === w?void 0:w.useRangeHeader;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.Mhb=void 0;t=a(13044);n=a(29204);c=a(37509);f=a(31276);g=a(52569);e=a(26159);h=a(35128);k=a(61726);l=a(43193);m=a(85001);(0,t.U_b)(t.xFa,function(p){var r;function q(u){var v;if(u.ctrlKey && u.altKey && u.shiftKey && u.keyCode == l.QV.h1b){v=(0,g.createElement)("INPUT",void 0,void 0,{type:"file"});v.addEventListener("change",function(){var w,x,y;w=v.files[0];if(w){x=w.name;r.info("Loading file",{FileName:x});y=new FileReader();y.readAsText(w);y.addEventListener("load",function(){return p.gr.xKa("nourl",x,{content:y.result});});}});v.click();}}r=(0,f.ko)(p,"TimedTextCustomTrack");n.config.XNa && (r.info("Loading url",{Url:n.config.XNa}),p.gr.xKa(n.config.XNa,"custom"));c.ye.addListener(c.eL,q);p.addEventListener(m.ja.rh,function(){c.ye.removeListener(c.eL,q);});});Ia(d,e.RO);d.ofc=function(p,q,r,u){var v;v="custom" + d.swc++;return new d(v,p,q,r,-1,u);};d.prototype.btb=function(){var p;p=this;return new Promise(function(q,r){var u,v;if(null === (u=p.options) || void 0 === u?0:u.content)q(p.options.content);else if(p.url){v={responseType:k.mTa,url:p.url,track:p,Tc:void 0,BK:"tt-" + p.Ig,Mw:"unknown"};p.j.tqa.download(v,function(w){w.success?q(w.content):(w.reason="downloadfailed",w.url=v.url,w.track=p,r(w));});}});};b.Mhb=d;d.swc=0;},97154:function(t,b,a){var n,c,f,g,e,h;function d(k,l,m,p){this.tN=k;this.Ooa=l;this.GG={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,n.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.ZMb(m);this.iQa=this.Pwb(this.Ooa);this.lang=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Nhb=void 0;n=a(52569);c=a(33579);f=a(15531);g=a(29204);e=a(22365);h=a(3887);d.prototype.Dq=function(){return this.element;};d.prototype.MPc=function(k){this.NC=k;};d.prototype.aQc=function(k){this.entry=k;this.GT();};d.prototype.lQc=function(k){this.ZMb(k);this.GT();};d.prototype.mQc=function(k){this.lang=k;this.GT();};d.prototype.GT=function(){var k,l,m,p,q,r,u,v,w,x,y,A,B,C,D;k=this;l=this.Dq();m=l.parentElement;p=m && m.clientWidth || 0;q=m && m.clientHeight || 0;r=m=0;u=0;v={width:p,height:q};x=this.tN.vwb().characterSize;this.lang && g.config.Cqa && g.config.Cqa.includes(this.lang) && "MEDIUM" === x && (u=1.4);this.lang && g.config.Dqa && g.config.Dqa.includes(this.lang) && "SMALL" === x && (u=1.6);if(0 < p && 0 < q && this.entry){this.NC && (v=(0,n.Moa)(p,q,this.NC),m=Math.round((p - v.width) / 2),r=Math.round((q - v.height) / 2));y=this.mac(v);A=(0,n.Moa)(y.width,y.height,this.NC);(w=this.dSc(this.entry.blocks)) && (w=this.gOc(w));y=w && w.map(function(E){var H;H=null === E || void 0 === E?void 0:E.region;switch(H.horizontalAlignment){case "start":H.horizontalAlignment="rtl" === k.GG.direction?"right":"left";break;case "end":H.horizontalAlignment="rtl" === k.GG.direction?"left":"right";}H=(0,f.Utb)(E,A,k.Ooa,k.iQa,u);E=(0,f.Blc)(E) + ";position:absolute";return (0,n.createElement)("div",E,H,d.mAa);});}Object.assign(this.GG,{left:m + "px",right:m + "px",top:r + "px",bottom:r + "px"});l.style.display="none";l.style.direction=this.GG.direction;l.innerHTML="";if(y && y.length){p=v.width;m=v.height;x=v;this.i8 && (x=this.A5b(v,this.i8,q,r));this.GG.margin=this.qy?this.xma(v,"top") + "px " + this.xma(v,"right") + "px " + this.xma(v,"bottom") + "px " + this.xma(v,"left") + "px ":void 0;y.forEach(function(E){return l.appendChild(E);});q=(0,n.O8)(this.GG);l.style.cssText=q + ";visibility:hidden;z-index:-1";r=[];for(var z=y.length - 1;0 <= z;z--){B=y[z];C=w[z];D=this.OFb(B,C,p,m);u=0 < u?p / D.width * u:p / D.width;D.width > p && (B.innerHTML=(0,f.Utb)(C,v,this.Ooa,this.iQa,u),D=this.OFb(B,C,p,m));r[z]=D;}r=(0,c.MVc)(r,x);if(z=w && w[0] && w[0].textNodes && w[0].textNodes[0] && w[0].textNodes[0].style)(x=z.windowColor,z=z.windowOpacity,x && 0 < z && (B=Math.round(m / 50),v=(0,f.Dlc)(w,r,B,x,v),v=(0,n.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,v,d.mAa),l.insertBefore(v,l.firstChild)));l.style.display="none";for(v=r.length - 1;0 <= v;v--)(z=r[v],x=y[v].style,B=w[v].region,z=(0,f.Clc)(B,z,p,m,0),Object.assign(x,z));l.style.cssText=q;}};d.prototype.i1a=function(k){this.i8=k;this.GT();};d.prototype.ySa=function(){return this.i8;};d.prototype.j1a=function(k){this.qy=k;this.GT();};d.prototype.zSa=function(){return this.qy;};d.prototype.ASa=function(){return "block" === this.GG.display;};d.prototype.k1a=function(k){var l;l=k?"block":"none";this.element.style.display=l;this.GG.display=l;k && this.GT();};d.prototype.oWc=function(k){this.Ooa=k;this.iQa=this.Pwb(k);};d.prototype.Pwb=function(k){var l,m;l=this;m={};(0,h.Di)(k,function(p,q){m[p]=l.jCc(q);});return m;};d.prototype.ZMb=function(k){this.GG.direction="boolean" === typeof k?k?"ltr":"rtl":"inherit";};d.prototype.xma=function(k,l){if(this.qy){if("left" === l || "right" === l)return k.width * (this.qy[l] || 0);if("top" === l || "bottom" === l)return k.height * (this.qy[l] || 0);}return 0;};d.prototype.mac=function(k){return this.qy?{height:k.height * (1 - (this.qy.top || 0) - (this.qy.bottom || 0)),width:k.width * (1 - (this.qy.left || 0) - (this.qy.right || 0))}:k;};d.prototype.jCc=function(k){var l;k="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + k + ";";k=(0,n.createElement)("DIV",k,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",d.mAa);e.Ni.body.appendChild(k);l={fontSize:1E3,height:k.clientHeight,width:k.clientWidth / 52,lineHeight:k.clientHeight / 1E3};e.Ni.body.removeChild(k);return l;};d.prototype.OFb=function(k,l,m,p){var q,r,u,v,w;q=l.region;r=(q.marginTop || 0) * p;u=(q.marginBottom || 0) * p;v=(q.marginLeft || 0) * m;w=(q.marginRight || 0) * m;l=k.clientWidth || 1;k=k.clientHeight || 1;switch(q.verticalAlignment){case "top":p=r;break;case "center":p=(r + p - u - k) / 2;break;default:p=p - u - k;}switch(q.horizontalAlignment){case "left":m=v;break;case "right":m=m - w - l;break;default:m=(v + m - w - l) / 2;}return {top:p,left:m,width:l,height:k};};d.prototype.A5b=function(k,l,m,p){return {height:m - Math.max(p,l.bottom || 0) - Math.max(p,l.top || 0),width:k.width};};d.prototype.gOc=function(k){var l,q,r,u;l=k && k.map(function(v,w){var x;return "vertical-rl" === (null === (x=null === v || void 0 === v?void 0:v.region) || void 0 === x?void 0:x.writingMode)?w:-1;}).filter(function(v){return -1 !== v;});if(l && 0 !== l.length)for(var m=0,p=l.length - 1;m < p;(m++,p--)){q=l[m];r=l[p];u=Ea([k[r],k[q]]);k[q]=u.next().value;k[r]=u.next().value;}return k;};d.prototype.dSc=function(k){var l,m;if(!k || 0 === k.length)return k;m=k.filter(function(r){var u;return "horizontal-tb" === (null === (u=r.region) || void 0 === u?void 0:u.writingMode);}).sort(function(r,u){return r.region.marginTop - u.region.marginTop;});if(!m || 0 === m.length)return k;for(var p=0,q=0;p < m.length && q < k.length;q++)"horizontal-tb" === (null === (l=k[q].region) || void 0 === l?void 0:l.writingMode) && (k[q]=m[p++]);return k;};b.Nhb=d;d.mAa={"class":"player-timedtext-text-container"};},99416:function(t,b){function a(d){this.eg=d.LUc;this.pYa=d.MUc;this.JVa={};}Object.defineProperty(b,"__esModule",{value:!0});b.Phb=void 0;a.prototype.vwb=function(){return Object.assign(Object.assign(Object.assign({},this.eg),this.pYa),this.JVa);};a.prototype.Prc=function(){return Object.assign(Object.assign({},this.pYa),this.JVa);};a.prototype.vQc=function(d){this.JVa.characterSize=d;};b.Phb=a;},7953:function(t,b){function a(d,n){var c;c=this;this.uxb=d;this.rGb=n;this.R2a=!1;this.O0=function(){c.hr=void 0;c.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.Shb=void 0;a.prototype.update=function(d){var n,c,f,g,e;f=this.uxb();if(this.DRb !== f){g=null === (c=null === (n=this.Oba) || void 0 === n?void 0:n.XK(f)) || void 0 === c?void 0:c[0];if(g && ("startTime" in g))if(g.startTime <= f && f <= g.endTime){e=g;this.lRb(g.endTime - f);}else this.lRb(g.startTime - f);this.DRb=f;this.iKa !== e && (this.iKa=e,!d && this.rGb && this.rGb());}};a.prototype.start=function(){this.R2a=!0;this.update();};a.prototype.fNb=function(d){this.Oba=d;this.iKa=this.DRb=void 0;d || this.stop();};a.prototype.stop=function(){this.R2a=!1;this.er();};a.prototype.Coc=function(){this.update(!0);return this.iKa;};a.prototype.lRb=function(d){this.er();this.R2a && 0 < d && (this.hr=Ba.setTimeout(this.O0,d + a.aZb));};a.prototype.er=function(){this.hr && (Ba.clearTimeout(this.hr),this.hr=void 0);};b.Shb=a;a.aZb=10;},26159:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w;function d(x,y,A,z,B,C,D,E,H,F,G,J,L,K,M,P,I,O,Q){this.j=x;this.trackId=y;this.Bc=A;this.ff=z;this.gQb=B;this.ob=C;this.urls=D;this.Ig=E;this.displayName=H;this.aj=F;this.vU=G;this.variant=J;this.JM=L;this.profile=K;this.iB=M;this.x0=P;this.Pnc=I;this.dra=O;this.JA=Q;this.type=g.Nn.N2;this.fz=void 0;this.Jq=!(!K || K != h.Ir.bW);this.Ki={bcp47:E,trackId:y,downloadableId:C,isImageBased:this.Jq};this.log=(0,e.ko)(x,"TimedTextTrack");this.state=w.tia;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.RO=void 0;n=a(22970);c=a(61726);f=a(29204);g=a(51344);e=a(31276);h=a(75568);k=a(45146);l=a(32687);m=a(58174);p=a(85001);q=a(36129);r=a(92020);u=a(32934);v=a(45247);(function(x){x[x.tia=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.xO=2]="LOADED";x[x.o5=3]="LOAD_FAILED";})(w || (w={}));d.prototype.Fqa=function(x){var y;y=this;if(this.j.state.value === p.Gc.CLOSED || this.j.state.value === p.Gc.CLOSING)return Promise.reject({success:!1});if(this.y2 && this.j.Ff)return Promise.resolve({success:!0,track:this});if(this.Jq)return this.lwc();if(this.j.Dc.Ba)return (this.state=w.LOADING,this.lAb(x));this.Zsb || (this.Zsb=this.btb());return this.Zsb.then(function(A){return y.lAb(x,A);});};d.prototype.getState=function(){return this.state;};d.prototype.Kq=function(){return this.x0;};d.prototype.rp=function(){return this.Pnc;};d.prototype.sSa=function(){var x;return (null === (x=this.y2) || void 0 === x?0:x.ready)?this.y2.Oba:void 0;};d.prototype.Gq=function(x,y){var A;try{return null === (A=this.sSa()) || void 0 === A?void 0:A.Gq(x,y);}catch(z){this.log.error("error in getSubtitlesCount",z,{start:x,end:y,isImageBased:this.Jq});}};d.prototype.Usc=function(){var x,y,A;if(!(0,l.$c)(this.Hb))try{A=null === (y=null === (x=this.sSa()) || void 0 === x?void 0:x.XK(0)) || void 0 === y?void 0:y[0];this.Hb=null === A || void 0 === A?void 0:A.displayTime;}catch(z){this.log.error("exception in getStartPts",z);}return this.Hb;};d.prototype.TZa=function(x){var y,A;(0,k.va)((0,v.Pqa)(x));(0,k.va)(null === (y=this.j.S) || void 0 === y?void 0:y.Aa.Ji,"Live manifest is unavailable.");(0,k.va)(null === (A=this.y2) || void 0 === A?void 0:A.Oba,"Subtitle manager is unavailable");y=x.EQb;this.y2.Oba.TZa({L:x.L,xml:y,Hb:x.Hb,Lg:x.Lg,size:y.length,Jy:x.Jy,endOfStream:x.endOfStream});};d.prototype.Zs=function(x){return this.j.state.value === p.Gc.CLOSING || this.j.state.value === p.Gc.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.ka.Rd !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};d.prototype.lrb=function(x){var y,A;y=this;A=(0,e.ko)(this.j,"TimedTextTrack");A.warn=A.trace.bind(A);A.info=A.debug.bind(A);A=(0,m.Agc)(this.j,A,this.request,this);x=new r.default(A,x);this.y2={Oba:x,ready:!1};x.on("ready",function(){y.y2.ready=!0;});return x;};d.prototype.lwc=function(){var x,y,A,z,B,C,D;x=this;if(!this.hAb){this.state=w.LOADING;y={profile:"nflx-cmisc",url:"",Cnb:!1,GWa:this.iB.offset,HEb:this.iB.length,od:this.j.mediaTime.value || 0,bufferSize:f.config.Evc,rwa:{ba:this.j.u$()}};A=(this.urls || []).map(function(E){return E.Kg;});z=0;B={};C=!0;D=function(E,H){var F;(0,l.$c)(E)?C || x.Zs(x.iu(x.lA,"","image"))?(C=!1,x.iB.url=null === (F=x.hpa(x.lA)) || void 0 === F?void 0:F.url,y.url=x.iB.url,B[E]=(B[E] || 0) + 1,F=x.lrb(y),F.on("ready",function(){H({success:!0,track:x});}),F.on("error",function(G){var J;G=Object.assign({success:!1},G);J=x.iu(x.lA,x.iB.url,"image");J.details={midxoffset:x.iB.offset,midxsize:x.iB.length};J.errorstring=G.errorString;B[E] <= f.config.PPb?(x.Hoa(J,!0,"retry with current cdn"),x.zLa(B[E]).then(function(L){x.log.trace("retry timed text download after " + L,x.iu(x.lA,"","image"));D(x.lA,H);})):(x.lA=A[z++],x.lA?(x.Hoa(J,!0,"retry with next cdn"),x.zLa(B[E]).then(function(L){x.log.trace("retry timed text download after " + L,x.iu(x.lA,"","image"));D(x.lA,H);})):(x.Hoa(J,!1,"all cdns tried"),H({success:!1,qDc:"all cdns failed for image subs",track:x})));}),F.start()):H({success:!1,aborted:!0}):(H({success:!1,qDc:"cdnId is not defined for image subs downloadUrl"}),x.Hoa(x.iu(0,"","image"),!1,"cdnId is undefined"));};this.lA=A[z++];this.hAb=new Promise(function(E,H){D(x.lA,function(F){F.success?(x.log.info("Loaded image subtitle manager"),x.state=w.xO,E(F)):(x.log.error("Unable to load image subtitles manager",F),x.state=w.o5,H(F));});});}return this.hAb;};d.prototype.lAb=function(x,y){var A,z;A=this;z=this.j.bV.value;(0,k.va)(z);(0,k.va)(void 0 !== y || this.j.Dc.Ba);return new Promise(function(B,C){var D,E,H;E=null === (D=A.j.ga.S) || void 0 === D?void 0:D.Aa;D=null === E || void 0 === E?void 0:E.uTa;H=A.lrb({profile:A.profile,xml:y,eg:x.eg,preferences:x.Prc(),od:A.j.mediaTime.value || 0,Cnb:!1,videoSize:z,Ba:A.j.Dc.Ba,uTa:D});H.on("ready",function(){B(H);}).on("error",function(F){C({success:!1,error:F});}).start();}).then(function(){A.state=w.xO;return {success:!0,track:A};}).catch(function(B){A.log.error("Unable to parse timed text track",(0,q.fF)(B),A.Ki,{url:B.url});A.state=w.o5;B.reason="parseerror";B.track=A;throw B;});};d.prototype.Hoa=function(x,y,A){x=Object.assign({},x,{pfd:y,status:A});this.j.fireEvent(p.ja.z2,x);this.log.warn("subtitleerror event",x);};d.prototype.request=function(x,y){var A,z,B;A=this;this.log.trace("Downloading",x);B=this.hpa(this.lA);x={url:x.url,offset:x.offset,length:x.size,fz:this.fz,responseType:c.waa,headers:{},Tc:B?{id:B.Kg}:void 0,BK:"tt-" + this.Ig,Mw:null !== (z=null === B || void 0 === B?void 0:B.type) && void 0 !== z?z:u.J5};this.j.tqa.download(x,function(C){A.log.trace("imgsub: request status " + C.success);C.success?y(null,new Uint8Array(C.content)):y({Ua:C.Ua,Ng:C.Ng});});};d.prototype.iu=function(x,y,A){return {currentCdnId:x,url:y,profile:this.profile,dlid:this.ob,subtitletype:A,bcp47:this.Ig,trackId:this.trackId,cdnCount:Object.keys(this.urls).length,isImageBased:this.Jq};};d.prototype.hpa=function(x){return (this.urls || []).find(function(y){return y.Kg === x;});};d.prototype.btb=function(){var z,B;function x(C){return n.__awaiter(z,void 0,void 0,function E(){var H,F,G;F=this;return Ua(E,function(J){H=A();G=F.iu(C.Tc.Kg,C.url,"text");G.errorstring=C.reason;return H && F.Zs(G)?J.return(F.zLa(B[H.Kg]).then(y)):J.return(Promise.reject({success:!1,aborted:!0}));});});}function y(){return n.__awaiter(z,void 0,void 0,function D(){var E,H,F;F=this;return Ua(D,function(G){E=A();H=null === E || void 0 === E?void 0:E.url;return E && H?(B[E.Kg]=(B[E.Kg] || 0) + 1,G.return(F.$ic(H,E).catch(x))):G.return(Promise.reject({}));});});}function A(){return (z.urls || []).find(function(C){return !!((B[C.Kg] || 0) < f.config.PPb);});}z=this;this.state=w.LOADING;B={};return y();};d.prototype.zLa=function(x){return new Promise(function(y){var A;A=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return y(A);},A);});};d.prototype.$ic=function(x,y){var A;A=this;this.log.trace("Downloading",y && ({Tc:y.Kg}),this.iu(y.Kg,x,"text"));return new Promise(function(z,B){var C,D;D={responseType:c.mTa,url:x,track:A,Tc:{id:y.Kg},BK:"tt-" + A.Ig,Mw:null !== (C=y.type) && void 0 !== C?C:u.J5};A.j.tqa.download(D,function(E){E.success?z(E.content):(E=Object.assign(Object.assign({},E),{reason:"downloadfailed",url:D.url,track:A,Tc:y}),B(E));});});};Ha.Object.defineProperties(d.prototype,{correlationId:{configurable:!0,enumerable:!0,get:function(){return this.gQb.correlationId;}},Ep:{configurable:!0,enumerable:!0,get:function(){return this.gQb.Ep;}}});b.RO=d;d.Fr=w;},58174:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Agc=function(a,d,n,c){return {nsc:function(){var f;f=a.YRa();c.JA && (f+=c.JA);return f;},wa:d,request:n,yD:!1};};},73585:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r;function d(u,v){var w;w=this;this.j=u;this.tN=v;this.m2a=this.oFb=0;this.rh=this.Fp=!1;this.TT=0;this.yqa=new Set();this.Lea=!0;this.Rp=function(){var x,y;w.Sva();w.nQ && (w.log.info("Deactivating",w.nQ),w.xI.fhc(w.Cq()));w.j.Xk.set(null);w.EU.fNb(void 0);w.zpb();x=w.j.ka.Rd;x && x.Kq() && !x.rp() && (x=null);if(x && w.j.Zb.value !== p.Nb.ph){y=w.Cq();w.xI.G5b(y,x);}x?(w.log.info("Activating",x),w.j.Gn.set(x.getState() === n.RO.Fr.xO?p.mh.Cf:p.mh.Sf),w.Fp || w.j.ih("tt_start"),x.Fqa(w.tN).then(w.hX).catch(w.hX)):w.j.Gn.set(p.mh.Cf);w.nQ=x;w.KI();w.j.Dc.Ba && w.j.Gn.set(p.mh.Cf);};this.sync=function(){w.Fp && (w.EU.start(),w.j.Zb.value !== p.Nb.rg && w.EU.stop());};this.KI=function(){var x;w.Lea && w.j.state.value === p.Gc.Cf && w.j.Zb.value !== p.Nb.ph && (w.vj?x=w.EU.Coc():w.j.ka.Rd && (x=d.MSc[w.j.ka.Rd.getState()]));x && (0,m.$c)(x.startTime) && w.j.ZB.value !== x && (w.oFb++,w.m2a+=w.EU.uxb() - x.startTime,w.Inb=Math.ceil(w.m2a / (w.oFb + 0)));w.j.ZB.set(x);};this.Cq=function(){var x;x=w.j.YRa();w.nQ && w.nQ.JA && (x+=w.nQ.JA);return x;};this.WXa=function(x){w.yqa.add(x);w.Lea && (w.fireEvent(d.UNb,x),x && x.id && (w.xI.CRb(x.id),!1));w.log.trace("showsubtitle",w.Ppa(x));};this.Oca=function(x){w.yqa.delete(x) && w.Lea && (w.fireEvent(d.NKb,x),w.log.trace("removesubtitle",w.Ppa(x)));};this.Yuc=function(){w.yqa.forEach(function(x){w.fireEvent(d.NKb,x);w.log.trace("hide subtitle",w.Ppa(x));});};this.ZNc=function(){w.yqa.forEach(function(x){w.fireEvent(d.UNb,x);w.log.trace("resume subtitle",w.Ppa(x));});};this.ol=function(){w.log.warn("imagesubs buffer underflow",w.j.ka.Rd.Ki);w.j.Gn.set(p.mh.Sf);};this.BXa=function(){w.log.info("imagesubs buffering complete",w.j.ka.Rd.Ki);w.j.Gn.set(p.mh.Cf);};this.Nta=function(){w.Fp && w.vj && w.vj.LI(w.Cq());};this.OGb=function(x){w.Fp && w.vj && (w.vj.pause(),w.vj.fN(x.Ol));};this.nB=function(){w.Fp && w.vj && w.vj.DJb();};this.KGb=function(x){w.vj && w.vj.Dn(x.Bi,x.v0);};this.VGb=function(x){w.vj && w.vj.xl(x.L,x.ERb);};this.ZFc=function(){w.Fp=!0;(0,l.Yh)(function(){var x,y;(null === (x=w.nQ) || void 0 === x?0:x.Jq)?null === (y=w.vj) || void 0 === y?void 0:y.LI(w.Cq()):w.sync();w.KI();});};this.WFc=function(){w.zpb();w.EU.stop();w.KI();w.rh=!0;w.Sva();};this.$Xa=function(x){(x=x.newValue) && (0,m.isArray)(x.blocks) && (w.xI.CRb.apply(w.xI,za(x.blocks.map(function(y){return y.id;}))),!1);};this.eGc=function(x){w.NWc(x.newValue,x.oldValue);w.sync();w.KI();};this.hX=function(x){var y;if(!w.rh){y=x.track;if(y === w.j.ka.Rd)try{w.vj=y.sSa();y.Jq?w.E5b(x):w.F5b(x);}catch(A){w.log.error("Error activating track:",A,y);return;}w.Fp || w.j.ih(x.success?"tt_comp":"tt_err");x.success?(g.config.NLb?setTimeout(function(){w.j.Gn.set(p.mh.Cf);},g.config.NLb):w.j.Gn.set(p.mh.Cf),y.Jq || w.KI()):x.aborted?w.log.warn("aborted timed text track loading"):g.config.wmc?w.j.wg(k.da.wXb,{ef:x.track?x.track.Ki:{}}):(w.log.error("ignore subtitle initialization error",x),w.j.Gn.set(p.mh.Cf));}};this.jc=new f.rm();this.xI=new h.vhb((0,e.ko)(u,"SubtitleTracker"),g.config.Ykc);this.log=(0,e.ko)(u,"TimedTextManager");this.EU=new c.Shb(this.Cq,this.KI);this.j.ka.addListener([r.u.Da],this.Rp);g.config.eJc?(this.j.addEventListener(p.ja.Fp,this.ZFc),this.Rp()):(this.j.Gn.set(p.mh.Cf),this.j.addEventListener(p.ja.Fp,function(){w.Fp=!0;w.Rp();}));this.j.Zb.addListener(this.eGc);this.j.addEventListener(p.ja.H2a,this.sync);this.j.ZB.addListener(this.$Xa);this.j.addEventListener(p.ja.rh,this.WFc);}Object.defineProperty(b,"__esModule",{value:!0});b.Ohb=void 0;n=a(26159);c=a(7953);f=a(94886);g=a(29204);e=a(31276);h=a(69899);k=a(36129);l=a(32219);m=a(32687);p=a(85001);q=a(35781);r=a(26388);d.prototype.ERc=function(){this.Lea=!0;this.ZNc();this.KI();};d.prototype.$uc=function(){this.Lea=!1;this.Yuc();this.KI();};d.prototype.addEventListener=function(u,v,w){this.jc.addListener(u,v,w);};d.prototype.removeEventListener=function(u,v){this.jc.removeListener(u,v);};d.prototype.fireEvent=function(u,v,w){this.jc.rd(u,v,w);};d.prototype.xKa=function(u,v,w){var x,y;x=this;y=q.Mhb.ofc(this.j,u,v,w);this.tAb(this.j.wj,y);this.j.$k.forEach(function(A){x.tAb(A.wj,y);});this.j.ka.Mp(y);this.j.fireEvent(p.ja.aC);};d.prototype.tZa=function(u){return this.N_a(u)?u.Fqa(this.tN).then(function(){}):Promise.resolve();};d.prototype.htc=function(u){return this.xI.Ksc(u);};d.prototype.tSa=function(u){return this.xI.tSa(u);};d.prototype.daa=function(){var u,v;u={size:this.tN.vwb().characterSize};v=this.j.Afa;v && (u.visibility=v.ASa(),u.i8=v.ySa(),u.qy=v.zSa());return u;};d.prototype.MQc=function(u){this.tN.vQc(u);u=this.j.ka.Rd;this.N_a(u) && !u.Jq && u.Fqa(this.tN).then(this.hX).catch(this.hX);};d.prototype.NWc=function(u,v){var w;u === p.Nb.rg || u == p.Nb.Oi?v !== p.Nb.rg && v !== p.Nb.Oi && ((v=this.j.ka.Rd) && !this.N_a(v) || this.xI.BFb(this.Cq(),v || void 0,"presentingstate:" + u)):u !== p.Nb.ph && u !== p.Nb.ex || this.xI.nPa(null !== (w=this.Cq()) && void 0 !== w?w:void 0,"presentingstate:" + u);};d.prototype.Sva=function(){this.TT=0;Ba.clearTimeout(this.cOc);};d.prototype.zpb=function(){var u;this.vj && this.vj.stop();(null === (u=this.nQ) || void 0 === u?0:u.Jq) && this.FDb("removeListener");this.vj=void 0;};d.prototype.FDb=function(u){this.vj && (this.vj[u]("showsubtitle",this.WXa),this.vj[u]("removesubtitle",this.Oca),this.vj[u]("underflow",this.ol),this.vj[u]("bufferingComplete",this.BXa),"addListener" === u?(this.j.addEventListener(p.ja.$t,this.Nta),this.j.addEventListener(p.ja.Rs,this.OGb),this.j.addEventListener(p.ja.$M,this.nB),this.j.addEventListener(p.ja.jta,this.KGb),this.j.addEventListener(p.ja.A3a,this.VGb)):(this.j.removeEventListener(p.ja.$t,this.Nta),this.j.removeEventListener(p.ja.Rs,this.OGb),this.j.removeEventListener(p.ja.$M,this.nB),this.j.removeEventListener(p.ja.jta,this.KGb),this.j.removeEventListener(p.ja.A3a,this.VGb)));};d.prototype.Ppa=function(u){return {currentPts:this.Cq(),displayTime:u.displayTime,duration:u.duration,id:u.id,originX:u.originX,originY:u.originY,sizeX:u.sizeX,sizeY:u.sizeY,rootContainerExtentX:u.rootContainerExtentX,rootContainerExtentY:u.rootContainerExtentY};};d.prototype.E5b=function(u){var v,w;v=this;w=u.track;if(!w || !w.Jq)throw Error("Not an image base subtitle");u.success?(this.Sva(),this.FDb("addListener"),this.log.info("Activated",w),this.j.Xk.set(w),this.Fp?(0,l.Yh)(function(){v.vj.LI(v.Cq());}):this.vj.pause()):this.ALb(w,u);};d.prototype.F5b=function(u){var v,w;v=u.track;w=u.success;if(!v || v.Jq)throw Error("Not a valid text track");w?(this.Sva(),this.EU.fNb(this.vj),this.log.info("Activated",v),this.j.Xk.set(v)):this.ALb(v,(0,k.fF)(u));this.KI();};d.prototype.ALb=function(u,v){var w,x;w=this;x=this.TT < g.config.SBc;x && (this.cOc=Ba.setTimeout(function(){w.TT++;u.Fqa(w.tN).then(w.hX).catch(w.hX);},g.config.KUc));this.log.error("Failed to activate" + ((null === u || void 0 === u?0:u.Jq)?" img subtitle":""),{retry:x},v,u);};d.prototype.N_a=function(u){return !(!u || u.Kq() && !u.rp());};d.prototype.tAb=function(u,v){var w;w=u.findIndex(function(x){return x.Bc >= v.Bc;});-1 === w && (w=0);u.splice(w,0,v);};b.Ohb=d;t={};d.MSc=(t[n.RO.Fr.LOADING]={zba:!0},t[n.RO.Fr.o5]={Vd:!0},t);d.UNb="showsubtitle";d.NKb="removesubtitle";},79014:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m){var p,q,r,u;p=this;this.j=l;this.vFc=function(){var v;f.ye.removeListener(f.bqa,p.QGb);v=p.pu.Dq();v && v.parentNode && v.parentNode.removeChild(v);};this.$Xa=function(v){p.pu.aQc(v.newValue);};this.sGc=function(v){var w;p.pu.lQc(v.so?v.so.dra:void 0);p.pu.mQc(null === (w=v.so) || void 0 === w?void 0:w.Ig);p.pu.oWc(p.Owb(v.so));};this.QGb=function(){p.pu.GT();};r=l.ka.Rd?l.ka.Rd.dra:void 0;u=null === (q=l.ka.Rd) || void 0 === q?void 0:q.Ig;q=this.Owb(l.ka.Rd);this.pu=new e.Nhb(m,q,r,u);m=l.bV.value;(0,c.va)(.1 < m.width / m.height);this.pu.MPc(m.width / m.height);l.Iu.appendChild(this.pu.Dq());l.ZB.addListener(this.$Xa);l.ka.addListener([k.u.Da],this.sGc);l.addEventListener(h.ja.rh,this.vFc,n.gW);f.ye.addListener(f.bqa,this.QGb);}Object.defineProperty(b,"__esModule",{value:!0});b.Qhb=void 0;n=a(33096);c=a(45146);f=a(37509);g=a(29204);e=a(97154);h=a(85001);k=a(26388);d.prototype.k1a=function(l){this.pu.k1a(l);};d.prototype.ASa=function(){return this.pu.ASa();};d.prototype.i1a=function(l){this.pu.i1a(l);};d.prototype.ySa=function(){return this.pu.ySa();};d.prototype.j1a=function(l){this.pu.j1a(l);};d.prototype.zSa=function(){return this.pu.zSa();};d.prototype.Owb=function(l){var m;if(l && g.config.Kra && 0 <= g.config.Kra.indexOf(l.Ig)){m=Object.assign({},g.config.Exa);Object.entries(m).forEach(function(p){var q;q=Ea(p);p=q.next().value;q=q.next().value;m[p]=q.replace(/font-weight:bolder/g,"font-weight:normal");});return m;}return g.config.Exa;};b.Qhb=d;},28838:function(t,b,a){var d,n,c,f,g,e,h,k,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.Rf=void 0;t=a(22674);d=a(58421);n=a(6856);c=a(48864);f=a(37187);g=a(17842);e=a(96723);h=a(67371);k=a(47511);l=a(45613);m=a(51361);b.Rf=new t.Ce(function(p){p(f.Bja).to(d.hHa).sa();p(g.eGa).to(c.dGa).sa();p(e.yib).to(n.MHa).sa();p(h.AZb).to(k.wEa).sa();p(l.N1b).to(m.YHa).sa();});},97368:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.LKc=function(a){var d,n;d=!1;n=!1;return function(){if(d)n=!0;else for(n=!0;n;){n=!1;d=!0;try{a();}finally{d=!1;}}};};},54973:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.J$=function(n,c,f){return n.lQa?d.xr.dJ:c && !f?d.xr.dJ:d.xr.Er;};d=a(24735);},67371:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.AZb="ObjectComparerSymbol";},88195:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Nf=function(n,c){return [].concat.apply([],za(n)).map(function(f){return Object.assign({name:f},null !== c && void 0 !== c?c:{});});};b.Dy=function(n,c){for(var f=[],g=1;g < arguments.length;++g)f[g - 1]=arguments[g];return (0,d.Isb)(function(e,h){return e.name === h;},n,f);};d=a(45266);},17842:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.eGa="QueryStringDataProviderSymbol";},37187:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bja=b.$u=void 0;b.$u=function(){};b.Bja="StringObjectReaderSymbol";},79542:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.QG=void 0;b.iBb=function(a){return void 0 !== a && null !== a;};b.$Jb=function(a,d){return a.includes(d);};b.QG=function(){return null;};},96723:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yib="UuidProviderSymbol";},45613:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.N1b="WindowUtilsSymbol";},47511:function(t,b,a){var n,c;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.wEa=void 0;t=a(22970);n=a(22674);c=a(76564);d.prototype.compare=function(f,g){var e;e=[];this.TMa(f,g,"",e);return e;};d.prototype.TMa=function(f,g,e,h){var k;k=this;if(c.vO.LP(f))c.vO.LP(g) && f.length === g.length?f.forEach(function(p,q){k.TMa(f[q],g[q],e + "[" + q + "]",h);}):h.push({a:f,b:g,path:e});else if(c.vO.H7(f) && null != f){if(c.vO.H7(g) && null != g){for(var l in f)this.TMa(f[l],g[l],e + "." + l,h);for(var m in g)(m in f) || void 0 === g[m] || h.push({a:void 0,b:g[m],path:e + "." + m});}else h.push({a:f,b:g,path:e});}else f !== g && h.push({a:f,b:g,path:e});};a=d;b.wEa=a;b.wEa=a=t.__decorate([(0,n.aa)()],a);},48864:function(t,b,a){var n,c,f,g;function d(e){this.location=e;(0,c.nw)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.dGa=void 0;t=a(22970);c=a(66523);f=a(63368);a=a(22674);d.oua=function(e){var h,l,m;h={};if(0 < e.length){e=e.split("&");for(var k=0;k < e.length;k++){l=e[k].trim();m=l.indexOf("=");0 <= m?h[decodeURIComponent(l.substr(0,m).replace(n.Ldb,"%20"))]=decodeURIComponent(l.substr(m + 1).replace(n.Ldb,"%20")):h[l.toLowerCase()]="";}}return h;};Ha.Object.defineProperties(d.prototype,{fLc:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=n.oua(this.IJb);}},IJb:{configurable:!0,enumerable:!0,get:function(){var e;if(void 0 !== this.Ada)return this.Ada;this.Ada=this.location.search.substr(1);e=this.Ada.indexOf("#");0 <= e && (this.Ada=this.IJb.substr(0,e));return this.Ada;}}});g=n=d;b.dGa=g;g.Ldb=/[+]/g;b.dGa=g=n=t.__decorate([(0,a.aa)(),t.__param(0,(0,a.v)(f.kbb))],g);},58421:function(t,b,a){var n,c,f,g,e,h;function d(k,l){this.is=k;this.json=l;(0,c.nw)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.hHa=void 0;t=a(22970);c=a(66523);f=a(63368);g=a(22674);e=a(42207);h=a(37187);d.prototype.WJb=function(k){var l;l=this;return n.read(k,function(m){return parseInt(m);},function(m){return l.is.XKa(m);});};d.prototype.a_a=function(k){var l;l=this;return n.read(k,function(m){return "true" == m?!0:"false" == m?!1:void 0;},function(m){return l.is.Zka(m);});};d.prototype.Iw=function(k){var l;l=this;return n.read(k,function(m){return parseInt(m);},function(m){return l.is.I7(m);});};d.prototype.pLc=function(k){var l;l=this;return n.read(k,function(m){return parseFloat(m);},function(m){return l.is.Xo(m);});};d.prototype.VJb=function(k,l){return n.read(k,function(m){return n.Vmc(m,l);},function(m){return void 0 !== m;});};d.prototype.e_a=function(k,l){return n.read(k,function(m){return m;},function(m){return l?l.test(m):!0;});};d.prototype.XJb=function(k){var l,m;l=this;m=void 0 === m?function(){return !0;}:m;try{return n.read(k,function(p){return l.json.parse(decodeURIComponent(p));},function(p){return l.is.H7(p) && m(p);});}catch(p){return new h.$u();}};d.prototype.yn=function(k,l,m){var p,q;p=this;m=void 0 === m?1:m;k=k.trim();q=l instanceof Function?l:this.dgc(l,m);l=k.indexOf("[");m=k.lastIndexOf("]");if(0 != l || m != k.length - 1)return new h.$u();k=k.substring(l + 1,m);try{return n.CHc(k).map(function(r){r=q(p,n.uXc(r));if(r instanceof h.$u)throw r;return r;});}catch(r){return r instanceof h.$u?r:new h.$u();}};d.prototype.dgc=function(k,l){var m;m=this;l=void 0 === l?1:l;return function(p,q){p=n.Krc(k);return 1 < l?m.yn(q,k,l - 1):p(m,q);};};d.Vmc=function(k,l){var p;for(var m in l){p=parseInt(m);if(l[p] == k)return p;}};d.read=function(k,l,m){k=l(k);return void 0 !== k && m(k)?k:new h.$u();};d.Krc=function(k){switch(k){case "int":return function(l,m){return l.WJb(m);};case "bool":return function(l,m){return l.a_a(m);};case "uint":return function(l,m){return l.Iw(m);};case "float":return function(l,m){return l.pLc(m);};case "string":return function(l,m){return l.e_a(m);};case "object":return function(l,m){return l.XJb(m);};}};d.CHc=function(k){var w;for(var l=[["[","]"]],m=[],p=0,q=0,r=0,u=[],v={};q < k.length;(v={o3:v.o3},++q)){v.o3=k.charAt(q);w=void 0;"," == v.o3 && 0 == r?(m.push(k.substr(p,q - p)),p=q + 1):(w=l.find((function(x){return function(y){return y[0] == x.o3;};})(v)))?(++r,u.push(w)):0 < u.length && u[u.length - 1][1] == v.o3 && (--r,u.pop());}if(p != q)m.push(k.substr(p,q - p));else if(p == q && 0 < p)throw new h.$u();return m;};d.uXc=function(k){var l;l=k.charAt(0);if('"' == l || "'" == l){if(k.charAt(k.length - 1) != l)throw new h.$u();return k.substring(1,k.length - 1);}return k;};a=n=d;b.hHa=a;b.hHa=a=n=t.__decorate([(0,g.aa)(),t.__param(0,(0,g.v)(e.Mi)),t.__param(1,(0,g.v)(f.PV))],a);},6856:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.MHa=void 0;t=a(22970);a=a(22674);d.prototype.awb=function(c){var f;f=this;return c?(c ^ 16 * Math.random() >> c / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(g){return f.awb(g);});};n=d;b.MHa=n;b.MHa=n=t.__decorate([(0,a.aa)()],n);},51361:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.YHa=void 0;t=a(22970);n=a(22674);a(22365);b.YHa=d;b.YHa=d=t.__decorate([(0,n.aa)()],d);},67590:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.uza="AsePrefetcherAdapterSymbol";b.F5a="AsePrefetcherProviderSymbol";},18148:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cab=36E7;b.Uza="CacheManagerFactorySymbol";},99584:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v;Object.defineProperty(b,"__esModule",{value:!0});b.og=void 0;t=a(22674);d=a(68976);n=a(37780);c=a(66476);f=a(87657);g=a(12849);e=a(85671);h=a(19484);k=a(71576);l=a(32737);m=a(59315);p=a(20318);q=a(67590);r=a(61170);u=a(18148);v=a(94028);b.og=new t.Ce(function(w){w(d.xeb).to(n.tFa).sa();w(f.qfb).to(g.$Fa).sa();w(c.TO).to(e.RHa).sa();w(l.pfb).to(k.EDa).sa();w(l.ofb).to(h.NCa).sa();w(q.F5a).XUc(function(){var x;return null === (x=p.zv.ck) || void 0 === x?void 0:x.xB;});w(q.uza).to(r.tza).sa();w(m.VFa).to(m.UFa);w(u.Uza).to(v.Tza).sa();});},68976:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.xeb="PlayPredictionDeserializerSymbol";},32737:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.pfb="PreparerManifestFetcherSymbol";b.ofb="PreparerLicenseFetcherSymbol";},32573:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.Cr={};t.Tm="created";t.Xy="started";t.A2="succeeded";t.Vd="failed";t.Zc="cancelled";t.Iac="cancelled_on_start";t.lMa="cancelled_not_encrypted";},87657:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.Qia={};t.pUc="taskstart";t.nUc="taskabort";t.oUc="taskfail";t.qUc="tasksuccess";b.qfb="PreparerTaskSchedulerSymbol";},66476:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.TO="VideoPreparerSymbol";},61170:function(t,b,a){var c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z;function d(){var B;B=this;this.promise=new Promise(function(C,D){B.resolve=C;B.reject=D;});}function n(B,C,D,E,H){var F;F=this;this.hZa=D;this.vJc=E;this.vh=H;this.vga=[];this.zM=new Map();this.sTa=new Map();this.dGc=function(G){var J,L;G=(0,g.Vf)(G.wishListItem.key);if(F.zM.has(G)){L=F.zM.get(G);G=L.l1;L=L.XMa;null === (J=L.resolve) || void 0 === J?void 0:J.call(L,G);}};this.Sta=function(G){var J,L;J=G.J;L=G.S;G.target.g4a(G.J) || (F.Be.has({J:J}) && (F.Be.qs(J).Qx=!0),null === L || void 0 === L?void 0:L.then(function(K){var M;M=K.Aa;M && M.Ib && M.oq && M.oq.forEach(function(P){var I;I={Uf:{Ib:M.Ib,fd:J}};F.Be.has({J:P.R,fd:M.R,Ib:M.Ib}) && (F.Be.qs(P.R,I).Qx=!0);});}).catch(function(){}),F.yKb(J),F.zNb(F.vga));};this.lub=function(G,J){var L,K;L=G.J;K=G.S;G.target.g4a(L) || (null === K || void 0 === K?void 0:K.then(function(M){(M=M.Aa) && M.Ib && M.Ib === J.Ib && L === J.fd && (M={Uf:{Ib:M.Ib,fd:L}},F.Be.has(J) && (F.Be.qs(J.J,M).Qx=!0),F.sTa.delete(F.Be.generateKey(J)));}).catch(function(){}));};this.wa=B.wb("VideoPreparer");this.config=C();}Object.defineProperty(b,"__esModule",{value:!0});b.tza=void 0;t=a(22970);c=a(87386);a(50323);f=a(20318);g=a(45247);e=a(4203);h=a(29204);k=a(72639);l=a(67590);m=a(22674);p=a(59315);q=a(90745);r=a(49745);u=a(64213);v=a(25505);w=a(45146);x=a(37991);y=a(91176);A=a(54973);z=a(31149);n.prototype.Ob=function(B){var C;C=this;this.Be=new u.THa(function(D,E){return C.cD(D,B,f.zv.Zk,E);},function(D){return C.KT(B,D);},function(D,E){return C.LT(D,B,E);});};n.prototype.fetch=function(B,C){var D;D=this;if(-1 === C.events.listeners("manifestRemovedFromCache").indexOf(this.Sta))C.events.on("manifestRemovedFromCache",this.Sta);if(-1 === C.events.listeners("playbackClosing").indexOf(this.Sta))C.events.on("playbackClosing",this.Sta);!1;return this.mp(B.R,C,B.Cb).then(function(){D.zNb(D.Ccc(D.Ogc(B,C)));return D.zM.get(B.R).XMa.promise;});};n.prototype.getStats=function(){return this.xB.getStats();};n.prototype.POb=function(B,C,D){C={Yk:D,S:C};this.sTa.set(this.Be.generateKey(B),C);};n.prototype.fsc=function(B){return this.sTa.get(this.Be.generateKey(B));};n.prototype.Ccc=function(B){return [B].concat(za(this.vga.filter(function(C){return (0,g.Vf)(C.key) !== (0,g.Vf)(B.key);}))).slice(0,this.config.tJc).map(this.config.uJc?function(C,D){return Object.assign({},C,{priority:D});}:function(C){return C;});};n.prototype.mxb=function(B,C,D){var E;E=this;D=void 0 === D?{}:D;return this.mp(B,C,D).then(function(H){E.vNa(H,C);return H.Aa;}).catch(function(H){var F;throw new g.sC("Failed to request manifest",{vd:0,oxa:0,errorCode:null !== (F=H.code) && void 0 !== F?F:0,context:{error:H instanceof z.se?H.toJSON():H,type:"manifest"}});});};n.prototype.mp=function(B,C,D){var E,H;D=void 0 === D?{}:D;H=new y.AbortController();return this.vh.mp({Ia:null !== (E=C.DA(B)) && void 0 !== E?E:C.MNa(B),J:B,fu:k.Zp.N5,Hi:(0,A.J$)(this.config,!0),qb:D},H.signal);};n.prototype.xNb=function(B,C){var H;function D(F){H.lub(F,C);B.events.$l("playbackClosing",D);}function E(F){H.lub(F,C);B.events.$l("manifestRemovedFromCache",E);}H=this;B.events.on("manifestRemovedFromCache",E);B.events.on("playbackClosing",D);};n.prototype.LT=function(B,C,D){var E,H,F,G,J,L;E=this;H=B.By;F=B.m8;B=B.Uf;G=B.Ib;J=B.fd;L=this.Be.qs(J);return L.Tu.then(function(K){var M,P,I;K=K.S.Zd;M=L.Ia;P=k.Zp.Er;I={BD:!0,Pg:!1,cC:Date.now()};return E.vh.mp({Ia:Number(M),qb:I,J:J,m8:F,By:H,fu:P,Hi:void 0,AN:void 0,ve:{Ib:G,aE:K}},D,!1).then(function(O){E.vNa(O,C);E.vh.hJb();O.oq.forEach(function(Q){var T;E.vh.tU(Q.Aa.R,Q);T={J:Q.Aa.R,fd:J,Ib:G};E.POb(T,Q);E.xNb(C,T);});if(!O.Aa.Jd)throw Error("Dai prefetch request has no adverts forparentViewableId: " + J);return O.Aa.Jd;});});};n.prototype.KT=function(B,C){var D,E,H,F,G,J,L,K;D=this;(0,w.va)(C.Uf,"auxiliaryOptions must exist if an adBreak hydration was requested");H=C.Uf;F=H.Ib;G=H.fd;J=C.Yk;L=C.fb;(0,w.va)(!!F,"auxiliaryManifestToken must exist if an adBreak hydration was requested");K=this.Be.qs(null === (E=null === C || void 0 === C?void 0:C.Uf) || void 0 === E?void 0:E.fd);return K.Tu.then(function(M){var P,I,O,Q;M=M.S.Zd;P=K.Ia;(0,w.va)(void 0 !== P,"parent xid must exist if an adBreak hydration was requested");I=k.Zp.Er;O={BD:!0,Pg:!1,cC:Date.now()};Q=new y.AbortController();return D.vh.mp({Ia:Number(P),qb:O,J:G,fu:I,Hi:void 0,AN:void 0,ve:{Yk:J,fb:L,Ib:F,fd:G,aE:M}},Q.signal,!1).then(function(T){var U,X;D.vNa(T,B);T.oq.forEach(function(Y){var W;W={J:Y.Aa.R,fd:G,Ib:F};D.POb(W,Y,J);D.xNb(B,W);});if(null === (U=T.Aa.Jd) || void 0 === U || !U.lb.length)throw Error("AdBreak hydration request came with no adBreak forparentViewableId: " + (G + ", adBreakToken: " + J + ", adBreakTriggerId: " + L));return null === (X=T.Aa.Jd) || void 0 === X?void 0:X.lb[0];});});};n.prototype.vNa=function(B,C){var D,E,H;D=this;E=B.Aa;null === (H=E.oq) || void 0 === H?void 0:H.forEach(function(F){D.cD(F.R,C,f.zv.Zk,{Uf:{Ib:F.Ib,fd:E.R}},F);});};n.prototype.Ogc=function(B,C){var D,E,H,F,G,J;H=new d();if(this.zM.has(B.R)){F=this.zM.get(B.R);G=F.l1;if(G.R === B.R && G.jf === B.jf)J=F.rYc.key;this.xB.getStats().contents.some(function(L){return L.id === B.R;}) && (H=F.XMa);}F=f.zv.Zk.Wt((0,h.cNa)(B.jf));J || (J={J:B.R,config:F});G={J:B.R};this.Be.has(G) || this.Be.store(G,this.Mgc(B,C,F));C={key:J,z$c:!1,priority:B.priority,jma:g.I.Ca(null !== (E=null === (D=B.Cb) || void 0 === D?void 0:D.Hb) && void 0 !== E?E:0),Be:this.Be};this.zM.set(B.R,{rYc:C,l1:B,XMa:H});return C;};n.prototype.Mgc=function(B,C,D){var E,H,F;E=this;H=B.R;return {get Ia() {return C.DA(H);},Qx:!1,events:new q.EventEmitter(),YX:function(){},get Tu() {F || (F=E.mxb(B.R,C,B.Cb).then(function(G){return {S:G,WC:G.dqa && !G.gL,config:D,A1a:{}};}));return F;},J:H,rxa:!1,equals:function(G){var J;J=C.DA(H);return G && G.J === H && (!G.Ia || !J || J === G.Ia);}};};n.prototype.cD=function(B,C,D,E,H){var F,G,J,L,K,M,P,I;F=this;K=C.DA(B);if(K || E){M={J:B,fd:null === (G=null === E || void 0 === E?void 0:E.Uf) || void 0 === G?void 0:G.fd,Ib:null === (J=null === E || void 0 === E?void 0:E.Uf) || void 0 === J?void 0:J.Ib};if(!this.Be.has(M)){P=null !== K && void 0 !== K?K:this.Be.qs(null === (L=null === E || void 0 === E?void 0:E.Uf) || void 0 === L?void 0:L.fd).Ia;this.Be.store(M,{YX:function(){},equals:function(O){return O && O.J === M.J && (P === O.Ia || !O.Ia || !P);},get Tu() {I || (I=(H?Promise.resolve(H):F.mxb(B,C)).then(function(O){return {S:O,WC:O.dqa && !O.gL,config:D,A1a:{}};}));return I;},set Tu(O) {I=O;},events:new q.EventEmitter(),Ia:P,J:M.J,Qx:!1,rxa:!1});}}};n.prototype.dNb=function(B){this.vga=B;};n.prototype.zNb=function(B){this.dNb(B);this.xB.r1a(this.vga);};n.prototype.yKb=function(B){this.zM.has(B) && (this.dNb(this.vga.filter(function(C){return (0,g.Vf)(C.key) !== B;})),this.zM.delete(B));};Ha.Object.defineProperties(n.prototype,{xB:{configurable:!0,enumerable:!0,get:function(){this.UF || (this.UF=this.vJc(),this.UF.JKa(new x.cgb()).Z0a(this.hZa).oNb(new v.Y$a()).SMb({lH:this.config.sJc}),this.UF.events.on("prefetchComplete",this.dGc));return this.UF;}}});a=n;b.tza=a;b.tza=a=t.__decorate([(0,m.aa)(),t.__param(0,(0,m.v)(c.zb)),t.__param(1,(0,m.v)(e.Ic)),t.__param(2,(0,m.v)(p.VFa)),t.__param(3,(0,m.v)(l.F5a)),t.__param(4,(0,m.v)(r.YV))],a);},94028:function(t,b,a){var n,c,f,g,e,h;function d(k,l,m){var p;p=this;this.wi=l;l=m();this.cg=new h({log:k.wb("CacheManager"),Na:{getTime:function(){return p.wi.yc().oa(g.za);}},Promise:Promise,yD:!1,E$b:l.BJc,D$b:l.zJc,$lc:l.aJb,Zlc:l.AJc});}Object.defineProperty(b,"__esModule",{value:!0});b.Tza=void 0;t=a(22970);n=a(22674);c=a(81918);f=a(87386);g=a(5021);e=a(4203);h=a(83195);b.Tza=d;b.Tza=d=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.zb)),t.__param(1,(0,n.v)(c.ie)),t.__param(2,(0,n.v)(e.Ic))],d);},25505:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Y$a=void 0;a.prototype.cvb=function(d,n){var c;return null !== (c=this.Wmc(d,n)) && void 0 !== c?c:this.$mc(d,n);};a.prototype.Wmc=function(d,n){var c,f;c=this;f=n.Z;return d.find(function(g){var e;return c.gOa(f,null === (e=g.Z) || void 0 === e?void 0:e.Z);});};a.prototype.$mc=function(d,n){var c,f;c=n.Z.uf;f=n.Z.ba[c];return d.find(function(g){var e;g=null === (e=g.Z) || void 0 === e?void 0:e.Z;g=(e=null === g || void 0 === g?void 0:g.uf) && (null === g || void 0 === g?void 0:g.ba[e]) || void 0;return c === e && f.J === (null === g || void 0 === g?void 0:g.J) && f.Ta === (null === g || void 0 === g?void 0:g.Ta);});};a.prototype.gOa=function(d,n){var c;c=this;return d === n?!0:"object" !== typeof d || "object" !== typeof n?d === n:Object.keys(d).length === Object.keys(n).length && Object.keys(d).every(function(f){return c.gOa(d[f],n[f]);});};b.Y$a=a;},19484:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r;function d(u,v,w,x,y,A){this.Vcc=v;this.Kd=w;this.kjc=x;this.c0=y;this.vh=A;this.log=u.wb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.NCa=void 0;t=a(22970);n=a(22674);c=a(87386);f=a(4203);g=a(2248);e=a(47737);h=a(92395);k=a(32573);l=a(50323);m=a(49745);p=a(82100);q=a(56039);r=a(54973);d.prototype.fetch=function(u,v){var w;w=this;this.log.trace("Fetching LDL",(0,l.zBa)(u));this.R=u.R;this.og=v;return v.r$(u.R,"ldl").then(function(x){return x.ywa;}).catch(function(){w.log.trace("Requesting a new license",(0,l.zBa)(u));return w.vh.s$(u.R).then(function(x){var y,A,z,B,C,D,E;w.Aa=x.Aa;if(v.Xyb(u.R))return v.r$(u.R,"ldl").then(function(H){return H.ywa;});y=w.og.iRc(u.R,w.Aa);if(y)throw {status:y};A=w.Aa.km[0];y=A.dva;z=A.etb;A=A.streams[0].ds;B=(0,p.MAb)(A);C=(y?y:[z]).map(function(H){return w.Kd.decode(H.bytes);});D=(0,r.J$)(w.Vcc(),!0,u.rUa);E=w.kjc().then(function(H){var F,G,J;J={type:D,initData:C,Wqa:B,XA:(0,q.xRa)(w.Aa.km[0].streams),Ns:{R:u.R,Ia:v.MNa(u.R),Zd:w.Aa.Zd,js:w.Aa.js,wp:x.wp,yf:w.Aa.yf,Vp:null !== (G=null === (F=w.Aa.FB) || void 0 === F?void 0:F.Vp) && void 0 !== G?G:w.Aa.km[0].We}};return H.vu(J,w.c0());}).catch(function(H){w.handleError("Unable to prepare an EME session.",H);throw H;});w.og.QPc(u.R,{ywa:E,yVa:{source:"videopreparer",type:D}},function(){if(!w.og.g4a(u.R))try{E.then(function(H){return H.close();}).catch(function(H){w.handleError("Unable to cleanup LDL session, Unable to get the session.",H);});}catch(H){w.handleError("Unable to cleanup LDL session, unexpected exception.",H);}});return E;}).catch(function(x){w.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:k.Cr.Zc};});});};d.prototype.handleError=function(u,v){this.log.warn(u + " LDL is now invalid.",v);this.og.Wbc(this.R);this.og.Cpb(this.R);};a=d;b.NCa=a;b.NCa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.zb)),t.__param(1,(0,n.v)(f.Ic)),t.__param(2,(0,n.v)(g.om)),t.__param(3,(0,n.v)(e.tha)),t.__param(4,(0,n.v)(h.z5)),t.__param(5,(0,n.v)(m.YV))],a);},71576:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q;function d(r,u,v,w,x){this.Pba=v;this.wi=w;this.vh=x;this.log=r.wb("VideoPreparer");this.config=u();}Object.defineProperty(b,"__esModule",{value:!0});b.EDa=void 0;t=a(22970);n=a(4203);c=a(22674);f=a(87386);g=a(81918);e=a(5021);h=a(17398);k=a(72639);l=a(50323);m=a(49745);p=a(91176);q=a(54973);d.prototype.fetch=function(r,u){var v,w,x;this.log.trace("Fetching manifest",(0,l.zBa)(r));w=r.Cb;x=new p.AbortController();this.config.z5b && w && w.S && !this.vh.dw(r.R) && (!(("clientGenesis" in w.S) && w.S.clientGenesis) || "number" === typeof w.S.clientGenesis && Date.now() - w.S.clientGenesis < this.config.aJb) && (w=this.Pba.create(w.S)) && (w.NT=this.wi.yc().oa(e.za),w.I1=this.wi.yc().oa(e.za),this.vh.tU(r.R,w));return this.vh.mp({Ia:u.MNa(r.R),J:r.R,qb:null !== (v=r.Cb) && void 0 !== v?v:{},fu:k.Zp.N5,Hi:(0,q.J$)(this.config,!0,r.rUa)},x.signal,!0,function(y){u.events.emit("manifestRemovedFromCache",{target:u,type:"manifestRemovedFromCache",J:r.R,S:y});});};a=d;b.EDa=a;b.EDa=a=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(f.zb)),t.__param(1,(0,c.v)(n.Ic)),t.__param(2,(0,c.v)(h.XV)),t.__param(3,(0,c.v)(g.ie)),t.__param(4,(0,c.v)(m.YV))],a);},37780:function(t,b,a){var n,c,f;function d(g,e){this.ec=e;this.wa=g.wb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.tFa=void 0;t=a(22970);n=a(22674);c=a(87386);a=a(42207);d.prototype.ric=function(g){var e;e=this;try{return {direction:g.direction,Z$c:g.layoutHasChanged,Xcd:g.rowInteractionIndex,qc:g.lolomos.map(function(h){return e.mic(h);})};}catch(h){this.wa.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(g)});}};d.prototype.mic=function(g){var e;e=this;return {context:g.context,list:g.list.map(function(h){return e.lic(h);}),requestId:g.requestId,rowIndex:g.rowIndex,Ycd:g.rowSegment};};d.prototype.lic=function(g){var e,h;e={od:g.pts,property:g.property,J:g.viewableId,index:g.index};h=g.preplay;this.ec.Ci(h) && (e.Vua=this.qic(h));g=g.params;this.ec.Ci(g) && (e.Cb=this.tsb(g));return e;};d.prototype.qic=function(g){var e;e={od:g.pts,J:g.viewableId,f1:g.pipelineNum,index:g.index};g=g.params;this.ec.Ci(g) && (e.Cb=this.tsb(g));return e;};d.prototype.tsb=function(g){return {jf:g.uiLabel,Jn:g.trackingId,dr:g.sessionParams};};d.prototype.pic=function(g){var e;e=this;try{return g.map(function(h){return e.nic(h);});}catch(h){this.wa.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(g)});}};d.prototype.nic=function(g){var e,h;h=g.params;this.ec.Ci(h) && (e=this.oic(h));return {R:g.movieId,priority:g.priority,force:g.force,Cb:e,jf:g.uiLabel,rUa:g.isLivePostplay,Led:g.uiExpectedStartTime,Ked:g.uiExpectedEndTime,kp:g.firstTimeAdded};};d.prototype.oic=function(g){var e,h;e=void 0;h=g.sessionParams;this.ec.Ci(h) && (e=h);return {bma:this.kic(g.authParams),dr:e,Jn:g.trackingId,Hb:g.startPts,S:g.manifest,Pg:g.isBranching};};d.prototype.kic=function(g){return {jIc:null === g || void 0 === g?void 0:g.pinCapableClient};};f=d;b.tFa=f;b.tFa=f=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.zb)),t.__param(1,(0,n.v)(a.Mi))],f);},59315:function(t,b,a){var n,c,f,g,e,h;function d(k,l,m){this.Tq=k;this.config=l;this.debug=m;}Object.defineProperty(b,"__esModule",{value:!0});b.VFa=b.UFa=void 0;t=a(22970);n=a(45247);c=a(22674);f=a(75864);g=a(79048);e=a(4203);a=a(90597);d.prototype.PDb=function(k){var l,m;l=this;if(k.Hd.key.Z)return Promise.resolve(k.Hd.key.Z);m=(0,n.Vf)(k.Hd.key);this.debug.assert(!!m,"SmallAsset is not supported");return k.Hd.Be.qs(m).Tu.then(function(p){p=p.S;return p.Yr?(0,g.CMa)(p.Yr,{config:l.config()}):(0,g.F1a)(m,l.Tq.Tx(m));});};h=d;b.UFa=h;b.UFa=h=t.__decorate([(0,c.aa)(),t.__param(0,(0,c.v)(f.Q5)),t.__param(1,(0,c.v)(e.Ic)),t.__param(2,(0,c.v)(a.hC))],h);b.VFa="PlaygraphResolverSymbol";},50323:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zBa=function(){return "";};},79538:function(t,b,a){var n,c;function d(f,g,e,h,k,l,m,p){this.type=f;this.Tm=g;this.eIc=void 0 === e?!1:e;this.notify=k;this.Fmc=l;this.l1=m;this.og=p;this.id=++c;this.status=n.Cr.Tm;}Object.defineProperty(b,"__esModule",{value:!0});b.Pia=void 0;n=a(32573);c=0;d.prototype.iu=function(){var f;f={id:this.id,type:this.type,created:this.Tm,status:this.status,movieId:this.R};this.startTime && (f.startTime=this.startTime);this.endTime && this.startTime && (f.duration=this.endTime - this.startTime,f.endTime=this.endTime);return f;};d.prototype.z0=function(f){this.notify && this.notify(f);};d.prototype.rOc=function(){return this.Fmc.fetch(this.l1,this.og);};Ha.Object.defineProperties(d.prototype,{R:{configurable:!0,enumerable:!0,get:function(){return this.l1.R;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.l1.priority;}}});b.Pia=d;},12849:function(t,b,a){var n,c,f,g,e,h,k,l,m,p;function d(q,r,u,v){this.is=u;this.wi=v;this.log=q.wb("TaskScheduler");this.jc=new m.rm();this.config=r();this.currentIteration=this.V8=0;this.AU=[];this.paused=!1;this.axa=[];this.aqb=[];this.pwc=this.config.yJc || p.append;this.addEventListener=this.jc.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.$Fa=void 0;t=a(22970);n=a(22674);c=a(87657);f=a(87386);g=a(4203);e=a(32573);h=a(42207);k=a(81918);l=a(5021);m=a(94886);(function(q){q.prepend="prepend";q.append="append";q.uqa="ignore";})(p || (p={}));d.prototype.D6b=function(q){this.log.trace("adding tasks, number of tasks: " + q.length);this.paused=!1;this.AU=this.qwc(q);this.V8=0;this.currentIteration+=1;this.Yh();};d.prototype.pause=function(){this.paused=!0;};d.prototype.Yh=function(){var q,r,u,v;q=this;if(this.V8 === this.AU.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.V8,numberOfTasks:this.AU.length});else {r=this.Brc();u=this.currentIteration;r.startTime=this.wi.yc().oa(l.za);r.status=e.Cr.Xy;this.jc.rd(c.Qia.pUc,{R:r.R,type:r.type});this.axa.push(r);v=function(w){r.endTime=q.wi.yc().oa(l.za);w();q.aqb.push(r);q.axa.splice(q.axa.indexOf(r),1);q.currentIteration === u && (q.V8++,q.Yh());};r.rOc().then(function(){v(function(){r.status=e.Cr.A2;q.JZa(r,c.Qia.qUc,"task succeeded");});}).catch(function(w){v(function(){0 <= [e.Cr.Zc,e.Cr.Iac,e.Cr.lMa].indexOf(w.status)?(r.status=w.status,q.JZa(r,c.Qia.nUc,"cancelled task")):(r.status=e.Cr.Vd,q.JZa(r,c.Qia.oUc,"task failed",w));});});}};d.prototype.Brc=function(){return this.AU[this.V8];};d.prototype.getStats=function(q,r,u){var v,w,x,y;v=this.aqb.map(function(A){return A.iu();});w=this.axa.map(function(A){return A.iu();});x=this.is.Ci(q) && this.is.Ci(r);y={};if(this.is.Ci(u))return (y.Kcc=v.filter(function(A){return A.movieId === u;}),y);v.concat(w).forEach(function(A){var z;y[A.type + "_" + A.status]=(y[A.type + "_" + A.status] | 0) + 1;z=A.status == e.Cr.Xy?A.startTime:A.endTime;x && z && z >= q && z < r && (y[A.type + "_" + A.status + "_delta"]=(y[A.type + "_" + A.status + "_delta"] | 0) + 1);});return y;};d.prototype.JZa=function(q,r,u,v){var w;w=q.iu();v?this.log.warn(u,w,v):this.log.trace(u,w);this.jc.rd(r,{R:q.R,type:q.type,reason:q.status});q.z0(w);};d.prototype.qwc=function(q){var r,u;r=this.AU.filter(function(v){return v.eIc && v.status === e.Cr.Tm;});u=this.pwc;return u === p.uqa?[].concat(q):u === p.prepend?r.concat(q):q.concat(r);};a=d;b.$Fa=a;b.$Fa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.zb)),t.__param(1,(0,n.v)(g.Ic)),t.__param(2,(0,n.v)(h.Mi)),t.__param(3,(0,n.v)(k.ie))],a);},37991:function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.cgb=void 0;a.prototype.eMa=function(d,n){var c;d=n(d);null === (c=d.Hp) || void 0 === c?void 0:c.forEach(function(f){f.TOb.video.push({Ama:!1,Bh:function(g){return g.filter(function(e){return !e.yk || 1080 >= e.QT;});}});});return d;};b.cgb=a;},85671:function(t,b,a){var c,f,g,e,h,k,l,m,p,q,r,u,v,w,x;function d(y,A,z,B,C,D,E,H,F,G){this.EYc=z;this.ec=B;this.wi=C;this.mc=D;this.Kub=E;this.Cmc=H;this.Doa=F;this.events=new x.EventEmitter();this.log=y.wb("VideoPreparer");this.config=A();this.v4a={};this.Usa={};this.stats={num_of_calls:0,num_of_movies:0};this.Doa.Ob(this);this.cg=G.cg;}function n(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.RHa=void 0;t=a(22970);c=a(79538);f=a(4203);g=a(22674);e=a(87386);h=a(62665);k=a(42207);l=a(87657);m=a(81918);p=a(5021);q=a(32573);r=a(18148);u=a(32737);v=a(67590);w=a(91176);x=a(90745);d.prototype.QPc=function(y,A,z){this.cg.setData(y,"ldl",A,z);};d.prototype.Xyb=function(y){return this.cg.kaa(y,"ldl");};d.prototype.Wbc=function(y){this.cg.clearData(y,"ldl",void 0,!0);};d.prototype.r$=function(y,A){return this.cg.getData(y,A);};d.prototype.hpc=function(y){var A;A=this.cg.getData(y,"ldl");this.cg.clearData(y,"ldl",void 0,!0);return A;};d.prototype.g4a=function(y){return this.COb === y || this.prb === y;};d.prototype.rT=function(y,A){var z,B,C;z=this;y=y.map(function(D){D.Cb=D.Cb || ({bma:{jIc:!1},Jn:0});z.ec.HY(D.Cb.Jn) || (D.Cb.Jn=0);z.ec.HY(D.od) && (D.Cb.Hb=D.od);return D;});B=y.map(function(D){return z.Dgc(D,A);}).reduce(function(D,E){return D.concat(E);},[]);C=B.map(function(D){return D.R + "-" + D.type;});this.log.trace("prepare tasks",C);this.mc.D6b(B);this.stats.num_of_calls++;this.stats.num_of_movies+=y.length;};d.prototype.getStats=function(y,A,z){return Object.assign(Object.assign({},z && this.Usa[z] || ({})),{AU:this.mc.getStats(y,A,z),cache:this.cg.getStats(y,A),ioc:Object.assign(Object.assign({},this.stats),this.Doa.getStats())});};d.prototype.nuc=function(y){this.COb=y;};d.prototype.luc=function(y){this.log.trace("task scheduler paused on playback created");this.mc.pause();this.config.eic && this.cg.HMa(y,["manifest"]);this.config.dic && this.cg.HMa(y,["ldl"]);this.config.bic && this.cg.clearData(y,"manifest");this.Doa.yKb(y);this.prb=y;};d.prototype.Nyb=function(){this.log.info("ad played, clearing all manifests from cache");this.yvb();};d.prototype.Ryb=function(){this.log.info("track changed, clearing all manifests from cache");this.yvb();};d.prototype.kuc=function(y){var A;A=this;this.config.cic?this.cg.clearData(y,"manifest"):this.cg.kaa(y,"manifest") && this.cg.getData(y,"manifest").then(function(z){z.Aa.isSupplemental || A.config.ePa && (0,w.RA)(z.Aa.yf)?z.V3a=!0:A.cg.clearData(y,"manifest");},function(z){A.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",z);});this.cg.getState().reduce(function(z,B){B=B.movieId;z.includes(B) || z.push(B);return z;},[]).forEach(function(z){A.cg.getData(z,"manifest").then(function(B){var C,D;(null === (D=null === (C=B.Aa.CE) || void 0 === C?void 0:C.mN) || void 0 === D?0:D.UA) && ["manifest","ldl"].forEach(function(E){return A.cg.gRb(z,E);});}).catch(function(){A.cg.clearData(z,"ldl");});});this.Cpb(y);this.COb=this.prb=void 0;this.events.emit("playbackClosing",{J:y,type:"playbackClosing",target:this});};d.prototype.yvb=function(){this.cg.HMa("none",["manifest","ldl"]);};d.prototype.Cpb=function(y){delete this.v4a[y];};d.prototype.DA=function(y){return this.v4a[y];};d.prototype.MNa=function(y){return this.v4a[y]=this.EYc.yG();};d.prototype.iRc=function(y,A){if(this.Xyb(y))return q.Cr.Zc;if(!A.gL)return q.Cr.lMa;};d.prototype.Dgc=function(y,A){var z,B;y.jf && y.Cb && (y.Cb.jf=y.jf);this.JWc(y.R,y.kp);z=this.Wfc(y,A);B=this.Qfc(y,null === z || void 0 === z?void 0:z.id,A);y=this.agc(y,null === z || void 0 === z?void 0:z.id,A);return [z,B,y].filter(n);};d.prototype.Wfc=function(y,A){if(this.cg.kaa(y.R,"manifest"))this.log.trace("manifest exists in cache for " + y.R);else return new c.Pia("manifest",this.wi.yc().oa(p.za),!!y.Cb.XLb,void 0,A,this.Kub,y,this);};d.prototype.Qfc=function(y,A,z){if(this.config.coa)if(this.cg.kaa(y.R,"ldl"))!1;else return new c.Pia("license",this.wi.yc().oa(p.za),!!y.Cb.XLb,A,z,this.Cmc,y,this);};d.prototype.agc=function(y,A,z){if(this.config.eoa)return new c.Pia("getMedia",this.wi.yc().oa(p.za),!!y.Cb.XLb,A,z,this.Doa,y,this);};d.prototype.JWc=function(y,A){this.Usa[y] || (this.Usa[y]={Sua:0,kp:0});y=this.Usa[y];y.Sua=(void 0 !== y?void 0 !== y.Sua?y.Sua:0:0) + 1;y.kp=A;};a=d;b.RHa=a;b.RHa=a=t.__decorate([(0,g.aa)(),t.__param(0,(0,g.v)(e.zb)),t.__param(1,(0,g.v)(f.Ic)),t.__param(2,(0,g.v)(h.iF)),t.__param(3,(0,g.v)(k.Mi)),t.__param(4,(0,g.v)(m.ie)),t.__param(5,(0,g.v)(l.qfb)),t.__param(6,(0,g.v)(u.pfb)),t.__param(7,(0,g.v)(u.ofb)),t.__param(8,(0,g.v)(v.uza)),t.__param(9,(0,g.v)(r.Uza))],a);},36149:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.nSb=void 0;t=a(22674);d=a(58872);n=a(52357);b.nSb=new t.Ce(function(c){c(d.Dib).to(n.QHa).sa();});},58872:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dib="VideoPlayerFactorySymbol";},85001:function(t,b){var d,n,c,f,g,e,h,k;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Mc=b.Nb=b.mh=b.Gc=b.Wya=b.ja=b.nCa=b.mW=b.Za=void 0;(function(l){l.hDb="loadedtracks";l.gDb="loadedmetadata";l.loaded="loaded";l.error="error";l.closed="closed";l.$t="currenttimechanged";l.XQb="unthrottledcurrenttimechanged";l.oma="bufferedtimechanged";l.POa="durationchanged";l.f4a="videosizechanged";l.VHb="pausedchanged";l.iZa="playingchanged";l.Otb="endedchanged";l.LX="busychanged";l.Zla="audiotracklistchanged";l.nq="audiotrackchanged";l.aC="timedtexttracklistchanged";l.Rp="timedtexttrackchanged";l.Ofa="trickplayframeschanged";l.O2a="timecodesupdated";l.nFb="mutedchanged";l.uSb="volumechanged";l.z1a="showsubtitle";l.q_a="removesubtitle";l.gYc="watermark";l.HUa="isReadyToTransition";l.i_="inactivated";l.xAb="internalPlaybackError";l.iPc="segmentmaploaded";l.jPc="segmentpresenting";l.Bnb="autoplaywasallowed";l.dma="autoplaywasblocked";l.Y6b="adsstatechanged";l.PL="livestatechanged";l.xmb="admetadataupdated";})(d || (b.Za=d={}));(n || (b.mW=n={})).vea="playgraphsegmenttransition";b.nCa=a;a.MMb="serverTimeChanged";(function(l){l.Ura="livePipelineFailover";l.cma="autoplayWasAllowed";l.Hj="autoplayWasBlocked";l.lG="bufferUnderrun";l.closed="closed";l.rh="closing";l.$t="currentTimeChanged";l.wQ="downloadComplete";l.i_="inactivated";l.wVa="licenseAdded";l.zVa="licensed";l.Aba="locationSelected";l.eWa="manifestClosing";l.TL="manifestPresenting";l.dca="mediaBufferChanged";l.jta="nextBranchingSegmentChosen";l.tB="playbackStart";l.Fp="playbackReady";l.Mva="repositioning";l.G1="repositionASE";l.Rs="repositioned";l.kea="safePlayRequested";l.$M="segmentPresenting";l.Bea="serverSwitch";l.w1a="shouldUpdateVideoDiagInfo";l.z2="subtitleError";l.H2a="throttledMediaTimeChanged";l.YQb="unthrottledMediaTimeChanged";l.L2="timedTextRebuffer";l.aC="timedTextTrackListChanged";l.Ofa="trickPlayFramesChanged";l.A3a="updateNextBranchingSegmentWeights";l.X3a="userInitiatedPause";l.ZRb="userInitiatedResume";l.mQb="tracksHydrated";l.PL="livestatechanged";l.fea="restarting";l.ZCb="livePostplayUpdated";l.AX="aseLogblob";})(c || (b.ja=c={}));(f || (b.Wya=f={})).dla="adBreakComplete";(function(l){l[l.dW=0]="NOTLOADED";l[l.LOADING=1]="LOADING";l[l.Cf=2]="NORMAL";l[l.CLOSING=3]="CLOSING";l[l.CLOSED=4]="CLOSED";})(g || (b.Gc=g={}));(function(l){l[l.Cf=1]="NORMAL";l[l.Sf=2]="BUFFERING";l[l.rgb=3]="STALLED";})(e || (b.mh=e={}));(function(l){l[l.ph=1]="WAITING";l[l.rg=2]="PLAYING";l[l.Oi=3]="PAUSED";l[l.ex=4]="ENDED";})(h || (b.Nb=h={}));(function(l){l[l.No=0]="INITIAL";l[l.bv=1]="SEEK";l[l.RV=2]="LIVE_EDGE";l[l.i6=3]="TRACK_CHANGED";l[l.rW=4]="SEGMENT_CHANGED";l[l.Bha=5]="FORCE_REBUFFER";l[l.n4=6]="FRAGMENTS_MISSING";l[l.hia=7]="MEDIA_DISCONTINUITY";})(k || (b.Mc=k={}));},91122:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.d7a="CdnPartitionerSymbol";},75950:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z;Object.defineProperty(b,"__esModule",{value:!0});b.zzb=void 0;t=a(22674);d=a(70673);n=a(78033);c=a(23002);f=a(487);g=a(77764);e=a(23179);h=a(52794);k=a(52961);l=a(44376);m=a(15850);p=a(47500);q=a(68272);r=a(10242);u=a(78029);v=a(62553);w=a(91122);x=a(12394);y=a(20034);A=a(91825);z=a(27134);b.zzb=new t.Ce(function(B){B(d.f$a).to(n.VBa).sa();B(c.i$a).to(f.WBa).sa();B(g.T9a).to(e.OBa).sa();B(h.U9a).to(k.PBa).sa();B(w.d7a).to(x.$za).sa();B(l.Teb).to(m.LFa).sa();B(p.gHa).to(q.fHa);B(r.s5).to(y.zO);B(A.u5).to(z.AO);B(u.NBa).to(v.XBa);});},78029:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.NBa="HLSConfigSymbol";},77764:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.T9a="HLSPlaylistBuilderSymbol";},52794:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.U9a="HLSPlaylistTransformerSymbol";},70673:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.f$a="HeaderFetcherSymbol";},23002:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.i$a="HLSHeaderParserFactorySymbol";},10242:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.D1c="LogblobBuilderSymbol";b.s5="HLSLogblobBuilderFactorySymbol";},91825:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.u5="HLSLogblobMonitorFactorySymbol";},44376:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Teb="PlayerPlaydataMonitorSymbol";},47500:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.gHa="StreamChangeDetectorSymbol";},12394:function(t,b,a){var n,c;function d(f){this.wa=f.wb("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.$za=void 0;t=a(22970);n=a(22674);a=a(87386);d.prototype.mpc=function(f){var e,h,k,l,m,p,q;function g(r,u,v){var w,x,y;w=r.map(function(A){return A.Kg;});w.sort(function(A,z){return u[A] - u[z];});if(1 === w.length)(!1,k.set(v,{n1:r[0],nwa:r[0]}));else {x=w.find(function(A){return e.has(A);});x || ((x=w.find(function(A){return !h.has(A);}))?e.add(x):(x=w[0],!1));y=w.find(function(A){return h.has(A) && A !== x;});y || ((y=w.find(function(A){return !e.has(A) && A !== x;}))?h.add(y):(y=w.find(function(A){return A !== x;}),!1));k.set(v,{n1:r.find(function(A){return A.Kg === x;}),nwa:r.find(function(A){return A.Kg === y;})});}}e=new Set();h=new Set();k=new Map();l=f.video;m=f.audio;p=f.text;q=f.Ik.reduce(function(r,u){r[u.id]=u.Bc;return r;},{});l.forEach(function(r){r=r.stream;g(r.urls,q,r.$g);});m.forEach(function(r){r=r.stream;g(r.urls,q,r.$g);});p.forEach(function(r){var u,v;if(!r.track.gy || r.track.Xaa){u=r.stream;r=r.id;v=u.urls.reduce(function(w,x,y){w[x.Kg]=y + 1;return w;},{});g(u.urls,v,r);}});return k;};c=d;b.$za=c;b.$za=c=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.zb))],c);},62553:function(t,b,a){var n,c,f,g;function d(e){return c.Tf.call(this,e,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.XBa=void 0;t=a(22970);n=a(22674);c=a(64174);f=a(83767);a=a(12501);Ia(d,c.Tf);Ha.Object.defineProperties(d.prototype,{MIb:{configurable:!0,enumerable:!0,get:function(){return !0;}},jB:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},QD:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},Azb:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},pw:{configurable:!0,enumerable:!0,get:function(){return 80;}}});g=d;b.XBa=g;t.__decorate([a.config(a.qd,"playsInline")],g.prototype,"MIb",null);t.__decorate([a.config(a.rL,"minAudioMediaRequestDuration")],g.prototype,"jB",null);t.__decorate([a.config(a.rL,"minVideoMediaRequestDuration")],g.prototype,"QD",null);t.__decorate([a.config(a.rL,"hlsVideoMediaRequestTargetDuration")],g.prototype,"Azb",null);t.__decorate([a.config(a.rL,"minStartingVideoVMAF")],g.prototype,"pw",null);b.XBa=g=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.Qo))],g);},23179:function(t,b,a){var g,e,h,k,l,m,p,q,r,u,v,w;function d(x,y){this.g9=y;this.Ac=x.filter(function(A){return A.FI[m.Ir.Pja];}).map(function(A){return {track:A,stream:A.FI[m.Ir.Pja],id:A.ctb[m.Ir.Pja]};});}function n(x,y,A){var z;this.yU=y;this.pw=A;z=x[0];this.Mfa=z.streams.map(function(B){return {track:z,oaa:B.oOb,stream:B};});}function c(x,y,A,z){function B(C,D){return C.bitrate > D.bitrate?C:D;}this.log=x;this.yU=A;this.g9=z;this.Mfa=y.map(function(C){var D;D=C.streams.reduce(B);return {track:C,oaa:D.Bo?D.Bo.offset + D.Bo.size:void 0,stream:D};});}function f(x,y,A,z,B,C){this.Vuc=x;this.Wuc=y;this.UIc=A;this.Pac=z;this.uaa=B;this.uh=C;this.wa=C.wb("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.i1b=b.L1b=b.NTb=b.OBa=void 0;t=a(22970);g=a(22674);e=a(70673);h=a(23002);k=a(36129);l=a(31149);m=a(75568);p=a(52794);q=a(91122);r=a(78029);u=a(87386);v=a(79542);w=a(26388);f.prototype.build=function(x,y){var A,z,B,C,D,E;A=this;C=x.Aa;x=this.Soc(C,y);D=this.Jtc(C,y);E=null !== (B=null === (z=C.FB) || void 0 === z?void 0:z.az) && void 0 !== B?B:C.nt.find(function(H){var F;return H.id === (null === (F=C.h9) || void 0 === F?void 0:F[0].hPb);}).We;z=new d(C.nt,E);return Promise.all([x,D,z]).then(function(H){var F,G;F=Ea(H);H=F.next().value;G=F.next().value;F=F.next().value;H={audio:H.getMetadata(),video:G.getMetadata(),text:F.getMetadata(),bsb:H.YQa(),Khc:F.YQa(),duration:C.duration,Ik:C.Ik};G=A.Pac.mpc(H);y("h_s");return {hBc:A.UIc.transform(H,G),Sac:G,eTc:H};});};f.prototype.Jtc=function(x,y){var A;A=new n(x.km,this.uaa.Azb,this.uaa.pw);return this.Wsb(A.Mfa,w.u.U,y).then(function(z){A.T0a(z);return A;});};f.prototype.Soc=function(x,y){var A,z,B,C;B=null !== (z=null === (A=x.FB) || void 0 === A?void 0:A.Dv) && void 0 !== z?z:x.Om.find(function(D){var E;return D.id === (null === (E=x.h9) || void 0 === E?void 0:E[0].Dv);}).We;C=new c(this.wa,x.Om,this.uaa.jB,B);return this.Wsb(C.Mfa,w.u.X,y).then(function(D){C.T0a(D);return C;});};f.prototype.yYa=function(x,y,A,z){if(x=this.Wuc.parse(y,x,A))return x;this.wa.error("Failed to parse headers",{type:y === w.u.X?"audio":"video",downloadableId:z.stream.$g});};f.prototype.Wsb=function(x,y,A){var z;z=this;return Promise.all(x.map(function(B,C){if(B.oaa)return z.Vuc.download({urls:B.stream.urls,offset:0,length:B.oaa}).then(function(D){A("h_" + (0 === y?"A":"V") + "_" + C + "_s");return z.yYa(D,y,y == w.u.X?z.uaa.jB:z.uaa.QD,B);}).catch(function(){A("h_" + B.track.aj[0] + "_" + C + "_f");z.wa.warn("Failed to download and parse headers for " + B.stream.$g);});z.wa.warn("Stream data offset is missing",{downloadableId:B.stream.$g});}));};a=f;b.OBa=a;b.OBa=a=t.__decorate([(0,g.aa)(),t.__param(0,(0,g.v)(e.f$a)),t.__param(1,(0,g.v)(h.i$a)),t.__param(2,(0,g.v)(p.U9a)),t.__param(3,(0,g.v)(q.d7a)),t.__param(4,(0,g.v)(r.NBa)),t.__param(5,(0,g.v)(u.zb))],a);c.prototype.T0a=function(x){var y;y=this;if(!x.find(function(A){return void 0 !== A;}))throw l.se.PSb(k.da.N$a,k.Y.tDa);this.Ac=this.Mfa.map(function(A,z){if(z=x[z])return {track:A.track,stream:A.stream,Oa:z,yU:y.yU};}).filter(v.iBb);};c.prototype.getMetadata=function(){return this.Ac;};c.prototype.YQa=function(){var x,y;x=this;if(!this.Ac.find(function(A){return A.track.We === x.g9;}) && 0 < this.Ac.length){y=this.Ac[0].track.We;this.log.warn("Did not find metadata for audio track " + this.g9 + ", falling back to " + y);return y;}return this.g9;};b.NTb=c;n.prototype.T0a=function(x){var y,A;y=this;if(!x.find(function(z){return void 0 !== z;}))throw l.se.PSb(k.da.N$a,k.Y.uDa);A=this.Mfa.map(function(z,B){if(B=x[B])return {track:z.track,stream:z.stream,Oa:B,yU:y.yU};}).filter(v.iBb);this.Ac=this.Nrc(A);};n.prototype.getMetadata=function(){return this.Ac;};n.prototype.Nrc=function(x){var y,A,z;y=this;x.sort(function(B){return B.stream.bitrate;});A=x.findIndex(function(B){var C;return (null !== (C=B.stream.Qb) && void 0 !== C?C:0) >= y.pw;});if(-1 !== A && A !== x.length - 1){z=x[A];x.splice(A,1);x.push(z);}x.reverse();return x;};b.L1b=n;d.prototype.YQa=function(){return this.g9;};d.prototype.getMetadata=function(){return this.Ac;};b.i1b=d;},52961:function(t,b,a){var n,c,f,g,e,h;function d(k){this.wa=k.wb("HLSPlaylistTransformerImpl");this.PXc=g.CAa.kA();this.S8b=e.BAa.kA();}Object.defineProperty(b,"__esModule",{value:!0});b.PBa=void 0;t=a(22970);n=a(22674);c=a(87386);f=a(35128);g=a(48617);e=a(12187);h=[0,1];d.prototype.transform=function(k,l){var m,p,q,r,u,v,w,x,y;m=this;p=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];q=k.text;r=k.audio;u=k.video;v=k.duration;w=k.bsb;x=k.Khc;q.forEach(function(A){h.forEach(function(z){var B,C,D,E;B=0 === z;C=A.stream;D=A.track;E=l.get(A.id);B=B?E.n1:E.nwa;C=m.mtc({url:B.url,duration:v / 1E3,size:C.size,vq:"Manifest for subtitles " + D.language + ' stream "' + D.HL + '", ' + D.We + ", cdn " + B.Kg});m.wa.trace("Text variant manifest",C.join("\n"));z=m.ntc({groupId:z,name:D.HL,fUa:D.We === x,rp:D.Xaa,Kwc:D.aj === f.dv.Hya,language:D.language,uri:m.ksa(C)});p.push(z);});});r.forEach(function(A){h.forEach(function(z){var B,C,D,E,H,F;B=0 === z;C=A.stream;D=A.track;E=A.Oa;H=A.yU;F=l.get(C.$g);B=B?F.n1:F.nwa;C=m.vxb({url:B.url,oaa:C.Bo.offset + C.Bo.size,Oa:E,yPb:Math.floor(H / 1E3),vq:"Manifest for audio " + D.language + ' stream "' + D.HL + '", ' + D.We + ", cdn " + B.Kg});m.wa.trace("Audio variant manifest",C.join("\n"));z=m.Toc({groupId:z,language:D.language,name:D.HL,fUa:D.We === w,uri:m.ksa(C)});p.push(z);});});y=this.S8b[r[0].track.profile];u.forEach(function(A){h.forEach(function(z){var B,C,D,E,H,F;B=0 === z;C=A.stream;D=A.track;E=A.Oa;H=A.yU;F=l.get(C.$g);F=B?F.n1:F.nwa;B=0 < q.length;D=m.vxb({url:F.url,oaa:C.Bo?C.Bo.offset + C.Bo.size:C.oOb,Oa:E,yPb:Math.floor(H / 1E3),vq:"Manifest for video bitrate " + C.bitrate + ", stream " + D.We + ", cdn " + F.Kg});m.wa.trace("Video variant manifest",D.join("\n"));z=m.Ktc({groupId:z,a8:1E3 * C.bitrate,g9b:1E3 * C.bitrate,Bxc:0 <= C.ds.indexOf("-hdr-") || 0 <= C.ds.indexOf("-dv5-"),framerate:(C.AQa / C.zQa).toFixed(3),zo:C.Rva + "x" + C.O_a,FXc:m.PXc[C.ds],J8b:y,wUc:B});p.push(z);z=m.ksa(D);p.push("" + z);});});this.wa.trace("Primary manifest",p.join("\n"));return this.ksa(p);};d.prototype.Toc=function(k){var l;l=k.fUa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + k.groupId + '"','CHANNELS="2"','LANGUAGE="' + k.language + '"','NAME="' + k.name + '"',"DEFAULT=" + (l?"YES":"NO"),"AUTOSELECT=" + (l?"YES":"NO"),'URI="' + k.uri + '"'].join(", ");};d.prototype.vxb=function(k){var l,m;l=k.Oa;m=["#EXTM3U","# " + k.vq,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + k.yPb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + l[0].byteOffset + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];l.forEach(function(p,q){m.push("#EXTINF:" + p.duration.toFixed(3) + "," + p.Hb.toFixed(3));m.push("#EXT-X-BYTERANGE:" + p.y$b + "@" + p.byteOffset);m.push("{$U}&fi=" + q);});m.push("#EXT-X-ENDLIST");return m;};d.prototype.Ktc=function(k){var l,m;l=k.groupId;m=["#EXT-X-STREAM-INF:BANDWIDTH=" + k.a8,"AVERAGE-BANDWIDTH=" + k.g9b,"VIDEO-RANGE=" + (k.Bxc?"PQ":"SDR"),"FRAME-RATE=" + k.framerate,'AUDIO="group_' + l + '"',"RESOLUTION=" + k.zo,'CODECS="' + k.FXc + "," + k.J8b + '"'];k.wUc && m.push('SUBTITLES="subs_' + l + '"');return m.join(", ");};d.prototype.mtc=function(k){var l;l=k.duration;return ["#EXTM3U","# " + k.vq,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(l),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + l.toFixed(3),"#EXT-X-BYTERANGE:" + k.size + "@0","{$U}","#EXT-X-ENDLIST"];};d.prototype.ntc=function(k){var l,m,p;l=k.fUa;m=k.language;p=k.uri;l=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + k.groupId + '"','NAME="' + k.name + '"',"DEFAULT=" + (l?"YES":"NO"),"AUTOSELECT=" + (l?"YES":"NO"),"FORCED=" + (k.rp?"YES":"NO")];k.Kwc && l.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');l.push('LANGUAGE="' + m + '"');l.push('URI="' + p + '"');return l.join(", ");};d.prototype.ksa=function(k){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(k.join("\n"));};a=d;b.PBa=a;b.PBa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.zb))],a);},78033:function(t,b,a){var n,c,f,g;function d(e,h){this.hvc=e;this.log=h.wb("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.VBa=void 0;t=a(22970);n=a(22674);c=a(87386);f=a(2571);g=a(32934);d.prototype.download=function(e){var k,l,m,p,q;function h(r){if(q < l.length - 1)return (!1,q++,k.Ysb(l[q].url,m,p).catch(h));throw r;}k=this;l=e.urls;m=e.offset;p=e.length;q=0;return this.Ysb(l[q].url,m,p).catch(h);};d.prototype.Ysb=function(e,h,k){return this.hvc.download({url:e,withCredentials:!1,responseType:g.ResponseType.hUb,BK:"hls_headers",fz:!0,offset:h,length:k,Mw:g.J5},{X_:1});};a=d;b.VBa=a;b.VBa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.n$a)),t.__param(1,(0,n.v)(c.zb))],a);},487:function(t,b,a){var n,c,f;function d(g){this.wa=g.wb("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.WBa=void 0;t=a(22970);n=a(22674);c=a(91562);a=a(87386);d.prototype.parse=function(g,e,h){g=new c.vm(this.wa,{mediaType:g},e,["sidx"]).parse();if(g.oB && g.Oa)return this.PKa(g.Oa,h);};d.prototype.PKa=function(g,e){var h,k,l,m,p;h=0;k=0;l=0;m=g.offset;p=[];g.fg.forEach(function(q,r){k+=q;l+=g.sizes[r];if(1E3 * k / g.O >= e || r === g.fg.length - 1)(p.push({duration:k / g.O,Hb:h / g.O,byteOffset:m,y$b:l}),h+=k,k=0,m+=l,l=0);});return p;};f=d;b.WBa=f;b.WBa=f=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.zb))],f);},20034:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m,p,q,r){this.uh=l;this.AH=m;this.di=p;this.Jc=q;this.Xa=r;}Object.defineProperty(b,"__esModule",{value:!0});b.zO=void 0;t=a(22970);n=a(22674);c=a(81918);f=a(87386);g=a(45118);e=a(98326);h=a(31850);k=a(97444);d.prototype.create=function(l){return new k.t5(this.uh,this.AH,this.di,this.Xa,this.Jc,l);};a=d;b.zO=a;b.zO=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(f.zb)),t.__param(1,(0,n.v)(h.jF)),t.__param(2,(0,n.v)(g.Xp)),t.__param(3,(0,n.v)(e.fDa)),t.__param(4,(0,n.v)(c.ie))],a);},97444:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m,p,q,r,u){var v;v=this;this.AH=m;this.di=p;this.Xa=q;this.Jc=r;this.FWa=this.sL=this.Tda=0;this.ZR=!1;this.LH=function(){var w;w=v.gda();w.prstate=v.gH();w.paustate=v.j.$aa();w.midplayseq=v.FWa++;v.Jc.k_(w);v.Vc(n.Td.LH,void 0,k.lf | k.Cz,w);};this.Hj=function(){v.Vc(n.Td.Ynb,void 0,k.lf | k.Wu,{});};this.Rp=function(w){v.oVa=v.getTime();v.pVa=w.Cy;};this.T7=function(w){v.bVa=w.oldValue;};this.wua=function(w){w != v.ZR && (v.T1a(v.ZR,w),v.ZR=w);};this.T1a=function(w,x){var y;y=v.j.Pa;w={newstate:x?"Paused":"Playing",oldstate:w?"Paused":"Playing"};v.Jc.ew(w,y.ze.value && y.ze.value.stream,y.Ye.value && y.Ye.value.stream);v.Vc(n.Td.afa,void 0,k.lf,w);};this.Tea=function(w){v.Vc(n.Td.kOb,void 0,k.lf,{speedold:Math.floor(1E3 * w.oldValue),speed:Math.floor(1E3 * w.newValue)});};this.AI=function(w){var x,y,A;y=v.j.Pa;A=y.ka.Rd;if(w.newValue || A && A.Kq() && !A.rp())(w=null !== (x=w.newValue) && void 0 !== x?x:A,x=v.yR(w),w=v.yR(v.pVa),x={switchdelay:(0,c.$h)(v.getTime() - v.oVa),track:x,oldtrack:w},v.Jc.ew(x,y.ze.value && y.ze.value.stream,y.Ye.value && y.Ye.value.stream),v.Vc(n.Td.QPb,void 0,k.lf,x));};this.SYa=function(w,x){var y;y=v.j.Pa;w={waittime:(0,c.$h)(w),abortedevent:"resumeplay",resumeplayreason:x};v.Jc.ew(w,y.ag.value,y.fj.value);v.Vc(n.Td.vM,void 0,k.lf | k.Wu,w);};this.Hu=function(w,x,y){var A;A=y.X_a;y=y.VKb;w={playdelay:(0,c.$h)(w),reason:A,intrplayseq:v.sL - 1,skipped:x};"repos" === A && (w.prstate=!0 === v.j.$j.value?"playing":"paused",y === e.Mc.n4 && (w.repos_reason="missing_segments"));v.Vc(n.Td.Hu,void 0,k.lf | k.ix,w);};this.uLa=function(){var w,x,y,A;x=v.fR(v.j.Pa.ka.je,v.j.Pa.fj.value.ob);y=v.vH;A=null === (w=v.bVa) || void 0 === w?void 0:w.ob;w=v.fR(y,A);v.Vc(n.Td.vnb,void 0,k.lf,{switchdelay:(0,c.$h)(v.getTime() - v.cVa),track:x,oldtrack:w});};this.nq=function(w){v.cVa=v.getTime();v.vH=w.tw;};this.TYa=function(){var w,x,y;w=v.j.Pa;x={abortedevent:"startplay",trackid:w.Jn,prstate:v.gH(),paustate:v.j.$aa()};try{y=(0,f.WZ)();y && (x.pdltime=y);(0,c.Jf)(x,w.If,{prefix:"sm_"});}catch(A){}v.Jc.Bqa(x,w);v.Jc.j_(x,!1,w.ka.je,w);v.Jc.l_(x,!1,w.ka.Mh,w);v.Jc.ew(x,w.ag.value,w.fj.value);v.HR(x);v.Vc(n.Td.vM,void 0,k.lf | k.Cz | k.Wu,x);};this.sG=function(w,x,y,A){w={moff:(0,c.ps)(y),moffms:(0,c.$h)(y),vbitrate:x.bitrate,vbitrateold:w.bitrate,vdlid:x.ob,vdlidold:w.ob,vheight:x.height,vheightold:w.height,vwidth:x.width,vwidthold:w.width,bw:A};v.Vc(n.Td.sG,void 0,0,w);};this.NM=function(w,x,y){w={moffold:(0,c.ps)(w),reposseq:v.Tda++,prstate:v.gH(),paustate:v.j.$aa()};v.Jc.ew(w,y && y.stream,x && x.stream);v.Vc(n.Td.NM,void 0,k.lf,w);};this.Np=function(w){var x,y,A,z,B,C,D,E,H;C=w.Pa;D={playdelaysdk:(0,c.$h)(v.j.q8()),applicationPlaydelay:(0,c.$h)(v.j.cMa()),playdelay:(0,c.$h)(v.j.dMa()),trackid:C.Jn,bookmark:(0,c.$h)(C.pq || 0),pbnum:C.index};D.audiotrackinfo=v.fR(v.j.Pa.ka.je,v.j.Pa.Ye.value?v.j.Pa.Ye.value.stream?v.j.Pa.Ye.value.stream.ob:void 0:void 0);E=v.j.Pa.ka.Mh;H=null === (y=null === (x=v.j.Pa.ze.value) || void 0 === x?void 0:x.stream) || void 0 === y?void 0:y.ob;D.videotrackinfo=v.JSa(E,H);D.texttrackinfo=v.yR(v.j.Pa.ka.Rd);v.j.Hj && (D.blocked=v.j.Hj);D.initvbitrate=v.j.Gaa;v.Jc.ITa(D);v.Jc.Pzb(D);D.esnSource=null === (A=Ba._cad_global.device) || void 0 === A?void 0:A.ooa;v.Wzb(D,C);D.pdltime=(0,f.WZ)();(0,c.Jf)(D,C.If,{prefix:"sm_"});D.ttTrackFields=null === (z=C.ka.Rd) || void 0 === z?void 0:z.Ki;D.itsxheaac=MediaSource.isTypeSupported('audio/mp4; codecs="mp4a.40.42"');v.Jc.j_(D,!0,C.ka.je,C);v.Jc.l_(D,!0,C.ka.Mh,C);D.packageId=null === (B=C.S) || void 0 === B?void 0:B.Aa.Ms;v.Jc.k_(D);v.Jc.Bqa(D,C);v.HR(D);v.Vc(n.Td.Np,w.Nj,k.lf | k.ix | k.Cz | k.mO | k.Wu,D);};this.Qv=function(){var w,x,y;w=v.j;x=w.Pa;w=w.Nj;y=v.gda();y.paustate=!v.j.hy();y.muted=v.j.tUa();y.endreason=w?"error":v.j.jUa()?"ended":"stopped";v.Jc.j_(y,!1,x.ka.je,x);v.Jc.l_(y,!1,x.ka.Mh,x);v.Jc.k_(y);v.HR(y);v.Vc(n.Td.Qv,w,k.lf | k.ix | k.Cz | k.mO | k.Wu,y);};this.t_a=function(w,x,y){var A;A=v.j.Pa.Ye;w={moff:(0,c.ps)(y),moffms:(0,c.$h)(y),vdlidold:w.ob,vbitrateold:w.bitrate};v.Jc.ew(w,x,A.value && A.value.stream);v.Vc(n.Td.Nda,void 0,0,w);};this.gH=function(){var w;w=v.j.Zb.value;return w === e.Nb.rg?"playing":w === e.Nb.Oi?"paused":w === e.Nb.ex?"ended":"waiting";};this.wa=l.wb("LogblobBuilderImpl");this.j=u;}Object.defineProperty(b,"__esModule",{value:!0});b.t5=void 0;n=a(18169);c=a(3887);f=a(52569);g=a(36129);e=a(85001);h=a(5021);d.prototype.getTime=function(){return this.Xa.yc().oa(h.za);};d.prototype.kSa=function(){return this.getTime() - this.j.Pa.Yj.oa(h.za);};d.prototype.fR=function(l,m){return l?{trackId:l.trackId,bcp47:l.Ig,downloadableId:m,rank:l.Bc,chan:l.channels}:{};};d.prototype.JSa=function(l,m){return l?{id:l.trackId,downloadableId:m,rank:l.Bc}:{};};d.prototype.yR=function(l){return l?{trackId:l.trackId,bcp47:l.Ig,downloadableId:l.ob,rank:l.Bc,isImageBased:l.Jq,profile:l.profile}:{};};d.prototype.Wzb=function(l,m){var p;if(m=null === (p=m.ka.Mh) || void 0 === p?void 0:p.streams)(l.maxbitrate=(0,f.Iga)(m.map(function(q){return q.bitrate;})),l.maxresheight=(0,f.Iga)(m.map(function(q){return q.height;})));};d.prototype.HR=function(l){l.cachedManifest="notcached";l.cachedLicense="notcached";l.usedldl="false";};d.prototype.gda=function(){var l,m,p,q;l=this.j.Pa;m=l.Dp;p={totaltime:(0,c.ps)(m.Zv()),totalcontenttime:(0,c.ps)(m.eaa()),reposcount:this.Tda,intrplaycount:this.sL};p.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});q=l.ag.value;q && (p.videofr=q.framerate.toFixed(3));(q=m.MQa()) && (p.abrdel=q);(q=m.mqa() && m.jwb()) && (p.tw_vmaf=q);(m=m.hwb()) && (0,c.Jf)(p,m);p.rbfrs=this.sL;this.Wzb(p,l);return p;};d.prototype.Vc=function(l,m,p,q){var r,u,v;r=this;m && (0,g.zha)(null === m || void 0 === m?void 0:m.errorCode,null === m || void 0 === m?void 0:m.Ua,this.kSa(),void 0) && (u="info");v=this.j.Pa;this.wKa(q,m,p);m=u || (m?"error":"info");q=this.AH.Xt(l,m,q,v);this.di.Vc(q);"error" !== m && l !== n.Td.Qv || this.di.flush(!1).catch(function(){r.wa.debug("Failed to flush the logblobs");});};d.prototype.wKa=function(l,m,p){var q;q=this.j.Pa;this.Jc.Ozb(l,q);p & k.lf && this.Jc.Szb(l,q,!1);p & k.ix && this.Jc.Uzb(l,q);p & k.Cz && this.Jc.Vzb(l,this.j.Dq());m && p & k.mO && this.Jc.Qzb(l,q,m);p & k.Wu && this.Jc.ITa(l);};b.t5=d;(function(l){l[l.lf=1]="MOFF";l[l.ix=2]="PRESENTEDSTREAMS";l[l.Cz=4]="SCREEN";l[l.mO=8]="FATALERROR";l[l.Wu=16]="BROWSERINFO";})(k || (k={}));},27134:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m,p,q,r){this.di=l;this.config=m;this.Na=p;this.Xa=q;this.UVa=r;}Object.defineProperty(b,"__esModule",{value:!0});b.AO=void 0;t=a(22970);n=a(22674);c=a(81918);f=a(30869);g=a(4203);e=a(45118);h=a(10242);k=a(5522);d.prototype.create=function(l){return new k.v5(l,this.di,this.config,this.Xa,this.UVa.create(l));};a=d;b.AO=a;b.AO=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(e.Xp)),t.__param(1,(0,n.v)(g.Ic)),t.__param(2,(0,n.v)(f.Li)),t.__param(3,(0,n.v)(c.ie)),t.__param(4,(0,n.v)(h.s5))],a);},5522:function(t,b,a){var n,c,f,g;function d(e,h,k,l,m){var p;p=this;this.j=e;this.di=h;this.config=k;this.Xa=l;this.hb=m;this.w8=function(){p.rh();p.j.Pa.Xk.removeListener(p.AI);p.j.Pa.ka.removeListener(p.hb.Rp);p.j.Pa.ka.removeListener(p.nq);p.j.Pa.fj.removeListener(p.hb.T7);p.j.$j.removeListener(p.LIb);p.j.F1.removeListener(p.Rs);p.j.Pa.ze.removeListener(p.nda);p.j.Zb.removeListener(p.VC);p.j.Zb.removeListener(p.$X);p.j.Pa.ag.removeListener(p.nga);p.j.Pa.playbackRate.removeListener(p.hb.Tea);p.j.removeEventListener(f.Za.closed,p.w8);p.j.removeEventListener(f.Za.dma,p.hb.Hj);};this.$X=function(){p.j.Zb.value === f.Nb.rg && (p.j.Zb.removeListener(p.$X),p.tB());};this.AI=function(q){p.yw && p.hb.AI(q);};this.Rs=function(q){p.yw && void 0 !== q.newValue && (p.O1 && p.Uu && p.hb.SYa(p.getTime() - p.Uu,p.O1.X_a),p.O1={X_a:"repos",VKb:q.newValue},p.hb.NM(q.newValue,p.j.Pa.Ye.value,p.j.Pa.ze.value),p.Uu=p.getTime(),(0,c.Yh)(p.VC));};this.LIb=function(q){p.yw && p.hb.wua(!q.newValue);};this.nq=function(q){q.tw && (p.vH=q.tw,p.hb.nq(q),p.O1={X_a:"repos",VKb:f.Mc.i6},p.Uu=p.getTime(),(0,c.Yh)(p.VC));};this.VC=function(){var q;if(p.Uu && p.O1 && p.j.Zb.value !== f.Nb.ph){q=p.getTime() - p.Uu;p.hb.Hu(q,!1,p.O1);p.vH && p.vH != p.j.Pa.ka.je && p.hb.uLa();p.Uu=void 0;p.O1=void 0;}};this.tB=function(){p.yw || (p.yw=!0,p.hb.Np(p.j),p.RTa(),p.config().Hqa && (p.nH=Ba.setTimeout(function(){p.di.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.nH=void 0;},p.config().Hqa)));};this.rh=function(){p.nH && (Ba.clearTimeout(p.nH),p.nH=void 0);p.Sfa && p.Sfa();p.yw?p.hb.Qv():p.j.Nj?p.hb.Np(p.j):p.hb.TYa();};this.nga=function(q){q.oldValue && q.Xm && q.Xm.aQ && p.hb.sG(q.oldValue,q.newValue,q.Xm.aQ,q.Xm.a8);};this.nda=function(q){var r;if(q.newValue){r=q.newValue.stream;p.$R != r && (p.$R && r && p.hb.t_a(p.$R,r,q.newValue.aY.startTime),p.$R=r);}};this.Ywa();}Object.defineProperty(b,"__esModule",{value:!0});b.v5=void 0;n=a(5021);c=a(32219);f=a(85001);g=a(26388);d.prototype.Ywa=function(){this.j.addEventListener(f.Za.closed,this.w8);this.j.addEventListener(f.Za.dma,this.hb.Hj);this.j.Pa.Xk.addListener(this.AI);this.j.Pa.ka.addListener([g.u.Da],this.hb.Rp);this.j.Pa.ka.addListener([g.u.X],this.nq);this.j.Pa.fj.addListener(this.hb.T7);this.j.$j.addListener(this.LIb);this.j.F1.addListener(this.Rs);this.j.Pa.ze.addListener(this.nda);this.j.Zb.addListener(this.VC);this.j.Zb.addListener(this.$X);this.j.Pa.ag.addListener(this.nga);this.j.Pa.playbackRate.addListener(this.hb.Tea);};d.prototype.getTime=function(){return this.Xa.yc().oa(n.za);};d.prototype.RTa=function(){var e,h,k;e=this;k=[];this.config().FEb && (this.config().GEb.forEach(function(l){k.push(Ba.setTimeout(e.hb.LH,l));}),this.config().Hsa && (h=Ba.setInterval(this.hb.LH,this.config().Hsa)),this.Sfa=function(){k.forEach(function(l){Ba.clearTimeout(l);});h && Ba.clearInterval(h);});};b.v5=d;},15850:function(t,b,a){var n,c,f,g,e;function d(h,k){var m;function l(){m.IYa.then(function(p){m.wa.trace("Unloading PBO Playdata Services");p.close();});g.ye.removeListener(g.hn,l);}m=this;this.ZHb=k;this.wIb=!1;this.IYa=k();this.wa=h.wb("PlayerPlaydataMonitorImpl");g.ye.addListener(g.hn,l);}Object.defineProperty(b,"__esModule",{value:!0});b.LFa=void 0;t=a(22970);n=a(22674);c=a(87386);f=a(96687);g=a(37509);e=a(85001);d.prototype.im=function(h,k){var l;l=this;this.IYa.then(function(m){m.im(k,!0,function(p){return h.close(p);});m.R1a(k);h.addEventListener(e.Za.iZa,function(){h.hy()?l.wIb?m.CMb(k).catch(function(p){(p=p.wM) && h.close(p);}):l.wIb=!0:m.BMb(k).catch(function(p){(p=p.wM) && h.close(p);});});h.addEventListener(e.Za.Rp,function(){m.vwa(k).catch(function(p){(p=p.wM) && h.close(p);});});h.addEventListener(e.Za.nq,function(){m.vwa(k).catch(function(p){(p=p.wM) && h.close(p);});});});};d.prototype.cfa=function(h){return this.IYa.then(function(k){k.JOb();return k.cfa(h).catch();});};a=d;b.LFa=a;b.LFa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.zb)),t.__param(1,(0,n.v)(f.O5))],a);},68272:function(t,b,a){var n,c,f,g;function d(e){this.DWa={};this.Eqa={};this.zra=-1;this.f2a=new f.wc(null);this.xZa=new f.wc(null);this.wa=e.wb("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.fHa=void 0;t=a(22970);n=a(22674);c=a(45247);f=a(81734);a=a(87386);d.prototype.Ob=function(e,h,k){var l;l=this;e.forEach(function(m){m.stream.urls.forEach(function(p){l.DWa[p.url]=[m,p.Kg];});});this.jOa=h;this.Ghc=k;new PerformanceObserver(function(m){l.sWc(m.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};d.prototype.UMb=function(e){var h,k,l;if(this.jOa){k=this.vpa(e);if(k !== this.zra){for(this.zra=k;0 <= k && !this.Eqa[k];)k--;l=Ea(null !== (h=this.Eqa[k]) && void 0 !== h?h:[this.jOa,this.Ghc]);h=l.next().value;l=l.next().value;this.wa.debug("Setting time to " + e + ", using metadata from fragment " + k + " for " + ((0,c.JH)(h.track.type) + " track with bitrate ") + (h.stream.bitrate + " from cdn " + l));e=h.Oa[this.zra];k=e.Hb;this.xZa.set({stream:h,aY:{startTime:Math.floor(1E3 * k),endTime:Math.floor(1E3 * (k + e.duration))},Uh:l});}}};d.prototype.vpa=function(e){var h,k,l,m,p;h=this.jOa.Oa;e/=1E3;k=0;l=h.length - 1;if(e >= h[l].Hb)return l;for(;l >= k;){m=k + Math.floor((l - k) / 2);p=h[m];if(e < p.Hb)l=m - 1;else if(e >= p.Hb + p.duration)k=m + 1;else return m;}return h.length - 1;};d.prototype.sWc=function(e){var h;h=this;e.filter(function(k){return "video" === k.initiatorType;}).forEach(function(k){var l,m,p;l=k.name.indexOf("&fi=");if(0 < l){m=k.name.substring(0,l);l=Number(k.name.substring(l + 4));if(h.DWa[m]){p=Ea(h.DWa[m]);k=p.next().value;p=p.next().value;m && !Number.isNaN(l) && k && (h.Eqa[l] && (h.zra=-1),h.Eqa[l]=[k,p],m=k.Oa[l].Hb,!1,h.f2a.set(k,{aQ:Math.floor(1E3 * m),Uh:p}));}}});};g=d;b.fHa=g;b.fHa=g=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.zb))],g);},25050:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v;function d(w,x,y,A,z,B,C,D,E,H,F,G,J,L,K,M,P){var I,O,Q;I=this;this.ida=x;this.MA=y;this.Xa=A;this.vh=z;this.jc=B;this.Qba=C;this.TIc=D;this.zIb=E;this.kya=H;this.Yla=F;this.Na=G;this.S_=J;this.config=L;this.eK=K;this.K=M;this.Zj=P;this.zba=new l.wc(!0);this.$j=new l.wc(!1);this.ft=new l.wc(!1);this.ended=new l.wc(!1);this.rma=new l.wc(0);this.Zb=new l.wc(n.Nb.ph);this.F1=new l.wc(void 0);this.Rh=new v.AbortController();this.loaded=this.Zea=this.closed=!1;this.dJb=function(T,U){return function(X){var Y,W,Z,ba;Y=X.newValue;W=Y.Uh;X=Y.aY;Z=Y.stream;Y=T.streams.find(function(ca){return ca.bitrate === Z.stream.bitrate;});ba=I.Pa.Vh.find(function(ca){return ca.id === W;});I.log.info("Presenting " + Y.type + " request with bitrate " + Y.bitrate + ", track " + (T.trackId + " [" + X.startTime + "..." + X.endTime + "]"));U.set({stream:Y,aY:Object.assign(Object.assign({},X),{ldc:X.startTime,mqb:X.endTime}),Tc:ba});};};this.$Ob=function(T,U,X){return function(Y){var W;W=T.streams.find(function(Z){return Z.bitrate === Y.newValue.stream.bitrate;});I.log.info("Streaming " + W.type + " stream with bitrate " + W.bitrate + ", track " + T.trackId);U.set(W,{aQ:Y.Xm.aQ,a8:void 0});W=I.Pa.Vh.filter(function(Z){return Z.id === Y.Xm.Uh;})[0];X.set(W);};};this.lvb=new Set();this.log=w.wb("HLSVideoPlayer");this.Ha=(0,c.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.Ha.playsInline=this.config.MIb;this.Pa=this.ida(f.Az.index++,M.R,M.id,null !== (O=M.Cb) && void 0 !== O?O:{},this.MA.yG(),this.Xa.yc(),!1,void 0,function(){return I.rD();});this.Pa.mediaTime.set(null !== (Q=this.Pa.pq) && void 0 !== Q?Q:0);this.eV();this.G3b=this.S_.create(this);this.G3b;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.Eib=void 0;n=a(85001);c=a(52569);f=a(13044);g=a(72639);e=a(24735);h=a(36129);k=a(63156);l=a(81734);m=a(5021);p=a(32687);q=a(45266);r=a(3887);u=a(26388);v=a(91176);d.prototype.VTc=function(){return !!this.Ha.canPlayType && ("" !== this.Ha.canPlayType("application/vnd.apple.mpegURL") || "" !== this.Ha.canPlayType("audio/mpegurl"));};d.prototype.eV=function(){var w;w=this;this.Ha.addEventListener("loadedmetadata",function(){w.Mb(n.Za.hDb);w.Mb(n.Za.gDb);w.Mb(n.Za.nq);w.Mb(n.Za.Zla);w.Mb(n.Za.Rp);w.Mb(n.Za.aC);});this.Ha.addEventListener("error",function(x){x=w.Zj(h.da.Gdb,x);w.close(x);});this.Ha.addEventListener("timeupdate",function(){w.ended.set(!1);w.Pa.mediaTime.set(w.rD());w.uOa();w.Mb(n.Za.$t);w.Mb(n.Za.XQb);});this.Ha.addEventListener("durationchange",function(){w.Mb(n.Za.POa);});this.Ha.addEventListener("resize",function(){w.Mb(n.Za.f4a);});this.Ha.addEventListener("playing",function(){w.uOa();w.ft.set(!1);w.$j.set(!0);w.ended.set(!1);w.Zb.set(n.Nb.rg);});this.Ha.addEventListener("pause",function(){w.$j.set(!1);w.ft.set(!1);w.Zb.set(n.Nb.Oi);});this.Ha.addEventListener("waiting",function(){w.Zb.set(n.Nb.ph);});this.Ha.addEventListener("stalled",function(){w.ft.set(!0);});this.Ha.addEventListener("seeking",function(){w.ft.set(!1);w.F1.set(w.Pa.mediaTime.value);w.Zb.set(n.Nb.ph);});this.Ha.addEventListener("seeked",function(){void 0 !== w.F1.value && (w.Pa.Dp.tXa(w.F1.value,w.rD()),w.F1.set(void 0));w.Zb.set(w.hy()?n.Nb.rg:n.Nb.Oi);});this.Ha.addEventListener("progress",function(){w.Mb(n.Za.oma);w.eWc();});this.Ha.addEventListener("ended",function(){w.Zb.set(n.Nb.ex);w.ft.set(!1);w.$j.set(!1);w.ended.set(!0);});this.Ha.addEventListener("volumechange",function(){w.Mb(n.Za.uSb);w.Mb(n.Za.nFb);});this.$j.addListener(function(){w.Mb(n.Za.iZa);w.Mb(n.Za.VHb);w.$X();});this.rma.addListener(function(){w.Mb(n.Za.LX);});this.ft.addListener(function(){w.Mb(n.Za.LX);});this.zba.addListener(function(){w.$X();});this.ended.addListener(function(){w.Mb(n.Za.Otb);});this.Pa.playbackRate.addListener(function(x){w.Ha.playbackRate=x.newValue;});};d.prototype.$X=function(){!this.hy() || this.zba.value || this.Zea || this.Anb || (this.Zea=!0,this.Pa.oH=this.Na.pI,this.zIb.im(this,this.Pa));};d.prototype.q8=function(){return this.hda - (this.Pa.Yj.oa(m.za) + this.Xa.wH.oa(m.za));};d.prototype.cR=function(){var w;w=this.Pa.qb.cC;return (0,p.pc)(w)?w:this.Pa.Yj.oa(m.za) + this.Xa.wH.oa(m.za);};d.prototype.cMa=function(){return this.Na.Mg.oa(m.za) - this.cR();};d.prototype.dMa=function(){return this.hda - this.cR();};d.prototype.eWc=function(){var w;w=this.Ha.readyState <= k.Yu.bJ.HAVE_METADATA?0:this.Ha.readyState <= k.Yu.bJ.HAVE_CURRENT_DATA?.5:1;1 === w && (this.hda=this.Na.Mg.oa(m.za),this.zba.set(!1),this.YPa(n.Za.loaded));this.rma.set(w);};d.prototype.uOa=function(){var w;w=this.rD();this.kya.UMb(w);this.Yla.UMb(w);};d.prototype.Aea=function(){var w;w=this;this.Pa.ih("ats");return this.vh.mp({Ia:this.Pa.Ia,qb:this.Pa.qb,J:this.Pa.R,fu:g.Zp.qja,Hi:e.xr.Er},this.Rh.signal).then(function(x){var A;function y(z){var B;B=z;z && z.Kq() && !z.rp() && (B=null);w.Pa.Xk.set(B);}w.Pa.ih("at");A=w.Qba.create({}).HHb(x);w.Pa.S=x;w.Pa.Yc=A;w.Ha.audioTracks.addEventListener("addtrack",function(){w.zRb(w.Pa.ka.je);});w.Ha.audioTracks.addEventListener("change",function(){for(var z,B,C={},D=Ea(w.Ha.audioTracks),E=D.next();!E.done;(C={p3:C.p3},E=D.next()))(C.p3=E.value,C.p3.enabled && C.p3.label !== (null === (z=w.Pa.ka.je) || void 0 === z?void 0:z.displayName) && (!1,E=null !== (B=w.Pa.$k.find((function(H){return function(F){return F.displayName === H.p3.label;};})(C))) && void 0 !== B?B:null,w.Pa.ka.LB(E)));});w.Pa.ka.addListener([u.u.X],function(z){w.zRb(z.yy);w.Mb(n.Za.nq);w.Mb(n.Za.aC);});w.Ha.textTracks.addEventListener("addtrack",function(){w.ARb(w.Pa.ka.Rd);});w.Ha.textTracks.addEventListener("change",function(){var H;for(var z,B,C=w.Ha.textTracks,D={},E=0;E < C.length;(D={q3:D.q3},E++))if((D.q3=C[E],"showing" === D.q3.mode && D.q3.label !== (null === (z=w.Pa.ka.Rd) || void 0 === z?void 0:z.displayName))){!1;H=null !== (B=w.Pa.wj.find((function(F){return function(G){return G.displayName === F.q3.label;};})(D))) && void 0 !== B?B:null;w.Pa.ka.Mp(H);y(H);}});w.Pa.ka.Mp(A.f9);y(A.f9);w.Pa.ka.addListener([u.u.Da],function(z){w.ARb(z.so);w.Mb(n.Za.Rp);});return w.TIc.build(x,function(z){return w.Pa.ih(z);});}).then(function(x){var y,A,z,B,C,D,E,H,F,G,J,L,K,M,P;y=x.hBc;A=x.Sac;x=x.eTc;z=x.audio;B=x.bsb;C=x.video;D=w.Pa;E=D.fj;H=D.ka;F=D.$k;G=D.ag;x=D.pq;J=D.ze;L=D.Ye;K=D.Dp;D=D.Yc;D.$k=F.filter(function(I){return z.find(function(O){return O.track.We === I.trackId;});});H.p1a(D.i9);H.LB(F.find(function(I){return I.trackId === B;}));D=C[0];M=D.stream;F=z.find(function(I){return I.track.We === B;});P=F.stream;w.Gaa=M.bitrate;w.kya.xZa.addListener(w.dJb(H.Mh,J));w.kya.f2a.addListener(w.$Ob(H.Mh,G,w.Pa.Tc[u.u.U]));G=A.get(M.$g).n1.Kg;w.kya.Ob(C,D,G);w.Yla.xZa.addListener(w.dJb(H.je,L));w.Yla.f2a.addListener(w.$Ob(H.je,E,w.Pa.Tc[u.u.X]));A=A.get(P.$g).n1.Kg;w.Yla.Ob(z,F,A);w.Ha.src=y;w.Ha.currentTime=(null !== x && void 0 !== x?x:0) / 1E3;w.Ha.load();K.tXa(0,x && 0 < x?x:1);}).catch(function(x){var y,A;if(x instanceof Error){A=(0,r.jj)(x);w.log.error("uncaught exception",x,A);}w.close(w.Zj(null !== (y=x.code) && void 0 !== y?y:h.da.hib,x));});};d.prototype.zyb=function(){return [];};d.prototype.ARb=function(w){var A;for(var x=this.Ha.textTracks,y=0;y < x.length;y++){A=x[y];A.label === w.displayName && "showing" !== A.mode && (!1,A.mode="showing");A.label !== w.displayName && "showing" === A.mode && (!1,A.mode="hidden");}};d.prototype.zRb=function(w){for(var x=Ea(this.Ha.audioTracks),y=x.next();!y.done;y=x.next())(y=y.value,y.label !== w.displayName || y.enabled || (!1,y.enabled=!0),y.label !== w.displayName && y.enabled && (!1,y.enabled=!1));};d.prototype.cn=function(){};d.prototype.io=function(){};d.prototype.rD=function(){return Math.floor(1E3 * this.Ha.currentTime);};d.prototype.aH=function(){return this.rD();};d.prototype.xA=function(){return this.rD();};d.prototype.WK=function(){return Math.floor(1E3 * this.Ha.duration);};d.prototype.Axb=function(){return this.K.R;};d.prototype.DA=function(){return this.Pa.Ia;};d.prototype.Nxb=function(){var w;return null === (w=this.Pa.S) || void 0 === w?void 0:w.Aa.Zd;};d.prototype.Dq=function(){return this.Ha;};d.prototype.Cs=function(){return null === this.Oj();};d.prototype.hy=function(){return this.$j.value;};d.prototype.$aa=function(){return !this.$j.value;};d.prototype.jUa=function(){return this.Ha.ended;};d.prototype.Oj=function(){return 1 !== this.rma.value?{stalled:this.ft.value,progress:this.rma.value,progressRollback:!1}:null;};d.prototype.getError=function(){var w,x;return null !== (x=null === (w=this.Nj) || void 0 === w?void 0:w.Gfa()) && void 0 !== x?x:null;};d.prototype.owb=function(){return 1 === this.Ha.buffered.length?1E3 * this.Ha.buffered.end(0):null;};d.prototype.Gyb=function(){return {width:this.Ha.videoWidth,height:this.Ha.videoHeight};};d.prototype.tUa=function(){return this.Ha.muted;};d.prototype.Jyb=function(){return this.Ha.volume;};d.prototype.gNb=function(w){this.Ha.muted=w;};d.prototype.yNb=function(w){this.Ha.volume=w;};d.prototype.addEventListener=function(w,x,y){this.jc.addListener(w,x,y);};d.prototype.removeEventListener=function(w,x){this.jc.removeListener(w,x);};d.prototype.load=function(){var w;w=this;this.loaded || (this.loaded=!0,this.eK.yba(function(x){w.VTc()?x.success?w.Aea():w.close(w.Zj(x.errorCode || h.da.bCa,x)):w.close(w.Zj(h.da.OWb));}));};d.prototype.close=function(w){if(this.closed)return Promise.resolve();this.Pa.mediaTime.set(this.rD());this.uOa();this.Pa.M8=this.aH();this.closed=!0;this.Ha.removeAttribute("src");this.Ha.load();null === w || void 0 === w?void 0:w.iNb(!this.zba.value);this.Nj=w;this.Rh.abort();w && this.Mb(n.Za.error,w.Gfa());this.Mb(n.Za.closed);return this.zIb.cfa(this.Pa);};d.prototype.play=function(){var w,x;w=this;x=this.Ha.play();this.Anb=!1;x && x.then(function(){w.YPa(n.Za.Bnb);}).catch(function(y){w.Mb(n.Za.LX);"NotAllowedError" === y.name && (w.log.warn("Playback is blocked by the browser settings",y),w.Anb=!0,w.Hj=!0,w.YPa(n.Za.dma,{player:{play:function(){return w.play();}}}));});};d.prototype.Mb=function(w,x,y){x=x || ({});x.target=this;this.jc.rd(w,x,!y);};d.prototype.YPa=function(w,x){this.lvb.has(w) || (this.lvb.add(w),this.Mb(w,x,void 0));};d.prototype.pause=function(){this.Ha.pause();};d.prototype.UHb=function(){this.pause();};d.prototype.seek=function(w){this.Ha.currentTime=w / 1E3;};d.prototype.Yzb=function(w){this.close(this.Zj(h.da.G8a,h.Y.zh,w));};d.prototype.VZ=function(){return this.Pa.playbackRate.value;};d.prototype.Dwa=function(w){this.Pa.playbackRate.set(w);};d.prototype.gwb=function(){var w;w=this;return this.Pa.$k.map(function(x){return w.$v(x);});};d.prototype.xSa=function(w){var x;x=this;return this.U$(w).map(function(y){return x.$v(y);});};d.prototype.fwb=function(){var w;w=this.Pa.ka.je;return w && this.$v(w);};d.prototype.wSa=function(){var w;w=this.Pa.ka.Rd;return w && this.$v(w);};d.prototype.LB=function(w){if((w=this.W9(w)) && w.ff)return (this.Pa.ka.LB(w),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};d.prototype.Mp=function(w){var x,y;x=this;y=this.Pa.wj.find(function(A){return x.$v(A) === w;});if(y && y.ff)return (this.Pa.ka.Mp(y),this.Pa.Xk.set(y),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};d.prototype.sxb=function(){var w;return this.M$(this.Pa.$k,null === (w=this.Pa.S) || void 0 === w?void 0:w.Aa.hEb);};d.prototype.HRa=function(w){var x;return this.M$(this.U$(w),null === (x=this.Pa.S) || void 0 === x?void 0:x.Aa.iEb);};d.prototype.$v=function(w){var x;x=w.QZa=w.QZa || ({trackId:w.trackId,bcp47:w.Ig,displayName:w.displayName,trackType:w.aj,rawTrackType:w.JM,channels:w.channels});this.AUa(w) && (x.isNative=w.isNative,x.surroundFormatLabel=w.kfa);this.BUa(w) && (x.isNoneTrack=w.Kq(),x.isForcedNarrative=w.rp(),x.isImageBased=w.Jq);x.subType=w.vU;x.variant=w.variant;return x;};d.prototype.AUa=function(w){return "undefined" !== typeof w.isNative;};d.prototype.BUa=function(w){return "undefined" !== typeof w.Kq && "undefined" !== typeof w.rp;};d.prototype.W9=function(w){var x;x=this;return w && this.Pa.$k.find(function(y){return x.$v(y) === w;});};d.prototype.U$=function(w){var x;w=this.W9(w) || this.Pa.ka.je;return null !== (x=null === w || void 0 === w?void 0:w.wj) && void 0 !== x?x:[];};d.prototype.M$=function(w,x){var y;y=w.length - 1;if("number" !== typeof x)return y;w=w.findIndex(function(A){return A.Bc > x;});return -1 === w?y:w - 1;};d.prototype.Uxa=function(w){this.Pa.qb=(0,q.Gsa)(this.Pa.qb,w);};d.prototype.Vl=function(w){if(w !== this.Pa.L)throw (!1,Error("Unknown segmentId " + w));return this.Pa;};d.prototype.Oxb=function(){return this.Pa.qb;};d.prototype.HKa=function(){!1;};d.prototype.EKb=function(){!1;};d.prototype.ZD=function(){!1;};d.prototype.MS=function(){!1;};d.prototype.iaa=function(){!1;return Promise.reject();};d.prototype.mSa=function(){return {};};d.prototype.kpa=function(){};d.prototype.ewb=function(){return {};};d.prototype.S0a=function(){};d.prototype.p2=function(){};d.prototype.GAb=function(){return !1;};d.prototype.Ewb=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};d.prototype.hZ=function(){!1;return Promise.resolve({success:!0});};d.prototype.Cyb=function(){!1;};d.prototype.daa=function(){!1;};d.prototype.i2=function(){!1;};d.prototype.n1a=function(){!1;};d.prototype.cDb=function(){!1;};d.prototype.Zvb=function(){!1;return Promise.reject();};d.prototype.uIb=function(){!1;return Promise.reject();};d.prototype.MJb=function(){!1;return Promise.reject();};d.prototype.xl=function(){!1;return Promise.reject();};d.prototype.rT=function(){!1;};b.Eib=d;},41893:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m,p,q,r,u,v,w,x,y,A,z,B,C,D){var E;E=this;this.Rf=l;this.ec=m;this.jc=q;this.uB=u;this.A8=v;this.$vb=w;this.config=y;this.Zj=z;this.K=B;this.j=A.create(B.R,B.Yj,x,C,D,B.Cb,B.id,B.S);this.j.background.set(!0);this.log=p.wb("VideoPlayer",this.j);this.bIb=[];this.YB=[];this.ended=!1;this.eV();this.j.state.addListener(function(H){H.newValue === c.Gc.Cf && E.Mb(c.Za.HUa,{movieId:B.R});});this.j.qb.Pg && (this.IX=r.dfc(this,this.j),this.j.addEventListener(c.ja.$M,function(H){H=H.position.segmentId;E.Vyc !== H && (E.Vyc=H,E.Mb(c.Za.jPc,{segmentId:H}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.bab=void 0;n=a(36129);c=a(85001);f=a(5021);g=a(22365);e=a(87607);h=a(3887);k=a(26388);d.prototype.Cs=function(){return this.j.state.value === c.Gc.Cf;};d.prototype.Axb=function(){return this.j.R;};d.prototype.DA=function(){return this.j.Ia;};d.prototype.Nxb=function(){var l;return null === (l=this.j.S) || void 0 === l?void 0:l.Aa.Zd;};d.prototype.Dq=function(){return this.j.Iu;};d.prototype.hy=function(){return this.j.$j.value;};d.prototype.$aa=function(){return this.j.paused.value;};d.prototype.jUa=function(){return this.ended;};d.prototype.Oj=function(){var l;l=this.j.VLa.value;return l?{networkStalled:!!l.ft,stalled:!!l.ft,progress:l.progress,progressRollback:!!l.KKc}:null;};d.prototype.getError=function(){var l;l=this.j.Nj;return l?l.Gfa():null;};d.prototype.cn=function(){var l;return null === (l=this.j.cn()) || void 0 === l?void 0:l.IQ;};d.prototype.io=function(){return this.j.Dc;};d.prototype.xA=function(){var l;return this.io().Ba?null !== (l=this.io().Wpa()) && void 0 !== l?l:null:this.rD();};d.prototype.rD=function(){return this.j.mediaTime.value;};d.prototype.owb=function(){var l;l=(this.aH() || 0) + this.j.nwb();return Math.min(l,this.WK());};d.prototype.aH=function(){var l;return this.io().Ba?null !== (l=this.io().Wpa()) && void 0 !== l?l:null:this.j.$K();};d.prototype.WK=function(){return this.io().Ba?this.io().Dyb():this.j.xG.oa(f.za);};d.prototype.Gyb=function(){var l;l=this.j.bV.value;return l?{width:l.width,height:l.height}:null;};d.prototype.kpa=function(){return this.j.kpa();};d.prototype.Zvb=function(l){var m,p;return (null === (m=this.j.S) || void 0 === m?0:m.wp.QZ("generateScreenshots"))?this.$vb.Ue({log:this.log,links:this.j.S.wp},l):(m=null === (p=this.j.qb) || void 0 === p?void 0:p.Ms)?this.$vb.Ue({log:this.log},Object.assign({packageId:m},l)):Promise.reject("Unknown packageId");};d.prototype.Ewb=function(){return this.Mpc(this.j.Dsb);};d.prototype.gwb=function(){var l;l=this;return this.j.$k.map(function(m){return l.$v(m);});};d.prototype.sxb=function(){var l;return this.M$(this.j.$k,null === (l=this.j.S) || void 0 === l?void 0:l.Aa.hEb);};d.prototype.xSa=function(l){var m;m=this;return this.U$(l).map(function(p){return m.$v(p);});};d.prototype.HRa=function(l){var m;return this.M$(this.U$(l),null === (m=this.j.S) || void 0 === m?void 0:m.Aa.iEb);};d.prototype.tUa=function(){return this.j.muted.value;};d.prototype.Jyb=function(){return this.j.volume.value;};d.prototype.fwb=function(){var l,m;m=(null === (l=this.cE) || void 0 === l?void 0:l.je) || this.j.ka.je;return m && this.$v(m);};d.prototype.wSa=function(){var l,m;m=(null === (l=this.cE) || void 0 === l?void 0:l.ufa) || this.j.ka.Rd;return m && this.$v(m);};d.prototype.GAb=function(){return this.j.background.value;};d.prototype.gNb=function(l){this.j.muted.set(!!l);};d.prototype.yNb=function(l){this.j.volume.set(this.JEc(l));};d.prototype.Dwa=function(l){this.j.playbackRate.set(l);};d.prototype.VZ=function(){return this.j.playbackRate.value;};d.prototype.LB=function(l){var m,p,q,r,u;m=this;q=this.W9(l);if(q){if(q.ff)return (this.j.ka.LB(q),Promise.resolve());r=(l=(null === (p=this.cE) || void 0 === p?void 0:p.ufa) || this.j.ka.Rd) && this.nBb(q,l)?l:q.wj[0];p=q.trackId;u=r.trackId;this.cE={je:q,ufa:r};this.Mb(c.Za.nq);this.Mb(c.Za.aC);r !== l && this.Mb(c.Za.Rp);return this.j.Fzb(p,u).then(function(v){v=v.je;m.cE=void 0;m.j.ka.LB(v);}).catch(function(v){m.cE=void 0;v=m.Rf.jj(v);m.log.error(v);m.close(m.Zj(n.da.BO,{Ua:n.Y.pDa,ef:v,DR:{tvc:q.trackId,Gzb:q.Ig,uvc:r.trackId,Hzb:r.Ig}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};d.prototype.Mp=function(l){var m,p,q,r;m=this;q=(null === (p=this.cE) || void 0 === p?void 0:p.je) || this.j.ka.je;if(null !== q){r=q.wj;p={};for(var u=0;u < r.length;(p={Vu:p.Vu},u++)){p.Vu=r[u];if(!l && null === p.Vu)return (this.j.ka.Mp(null),this.j.Ff && this.j.xRb(p.Vu),Promise.resolve());if(this.$v(p.Vu) === l){if(p.Vu.ff)return (this.log.info("Setting Timed Text, profile: " + p.Vu.profile),this.j.ka.Mp(p.Vu),this.j.Ff && this.j.xRb(p.Vu),Promise.resolve());l=q.trackId;r=p.Vu.trackId;this.cE={je:q,ufa:p.Vu};this.Mb(c.Za.Rp);return this.j.Fzb(l,r).then(function(v){v=v.ufa;m.cE=void 0;m.j.ka.Mp(v);}).catch((function(v){return function(w){m.cE=void 0;w=m.Rf.jj(w);m.log.error(w);m.close(m.Zj(n.da.BO,{Ua:n.Y.pDa,ef:w,DR:{tvc:q.trackId,Gzb:q.Ig,uvc:v.Vu.trackId,Hzb:v.Vu.Ig}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};d.prototype.S0a=function(l){this.j.background.set(l);};d.prototype.p2=function(){this.j.p2();};d.prototype.Uxa=function(l){this.j.Uxa(l);};d.prototype.Vl=function(l){return this.j.Vl(l);};d.prototype.Oxb=function(){return this.j.qb;};d.prototype.ZD=function(){this.j.ZD();};d.prototype.MS=function(l){this.j.MS(l);};d.prototype.iaa=function(l,m,p){return this.j.iaa(l,m,p);};d.prototype.HKa=function(l,m){this.j.addEventListener(l,m,void 0);};d.prototype.EKb=function(l,m){this.j.removeEventListener(l,m);};d.prototype.addEventListener=function(l,m,p){this.jc.addListener(l,m,p);};d.prototype.removeEventListener=function(l,m){this.jc.removeListener(l,m);};d.prototype.rT=function(){};d.prototype.load=function(){var l;l=this;this.loaded || (this.loaded=!0,this.j.load(function(m,p){try{l.Mb(c.Za.hDb,void 0,!0);m.S && (m.S.Aa.FSb && l.Mb(c.Za.gYc,m.S.Aa.FSb,!0),m.S.Aa.Yr && l.Mb(c.Za.iPc,{segmentMap:m.S.Aa.Yr},!0),m.S.Aa.N2a && (l.YB=m.S.Aa.N2a,l.Mb(c.Za.O2a,{timecodes:l.YB},!0)));p({success:!0});}catch(q){p({Ua:n.Y.wr,ef:l.Rf.jj(q)});}}));};d.prototype.zyb=function(){return this.YB;};d.prototype.close=function(l){var m;m=this;this.Ipb || (this.Ipb=new Promise(function(p){l?m.j.qK(l,p):m.j.close(p);}));return this.Ipb;};d.prototype.play=function(){this.j.Hj?this.j.fireEvent(c.ja.kea):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(c.ja.ZRb)));};d.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(c.ja.X3a));};d.prototype.UHb=function(){this.load();this.j.paused.value || this.j.paused.set(!0,{mB:!0});};d.prototype.seek=function(l,m,p,q){m=void 0 === m?c.Mc.bv:m;this.j.Cac() && (this.io().Ba && this.io().tBb(this.io().DLb(l)) && !this.io().PR(!0)?this.io().Y1():this.j.Xd?(this.io().Ba && (l=this.io().DLb(l)),this.j.Xd.seek(l,m,p,q)):(this.io().Ba && (l=this.io().BRa(l).pq),this.j.pq=l));};d.prototype.uIb=function(l){return this.IX?(this.log.trace("Playing a segment",l),this.IX.play(l)):Promise.resolve();};d.prototype.MJb=function(l){return this.IX?(this.log.trace("Queueing a segment",l),this.IX.gg(l)):Promise.resolve();};d.prototype.xl=function(l,m){return this.IX?(this.log.trace("Updating next segment weights",l,m),this.IX.xl(l,m)):Promise.resolve();};d.prototype.daa=function(){var l;l=this.j.gr.daa();return {bounds:l.i8,margins:l.qy,size:l.size,visibility:l.visibility};};d.prototype.i2=function(l){var m,p,q;m=l.bounds;p=l.margins;q=l.size;l=l.visibility;this.j.Afa && (m && this.j.Afa.i1a(m),p && this.j.Afa.j1a(p),"boolean" === typeof l && this.j.Afa.k1a(l));this.j.gr && q && this.j.gr.MQc(q);};d.prototype.n1a=function(l){this.j.mr=l;};d.prototype.Cyb=function(l){return this.j.DI && this.j.DI.pqc(l) || null;};d.prototype.ewb=function(){return this.Rf.n0({playerver:this.config.version,jssid:this.config.xyc,groupName:this.config.tqc(),xid:this.j.Ia,pbi:this.j.index},this.config.tIc,{prefix:"pi_"});};d.prototype.Yzb=function(l){this.j.wg(n.da.G8a,n.Y.zh,l);};d.prototype.cDb=function(l,m,p,q){if(!this.ec.Imb(l))throw Error("invalid url");this.bIb.push({url:l,name:m,d9b:p,options:q});this.uJb();};d.prototype.mSa=function(){var l,m,p,q,r,u,v,w;l={};m=this.j.Zea;try{if((this.j.Nj && (l.errorCode=this.j.Nj.Nna,l.errorType=m?"endplay":"startplay"),l.playdelay=(0,h.$h)(this.j.q8()),l.xid=this.j.Ia,this.j.S && this.ec.Jt(this.j.S.Aa.Ms) && (l.packageId=Number(this.j.S.Aa.Ms)),l.auth=this.j.Voc(),m)){l.totaltime=this.j.Dp?this.ps(this.j.Dp.Zv("content")):0;l.abrdel=this.j.Dp?this.j.Dp.MQa():0;p=this.j.Xd;q=p?p.lR():null;this.ec.Xo(q) && (l.totdfr=q);q=p?p.z$():null;this.ec.Xo(q) && (l.totcfr=q);r=p?p.Dqc():null;r && (l.rbfrs_decoder=r.qna,l.rbfrs_network=r.cta);l.rbfrs_delay=this.j.Dp?this.j.Dp.aUa:0;l.init_vbr=this.j.Jqa;u=this.WZ();this.ec.HY(u) && (l.pdltime=u);v=this.j.ze.value;w=v && v.stream;w && (l.vbr=w.bitrate,l.vdlid=w.ob);l.bufferedTime=this.j.nwb();}}catch(x){this.log.error("error capturing session summary",x);}return l;};d.prototype.hZ=function(l){this.j.qb.dr && (this.j.qb.dr.userEngageAction=1);return this.ec.Xo(this.j.mediaTime.value)?(l=Object.assign(Object.assign({},this.uB.create(this.j)),{action:l}),this.A8(e.Lo.hZ).Ue({log:this.log,links:this.j.S.wp},l).then(function(){return {success:!0};}).catch(function(m){return {success:!1,errorCode:m.code,errorSubCode:m.subCode,errorExternalCode:m.extCode,errorData:m.data,errorDetails:m.details};})):Promise.resolve({success:!1});};d.prototype.Mpc=function(l){return {register:l.register.bind(l),notifyUpdated:l.$Fb.bind(l),getModel:l.prc.bind(l),getGroups:l.F$.bind(l),addEventListener:l.addEventListener.bind(l),removeEventListener:l.removeEventListener.bind(l),getTime:l.getTime.bind(l)};};d.prototype.$v=function(l){var m;m=l.QZa=l.QZa || ({trackId:l.trackId,bcp47:l.Ig,displayName:l.displayName,trackType:l.aj,rawTrackType:l.JM,channels:l.channels});this.AUa(l) && (m.isNative=l.isNative,m.surroundFormatLabel=l.kfa);this.BUa(l) && (m.isNoneTrack=l.Kq(),m.isForcedNarrative=l.rp(),m.isImageBased=l.Jq);m.subType=l.vU;m.variant=l.variant;return m;};d.prototype.AUa=function(l){return "undefined" !== typeof l.isNative;};d.prototype.BUa=function(l){return "undefined" !== typeof l.Kq && "undefined" !== typeof l.rp;};d.prototype.W9=function(l){var m;m=this;return l && this.j.$k.find(function(p){return m.$v(p) === l;});};d.prototype.U$=function(l){var m,p;l=this.W9(l) || (null === (m=this.cE) || void 0 === m?void 0:m.je) || this.j.ka.je;return null !== (p=null === l || void 0 === l?void 0:l.wj) && void 0 !== p?p:[];};d.prototype.M$=function(l,m){var p;p=l.length - 1;if("number" !== typeof m)return p;l=l.findIndex(function(q){return q.Bc > m;});return -1 === l?p:l - 1;};d.prototype.nBb=function(l,m){return 0 <= l.wj.indexOf(m);};d.prototype.JEc=function(l){return 0 <= l?1 >= l?l:1:0;};d.prototype.ps=function(l){return this.ec.Xo(l)?(l / 1E3).toFixed(0):"";};d.prototype.Mb=function(l,m,p){m=m || ({});m.target=this;this.jc.rd(l,m,!p);};d.prototype.eV=function(){var l;l=this;this.j.addEventListener(c.ja.H2a,function(){l.Mb(c.Za.$t);});this.j.bV.addListener(function(){l.Mb(c.Za.f4a);});this.j.addEventListener(c.ja.YQb,function(){l.Mb(c.Za.XQb);});this.j.addEventListener(c.ja.dca,function(){l.Mb(c.Za.oma);});this.j.addEventListener(c.ja.Rs,function(){l.Mb(c.Za.oma);});this.j.addEventListener(c.ja.i_,function(m){l.Mb(c.Za.i_,{errorCode:m});});this.j.addEventListener(c.ja.cma,function(){l.Mb(c.Za.Bnb);});this.j.addEventListener(c.ja.Hj,function(m){l.Mb(c.Za.dma,m);});this.j.addEventListener(c.ja.mQb,function(){l.Mb(c.Za.Zla);l.Mb(c.Za.aC);});this.j.addEventListener(c.ja.ZCb,function(m){var p,q;if(l.io().Ba && l.K.R === m.J){p=m.lda;if(void 0 !== p){q="execute" === m.action?"ending":"prefetch";l.YB=l.YB.filter(function(r){return r.type !== q;});l.YB.push({type:q,startOffsetMs:p,endOffsetMs:p});l.Mb(c.Za.O2a,{timecodes:l.YB},!0);}}});this.j.$j.addListener(function(){l.Mb(c.Za.iZa);});this.j.paused.addListener(function(){l.Mb(c.Za.VHb);});this.j.muted.addListener(function(){l.Mb(c.Za.nFb);});this.j.volume.addListener(function(){l.Mb(c.Za.uSb);});this.j.Zb.addListener(function(){l.fRb();});this.j.state.addListener(function(){l.fRb();});this.j.VLa.addListener(function(m){l.yAc || l.j.state.value != c.Gc.Cf || m.newValue || (l.yAc=!0,l.Mb(c.Za.loaded),setTimeout(function(){l.log.debug.bind(l.log,"summary ",l.mSa());}));l.Mb(c.Za.LX);});this.j.ka.addListener([k.u.X],function(){l.Mb(c.Za.nq);l.Mb(c.Za.aC);setTimeout(function(){var m,p;m=l.j.ka.je;p=l.j.ka.Rd;null === m || null === p || l.nBb(m,p) || (l.log.info("Changing timed text track to match audio track"),l.j.ka.Mp(m.wj[0]));},0);});this.j.ka.addListener([k.u.Da],function(m){m.Cy && m.so && m.Cy.trackId == m.so.trackId || l.Mb(c.Za.Rp);});this.j.addEventListener(c.ja.aC,function(){l.Mb(c.Za.aC);});this.j.addEventListener(c.ja.Ofa,function(){l.Mb(c.Za.Ofa);});this.j.state.addListener(function(m){switch(m.newValue){case c.Gc.Cf:l.Mb(c.Za.POa);l.Mb(c.Za.f4a);l.Mb(c.Za.Zla);l.Mb(c.Za.aC);l.Mb(c.Za.gDb);l.uJb();l.mYc();break;case c.Gc.CLOSING:l.j.Nj && l.Mb(c.Za.xAb,l.j.Nj);break;case c.Gc.CLOSED:(l.Mb(c.Za.closed),l.jc.Zg());}});this.j.addEventListener(c.ja.PL,function(){l.Mb(c.Za.PL);l.Mb(c.Za.$t);l.Mb(c.Za.oma);l.Mb(c.Za.POa);});};d.prototype.mYc=function(){var l,m,p,q,r;l=this;this.j.gr.addEventListener("showsubtitle",function(u){l.Mb(c.Za.z1a,u,!0);});this.j.gr.addEventListener("removesubtitle",function(u){l.Mb(c.Za.q_a,u,!0);});q=this.j.cn();q.Yo.addListener(function(u){q.aPa && l.Mb(c.Za.Y6b,{state:u.newValue?"start":"stop"});});r=null === (m=this.j.bb) || void 0 === m?void 0:m.cn();m=null === r || void 0 === r?void 0:r.Os.events;null === m || void 0 === m?void 0:m.addListener("adPlaygraphUpdated",function(){l.Mb(c.Za.xmb);});null === (p=this.j.bb) || void 0 === p?void 0:p.addEventListener("adMetadataUpdated",function(){l.Mb(c.Za.xmb);});};d.prototype.uJb=function(){if(this.j.state.value == c.Gc.Cf){for(var l,m,p;m=this.bIb.shift();)(l=this.j.gr.xKa(m.url,m.name,m.options),m.d9b && (p=l));p && this.j.ka.Mp(p);}};d.prototype.fRb=function(){var l,m,p,q;m=this.ended;p=this.j.state.value == c.Gc.Cf && this.j.Zb.value == c.Nb.ex;q=!1;p && this.j.bb && (q=null === (l=this.j.bb) || void 0 === l?void 0:l.bsc());m === p || q || (this.ended=p,this.j.IP("Ended changed: " + p),(p || this.j.state.value === c.Gc.CLOSING) && this.Mb(c.Za.Otb));};d.prototype.WZ=function(){var l,m;try{l=/playercore.*js/;m=g.qC.getEntriesByType("resource").filter(function(p){return null !== l.exec(p.name);});if(m && 0 < m.length)return JSON.stringify(Math.round(m[0].duration));}catch(p){}};b.bab=d;},52357:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G;function d(J){this.md=J;}Object.defineProperty(b,"__esModule",{value:!0});b.QHa=void 0;t=a(22970);n=a(22674);c=a(71501);f=a(74870);g=a(42207);e=a(87386);h=a(15160);k=a(2911);l=a(41106);m=a(41893);p=a(32979);q=a(87607);r=a(95738);u=a(25050);v=a(61861);w=a(62665);x=a(81918);y=a(49745);A=a(37104);z=a(77764);B=a(4203);C=a(44376);D=a(47500);E=a(30869);H=a(78029);F=a(91825);G=a(11479);d.prototype.mY=function(J,L,K,M,P,I){return this.md.get(B.Ic)().$xa?new u.Eib(this.md.get(e.zb),this.md.get(v.GFa),this.md.get(w.iF),this.md.get(x.ie),this.md.get(y.YV),this.md.get(h.pBa),this.md.get(A.DDa),this.md.get(z.T9a),this.md.get(C.Teb),this.md.get(D.gHa),this.md.get(D.gHa),this.md.get(E.Li),this.md.get(F.u5),this.md.get(H.NBa),this.md.get(G.fk),M,K):new m.bab(this.md.get(f.Bm),this.md.get(g.Mi),this.md.get(e.zb),this.md.get(h.pBa),this.md.get(k.OGa),this.md.get(p.jFa),this.md.get(q.nBa),this.md.get(r.eeb),this.md.get(l.b8a),J,L,K,M,P,I);};a=d;b.QHa=a;b.QHa=a=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(c.Z$a))],a);},54861:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.WGa="SocketRouterWebPlayerClient";},42933:function(t,b,a){var c;function d(f,g){var e;e=c.e6.call(this,"WSS",f.trace) || this;e.options=f;e.u4a=g;g.onmessage=function(h){h=h.data;"string" === typeof h?(e.trace("Received",h),e.emit("message",{Pd:e,message:h}),f.Hf.fKb(h.length)):e.trace("Received non-string message",h);};g.onclose=function(h){e.trace("Received close event",h);e.options.Hf.pcc();e.occ=h;e.close();};g.onerror=function(h){e.trace("Received error, closing",h);e.options.Hf.error();e.failure={type:"ws-native-error",url:f.url,event:null !== h && void 0 !== h?h:"undefined"};e.emit("failure",{Ge:"ws.onerror",Pd:e,error:e.failure});e.close();};e.closed.then(function(){e.u4a=void 0;g.onopen=n;g.onclose=n;g.onerror=n;g.onmessage=n;g.close();});return e;}function n(){}Object.defineProperty(b,"__esModule",{value:!0});b.q6=void 0;c=a(9568);Ia(d,c.e6);d.open=function(f){return new Promise(function(g,e){var h,k,l,m,p,q;k=new URL(f.url);new URLSearchParams(f.Cb).forEach(function(r,u){k.searchParams.append(u,r);});l=k.toString();m=null === (h=f.timing) || void 0 === h?void 0:h.exa(["network","web.WebSocket"]);f.Hf.BGc();p=new WebSocket(l);q=new d(f,p);q.trace("Connecting with",l);p.onopen=function(){p.onopen=function(){};q.trace("Connected");null === m || void 0 === m?void 0:m.end();f.Hf.uw();g(q);};q.closed.then(function(){var r,u,v;v=null !== (r=q.failure) && void 0 !== r?r:{type:"ws-did-not-open",url:f.url,event:null !== (u=q.occ) && void 0 !== u?u:void 0};null === m || void 0 === m?void 0:m.end(v);e(v);});});};d.prototype.close=function(){if(c.e6.prototype.close.call(this))return (this.options.Hf.closed(),!0);};d.prototype.send=function(f){if(this.open && this.u4a)return (this.trace("Sending",f),this.u4a.send(f),this.options.Hf.T(f.length),!0);};b.q6=d;d.supported="function" === typeof globalThis.WebSocket;},4888:function(t,b,a){var d,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});b.hYc=function(e,h){function k(l){var m,p,q,r;m=e.url;p=e.trace;q=e.Hf;r={"x-netflix.request.client.context":JSON.stringify({appState:e.visible.gV?"foreground":"background"}),"x-netflix.socketrouter.schema.version":"" + d.yja.POc,"x-netflix.socketrouter.group.name":"" + h.groupName};return f.q6.open({url:m,trace:p,Hf:q,Cb:r,timing:l});}return function(l){return n.j5a.open({timing:l,trace:e.trace,timeout:e.timeout,sX:c.k5a.Cnc({trace:e.trace,tk:e.tk.sX}),eu:k,vD:new g.bhb(e.Ck)});};};d=a(41066);n=a(42050);c=a(61222);f=a(42933);g=a(1409);},21015:function(t,b,a){var n,c,f,g,e;function d(h,k){h=g.Tf.call(this,h,"SocketRouterConfigImpl") || this;h.config=k;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.UGa=b.xja=void 0;t=a(22970);n=a(22674);c=a(4203);f=a(12501);g=a(64174);a=a(83767);b.xja="SocketRouterConfigSymbol";Ia(d,g.Tf);Ha.Object.defineProperties(d.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},url:{configurable:!0,enumerable:!0,get:function(){return "wss://web.ws.prod.cloud.netflix.com/socketrouter";}},sM:{configurable:!0,enumerable:!0,get:function(){return 24E4;}},bua:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},J1:{configurable:!0,enumerable:!0,get:function(){return 15E3;}},groupName:{configurable:!0,enumerable:!0,get:function(){return this.config().groupName;}},DG:{configurable:!0,enumerable:!0,get:function(){return !1;}},QNb:{configurable:!0,enumerable:!0,get:function(){return !0;}},ONb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});e=d;b.UGa=e;t.__decorate([f.config(f.qd,"socketRouterEnabled")],e.prototype,"enabled",null);t.__decorate([f.config(f.string,"socketRouterURL")],e.prototype,"url",null);t.__decorate([f.config(f.cz,"socketRouterPingInterval")],e.prototype,"sM",null);t.__decorate([f.config(f.cz,"socketRouterOpenTimeout")],e.prototype,"bua",null);t.__decorate([f.config(f.cz,"socketRouterRequestTimeout")],e.prototype,"J1",null);t.__decorate([f.config(f.string,"socketRouterGroupName")],e.prototype,"groupName",null);t.__decorate([f.config(f.qd,"socketRouterDisableOnSuspend")],e.prototype,"DG",null);t.__decorate([f.config(f.qd,"socketRouterShouldSendLogblobs")],e.prototype,"QNb",null);t.__decorate([f.config(f.qd,"socketRouterShouldSendEvents")],e.prototype,"ONb",null);b.UGa=e=t.__decorate([(0,n.aa)(),t.__param(0,(0,n.v)(a.Qo)),t.__param(1,(0,n.v)(c.Ic))],e);},70885:function(t,b,a){var n;function d(){}Object.defineProperty(b,"__esModule",{value:!0});b.VGa=b.Nib=void 0;t=a(22970);a=a(22674);b.Nib={logblob:{maxLengthBytes:204800,maxInQueue:4},events:{maxInQueue:void 0},manifest:{maxInQueue:void 0},license:{maxInQueue:void 0},ntlBatch:{maxLengthBytes:204800,maxInQueue:4},ntlSendImmediate:{maxInQueue:void 0}};d.prototype.Ob=function(c,f){this.client=c;this.config=f;};d.prototype.request=function(c){return this.client.request(c);};d.prototype.start=function(){this.client.start();};d.prototype.disconnect=function(){this.client.disconnect();};Ha.Object.defineProperties(d.prototype,{wUa:{configurable:!0,enumerable:!0,get:function(){var c;return !(null === (c=this.client) || void 0 === c || !c.wUa);}}});n=d;b.VGa=n;b.VGa=n=t.__decorate([(0,a.aa)()],n);},99133:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x;Object.defineProperty(b,"__esModule",{value:!0});d=a(33351);n=a(12746);c=a(35097);f=a(49217);g=a(41066);t=a(11479);e=a(87386);h=a(91581);k=a(37509);l=a(33554);m=a(31276);p=a(22365);q=a(36475);r=a(4888);b=a(36129);u=a(7605);v=a(21015);w=a(54861);x=a(42933);m.Wa.get(t.fk).register(b.da.G$a,function(y){var B,C,D,E,H,F,G,J,L,K,M,P,I,O,Q;function A(){k.ye.removeListener(k.us,z);k.ye.removeListener(k.hn,A);O && O();}function z(){I.set(!0 !== p.Ni.hidden);}B=m.Wa.get(v.xja);if(!B.enabled || !x.q6.supported)return y({success:!0});C=m.Wa.get(u.zz);D=m.Wa.get(q.Ydb);E=m.Wa.get(l.iC);H=m.Wa.get(h.Bt);F=B.groupName;G=B.url;J=B.sM;L=B.bua;K=B.J1;M=B.DG;P=m.Wa.get(e.zb).wb("SocketRouterClient");G={eu:function(T){return (0,r.hYc)(T,{groupName:F});},enabled:!0,url:G,sM:J,bua:L,J1:K,DG:M,Amb:!0,zda:!1};H=H.version;I=new n.vza().set(!0 !== p.Ni.hidden);O=null;k.ye.removeListener(k.us,z);k.ye.addListener(k.us,z);k.ye.addListener(k.hn,A);C=new d.V7a({lS:function(T,U){switch(T){case "error":P.error("socket-router-client-error",U);break;case "warn":!1;break;default:!1;}},info:{o3a:"WEBSITE",groupName:F,fga:{Xa:"",build:"",o3a:C.uiVersion,platform:C.uiPlatform,player:H}},sX:{ij:E().ij,crypto:new c.l5a(),mg:new f.r5a(),TKc:function(){return D.Ue({log:P},{}).then(function(T){return T.provisionResponse;});}},visible:I});Q=new g.$gb(G,C);O=function(){Q.disconnect();};Q.start();m.Wa.get(w.WGa).Ob(Q,B);y({success:!0});});},35558:function(t,b,a){t.exports={i0b:a(81198),YZc:a(52915)};},52915:function(t,b,a){function d(c){this.data=c;this.right=this.left=null;}function n(c){this.Fg=null;this.Kz=c;this.size=0;}b=a(61161);d.prototype.kj=function(c){return c?this.right:this.left;};d.prototype.Nw=function(c,f){c?this.right=f:this.left=f;};n.prototype=new b();n.prototype.ru=function(c){if(null === this.Fg)(this.Fg=new d(c),this.size++);else for(var f=0,g=null,e=this.Fg;;){if(null === e){e=new d(c);g.Nw(f,e);ret=!0;this.size++;break;}if(0 === this.Kz(e.data,c))break;f=0 > this.Kz(e.data,c);g=e;e=e.kj(f);}};n.prototype.remove=function(c){var f,g,l;if(null === this.Fg)return !1;f=new d(void 0);g=f;g.right=this.Fg;for(var e=null,h=null,k=1;null !== g.kj(k);){e=g;g=g.kj(k);l=this.Kz(c,g.data);k=0 < l;0 === l && (h=g);}return null !== h?(h.data=g.data,e.Nw(e.right === g,g.kj(null === g.left)),this.Fg=f.right,this.size--,!0):!1;};t.exports=n;},81198:function(t,b,a){function d(e){this.data=e;this.right=this.left=null;this.red=!0;}function n(e){this.Fg=null;this.Kz=e;this.size=0;}function c(e){return null !== e && e.red;}function f(e,h){var k;k=e.kj(!h);e.Nw(!h,k.kj(h));k.Nw(h,e);e.red=!0;k.red=!1;return k;}function g(e,h){e.Nw(!h,f(e.kj(!h),!h));return f(e,h);}b=a(61161);d.prototype.kj=function(e){return e?this.right:this.left;};d.prototype.Nw=function(e,h){e?this.right=h:this.left=h;};n.prototype=new b();n.prototype.ru=function(e){var h,k,l,m,p,q,r,u;if(null === this.Fg)(this.Fg=new d(e),this.size++);else {h=new d(void 0);k=0;l=0;m=null;p=h;q=null;r=this.Fg;for(p.right=this.Fg;;){null === r?(r=new d(e),q.Nw(k,r),this.size++):c(r.left) && c(r.right) && (r.red=!0,r.left.red=!1,r.right.red=!1);if(c(r) && c(q)){u=p.right === m;r === q.kj(l)?p.Nw(u,f(m,!l)):p.Nw(u,g(m,!l));}u=this.Kz(r.data,e);if(0 === u)break;l=k;k=0 > u;null !== m && (p=m);m=q;q=r;r=r.kj(k);}this.Fg=h.right;}this.Fg.red=!1;};n.prototype.remove=function(e){var h,k,r,u,v;if(null === this.Fg)return !1;h=new d(void 0);k=h;k.right=this.Fg;for(var l=null,m,p=null,q=1;null !== k.kj(q);){r=q;m=l;l=k;k=k.kj(q);u=this.Kz(e,k.data);q=0 < u;0 === u && (p=k);if(!c(k) && !c(k.kj(q)))if(c(k.kj(!q)))(m=f(k,q),l.Nw(r,m),l=m);else if(!c(k.kj(!q)) && (u=l.kj(!r),null !== u))if(c(u.kj(!r)) || c(u.kj(r))){v=m.right === l;c(u.kj(r))?m.Nw(v,g(l,r)):c(u.kj(!r)) && m.Nw(v,f(l,r));r=m.kj(v);r.red=!0;k.red=!0;r.left.red=!1;r.right.red=!1;}else (l.red=!1,u.red=!0,k.red=!0);}null !== p && (p.data=k.data,l.Nw(l.right === k,k.kj(null === k.left)),this.size--);this.Fg=h.right;null !== this.Fg && (this.Fg.red=!1);return null !== p;};t.exports=n;},61161:function(t){function b(){}function a(d){this.nlb=d;this.ev=[];this.ri=null;}b.prototype.clear=function(){this.Fg=null;this.size=0;};b.prototype.find=function(d){var c;for(var n=this.Fg;null !== n;){c=this.Kz(d,n.data);if(0 === c)return n.data;n=n.kj(0 < c);}return null;};b.prototype.lowerBound=function(d){var g;for(var n=this.Fg,c=this.iterator(),f=this.Kz;null !== n;){g=f(d,n.data);if(0 === g)return (c.ri=n,c);c.ev.push(n);n=n.kj(0 < g);}for(g=c.ev.length - 1;0 <= g;--g)if((n=c.ev[g],0 > f(d,n.data)))return (c.ri=n,c.ev.length=g,c);c.ev.length=0;return c;};b.prototype.upperBound=function(d){for(var n=this.lowerBound(d),c=this.Kz;null !== n.data() && 0 === c(n.data(),d);)n.next();return n;};b.prototype.min=function(){var d;d=this.Fg;if(null === d)return null;for(;null !== d.left;)d=d.left;return d.data;};b.prototype.max=function(){var d;d=this.Fg;if(null === d)return null;for(;null !== d.right;)d=d.right;return d.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.w9=function(d){for(var n=this.iterator(),c;null !== (c=n.next());)d(c);};a.prototype.data=function(){return null !== this.ri?this.ri.data:null;};a.prototype.next=function(){var d;if(null === this.ri){d=this.nlb.Fg;null !== d && this.okb(d);}else if(null === this.ri.right){do if((d=this.ri,this.ev.length))this.ri=this.ev.pop();else {this.ri=null;break;}while(this.ri.right === d);}else (this.ev.push(this.ri),this.okb(this.ri.right));return null !== this.ri?this.ri.data:null;};a.prototype.Ky=function(){var d;if(null === this.ri){d=this.nlb.Fg;null !== d && this.kkb(d);}else if(null === this.ri.left){do if((d=this.ri,this.ev.length))this.ri=this.ev.pop();else {this.ri=null;break;}while(this.ri.left === d);}else (this.ev.push(this.ri),this.kkb(this.ri.left));return null !== this.ri?this.ri.data:null;};a.prototype.okb=function(d){for(;null !== d.left;)(this.ev.push(d),d=d.left);this.ri=d;};a.prototype.kkb=function(d){for(;null !== d.right;)(this.ev.push(d),d=d.right);this.ri=d;};t.exports=b;},29919:function(t,b,a){var d,n;b=a(4090);d=a(49638);n=a(68418);a=a(36476);t.exports=a || b.call(n,d);},26497:function(t,b,a){var d,n,c;d=a(4090);n=a(49638);c=a(29919);t.exports=function(){return c(d,n,arguments);};},49638:function(t){t.exports=Function.prototype.apply;},68418:function(t){t.exports=Function.prototype.call;},68381:function(t,b,a){var d,n,c,f;d=a(4090);n=a(5408);c=a(68418);f=a(29919);t.exports=function(g){if(1 > g.length || "function" !== typeof g[0])throw new n("a function is required");return f(d,c,g);};},36476:function(t){t.exports="undefined" !== typeof Reflect && Reflect && Reflect.apply;},62680:function(t,b,a){var d,n,c;d=a(67286);n=a(89429);c=n(d("String.prototype.indexOf"));t.exports=function(f,g){g=d(f,!!g);return "function" === typeof g && -1 < c(f,".prototype.")?n(g):g;};},89429:function(t,b,a){var d,n;d=a(47669);b=a(70999);n=a(68381);a=a(26497);t.exports=function(c){var f,g;f=n(arguments);g=c.length - (arguments.length - 1);return d(f,1 + (0 < g?g:0),!0);};b?b(t.exports,"apply",{value:a}):t.exports.apply=a;},8435:function(t,b,a){var d,n,c;d=a(67286);n=a(68381);c=n([d("%String.prototype.indexOf%")]);t.exports=function(f,g){g=d(f,!!g);return "function" === typeof g && -1 < c(f,".prototype.")?n([g]):g;};},75195:function(t,b,a){var d,n,c,f;d=a(70999);n=a(48342);c=a(5408);f=a(50326);t.exports=function(g,e,h){var k,l,m,p,q;if(!g || "object" !== typeof g && "function" !== typeof g)throw new c("`obj` must be an object or a function`");if("string" !== typeof e && "symbol" !== typeof e)throw new c("`property` must be a string or a symbol`");if(3 < arguments.length && "boolean" !== typeof arguments[3] && null !== arguments[3])throw new c("`nonEnumerable`, if provided, must be a boolean or null");if(4 < arguments.length && "boolean" !== typeof arguments[4] && null !== arguments[4])throw new c("`nonWritable`, if provided, must be a boolean or null");if(5 < arguments.length && "boolean" !== typeof arguments[5] && null !== arguments[5])throw new c("`nonConfigurable`, if provided, must be a boolean or null");if(6 < arguments.length && "boolean" !== typeof arguments[6])throw new c("`loose`, if provided, must be a boolean");k=3 < arguments.length?arguments[3]:null;l=4 < arguments.length?arguments[4]:null;m=5 < arguments.length?arguments[5]:null;p=6 < arguments.length?arguments[6]:!1;q=!!f && f(g,e);if(d)d(g,e,{configurable:null === m && q?q.configurable:!m,enumerable:null === k && q?q.enumerable:!k,value:h,writable:null === l && q?q.writable:!l});else if(p || !k && !l && !m)g[e]=h;else throw new n("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");};},14926:function(t,b,a){var d,n,c,f,g,e;d=a(33464);n="function" === typeof Symbol && "symbol" === typeof Symbol("foo");c=Object.prototype.toString;f=Array.prototype.concat;g=a(75195);e=a(81181)();t.exports=function(h,k){var l,m,q,r,u,v;l=2 < arguments.length?arguments[2]:{};m=d(k);n && (m=f.call(m,Object.getOwnPropertySymbols(k)));for(var p=0;p < m.length;p+=1)a:{q=h;r=m[p];u=k[m[p]];v=l[m[p]];if((r in q))if(!0 === v){if(q[r] === u)break a;}else if("function" !== typeof v || "[object Function]" !== c.call(v) || !v())break a;e?g(q,r,u,!0):g(q,r,u);}};},5141:function(t,b,a){var d,n,c;b=a(68381);a=a(50326);try{d=[].__proto__ === Array.prototype;}catch(f){if(!(f && "object" === typeof f && ("code" in f)) || "ERR_PROTO_ACCESS" !== f.code)throw f;}d=!!d && a && a(Object.prototype,"__proto__");n=Object;c=n.getPrototypeOf;t.exports=d && "function" === typeof d.get?b([d.get]):"function" === typeof c?function(f){return c(null == f?f:n(f));}:!1;},16634:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.djb="ella-object-wasm";b.Tja="1.0.3";},90808:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.djb="ella-object";b.Tja="1.0.38";},70999:function(t){var b;b=Object.defineProperty || !1;if(b)try{b({},"a",{value:1});}catch(a){b=!1;}t.exports=b;},69654:function(t){t.exports=EvalError;},42321:function(t){t.exports=Error;},48205:function(t){t.exports=RangeError;},2976:function(t){t.exports=ReferenceError;},48342:function(t){t.exports=SyntaxError;},5408:function(t){t.exports=TypeError;},82885:function(t){t.exports=URIError;},42977:function(t,b,a){var d;d=a(5408);t.exports=function(n){if(null == n)throw new d(0 < arguments.length && arguments[1] || "Cannot call method on " + n);return n;};},8156:function(t,b,a){var d,n;d=a(54546);n=a(42977);t.exports=function(c){n(c);return d(c);};},54546:function(t){t.exports=Object;},5158:function(t){t.exports=function(b){return !!b && ("function" === typeof b || "object" === typeof b);};},5885:function(t,b,a){var d,n,c,f,g;d="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;n=a(53919);c=a(9680);f=a(54277);g=a(88705);t.exports=function(e){var h,k,l;if(n(e))return e;h="default";1 < arguments.length && (arguments[1] === String?h="string":arguments[1] === Number && (h="number"));if(d)if(Symbol.toPrimitive){k=Symbol.toPrimitive;l=e[k];if(null !== l && "undefined" !== typeof l){if(!c(l))throw new TypeError(l + " returned for property " + String(k) + " of object " + e + " is not a function");k=l;}else k=void 0;}else g(e) && (k=Symbol.prototype.valueOf);if("undefined" !== typeof k){h=k.call(e,h);if(n(h))return h;throw new TypeError("unable to convert exotic object to primitive");}"default" === h && (f(e) || g(e)) && (h="string");a:{h="default" === h?"number":h;if("undefined" === typeof e || null === e)throw new TypeError("Cannot call method on " + e);if("string" !== typeof h || "number" !== h && "string" !== h)throw new TypeError('hint must be "string" or "number"');h="string" === h?["toString","valueOf"]:["valueOf","toString"];for(k=0;k < h.length;++k)if((l=e[h[k]],c(l) && (l=l.call(e),n(l))))break a;throw new TypeError("No default value");}return l;};},53919:function(t){t.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},22699:function(t){var h,k,l,m;function b(){b.Ob.call(this);}function a(p){if("function" !== typeof p)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof p);}function d(p,q,r,u){var v,w;a(r);v=p.oc;if(void 0 === v)(v=p.oc=Object.create(null),p.gP=0);else {void 0 !== v.MDc && (p.emit("newListener",q,r.listener?r.listener:r),v=p.oc);w=v[q];}void 0 === w?(v[q]=r,++p.gP):("function" === typeof w?w=v[q]=u?[r,w]:[w,r]:u?w.unshift(r):w.push(r),r=void 0 === p.Sz?b.iOa:p.Sz,0 < r && w.length > r && !w.m4a && (w.m4a=!0,r=Error("Possible EventEmitter memory leak detected. " + w.length + " " + String(q) + " listeners added. Use emitter.setMaxListeners() to increase limit"),r.name="MaxListenersExceededWarning",r.ks=p,r.type=q,r.count=w.length,console && console.warn && console.warn(r)));return p;}function n(){if(!this.kvb)return (this.target.removeListener(this.type,this.SSb),this.kvb=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function c(p,q,r){p={kvb:!1,SSb:void 0,target:p,type:q,listener:r};q=n.bind(p);q.listener=r;return p.SSb=q;}function f(p){var q;q=this.oc;if(void 0 !== q){p=q[p];if("function" === typeof p)return 1;if(void 0 !== p)return p.length;}return 0;}function g(p,q,r){"function" === typeof p.on && e(p,"error",q,r);}function e(p,q,r,u){if("function" === typeof p.on){if(u.once)p.once(q,r);else p.on(q,r);}else if("function" === typeof p.addEventListener)p.addEventListener(q,function x(w){u.once && p.removeEventListener(q,x);r(w);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof p);}h="object" === typeof Reflect?Reflect:null;k=h && "function" === typeof h.apply?h.apply:function(p,q,r){return Function.prototype.apply.call(p,q,r);};l=Number.isNaN || (function(p){return p !== p;});t.exports=b;t.exports.once=function(p,q){return new Promise(function(r,u){function v(x){p.removeListener(q,w);u(x);}function w(){"function" === typeof p.removeListener && p.removeListener("error",v);r([].slice.call(arguments));}e(p,q,w,{once:!0});"error" !== q && g(p,v,{once:!0});});};b.EventEmitter=b;b.prototype.oc=void 0;b.prototype.gP=0;b.prototype.Sz=void 0;m=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return m;},set:function(p){if("number" !== typeof p || 0 > p || l(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + p + ".");m=p;}});b.Ob=function(){if(void 0 === this.oc || this.oc === Object.getPrototypeOf(this).oc)(this.oc=Object.create(null),this.gP=0);this.Sz=this.Sz || void 0;};b.prototype.setMaxListeners=function(p){if("number" !== typeof p || 0 > p || l(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + p + ".");this.Sz=p;return this;};b.prototype.emit=function(p){var u,v;for(var q=[],r=1;r < arguments.length;r++)q.push(arguments[r]);u="error" === p;r=this.oc;if(void 0 !== r)u=u && void 0 === r.error;else if(!u)return !1;if(u){0 < q.length && (v=q[0]);if(v instanceof Error)throw v;q=Error("Unhandled error." + (v?" (" + v.message + ")":""));q.context=v;throw q;}r=r[p];if(void 0 === r)return !1;if("function" === typeof r)k(r,this,q);else {v=r.length;u=Array(v);for(var w=0;w < v;++w)u[w]=r[w];for(r=0;r < v;++r)k(u[r],this,q);}return !0;};b.prototype.addListener=function(p,q){return d(this,p,q,!1);};b.prototype.on=b.prototype.addListener;b.prototype.Uua=function(p,q){d(this,p,q,!0);};b.prototype.once=function(p,q){a(q);this.on(p,c(this,p,q));return this;};b.prototype.cJb=function(p,q){a(q);this.Uua(p,c(this,p,q));};b.prototype.removeListener=function(p,q){var r,u,v,w,x;a(q);u=this.oc;if(void 0 === u)return this;v=u[p];if(void 0 === v)return this;if(v === q || v.listener === q)0 === --this.gP?this.oc=Object.create(null):(delete u[p],u.removeListener && this.emit("removeListener",p,v.listener || q));else if("function" !== typeof v){w=-1;for(r=v.length - 1;0 <= r;r--)if(v[r] === q || v[r].listener === q){x=v[r].listener;w=r;break;}if(0 > w)return this;if(0 === w)v.shift();else {for(;w + 1 < v.length;w++)v[w]=v[w + 1];v.pop();}1 === v.length && (u[p]=v[0]);void 0 !== u.removeListener && this.emit("removeListener",p,x || q);}return this;};b.prototype.$l=b.prototype.removeListener;b.prototype.removeAllListeners=function(p){var q,r,u;q=this.oc;if(void 0 === q)return this;if(void 0 === q.removeListener)return (0 === arguments.length?(this.oc=Object.create(null),this.gP=0):void 0 !== q[p] && (0 === --this.gP?this.oc=Object.create(null):delete q[p]),this);if(0 === arguments.length){r=Object.keys(q);for(q=0;q < r.length;++q){u=r[q];"removeListener" !== u && this.removeAllListeners(u);}this.removeAllListeners("removeListener");this.oc=Object.create(null);this.gP=0;return this;}r=q[p];if("function" === typeof r)this.removeListener(p,r);else if(void 0 !== r)for(q=r.length - 1;0 <= q;q--)this.removeListener(p,r[q]);return this;};b.prototype.listeners=function(p){var q;q=this.oc;if(void 0 === q)p=[];else if((p=q[p],void 0 === p))p=[];else if("function" === typeof p)p=[p.listener || p];else {q=Array(p.length);for(var r=0;r < q.length;++r)q[r]=p[r].listener || p[r];p=q;}return p;};b.listenerCount=function(p,q){return "function" === typeof p.listenerCount?p.listenerCount(q):f.call(p,q);};b.prototype.listenerCount=f;},37795:function(t){var n,c;function b(f,g){for(var e="",h=0;h < f.length;h+=1)(e+=f[h],h + 1 < f.length && (e+=g));return e;}function a(f,g){var e;e=[];g=g || 0;for(var h=0;g < f.length;(g+=1,h+=1))e[h]=f[g];return e;}function d(f,g){for(var e=[],h=0;h < f.length;h+=1)e[h]=f[h];for(h=0;h < g.length;h+=1)e[h + f.length]=g[h];return e;}n=Object.prototype.toString;c=Math.max;t.exports=function(f){var g;g=this;if("function" !== typeof g || "[object Function]" !== n.apply(g))throw new TypeError("Function.prototype.bind called on incompatible " + g);for(var e=a(arguments,1),h,k=c(0,g.length - e.length),l=[],m=0;m < k;m++)l[m]="$" + m;h=Function("binder","return function (" + b(l,",") + "){ return binder.apply(this,arguments); }")(function(){var p;if(this instanceof h){p=g.apply(this,d(e,arguments));return Object(p) === p?p:this;}return g.apply(f,d(e,arguments));});g.prototype && (k=function(){},k.prototype=g.prototype,h.prototype=new k(),k.prototype=null);return h;};},4090:function(t,b,a){b=a(37795);t.exports=Function.prototype.bind || b;},67286:function(t,b,a){var f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L,K,M,P,I,O,Q,T,U,X,Y,W;function d(Z){var ba,ca,da;ba=U(Z,0,1);ca=U(Z,-1);if("%" === ba && "%" !== ca)throw new l("invalid intrinsic syntax, expected closing `%`");if("%" === ca && "%" !== ba)throw new l("invalid intrinsic syntax, expected opening `%`");da=[];T(Z,Y,function(ia,S,N,V){da[da.length]=N?T(V,W,"$1"):S || ia;});return da;}function n(){throw new m();}function c(Z){try{return A('"use strict"; return (' + Z + ").constructor;")();}catch(ba){}}f=a(54546);g=a(42321);e=a(69654);h=a(48205);k=a(2976);l=a(48342);m=a(5408);p=a(82885);q=a(14383);r=a(45736);u=a(27130);v=a(22400);w=a(23654);x=a(96890);y=a(82026);A=Function;z=a(50326);B=a(70999);C=z?(function(){try{return (arguments.callee,n);}catch(Z){try{return z(arguments,"callee").get;}catch(ba){return n;}}})():n;D=a(32636)();E=a(21750);H=a(2938);F=a(78354);b=a(49638);G=a(68418);J={};L="undefined" !== typeof Uint8Array && E?E(Uint8Array):void 0;K={__proto__:null,"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":D && E?E([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":J,"%AsyncGenerator%":J,"%AsyncGeneratorFunction%":J,"%AsyncIteratorPrototype%":J,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined" === typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined" === typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":g,"%eval%":eval,"%EvalError%":e,"%Float16Array%":"undefined" === typeof Float16Array?void 0:Float16Array,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":A,"%GeneratorFunction%":J,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":D && E?E(E([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && D && E?E(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":f,"%Object.getOwnPropertyDescriptor%":z,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":h,"%ReferenceError%":k,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && D && E?E(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":D && E?E(("")[Symbol.iterator]()):void 0,"%Symbol%":D?Symbol:void 0,"%SyntaxError%":l,"%ThrowTypeError%":C,"%TypedArray%":L,"%TypeError%":m,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":p,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet,"%Function.prototype.call%":G,"%Function.prototype.apply%":b,"%Object.defineProperty%":B,"%Object.getPrototypeOf%":H,"%Math.abs%":q,"%Math.floor%":r,"%Math.max%":u,"%Math.min%":v,"%Math.pow%":w,"%Math.round%":x,"%Math.sign%":y,"%Reflect.getPrototypeOf%":F};if(E)try{(null).error;}catch(Z){f=E(E(Z));K["%Error.prototype%"]=f;}M=function ca(ba){var da,ia;if("%AsyncFunction%" === ba)da=c("async function () {}");else if("%GeneratorFunction%" === ba)da=c("function* () {}");else if("%AsyncGeneratorFunction%" === ba)da=c("async function* () {}");else if("%AsyncGenerator%" === ba){ia=ca("%AsyncGeneratorFunction%");ia && (da=ia.prototype);}else "%AsyncIteratorPrototype%" === ba && (ia=ca("%AsyncGenerator%")) && E && (da=E(ia.prototype));return K[ba]=da;};P={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};f=a(4090);I=a(72196);O=f.call(G,Array.prototype.concat);Q=f.call(b,Array.prototype.splice);T=f.call(G,String.prototype.replace);U=f.call(G,String.prototype.slice);X=f.call(G,RegExp.prototype.exec);Y=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;W=/\\(\\)?/g;t.exports=function(ba,ca){var da,ia,S,N,V,aa,fa,ha,ka;if("string" !== typeof ba || 0 === ba.length)throw new m("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof ca)throw new m('"allowMissing" argument must be a boolean');if(null === X(/^%?[^%]*%?$/,ba))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");da=d(ba);ia=0 < da.length?da[0]:"";S="%" + ia + "%";N=S;if(I(P,N)){V=P[N];N="%" + V[0] + "%";}if(I(K,N)){aa=K[N];aa === J && (aa=M(N));if("undefined" === typeof aa && !ca)throw new m("intrinsic " + S + " exists, but is not available. Please file an issue!");}else throw new l("intrinsic " + S + " does not exist!");S=aa;N=!1;V && (ia=V[0],Q(da,O([0,1],V)));V=1;for(aa=!0;V < da.length;V+=1){fa=da[V];ha=U(fa,0,1);ka=U(fa,-1);if(('"' === ha || "'" === ha || "`" === ha || '"' === ka || "'" === ka || "`" === ka) && ha !== ka)throw new l("property names with quotes must have matching quotes");"constructor" !== fa && aa || (N=!0);ia+="." + fa;ha="%" + ia + "%";if(I(K,ha))S=K[ha];else if(null != S){if(!((fa in S))){if(!ca)throw new m("base intrinsic for " + ba + " exists, but the property is not available.");return;}z && V + 1 >= da.length?(ka=z(S,fa),S=(aa=!!ka) && ("get" in ka) && !(("originalValue" in ka.get))?ka.get:S[fa]):(aa=I(S,fa),S=S[fa]);aa && !N && (K[ha]=S);}}return S;};},2938:function(t,b,a){b=a(54546);t.exports=b.getPrototypeOf || null;},78354:function(t){t.exports="undefined" !== typeof Reflect && Reflect.getPrototypeOf || null;},21750:function(t,b,a){var d,n,c;d=a(78354);n=a(2938);c=a(5141);t.exports=d?function(f){return d(f);}:n?function(f){if(!f || "object" !== typeof f && "function" !== typeof f)throw new TypeError("getProto: not an object");return n(f);}:c?function(f){return c(f);}:null;},93165:function(t){t.exports=Object.getOwnPropertyDescriptor;},50326:function(t,b,a){if(b=a(93165))try{b([],"length");}catch(d){b=null;}t.exports=b;},81181:function(t,b,a){var n;function d(){return !!n;}n=a(70999);d.wuc=function(){if(!n)return null;try{return 1 !== n([],"length",{value:1}).length;}catch(c){return !0;}};t.exports=d;},32636:function(t,b,a){var d,n;d="undefined" !== typeof Symbol && Symbol;n=a(66679);t.exports=function(){return "function" !== typeof d || "function" !== typeof Symbol || "symbol" !== typeof d("foo") || "symbol" !== typeof Symbol("bar")?!1:n();};},66679:function(t){t.exports=function(){var b,a,d;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");d=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(d))return !1;b[a]=42;for(var n in b)return !1;if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;d=Object.getOwnPropertySymbols(b);return 1 !== d.length || d[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},67226:function(t,b,a){var d;d=a(66679);t.exports=function(){return d() && !!Symbol.toStringTag;};},72196:function(t,b,a){var d;b=Function.prototype.call;d=Object.prototype.hasOwnProperty;a=a(4090);t.exports=a.call(b,d);},28041:function(t,b,a){var c,f;function d(g,e,h,k,l){var m,p,r;m={};p="number" === typeof l;l=void 0 !== l && p?l.toString():h;if(p && void 0 !== h)throw Error(c.zXb);Reflect.aTa(g,e) && (m=Reflect.getMetadata(g,e));h=m[l];if(Array.isArray(h)){p=0;for(var q=h;p < q.length;p++){r=q[p];if(r.key === k.key)throw Error(c.RVb + " " + r.key.toString());}}else h=[];h.push(k);m[l]=h;Reflect.xna(g,m,e);}function n(g,e){return function(h,k){e(h,k,g);};}Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);f=a(37425);b.xU=function(g,e,h,k){d(f.xhb,g,e,k,h);};b.rfa=function(g,e,h){d(f.yhb,g.constructor,e,h);};b.yK=function(g,e,h){"number" === typeof h?(g=[n(h,g)],Reflect.yK(g,e)):"string" === typeof h?Reflect.yK([g],e,h):Reflect.yK([g],e);};},29385:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);n=a(37425);c=a(67258);f=a(28041);t=(function(){function g(e){this.l2b=e;}g.prototype.FN=function(){return this.l2b();};return g;})();b.ICa=t;b.v=function(g){return function(e,h,k){var l;if(void 0 === g)throw Error(d.m1b(e.name));l=new c.Metadata(n.f5,g);"number" === typeof k?f.xU(e,h,k,l):f.rfa(e,h,l);};};},16504:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);n=a(37425);b.aa=function(){return function(c){var f;if(Reflect.aTa(n.AEa,c))throw Error(d.QVb);f=Reflect.getMetadata(n.mVb,c) || [];Reflect.xna(n.AEa,f,c);return c;};};},3342:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);n=a(67258);c=a(28041);b.OH=function(f){return function(g,e,h){var k;k=new n.Metadata(d.DO,f);"number" === typeof h?c.xU(g,e,h,k):c.rfa(g,e,k);};};},44466:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);n=a(67258);c=a(28041);b.pFb=function(f){return function(g,e,h){var k;k=new n.Metadata(d.hJ,f);"number" === typeof h?c.xU(g,e,h,k):c.rfa(g,e,k);};};},5923:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);n=a(67258);c=a(28041);b.optional=function(){return function(f,g,e){var h;h=new n.Metadata(d.kdb,!0);"number" === typeof e?c.xU(f,g,e,h):c.rfa(f,g,h);};};},76311:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);n=a(37425);c=a(67258);b.SIb=function(){return function(f,g){g=new c.Metadata(n.M5,g);if(Reflect.aTa(n.M5,f.constructor))throw Error(d.JYb);Reflect.xna(n.M5,g,f.constructor);};};},91823:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(67258);n=a(28041);b.wPb=function(c,f){return function(g,e,h){var k;k=new d.Metadata(c,f);"number" === typeof h?n.xU(g,e,h,k):n.rfa(g,e,k);};};},67509:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);n=a(67258);c=a(28041);b.sfa=function(f){return function(g,e,h){var k;k=new n.Metadata(d.oia,f);c.xU(g,e,h,k);};};},53022:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);n=a(67258);c=a(28041);b.Su=function(){return function(f,g,e){var h;h=new n.Metadata(d.m6,!0);c.xU(f,g,e,h);};};},70078:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(5493);n=a(72632);t=(function(){function c(f,g){this.id=n.id();this.hKa=!1;this.hi=f;this.scope=g;this.type=d.pm.HXb;this.gQ=function(){return !0;};this.OY=this.XD=this.xT=this.eu=this.cache=this.Hq=null;}c.prototype.clone=function(){var f;f=new c(this.hi,this.scope);f.hKa=!1;f.Hq=this.Hq;f.OY=this.OY;f.scope=this.scope;f.type=this.type;f.eu=this.eu;f.xT=this.xT;f.gQ=this.gQ;f.XD=this.XD;f.cache=this.cache;return f;};return c;})();b.iUb=t;},57197:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eza={W1c:2,Xcb:0,CZb:1};},25640:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.QVb="Cannot apply @injectable decorator multiple times.";b.RVb="Metadata key was used more than once in a parameter:";b.H5="NULL argument";b.qab="Key Not Found";b.jTb="Ambiguous match found for serviceIdentifier:";b.DUb="Could not unbind serviceIdentifier:";b.hZb="No matching bindings found for serviceIdentifier:";b.yYb="Missing required @injectable annotation in:";b.zYb="Missing required @inject or @multiInject annotation in:";b.m1b=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.HUb="Circular dependency found:";b.n2c="Sorry, this feature is not fully implemented yet.";b.yXb="Invalid binding type:";b.kZb="No snapshot available to restore.";b.CXb="Invalid return type in middleware. Middleware must return!";b.BXb="Value provided to function binding must be a function!";b.DXb="The toSelf function can only be applied when a constructor is used as service identifier";b.zXb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.lTb=function(){for(var a=[],d=0;d < arguments.length;d++)a[d]=arguments[d];return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.WUb="Invalid Container constructor argument. Container options must be an object.";b.UUb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.TUb="Invalid Container option. Auto bind injectable must be a boolean";b.VUb="Invalid Container option. Skip base check must be a boolean";b.JYb="Cannot apply @postConstruct decorator multiple times in the same class";b.G_b=function(){for(var a=[],d=0;d < arguments.length;d++)a[d]=arguments[d];return "@postConstruct error in class " + a[0] + ": " + a[1];};b.IUb=function(){for(var a=[],d=0;d < arguments.length;d++)a[d]=arguments[d];return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.Q0b="Maximum call stack size exceeded";},5493:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.oz={Request:"Request",SGa:"Singleton",Hja:"Transient"};b.pm={s7a:"ConstantValue",t7a:"Constructor",r8a:"DynamicValue",uBa:"Factory",Function:"Function",Instance:"Instance",HXb:"Invalid",Ffb:"Provider"};b.xF={g7a:"ClassProperty",u7a:"ConstructorArgument",PHa:"Variable"};},37425:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hJ="named";b.oia="name";b.m6="unmanaged";b.kdb="optional";b.f5="inject";b.DO="multi_inject";b.xhb="inversify:tagged";b.yhb="inversify:tagged_props";b.AEa="inversify:paramtypes";b.mVb="design:paramtypes";b.M5="post_construct";},99700:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q;d=this && this.__awaiter || (function(r,u,v,w){return new (v || (v=Promise))(function(x,y){function A(C){try{B(w.next(C));}catch(D){y(D);}}function z(C){try{B(w["throw"](C));}catch(D){y(D);}}function B(C){C.done?x(C.value):new v(function(D){D(C.value);}).then(A,z);}B((w=w.apply(r,u || [])).next());});});n=this && this.__generator || (function(r,u){var x,y,A,z,B;function v(C){return function(D){return w([C,D]);};}function w(C){if(y)throw new TypeError("Generator is already executing.");for(;x;)try{if((y=1,A && (z=A[C[0] & 2?"return":C[0]?"throw":"next"]) && !(z=z.call(A,C[1])).done))return z;if((A=0,z))C=[0,z.value];switch(C[0]){case 0:case 1:z=C;break;case 4:return (x.label++,{value:C[1],done:!1});case 5:x.label++;A=C[1];C=[0];continue;case 7:C=x.QS.pop();x.tc.pop();continue;default:if(!(z=x.tc,z=0 < z.length && z[z.length - 1]) && (6 === C[0] || 2 === C[0])){x=0;continue;}if(3 === C[0] && (!z || C[1] > z[0] && C[1] < z[3]))x.label=C[1];else if(6 === C[0] && x.label < z[1])(x.label=z[1],z=C);else if(z && x.label < z[2])(x.label=z[2],x.QS.push(C));else {z[2] && x.QS.pop();x.tc.pop();continue;}}C=u.call(r,x);}catch(D){C=[6,D];A=0;}finally{y=z=0;}if(C[0] & 5)throw C[1];return {value:C[0]?C[1]:void 0,done:!0};}x={label:0,T:function(){if(z[0] & 1)throw z[1];return z[1];},tc:[],QS:[]};return (B={next:v(0),"throw":v(1),"return":v(2)},"function" === typeof Symbol && (B[Symbol.iterator]=function(){return this;}),B);});Object.defineProperty(b,"__esModule",{value:!0});c=a(70078);f=a(25640);g=a(5493);a(37425);e=a(11499);h=a(75262);k=a(85933);l=a(49825);m=a(72632);p=a(48530);a(95817);q=a(62240);t=(function(){function r(u){u=u || ({});if("object" !== typeof u)throw Error("" + f.WUb);if(void 0 === u.pQ)u.pQ=g.oz.Hja;else if(u.pQ !== g.oz.SGa && u.pQ !== g.oz.Hja && u.pQ !== g.oz.Request)throw Error("" + f.UUb);if(void 0 === u.X7)u.X7=!1;else if("boolean" !== typeof u.X7)throw Error("" + f.TUb);if(void 0 === u.mU)u.mU=!1;else if("boolean" !== typeof u.mU)throw Error("" + f.VUb);this.options={X7:u.X7,pQ:u.pQ,mU:u.mU};this.id=m.id();this.ZO=new q.XXb();this.U4b=[];this.parent=this.fJa=null;this.P3b=new e.UDa();}r.nn=function(u,v){var x,y;function w(A,z){A.mVc(function(B,C){C.forEach(function(D){z.add(D.hi,D.clone());});});}x=new r();y=h.OQa(x);u=h.OQa(u);v=h.OQa(v);w(u,y);w(v,y);return x;};r.prototype.load=function(){var x,y;for(var u=[],v=0;v < arguments.length;v++)u[v]=arguments[v];v=this.Pjb();for(var w=0;w < u.length;w++){x=u[w];y=v(x.id);x.n_a(y.Vnb,y.OQb,y.vBb,y.dKb);}};r.prototype.yba=function(){for(var u=[],v=0;v < arguments.length;v++)u[v]=arguments[v];d(this,void 0,void 0,function(){var w,x,y,A,z;return n(this,function(B){switch(B.label){case 0:(w=this.Pjb(),x=0,y=u,B.label=1);case 1:if(!(x < y.length))return [3,4];A=y[x];z=w(A.id);return [4,A.n_a(z.Vnb,z.OQb,z.vBb,z.dKb)];case 2:(B.T(),B.label=3);case 3:return (x++,[3,1]);case 4:return [2];}});});};r.prototype.UQb=function(){function u(y){return function(A){return A.bFb === y;};}for(var v=this,w=[],x=0;x < arguments.length;x++)w[x]=arguments[x];w.forEach(function(y){y=u(y.id);v.ZO.EMc(y);});};r.prototype.bind=function(u){var v;v=new c.iUb(u,this.options.pQ || g.oz.Hja);this.ZO.add(u,v);return new l.kUb(v);};r.prototype.ALc=function(u){this.NQb(u);return this.bind(u);};r.prototype.NQb=function(u){try{this.ZO.remove(u);}catch(v){throw Error(f.DUb + " " + p.b_(u));}};r.prototype.IAb=function(u){var v;v=this.ZO.bzb(u);!v && this.parent && (v=this.parent.IAb(u));return v;};r.prototype.restore=function(){var u;u=this.U4b.pop();if(void 0 === u)throw Error(f.kZb);this.ZO=u.e8;this.fJa=u.GCc;};r.prototype.jfc=function(){var u;u=new r(this.options);u.parent=this;return u;};r.prototype.get=function(u){return this.Ojb(!1,!1,g.xF.PHa,u);};r.prototype.getAll=function(u){return this.Ojb(!0,!0,g.xF.PHa,u);};r.prototype.resolve=function(u){var v;v=this.jfc();v.bind(u).WPb();return v.get(u);};r.prototype.Pjb=function(){var y;function u(A){return function(z){z=y.ALc.bind(y)(z);z.kd.bFb=A;return z;};}function v(){return function(A){return y.IAb.bind(y)(A);};}function w(){return function(A){y.NQb.bind(y)(A);};}function x(A){return function(z){z=y.bind.bind(y)(z);z.kd.bFb=A;return z;};}y=this;return function(A){return {Vnb:x(A),vBb:v(A),dKb:u(A),OQb:w(A)};};};r.prototype.Ojb=function(u,v,w,x){var y;y=null;u={k9b:u,odc:function(A){return A;},xxc:v,key:void 0,hi:x,mUc:w,value:void 0};if(this.fJa){if((y=this.fJa(u),void 0 === y || null === y))throw Error(f.CXb);}else y=this.w4b()(u);return y;};r.prototype.w4b=function(){var u;u=this;return function(v){var w;w=h.g1(u.P3b,u,v.xxc,v.mUc,v.hi,v.key,v.value,v.k9b);w=v.odc(w);return k.resolve(w);};};return r;})();b.fha=t;},51164:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(72632);b.Ce=(function(){return function(n){this.id=d.id();this.n_a=n;};})();b.T5a=(function(){return function(n){this.id=d.id();this.n_a=n;};})();},95817:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.w_c=(function(){function a(){}a.of=function(d,n){var c;c=new a();c.e8=d;c.GCc=n;return c;};return a;})();},62240:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);t=(function(){function n(){this.Wg=new Map();}n.prototype.oxb=function(){return this.Wg;};n.prototype.add=function(c,f){var g;if(null === c || void 0 === c)throw Error(d.H5);if(null === f || void 0 === f)throw Error(d.H5);g=this.Wg.get(c);void 0 !== g?(g.push(f),this.Wg.set(c,g)):this.Wg.set(c,[f]);};n.prototype.get=function(c){if(null === c || void 0 === c)throw Error(d.H5);c=this.Wg.get(c);if(void 0 !== c)return c;throw Error(d.qab);};n.prototype.remove=function(c){if(null === c || void 0 === c)throw Error(d.H5);if(!this.Wg.delete(c))throw Error(d.qab);};n.prototype.EMc=function(c){var f;f=this;this.Wg.forEach(function(g,e){g=g.filter(function(h){return !c(h);});0 < g.length?f.Wg.set(e,g):f.Wg.delete(e);});};n.prototype.bzb=function(c){if(null === c || void 0 === c)throw Error(d.H5);return this.Wg.has(c);};n.prototype.clone=function(){var c;c=new n();this.Wg.forEach(function(f,g){f.forEach(function(e){return c.add(g,e.clone());});});return c;};n.prototype.mVc=function(c){this.Wg.forEach(function(f,g){c(g,f);});};return n;})();b.XXb=t;},22674:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});t=a(37425);b.H1c=t;t=a(99700);b.fha=t.fha;t=a(5493);b.oz=t.oz;b.pm=t.pm;b.xF=t.xF;t=a(51164);b.T5a=t.T5a;b.Ce=t.Ce;t=a(16504);b.aa=t.aa;t=a(91823);b.wPb=t.wPb;t=a(44466);b.pFb=t.pFb;t=a(29385);b.v=t.v;b.ICa=t.ICa;t=a(5923);b.optional=t.optional;t=a(53022);b.Su=t.Su;t=a(3342);b.OH=t.OH;t=a(67509);b.sfa=t.sfa;t=a(76311);b.SIb=t.SIb;t=a(11499);b.UDa=t.UDa;t=a(72632);b.id=t.id;t=a(28041);b.yK=t.yK;t=a(41146);b.zQb=t.zQb;b.xPb=t.xPb;b.qFb=t.qFb;b.GQb=t.GQb;t=a(48530);b.b_=t.b_;a=a(14577);b.mFb=a.mFb;},91734:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(72632);t=(function(){function n(c){this.id=d.id();this.Jb=c;}n.prototype.o6b=function(c){this.g1=c;};return n;})();b.x7a=t;},67258:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);t=(function(){function n(c,f){this.key=c;this.value=f;}n.prototype.toString=function(){return this.key === d.hJ?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return n;})();b.Metadata=t;},11499:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);t=(function(){function n(){}n.prototype.wwb=function(c){var f;f=Reflect.getMetadata(d.AEa,c);c=Reflect.getMetadata(d.xhb,c);return {Wpb:f,gXc:c || ({})};};n.prototype.lsc=function(c){return Reflect.getMetadata(d.yhb,c) || [];};return n;})();b.UDa=t;},4595:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q_b=(function(){return function(a,d){this.Z0=a;this.a0a=d;};})();},75262:function(t,b,a){var g,e,h,k,l,m,p,q,r,u,v,w;function d(x,y,A,z,B){var C,D;C=f(A.Jb,B.hi);D=[];C.length === g.Eza.Xcb && A.Jb.options.X7 && "function" === typeof B.hi && x.wwb(B.hi).Wpb && (A.Jb.bind(B.hi).WPb(),C=f(A.Jb,B.hi));D=y?C:C.filter(function(E){var H;H=new v.Request(E.hi,A,z,E,B);return E.gQ(H);});n(B.hi,D,B,A.Jb);return D;}function n(x,y,A,z){switch(y.length){case g.Eza.Xcb:if(A.eBb())return y;x=m.b_(x);y=e.hZb;y+=m.ozc(x,A);y+=m.MCb(z,x,f);throw Error(y);case g.Eza.CZb:if(!A.isArray())return y;default:if(A.isArray())return y;x=m.b_(x);y=e.jTb + " " + x;y+=m.MCb(z,x,f);throw Error(y);}}function c(x,y,A,z,B,C){var D;if(null === B){y=d(x,y,z,null,C);D=new v.Request(A,z,null,y,C);A=new r.Q_b(z,D);z.o6b(A);}else (y=d(x,y,z,B,C),D=B.Tlb(C.hi,y,C));y.forEach(function(E){var H,F,G;H=null;if(C.isArray())H=D.Tlb(E.hi,E,C);else {if(E.cache)return;H=D;}if(E.type === h.pm.Instance && null !== E.Hq){F=u.Ipc(x,E.Hq);if(!z.Jb.options.mU){G=u.Zoc(x,E.Hq);if(F.length < G)throw (E=e.lTb(u.getFunctionName(E.Hq)),Error(E));}F.forEach(function(J){c(x,!1,J.hi,z,H,J);});}});}function f(x,y){var A,z;A=[];z=x.ZO;z.bzb(y)?A=z.get(y):null !== x.parent && (A=f(x.parent,y));return A;}Object.defineProperty(b,"__esModule",{value:!0});g=a(57197);e=a(25640);h=a(5493);k=a(37425);l=a(69523);m=a(48530);p=a(91734);q=a(67258);r=a(4595);u=a(34912);v=a(22929);w=a(23927);b.OQa=function(x){return x.ZO;};b.g1=function(x,y,A,z,B,C,D,E){void 0 === E && (E=!1);y=new p.x7a(y);A=new q.Metadata(A?k.DO:k.f5,B);z=new w.Dja(z,"",B,A);void 0 !== C && (C=new q.Metadata(C,D),z.Ac.push(C));try{return (c(x,E,B,y,null,z),y);}catch(H){throw (l.lBb(H) && y.g1 && m.Kbc(y.g1.a0a),H);}};b.U6c=function(x,y,A,z){A=new w.Dja(h.xF.PHa,"",y,new q.Metadata(A,z));x=new p.x7a(x);return new v.Request(y,x,null,[],A);};},11625:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(d){this.t2=d;}a.prototype.startsWith=function(d){return 0 === this.t2.indexOf(d);};a.prototype.endsWith=function(d){var n;n=d.split("").reverse().join("");d=this.t2.split("").reverse().join("");return this.startsWith.call({t2:d},n);};a.prototype.contains=function(d){return -1 !== this.t2.indexOf(d);};a.prototype.equals=function(d){return this.t2 === d;};a.prototype.value=function(){return this.t2;};return a;})();b.g0b=t;},34912:function(t,b,a){var g,e,h,k,l,m;function d(p,q,r,u){var v,w,x,y,z,B,C,D,E,H,F,G;v=p.wwb(r);w=v.Wpb;if(void 0 === w)throw Error(e.yYb + " " + q + ".");v=v.gXc;x=Object.keys(v);y=0 === r.length && 0 < x.length?x.length:r.length;x=[];for(var A=0;A < y;A++){z=A;B=u;C=q;D=w;E=v[z.toString()] || [];H=f(E);F=!0 !== H.Su;D=D[z];G=H.v || H.OH;D=G?G:D;D instanceof g.ICa && (D=D.FN());if(F){F=D === Function;F=D === Object || F || void 0 === D;if(!B && F)throw Error(e.zYb + " argument " + z + " in class " + C + ".");z=new m.Dja(h.xF.u7a,H.sfa,D);z.Ac=E;E=z;}else E=null;null !== E && x.push(E);}p=n(p,r);return x.concat(p);}function n(p,q){var x,y,A;for(var r=p.lsc(q),u=[],v=0,w=Object.keys(r);v < w.length;v++){x=w[v];y=r[x];A=f(r[x]);x=new m.Dja(h.xF.g7a,A.sfa || x,A.v || A.OH);x.Ac=y;u.push(x);}q=Object.getPrototypeOf(q.prototype).constructor;q !== Object && (p=n(p,q),u=u.concat(p));return u;}function c(p,q){var r,u;q=Object.getPrototypeOf(q.prototype).constructor;if(q !== Object){r=l.getFunctionName(q);r=d(p,r,q,!0);u=r.map(function(v){return v.Ac.filter(function(w){return w.key === k.m6;});});u=[].concat.apply([],u).length;r=r.length - u;return 0 < r?r:c(p,q);}return 0;}function f(p){var q;q={};p.forEach(function(r){q[r.key.toString()]=r.value;});return {v:q[k.f5],OH:q[k.DO],sfa:q[k.oia],Su:q[k.m6]};}Object.defineProperty(b,"__esModule",{value:!0});g=a(29385);e=a(25640);h=a(5493);k=a(37425);l=a(48530);b.getFunctionName=l.getFunctionName;m=a(23927);b.Ipc=function(p,q){var r;r=l.getFunctionName(q);return d(p,r,q,!1);};b.Zoc=c;},22929:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(72632);t=(function(){function n(c,f,g,e,h){this.id=d.id();this.hi=c;this.Z0=f;this.UH=g;this.target=h;this.BMa=[];this.e8=Array.isArray(e)?e:[e];this.uNc=null === g?new Map():null;}n.prototype.Tlb=function(c,f,g){c=new n(c,this.Z0,this,f,g);this.BMa.push(c);return c;};return n;})();b.Request=t;},23927:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});d=a(37425);n=a(72632);c=a(67258);f=a(11625);t=(function(){function g(e,h,k,l){this.id=n.id();this.type=e;this.hi=k;this.name=new f.g0b(h || "");this.Ac=[];e=null;"string" === typeof l?e=new c.Metadata(d.hJ,l):l instanceof c.Metadata && (e=l);null !== e && this.Ac.push(e);}g.prototype.lzb=function(e){for(var h=0,k=this.Ac;h < k.length;h++)if(k[h].key === e)return !0;return !1;};g.prototype.isArray=function(){return this.lzb(d.DO);};g.prototype.ABc=function(e){return this.mWa(d.DO)(e);};g.prototype.uUa=function(){return this.lzb(d.hJ);};g.prototype.NUa=function(){return this.Ac.some(function(e){return e.key !== d.f5 && e.key !== d.DO && e.key !== d.oia && e.key !== d.m6 && e.key !== d.hJ;});};g.prototype.eBb=function(){return this.mWa(d.kdb)(!0);};g.prototype.rrc=function(){return this.uUa()?this.Ac.filter(function(e){return e.key === d.hJ;})[0]:null;};g.prototype.Fpc=function(){return this.NUa()?this.Ac.filter(function(e){return e.key !== d.f5 && e.key !== d.DO && e.key !== d.oia && e.key !== d.m6 && e.key !== d.hJ;}):null;};g.prototype.mWa=function(e){var h;h=this;return function(k){var p;for(var l=0,m=h.Ac;l < m.length;l++){p=m[l];if(p.key === e && p.value === k)return !0;}return !1;};};return g;})();b.Dja=t;},40198:function(t,b,a){var c,f,g;function d(e,h,k){var l;h=h.filter(function(m){return null !== m.target && m.target.type === f.xF.g7a;});l=h.map(k);h.forEach(function(m,p){m=m.target.name.value();e[m]=l[p];});return e;}function n(e,h){var k;if(Reflect.Fuc(g.M5,e)){k=Reflect.getMetadata(g.M5,e);try{h[k.value]();}catch(l){throw Error(c.G_b(e.name,l.message));}}}Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);f=a(5493);g=a(37425);b.LNc=function(e,h,k){var l;l=null;0 < h.length?(l=h.filter(function(m){return null !== m.target && m.target.type === f.xF.u7a;}).map(k),l=new (e.bind.apply(e,[void 0].concat(l)))(),l=d(l,h,k)):l=new e();n(e,l);return l;};},85933:function(t,b,a){var c,f,g,e,h;function d(k){return function(l){var m,p,q,r,u;m=l.e8;p=l.BMa;q=l.target && l.target.isArray();r=!l.UH || !l.UH.target || !l.target || !l.UH.target.ABc(l.target.hi);if(q && r)return p.map(function(v){return d(k)(v);});q=null;if(!l.target.eBb() || 0 !== m.length){u=m[0];m=u.scope === f.oz.SGa;r=u.scope === f.oz.Request;if(m && u.hKa)return u.cache;if(r && null !== k && k.has(u.id))return k.get(u.id);if(u.type === f.pm.s7a)q=u.cache;else if(u.type === f.pm.Function)q=u.cache;else if(u.type === f.pm.t7a)q=u.Hq;else if(u.type === f.pm.r8a && null !== u.OY)q=n("toDynamicValue",u.hi,function(){return u.OY(l.Z0);});else if(u.type === f.pm.uBa && null !== u.eu)q=n("toFactory",u.hi,function(){return u.eu(l.Z0);});else if(u.type === f.pm.Ffb && null !== u.xT)q=n("toProvider",u.hi,function(){return u.xT(l.Z0);});else if(u.type === f.pm.Instance && null !== u.Hq)q=h.LNc(u.Hq,p,d(k));else throw (p=e.b_(l.hi),Error(c.yXb + " " + p));"function" === typeof u.XD && (q=u.XD(l.Z0,q));m && (u.cache=q,u.hKa=!0);r && null !== k && !k.has(u.id) && k.set(u.id,q);return q;}};}function n(k,l,m){try{return m();}catch(p){if(g.lBb(p))throw Error(c.IUb(k,l.toString()));throw p;}}Object.defineProperty(b,"__esModule",{value:!0});c=a(25640);f=a(5493);g=a(69523);e=a(48530);h=a(40198);b.resolve=function(k){return d(k.g1.a0a.uNc)(k.g1.a0a);};},51580:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(5493);n=a(75714);t=(function(){function c(f){this.kd=f;}c.prototype.sa=function(){this.kd.scope=d.oz.SGa;return new n.ZN(this.kd);};c.prototype.CTa=function(){this.kd.scope=d.oz.Hja;return new n.ZN(this.kd);};return c;})();b.jUb=t;},61142:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(51580);n=a(1003);c=a(7190);t=(function(){function f(g){this.kd=g;this.t6=new c.Fza(this.kd);this.hIa=new n.Rga(this.kd);this.ljb=new d.jUb(g);}f.prototype.sa=function(){return this.ljb.sa();};f.prototype.CTa=function(){return this.ljb.CTa();};f.prototype.when=function(g){return this.t6.when(g);};f.prototype.tga=function(){return this.t6.tga();};f.prototype.XD=function(g){return this.hIa.XD(g);};return f;})();b.o6a=t;},1003:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(7190);t=(function(){function n(c){this.kd=c;}n.prototype.XD=function(c){this.kd.XD=c;return new d.Fza(this.kd);};return n;})();b.Rga=t;},49825:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);n=a(5493);c=a(61142);f=a(75714);t=(function(){function g(e){this.kd=e;}g.prototype.to=function(e){this.kd.type=n.pm.Instance;this.kd.Hq=e;return new c.o6a(this.kd);};g.prototype.WPb=function(){if("function" !== typeof this.kd.hi)throw Error("" + d.DXb);this.to(this.kd.hi);};g.prototype.Sp=function(e){this.kd.type=n.pm.s7a;this.kd.cache=e;this.kd.OY=null;this.kd.Hq=null;new f.ZN(this.kd);};g.prototype.vN=function(e){this.kd.type=n.pm.r8a;this.kd.cache=null;this.kd.OY=e;this.kd.Hq=null;return new c.o6a(this.kd);};g.prototype.WUc=function(e){this.kd.type=n.pm.t7a;this.kd.Hq=e;new f.ZN(this.kd);};g.prototype.$f=function(e){this.kd.type=n.pm.uBa;this.kd.eu=e;new f.ZN(this.kd);};g.prototype.XUc=function(e){if("function" !== typeof e)throw Error(d.BXb);this.Sp(e);this.kd.type=n.pm.Function;};g.prototype.UPb=function(e){this.kd.type=n.pm.uBa;this.kd.eu=function(h){return function(){return h.Jb.get(e);};};new f.ZN(this.kd);};g.prototype.Ffa=function(e){this.kd.type=n.pm.Ffb;this.kd.xT=e;new f.ZN(this.kd);};g.prototype.$Uc=function(e){this.vN(function(h){return h.Jb.get(e);});};return g;})();b.kUb=t;},75714:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(1003);n=a(7190);t=(function(){function c(f){this.kd=f;this.t6=new n.Fza(this.kd);this.hIa=new d.Rga(this.kd);}c.prototype.when=function(f){return this.t6.when(f);};c.prototype.tga=function(){return this.t6.tga();};c.prototype.XD=function(f){return this.hIa.XD(f);};return c;})();b.ZN=t;},7190:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(1003);a(41146);t=(function(){function n(c){this.kd=c;}n.prototype.when=function(c){this.kd.gQ=c;return new d.Rga(this.kd);};n.prototype.tga=function(){this.kd.gQ=function(c){return null !== c.target && !c.target.uUa() && !c.target.NUa();};return new d.Rga(this.kd);};return n;})();b.Fza=t;},41146:function(t,b,a){var c;function d(f){return function(g){function e(h){return null !== h && null !== h.target && h.target.mWa(f)(g);}e.AEb=new c.Metadata(f,g);return e;};}function n(f,g){f=f.UH;return null !== f?g(f)?!0:n(f,g):!1;}Object.defineProperty(b,"__esModule",{value:!0});t=a(37425);c=a(67258);b.zQb=n;b.xPb=d;a=d(t.hJ);b.qFb=a;b.GQb=function(f){return function(g){var e;if(null !== g){e=g.e8[0];return "string" === typeof f?e.hi === f:f === g.e8[0].Hq;}return !1;};};},14577:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mFb=function(a){return function(d){return function(){for(var n=[],c=0;c < arguments.length;c++)n[c]=arguments[c];return n.forEach(function(f){return a.bind(f).$Uc(d);});};};};},69523:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(25640);b.lBb=function(n){return n instanceof RangeError || n.message === d.Q0b;};},72632:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},48530:function(t,b,a){var e;function d(h){return "function" === typeof h?h.name:"symbol" === typeof h?h.toString():h;}function n(h,k){return null === h.UH?!1:h.UH.hi === k?!0:n(h.UH,k);}function c(h){function k(l,m){var p;void 0 === m && (m=[]);p=d(l.hi);m.push(p);return null !== l.UH?k(l.UH,m):m;}return k(h).reverse().join(" --\x3e ");}function f(h){h.BMa.forEach(function(k){if(n(k,k.hi))throw (k=c(k),Error(e.HUb + " " + k));f(k);});}function g(h){var k;if(h.name)return h.name;h=h.toString();k=h.match(/^function\s*([^\s(]+)/);return k?k[1]:"Anonymous function: " + h;}Object.defineProperty(b,"__esModule",{value:!0});e=a(25640);b.b_=d;b.MCb=function(h,k,l){var m;m="";h=l(h,k);0 !== h.length && (m="\nRegistered bindings:",h.forEach(function(p){var q;q="Object";null !== p.Hq && (q=g(p.Hq));m=m + "\n " + q;p.gQ.AEb && (m=m + " - " + p.gQ.AEb);}));return m;};b.Kbc=f;b.ozc=function(h,k){var l,m;if(k.NUa() || k.uUa()){l="";m=k.rrc();k=k.Fpc();null !== m && (l+=m.toString() + "\n");null !== k && k.forEach(function(p){l+=p.toString() + "\n";});return " " + h + "\n " + h + " - " + l;}return " " + h;};b.getFunctionName=g;},9680:function(t){var n,c,f,g,e,h,k,l;function b(){return !1;}function a(m){try{if(d(m))return !1;n.call(m);return !0;}catch(p){return !1;}}function d(m){var p;try{p=n.call(m);return e.test(p);}catch(q){return !1;}}n=Function.prototype.toString;c="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof c && "function" === typeof Object.defineProperty)try{f=Object.defineProperty({},"length",{get:function(){throw g;}});g={};c(function(){throw 42;},null,f);}catch(m){m !== g && (c=null);}else c=null;e=/^\s*class\b/;h=Object.prototype.toString;k="function" === typeof Symbol && !!Symbol.toStringTag;l=!((0 in [,]));"object" === typeof document && h.call(document.all) === h.call(document.all) && (b=function(m){var p;if(!(!l && m || "undefined" !== typeof m && "object" !== typeof m))try{p=h.call(m);return ("[object HTMLAllCollection]" === p || "[object HTML document.all class]" === p || "[object HTMLCollection]" === p || "[object Object]" === p) && null == m("");}catch(q){}return !1;});t.exports=c?function(m){if(b(m))return !0;if(!m || "function" !== typeof m && "object" !== typeof m)return !1;try{c(m,null,f);}catch(p){if(p !== g)return !1;}return !d(m) && a(m);}:function(m){var p;if(b(m))return !0;if(!m || "function" !== typeof m && "object" !== typeof m)return !1;if(k)return a(m);if(d(m))return !1;p=h.call(m);return "[object Function]" === p || "[object GeneratorFunction]" === p || (/^\[object HTML/).test(p)?a(m):!1;};},54277:function(t,b,a){var d,n,c;b=a(8435);d=b("Date.prototype.getDay");n=b("Object.prototype.toString");c=a(67226)();t.exports=function(f){if("object" !== typeof f || null === f)f=!1;else if(c)try{d(f);f=!0;}catch(g){f=!1;}else f="[object Date]" === n(f);return f;};},58786:function(t,b,a){var d,n,c,f,g,e,h;b=a(8435);d=a(67226)();n=a(72196);c=a(50326);if(d){f=b("RegExp.prototype.exec");g={};a=function(){throw g;};e={toString:a,valueOf:a};"symbol" === typeof Symbol.toPrimitive && (e[Symbol.toPrimitive]=a);a=function(k){var l;if(!k || "object" !== typeof k)return !1;l=c(k,"lastIndex");if(!l || !n(l,"value"))return !1;try{f(k,e);}catch(m){return m === g;}};}else {h=b("Object.prototype.toString");a=function(k){return !k || "object" !== typeof k && "function" !== typeof k?!1:"[object RegExp]" === h(k);};}t.exports=a;},26302:function(t,b,a){var d,n,c;b=a(8435);d=b("String.prototype.valueOf");n=b("Object.prototype.toString");c=a(67226)();t.exports=function(f){if("string" === typeof f)f=!0;else if(f && "object" === typeof f){if(c)try{d(f);f=!0;}catch(g){f=!1;}else f="[object String]" === n(f);}else f=!1;return f;};},88705:function(t,b,a){var d,n,c,f;b=a(8435);d=b("Object.prototype.toString");n=a(32636)();a=a(63671);if(n){c=b("Symbol.prototype.toString");f=a(/^Symbol\(.*\)$/);t.exports=function(g){if("symbol" === typeof g)return !0;if(!g || "object" !== typeof g || "[object Symbol]" !== d(g))return !1;try{return "symbol" !== typeof g.valueOf()?!1:f(c(g));}catch(e){return !1;}};}else t.exports=function(){return !1;};},14383:function(t){t.exports=Math.abs;},38752:function(t){t.exports=Number.MAX_SAFE_INTEGER || 9007199254740991;},45736:function(t){t.exports=Math.floor;},88562:function(t,b,a){var d;d=a(68806);t.exports=function(n){return ("number" === typeof n || "bigint" === typeof n) && !d(n) && Infinity !== n && -Infinity !== n;};},68806:function(t){t.exports=Number.isNaN || (function(b){return b !== b;});},27130:function(t){t.exports=Math.max;},22400:function(t){t.exports=Math.min;},23654:function(t){t.exports=Math.pow;},96890:function(t){t.exports=Math.round;},82026:function(t,b,a){var d;d=a(68806);t.exports=function(n){return d(n) || 0 === n?n:0 > n?-1:1;};},62082:function(t){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},W$:function(){return this.buffer.length - this.position;},zpa:function(){return this.buffer.length;},Eu:function(){return this.buffer[this.position++];},yn:function(a){var d;d=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(d,this.position):a.slice(d,this.position);},Hw:function(a){for(var d=0;a--;)d=256 * d + this.buffer[this.position++];return d;},c_a:function(a){for(var d="";a--;)d+=String.fromCharCode(this.buffer[this.position++]);return d;},uj:function(){return this.Hw(2);},Iw:function(){return this.Hw(4);},w1:function(){return this.Hw(8);},oE:function(a){for(var d,n="";a--;)(d=this.Eu(),n+=("0123456789ABCDEF")[d >>> 4] + ("0123456789ABCDEF")[d & 15]);return n;},d_a:function(a){for(var d=0,n=0;n < a;n++)d+=this.Eu() << (n << 3);return d;},v1:function(){return this.d_a(4);},lz:function(a){this.buffer[this.position++]=a;},XSb:function(a,d){this.position+=d;for(var n=1;n <= d;n++)(this.buffer[this.position - n]=a & 255,a=Math.floor(a / 256));},r4a:function(a){for(var d=a.length,n=0;n < d;n++)this.buffer[this.position++]=a[n];},m3:function(a,d){this.r4a(a.yn(d));}};t.exports=b;},31503:function(t){t.exports=function(b,a){for(var d in b)b.hasOwnProperty(d) && (a[d]=b[d]);return a;};},27E3:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(13752);n=a(29636);c=a(67566);b["default"]=function(f){var g;f=new d.hza(f);g=new c.sZb(f);return new n.rZb(f,g);};},13752:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(d){this.AAc=d;}a.prototype.Twb=function(){var d;try{d=this.AAc.getItem("gtp");if(d)return JSON.parse(d);}catch(n){}};a.prototype.jl=function(){var d;d=this.Twb();if(d && d.tp)return d.tp.a;};a.prototype.Eqc=function(){var d;d=this.vRa();if(d)return d.p25;};a.prototype.Fqc=function(){var d;d=this.vRa();if(d)return d.p50;};a.prototype.Gqc=function(){var d;d=this.vRa();if(d)return d.p75;};a.prototype.vRa=function(){var d;d=this.Twb();if(d && (d=d.iqr))return d;};return a;})();b.hza=t;},29636:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(d,n){this.eG=d;this.mta=n;}a.prototype.jl=function(){return this.eG.jl();};return a;})();b.rZb=t;},67566:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(d){this.eG=d;}a.prototype.mta=function(){var d,n,c;d=this.eG.Eqc();n=this.eG.Fqc();c=this.eG.Gqc();if("number" === typeof d && "number" === typeof n && "number" === typeof c)return (c - d) / n;};return a;})();b.sZb=t;},15410:function(t,b,a){var f;function d(g){var e,h,k;e=g.DLa;h=g.gua;k=g.version;g=g.filename;null !== e && void 0 !== e?e:e="https://occ.a.nflxso.net/genc/nrdp";e=("").concat(e,"/").concat(h,"/").concat(k);null !== g && void 0 !== g?g:g="index.release.js";return ("").concat(e,"/").concat(g);}function n(g){return new Promise(function(e,h){globalThis.aGb.Ptc.load({url:g,mdd:!1,async:!0},function(k){200 > k.GOb || 300 <= k.GOb?h(Error(("Failed to load, got a non-2xx response: ").concat(k.GOb))):k.data?e(k.data.toString()):h(Error("Failed to load: no data"));});});}function c(g){return f.__awaiter(this,void 0,void 0,function(){var e,h;return f.__generator(this,function(k){switch(k.label){case 0:return [4,n(g)];case 1:return (e=k.T(),h=("(function() { ").concat(e,"; return module.default; })();"),[2,globalThis.aGb.Ptc.eval(h,g)]);}});});}Object.defineProperty(b,"__esModule",{value:!0});b.dDb=function(g){return f.__awaiter(this,void 0,void 0,function(){var e,h,k,l,m,p;return f.__generator(this,function(q){switch(q.label){case 0:e=null !== (p=g.Kdd) && void 0 !== p?p:!1;if(!globalThis.aGb)throw Error("nf-package-loader only works on NRD devices. globalThis.nrdp is not defined.");h=d(g);return [4,c(h)];case 1:k=q.T();l=k.djb;if(l !== g.gua)throw Error(("Unexpected package name, expected '").concat(g.gua,"', got '").concat(l,"'"));if(!e && (m=k.Tja,m !== g.version))throw Error(("ella-object: unexpected version, expected ").concat(g.version,", got ").concat(m,". "));return [2,k];}});});};b.Eyb=d;b.had=c;f=a(22970);},79809:function(t){t.exports="undefined" !== typeof process && "undefined" !== typeof nrdp?nrdp.ha:Date.now;},94030:function(t,b,a){var f;function d(g,e,h,k,l,m,p){this.ega=k;this.gV=g;this.cXa=e;this.SD=h;this.lyc=m;this.XM=p;this.split=l;}function n(){this.V={};this.V["0"]=new d("1","2","1","14","-0.0000100136",0,0);this.V["1"]=new d("3","4","3","20","-0.0000100136",0,0);this.V["3"]=new d("7","8","7","10","1.5",0,0);this.V["7"]=new d("15","16","15","9","4.5",0,0);this.V["15"]=new d("31","32","31","2","5.5",0,0);this.V["31"]=new d("63","64","63","29","-0.0000100136",0,0);this.V["63"]=new d("123","124","123","24","-0.0000100136",0,0);this.V["123"]=new d("123","124","123","0","0",1,.207298);this.V["124"]=new d("123","124","123","0","0",1,.49076);this.V["64"]=new d("125","126","125","4","40.5",0,0);this.V["125"]=new d("125","126","125","0","0",1,-.00157835);this.V["126"]=new d("125","126","125","0","0",1,.934205);this.V["32"]=new d("65","66","65","135","5.5",0,0);this.V["65"]=new d("127","128","128","4","1272.5",0,0);this.V["127"]=new d("127","128","128","0","0",1,-.510333);this.V["128"]=new d("127","128","128","0","0",1,.18363);this.V["66"]=new d("129","130","129","24","-0.0000100136",0,0);this.V["129"]=new d("129","130","129","0","0",1,-.0464542);this.V["130"]=new d("129","130","129","0","0",1,.458833);this.V["16"]=new d("33","34","34","10","2.00001",0,0);this.V["33"]=new d("67","68","67","0","29.5",0,0);this.V["67"]=new d("131","132","131","2","39.5",0,0);this.V["131"]=new d("131","132","131","0","0",1,-.37577);this.V["132"]=new d("131","132","131","0","0",1,.512087);this.V["68"]=new d("133","134","134","140","1.5",0,0);this.V["133"]=new d("133","134","134","0","0",1,.321272);this.V["134"]=new d("133","134","134","0","0",1,-.675396);this.V["34"]=new d("69","70","70","2","24.5",0,0);this.V["69"]=new d("135","136","136","9","28.5",0,0);this.V["135"]=new d("135","136","136","0","0",1,-.0573845);this.V["136"]=new d("135","136","136","0","0",1,-.507455);this.V["70"]=new d("137","138","137","45","-0.0000100136",0,0);this.V["137"]=new d("137","138","137","0","0",1,-.503909);this.V["138"]=new d("137","138","137","0","0",1,.450886);this.V["8"]=new d("17","18","17","4","44189.5",0,0);this.V["17"]=new d("35","36","35","2","21.5",0,0);this.V["35"]=new d("71","72","72","0","19.5",0,0);this.V["71"]=new d("139","140","140","9","2.5",0,0);this.V["139"]=new d("139","140","140","0","0",1,.00403497);this.V["140"]=new d("139","140","140","0","0",1,-.312656);this.V["72"]=new d("141","142","141","135","96",0,0);this.V["141"]=new d("141","142","141","0","0",1,-.465786);this.V["142"]=new d("141","142","141","0","0",1,.159633);this.V["36"]=new d("73","74","73","130","89.5",0,0);this.V["73"]=new d("143","144","144","10","4.5",0,0);this.V["143"]=new d("143","144","144","0","0",1,-.76265);this.V["144"]=new d("143","144","144","0","0",1,-.580804);this.V["74"]=new d("145","146","146","10","16.5",0,0);this.V["145"]=new d("145","146","146","0","0",1,.296357);this.V["146"]=new d("145","146","146","0","0",1,-.691659);this.V["18"]=new d("37","38","38","9","1.5",0,0);this.V["37"]=new d("37","38","38","0","0",1,.993951);this.V["38"]=new d("75","76","75","0","19",0,0);this.V["75"]=new d("147","148","147","39","-0.0000100136",0,0);this.V["147"]=new d("147","148","147","0","0",1,-.346535);this.V["148"]=new d("147","148","147","0","0",1,-.995745);this.V["76"]=new d("147","148","147","0","0",1,-.99978);this.V["4"]=new d("9","10","9","5","4.5",0,0);this.V["9"]=new d("19","20","19","2","4.5",0,0);this.V["19"]=new d("39","40","39","140","7.5",0,0);this.V["39"]=new d("77","78","78","134","6.5",0,0);this.V["77"]=new d("149","150","150","7","11.5",0,0);this.V["149"]=new d("149","150","150","0","0",1,.729843);this.V["150"]=new d("149","150","150","0","0",1,.383857);this.V["78"]=new d("151","152","151","133","4.5",0,0);this.V["151"]=new d("151","152","151","0","0",1,.39017);this.V["152"]=new d("151","152","151","0","0",1,.0434342);this.V["40"]=new d("79","80","79","133","3.5",0,0);this.V["79"]=new d("153","154","154","8","4.5",0,0);this.V["153"]=new d("153","154","154","0","0",1,-.99536);this.V["154"]=new d("153","154","154","0","0",1,-.00943396);this.V["80"]=new d("155","156","155","125","-0.0000100136",0,0);this.V["155"]=new d("155","156","155","0","0",1,.266272);this.V["156"]=new d("155","156","155","0","0",1,.959904);this.V["20"]=new d("41","42","42","10","65.5",0,0);this.V["41"]=new d("81","82","82","7","10.5",0,0);this.V["81"]=new d("157","158","158","2","37.5",0,0);this.V["157"]=new d("157","158","158","0","0",1,-.701873);this.V["158"]=new d("157","158","158","0","0",1,.224649);this.V["82"]=new d("159","160","159","133","9.5",0,0);this.V["159"]=new d("159","160","159","0","0",1,.0955181);this.V["160"]=new d("159","160","159","0","0",1,-.58962);this.V["42"]=new d("83","84","83","39","-0.0000100136",0,0);this.V["83"]=new d("161","162","161","135","31",0,0);this.V["161"]=new d("161","162","161","0","0",1,-.229692);this.V["162"]=new d("161","162","161","0","0",1,.88595);this.V["84"]=new d("163","164","164","1","13.5",0,0);this.V["163"]=new d("163","164","164","0","0",1,-.992157);this.V["164"]=new d("163","164","164","0","0",1,.922159);this.V["10"]=new d("21","22","22","4","486",0,0);this.V["21"]=new d("43","44","44","133","4.5",0,0);this.V["43"]=new d("85","86","86","10","4.5",0,0);this.V["85"]=new d("165","166","166","4","158.5",0,0);this.V["165"]=new d("165","166","166","0","0",1,-.127778);this.V["166"]=new d("165","166","166","0","0",1,.955189);this.V["86"]=new d("165","166","166","0","0",1,-.994012);this.V["44"]=new d("87","88","88","1","3.5",0,0);this.V["87"]=new d("167","168","168","135","7",0,0);this.V["167"]=new d("167","168","168","0","0",1,-.997015);this.V["168"]=new d("167","168","168","0","0",1,.400821);this.V["88"]=new d("169","170","169","130","36",0,0);this.V["169"]=new d("169","170","169","0","0",1,-.898638);this.V["170"]=new d("169","170","169","0","0",1,.56129);this.V["22"]=new d("45","46","45","9","2.5",0,0);this.V["45"]=new d("89","90","90","9","1.5",0,0);this.V["89"]=new d("171","172","171","10","10.5",0,0);this.V["171"]=new d("171","172","171","0","0",1,.573986);this.V["172"]=new d("171","172","171","0","0",1,-.627266);this.V["90"]=new d("173","174","173","31","-0.0000100136",0,0);this.V["173"]=new d("173","174","173","0","0",1,.925273);this.V["174"]=new d("173","174","173","0","0",1,-.994805);this.V["46"]=new d("91","92","91","136","5.5",0,0);this.V["91"]=new d("175","176","175","10","10.5",0,0);this.V["175"]=new d("175","176","175","0","0",1,.548352);this.V["176"]=new d("175","176","175","0","0",1,-.879195);this.V["92"]=new d("177","178","178","8","14.5",0,0);this.V["177"]=new d("177","178","178","0","0",1,.457305);this.V["178"]=new d("177","178","178","0","0",1,-.998992);this.V["2"]=new d("5","6","5","10","2.5",0,0);this.V["5"]=new d("11","12","11","9","4.5",0,0);this.V["11"]=new d("23","24","24","10","4.00001",0,0);this.V["23"]=new d("47","48","48","133","5.5",0,0);this.V["47"]=new d("93","94","93","3","13.5",0,0);this.V["93"]=new d("179","180","179","138","15.5",0,0);this.V["179"]=new d("179","180","179","0","0",1,.658398);this.V["180"]=new d("179","180","179","0","0",1,-.927007);this.V["94"]=new d("181","182","182","3","15.5",0,0);this.V["181"]=new d("181","182","182","0","0",1,-.111351);this.V["182"]=new d("181","182","182","0","0",1,-.99827);this.V["48"]=new d("95","96","95","7","167",0,0);this.V["95"]=new d("183","184","183","132","36.5",0,0);this.V["183"]=new d("183","184","183","0","0",1,.895161);this.V["184"]=new d("183","184","183","0","0",1,-.765217);this.V["96"]=new d("185","186","186","137","6.00001",0,0);this.V["185"]=new d("185","186","186","0","0",1,-.851095);this.V["186"]=new d("185","186","186","0","0",1,.674286);this.V["24"]=new d("49","50","49","137","5.5",0,0);this.V["49"]=new d("97","98","97","5","23.5",0,0);this.V["97"]=new d("187","188","187","3","28.5",0,0);this.V["187"]=new d("187","188","187","0","0",1,.951654);this.V["188"]=new d("187","188","187","0","0",1,-.993808);this.V["98"]=new d("187","188","187","0","0",1,-.99705);this.V["50"]=new d("187","188","187","0","0",1,-.997525);this.V["12"]=new d("25","26","25","8","8.5",0,0);this.V["25"]=new d("51","52","52","10","4.00001",0,0);this.V["51"]=new d("99","100","100","133","5.5",0,0);this.V["99"]=new d("189","190","190","7","40.5",0,0);this.V["189"]=new d("189","190","190","0","0",1,.151839);this.V["190"]=new d("189","190","190","0","0",1,-.855517);this.V["100"]=new d("191","192","192","133","14.5",0,0);this.V["191"]=new d("191","192","192","0","0",1,.86223);this.V["192"]=new d("191","192","192","0","0",1,.544394);this.V["52"]=new d("101","102","101","135","47.5",0,0);this.V["101"]=new d("193","194","194","4","24.5",0,0);this.V["193"]=new d("193","194","194","0","0",1,.946185);this.V["194"]=new d("193","194","194","0","0",1,.811859);this.V["102"]=new d("193","194","194","0","0",1,-.991561);this.V["26"]=new d("53","54","54","132","6.5",0,0);this.V["53"]=new d("103","104","103","131","85",0,0);this.V["103"]=new d("195","196","196","134","16.5",0,0);this.V["195"]=new d("195","196","196","0","0",1,.0473538);this.V["196"]=new d("195","196","196","0","0",1,-.999401);this.V["104"]=new d("197","198","198","8","15.5",0,0);this.V["197"]=new d("197","198","198","0","0",1,.816129);this.V["198"]=new d("197","198","198","0","0",1,-.99322);this.V["54"]=new d("105","106","105","133","3.5",0,0);this.V["105"]=new d("105","106","105","0","0",1,-.998783);this.V["106"]=new d("199","200","199","39","-0.0000100136",0,0);this.V["199"]=new d("199","200","199","0","0",1,.528588);this.V["200"]=new d("199","200","199","0","0",1,-.998599);this.V["6"]=new d("13","14","14","10","7.5",0,0);this.V["13"]=new d("27","28","28","133","7.5",0,0);this.V["27"]=new d("55","56","56","10","4.5",0,0);this.V["55"]=new d("107","108","107","3","3.5",0,0);this.V["107"]=new d("201","202","201","4","17.5",0,0);this.V["201"]=new d("201","202","201","0","0",1,-.379512);this.V["202"]=new d("201","202","201","0","0",1,.15165);this.V["108"]=new d("203","204","203","57","-0.0000100136",0,0);this.V["203"]=new d("203","204","203","0","0",1,-.884606);this.V["204"]=new d("203","204","203","0","0",1,.265406);this.V["56"]=new d("109","110","109","136","6.5",0,0);this.V["109"]=new d("205","206","205","4","157.5",0,0);this.V["205"]=new d("205","206","205","0","0",1,-.0142737);this.V["206"]=new d("205","206","205","0","0",1,.691279);this.V["110"]=new d("205","206","205","0","0",1,-.998086);this.V["28"]=new d("57","58","58","138","11.5",0,0);this.V["57"]=new d("111","112","112","2","6.5",0,0);this.V["111"]=new d("207","208","208","7","67.5",0,0);this.V["207"]=new d("207","208","208","0","0",1,.763925);this.V["208"]=new d("207","208","208","0","0",1,-.309645);this.V["112"]=new d("209","210","209","40","-0.0000100136",0,0);this.V["209"]=new d("209","210","209","0","0",1,-.306635);this.V["210"]=new d("209","210","209","0","0",1,.556696);this.V["58"]=new d("113","114","113","138","50.5",0,0);this.V["113"]=new d("211","212","212","8","25.5",0,0);this.V["211"]=new d("211","212","212","0","0",1,.508234);this.V["212"]=new d("211","212","212","0","0",1,.793551);this.V["114"]=new d("211","212","212","0","0",1,-.998438);this.V["14"]=new d("29","30","29","134","27.5",0,0);this.V["29"]=new d("59","60","60","7","17.5",0,0);this.V["59"]=new d("115","116","115","135","5.5",0,0);this.V["115"]=new d("213","214","214","137","5.5",0,0);this.V["213"]=new d("213","214","214","0","0",1,.401747);this.V["214"]=new d("213","214","214","0","0",1,.0367503);this.V["116"]=new d("215","216","216","8","5.5",0,0);this.V["215"]=new d("215","216","216","0","0",1,-.0241984);this.V["216"]=new d("215","216","216","0","0",1,-.999046);this.V["60"]=new d("117","118","117","0","12.5",0,0);this.V["117"]=new d("217","218","218","132","5.5",0,0);this.V["217"]=new d("217","218","218","0","0",1,-.997294);this.V["218"]=new d("217","218","218","0","0",1,.210398);this.V["118"]=new d("219","220","219","137","1.5",0,0);this.V["219"]=new d("219","220","219","0","0",1,-.55763);this.V["220"]=new d("219","220","219","0","0",1,.074493);this.V["30"]=new d("61","62","62","133","42.5",0,0);this.V["61"]=new d("119","120","119","135","5.5",0,0);this.V["119"]=new d("221","222","222","4","473.5",0,0);this.V["221"]=new d("221","222","222","0","0",1,-.920213);this.V["222"]=new d("221","222","222","0","0",1,-.17615);this.V["120"]=new d("223","224","224","5","144",0,0);this.V["223"]=new d("223","224","224","0","0",1,-.954295);this.V["224"]=new d("223","224","224","0","0",1,-.382538);this.V["62"]=new d("121","122","121","133","50",0,0);this.V["121"]=new d("225","226","226","10","18.5",0,0);this.V["225"]=new d("225","226","226","0","0",1,-.0731343);this.V["226"]=new d("225","226","226","0","0",1,.755454);this.V["122"]=new d("227","228","228","0","30",0,0);this.V["227"]=new d("227","228","228","0","0",1,.25);this.V["228"]=new d("227","228","228","0","0",1,-.997101);}function c(g,e,h,k,l,m){this.Yva=l;this.Qma=m;}b=a(21457);f=a(79809);a={};a.G8b=new (function(){this.Y2b=f();this.ib=0;this.update=function(){this.ib=f() - this.Y2b;};this.type="num";})();a.pzc=new (function(){this.type="cat";})();a.qzc=new (function(){this.type="cat";})();a.szc=new (function(){this.type="cat";})();a.tzc=new (function(){this.type="cat";})();a.rzc=new (function(){this.type="cat";})();a.uzc=new (function(){this.type="cat";})();a.vzc=new (function(){this.type="cat";})();a.wzc=new (function(){this.type="cat";})();a.xzc=new (function(){this.type="cat";})();a.yzc=new (function(){this.type="cat";})();a.zzc=new (function(){this.type="cat";})();a.Azc=new (function(){this.type="cat";})();a.Czc=new (function(){this.type="cat";})();a.Dzc=new (function(){this.type="cat";})();a.Ezc=new (function(){this.type="cat";})();a.Bzc=new (function(){this.type="cat";})();a.z9b=new (function(){this.update=function(g){for(var e in g.qc)if("becauseYouAdded" === g.qc[e].context){this.ib=Math.max(g.qc[e].list.length,this.ib);break;}};this.type="num";this.ib=0;})();a.A9b=new (function(){this.update=function(g){for(var e in g.qc)if("becauseYouLiked" === g.qc[e].context){this.ib=Math.max(g.qc[e].list.length,this.ib);break;}};this.type="num";this.ib=0;})();a.C9b=new (function(){this.update=function(g){for(var e in g.qc)if("billboard" === g.qc[e].context){this.ib=Math.max(g.qc[e].list.length,this.ib);break;}};this.type="num";this.ib=0;})();a.pdc=new (function(){this.update=function(g){for(var e in g.qc)if("continueWatching" === g.qc[e].context){this.ib=Math.max(g.qc[e].list.length,this.ib);break;}};this.type="num";this.ib=0;})();a.B9b=new (function(){this.update=function(g){for(var e in g.qc)if("bigRow" === g.qc[e].context){this.ib=Math.max(g.qc[e].list.length,this.ib);break;}};this.type="num";this.ib=0;})();a.zoc=new (function(){this.update=function(g){for(var e in g.qc)if("genre" === g.qc[e].context){this.ib=Math.max(g.qc[e].list.length,this.ib);break;}};this.type="num";this.ib=0;})();a.EDc=new (function(){this.update=function(g){for(var e in g.qc)if("netflixOriginals" === g.qc[e].context){this.ib=Math.max(g.qc[e].list.length,this.ib);break;}};this.type="num";this.ib=0;})();a.NDc=new (function(){this.update=function(g){for(var e in g.qc)if("newRelease" === g.qc[e].context){this.ib=Math.max(g.qc[e].list.length,this.ib);break;}};this.type="num";this.ib=0;})();a.YIc=new (function(){this.update=function(g){for(var e in g.qc)if("popularTitles" === g.qc[e].context){this.ib=Math.max(g.qc[e].list.length,this.ib);break;}};this.type="num";this.ib=0;})();a.gg=new (function(){this.update=function(g){for(var e in g.qc)if("queue" === g.qc[e].context){this.ib=Math.max(g.qc[e].list.length,this.ib);break;}};this.type="num";this.ib=0;})();a.LLc=new (function(){this.update=function(g){for(var e in g.qc)if("recentlyAdded" === g.qc[e].context){this.ib=Math.max(g.qc[e].list.length,this.ib);break;}};this.type="num";this.ib=0;})();a.JRc=new (function(){this.update=function(g){for(var e in g.qc)if("similars" === g.qc[e].context){this.ib=Math.max(g.qc[e].list.length,this.ib);break;}};this.type="num";this.ib=0;})();a.nVc=new (function(){this.update=function(g){for(var e in g.qc)if("trendingNow" === g.qc[e].context){this.ib=Math.max(g.qc[e].list.length,this.ib);break;}};this.type="num";this.ib=0;})();a.KVc=new (function(){this.update=function(g){for(var e in g.qc)if("ultraHD" === g.qc[e].context){this.ib=Math.max(g.qc[e].list.length,this.ib);break;}};this.type="num";this.ib=0;})();a.dYc=new (function(){this.update=function(g){for(var e in g.qc)if("watchAgain" === g.qc[e].context){this.ib=Math.max(g.qc[e].list.length,this.ib);break;}};this.type="num";this.ib=0;})();a.bVc=new (function(){this.update=function(g){for(var e in g.qc)if("topTen" === g.qc[e].context){this.ib=Math.max(g.qc[e].list.length,this.ib);break;}};this.type="num";this.ib=0;})();a.xdc=new (function(){this.type="cat";})();a.ydc=new (function(){this.type="cat";})();a.zdc=new (function(){this.type="cat";})();a.Adc=new (function(){this.type="cat";})();a.Bdc=new (function(){this.type="cat";})();a.Cdc=new (function(){this.type="cat";})();a.Ddc=new (function(){this.type="cat";})();a.Edc=new (function(){this.type="cat";})();a.Fdc=new (function(){this.type="cat";})();a.Gdc=new (function(){this.type="cat";})();a.Hdc=new (function(){this.type="cat";})();a.Idc=new (function(){this.type="cat";})();a.Jdc=new (function(){this.type="cat";})();a.Kdc=new (function(){this.type="cat";})();a.Ldc=new (function(){this.type="cat";})();a.Mdc=new (function(){this.type="cat";})();a.Ndc=new (function(){this.type="cat";})();a.Odc=new (function(){this.type="cat";})();a.Pdc=new (function(){this.type="cat";})();a.Qdc=new (function(){this.type="cat";})();a.Rdc=new (function(){this.type="cat";})();a.Sdc=new (function(){this.type="cat";})();a.Tdc=new (function(){this.type="cat";})();a.Udc=new (function(){this.type="cat";})();a.Vdc=new (function(){this.type="cat";})();a.Wdc=new (function(){this.type="cat";})();a.Xdc=new (function(){this.type="cat";})();a.Ydc=new (function(){this.type="cat";})();a.Zdc=new (function(){this.type="cat";})();a.$dc=new (function(){this.type="cat";})();a.aec=new (function(){this.type="cat";})();a.bec=new (function(){this.type="cat";})();a.cec=new (function(){this.type="cat";})();a.dec=new (function(){this.type="cat";})();a.eec=new (function(){this.type="cat";})();a.fec=new (function(){this.type="cat";})();a.gec=new (function(){this.type="cat";})();a.hec=new (function(){this.type="cat";})();a.iec=new (function(){this.type="cat";})();a.jec=new (function(){this.type="cat";})();a.kec=new (function(){this.type="cat";})();a.lec=new (function(){this.type="cat";})();a.mec=new (function(){this.type="cat";})();a.nec=new (function(){this.type="cat";})();a.oec=new (function(){this.type="cat";})();a.pec=new (function(){this.type="cat";})();a.qec=new (function(){this.type="cat";})();a.rec=new (function(){this.type="cat";})();a.sec=new (function(){this.type="cat";})();a.tec=new (function(){this.type="cat";})();a.uec=new (function(){this.type="cat";})();a.vec=new (function(){this.type="cat";})();a.wec=new (function(){this.type="cat";})();a.xec=new (function(){this.type="cat";})();a.yec=new (function(){this.type="cat";})();a.zec=new (function(){this.type="cat";})();a.Aec=new (function(){this.type="cat";})();a.Bec=new (function(){this.type="cat";})();a.Cec=new (function(){this.type="cat";})();a.Dec=new (function(){this.type="cat";})();a.Eec=new (function(){this.type="cat";})();a.Fec=new (function(){this.type="cat";})();a.Gec=new (function(){this.type="cat";})();a.Hec=new (function(){this.type="cat";})();a.Iec=new (function(){this.type="cat";})();a.Jec=new (function(){this.type="cat";})();a.Kec=new (function(){this.type="cat";})();a.Lec=new (function(){this.type="cat";})();a.Mec=new (function(){this.type="cat";})();a.Nec=new (function(){this.type="cat";})();a.Oec=new (function(){this.type="cat";})();a.Pec=new (function(){this.type="cat";})();a.Qec=new (function(){this.type="cat";})();a.Rec=new (function(){this.type="cat";})();a.Sec=new (function(){this.type="cat";})();a.Tec=new (function(){this.type="cat";})();a.Uec=new (function(){this.type="cat";})();a.Vec=new (function(){this.type="cat";})();a.Wec=new (function(){this.type="cat";})();a.SLc=new (function(){this.type="cat";})();a.TLc=new (function(){this.type="cat";})();a.ULc=new (function(){this.type="cat";})();a.VLc=new (function(){this.type="cat";})();a.WLc=new (function(){this.type="cat";})();a.XLc=new (function(){this.type="cat";})();a.YLc=new (function(){this.type="cat";})();a.ZLc=new (function(){this.type="cat";})();a.$Lc=new (function(){this.type="cat";})();a.aMc=new (function(){this.type="cat";})();a.bMc=new (function(){this.type="cat";})();a.cMc=new (function(){this.type="cat";})();a.dMc=new (function(){this.type="cat";})();a.eMc=new (function(){this.type="cat";})();a.fMc=new (function(){this.type="cat";})();a.gMc=new (function(){this.type="cat";})();a.hMc=new (function(){this.type="cat";})();a.iMc=new (function(){this.type="cat";})();a.jMc=new (function(){this.type="cat";})();a.kMc=new (function(){this.type="cat";})();a.lMc=new (function(){this.type="cat";})();a.mMc=new (function(){this.type="cat";})();a.nMc=new (function(){this.type="cat";})();a.JTc=new (function(){this.update=function(g){"down" === g.direction && this.ib++;};this.type="num";this.ib=0;})();a.LTc=new (function(){this.update=function(g){"right" === g.direction && this.ib++;};this.type="num";this.ib=0;})();a.KTc=new (function(){this.update=function(g){"left" === g.direction && this.ib++;};this.type="num";this.ib=0;})();a.MTc=new (function(){this.update=function(g){"up" === g.direction && this.ib++;};this.type="num";this.ib=0;})();a.aCc=new (function(){this.ib=0;this.update=function(g){this.ib=Math.max(this.ib,g.rowIndex);};this.type="num";})();a.bCc=new (function(){this.ib=0;this.update=function(g){this.ib=Math.max(this.ib,g.Npb);};this.type="num";})();a.hCc=new (function(){this.bP=this.ib=0;this.update=function(g){this.bP++;this.ib=1 * (this.ib + g.rowIndex) / this.bP;};this.type="num";})();a.iCc=new (function(){this.bP=this.ib=0;this.update=function(g){this.bP++;return this.ib=1 * (this.ib + g.Npb) / this.bP;};this.type="num";})();a.LJc=new (function(){this.type="num";})();a.MJc=new (function(){this.type="num";})();n.prototype.XM=function(g){return this.Ukb(this.V["0"].$Lb(g),g);};n.prototype.Ukb=function(g,e){return "string" == typeof g?this.Ukb(this.V[g].$Lb(e),e):g;};d.prototype.$Lb=function(g){switch(this.lyc){case 0:switch(g.features[this.ega].type){case "cat":return null === g.features[this.ega].value?this.cXa:"missing" == g.features[this.ega].value?this.SD:this.gV;case "num":return null === g.features[this.ega].value?this.SD:g.features[this.ega].value < this.split?this.gV:this.cXa;default:return this.SD;}case 1:return this.XM;default:return this.XM;}};b.declare({tca:["modelSelector","modelone"],vcc:["colEpisodeList",5],cvc:["holdDuration",15E3],HLb:["rowFirst",2],Mpb:["colFirst",5],ILb:["rowScroll",2],Opb:["colScroll",6],nOc:["rowScrollHorizontal",6],TOc:["searchTop",3],Prb:["cwFirst",2],vaa:["horizontalItemsFocusedMode",3],oyc:["itemsPerRank",1],PBc:["maxNumberPayloadsStored",10],fEb:["maxNumberTitlesScheduled",5],T7c:["enableDetailedLogging",!0],Zcd:["rowStep",20],D6c:["colStep",15],$bd:["pageRows",100],Zbd:["pageColumns",75],lWa:["maskParamsList",new (function(){var g,e;this.lWa=[];this.Gp={};this.Yva=20;this.Qma=15;for(g=0;100 > g;g++)for(e=0;75 > e;e++)(Math.floor(g / this.Yva) + "_" + Math.floor(e / this.Qma) in this.Gp) || (this.Gp[Math.floor(g / this.Yva) + "_" + Math.floor(e / this.Qma)]=1,this.lWa.push(new c("grid",10,5,5,Math.floor(g / this.Yva),Math.floor(e / this.Qma))));})().lWa],V:["nodes",new n().V],mapping:["mapping",{bCc:"0",iCc:"1",aCc:"2",hCc:"3",G8b:"4",MTc:"5",KTc:"6",LTc:"7",JTc:"8",MJc:"9",LJc:"10",pzc:"11",qzc:"12",szc:"13",tzc:"14",rzc:"15",uzc:"16",vzc:"17",wzc:"18",xzc:"19",yzc:"20",zzc:"21",Azc:"22",Bzc:"23",Czc:"24",Dzc:"25",Ezc:"26",SLc:"27",TLc:"28",ULc:"29",VLc:"30",WLc:"31",XLc:"32",YLc:"33",ZLc:"34",$Lc:"35",aMc:"36",bMc:"37",cMc:"38",dMc:"39",eMc:"40",fMc:"41",gMc:"42",hMc:"43",iMc:"44",jMc:"45",kMc:"46",lMc:"47",mMc:"48",nMc:"49",xdc:"50",ydc:"51",zdc:"52",Adc:"53",Bdc:"54",Cdc:"55",Ddc:"56",Edc:"57",Fdc:"58",Gdc:"59",Hdc:"60",Idc:"61",Jdc:"62",Kdc:"63",Ldc:"64",Mdc:"65",Ndc:"66",Odc:"67",Pdc:"68",Qdc:"69",Rdc:"70",Sdc:"71",Tdc:"72",Udc:"73",Vdc:"74",Wdc:"75",Xdc:"76",Ydc:"77",Zdc:"78",$dc:"79",aec:"80",bec:"81",cec:"82",dec:"83",eec:"84",fec:"85",gec:"86",hec:"87",iec:"88",jec:"89",kec:"90",lec:"91",mec:"92",nec:"93",oec:"94",pec:"95",qec:"96",rec:"97",sec:"98",tec:"99",uec:"100",vec:"101",wec:"102",xec:"103",yec:"104",zec:"105",Aec:"106",Bec:"107",Cec:"108",Dec:"109",Eec:"110",Fec:"111",Gec:"112",Hec:"113",Iec:"114",Jec:"115",Kec:"116",Lec:"117",Mec:"118",Nec:"119",Oec:"120",Pec:"121",Qec:"122",Rec:"123",Sec:"124",Tec:"125",Uec:"126",Vec:"127",Wec:"128",dYc:"129",LLc:"130",JRc:"131",gg:"132",pdc:"133",zoc:"134",nVc:"135",bVc:"136",C9b:"137",NDc:"138",KVc:"139",YIc:"140",z9b:"141",B9b:"142",A9b:"143",EDc:"144"}],features:["features",a],c5c:["_modelName","tree"],$4c:["_format","xgboost"],b5c:["_itemsToKeep",5],a5c:["_itemsThreshold",null],d6c:["cacheLimit",20]});t.exports={config:b,Gad:c,$6c:d};},45578:function(t){t.exports={YE:{lHa:0,kgb:1,aq:2,name:["transient","semiTransient","permanent"]},SE:{j9a:0,jgb:1,mja:2,L5:3,rF:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},L4c:{u4c:0,J1c:1,j_c:2,rF:100,name:["trailer","montage","content"]},oC:{Aab:0,Nfb:1,v1b:2,OVb:3,rF:100,name:["left","right","up","down"]},m5:{XUb:0,mja:1,c1c:2,x0c:3,CZc:4,a1c:5,RTb:6,rF:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},NV:{L5:0,G7a:1,rF:100,name:["playFocused","detailsOpened"]}};},90638:function(t,b,a){var c,f,g,e,h,k,l,m,p,q;function d(r,u){this.An=r;this.uq=u;}function n(r){this.sb=r;this.reset();}c=a(79809);f=a(45578);b=a(76122);g=a(94030).config;e=b.Bpc;h=b.cpc;k=b.wic;l=b.WEc;m=b.VEc;p=b.UEc;q=b.bvb;n.prototype.constructor=n;n.prototype.reset=function(){this.Dkb=void 0;this.Un=[];this.wkb=this.xkb=!1;};n.prototype.update=function(r,u){var v;this.Un && (this.Un=this.Un.filter(this.rRc,this));if(!1 === this.xkb){v=e(r.qc).slice(0,g.Prb);0 < v.length && (this.AS(v,f.YE.aq),this.xkb=!0,this.Un=this.RU(v.concat(this.Un)));}!1 === this.wkb && (v=h(r.qc).slice(0,g.Prb),0 < v.length && (this.AS(v,f.YE.aq),this.wkb=!0,this.Un=this.RU(v.concat(this.Un))));switch(u){case f.SE.j9a:u=this.$tc(r);break;case f.SE.jgb:u=this.ouc(r);break;case f.SE.mja:u=this.puc(r);break;case f.SE.L5:u=this.juc(r);break;default:u=this.Wtc(r);}this.Dkb=r;return u;};n.prototype.$tc=function(r){r=l(r.qc,g.HLb,g.Mpb);this.AS(r,f.YE.aq);return this.Un=this.RU(this.Un.concat(r));};n.prototype.ouc=function(r){var u,v;this.sb.log("handleScrollHorizontal");u=r.qc;r=l(u,g.ILb,g.Opb);v=k(u,this.Dkb.qc);u=u[v].list.slice(0,g.nOc);u.concat(r);this.AS(u,f.YE.lHa);return this.RU(u.concat(this.Un));};n.prototype.AS=function(r,u){r.forEach(function(v){if(void 0 === v.nK || v.nK < u)v.nK=u;void 0 === v.sN && (v.sN=c());void 0 === v.kp && (v.kp=c());});};n.prototype.puc=function(r){this.sb.log("handleSearch");r=m(r.qc,g.TOc);this.AS(r,f.YE.kgb);this.Un=r.concat(this.Un);return this.Un=this.RU(this.Un);};n.prototype.juc=function(r){var u,v,w,x,y;this.sb.log("handlePlayFocus: ",g.vaa);u=r.direction;v=r.qc;r=[];w=q(v);if(void 0 !== w.An)switch((r.push(w),u)){case f.oC.Nfb:for(u=1;u < g.vaa;u++)r.push(new d(w.An,w.uq + u));r.push(new d(w.An - 1,w.uq));r.push(new d(w.An + 1,w.uq));break;case f.oC.Aab:for(u=1;u < g.vaa;u++)r.push(new d(w.An,w.uq - u));r.push(new d(w.An - 1,w.uq));r.push(new d(w.An + 1,w.uq));break;case f.oC.v1b:r.push(new d(w.An - 1,w.uq));for(u=1;u <= g.vaa / 2;u++)(r.push(new d(w.An,w.uq + u)),r.push(new d(w.An,w.uq - u)));break;case f.oC.OVb:for((r.push(new d(w.An + 1,w.uq)),u=1);u <= g.vaa / 2;u++)(r.push(new d(w.An,w.uq + u)),r.push(new d(w.An,w.uq - u)));}x=[];r.forEach(function(A){y=p(v,A.An,A.uq);void 0 !== y && x.push(y);});this.AS(x,f.YE.lHa);return this.RU(x.concat(this.Un));};n.prototype.Wtc=function(r){this.sb.log("ModelOne: handleDefaultCase");r=l(r.qc,g.ILb,g.Opb);this.AS(r,f.YE.lHa);return this.RU(r.concat(this.Un));};n.prototype.rRc=function(r){return r.nK == f.YE.aq | r.nK == f.YE.kgb & c() - r.sN < g.cvc;};n.prototype.RU=function(r){var u,v,w,x,y,A,z;u=[];v={};x=0;y=r.length;for(w=0;w < y;w++){A=r[w].J;z=r[w];!1 === (A in v)?(u.push(z),v[A]=x,x++):(A=u[v[A]],z.kp < A.kp && (A.kp=z.kp),z.nK > A.nK && (A.nK=z.nK),z.sN > A.sN && (A.sN=z.sN));}return u;};t.exports=n;},7795:function(t){function b(d,n){var c;if(void 0 === n || "function" !== typeof n || "string" !== typeof d)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.vi)return (this.vi={},this.vi[d]=[n],!0);c=this.vi[d];return void 0 === c?(this.vi[d]=[n],!0):0 > c.indexOf(n)?(c.push(n),!0):!1;}function a(d,n){d=this.vi?this.vi[d]:void 0;if(!d)return !1;d.forEach(function(c){c(n);});return !0;}t.exports={addEventListener:b,on:b,removeEventListener:function(d,n){var c;if(void 0 === n || "function" !== typeof n || "string" !== typeof d)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.vi)return !1;c=this.vi[d];if(void 0 === c)return !1;n=c.indexOf(n);if(0 > n)return !1;if(1 === c.length)return (delete this.vi[d],!0);c.splice(n,1);return !0;},rq:a,emit:a,removeAllListeners:function(d){this.vi && (void 0 === d?delete this.vi:delete this.vi[d]);return this;}};},65267:function(t){function b(d,n,c,f){d.trace(":",c,":",f);n(f);}function a(d){this.listeners=[];this.console=d;}a.prototype.constructor=a;a.prototype.addEventListener=function(d,n,c,f){c=f?c.bind(f):c;f=!1;if(d){this.console && (c=b.bind(null,this.console,c,n));if("function" === typeof d.addEventListener)f=d.addEventListener(n,c);else if("function" === typeof d.addListener)f=d.addListener(n,c);else throw Error("Emitter does not have a function to add listeners for '" + n + "'");this.listeners.push([d,n,c]);}return f;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var d;d=this.listeners.length;this.listeners.forEach(function(n){var c,f;c=n[0];f=n[1];n=n[2];"function" === typeof c.removeEventListener?c.removeEventListener(f,n):"function" === typeof c.removeListener && c.removeListener(f,n);});this.listeners=[];this.console && this.console.trace("removed",d,"listener(s)");};t.exports=a;},41628:function(t,b,a){t.exports={EventEmitter:a(7795),kf:a(65267)};},99886:function(t,b,a){var f,g,e,h,k,l,m;function d(p,q,r,u,v,w){this.R=this.J=p;this.priority=q;this.od=r;w && w.jf && (this.jf=w.jf);void 0 !== u && (this.f1=u);this.kp=v;this.Cb=w;}function n(p,q,r,u,v){e(void 0 !== u,"video preparer is null");e(void 0 !== v,"ui preparer is null");this.sb=q || console;this.sb=q;this.xa=r;this.j5b=u;this.a5b=v;this.Ckb=l.qZa;this.XW=[];this.XJa=!1;this.y6=0;new m().on(l,"changed",c,this);this.reset();}function c(){this.sb.log("config changed");l.qZa && (this.Ckb=l.qZa);l.tca !== this.RW && (this.reset(),this.y_a());}f=a(79809);g=a(45578);b=a(76122);e=b.assert;h=b.bvb;k=a(90638);l=a(94030).config;m=a(41628).kf;l.declare({qZa:["ppmConfig",{b_c:{gGb:0,fGb:2,cGb:0,dGb:5,ANb:0},b4c:{gGb:0,fGb:1,cGb:0,dGb:3,ANb:1E3},q_c:{gGb:0,fGb:1,cGb:0,dGb:3,ANb:1E3}}]});n.prototype.constructor=n;n.prototype.reset=function(){this.GIa=!0;this.RW=l.tca;this.sb.log("create model: " + l.tca,l.HLb,l.Mpb);switch(l.tca){case "modelone":this.RW=new k(this.sb);break;default:this.RW=new k(this.sb);}};n.prototype.y_a=function(){var q,r;if(!1 === this.XJa){this.XJa=!0;for(var p=0;p < this.XW.length;p++){this.sb.log("PlayPredictionModel replay: ",JSON.stringify(this.XW[p]));q=this.uqb(this.XW[p]);r=this.cwb(q);this.RW.update(q,r);this.GIa=!1;}this.XW=[];}};n.prototype.update=function(p){var q,r,u;this.sb.log("PlayPredictionModel update: ",JSON.stringify(p));if(p && p.qc && p.qc[0]){!1 === this.XJa && this.XW.length < l.PBc && this.XW.push(p);q=this.uqb(p);r=this.cwb(q);this.sb.log("actionType",r);q="mlmodel" == l.tca?this.RW.update(p,r):this.RW.update(q,r);q=this.voc(q,l.oyc || 1);this.sb.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(q));0 === this.y6 && (this.y6=f(),this.xa && this.xa.Qda && this.xa.Qda({sic:this.y6}));if(this.xa && this.xa.WMc){this.Lpc();u=[];q.forEach(function(v){u.push({ted:v.J});});JSON.stringify(p);JSON.stringify(q);}this.j5b.rT(q);this.a5b.rT(q);this.GIa=!1;}};n.prototype.Lpc=function(){f();};n.prototype.Qda=function(){this.y6=f();this.xa && this.xa.Qda && this.xa.Qda({sic:this.y6});};n.prototype.uqb=function(p){var q,r,u,v,w;q={};u=p.qc || [];v=(function(x){var y,A;y={};w=g.m5.name.indexOf(x.context);y.context=0 <= w?w:g.m5.rF;y.rowIndex=x.rowIndex;y.requestId=x.requestId;y.list=[];r=x.list || [];r.forEach((function(z){A={J:z.J,od:z.od,index:z.index,f1:z.f1,Vua:z.Vua,list:z.list,Cb:z.Cb};void 0 !== z.property && (w=g.NV.name.indexOf(z.property),A.property=0 <= w?w:g.NV.rF);y.list.push(A);}).bind(this));q.qc.push(y);}).bind(this);if(void 0 !== p.direction){w=g.oC.name.indexOf(p.direction);q.direction=0 <= w?w:g.oC.rF;}void 0 !== p.d$ && (q.C8c=p.d$.rowIndex,q.B8c=p.d$.Bcc);q.d$=p.d$;q.qc=[];u.forEach(v);return q;};n.prototype.cwb=function(p){var q,r,u;q=p.direction || g.oC.rF;r=p.d$;u=p.qc || [];!0 === this.GIa?p=g.SE.j9a:!0 === u.some(this.Kuc)?(p=g.SE.L5,this.Lva(u,q,r)):p=u[0].context === g.m5.mja?g.SE.mja:q === g.oC.Nfb || q === g.oC.Aab?g.SE.jgb:g.SE.rF;return p;};n.prototype.Kuc=function(p){return (p.list || []).some(function(q){return q.property === g.NV.L5 || q.property === g.NV.G7a;});};n.prototype.Lva=function(p,q,r){var u,v;this.sb.log("reportPlayFocusEvent: ",q,r);u={};v=h(p);this.xa && this.xa.Lva && (u.i8c=f(),u.direction=g.oC.name[q],r && (u.rowIndex=r.rowIndex,u.Npb=r.Bcc),void 0 !== v.An && (u.requestId=p[v.An].requestId),this.xa.Lva && this.xa.Lva(u));};n.prototype.voc=function(p,q){for(var r=p.length,u=[],v,w,x,y,A=0;A < r;A++){w=p[A];v=Math.floor(A / q) + 1;if(void 0 !== w.list){x=w.list;y=x.length;for(var z=0;z < Math.min(l.vcc,y) && !(x[z].kp=w.kp,this.cmb(x[z],v,u),u.length >= l.fEb);z++);}else this.cmb(w,v,u);if(u.length >= l.fEb)break;}return u;};n.prototype.cmb=function(p,q,r){var v,w;function u(x){x.jf && (x.Cb || (x.Cb={}),x.Cb.jf=x.jf);return x.Cb;}v=p.Vua;if(void 0 !== v && v instanceof Array)v.forEach(function(x){void 0 !== x.J && (w=u(x),r.push(new d(x.J,q,x.od,x.f1,p.kp,w)));});else if(void 0 !== v && void 0 !== v.J){v=p.Vua;w=u(v);r.push(new d(v.J,q,v.od,v.f1,p.kp,w));}void 0 !== p.J && (w=u(p),r.push(new d(p.J,q,p.od,p.f1,p.kp,w)));};n.prototype.jR=function(p){var q;q=this.Ckb;return p?q[p]:q;};t.exports=n;},76122:function(t,b,a){var n;function d(c){for(var f="",g=0;g < c.length;g++)f+=c[g].J + "|";return f;}n=a(45578);t.exports={assert:function(c,f){if(!c)throw Error("PlayPredictionModel assertion failed" + (f?" : " + f:""));},h$c:function(c,f,g){Array.prototype.splice.apply(c,[f,0].concat(g));},Bpc:function(c){for(var f=[],g=0;g < c.length;g++)if(c[g].context === n.m5.XUb){f=c[g].list;break;}return f;},cpc:function(c){for(var f=[],g=0;g < c.length;g++)if(c[g].context === n.m5.RTb){f=c[g].list;break;}return f;},wic:function(c,f){for(var g=0,e,h,k,l=0,m=c.length - 1;l < m;l++){e=d(c[l].list || []);k=!1;for(var p=0,q=f.length;p < q;p++)if((h=d(f[p].list || []),h == e)){k=!0;break;}if(!1 === k){g=l;break;}}return g;},WEc:function(c,f,g){for(var e=[],h,k=0;k < Math.min(f,c.length);k++)(h=c[k].list || [],e=e.concat(h.slice(0,g)));return e;},VEc:function(c,f){for(var g=[],e,h=0;h < c.length && (e=c[h].list || [],e=e.slice(0,Math.min(e.length,f)),f-=e.length,g=g.concat(e),0 !== f);h++);return g;},UEc:function(c,f,g){var e;f < c.length && 0 <= f && (c=c[f].list || [],g < c.length && (e=c[g]));return e;},bvb:function(c){for(var f={},g=c.length,e,h=0;h < g;h++){e=c[h].list || [];for(var k=0;k < e.length;k++)if(e[k].property === n.NV.L5 || e[k].property === n.NV.G7a){f.An=h;f.uq=k;break;}}void 0 === f.An && void 0 === f.uq && (f.An=0,f.uq=0);return f;}};},21457:function(t,b,a){var h,k,l,m,p,q,r,u;function d(v){return v.split(",").reduce(function(w,x){var y;y=x.split("=");x=y[0];y=y.slice(1).join("=");x && x.length && (w[x]=y || !0);return w;},{});}function n(v){return v && "object" === typeof v?JSON.stringify(v):"string" === typeof v?'"' + v + '"':"" + v;}function c(v,w,x){var y;if("string" === typeof v)return c.call(this,d(v),w,x);y=0;Object.keys(v).forEach(function(A){var z,B,C;z=p[A];B=v[A];if(z){if(C=q[A] || u[typeof h[z]])try{B=C(B);}catch(D){x && x.error("Failed to convert value '" + B + "' for config '" + A + "' : " + D.toString());return;}C=m[z];this[z]=B;m[z] !== C && (x && x.debug("Config changed for '" + A + "' from " + n(C) + " (" + typeof C + ") to " + n(B) + " (" + typeof B + ")"),++y);}else w?(z=(z=r[A])?z.filter(function(D){return D[0] !== this;},this):[],z.push([this,B]),r[A]=z):x && x.error("Attempt to change undeclared config option '" + A + "'");},this);y && m.emit("changed");return y;}function f(){return Object.keys(p).reduce(function(v,w){var x,y;x=p[w];y=v[x];y?(y.push(w),v[x]=y.sort(function(A,z){return z.length - A.length;})):v[x]=[w];return v;},{});}function g(v,w){return v.hasOwnProperty(w)?n(v[w]):void 0;}function e(v,w){return "undefined" === typeof v?w:v;}b=a(31503);a=a(37911).EventEmitter;h={};k=Object.create(h);l=Object.create(k);m=Object.create(l);p={};q={};r={};m.declare=function(v){Object.keys(v).forEach(function(w){var x,y,A,z;x=v[w];y=x[0];A=x[1];z=x[2];if(h.hasOwnProperty(w))throw Error("The local configuraion key '" + w + "' is already in use");"string" === typeof y && (y=[y]);y.forEach(function(B){var C;if(p.hasOwnProperty(B))throw Error("The configuration value '" + B + "' has been declared more than once");h.hasOwnProperty(w) || ("function" === typeof A && (A=A()),h[w]=A);p[B]=w;"function" === typeof z && (q[B]=z);if(C=r[B])(C.forEach(function(D){var E,H;E=D[0];H={};H[B]=D[1];c.call(E,H,!1);}),delete r[B]);});});return m;};u={object:function(v){return "object" == typeof v?v:JSON.parse("" + v);},"boolean":function(v){return "boolean" == typeof v?v:!("0" === "" + v || "false" === ("" + v).toLowerCase());},number:function(v){if("number" == typeof v)return v;v=parseFloat("" + v);if(isNaN(v))throw Error("parseFloat returned NaN");return v;}};m.set=c.bind(k);m.mYa=c.bind(l);m.dump=function(v,w){var y,A,z,B;function x(){B && v && v.log("===========================================");}y=Object.keys(r).sort();A={};z=f();w=e(w,!0);Object.keys(p).sort().forEach(function(C){var D,E,H;C=p[C];if(!A[C]){A[C]=!0;D=g(k,C);E=g(l,C);if(w || "undefined" !== typeof D || "undefined" !== typeof E){H=z[C].join(",");H+=" = " + n(m[C]) + " (" + typeof m[C] + ") [";H+=e(E,"<unset>") + ",";H+=e(D,"<unset>") + ",";H+=g(h,C) + "]";B || (B=!0,v && v.log("Current config values"),x());v && v.log(H);}}});(w || y.length) && v && v.log("<undeclared> :",y);x();};m.Wt=function(v){var w,x;w={};x={};Object.keys(p).forEach(function(y){y=p[y];x[y] || (x[y]=!0,w[y]=m[y]);});v && c.call(w,v);return w;};m.hIc=function(){var v;v=f();return Object.getOwnPropertyNames(k).reduce(function(w,x){w[v[x][0]]=k[x];return w;},{});};m.reset=function(){Object.keys(k).forEach(function(v){delete k[v];});};m.vi={};b(a,m);t.exports=Object.freeze(m);},76295:function(t){function b(d,n){var c;if(void 0 === n || "function" !== typeof n || "string" !== typeof d)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.vi)return (this.vi={},this.vi[d]=[n],!0);c=this.vi[d];return void 0 === c?(this.vi[d]=[n],!0):0 > c.indexOf(n)?(c.push(n),!0):!1;}function a(d,n){d=this.vi?this.vi[d]:void 0;if(!d)return !1;d.forEach(function(c){c(n);});return !0;}t.exports={addEventListener:b,on:b,removeEventListener:function(d,n){var c;if(void 0 === n || "function" !== typeof n || "string" !== typeof d)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.vi)return !1;c=this.vi[d];if(void 0 === c)return !1;n=c.indexOf(n);if(0 > n)return !1;if(1 === c.length)return (delete this.vi[d],!0);c.splice(n,1);return !0;},rq:a,emit:a,removeAllListeners:function(d){this.vi && (void 0 === d?delete this.vi:delete this.vi[d]);return this;}};},92653:function(t){function b(d,n,c,f){d.trace(":",c,":",f);n(f);}function a(d){this.listeners=[];this.console=d;}a.prototype.constructor=a;a.prototype.addEventListener=function(d,n,c,f){c=f?c.bind(f):c;f=!1;if(d){this.console && (c=b.bind(null,this.console,c,n));if("function" === typeof d.addEventListener)f=d.addEventListener(n,c);else if("function" === typeof d.addListener)f=d.addListener(n,c);else throw Error("Emitter does not have a function to add listeners for '" + n + "'");this.listeners.push([d,n,c]);}return f;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var d;d=this.listeners.length;this.listeners.forEach(function(n){var c,f;c=n[0];f=n[1];n=n[2];"function" === typeof c.removeEventListener?c.removeEventListener(f,n):"function" === typeof c.removeListener && c.removeListener(f,n);});this.listeners=[];this.console && this.console.trace("removed",d,"listener(s)");};t.exports=a;},37911:function(t,b,a){t.exports={EventEmitter:a(76295),kf:a(92653)};},17267:function(t){var b;b={pc:function(a){return "number" === typeof a;},TA:function(a){return "object" === typeof a;},Fi:function(a){return "string" === typeof a;},ky:function(a){return "undefined" === typeof a;},n$c:function(a){return "boolean" === typeof a;},dy:function(a){return "function" === typeof a;},sd:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,d){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,d);},jHc:function(a){var d,n;n=[];if(!b.TA(a))throw new TypeError("Object.pairs called on non-object");for(d in a)a.hasOwnProperty(d) && n.push([d,a[d]]);return n;}};b.w9=b.forEach=function(a,d,n){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var c=0,f=a.length;c < f;c++)d.call(n,a[c],c,a);else for(c in a)b.has(a,c) && d.call(n,a[c],c,a);return a;};t.exports=b;},75691:function(t,b,a){var d,n,c,f,g,e,h,k,l,m;if(!Object.keys){d=Object.prototype.hasOwnProperty;n=Object.prototype.toString;c=a(30801);b=Object.prototype.propertyIsEnumerable;f=!b.call({toString:null},"toString");g=b.call(function(){},"prototype");e=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");h=function(p){var q;q=p.constructor;return q && q.prototype === p;};k={KYc:!0,LYc:!0,MYc:!0,NYc:!0,OYc:!0,PYc:!0,QYc:!0,RYc:!0,SYc:!0,TYc:!0,UYc:!0,VYc:!0,WYc:!0,XYc:!0,YYc:!0,ZYc:!0,$Yc:!0,aZc:!0,bZc:!0,cZc:!0,dZc:!0,eZc:!0,fZc:!0};l=(function(){if("undefined" === typeof Ba)return !1;for(var p in Ba)try{if(!k["$" + p] && d.call(Ba,p) && null !== Ba[p] && "object" === typeof Ba[p])try{h(Ba[p]);}catch(q){return !0;}}catch(q){return !0;}return !1;})();m=function(p){var q,r,u,v,w,y;q=null !== p && "object" === typeof p;r="[object Function]" === n.call(p);u=c(p);v=q && "[object String]" === n.call(p);w=[];if(!q && !r && !u)throw new TypeError("Object.keys called on a non-object");q=g && r;if(v && 0 < p.length && !d.call(p,0))for(v=0;v < p.length;++v)w.push(String(v));if(u && 0 < p.length)for(u=0;u < p.length;++u)w.push(String(u));else for(var x in p)q && "prototype" === x || !d.call(p,x) || w.push(String(x));if(f){if("undefined" !== typeof Ba && l)try{y=h(p);}catch(A){y=!1;}else y=h(p);for(u=0;u < e.length;++u)y && "constructor" === e[u] || !d.call(p,e[u]) || w.push(e[u]);}return w;};}t.exports=m;},33464:function(t,b,a){var d,n,c,f,g;d=Array.prototype.slice;n=a(30801);c=Object.keys;f=c?function(e){return c(e);}:a(75691);g=Object.keys;f.bRc=function(){Object.keys?(function(){var e;e=Object.keys(arguments);return e && e.length === arguments.length;})(1,2) || (Object.keys=function(e){return n(e)?g(d.call(e)):g(e);}):Object.keys=f;return Object.keys || f;};t.exports=f;},30801:function(t){var b;b=Object.prototype.toString;t.exports=function(a){var d,n;d=b.call(a);n="[object Arguments]" === d;n || (n="[object Array]" !== d && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return n;};},61386:function(t,b,a){var g,e,h,k;function d(l){var m,p,q;if("Object" !== h(this))throw new TypeError("receiver is not an Object");m=e(this,k);p=l;q=l;g(l) && (p=c(m,l),q=n(m,l));return this.then(p,q);}function n(l,m){return function(p){var q;q=m();return f(l,q).then(function(){throw p;});};}function c(l,m){return function(p){var q;q=m();return f(l,q).then(function(){return p;});};}function f(l,m){return new l(function(p){p(m);});}a(57897)();g=a(83317);e=a(88251);h=a(18132);k=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(d,"name")) && b.configurable && Object.defineProperty(d,"name",{configurable:!0,value:"finally"});t.exports=d;},32887:function(t,b,a){var d,n;d=a(57897);n=a(61386);t.exports=function(){d();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:n;};},57897:function(t){t.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},65574:function(t,b,a){var d,n,c;d=a(57897);n=a(32887);c=a(14926);t.exports=function(){var f;d();f=n();c(Promise.prototype,{"finally":f},{"finally":function(){return Promise.prototype["finally"] !== f;}});return f;};},23614:function(t,b,a){var d;d=a(35375);b=a(31187)(function(n,c){return d(n.length,function(){return n.apply(c,arguments);});});t.exports=b;},57301:function(t,b,a){var d,n,c,f,g;b=a(31187);d=a(55446);n=a(89028);c=a(77894);f=a(67758);g=a(75850);a=b(function(e,h){return n(g(c,0,f("length",h)),function(){var k,l;k=arguments;l=this;return e.apply(l,d(function(m){return m.apply(l,k);},h));});});t.exports=a;},89028:function(t,b,a){var d,n,c;d=a(35375);n=a(16805);b=a(31187);c=a(16500);a=b(function(f,g){return 1 === f?n(g):d(f,c(f,[],g));});t.exports=a;},5154:function(t,b,a){var d;d=a(25701);b=a(20239)(function(n,c,f){for(var g=[],e=0,h=c.length;e < h;)(d(n,c[e],f) || d(n,c[e],g) || g.push(c[e]),e+=1);return g;});t.exports=b;},42514:function(t,b,a){var d,n,c,f,g,e;b=a(31187);d=a(8414);n=a(46458);c=a(78678);f=a(18468);g=a(14128);e=a(93358);a=b(d(["filter"],g,function(h,k){return c(k)?f(function(l,m){h(k[m]) && (l[m]=k[m]);return l;},{},e(k)):n(h,k);}));t.exports=a;},56663:function(t,b,a){b=a(31187)(function(d,n){for(var c=[],f=0,g=n.length;f < g;){for(var e=f + 1;e < g && d(n[e - 1],n[e]);)e+=1;c.push(n.slice(f,e));f=e;}return c;});t.exports=b;},35375:function(t){t.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(d){return a.apply(this,arguments);};case 2:return function(d,n){return a.apply(this,arguments);};case 3:return function(d,n,c){return a.apply(this,arguments);};case 4:return function(d,n,c,f){return a.apply(this,arguments);};case 5:return function(d,n,c,f,g){return a.apply(this,arguments);};case 6:return function(d,n,c,f,g,e){return a.apply(this,arguments);};case 7:return function(d,n,c,f,g,e,h){return a.apply(this,arguments);};case 8:return function(d,n,c,f,g,e,h,k){return a.apply(this,arguments);};case 9:return function(d,n,c,f,g,e,h,k,l){return a.apply(this,arguments);};case 10:return function(d,n,c,f,g,e,h,k,l,m){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},48925:function(t){t.exports=function(b){return function(){return !b.apply(this,arguments);};};},86614:function(t){t.exports=function(b,a){var d,n,c,f;b=b || [];a=a || [];n=b.length;c=a.length;f=[];for(d=0;d < n;)(f[f.length]=b[d],d+=1);for(d=0;d < c;)(f[f.length]=a[d],d+=1);return f;};},25701:function(t){t.exports=function(b,a,d){for(var n=0,c=d.length;n < c;){if(b(a,d[n]))return !0;n+=1;}return !1;};},16805:function(t,b,a){var d;d=a(28198);t.exports=function(n){return function g(f){return 0 === arguments.length || d(f)?g:n.apply(this,arguments);};};},31187:function(t,b,a){var d,n;d=a(16805);n=a(28198);t.exports=function(c){return function h(g,e){switch(arguments.length){case 0:return h;case 1:return n(g)?h:d(function(k){return c(g,k);});default:return n(g) && n(e)?h:n(g)?d(function(k){return c(k,e);}):n(e)?d(function(k){return c(g,k);}):c(g,e);}};};},20239:function(t,b,a){var d,n,c;d=a(16805);n=a(31187);c=a(28198);t.exports=function(f){return function l(e,h,k){switch(arguments.length){case 0:return l;case 1:return c(e)?l:n(function(m,p){return f(e,m,p);});case 2:return c(e) && c(h)?l:c(e)?n(function(m,p){return f(m,h,p);}):c(h)?n(function(m,p){return f(e,m,p);}):d(function(m){return f(e,h,m);});default:return c(e) && c(h) && c(k)?l:c(e) && c(h)?n(function(m,p){return f(m,p,k);}):c(e) && c(k)?n(function(m,p){return f(m,h,p);}):c(h) && c(k)?n(function(m,p){return f(e,m,p);}):c(e)?d(function(m){return f(m,h,k);}):c(h)?d(function(m){return f(e,m,k);}):c(k)?d(function(m){return f(e,h,m);}):f(e,h,k);}};};},16500:function(t,b,a){var n,c;function d(f,g,e){return function(){var p;for(var h=[],k=0,l=f,m=0;m < g.length || k < arguments.length;){if(m < g.length && (!c(g[m]) || k >= arguments.length))p=g[m];else (p=arguments[k],k+=1);h[m]=p;c(p) || --l;m+=1;}return 0 >= l?e.apply(this,h):n(l,d(f,h,e));};}n=a(35375);c=a(28198);t.exports=d;},8414:function(t,b,a){var d,n;d=a(84357);n=a(11972);t.exports=function(c,f,g){return function(){var e,h;if(0 === arguments.length)return g();e=Array.prototype.slice.call(arguments,0);h=e.pop();if(!d(h)){for(var k=0;k < c.length;){if("function" === typeof h[c[k]])return h[c[k]].apply(h,e);k+=1;}if(n(h))return f.apply(null,e)(h);}return g.apply(this,arguments);};};},46458:function(t){t.exports=function(b,a){for(var d=0,n=a.length,c=[];d < n;)(b(a[d]) && (c[c.length]=a[d]),d+=1);return c;};},58380:function(t){t.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},46546:function(t,b,a){var d,n;d=a(58380);n=Object.prototype.toString;t.exports=function(){return "[object Arguments]" === n.call(arguments)?function(c){return "[object Arguments]" === n.call(c);}:function(c){return d("callee",c);};};},84357:function(t){t.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},33905:function(t,b,a){var d,n;b=a(16805);d=a(84357);n=a(86807);a=b(function(c){return d(c)?!0:!c || "object" !== typeof c || n(c)?!1:1 === c.nodeType?!!c.length:0 === c.length?!0:0 < c.length?c.hasOwnProperty(0) && c.hasOwnProperty(c.length - 1):!1;});t.exports=a;},78678:function(t){t.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},28198:function(t){t.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},86807:function(t){t.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},11972:function(t){t.exports=function(b){return "function" === typeof b["@@transducer/step"];};},55446:function(t){t.exports=function(b,a){for(var d=0,n=a.length,c=Array(n);d < n;)(c[d]=b(a[d]),d+=1);return c;};},18468:function(t,b,a){var c,f,g,e;function d(h,k,l){for(var m=l.next();!m.done;){if((k=h["@@transducer/step"](k,m.value)) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}m=l.next();}return h["@@transducer/result"](k);}function n(h,k,l,m){return h["@@transducer/result"](l[m](g(h["@@transducer/step"],h),k));}c=a(33905);f=a(71402);g=a(23614);e="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";t.exports=function(h,k,l){"function" === typeof h && (h=f(h));if(c(l)){for(var m=0,p=l.length;m < p;){if((k=h["@@transducer/step"](k,l[m])) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}m+=1;}return h["@@transducer/result"](k);}if("function" === typeof l["fantasy-land/reduce"])return n(h,k,l,"fantasy-land/reduce");if(null != l[e])return d(h,k,l[e]());if("function" === typeof l.next)return d(h,k,l);if("function" === typeof l.reduce)return n(h,k,l,"reduce");throw new TypeError("reduce: list must be array or iterable");};},18610:function(t){t.exports={Ob:function(){return this.wga["@@transducer/init"]();},result:function(b){return this.wga["@@transducer/result"](b);}};},14128:function(t,b,a){var d,n;b=a(31187);d=a(18610);n=(function(){function c(f,g){this.wga=g;this.f=f;}c.prototype["@@transducer/init"]=d.Ob;c.prototype["@@transducer/result"]=d.result;c.prototype["@@transducer/step"]=function(f,g){return this.f(g)?this.wga["@@transducer/step"](f,g):f;};return c;})();a=b(function(c,f){return new n(c,f);});t.exports=a;},94406:function(t,b,a){var d,n;b=a(31187);d=a(18610);n=(function(){function c(f,g){this.wga=g;this.f=f;}c.prototype["@@transducer/init"]=d.Ob;c.prototype["@@transducer/result"]=d.result;c.prototype["@@transducer/step"]=function(f,g){return this.wga["@@transducer/step"](f,this.f(g));};return c;})();a=b(function(c,f){return new n(c,f);});t.exports=a;},71402:function(t){var b;b=(function(){function a(d){this.f=d;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(d){return d;};a.prototype["@@transducer/step"]=function(d,n){return this.f(d,n);};return a;})();t.exports=function(a){return new b(a);};},72849:function(t,b,a){var d;b=a(16805);d=a(57301);a=b(function(n){return d(function(){return Array.prototype.slice.call(arguments,0);},n);});t.exports=a;},93358:function(t,b,a){var d,n,c,f,g;b=a(16805);d=a(58380);n=a(46546);c=!({toString:null}).propertyIsEnumerable("toString");f=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");g=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || g?function(e){var h,k,l,m;if(Object(e) !== e)return [];h=[];k=g && n(e);for(l in e)!d(l,e) || k && "length" === l || (h[h.length]=l);if(c)for(k=f.length - 1;0 <= k;){l=f[k];if(m=d(l,e)){a:{for(m=0;m < h.length;){if(h[m] === l){m=!0;break a;}m+=1;}m=!1;}m=!m;}m && (h[h.length]=l);--k;}return h;}:function(e){return Object(e) !== e?[]:Object.keys(e);});t.exports=a;},81057:function(t,b,a){var d,n,c,f,g,e;b=a(31187);d=a(8414);n=a(55446);c=a(18468);f=a(94406);g=a(89028);e=a(93358);a=b(d(["fantasy-land/map","map"],f,function(h,k){switch(Object.prototype.toString.call(k)){case "[object Function]":return g(k.length,function(){return h.call(this,k.apply(this,arguments));});case "[object Object]":return c(function(l,m){l[m]=h(k[m]);return l;},{},e(k));default:return n(h,k);}}));t.exports=a;},77894:function(t,b,a){b=a(31187)(function(d,n){return n > d?n:d;});t.exports=b;},29664:function(t,b,a){var d;b=a(20239);d=a(29924);a=b(function(n,c,f){return d(function(g,e,h){return n(e,h);},c,f);});t.exports=a;},29924:function(t,b,a){var d,n;b=a(20239);d=a(78678);n=a(48796);a=b(function h(f,g,e){return n(function(k,l,m){return d(l) && d(m)?h(f,l,m):f(k,l,m);},g,e);});t.exports=a;},48796:function(t,b,a){var d;b=a(20239);d=a(58380);a=b(function(n,c,f){var g,e;g={};for(e in c)d(e,c) && (g[e]=d(e,f)?n(e,c[e],f[e]):c[e]);for(e in f)d(e,f) && !d(e,g) && (g[e]=f[e]);return g;});t.exports=a;},31435:function(t,b,a){var d;b=a(42514);d=a(72849);a=a(64580);a=d([b,a]);t.exports=a;},23335:function(t,b,a){b=a(31187)(function(d,n){for(var c=0;c < d.length;){if(null == n)return;n=n[d[c]];c+=1;}return n;});t.exports=b;},67758:function(t,b,a){var d,n;b=a(31187);d=a(81057);n=a(38695);a=b(function(c,f){return d(n(c),f);});t.exports=a;},38695:function(t,b,a){var d;b=a(31187);d=a(23335);a=b(function(n,c){return d([n],c);});t.exports=a;},75850:function(t,b,a){b=a(20239);a=a(18468);a=b(a);t.exports=a;},64580:function(t,b,a){var d,n;d=a(48925);b=a(31187);n=a(42514);a=b(function(c,f){return n(d(c),f);});t.exports=a;},60024:function(t,b,a){var d,n;d=a(86614);b=a(20239);n=a(25228);a=b(function(c,f,g){return n(c,d(f,g));});t.exports=a;},25228:function(t,b,a){var d;d=a(25701);b=a(31187)(function(n,c){for(var f=0,g=c.length,e=[],h;f < g;)(h=c[f],d(n,h,e) || (e[e.length]=h),f+=1);return e;});t.exports=b;},1738:function(t,b,a){var d;(function(n){(function(c){var g,e;function f(h,k){return function(l,m){"function" !== typeof h[l] && Object.defineProperty(h,l,{configurable:!0,writable:!0,value:m});k && k(l,m);};}g="object" === typeof a.FZ?a.FZ:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();e=f(n);"undefined" === typeof g.Reflect?g.Reflect=n:e=f(g.Reflect,e);c(e);})(function(c){var E,H,F,G,J,L,K,M,P,I,O;function f(Q,T,U){var X;X=O.get(Q);if(q(X)){if(!U)return;X=new P();O.set(Q,X);}Q=X.get(T);if(q(Q)){if(!U)return;Q=new P();X.set(T,Q);}return Q;}function g(Q,T,U){if(e(Q,T,U))return !0;T=A(T);return null === T?!1:g(Q,T,U);}function e(Q,T,U){T=f(T,U,!1);return q(T)?!1:!!T.has(Q);}function h(Q,T,U){if(e(Q,T,U))return k(Q,T,U);T=A(T);if(null !== T)return h(Q,T,U);}function k(Q,T,U){T=f(T,U,!1);if(!q(T))return T.get(Q);}function l(Q,T){var U,W,Z;U=m(Q,T);Q=A(Q);if(null === Q)return U;T=l(Q,T);if(0 >= T.length)return U;if(0 >= U.length)return T;Q=new I();for(var X=[],Y=0;Y < U.length;Y++){W=U[Y];Z=Q.has(W);Z || (Q.add(W),X.push(W));}for(U=0;U < T.length;U++)(W=T[U],(Z=Q.has(W)) || (Q.add(W),X.push(W)));return X;}function m(Q,T){var U,X;U=[];Q=f(Q,T,!1);if(q(Q))return U;Q=Q.keys();T=y(Q,G);if(!x(T))throw new TypeError();Q=T.call(Q);if(!r(Q))throw new TypeError();for(T=0;;){X=Q.next();X=X.done?!1:X;if(!X)return (U.length=T,U);X=X.value;try{U[T]=X;}catch(W){var Y;try{Y=Q["return"];Y && Y.call(Q);}finally{throw W;}}T++;}}function p(Q){if(null === Q)return 1;switch(typeof Q){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === Q?1:6;default:return 6;}}function q(Q){return void 0 === Q;}function r(Q){return "object" === typeof Q?null !== Q:"function" === typeof Q;}function u(Q,T){var U;switch(p(Q)){case 0:return Q;case 1:return Q;case 2:return Q;case 3:return Q;case 4:return Q;case 5:return Q;}T=3 === T?"string":5 === T?"number":"default";U=y(Q,F);if(void 0 !== U){Q=U.call(Q,T);if(r(Q))throw new TypeError();return Q;}a:{if("string" === ("default" === T?"number":T)){T=Q.toString;if(x(T) && (T=T.call(Q),!r(T)))break a;T=Q.valueOf;}else {T=Q.valueOf;if(x(T) && (T=T.call(Q),!r(T)))break a;T=Q.toString;}if(!x(T) || (T=T.call(Q),r(T)))throw new TypeError();}return T;}function v(Q){Q=u(Q,3);return "symbol" === typeof Q?Q:"" + Q;}function w(Q){return Array.isArray?Array.isArray(Q):Q instanceof Object?Q instanceof Array:"[object Array]" === Object.prototype.toString.call(Q);}function x(Q){return "function" === typeof Q;}function y(Q,T){Q=Q[T];if(void 0 !== Q && null !== Q){if(!x(Q))throw new TypeError();return Q;}}function A(Q){var T,U;T=Object.getPrototypeOf(Q);if("function" !== typeof Q || Q === M || T !== M)return T;U=Q.prototype;U=U && Object.getPrototypeOf(U);if(null == U || U === Object.prototype)return T;U=U.constructor;return "function" !== typeof U || U === Q?T:U;}function z(){var X,Y,W;function Q(Z){return Z;}function T(Z,ba){return ba;}function U(Z,ba){return [Z,ba];}X={};Y=[];W=(function(){function Z(ba,ca,da){this.ti=0;this.Eg=ba;this.Ri=ca;this.P4b=da;}Z.prototype["@@iterator"]=function(){return this;};Z.prototype[G]=function(){return this;};Z.prototype.next=function(){var ba,ca;ba=this.ti;if(0 <= ba && ba < this.Eg.length){ca=this.P4b(this.Eg[ba],this.Ri[ba]);ba + 1 >= this.Eg.length?(this.ti=-1,this.Ri=this.Eg=Y):this.ti++;return {value:ca,done:!1};}return {value:void 0,done:!0};};Z.prototype.throw=function(ba){0 <= this.ti && (this.ti=-1,this.Ri=this.Eg=Y);throw ba;};Z.prototype.return=function(ba){0 <= this.ti && (this.ti=-1,this.Ri=this.Eg=Y);return {value:ba,done:!0};};return Z;})();return (function(){function Z(){this.Eg=[];this.Ri=[];this.yC=X;this.Jz=-2;}Object.defineProperty(Z.prototype,"size",{get:function(){return this.Eg.length;},enumerable:!0,configurable:!0});Z.prototype.has=function(ba){return 0 <= this.HF(ba,!1);};Z.prototype.get=function(ba){ba=this.HF(ba,!1);return 0 <= ba?this.Ri[ba]:void 0;};Z.prototype.set=function(ba,ca){ba=this.HF(ba,!0);this.Ri[ba]=ca;return this;};Z.prototype.delete=function(ba){var ca,da;ca=this.HF(ba,!1);if(0 <= ca){da=this.Eg.length;for(ca+=1;ca < da;ca++)(this.Eg[ca - 1]=this.Eg[ca],this.Ri[ca - 1]=this.Ri[ca]);this.Eg.length--;this.Ri.length--;ba === this.yC && (this.yC=X,this.Jz=-2);return !0;}return !1;};Z.prototype.clear=function(){this.Eg.length=0;this.Ri.length=0;this.yC=X;this.Jz=-2;};Z.prototype.keys=function(){return new W(this.Eg,this.Ri,Q);};Z.prototype.values=function(){return new W(this.Eg,this.Ri,T);};Z.prototype.entries=function(){return new W(this.Eg,this.Ri,U);};Z.prototype["@@iterator"]=function(){return this.entries();};Z.prototype[G]=function(){return this.entries();};Z.prototype.HF=function(ba,ca){this.yC !== ba && (this.Jz=this.Eg.indexOf(this.yC=ba));0 > this.Jz && ca && (this.Jz=this.Eg.length,this.Eg.push(ba),this.Ri.push(void 0));return this.Jz;};return Z;})();}function B(){return (function(){function Q(){this.Wg=new P();}Object.defineProperty(Q.prototype,"size",{get:function(){return this.Wg.size;},enumerable:!0,configurable:!0});Q.prototype.has=function(T){return this.Wg.has(T);};Q.prototype.add=function(T){return (this.Wg.set(T,T),this);};Q.prototype.delete=function(T){return this.Wg.delete(T);};Q.prototype.clear=function(){this.Wg.clear();};Q.prototype.keys=function(){return this.Wg.keys();};Q.prototype.values=function(){return this.Wg.values();};Q.prototype.entries=function(){return this.Wg.entries();};Q.prototype["@@iterator"]=function(){return this.keys();};Q.prototype[G]=function(){return this.keys();};return Q;})();}function C(){var X,Y;function Q(){var W,ca;do {W="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):U(new Uint8Array(16),16):U(Array(16),16);W[6]=W[6] & 79 | 64;W[8]=W[8] & 191 | 128;for(var Z="",ba=0;16 > ba;++ba){ca=W[ba];if(4 === ba || 6 === ba || 8 === ba)Z+="-";16 > ca && (Z+="0");Z+=ca.toString(16).toLowerCase();}W="@@WeakMap@@" + Z;}while(K.has(X,W));X[W]=!0;return W;}function T(W,Z){if(!E.call(W,Y)){if(!Z)return;Object.defineProperty(W,Y,{value:K.create()});}return W[Y];}function U(W,Z){for(var ba=0;ba < Z;++ba)W[ba]=255 * Math.random() | 0;return W;}X=K.create();Y=Q();return (function(){function W(){this.Qz=Q();}W.prototype.has=function(Z){Z=T(Z,!1);return void 0 !== Z?K.has(Z,this.Qz):!1;};W.prototype.get=function(Z){Z=T(Z,!1);return void 0 !== Z?K.get(Z,this.Qz):void 0;};W.prototype.set=function(Z,ba){T(Z,!0)[this.Qz]=ba;return this;};W.prototype.delete=function(Z){Z=T(Z,!1);return void 0 !== Z?delete Z[this.Qz]:!1;};W.prototype.clear=function(){this.Qz=Q();};return W;})();}function D(Q){Q.S1b=void 0;delete Q.S1b;return Q;}E=Object.prototype.hasOwnProperty;H="function" === typeof Symbol;F=H && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";G=H && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";H="function" === typeof Object.create;J=({__proto__:[]}) instanceof Array;L=!H && !J;K={create:H?function(){return D(Object.create(null));}:J?function(){return D({__proto__:null});}:function(){return D({});},has:L?function(Q,T){return E.call(Q,T);}:function(Q,T){return (T in Q);},get:L?function(Q,T){return E.call(Q,T)?Q[T]:void 0;}:function(Q,T){return Q[T];}};M=Object.getPrototypeOf(Function);P=(H="object" === typeof process && "true" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?z():Map;I=H || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?B():Set;O=new (H || "function" !== typeof WeakMap?C():WeakMap)();c("decorate",function(Q,T,U,X){var W;if(q(U)){if(!w(Q))throw new TypeError();if("function" !== typeof T)throw new TypeError();for(U=Q.length - 1;0 <= U;--U)if((X=(0,Q[U])(T),!q(X) && null !== X)){if("function" !== typeof X)throw new TypeError();T=X;}return T;}if(!w(Q))throw new TypeError();if(!r(T))throw new TypeError();if(!r(X) && !q(X) && null !== X)throw new TypeError();null === X && (X=void 0);U=v(U);for(var Y=Q.length - 1;0 <= Y;--Y){W=(0,Q[Y])(T,U,X);if(!q(W) && null !== W){if(!r(W))throw new TypeError();X=W;}}return X;});c("metadata",function(Q,T){return function(U,X){var Y;if(!r(U))throw new TypeError();if(Y=!q(X)){a:switch(p(X)){case 3:Y=!0;break a;case 4:Y=!0;break a;default:Y=!1;}Y=!Y;}if(Y)throw new TypeError();f(U,X,!0).set(Q,T);};});c("defineMetadata",function(Q,T,U,X){if(!r(U))throw new TypeError();q(X) || (X=v(X));f(U,X,!0).set(Q,T);});c("hasMetadata",function(Q,T,U){if(!r(T))throw new TypeError();q(U) || (U=v(U));return g(Q,T,U);});c("hasOwnMetadata",function(Q,T,U){if(!r(T))throw new TypeError();q(U) || (U=v(U));return e(Q,T,U);});c("getMetadata",function(Q,T,U){if(!r(T))throw new TypeError();q(U) || (U=v(U));return h(Q,T,U);});c("getOwnMetadata",function(Q,T,U){if(!r(T))throw new TypeError();q(U) || (U=v(U));return k(Q,T,U);});c("getMetadataKeys",function(Q,T){if(!r(Q))throw new TypeError();q(T) || (T=v(T));return l(Q,T);});c("getOwnMetadataKeys",function(Q,T){if(!r(Q))throw new TypeError();q(T) || (T=v(T));return m(Q,T);});c("deleteMetadata",function(Q,T,U){var X;if(!r(T))throw new TypeError();q(U) || (U=v(U));X=f(T,U,!1);if(q(X) || !X.delete(Q))return !1;if(0 < X.size)return !0;Q=O.get(T);Q.delete(U);if(0 < Q.size)return !0;O.delete(T);return !0;});});})(d || (d={}));},63671:function(t,b,a){var d,n,c;b=a(8435);d=a(58786);n=b("RegExp.prototype.exec");c=a(5408);t.exports=function(f){if(!d(f))throw new c("`regex` must be a RegExp");return function(g){return null !== n(f,g);};};},47669:function(t,b,a){var d,n,c,f,g;b=a(67286);d=a(75195);n=a(81181)();c=a(50326);f=a(5408);g=b("%Math.floor%");t.exports=function(e,h){var k,l,m,p;if("function" !== typeof e)throw new f("`fn` is not a function");if("number" !== typeof h || 0 > h || 4294967295 < h || g(h) !== h)throw new f("`length` must be a positive 32-bit integer");k=2 < arguments.length && !!arguments[2];l=!0;m=!0;if(("length" in e) && c){p=c(e,"length");p && !p.configurable && (l=!1);p && !p.writable && (m=!1);}if(l || m || !k)n?d(e,"length",h,!0,!0):d(e,"length",h);return e;};},24454:function(t,b,a){var d,n,c,f,g;d=a(42977);n=a(11885);c=a(8435)("String.prototype.replace");f=(b=(/^\s$/).test("\u180e"))?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/;g=b?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var e;e=n(d(this));return c(c(e,f,""),g,"");};},11341:function(t,b,a){var n,c,f,g,e;function d(h){c(h);return e(h);}b=a(89429);n=a(14926);c=a(42977);f=a(24454);g=a(33871);a=a(93607);e=b(g());n(d,{u9c:g,implementation:f,bRc:a});t.exports=d;},33871:function(t,b,a){var d;d=a(24454);t.exports=function(){return String.prototype.trim?String.prototype.trim:d;};},93607:function(t,b,a){var d,n,c;d=a(81181)();n=a(75195);c=a(33871);t.exports=function(){var f;f=c();String.prototype.trim !== f && (d?n(String.prototype,"trim",f,!0):n(String.prototype,"trim",f));return f;};},15913:function(t,b,a){var g;function d(e,h,k){this.JY=!1 === e;this.Lv=e || .01;this.uCa=void 0 === h?25:h;this.Y6a=void 0 === k?1.1:k;this.Rm=new g(n);this.reset();}function n(e,h){return e.Fh > h.Fh?1:e.Fh < h.Fh?-1:0;}function c(e,h){return e.PD - h.PD;}function f(e){this.config=e || ({});this.mode=this.config.mode || "auto";d.call(this,"cont" === this.mode?e.Lv:!1);this.Dic=this.config.ratio || .9;this.Eic=this.config.ked || 1E3;this.Wsa=0;}g=a(35558).i0b;d.prototype.reset=function(){this.Rm.clear();this.sVa=this.n=0;};d.prototype.size=function(){return this.Rm.size;};d.prototype.xj=function(e){var h;h=[];e?(this.dka(!0),this.Rm.w9(function(k){h.push(k);})):this.Rm.w9(function(k){h.push({Fh:k.Fh,n:k.n});});return h;};d.prototype.summary=function(){return [(this.JY?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.Fk(0),"Q1  = " + this.Fk(.25),"Q2  = " + this.Fk(.5),"Q3  = " + this.Fk(.75),"max = " + this.Fk(1)].join("\n");};d.prototype.push=function(e,h){h=h || 1;e=Array.isArray(e)?e:[e];for(var k=0;k < e.length;k++)this.Ejb(e[k],h);};d.prototype.VZa=function(e){e=Array.isArray(e)?e:[e];for(var h=0;h < e.length;h++)this.Ejb(e[h].Fh,e[h].n);};d.prototype.dka=function(e){var h;if(!(this.n === this.sVa || !e && this.Y6a && this.Y6a > this.n / this.sVa)){h=0;this.Rm.w9(function(k){k.PD=h + k.n / 2;h=k.uY=h + k.n;});this.n=this.sVa=h;}};d.prototype.lnc=function(e){var h,k;if(0 === this.size())return null;h=this.Rm.lowerBound({Fh:e});k=null === h.data()?h.Ky():h.data();return k.Fh === e || this.JY?k:(h=h.Ky()) && Math.abs(h.Fh - e) < Math.abs(k.Fh - e)?h:k;};d.prototype.SW=function(e,h,k){this.Rm.ru({Fh:e,n:h,uY:k});this.n+=h;};d.prototype.Vja=function(e,h,k){h !== e.Fh && (e.Fh+=k * (h - e.Fh) / (e.n + k));e.uY+=k;e.PD+=k / 2;e.n+=k;this.n+=k;};d.prototype.Ejb=function(e,h){var k,l,m;k=this.Rm.min();l=this.Rm.max();m=this.lnc(e);m && m.Fh === e?this.Vja(m,e,h):m === k?this.SW(e,h,0):m === l?this.SW(e,h,this.n):this.JY?this.SW(e,h,m.uY):(k=m.PD / this.n,Math.floor(4 * this.n * this.Lv * k * (1 - k)) - m.n >= h?this.Vja(m,e,h):this.SW(e,h,m.uY));this.dka(!1);!this.JY && this.uCa && this.size() > this.uCa / this.Lv && this.ap();};d.prototype.M9b=function(e){var h,k;this.Rm.Kz=c;h=this.Rm.upperBound({PD:e});this.Rm.Kz=n;k=h.Ky();e=k && k.PD === e?k:h.next();return [k,e];};d.prototype.Fk=function(e){var h;h=(Array.isArray(e)?e:[e]).map(this.v4b,this);return Array.isArray(e)?h:h[0];};d.prototype.v4b=function(e){var h,k;if(0 !== this.size()){this.dka(!0);this.Rm.min();this.Rm.max();e*=this.n;h=this.M9b(e);k=h[0];h=h[1];return h === k || null === k || null === h?(k || h).Fh:this.JY?e <= k.uY?k.Fh:h.Fh:k.Fh + (e - k.PD) * (h.Fh - k.Fh) / (h.PD - k.PD);}};d.prototype.ap=function(){var e;if(!this.cqb){e=this.xj();this.reset();for(this.cqb=!0;0 < e.length;)this.VZa(e.splice(Math.floor(Math.random() * e.length),1)[0]);this.dka(!0);this.cqb=!1;}};f.prototype=Object.create(d.prototype);f.prototype.constructor=f;f.prototype.push=function(e){d.prototype.push.call(this,e);this.Cbc();};f.prototype.SW=function(e,h,k){this.Wsa+=1;d.prototype.SW.call(this,e,h,k);};f.prototype.Vja=function(e,h,k){1 === e.n && --this.Wsa;d.prototype.Vja.call(this,e,h,k);};f.prototype.Cbc=function(){!("auto" !== this.mode || this.size() < this.Eic) && this.Wsa / this.size() > this.Dic && (this.mode="cont",this.JY=!1,this.Lv=this.config.Lv || .01,this.ap());};t.exports={TDigest:d,Digest:f};},63053:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);n=d.__importDefault(a(51411));c=a(32260);t=(function(f){function g(e,h,k,l){var m,p;m=this.constructor;p=f.call(this,h.message) || this;m=m.prototype;"undefined" === typeof Object.setPrototypeOf?p.__proto__=m:Object.setPrototypeOf(p,m);k && (p.message+=" [" + k + "]");p.name=e;p.error=h;p.Fc=l;e=p.toString();p.stack && (e+="\n" + p.stack);p.Fc && p.Fc.stack && (e+="\nCaused by " + p.Fc.stack);p.stack=e;return p;}d.__extends(g,f);g.prototype.ii=function(e){if(0 > e || e > n.default.$e)throw new RangeError("Message ID " + e + " is outside the valid range.");this.wxb() || (this.oP=e);return this;};g.prototype.wxb=function(){if(this.oP)return this.oP;if(this.Fc && c.Fd(this.Fc))return this.Fc.oP;};g.prototype.kc=function(e){!e || this.bc || this.Tl || (this.bc=e);return this;};g.prototype.Zf=function(e){!e || this.bc || this.Tl || (this.Tl=e);return this;};g.prototype.Fe=function(e){!e || this.kg || this.zj || (this.kg=e);return this;};g.prototype.xf=function(e){!e || this.kg || this.zj || (this.zj=e);return this;};g.prototype.toString=function(){return this.name + ": " + this.message;};return g;})(Error);b["default"]=t;},51411:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.Uxb=b.VI=void 0;t=a(69193);d=a(96837);a=t.lC.zF;b.VI={GWb:"GZIP",HCa:"LZW"};b.Uxb=function(g){for(var e=[b.VI.GWb,b.VI.HCa],h=0;h < e.length && 0 < g.length;++h)for(var k=e[h],l=0;l < g.length;++l)if(g[l] == k)return k;return null;};n={Eya:"AES"};Object.defineProperties(n,{bR:{value:function(g){var e;e=g;"string" === typeof g && (e=g.toLowerCase());"object" === typeof g && "string" === typeof g.name && (e=g.name.toLowerCase());return d.Pe.RN.name.toLowerCase() == e?n.Eya:n[g];},writable:!1,enumerable:!1,configurable:!1},X2a:{value:function(g){if(n.Eya == g)return d.Pe.RN;},writable:!1,enumerable:!1,configurable:!1}});Object.freeze(n);c={A4a:"AES/CBC/PKCS5Padding",lZc:"AESWrap",Ofb:"RSA/ECB/PKCS1Padding"};Object.defineProperties(c,{bR:{value:function(g){return c.A4a == g?c.A4a:c.Ofb == g?c.Ofb:c[g];},writable:!1,enumerable:!1,configurable:!1}});Object.freeze(c);f={YBa:"HmacSHA256",AGa:"SHA256withRSA",z4a:"AESCmac"};Object.defineProperties(f,{bR:{value:function(g){var e,h;e=g;"string" === typeof g && (e=g.toLowerCase());"object" === typeof g && "string" === typeof g.name && (e=g.name.toLowerCase());"object" === typeof g.hash && (h=g.hash.name.toLowerCase());return d.Pe.LV.name.toLowerCase() == e && d.Pe.LV.hash.name.toLowerCase() == h?f.YBa:d.Pe.S5.name.toLowerCase() == e && d.Pe.S5.hash.name.toLowerCase() == h?f.AGa:d.Pe.B4a.name.toLowerCase() == e?f.z4a:f[g];},writable:!1,enumerable:!1,configurable:!1},X2a:{value:function(g){if(f.YBa == g)return d.Pe.LV;if(f.AGa == g)return d.Pe.AGa;if(f.z4a == g)return d.Pe.B4a;},writable:!1,enumerable:!1,configurable:!1}});Object.freeze(f);t={fa:1,Hr:2,pg:3,Oe:4,k5:5,li:6,jd:7,j4:8,hGa:9,oja:10};Object.freeze(t);b["default"]={kVb:a,$e:9007199254740992,gYb:12,gBa:n,bAa:c,c6:f,P:t};},42458:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(f,g,e){return n.call(this,"MslCryptoException",f,g,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},88257:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(f,g,e){return n.call(this,"MslEncodingException",f,g,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},24571:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(f,g,e){return n.call(this,"MslEntityAuthException",f,g,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},36114:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970).__importDefault(a(51411));t=(function(){function n(c,f,g){this.Kaa=1E5 + c;this.QNc=f;this.message=g;}n.prototype.toString=function(){return "MslError{" + this.Kaa + "," + this.QNc + "," + this.message + "}";};n.af=new n(0,d.default.P.fa,"Error parsing MSL encodable.");n.BYb=new n(1,d.default.P.fa,"Error encoding MSL encodable.");new n(2,d.default.P.fa,"Computed hash does not match envelope hash.");n.sO=new n(3,d.default.P.fa,"Invalid public key provided.");n.MV=new n(4,d.default.P.fa,"Invalid private key provided.");new n(5,d.default.P.fa,"Plaintext is not a multiple of the block size.");new n(6,d.default.P.fa,"Plaintext contains incorrect padding.");new n(7,d.default.P.fa,"Ciphertext is not a multiple of the block size.");new n(8,d.default.P.fa,"Ciphertext contains incorrect padding.");n.WAa=new n(9,d.default.P.fa,"Encryption not supported.");n.lAa=new n(10,d.default.P.fa,"Decryption not supported.");new n(11,d.default.P.fa,"Encryption envelope key ID does not match crypto context key ID.");n.M6a=new n(12,d.default.P.fa,"Error parsing ciphertext envelope.");n.$ga=new n(13,d.default.P.fa,"Error encoding ciphertext envelope.");n.BGa=new n(14,d.default.P.fa,"Sign not supported.");n.NHa=new n(15,d.default.P.fa,"Verify not suppoprted.");n.ogb=new n(16,d.default.P.fa,"Signature not initialized or unable to process data/signature.");n.Lha=new n(17,d.default.P.fa,"Error computing HMAC.");n.yha=new n(18,d.default.P.fa,"Error encrypting plaintext.");n.WI=new n(19,d.default.P.fa,"Error decrypting ciphertext.");new n(20,d.default.P.fa,"Insufficient ciphertext for decryption.");new n(21,d.default.P.fa,"Error when creating session keys.");n.dCa=new n(24,d.default.P.fa,"Invalid symmetric key provided.");new n(25,d.default.P.fa,"Invalid encryption key.");new n(26,d.default.P.fa,"Invalid HMAC key.");n.Qib=new n(27,d.default.P.fa,"Wrap not supported.");n.nib=new n(28,d.default.P.fa,"Unwrap not supported.");new n(29,d.default.P.fa,"Unidentified JSON web key type.");new n(30,d.default.P.fa,"Unidentified JSON web key usage.");new n(31,d.default.P.fa,"Unidentified JSON web key algorithm.");n.XHa=new n(32,d.default.P.fa,"Error wrapping plaintext.");n.DHa=new n(33,d.default.P.fa,"Error unwrapping ciphertext.");new n(34,d.default.P.fa,"Invalid JSON web key.");new n(35,d.default.P.fa,"Invalid JSON web key keydata.");new n(36,d.default.P.fa,"Unsupported JSON web key algorithm.");new n(37,d.default.P.fa,"Error when creating wrapping key.");new n(38,d.default.P.fa,"Invalid wrap ciphertext.");new n(39,d.default.P.fa,"Unsupported JSON web encryption algorithm.");new n(40,d.default.P.fa,"Error encoding JSON web encryption header.");new n(41,d.default.P.fa,"Error parsing JSON web encryption header.");new n(42,d.default.P.fa,"Invalid algorithm parameters.");new n(43,d.default.P.fa,"JSON web encryption header algorithms mismatch.");n.MXb=new n(44,d.default.P.fa,"Error importing key.");n.xCa=new n(45,d.default.P.fa,"Error exporting key.");new n(46,d.default.P.fa,"Error in digest.");n.BHa=new n(47,d.default.P.fa,"Unsupported key type or algorithm.");new n(48,d.default.P.fa,"Unsupported JSON web encryption serialization.");new n(51,d.default.P.fa,"Invalid wrapping key.");n.iib=new n(52,d.default.P.fa,"Unidentified ciphertext envelope version.");new n(53,d.default.P.fa,"Unidentified signature envelope version.");n.t1b=new n(54,d.default.P.fa,"Unsupported ciphertext envelope version.");n.CHa=new n(55,d.default.P.fa,"Unsupported signature envelope version.");n.p1b=new n(56,d.default.P.fa,"Unidentified cipher specification.");n.AHa=new n(57,d.default.P.fa,"Unidentified algorithm.");new n(58,d.default.P.fa,"Error parsing signature envelope.");n.ngb=new n(59,d.default.P.fa,"Error encoding signature envelope.");new n(60,d.default.P.fa,"Invalid signature.");new n(61,d.default.P.fa,"Error deriving key.");new n(62,d.default.P.fa,"Unidentified JSON web key key operation.");new n(63,d.default.P.fa,"Error generating key.");new n(64,d.default.P.fa,"Invalid initialization vector.");new n(65,d.default.P.fa,"Invalid ciphertext.");n.ybb=new n(1E3,d.default.P.pg,"Master token is not trusted.");n.xbb=new n(1001,d.default.P.pg,"Unable to construct symmetric keys from master token.");n.$Xb=new n(1002,d.default.P.pg,"Master token expiration timestamp is before the renewal window opens.");n.cYb=new n(1003,d.default.P.pg,"No master token session data found.");n.aYb=new n(1004,d.default.P.pg,"Master token sequence number is out of range.");n.bYb=new n(1005,d.default.P.pg,"Master token serial number is out of range.");new n(1006,d.default.P.pg,"Invalid master token data.");new n(1007,d.default.P.pg,"Invalid master token signature.");new n(1008,d.default.P.pg,"Invalid master token session data.");new n(1009,d.default.P.pg,"Master token sequence number does not have the expected value.");n.eYb=new n(1010,d.default.P.pg,"No master token data found.");n.fYb=new n(1011,d.default.P.pg,"Error parsing master token data.");n.dYb=new n(1012,d.default.P.pg,"Error parsing master token session data.");new n(1013,d.default.P.pg,"Master token entity identity is revoked.");new n(1014,d.default.P.pg,"Master token is rejected by the application.");new n(1015,d.default.P.fa,"Master token issuer data encoding error.");n.EHa=new n(2E3,d.default.P.Oe,"User ID token master token serial number does not match master token serial number.");new n(2001,d.default.P.Oe,"User ID token is not decrypted or verified.");n.z1b=new n(2002,d.default.P.Oe,"User ID token requires a master token.");n.w1b=new n(2003,d.default.P.Oe,"User ID token expiration timestamp is before the renewal window opens.");n.F1b=new n(2004,d.default.P.Oe,"No user ID token user data found.");n.y1b=new n(2005,d.default.P.Oe,"User ID token is bound to an unknown master token.");n.A1b=new n(2006,d.default.P.Oe,"User ID token master token serial number is out of range.");n.B1b=new n(2007,d.default.P.Oe,"User ID token serial number is out of range.");new n(2008,d.default.P.Oe,"Invalid user ID token data.");new n(2009,d.default.P.Oe,"Invalid user ID token signature.");new n(2010,d.default.P.Oe,"Invalid user ID token user data.");n.x1b=new n(2011,d.default.P.Oe,"Invalid user ID token user identity.");new n(2012,d.default.P.Oe,"The entity is not associated with the user.");new n(2013,d.default.P.Oe,"The user identity was not found.");new n(2014,d.default.P.Oe,"The user identity must be reauthenticated because the password version changed.");n.E1b=new n(2015,d.default.P.Oe,"The user ID token and user authentication data user identities do not match.");n.C1b=new n(2016,d.default.P.Oe,"No user ID token data found.");n.D1b=new n(2017,d.default.P.Oe,"Error parsing user ID token data.");n.G1b=new n(2018,d.default.P.Oe,"Error parsing user ID token user data.");new n(2019,d.default.P.Oe,"User ID token is revoked.");new n(2020,d.default.P.jd,"User ID token is rejected by the application.");n.vGa=new n(3E3,d.default.P.fa,"Service token master token serial number does not match master token serial number.");n.wGa=new n(3001,d.default.P.fa,"Service token user ID token serial number does not match user ID token serial number.");new n(3002,d.default.P.fa,"Service token data invalid.");n.H0b=new n(3003,d.default.P.fa,"Service token is bound to an unknown master token.");n.J0b=new n(3004,d.default.P.fa,"Service token is bound to an unknown user ID token.");n.I0b=new n(3005,d.default.P.fa,"Service token master token serial number is out of range.");n.K0b=new n(3006,d.default.P.fa,"Service token user ID token serial number is out of range.");new n(3007,d.default.P.fa,"Invalid service token data.");new n(3008,d.default.P.fa,"Invalid service token signature.");n.lgb=new n(3009,d.default.P.fa,"No service token data found.");n.q1b=new n(4E3,d.default.P.fa,"Unable to identify entity authentication scheme.");n.YAa=new n(4001,d.default.P.fa,"No factory registered for entity authentication scheme.");new n(4002,d.default.P.li,"Error parsing X.509 certificate data.");new n(4003,d.default.P.li,"Error encoding X.509 certificate data.");new n(4004,d.default.P.li,"X.509 certificate verification failed.");new n(4005,d.default.P.fa,"Entity not recognized.");new n(4006,d.default.P.fa,"Entity used incorrect entity authentication data type.");n.o0b=new n(4007,d.default.P.li,"RSA public key not found.");new n(4023,d.default.P.fa,"Unsupported entity authentication data.");n.C8a=new n(4025,d.default.P.fa,"Entity is revoked.");new n(4026,d.default.P.li,"Entity is rejected by the application.");new n(4028,d.default.P.li,"X.509 certificate is expired.");new n(4029,d.default.P.li,"X.509 certificate is not yet valid.");new n(4030,d.default.P.li,"X.509 certificate is invalid.");n.n0b=new n(4031,d.default.P.li,"RSA private key not found.");new n(4032,d.default.P.fa,"Entity authentication data master token is not decrypted or verified.");new n(4033,d.default.P.li,"Invalid entity authentication data siganture.");new n(4034,d.default.P.li,"Invalid entity authentication data ciphertext.");new n(4035,d.default.P.li,"Entity authentication data signature verification failed.");new n(4036,d.default.P.fa,"Invalid entity authentication data master token.");new n(4037,d.default.P.li,"ECC public key not found.");new n(4038,d.default.P.li,"ECC private key not found.");n.s1b=new n(5003,d.default.P.fa,"Unable to identify user authentication scheme.");n.pib=new n(5004,d.default.P.fa,"No factory registered for user authentication scheme.");n.eWb=new n(5005,d.default.P.jd,"Email or password is blank.");n.t8a=new n(5007,d.default.P.jd,"Email or password is incorrect.");n.u1b=new n(5008,d.default.P.fa,"Unsupported user authentication data.");new n(5011,d.default.P.jd,"User authentication data user ID token is invalid.");new n(5013,d.default.P.fa,"Unable to identify user authentication mechanism.");new n(5014,d.default.P.fa,"Unsupported user authentication mechanism.");new n(5016,d.default.P.jd,"User authentication required master token is missing.");new n(5021,d.default.P.jd,"User authentication data user ID token is not decrypted or verified.");new n(5024,d.default.P.jd,"User authentication data master token is invalid.");new n(5025,d.default.P.jd,"User authentication data master token is not decrypted or verified.");new n(5030,d.default.P.jd,"User authentication required user ID token is missing.");new n(5032,d.default.P.jd,"User authentication data does not match entity identity.");new n(5033,d.default.P.fa,"Entity used incorrect user authentication data type.");new n(5037,d.default.P.jd,"User is rejected by the application.");new n(5040,d.default.P.Oe,"The entity is not associated with the user.");new n(5041,d.default.P.jd,"Entity and user combination used incorrect user authentication data type.");new n(5042,d.default.P.jd,"User authentication data signature verification failed.");new n(5043,d.default.P.jd,"User ID token could not be checked for revocation.");n.lib=new n(6E3,d.default.P.fa,"Unsupported compression algorithm.");n.JUb=new n(6001,d.default.P.fa,"Error compressing data.");n.l1b=new n(6002,d.default.P.fa,"Error uncompressing data.");n.sDa=new n(6003,d.default.P.fa,"Message header entity authentication data or master token not found.");n.EZb=new n(6004,d.default.P.fa,"Payload chunk message ID does not match header message ID .");n.GZb=new n(6005,d.default.P.fa,"Payload chunk sequence number does not match expected sequence number.");n.IZb=new n(6006,d.default.P.fa,"Payload chunk payload signature verification failed.");n.pYb=new n(6007,d.default.P.fa,"No message data found.");new n(6008,d.default.P.fa,"Malformed message data.");n.vYb=new n(6009,d.default.P.fa,"Message header/error data signature verification failed.");n.O9a=new n(6010,d.default.P.fa,"No header data found.");n.DZb=new n(6011,d.default.P.fa,"No payload data found in non-EOM payload chunk.");new n(6012,d.default.P.fa,"Corrupt payload data found in non-EOM payload chunk.");n.jib=new n(6013,d.default.P.fa,"Unidentified compression algorithm.");new n(6014,d.default.P.j4,"Message expired and not renewable. Rejected.");n.Bbb=new n(6015,d.default.P.fa,"Message ID is out of range.");n.xXb=new n(6016,d.default.P.fa,"Error header internal code is negative.");n.o1b=new n(6017,d.default.P.fa,"Unexpected response message ID. Possible replay.");new n(6018,d.default.P.k5,"Message response requires encryption.");n.HZb=new n(6019,d.default.P.fa,"Payload chunk sequence number is out of range.");n.FZb=new n(6020,d.default.P.fa,"Payload chunk message ID is out of range.");new n(6021,d.default.P.hGa,"Non-replayable message replayed.");n.YWb=new n(6022,d.default.P.fa,"Non-replayable message sent without a master token.");new n(6023,d.default.P.fa,"Invalid Header signature.");new n(6024,d.default.P.fa,"Invalid header data.");new n(6025,d.default.P.fa,"Invalid payload.");new n(6026,d.default.P.fa,"Invalid payload signature.");new n(6027,d.default.P.k5,"Message response requires a master token.");new n(6028,d.default.P.Oe,"Message response requires a user ID token.");new n(6029,d.default.P.fa,"User-associated message requires user authentication data.");new n(6030,d.default.P.fa,"Message sender is equal to the local entity or not the master token entity.");n.fZb=new n(6031,d.default.P.fa,"Non-replayable message requires a master token.");n.Hcb=new n(6032,d.default.P.fa,"Non-replayable message non-replayable ID is out of range.");new n(6033,d.default.P.fa,"Service token master token or user ID token serial number does not match the message token serial numbers.");new n(6034,d.default.P.fa,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers.");new n(6035,d.default.P.k5,"Message response requires integrity protection.");n.KWb=new n(6036,d.default.P.fa,"Handshake message is not renewable or does not contain key request data.");new n(6037,d.default.P.fa,"Message recipient does not match local identity.");n.qYb=new n(6038,d.default.P.li,"Message header entity-based signature verification failed.");n.tYb=new n(6039,d.default.P.pg,"Message header master token-based signature verification failed.");new n(6040,d.default.P.pg,"Non-replayable message replayed with a sequence number that is too far out of sync to recover.");new n(6041,d.default.P.fa,"Message sender is equal to the local entity.");n.n1b=new n(6042,d.default.P.fa,"User authentication data included in unencrypted message header.");n.uYb=new n(6043,d.default.P.fa,"Message sender entity identity does not match expected identity.");n.rYb=new n(6044,d.default.P.j4,"Message expired and not renewable. Rejected.");n.sYb=new n(6045,d.default.P.j4,"Message expired and missing key request data. Rejected.");new n(6046,d.default.P.pg,"Master token identity does not match entity authentication data identity.");n.LWb=new n(6047,d.default.P.fa,"Handshake message requires key request data.");n.kib=new n(7E3,d.default.P.fa,"Unable to identify key exchange scheme.");n.vCa=new n(7001,d.default.P.fa,"No factory registered for key exchange scheme.");new n(7002,d.default.P.fa,"No key request found matching header key response data.");new n(7003,d.default.P.fa,"Unable to identify key exchange key ID.");new n(7004,d.default.P.fa,"Unsupported key exchange key ID.");n.r1b=new n(7005,d.default.P.fa,"Unable to identify key exchange mechanism.");n.mib=new n(7006,d.default.P.fa,"Unsupported key exchange mechanism.");n.nab=new n(7007,d.default.P.fa,"Key exchange response does not match request.");n.KXb=new n(7008,d.default.P.fa,"Key exchange private key missing.");new n(7009,d.default.P.fa,"Key exchange parameters ID unknown or invalid.");new n(7010,d.default.P.fa,"Master token required for key exchange is missing.");new n(7011,d.default.P.fa,"Key exchange public key is invalid.");new n(7012,d.default.P.fa,"Key exchange public key missing.");new n(7013,d.default.P.fa,"Key exchange wrapping key missing.");new n(7014,d.default.P.fa,"Key exchange wrapping key ID missing.");new n(7015,d.default.P.fa,"Key exchange wrapping key is invalid.");new n(7016,d.default.P.fa,"Entity used incorrect key exchange data type.");new n(7017,d.default.P.fa,"Entity used incorrect key exchange mecahnism.");new n(7018,d.default.P.fa,"Key exchange derivation key missing.");new n(7019,d.default.P.fa,"Key exchange encryption key is invalid.");new n(7020,d.default.P.fa,"Key exchange HMAC key is invalid.");new n(7021,d.default.P.fa,"Key exchange wrap data is invalid.");new n(7022,d.default.P.fa,"Unsupported key exchange scheme.");new n(7023,d.default.P.fa,"Key exchange identity not found.");n.nC=new n(9E3,d.default.P.Hr,"Internal exception.");new n(9001,d.default.P.fa,"Error communicating with MSL entity.");n.NONE=new n(9999,d.default.P.fa,"Special unit test error.");return n;})();b["default"]=t;},1966:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(f,g,e){return n.call(this,"MslException",f,g,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},18595:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(f,g,e){var h;h=this.constructor;g=n.call(this,g) || this;h=h.prototype;"undefined" === typeof Object.setPrototypeOf?g.__proto__=h:Object.setPrototypeOf(g,h);g.name=f;g.Fc=e;f=g.toString();g.stack && (f+="\n" + g.stack);g.Fc && g.Fc.stack && (f+="\nCaused by " + g.Fc.stack);g.stack=f;return g;}d.__extends(c,n);c.prototype.toString=function(){return this.name + ": " + this.message;};return c;})(Error);b["default"]=t;},10690:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(f,g){return n.call(this,"MslInternalException",f,g) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(18595)).default);b["default"]=t;},25978:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(f,g){return n.call(this,"MslInterruptedException",f,g) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(18595)).default);b["default"]=t;},48795:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(f,g){return n.call(this,"MslIoException",f,g) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(18595)).default);b["default"]=t;},35661:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(f,g,e){return n.call(this,"MslKeyExchangeException",f,g,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},80760:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(f,g){f=n.call(this,"MslMasterTokenException",f) || this;f.bc=g;return f;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},20754:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(f,g,e){return n.call(this,"MslMessageException",f,g,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},88361:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(f,g,e){return n.call(this,"MslUserAuthException",f,g,e) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},67609:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(f,g,e,h){f=n.call(this,"MslUserIdTokenException",f,e,h) || this;f.kg=g;return f;}d.__extends(c,n);return c;})(d.__importDefault(a(63053)).default);b["default"]=t;},45826:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b["default"]="netflixidentity";},99075:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=d.__importDefault(a(36114));n=d.__importDefault(a(51411));a=(function(c){function f(g,e,h){return c.call(this,1E5 + g,e,h) || this;}d.__extends(f,c);new f(22,n.default.P.fa,"Error parsing ASN.1.");new f(23,n.default.P.fa,"Error encoding ASN.1.");new f(49,n.default.P.fa,"Error parsing XML.");new f(50,n.default.P.fa,"Error encoding XML.");new f(1009,n.default.P.pg,"Master token sequence number does not have the expected value.");new f(1013,n.default.P.pg,"Master token entity identity is revoked.");new f(2013,n.default.P.Oe,"The user identity was not found.");new f(2014,n.default.P.Oe,"The user identity must be reauthenticated because the password version changed.");new f(2015,n.default.P.fa,"The user ID token MSL user type is incorrect.");new f(2016,n.default.P.Oe,"The user ID token MSL user is invalid.");new f(2017,n.default.P.Hr,"Error communicating with membership service");new f(2018,n.default.P.jd,"Previous credentials are no longer valid");new f(2019,n.default.P.Oe,"The user identity was not found.");new f(2020,n.default.P.Oe,"The user identity was not found.");new f(2021,n.default.P.Oe,"The user identity was not found.");new f(4005,n.default.P.fa,"Entity not recognized.");new f(4006,n.default.P.fa,"Entity used incorrect entity authentication data type.");new f(4024,n.default.P.fa,"Cryptex RSA key set not found.");f.C8a=new f(4025,n.default.P.fa,"Entity is revoked.");new f(4028,n.default.P.li,"Error parsing Anycast challenge.");new f(4029,n.default.P.li,"Anycast challenge is not acceptable.");new f(4030,n.default.P.li,"X.509 certificates are missing from entity auth.");new f(4031,n.default.P.fa,"Cryptex ECC key set not found.");new f(4032,n.default.P.fa,"Invalid MSL Trust Store found.");new f(4033,n.default.P.fa,"Entity migration is not allowed.");new f(4034,n.default.P.li,"FairPlay Streaming key request is invalid.");new f(5E3,n.default.P.jd,"User must login again.");new f(5001,n.default.P.jd,"Netflix ID cookie identity has expired.");f.bZb=new f(5002,n.default.P.jd,"Netflix ID cookie is blank.");new f(5003,n.default.P.jd,"Secure Netflix ID cookie is blank.");new f(5005,n.default.P.Hr,"Unknown error communicating with authentication manager.");new f(5006,n.default.P.Hr,"Error communicating with authentication manager.");f.t8a=new f(5007,n.default.P.jd,"Email or password is incorrect.");new f(5008,n.default.P.jd,"Password has not been set.");new f(5009,n.default.P.oja,"SSO token is blank.");new f(5010,n.default.P.jd,"SSO token is not associated with a Netflix user.");new f(5012,n.default.P.jd,"Profile GUID is blank.");new f(5015,n.default.P.oja,"SSO token invalid.");new f(5017,n.default.P.Hr,"Error communicating with the account manager.");new f(5018,n.default.P.Hr,"SSO user association failed.");new f(5019,n.default.P.Hr,"SSO user disassociation failed.");new f(5020,n.default.P.jd,"MDX user authentication data verification failed.");new f(5022,n.default.P.jd,"MDX user authentication data action is invalid.");new f(5023,n.default.P.jd,"CTicket decryption failed.");new f(5026,n.default.P.jd,"Error creating CTicket crypto context.");new f(5027,n.default.P.jd,"MDX controller or target PIN is blank.");new f(5028,n.default.P.jd,"MDX controller and target PIN mismatch.");new f(5029,n.default.P.jd,"MDX controller user ID token or CTicket is not decrypted or verified.");new f(5031,n.default.P.jd,"MDX controller authentication data is invalid.");new f(5032,n.default.P.jd,"User authentication data does not match entity identity.");new f(5033,n.default.P.fa,"Entity used incorrect user authentication data type.");new f(5034,n.default.P.jd,"SSO user association failed because the customer is not a member.");new f(5035,n.default.P.jd,"SSO user association failed because the customer is a former member.");new f(5036,n.default.P.jd,"SSO user association failed because the token identifies a different member.");new f(5038,n.default.P.jd,"Not permitted to switch to the requested user profile.");new f(5039,n.default.P.Hr,"Error communicating with the membership manager.");new f(5040,n.default.P.jd,"No entity association record found for the user.");new f(5041,n.default.P.fa,"The MSL user type is incorrect.");new f(5042,n.default.P.jd,"User entity association record query returned an error.");new f(5043,n.default.P.jd,"User entity association record query returned different entity identities.");new f(5044,n.default.P.jd,"User entity association record is deactivated.");new f(5045,n.default.P.jd,"User entity association record query returned different user identities.");new f(5046,n.default.P.Oe,"No entity association record found for the user.");new f(5047,n.default.P.Oe,"User entity association record query returned an error.");new f(5048,n.default.P.Oe,"User entity association record query returned different entity identities.");new f(5049,n.default.P.Oe,"User entity association record is deactivated.");new f(5050,n.default.P.Oe,"User entity association record query returned different user identities.");new f(5052,n.default.P.Oe,"User entity association record query returned different user identities.");new f(5053,n.default.P.Hr,"The maximum number of devices has been reached for this user.");f.Hcb=new f(6032,n.default.P.fa,"Non-replayable message non-replayable ID is out of range.");new f(7E3,n.default.P.fa,"Invalid key exchange GUID.");new f(7001,n.default.P.Hr,"Error communicating with key exchange service");new f(7002,n.default.P.fa,"Identity in challenge doesn't match device identity");new f(7003,n.default.P.fa,"Error returned by key exchange service");new f(7004,n.default.P.fa,"Request rejected by key exchange service");new f(7005,n.default.P.Hr,"Internal error encountered during key exchange");new f(7006,n.default.P.fa,"Request failed validation during key exchange");new f(7007,n.default.P.fa,"Request blacklisted by key exchange service");new f(7008,n.default.P.fa,"Request could not be decoded by key exchange service");new f(7009,n.default.P.pg,"Widevine key exchange entity authentication scheme unknown.");new f(7010,n.default.P.pg,"Widevine key exchange issuer data parse error.");new f(7011,n.default.P.pg,"Widevine key exchange identity mismatch between key request data and entity auth data");new f(7012,n.default.P.pg,"Widevine key exchange identity mismatch between key request data and mastertoken");new f(7013,n.default.P.pg,"Widevine key exchange CDM ID mismatch between key request data and previous mastertoken");new f(8E3,n.default.P.fa,"Error encrypting data with cryptex.");new f(8001,n.default.P.fa,"Error decrypting data with cryptex.");new f(8002,n.default.P.fa,"Error computing MAC with cryptex.");new f(8003,n.default.P.fa,"Error verifying MAC or signature with cryptex.");new f(8004,n.default.P.fa,"Error creating cryptex cipher or MAC context.");new f(8005,n.default.P.Hr,"Error accessing data model device.");new f(8006,n.default.P.fa,"Data model device type not found.");new f(8007,n.default.P.fa,"Cryptex key set not supported.");new f(8008,n.default.P.fa,"Insufficient privileges for cryptex operation.");new f(8009,n.default.P.fa,"Error wrapping data with cryptex.");new f(8010,n.default.P.fa,"Error unwrapping data with cryptex.");new f(8011,n.default.P.Hr,"Error comunicating with cryptex.");new f(8012,n.default.P.fa,"Error computing signature with cryptex.");new f(8013,n.default.P.fa,"Error computing key fingerprint with cryptex.");new f(8014,n.default.P.fa,"Bypassing Error Header Signing.");return f;})(t.default);b["default"]=a;},48603:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.h7a=void 0;d=a(22970).__importDefault(a(10690));t=(function(){function n(){}n.prototype.encrypt=function(c,f,g,e){e.result(c);};n.prototype.decrypt=function(c,f,g){g.result(c);};n.prototype.QE=function(c,f,g,e){e.error(new d.default("Wrap is unsupported by the MSL token crypto context."));};n.prototype.FN=function(c,f,g,e){e.error(new d.default("Unwrap is unsupported by the MSL token crypto context."));};n.prototype.sign=function(c,f,g,e){e.result(new Uint8Array(0));};n.prototype.verify=function(c,f,g,e){e.result(!1);};return n;})();b.h7a=t;},69351:function(t,b,a){var d,n,c,f,g,e,h,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.iab=b.S8a=b.Algorithm=void 0;t=a(22970);d=a(96837);n=t.__importDefault(a(10690));c=t.__importDefault(a(42458));f=t.__importDefault(a(36114));g=a(50441);e=a(36911);h=a(42486);k=a(60426);l=t.__importDefault(a(42979));b.Algorithm={tF:d.Pe.tF.name,zga:d.Pe.zga.name};b.S8a={A128GCM:"A128GCM",hZc:"A256GCM"};a=(function(){function m(p,q,r,u,v){switch(q){case b.Algorithm.tF:q=d.Pe.tF;v=v && (v.Gw || v);u=u && (u.Gw || u);break;case b.Algorithm.zga:q=d.Pe.zga;v=u=u && (u.Gw || u);break;default:throw new n.default("Unsupported algorithm: " + q);}this.jk=p;this.mlb=q;this.q5b=v;this.e5b=u;}m.prototype.encrypt=function(p,q,r,u){u.error(new c.default(f.default.WAa));};m.prototype.decrypt=function(p,q,r){r.error(new c.default(f.default.lAa));};m.prototype.QE=function(p,q,r,u){l.default(u,function(){g.Tg.wrapKey("jwe+jwk",p.Gw,this.q5b,this.mlb).then(function(v){u.result(new Uint8Array(v));},function(v){u.error(new c.default(f.default.XHa,null,v));});},this);};m.prototype.FN=function(p,q,r,u){function v(w){l.default(u,function(){switch(w.type){case "secret":k.qY(w,u);break;case "public":h.oY(w,u);break;case "private":e.nY(w,u);break;default:throw new c.default(f.default.BHa,"type: " + w.type);}});}l.default(u,function(){g.Tg.unwrapKey("jwe+jwk",p,this.e5b,this.mlb,q,!1,r).then(function(w){v(w);},function(w){u.error(new c.default(f.default.DHa,null,w));});},this);};m.prototype.sign=function(p,q,r,u){u.error(new c.default(f.default.BGa));};m.prototype.verify=function(p,q,r,u){u.error(new c.default(f.default.NHa));};return m;})();b.iab=a;},11475:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pk={gGa:"raw",Xha:"jwk",pJ:"spki",hW:"pkcs8"};},25881:function(t,b,a){var d,n,c,f,g,e,h,k,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.zYa=b.BNa=b.VYb=b.mf=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(51411));c=d.__importDefault(a(42979));f=a(44127);g=d.__importDefault(a(42458));e=d.__importDefault(a(6838));h=d.__importDefault(a(88257));k=d.__importDefault(a(36114));l=d.__importDefault(a(10690));b.mf={El:1,Hz:2};m=(function(p){function q(r,u,v){var w,x,y,A,z;w=p.call(this) || this;x=b.mf.El;y=r;A=null;for(z in n.default.bAa)if(n.default.bAa[z] == r){x=b.mf.Hz;y=null;A=r;break;}w.version=x;w.YA=y;w.Jbc=A;w.iv=u;w.tG=v;return w;}d.__extends(q,p);q.prototype.In=function(r,u,v){var w;w=this;c.default(v,function(){var x;x=r.qf();switch(w.version){case b.mf.El:x.put("keyid",w.YA);w.iv && x.put("iv",w.iv);x.put("ciphertext",w.tG);x.put("sha256",f.pk("AA=="));break;case b.mf.Hz:x.put("version",w.version);x.put("cipherspec",w.Jbc);w.iv && x.put("iv",w.iv);x.put("ciphertext",w.tG);break;default:throw new l.default("Ciphertext envelope version " + w.version + " encoding unsupported.");}r.Jj(x,u,v);},this);};return q;})(t.Po);b.VYb=m;b.BNa=function(p,q,r,u){c.default(u,function(){return new m(p,q,r);});};b.zYa=function(p,q,r){c.default(r,function(){var u,v,w,x,y;if(!q)try{q=p.nR("version");u=!1;for(v in b.mf)if(b.mf[v] == q){u=!0;break;}if(!u)throw new g.default(k.default.iib,"ciphertext envelope " + p);}catch(A){if(A instanceof e.default)q=b.mf.El;else throw A;}switch(q){case b.mf.El:try{w=p.xe("keyid");x=p.has("iv")?p.wd("iv"):null;y=p.wd("ciphertext");p.wd("sha256");}catch(A){if(A instanceof e.default)throw new h.default(k.default.af,"ciphertext envelope " + p,A);throw A;}break;case b.mf.Hz:try{if(p.nR("version") != b.mf.Hz)throw new g.default(k.default.iib,"ciphertext envelope " + p);w=n.default.bAa.bR(p.xe("cipherspec"));if(!w)throw new g.default(k.default.p1b,"ciphertext envelope " + p);x=p.has("iv")?p.wd("iv"):null;y=p.wd("ciphertext");}catch(A){if(A instanceof e.default)throw new h.default(k.default.af,"ciphertext envelope " + p,A);throw A;}break;default:throw new g.default(k.default.t1b,"ciphertext envelope " + p);}return new m(w,x,y);});};},50441:function(t,b,a){var f,g,e,h,k,l;function d(m){return "undefined" === typeof m?!1:m;}function n(m){if(m && m.length){if(k === b.Vb.Jr || k === b.Vb.Kr)m=m.map(function(p){return "wrap" == p?"wrapKey":"unwrap" == p?"unwrapKey":p;});return m;}return k === b.Vb.Jr || k === b.Vb.Kr?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function c(m){return m.then?m:g.default.create(function(p,q){m.oncomplete=function(r){p(r.target.result);};m.onerror=function(r){q(r);};});}Object.defineProperty(b,"__esModule",{value:!0});b.Tg=b.WPc=b.LSa=b.q1a=b.Vb=void 0;t=a(22970);f=a(11475);g=t.__importDefault(a(90122));e=a(69193);h=t.__importDefault(a(69763));b.Vb={yt:1,lx:2,Jr:3,Kr:4,hx:5,PXb:3};k=b.Vb.PXb;b.q1a=function(m){k=m;};b.LSa=function(){return k;};if("undefined" !== typeof Ba)if(Ba.msCrypto){l=Ba.msCrypto.subtle;k=b.Vb.yt;}else if(Ba.crypto)if(Ba.crypto.jYc)(l=Ba.crypto.jYc,k=b.Vb.Kr);else if(Ba.crypto.subtle)l=Ba.crypto.subtle;else throw new ReferenceError("Expected window.crypto.subtle but it was undefined. It may be unavailable if running in an insecure context.");b.WPc=function(m){l=m;};b.Tg={encrypt:function(m,p,q){switch(k){case b.Vb.yt:case b.Vb.lx:case b.Vb.Jr:case b.Vb.Kr:case b.Vb.hx:return (m=l.encrypt(m,p,q),c(m));default:throw Error("Unsupported Web Crypto version " + k + ".");}},decrypt:function(m,p,q){switch(k){case b.Vb.yt:case b.Vb.lx:case b.Vb.Jr:case b.Vb.Kr:case b.Vb.hx:return (m=l.decrypt(m,p,q),c(m));default:throw Error("Unsupported Web Crypto version " + k + ".");}},sign:function(m,p,q){switch(k){case b.Vb.yt:case b.Vb.lx:case b.Vb.Jr:case b.Vb.Kr:case b.Vb.hx:return (m=l.sign(m,p,q),c(m));default:throw Error("Unsupported Web Crypto version " + k + ".");}},verify:function(m,p,q,r){switch(k){case b.Vb.yt:case b.Vb.lx:case b.Vb.Jr:case b.Vb.Kr:case b.Vb.hx:return (m=l.verify(m,p,q,r),c(m));default:throw Error("Unsupported Web Crypto version " + k + ".");}},digest:function(m,p){switch(k){case b.Vb.yt:case b.Vb.lx:case b.Vb.Jr:case b.Vb.Kr:case b.Vb.hx:return (m=l.digest(m,p),c(m));default:throw Error("Unsupported Web Crypto version " + k + ".");}},generateKey:function(m,p,q){p=d(p);q=n(q);switch(k){case b.Vb.yt:case b.Vb.lx:case b.Vb.Jr:case b.Vb.Kr:case b.Vb.hx:return (m=l.generateKey(m,p,q),c(m));default:throw Error("Unsupported Web Crypto version " + k + ".");}},deriveKey:function(m,p,q,r,u){r=d(r);u=n(u);switch(k){case b.Vb.yt:case b.Vb.lx:case b.Vb.Jr:case b.Vb.Kr:case b.Vb.hx:return (m=l.deriveKey(m,p,q,r,u),c(m));default:throw Error("Unsupported Web Crypto version " + k + ".");}},deriveBits:function(m,p,q){switch(k){case b.Vb.yt:case b.Vb.lx:case b.Vb.Jr:case b.Vb.Kr:case b.Vb.hx:return (m=l.deriveBits(m,p,q),c(m));default:throw Error("Unsupported Web Crypto version " + k + ".");}},importKey:function(m,p,q,r,u){var v;r=d(r);u=n(u);switch(k){case b.Vb.yt:case b.Vb.lx:case b.Vb.Jr:case b.Vb.hx:return (q=l.importKey(m,p,q,r,u),c(q));case b.Vb.Kr:if(m == f.Pk.pJ || m == f.Pk.hW){m=h.default.GSb(q);v=h.default.HSb(u);p=h.default.JLb(p,m,v,r);if(!p)throw Error("Could not make valid JWK from DER input");p=JSON.stringify(p);q=l.importKey(f.Pk.Xha,e.vC.wd(p),q,r,u);}else q=l.importKey(m,p,q,r,u);return c(q);default:throw Error("Unsupported Web Crypto version " + k + ".");}},exportKey:function(m,p){switch(k){case b.Vb.yt:case b.Vb.lx:case b.Vb.Jr:case b.Vb.hx:return (m=l.exportKey(m,p),c(m));case b.Vb.Kr:if(m == f.Pk.pJ || m == f.Pk.hW)return (m=l.exportKey(f.Pk.Xha,p),c(m).then(function(q){q=JSON.parse(e.vC.xe(new Uint8Array(q)));q=h.default.PBb(q);if(!q)throw Error("Could not make valid DER from JWK input");return q.l9.buffer;}));m=l.exportKey(m,p);return c(m);default:throw Error("Unsupported Web Crypto version " + k + ".");}},wrapKey:function(m,p,q,r){switch(k){case b.Vb.yt:case b.Vb.hx:m=l.wrapKey(p,q,r);break;case b.Vb.lx:case b.Vb.Jr:case b.Vb.Kr:m=l.wrapKey(m,p,q,r);break;default:throw Error("Unsupported Web Crypto version " + k + ".");}return c(m);},unwrapKey:function(m,p,q,r,u,v,w){switch(k){case b.Vb.yt:m=l.unwrapKey(p,u,q);break;case b.Vb.lx:case b.Vb.Jr:case b.Vb.Kr:case b.Vb.hx:v=d(v);w=n(w);m=l.unwrapKey(m,p,q,r,u,v,w);break;default:throw Error("Unsupported Web Crypto version " + k + ".");}return c(m);}};},75007:function(t,b,a){var d,n,c,f,g,e,h,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.AYa=b.CNa=b.YYb=b.mf=void 0;t=a(22970);d=t.__importDefault(a(42979));n=t.__importDefault(a(10690));c=t.__importDefault(a(42458));f=t.__importDefault(a(51411));g=t.__importDefault(a(6838));e=t.__importDefault(a(88257));h=t.__importDefault(a(36114));k=a(44127);b.mf={El:1,Hz:2};l=(function(){function m(p,q,r){this.version=p;this.algorithm=q;this.Pea=r;}m.prototype.wd=function(p,q,r){var u;u=this;d.default(r,function(){var v;switch(u.version){case b.mf.El:return u.Pea;case b.mf.Hz:v=p.qf();v.put("version",u.version);v.put("algorithm",u.algorithm);v.put("signature",u.Pea);p.Jj(v,q,r);break;default:throw new n.default("Signature envelope version " + u.version + " encoding unsupported.");}});};return m;})();b.YYb=l;b.CNa=function(){var m,p,q,r;if(2 == arguments.length)(m=b.mf.El,p=arguments[0],q=null,r=arguments[1]);else 3 == arguments.length && (m=b.mf.Hz,q=arguments[0],p=arguments[1],r=arguments[2]);d.default(r,function(){return new l(m,q,p);});};b.AYa=function(m,p,q,r){d.default(r,function(){var u,v,w,x,y;if(p)switch(p){case b.mf.El:return new l(b.mf.El,null,m);case b.mf.Hz:try{u=q.Cp(m);v=u.nR("version");if(b.mf.Hz != v)throw new c.default(h.default.CHa,"signature envelope " + m);w=f.default.c6.bR(u.xe("algorithm"));if(!w)throw new c.default(h.default.AHa,"signature envelope " + m);x=u.wd("signature");return new l(b.mf.Hz,w,x);}catch(z){if(z instanceof g.default)throw new e.default(h.default.af,"signature envelope " + m,z);throw z;}default:throw new c.default(h.default.CHa,"signature envelope " + k.zi(m));}try{u=q.Cp(m);}catch(z){if(z instanceof g.default)u=null;else throw z;}if(u && u.has("version"))try{y=u.nR("version");y !== y && (y=b.mf.El);v=!1;for(var A in b.mf)if(b.mf[A] == y){v=!0;break;}v || (y=b.mf.El);}catch(z){z instanceof g.default && (y=b.mf.El);}else y=b.mf.El;switch(y){case b.mf.El:return new l(y,null,m);case b.mf.Hz:try{return (w=f.default.c6.bR(u.xe("algorithm")),x=u.wd("signature"),w?new l(y,w,x):new l(b.mf.El,null,m));}catch(z){if(z instanceof g.default)return new l(b.mf.El,null,m);throw z;}default:throw new c.default(h.default.CHa,"signature envelope " + m);}});};},97962:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ddb=void 0;t=(function(){function a(){}a.prototype.encrypt=function(d,n,c,f){f.result(d);};a.prototype.decrypt=function(d,n,c){c.result(d);};a.prototype.QE=function(d,n,c,f){f.result(d);};a.prototype.FN=function(d,n,c,f){f.result(d);};a.prototype.sign=function(d,n,c,f){f.result(new Uint8Array(0));};a.prototype.verify=function(d,n,c,f){f.result(!0);};return a;})();b.ddb=t;},36911:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m){if(m == g.Pk.hW){if(l instanceof Uint8Array)return l;if("string" === typeof l)try{return h.pk(l);}catch(p){throw new c.default(e.default.MV,m + " " + l,p);}throw new c.default(e.default.MV,m + " " + l);}if(m == g.Pk.Xha){if("string" === typeof l)try{l=JSON.parse(l);}catch(p){throw new c.default(e.default.MV,m + " " + l,p);}if("object" === typeof l && l.constructor === Object)return l;throw new c.default(e.default.MV,m + " " + l);}throw new c.default(e.default.MV,"Invalid format '" + m + "'");}Object.defineProperty(b,"__esModule",{value:!0});b.Fvc=b.nY=b.Afb=void 0;t=a(22970);n=t.__importDefault(a(42979));c=t.__importDefault(a(42458));f=a(50441);g=a(11475);e=t.__importDefault(a(36114));h=a(44127);k=(function(){function l(m,p,q){var u;function r(v){n.default(p,function(){u.Gw=m;u.kPa=v;return u;});}u=this;n.default(p,function(){if("object" !== typeof m || "private" != m.type)throw new TypeError("Only original private crypto keys are supported.");!q && m.extractable?f.Tg.exportKey(g.Pk.hW,m).then(function(v){r(new Uint8Array(v));},function(v){p.error(new c.default(e.default.xCa,g.Pk.hW,v));}):r(q);});}l.prototype.oD=function(){return this.kPa;};return l;})();b.Afb=k;b.nY=function(l,m){new k(l,m);};b.Fvc=function(l,m,p,q,r){n.default(r,function(){var u;u=d(l,q);f.Tg.importKey(q,u,m,!0,p).then(function(v){new k(v,r,u);},function(v){r.error(new c.default(e.default.MV,null,v));});});};},42486:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m){if(m == g.Pk.pJ){if(l instanceof Uint8Array)return l;if("string" === typeof l)try{return h.pk(l);}catch(p){throw new c.default(f.default.sO,m + " " + l,p);}throw new c.default(f.default.sO,m + " " + l);}if(m == g.Pk.Xha){if("string" === typeof l)try{l=JSON.parse(l);}catch(p){throw new c.default(f.default.sO,m + " " + l,p);}if("object" === typeof l && l.constructor === Object)return l;throw new c.default(f.default.sO,m + " " + l);}throw new c.default(f.default.sO,"Invalid format '" + m + "'");}Object.defineProperty(b,"__esModule",{value:!0});b.zTa=b.oY=b.Via=void 0;t=a(22970);n=t.__importDefault(a(42979));c=t.__importDefault(a(42458));f=t.__importDefault(a(36114));g=a(11475);e=a(50441);h=a(44127);k=(function(){function l(m,p,q){var u;function r(v){n.default(p,function(){u.Gw=m;u.kPa=v;return u;});}u=this;n.default(p,function(){if("object" !== typeof m || "public" != m.type)throw new TypeError("Only original public crypto keys are supported.");!q && m.extractable?e.Tg.exportKey(g.Pk.pJ,m).then(function(v){r(new Uint8Array(v));},function(v){p.error(new c.default(f.default.xCa,g.Pk.pJ,v));}):r(q);});}l.prototype.oD=function(){return this.kPa;};return l;})();b.Via=k;b.oY=function(l,m){new k(l,m);};b.zTa=function(l,m,p,q,r){n.default(r,function(){var u;u=d(l,q);e.Tg.importKey(q,u,m,!0,p).then(function(v){new k(v,r,u);},function(v){r.error(new c.default(f.default.sO,null,v));});});};},33863:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r;Object.defineProperty(b,"__esModule",{value:!0});b.lja=b.oF=void 0;t=a(22970);d=a(96837);n=t.__importDefault(a(42979));c=t.__importDefault(a(42458));f=t.__importDefault(a(6838));g=t.__importDefault(a(36114));e=a(50441);h=a(75007);k=a(60426);l=a(42486);m=a(36911);p=t.__importDefault(a(88257));q=a(25881);r=a(32260);b.oF={mWb:1,nWb:2,Rib:3,Sib:4,sW:5};a=(function(){function u(v,w,x,y,A){var z;x && (x=x.Gw);y && (y=y.Gw);v=A == b.oF.nWb?d.Pe.cja:A == b.oF.mWb?d.Pe.tF:"nullOp";z=A == b.oF.Sib?d.Pe.cja:A == b.oF.Rib?d.Pe.tF:"nullOp";A=A == b.oF.sW?d.Pe.S5:"nullOp";this.id=w;this.privateKey=x;this.publicKey=y;this.transform=v;this.yya=z;this.Ala=A;}u.prototype.encrypt=function(v,w,x,y){var A;A=this;n.default(y,function(){if("nullOp" == A.transform)return v;if(!A.publicKey)throw new c.default(g.default.WAa,"no public key");if(0 == v.length)return v;e.Tg.encrypt(A.transform,A.publicKey,v).then(function(z){q.BNa(A.id,null,new Uint8Array(z),{result:function(B){B.In(w,x,{result:y.result,error:function(C){C instanceof f.default && (C=new c.default(g.default.$ga,null,C));y.error(C);}});},error:function(B){r.Fd(B) || (B=new c.default(g.default.yha,null,B));y.error(B);}});},function(z){y.error(new c.default(g.default.yha,null,z));});});};u.prototype.decrypt=function(v,w,x){var y;y=this;n.default(x,function(){var A;if("nullOp" == y.transform)return v;if(!y.privateKey)throw new c.default(g.default.lAa,"no private key");if(0 == v.length)return v;try{A=w.Cp(v);}catch(z){if(z instanceof f.default)throw new c.default(g.default.M6a,null,z);throw new c.default(g.default.WI,null,z);}q.zYa(A,h.mf.El,{result:function(z){try{e.Tg.decrypt(y.transform,y.privateKey,z.tG).then(function(B){x.result(new Uint8Array(B));},function(B){x.error(new c.default(g.default.WI,null,B));});}catch(B){r.Fd(B)?x.error(B):x.error(new c.default(g.default.WI,null,B));}},error:function(z){z instanceof p.default && (z=new c.default(g.default.$ga,null,z));r.Fd(z) || (z=new c.default(g.default.WI,null,z));x.error(z);}});});};u.prototype.QE=function(v,w,x,y){var A;A=this;n.default(y,function(){if("nullOp" == A.yya || !A.publicKey)throw new c.default(g.default.Qib,"no public key");e.Tg.wrapKey("jwk",v.Gw,A.publicKey,A.yya).then(function(z){y.result(new Uint8Array(z));},function(z){y.error(new c.default(g.default.XHa,null,z));});});};u.prototype.FN=function(v,w,x,y){var z;function A(B){n.default(y,function(){switch(B.type){case "secret":k.qY(B,y);break;case "public":l.oY(B,y);break;case "private":m.nY(B,y);break;default:throw new c.default(g.default.BHa,"type: " + B.type);}});}z=this;n.default(y,function(){if("nullOp" == z.yya || !z.privateKey)throw new c.default(g.default.nib,"no private key");e.Tg.unwrapKey("jwk",v,z.privateKey,z.yya,w,!1,x).then(A,function(B){y.error(new c.default(g.default.DHa,null,B));});});};u.prototype.sign=function(v,w,x,y){var A;A=this;n.default(y,function(){if("nullOp" == A.Ala)return new Uint8Array(0);if(!A.privateKey)throw new c.default(g.default.BGa,"no private key");e.Tg.sign(A.Ala,A.privateKey,v).then(function(z){h.CNa(new Uint8Array(z),{result:function(B){B.wd(w,x,{result:y.result,error:function(C){C instanceof f.default && (C=new c.default(g.default.ngb,void 0,C));y.error(C);}});},error:y.error});},function(z){y.error(new c.default(g.default.ogb,void 0,z));});});};u.prototype.verify=function(v,w,x,y){var A;A=this;n.default(y,function(){if("nullOp" == A.Ala)return !0;if(!A.publicKey)throw new c.default(g.default.NHa,"no public key");h.AYa(w,h.mf.El,x,{result:function(z){n.default(y,function(){var B;B=y.result;e.Tg.verify(A.Ala,A.publicKey,z.Pea,v).then(B,function(C){y.error(new c.default(g.default.ogb,void 0,C));});});},error:y.error});});};return u;})();b.lja=a;},60426:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.ATa=b.qY=b.KGa=void 0;t=a(22970);d=t.__importDefault(a(42979));n=t.__importDefault(a(42458));c=t.__importDefault(a(36114));f=a(50441);g=a(11475);e=a(44127);h=(function(){function k(l,m,p){var r;function q(u){d.default(m,function(){var v;v=u?e.zi(u):void 0;r.algorithm=l.algorithm;r.Gw=l;r.XUa=u;r.O$c=v;return r;});}r=this;d.default(m,function(){if("object" !== typeof l)throw new n.default(c.default.dCa);!p && l.extractable?f.Tg.exportKey(g.Pk.gGa,l).then(function(u){q(new Uint8Array(u));},function(u){m.error(new n.default(c.default.xCa,g.Pk.gGa,u));}):q(p);});}k.prototype.size=function(){return this.XUa.length;};k.prototype.O2=function(){return this.XUa;};k.prototype.oD=function(){return this.XUa;};return k;})();b.KGa=h;b.qY=function(k,l){new h(k,l);};b.ATa=function(k,l,m,p){d.default(p,function(){try{k="string" === typeof k?e.pk(k):k;}catch(q){throw new n.default(c.default.dCa,"keydata " + k,q);}f.Tg.importKey(g.Pk.gGa,k,l,!0,m).then(function(q){new h(q,p,k);},function(q){p.error(new n.default(c.default.dCa,null,q));});});};},43088:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.b6=void 0;d=a(22970);t=a(72672);n=d.__importDefault(a(80760));c=d.__importDefault(a(36114));a=(function(f){function g(e,h,k,l,m){if(void 0 !== k || l || m)e=f.call(this,e,k?k + "_" + h.bk:"" + h.bk,l,m,null) || this;else {if(!h.Qaa())throw new n.default(c.default.ybb,h);e=f.call(this,e,h.qu + "_" + h.bk,h.Pv,h.tI,null) || this;}return e;}d.__extends(g,f);return g;})(t.jHa);b.b6=a;},72672:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r;Object.defineProperty(b,"__esModule",{value:!0});b.jHa=void 0;t=a(22970);d=t.__importDefault(a(42979));n=t.__importDefault(a(42458));c=t.__importDefault(a(36114));f=a(25881);g=t.__importDefault(a(6838));e=a(50441);h=a(96837);k=t.__importDefault(a(88257));l=a(60426);m=a(42486);p=a(36911);q=a(75007);r=a(32260);a=(function(){function u(v,w,x,y,A){this.sk=v;this.id=w;this.Pv=null === x || void 0 === x?void 0:x.Gw;this.tI=null === y || void 0 === y?void 0:y.Gw;this.wrapKey=null === A || void 0 === A?void 0:A.Gw;}u.prototype.encrypt=function(v,w,x,y){var A;A=this;d.default(y,function(){var z;if(!A.Pv)throw new n.default(c.default.WAa,"no encryption/decryption key");if(0 == v.length)return v;z=new Uint8Array(16);A.sk.byb().QDc(z);e.Tg.encrypt({name:h.Pe.RN.name,iv:z},A.Pv,v).then(function(B){f.BNa(A.id,z,new Uint8Array(B),{result:function(C){C.In(w,x,{result:y.result,error:function(D){D instanceof g.default && (D=new n.default(c.default.$ga,null,D));y.error(D);}});},error:function(C){r.Fd(C) || (C=new n.default(c.default.yha,null,C));y.error(C);}});},function(B){y.error(new n.default(c.default.yha,null,B));});});};u.prototype.decrypt=function(v,w,x){var y;y=this;d.default(x,function(){var A;if(!y.Pv)throw new n.default(c.default.lAa,"no encryption/decryption key");if(0 == v.length)return v;try{A=w.Cp(v);}catch(z){if(z instanceof g.default)throw new n.default(c.default.M6a,null,z);throw new n.default(c.default.WI,null,z);}f.zYa(A,f.mf.El,{result:function(z){try{e.Tg.decrypt({name:h.Pe.RN.name,iv:z.iv},y.Pv,z.tG).then(function(B){x.result(new Uint8Array(B));},function(B){x.error(new n.default(c.default.WI,null,B));});}catch(B){r.Fd(B)?x.error(B):x.error(new n.default(c.default.WI,null,B));}},error:function(z){z instanceof k.default && (z=new n.default(c.default.$ga,null,z));r.Fd(z) || (z=new n.default(c.default.WI,null,z));x.error(z);}});});};u.prototype.QE=function(v,w,x,y){var A;A=this;d.default(y,function(){if(!A.wrapKey)throw new n.default(c.default.Qib,"no wrap/unwrap key");e.Tg.wrapKey("raw",v.Gw,A.wrapKey,A.wrapKey.algorithm).then(function(z){y.result(new Uint8Array(z));},function(z){y.error(new n.default(c.default.XHa,null,z));});});};u.prototype.FN=function(v,w,x,y){var z;function A(B){d.default(y,function(){switch(B.type){case "secret":l.qY(B,y);break;case "public":m.oY(B,y);break;case "private":p.nY(B,y);break;default:throw new n.default(c.default.BHa,"type: " + B.type);}});}z=this;d.default(y,function(){if(!z.wrapKey)throw new n.default(c.default.nib,"no wrap/unwrap key");e.Tg.unwrapKey("raw",v,z.wrapKey,z.wrapKey.algorithm,w,!1,x).then(function(B){A(B);},function(B){y.error(new n.default(c.default.DHa,null,B));});},this);};u.prototype.sign=function(v,w,x,y){var A;A=this;d.default(y,function(){if(!A.tI)throw new n.default(c.default.BGa,"no signature key.");e.Tg.sign(A.tI.algorithm,A.tI,v).then(function(z){d.default(y,function(){q.CNa(new Uint8Array(z),{result:function(B){B.wd(w,x,{result:y.result,error:function(C){d.default(y,function(){C instanceof g.default && (C=new n.default(c.default.ngb,void 0,C));y.error(C);});}});},error:y.error});});},function(z){y.error(new n.default(c.default.Lha,null,z));});});};u.prototype.verify=function(v,w,x,y){var A;A=this;d.default(y,function(){if(!A.tI)throw new n.default(c.default.NHa,"no signature key.");q.AYa(w,q.mf.El,x,{result:function(z){d.default(y,function(){var B;B=y.result;e.Tg.verify(A.tI.algorithm,A.tI,z.Pea,v).then(B,function(C){y.error(new n.default(c.default.Lha,void 0,C));});});},error:y.error});});};return u;})();b.jHa=a;},96837:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wwc=b.Lxc=b.mxc=b.Pe=void 0;b.Pe={zga:{name:"AES-KW"},RN:{name:"AES-CBC"},cWb:{name:"ECDH"},oVb:{name:"DH"},LV:{name:"HMAC",hash:{name:"SHA-256"}},tF:{name:"RSA-OAEP",hash:{name:"SHA-1"}},cja:{name:"RSAES-PKCS1-v1_5"},l0b:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}},B4a:{name:"AES-CMAC"},dWb:{name:"ECDSA",hash:{name:"SHA-256"}},m0b:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}},S5:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},pZc:{name:"NFLX-DH"},C3c:{name:"SHA-256"},D3c:{name:"SHA-384"}};b.mxc=function(a){return "HMAC" == a.name;};b.Lxc=function(a){switch(a.name){case b.Pe.tF.name:case b.Pe.cja.name:case b.Pe.l0b.name:case b.Pe.m0b.name:case b.Pe.S5.name:return !0;default:return !1;}};b.Wwc=function(a){switch(a.name){case b.Pe.cWb.name:case b.Pe.dWb.name:return !0;default:return !1;}};},10558:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.CF={xha:["encrypt","decrypt"],t0c:["encrypt"],B_c:["decrypt"],P4c:["wrap","unwrap"],WHa:["wrap"],B4c:["unwrap"],sW:["sign","verify"],E3c:["sign"],J4c:["verify"],D_c:["deriveKey"]};},58768:function(t,b,a){var d,n,c,f,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.BHb=b.k4=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(42979));c=d.__importDefault(a(24571));f=d.__importDefault(a(36114));g=d.__importDefault(a(6838));e=d.__importDefault(a(88257));a=(function(h){function k(l){var m;m=h.call(this) || this;m.scheme=l;m.encodings={};return m;}d.__extends(k,h);k.prototype.equals=function(l){return this === l?!0:l instanceof k?this.scheme == l.scheme:!1;};k.prototype.In=function(l,m,p){var q;q=this;n.default(p,function(){if(q.encodings[m])return q.encodings[m];q.gR(l,{result:function(r){n.default(p,function(){var u;u=l.qf();u.put("scheme",q.scheme.name);u.put("authdata",r);l.Jj(u,m,{result:function(v){n.default(p,function(){return q.encodings[m]=v;});},error:p.error});});},error:p.error});});};return k;})(t.Po);b.k4=a;b.BHb=function(h,k,l){n.default(l,function(){var m,p,q,r;try{m=k.xe("scheme");p=k.Fq("authdata",h.Dg);q=h.bqc(m);if(!q)throw new c.default(f.default.q1b,m);r=h.tpa(q);if(!r)throw new c.default(f.default.YAa,q.name);r.P8(p,l);}catch(u){if(u instanceof g.default)throw new e.default(f.default.af,"entityauthdata " + k,u);throw u;}});};},80477:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.kBa=void 0;b.kBa=(function(){return function(a){this.scheme=a;};})();},36332:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.eF=void 0;t=(function(){function a(d,n,c){this.name=d;this.ioa=n;this.zJb=c;a.JB[d]=this;}a.prototype.toString=function(){return this.name;};a.$$=function(d){return a.JB[d]?a.JB[d]:null;};a.JB={};return a;})();b["default"]=t;b.eF={Pdb:new t("PSK",!0,!0),J_b:new t("PSK_PROFILE",!0,!0),R4c:new t("X509",!1,!0),oW:new t("RSA",!1,!0),bWb:new t("ECC",!1,!0),NONE:new t("NONE",!1,!1),eZb:new t("NONE_SUFFIXED",!1,!1),S1c:new t("MT_PROTECTED",!1,!1),$2c:new t("PROVISIONED",!1,!1),xYb:new t("MIGRATION",!1,!1)};},75563:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.DHc=b.b0b=void 0;d=a(22970);t=a(58768);n=a(36332);c=d.__importDefault(a(42979));f=d.__importDefault(a(6838));g=d.__importDefault(a(88257));e=d.__importDefault(a(36114));h=(function(k){function l(m,p){var q;q=k.call(this,n.eF.J_b) || this;q.ava=m;q.profile=p;return q;}d.__extends(l,k);l.prototype.zA=function(){return this.ava + "-" + this.profile;};l.prototype.gR=function(m,p){var q;q=this;c.default(p,function(){var r;r=m.qf();r.put("pskid",q.ava);r.put("profile",q.profile);return r;});};l.prototype.equals=function(m){return this === m?!0:m instanceof l?k.prototype.equals.call(this,m) && this.ava == m.ava && this.profile == m.profile:!1;};return l;})(t.k4);b.b0b=h;b.DHc=function(k){var l,m;try{l=k.xe("pskid");m=k.xe("profile");return new h(l,m);}catch(p){if(p instanceof f.default)throw new g.default(e.default.af,"psk profile authdata " + k);throw p;}};},90973:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.MHb=b.fgb=void 0;d=a(22970);t=a(58768);n=a(36332);c=d.__importDefault(a(42979));f=d.__importDefault(a(6838));g=d.__importDefault(a(88257));e=d.__importDefault(a(36114));h=(function(k){function l(m,p){var q;q=k.call(this,n.eF.oW) || this;q.qu=m;q.pva=p;return q;}d.__extends(l,k);l.prototype.zA=function(){return this.qu;};l.prototype.gR=function(m,p){var q;q=this;c.default(p,function(){var r;r=m.qf();r.put("identity",q.qu);r.put("pubkeyid",q.pva);return r;});};l.prototype.equals=function(m){return this === m?!0:m instanceof l?k.prototype.equals.call(this,m) && this.qu == m.qu && this.pva == m.pva:!1;};return l;})(t.k4);b.fgb=h;b.MHb=function(k){var l,m;try{l=k.xe("identity");m=k.xe("pubkeyid");return new h(l,m);}catch(p){if(p instanceof f.default)throw new g.default(e.default.af,"RSA authdata" + k);throw p;}};},18089:function(t,b,a){var d,n,c,f,g,e,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.ggb=void 0;d=a(22970);t=a(80477);n=a(36332);c=d.__importDefault(a(42979));f=a(90973);g=d.__importDefault(a(10690));e=d.__importDefault(a(24571));h=d.__importDefault(a(36114));k=a(33863);a=(function(l){function m(p,q){var r;r=l.call(this,n.eF.oW) || this;r.uu=p;r.store=q;return r;}d.__extends(m,l);m.prototype.P8=function(p,q){c.default(q,function(){return f.MHb(p);});};m.prototype.wA=function(p,q){var r,u,v,w;if(!(q instanceof f.fgb))throw new g.default("Incorrect authentication data type " + q + ".");r=q.qu;u=q.pva;v=this.store.$xb(u);w=this.store.jsc(u);if(u == this.uu && !w)throw new e.default(h.default.n0b,u).Zf(q);if(u != this.uu && !v)throw new e.default(h.default.o0b,u).Zf(q);return new k.lja(p,r,w,v,k.oF.sW);};return m;})(t.kBa);b.ggb=a;},88774:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.hgb=void 0;t=a(22970);d=a(42486);a(36911);n=t.__importDefault(a(10690));t.__importDefault(a(32260));a=(function(){function c(){this.RZa={};this.jJb={};}c.prototype.t6b=function(f,g){if(!(g instanceof d.Via))throw new n.default("Incorrect key data type " + g + ".");this.RZa[f]=g;};c.prototype.$xb=function(f){return this.RZa[f];};c.prototype.jsc=function(f){return this.jJb[f];};c.prototype.clear=function(){this.RZa={};this.jJb={};};return c;})();b.hgb=a;},2479:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.QHb=b.FHa=void 0;d=a(22970);t=a(58768);n=a(36332);c=d.__importDefault(a(42979));f=d.__importDefault(a(6838));g=d.__importDefault(a(88257));e=d.__importDefault(a(36114));h=(function(k){function l(m){var p;p=k.call(this,n.eF.NONE) || this;p.qu=m;return p;}d.__extends(l,k);l.prototype.zA=function(){return this.qu;};l.prototype.gR=function(m,p){var q;q=this;c.default(p,function(){var r;r=m.qf();r.put("identity",q.qu);return r;});};l.prototype.equals=function(m){return this === m?!0:m instanceof l?k.prototype.equals.call(this,m) && this.qu == m.qu:!1;};return l;})(t.k4);b.FHa=h;b.QHb=function(k){var l;try{l=k.xe("identity");return new h(l);}catch(m){if(m instanceof f.default)throw new g.default(e.default.af,"Unauthenticated authdata" + k);throw m;}};},28296:function(t,b,a){var d,n,c,f,g,e,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.qib=void 0;d=a(22970);t=a(80477);n=a(36332);c=d.__importDefault(a(42979));f=a(2479);g=d.__importDefault(a(24571));e=d.__importDefault(a(36114));h=d.__importDefault(a(10690));k=a(97962);a=(function(l){function m(p){var q;q=l.call(this,n.eF.NONE) || this;q.znb=p;return q;}d.__extends(m,l);m.prototype.P8=function(p,q){c.default(q,function(){return f.QHb(p);});};m.prototype.wA=function(p,q){if(!(q instanceof f.FHa))throw new h.default("Incorrect authentication data type " + q + ".");p=q.zA();if(this.znb.$wc(p))throw new g.default(e.default.C8a,"none " + p).Zf(q);return new k.ddb();};return m;})(t.kBa);b.qib=a;},66734:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.RHc=b.H1b=void 0;d=a(22970);t=a(58768);n=a(36332);c=d.__importDefault(a(42979));f=d.__importDefault(a(6838));g=d.__importDefault(a(88257));e=d.__importDefault(a(36114));h=(function(k){function l(m,p){var q;q=k.call(this,n.eF.eZb) || this;q.root=m;q.pxa=p;return q;}d.__extends(l,k);l.prototype.zA=function(){return this.root + "." + this.pxa;};l.prototype.gR=function(m,p){var q;q=this;c.default(p,function(){var r;r=m.qf();r.put("root",q.root);r.put("suffix",q.pxa);return r;});};l.prototype.equals=function(m){return this === m?!0:m instanceof l?k.prototype.equals.call(this,m) && this.root == m.root && this.pxa == m.pxa:!1;};return l;})(t.k4);b.H1b=h;b.RHc=function(k){var l,m;try{l=k.xe("root");m=k.xe("suffix");return new h(l,m);}catch(p){if(p instanceof f.default)throw new g.default(e.default.af,"Unauthenticated suffixed authdata" + k);throw p;}};},83853:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.yUb=void 0;d=a(22970);t=a(53389);n=a(25078);c=d.__importDefault(a(48795));f=d.__importDefault(a(79804));a=(function(g){function e(h){var k;k=g.call(this) || this;k.Ht=h;k.Sb=null;k.Rn=0;k.qv=-1;k.Fl=!1;return k;}d.__extends(e,g);e.prototype.abort=function(){this.Ht.abort();};e.prototype.close=function(h,k){this.Fl=!0;this.Ht.close(h,k);};e.prototype.mark=function(h){var k;if(!this.Sb)(this.Sb=new n.Tga(),this.Rn=0);else if(0 < this.Rn){k=this.Sb.O2();this.Sb=new n.Tga();this.Sb.write(k,this.Rn,k.length - this.Rn,-1,{result:function(){},error:function(){}});this.Rn=0;}this.qv=h;};e.prototype.reset=function(){if(!this.Sb)throw new c.default("Cannot reset before input stream has been marked or if mark has been invalidated.");this.Rn=0;};e.prototype.read=function(h,k,l){var p;function m(q,r){var u;if(!r)return q;p.Sb && (-1 != p.qv && p.Sb.size() + r.length > p.qv?(p.Sb=null,p.Rn=0,p.qv=-1):(p.Sb.write(r,0,r.length,-1,{result:function(){},error:function(){}}),p.Rn+=r.length));if(!q)return r;u=new Uint8Array(q.length + r.length);u.set(q);u.set(r,q.length);return u;}p=this;f.default(l,function(){var q,r;if(p.Fl)throw new c.default("Stream is already closed.");if(p.Sb && p.Sb.size() > p.Rn){q=void 0;q=-1 == h?p.Sb.size():Math.min(p.Sb.size(),p.Rn + h);r=p.Sb.O2().subarray(p.Rn,q);p.Rn+=r.length;if(r.length >= h)return r;}else r=null;q=-1;-1 != h && (q=h - (r?r.length:0));p.Ht.read(q,k,{result:function(u){f.default(l,function(){return m(r,u);});},timeout:function(u){f.default(l,function(){var v;v=m(r,u);l.timeout(v);});},error:l.error});});};e.prototype.skip=function(h,k,l){var m;m=this;f.default(l,function(){var p;if(m.Fl)throw new c.default("Stream is already closed.");p=0;if(m.Sb && m.Sb.size() > m.Rn && (p=Math.min(h,m.Sb.size() - m.Rn),m.Rn+=p,p == h))return p;m.read(h - p,k,{result:function(q){f.default(l,function(){return q?q.length + p:p;});},timeout:function(q){f.default(l,function(){return q?q.length + p:p;});},error:l.error});});};return e;})(t.Vha);b.yUb=a;},99881:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.F6a=void 0;d=a(22970);t=a(53389);n=d.__importDefault(a(79804));c=d.__importDefault(a(48795));a=(function(f){function g(e){var h;h=f.call(this) || this;h.kk=e;h.Fl=!1;h.qx=0;h.aJa=-1;return h;}d.__extends(g,f);g.prototype.abort=function(){};g.prototype.close=function(e,h){var k;k=this;n.default(h,function(){return k.Fl=!0;});};g.prototype.mark=function(){this.aJa=this.qx;};g.prototype.reset=function(){if(-1 == this.aJa)throw new c.default("Cannot reset before input stream has been marked or if mark has been invalidated.");this.qx=this.aJa;};g.prototype.read=function(e,h,k){var l;l=this;n.default(k,function(){var m;if(l.Fl)throw new c.default("Stream is already closed.");if(l.qx == l.kk.length)return null;-1 == e && (e=l.kk.length - l.qx);m=l.kk.subarray(l.qx,l.qx + e);l.qx+=m.length;return m;});};g.prototype.skip=function(e,h,k){var l;l=this;n.default(k,function(){var m;m=l.qx;l.qx=Math.min(l.qx + e,l.kk.length);return l.qx - m;});};return g;})(t.Vha);b.F6a=a;},25078:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Tga=void 0;d=a(22970).__importDefault(a(48795));t=(function(){function n(){this.Fl=!1;this.Vz=new Uint8Array(0);this.iIa=[];}n.prototype.abort=function(){};n.prototype.close=function(c,f){this.Fl=!0;f.result(!0);};n.prototype.write=function(c,f,g,e,h){var k;try{if(this.Fl)throw new d.default("Stream is already closed.");if(0 > f)throw new RangeError("Offset cannot be negative.");if(0 > g)throw new RangeError("Length cannot be negative.");if(f + g > c.length)throw new RangeError("Offset plus length cannot be greater than the array length.");k=c.subarray(f,Math.min(c.length,f + g));this.iIa.push(k);h.result(k.length);}catch(l){h.error(l);}};n.prototype.flush=function(c,f){var g,e;try{for(;0 < this.iIa.length;){g=this.iIa.shift();if(this.Vz){e=new Uint8Array(this.Vz.length + g.length);e.set(this.Vz);e.set(g,this.Vz.length);this.Vz=e;}else this.Vz=new Uint8Array(g);}f.result(!0);}catch(h){f.error(h);}};n.prototype.size=function(){this.flush(1,{result:function(){},error:function(){}});return this.Vz.length;};n.prototype.O2=function(){this.flush(1,{result:function(){},error:function(){}});return this.Vz;};return n;})();b.Tga=t;},98263:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.f7a=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(12457));a=(function(){function c(){var f,g,e;f=n.default.Me();f.JX=d.default.$e;g={values:[],stack:[],Um:void 0,ep:void 0,mQ:void 0};e=!1;f.onerror=function(){e || (e=!0,f.end());};f.onopenobject=function(h){var k;if(g.Um)(g.Um[g.mQ]={},g.stack.push(g.Um),g.Um=g.Um[g.mQ]);else if(g.ep){k={};g.stack.push(g.ep);g.ep.push(k);g.Um=k;g.ep=void 0;}else g.Um={};g.mQ=h;};f.oncloseobject=function(){var h;h=g.stack.pop();h?"object" === typeof h?g.Um=h:(g.Um=void 0,g.ep=h):(g.values.push(g.Um),g.Um=void 0,f.pause());};f.onopenarray=function(){var h;if(g.Um)(g.Um[g.mQ]=[],g.stack.push(g.Um),g.ep=g.Um[g.mQ],g.Um=void 0);else if(g.ep){h=[];g.stack.push(g.ep);g.ep.push(h);g.ep=h;}else g.ep=[];};f.onclosearray=function(){var h;h=g.stack.pop();h?"object" === typeof h?(g.Um=h,g.ep=void 0):g.ep=h:(g.values.push(g.ep),g.ep=void 0,f.pause());};f.onkey=function(h){g.mQ=h;};f.onvalue=function(h){g.Um?g.Um[g.mQ]=h:g.ep?g.ep.push(h):(g.values.push(h),f.pause());};this.Ie=f;this.$a=g;}c.prototype.write=function(f){this.Ie.resume();this.Ie.write(f);};c.prototype.IFb=function(){var f;f=this.$a;0 == f.values.length && 0 < this.Ie.pending.length && (this.Ie.resume(),this.Ie.parse());if(0 < f.values.length)return f.values.shift();};return c;})();b.f7a=a;},30370:function(t,b,a){var d,n,c,f,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.S7a=void 0;d=a(22970);t=a(21399);n=a(65630);c=a(77593);f=d.__importDefault(a(6838));g=d.__importDefault(a(42979));e=a(72536);a=(function(h){function k(){return null !== h && h.apply(this,arguments) || this;}d.__extends(k,h);k.prototype.Vxb=function(){return n.pC.JSON;};k.prototype.xoc=function(l,m){if(n.pC.JSON === m)return new c.hab(this,l);throw new f.default("Unsupported encoder format: " + m + ".");};k.prototype.Cp=function(l){var m;m=this.tHc(l);if(n.pC.JSON == m)return new e.wO(this,l);throw new f.default("Unsupported encoder format: " + m + ".");};k.prototype.Jj=function(l,m,p){var q;q=this;g.default(p,function(){if(n.pC.JSON == m)e.Jtb(q,l,p);else throw new f.default("Unsupported encoder format: " + m + ".");});};return k;})(t.Acb);b.S7a=a;},14894:function(t,b,a){var d,n,c,f,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.o$a=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(79804));c=a(69193);f=a(99881);g=a(65630);e=t.__importDefault(a(48795));a=(function(){function h(k){this.rJa=k;this.Sb=void 0;this.qv=-1;this.NW=void 0;this.Ag=this.Tr=!1;this.v3b=void 0;this.Wjb=[];}h.prototype.abort=function(){this.rJa.abort();};h.prototype.close=function(k,l){var m;m=this;n.default(l,function(){if(m.Sb)m.Sb.close(k,l);else return !0;});};h.prototype.mark=function(k){this.Sb?this.Sb.mark(k):this.qv=k;};h.prototype.reset=function(){this.Sb && this.Sb.reset();};h.prototype.G$=function(){return this.Wjb;};h.prototype.read=function(k,l,m){var q;function p(r){n.default(m,function(){if(!r)return new Uint8Array(0);q.rJa.Y$({result:function(u){n.default(m,function(){var v;if(u.kra)(q.Tr=!0,m.timeout());else {if(u.wL)throw (q.NW=u.error || new e.default("Unknown HTTP exception."),q.NW);if(!u.response)throw (q.NW=new e.default("Missing HTTP response."),q.NW);q.Wjb=u.response.headers;if(void 0 !== u.response.json){q.v3b=u.response.json;v=new Uint8Array([g.pC.JSON.identifier]);}else if(u.response.content instanceof Uint8Array)v=u.response.content;else if("string" === typeof u.response.body)v=c.vC.wd(u.response.body,d.default.kVb);else throw new e.default("Missing HTTP response content.");q.Sb=new f.F6a(v);-1 != q.qv && q.Sb.mark(q.qv);q.Sb.read(k,l,m);}});},error:m.error});});}q=this;n.default(m,function(){if(q.NW)throw q.NW;if(q.Tr)m.timeout();else {if(q.Ag)return new Uint8Array(0);q.Sb?q.Sb.read(k,l,m):q.rJa.close(l,{result:function(r){p(r);},timeout:m.timeout,error:m.error});}});};h.prototype.skip=function(){throw Error("wat?");};return h;})();b.o$a=a;},41161:function(t,b,a){var d,n,c,f,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.q$a=void 0;t=a(22970);d=t.__importDefault(a(10690));n=t.__importDefault(a(42979));c=a(89752);f=t.__importDefault(a(79804));g=a(25078);e=t.__importDefault(a(48795));a=(function(){function h(k,l){this.QIa=k;this.Jl=l;this.Sb=new g.Tga();this.Uja=this.jq=void 0;this.Ag=!1;this.yP=new c.I3();}h.prototype.setTimeout=function(k){this.Jl=k;};h.prototype.Y$=function(k){var l;l=this;this.yP.kda(-1,{result:function(m){n.default(k,function(){m && l.yP.add(m);return m;});},timeout:function(){n.default(k,function(){l.jq={wL:!0};l.yP.add(l.jq);l.abort();throw new d.default("Timeout while waiting for HttpOutputStream.getResponse() despite no timeout being specified.");});},error:function(m){n.default(k,function(){l.jq={wL:!0};l.yP.add(l.jq);throw m;});}});};h.prototype.abort=function(){this.Uja && this.Uja.abort();this.Ag=!0;};h.prototype.close=function(k,l){var m;m=this;f.default(l,function(){var p;if(m.jq || m.Uja || m.Ag)return !0;p=m.Sb.O2();0 < p.length && (m.Uja=m.QIa.Y$({body:p},{result:function(q){m.jq={response:q};m.yP.add(m.jq);},timeout:function(){m.jq={kra:!0};m.yP.add(m.jq);},error:function(q){m.jq={wL:!0,error:q};m.yP.add(m.jq);}}));return !0;});};h.prototype.write=function(k,l,m,p,q){var r;r=this;f.default(q,function(){if(r.jq)throw new e.default("HttpOutputStream already closed.");r.Sb.write(k,l,m,p,q);},this);};h.prototype.flush=function(k,l){var m;m=this;f.default(l,function(){if(m.jq)return !0;m.Sb.flush(k,l);});};return h;})();b.q$a=a;},53389:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.Vha=void 0;d=a(22970).__importDefault(a(79804));t=(function(){function n(){}n.prototype.skip=function(c,f,g){this.read(c,f,{result:function(e){d.default(g,function(){return e?e.length:0;});},timeout:function(e){d.default(g,function(){return e?e.length:0;});},error:g.error});};return n;})();b.Vha=t;},89768:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.Yha=void 0;d=a(22970);n=a(77633);c=a(9E3);f=a(48235);g=a(65630);e=a(69193);h=d.__importDefault(a(6838));k=a(44127);l=d.__importDefault(a(42979));m=a(72536);p=a(32260);t=(function(q){function r(u,v){var w,y;w=q.call(this,null) || this;w.IQ=u;u=[];if(v instanceof Array)u=v;else if(v instanceof n.Rk)for(var x=0;x < v.size();++x)u.push(v.wf(x));else if(v instanceof Uint8Array)try{x=e.vC.xe(v,e.lC.zF);y=JSON.parse(x);if(!(y instanceof Array))throw new h.default("Invalid JSON array encoding.");u=y;}catch(A){if(!p.Fd(A))throw new h.default("Invalid JSON array encoding.",A);throw A;}try{for(v=0;v < u.length;++v)w.put(-1,u[v]);}catch(A){if(A instanceof TypeError)throw new h.default("Invalid MSL array encoding.",A);throw A;}return w;}d.__extends(r,q);r.prototype.put=function(u,v){var w;try{w=v instanceof Object && v.constructor === Object?new m.wO(this.IQ,v):v instanceof Array?new r(this.IQ,v):v;}catch(x){if(x instanceof h.default)throw new TypeError("Unsupported JSON object or array representation.");throw x;}return q.prototype.put.call(this,u,w);};r.prototype.wd=function(u){var v;v=this.get(u);if(v instanceof Uint8Array)return v;try{if(v instanceof String)return k.pk(v.valueOf(),!1);if("string" === typeof v)return k.pk(v,!1);}catch(w){}throw new h.default("MslArray[" + u + "] is not binary data.");};r.prototype.Fxa=function(u,v){var x;function w(y,A,z){l.default(v,function(){var B;if(z >= A)return y;B=x.wf(z);B instanceof Uint8Array?(y.push(k.zi(B)),w(y,A,z + 1)):B instanceof m.wO?B.GU(u,{result:function(C){l.default(v,function(){y.push(C);w(y,A,z + 1);});},error:v.error}):B instanceof r?B.Fxa(u,{result:function(C){l.default(v,function(){y.push(C);w(y,A,z + 1);});},error:v.error}):B instanceof c.cj?new m.wO(u,B).GU(u,{result:function(C){l.default(v,function(){y.push(C);w(y,A,z + 1);});},error:v.error}):B instanceof n.Rk?new r(u,B).Fxa(u,{result:function(C){l.default(v,function(){y.push(C);w(y,A,z + 1);});},error:v.error}):B instanceof f.Po?B.In(u,g.pC.JSON,{result:function(C){l.default(v,function(){new m.wO(u,C).GU(u,{result:function(D){l.default(v,function(){y.push(D);w(y,A,z + 1);});},error:v.error});});},error:v.error}):(y.push(B),w(y,A,z + 1));});}x=this;l.default(v,function(){var y;y=x.size();w([],y,0);});};return r;})(n.Rk);b.Yha=t;},72536:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r;Object.defineProperty(b,"__esModule",{value:!0});b.wO=b.Jtb=void 0;d=a(22970);n=a(77633);c=a(9E3);f=a(69193);g=a(48235);e=a(65630);h=d.__importDefault(a(6838));k=a(44127);l=d.__importDefault(a(42979));m=a(21399);p=a(89768);q=a(32260);b.Jtb=function(u,v,w){l.default(w,function(){(v instanceof r?v:new r(u,v)).YUc(u,{result:function(x){l.default(w,function(){return f.vC.wd(x,f.lC.zF);});},error:w.error});});};r=(function(u){function v(w,x){var y,B;void 0 === x && (x=null);y=u.call(this) || this;y.IQ=w;try{if((w=void 0,x instanceof c.cj))for(var A=x.I$(),z=0;z < A.length;++z)(w=A[z],y.put(w,x.wf(w)));else if(x instanceof Object && x.constructor === Object)for(w in x){if(!(w instanceof String) && "string" !== typeof w)throw new h.default("Invalid JSON object encoding.");y.put(w,x[w]);}else if(x instanceof Uint8Array){z=f.vC.xe(x,f.lC.zF);B=JSON.parse(z);if(!(B instanceof Object) || B.constructor !== Object)throw new h.default("Invalid JSON object encoding.");for(w in B){if(!(w instanceof String) && "string" !== typeof w)throw new h.default("Invalid JSON object encoding.");y.put(w,B[w]);}}}catch(C){if(C instanceof TypeError)throw new h.default("Invalid MSL object encoding.",C);if(!q.Fd(C))throw new h.default("Invalid JSON object encoding.",C);throw C;}return y;}d.__extends(v,u);v.prototype.put=function(w,x){var y;try{y=x instanceof Object && x.constructor === Object?new v(this.IQ,x):x instanceof Array?new p.Yha(this.IQ,x):x;}catch(A){if(A instanceof h.default)throw new TypeError("Unsupported JSON object or array representation.");throw A;}return u.prototype.put.call(this,w,y);};v.prototype.wd=function(w){var x;x=this.get(w);if(x instanceof Uint8Array)return x;try{if(x instanceof String)return k.pk(x.valueOf(),!1);if("string" === typeof x)return k.pk(x,!1);}catch(y){}throw new h.default("MslObject[" + m.quote(w) + "] is not binary data.");};v.prototype.GU=function(w,x){var A;function y(z,B,C){l.default(x,function(){var D,E;if(C >= B.length)return z;D=B[C];E=A.wf(D);E instanceof Uint8Array?(z[D]=k.zi(E),y(z,B,C + 1)):E instanceof v?E.GU(w,{result:function(H){l.default(x,function(){z[D]=H;y(z,B,C + 1);});},error:x.error}):E instanceof p.Yha?E.Fxa(w,{result:function(H){l.default(x,function(){z[D]=H;y(z,B,C + 1);});},error:x.error}):E instanceof c.cj?new v(w,E).GU(w,{result:function(H){l.default(x,function(){z[D]=H;y(z,B,C + 1);});},error:x.error}):E instanceof n.Rk?new p.Yha(w,E).Fxa(w,{result:function(H){l.default(x,function(){z[D]=H;y(z,B,C + 1);});},error:x.error}):E instanceof g.Po?E.In(w,e.pC.JSON,{result:function(H){l.default(x,function(){new v(w,H).GU(w,{result:function(F){l.default(x,function(){z[D]=F;y(z,B,C + 1);});},error:x.error});});},error:x.error}):(z[D]=E,y(z,B,C + 1));});}A=this;l.default(x,function(){var z;z=A.I$();y({},z,0);});};v.prototype.YUc=function(w,x){this.GU(w,{result:function(y){l.default(x,function(){return JSON.stringify(y);});},error:x.error});};return v;})(c.cj);b.wO=r;},77593:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.hab=void 0;d=a(22970);t=a(1454);n=d.__importDefault(a(42979));c=d.__importDefault(a(79804));f=d.__importDefault(a(6838));g=a(98263);e=a(72536);h=a(69193);a=(function(k){function l(m,p){var q;q=k.call(this) || this;q.Dg=m;q.Ht=p;q.rjb=h.lC.zF;q.H6="";q.Ie=new g.f7a();return q;}d.__extends(l,k);l.prototype.close=function(m,p){var q;q=this;c.default(p,function(){var r;if(0 == q.Ie.Ie.pending.length)return !0;r=h.vC.wd(q.H6.substring(0,q.H6.length - q.Ie.Ie.pending.length),q.rjb);q.Ht.reset();q.Ht.skip(r.length,m,{result:function(u){n.default(p,function(){if(u != r.length)throw new f.default("Only skipped " + u + " of " + r.length + " bytes. Source input stream may not be reusable for additional MSL messages.");return !0;});},timeout:function(u){n.default(p,function(){if(u != r.length)throw new f.default("Only skipped " + u + " of " + r.length + " bytes. Source input stream may not be reusable for additional MSL messages.");return !0;});},error:p.error});});};l.prototype.abort=function(){k.prototype.abort.call(this);this.Ht.abort();};l.prototype.zHb=function(m,p){var q;q=this;c.default(p,function(){q.Ht.mark(65536);q.Ht.read(65536,m,{result:function(r){c.default(p,function(){var u;if(!r || !r.length)return null;q.H6=h.vC.xe(r,q.rjb);u=q.Ie.Ie.pending.length + q.H6.length;if(10485760 < u)throw new f.default("JSON parsing stopped after reaching " + u + " unparsed characters.");q.Ie.write(q.H6);u=q.Ie.IFb();if(void 0 !== u)return u;setTimeout(function(){q.zHb(m,p);},0);});},timeout:p.timeout,error:function(r){n.default(p,function(){throw new f.default("Error reading from the source input stream.",r);});}});});};l.prototype.next=function(m,p){var r;function q(u){c.default(p,function(){if("object" !== typeof u)throw new f.default("Malformed MSL message. Parsed " + typeof u + " instead of object.");return new e.wO(r.Dg,u);});}r=this;c.default(p,function(){var u;u=r.Ie.IFb();void 0 !== u?q(u):r.zHb(r.Jl,{result:function(v){c.default(p,function(){if(r.Ag || !v)return null;q(v);});},timeout:p.timeout,error:p.error});});};return l;})(t.Bcb);b.hab=a;},77633:function(t,b,a){var d,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});b.Rk=void 0;d=a(22970).__importDefault(a(6838));n=a(48235);c=a(21399);f=a(9E3);g=a(46383);t=(function(){function e(h){void 0 === h && (h=null);this.list=[];if(h)for(var k=0;k < h.length;++k)this.put(-1,h[k]);}e.prototype.get=function(h){var k;if(0 > h || h >= this.list.length)throw new RangeError("MslArray[" + h + "] is negative or exceeds array length.");k=this.list[h];if(null === k || void 0 === k)throw new d.default("MslArray[" + h + "] is null.");return k instanceof Object && k.constructor === Object?new f.cj(k):k instanceof Array?new e(k):k;};e.prototype.p$=function(h){var k;k=this.get(h);if(k instanceof Boolean)return k.valueOf();if("boolean" === typeof k)return k;throw new d.default("MslArray[" + h + "] is not a boolean.");};e.prototype.wd=function(h){var k;k=this.get(h);if(k instanceof Uint8Array)return k;throw new d.default("MslArray[" + h + "] is not binary data.");};e.prototype.nR=function(h){var k;k=this.get(h);if(k instanceof Number)return k.valueOf() << 0;if("number" === typeof k)return k << 0;throw new d.default("MslArray[" + h + "] is not a number.");};e.prototype.LRa=function(h){var k;k=this.get(h);if(k instanceof e)return k;if(k instanceof Array)return new e(k);throw new d.default("MslArray[" + h + "] is not a MslArray.");};e.prototype.Fq=function(h,k){var l;l=this.get(h);if(l instanceof f.cj)return l;if(l instanceof Object && l.constructor === Object)return new f.cj(l);if(l instanceof Uint8Array)try{return k.Cp(l);}catch(m){if(m instanceof d.default)throw new d.default("MslObject[" + h + "] is not a MslObject.",m);throw m;}throw new d.default("MslArray[" + h + "] is not a MslObject.");};e.prototype.jo=function(h){var k;k=this.get(h);if(k instanceof Number)return parseInt(k.valueOf());if("number" === typeof k)return parseInt(k);throw new d.default("MslArray[" + h + "] is not a number.");};e.prototype.xe=function(h){var k;k=this.get(h);if(k instanceof String)return k.valueOf();if("string" === typeof k)return k;throw new d.default("MslArray[" + h + "] is not a string.");};e.prototype.sd=function(h){if(0 > h || h >= this.list.length)throw new RangeError("MslArray[" + h + "] is negative or exceeds array length.");return null == this.list[h];};e.prototype.size=function(){return this.list.length;};e.prototype.wf=function(h){if(0 > h || h >= this.list.length)throw new RangeError("MslArray[" + h + "] is negative or exceeds array length.");h=this.list[h];try{if(h instanceof Object && h.constructor === Object)return new f.cj(h);if(h instanceof Array)return new e(h);}catch(k){if(k instanceof TypeError)return null;}return h;};e.prototype.cua=function(h){h=this.wf(h);return h instanceof e?h:h instanceof Array?new e(h):null;};e.prototype.Qca=function(h,k){h=this.wf(h);return h instanceof String?h.valueOf():"string" === typeof h?h:k instanceof String?k.valueOf():"string" === typeof k || null === k?k:"";};e.prototype.put=function(h,k){if(-1 > h)throw new RangeError("MslArray[" + h + "] is negative.");if(!(k instanceof Boolean || "boolean" === typeof k || k instanceof Uint8Array || k instanceof Number || "number" === typeof k || k instanceof f.cj || k instanceof e || k instanceof String || "string" === typeof k || k instanceof n.Po || null === k))if(k instanceof Object && k.constructor === Object)k=new f.cj(k);else if(k instanceof Array)k=new e(k);else throw new TypeError("Value [" + typeof k + "] is an unsupported type.");for(var l=this.list.length;l < h;++l)this.list.push(null);if(-1 == h || h == this.list.length)return (this.list.push(k),this);this.list[h]=k;return this;};e.prototype.remove=function(h){var k;if(-1 > h || h >= this.list.length)throw new RangeError("MslArray[" + h + "] is negative or exceeds array length.");k=this.wf(-1 == h?this.list.length - 1:h);this.list.splice(h,1);return k;};e.prototype.equals=function(h){if(this == h)return !0;if(!(h instanceof e))return !1;try{return g.Wtb(this,h);}catch(k){if(k instanceof d.default)return !1;throw k;}};e.prototype.toString=function(){var l;for(var h="[",k=0;k < this.list.length;k++){l=this.list[k];h=l instanceof f.cj?h + "{}":l instanceof e?h + "[]":h + c.stringify(l);k != this.list.length - 1 && (h+=",");}return h + "]";};return e;})();b.Rk=t;},48235:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Po=void 0;b.Po=(function(){return function(){};})();},6838:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970);t=(function(n){function c(f,g){return n.call(this,"MslEncoderException",f,g) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(18595)).default);b["default"]=t;},21399:function(t,b,a){var d,n,c,f,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.Acb=b.stringify=b.quote=void 0;t=a(22970);d=a(44127);n=a(9E3);c=a(77633);f=a(65630);g=t.__importDefault(a(42979));e=t.__importDefault(a(6838));a(83853);b.quote=function(h){return JSON.stringify(h).replace(/["]/g,'\\"').replace(/[\\]/g,"\\\\").replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t");};b.stringify=function(h){return h instanceof n.cj || h instanceof c.Rk?h.toString():h instanceof Uint8Array?d.zi(h,!1):JSON.stringify(h).replace(/["]/g,'\\"').replace(/[\\]/g,"\\\\").replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t");};a=(function(){function h(){}h.prototype.Fgc=function(k,l,m){var q;function p(r,u){g.default(m,function(){var v;v=f.mia.iRa(u);if(!v)throw new e.default("Unidentified encoder format ID: (byte)" + u + ".");r.reset();return q.xoc(r,v);});}q=this;g.default(m,function(){k.mark(1);k.read(1,l,{result:function(r){g.default(m,function(){if(null == r || 1 > r.length)throw new e.default("End of stream reached when attempting to read the byte stream identifier.");p(k,r[0]);});},timeout:m.timeout,error:m.error});});};h.prototype.qf=function(){var k;void 0 === k && (k=null);return new n.cj(k);};h.prototype.tHc=function(k){var l;if(1 > k.length)throw new e.default("No encoding identifier found.");k=k[0];l=f.mia.iRa(k);if(!l)throw new e.default("Unidentified encoder format ID: (byte)" + k + ".");return l;};h.prototype.N8=function(k){void 0 === k && (k=null);return new c.Rk(k);};return h;})();b.Acb=a;},65630:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.pC=b.mia=void 0;t=(function(){function a(d,n){this.name=d;this.identifier=n;a.qQa[d]=this;a.pQa[n]=this;}a.iRa=function(d){return "string" === typeof d && a.qQa[d]?a.qQa[d]:"number" === typeof d && a.pQa[d]?a.pQa[d]:null;};a.pQa={};a.qQa={};return a;})();b.mia=t;b.pC={JSON:new t("JSON",123)};},46383:function(t,b,a){var c,f,g,e,h,k;function d(l,m){var p,q,r,u,v;if(l === m)return !0;if(null == l || null == m)return !1;p=l.I$();q=m.I$();if(p !== q && (null == p || null == q || p.length != q.length || !k.default.K8(p,q)))return !1;for(q=0;q < p.length;++q){r=p[q];u=l.wf(r);v=m.wf(r);if(u !== v){if(null == u || null == v)return !1;if(u instanceof Uint8Array || v instanceof Uint8Array){if((u=l.wd(r),r=m.wd(r),!k.default.equal(u,r)))return !1;}else if(u instanceof f.cj && v instanceof f.cj){if(!d(u,v))return !1;}else if(u instanceof g.Rk && v instanceof g.Rk){if(!n(u,v))return !1;}else if(typeof u !== typeof v || u != v)return !1;}}return !0;}function n(l,m){var q,r;if(l === m)return !0;if(null == l || null == m || l.size() != m.size())return !1;for(var p=0;p < l.size();++p){q=l.wf(p);r=m.wf(p);if(q !== r){if(null == q || null == r)return !1;if(q instanceof Uint8Array || r instanceof Uint8Array){if((q=l.wd(p),r=m.wd(p),!k.default.equal(q,r)))return !1;}else if(q instanceof f.cj && r instanceof f.cj){if(!d(q,r))return !1;}else if(q instanceof g.Rk && r instanceof g.Rk){if(!n(q,r))return !1;}else if(typeof q !== typeof r || q != r)return !1;}}return !0;}Object.defineProperty(b,"__esModule",{value:!0});b.nn=b.Glc=b.Wtb=b.Xtb=b.N8=void 0;t=a(22970);c=t.__importDefault(a(42979));f=a(9E3);g=a(77633);e=a(48235);h=t.__importDefault(a(6838));k=t.__importDefault(a(14945));b.N8=function(l,m,p){function q(r,u,v,w){c.default(w,function(){var x;if(v >= m.length)return u;x=m[v];if(x instanceof Boolean || "boolean" === typeof x || x instanceof Uint8Array || x instanceof Number || "number" === typeof x || x instanceof f.cj || x instanceof g.Rk || x instanceof String || "string" === typeof x || x instanceof Object && x.constructor === Object || x instanceof Array || null === x)(u.put(-1,x),q(r,u,v + 1,w));else if(x instanceof e.Po)x.In(r,r.Vxb(),{result:function(y){c.default(w,function(){var A;A=r.Cp(y);u.put(-1,A);q(r,u,v + 1,w);});},error:w.error});else throw new h.default("Class " + typeof x + " is not MSL encoding-compatible.");});}c.default(p,function(){var r,u;r=l.Dg;u=r.N8();q(r,u,0,p);});};b.Xtb=d;b.Wtb=n;b.Glc=function(l,m){if(l == m)return !0;if(null == l || null == m || l.size() != m.size())return !1;for(var p=[],q=[],r=0;r < l.size();++r)(p[r]=l.wf(r),q[r]=m.wf(r));return k.default.K8(p,q);};b.nn=function(l,m){var r;if(!l && !m)return null;l=l?new f.cj(l.oxb()):new f.cj();if(!m)return l;for(var p=m.I$(),q=0;q < p.length;++q){r=p[q];l.put(r,m.get(r));}return l;};},9E3:function(t,b,a){var d,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});b.cj=void 0;d=a(22970).__importDefault(a(6838));n=a(48235);c=a(21399);f=a(77633);g=a(46383);t=(function(){function e(h){void 0 === h && (h=null);this.map={};if(h)for(var k in h){if(!(k instanceof String) && "string" !== typeof k)throw new TypeError("Map key is not a string.");this.put(k,h[k]);}}e.prototype.get=function(h){var k;h instanceof String && (h=h.valueOf());if("string" !== typeof h)throw new TypeError("Unsupported key.");k=this.map[h];if(null === k || void 0 === k)throw new d.default("MslObject[" + c.quote(h) + "] not found.");return k instanceof Object && k.constructor === Object?new e(k):k instanceof Array?new f.Rk(k):k;};e.prototype.p$=function(h){var k;k=this.get(h);if(k instanceof Boolean)return k.valueOf();if("boolean" === typeof k)return k;throw new d.default("MslObject[" + c.quote(h) + "] is not a boolean.");};e.prototype.wd=function(h){var k;k=this.get(h);if(k instanceof Uint8Array)return k;throw new d.default("MslObject[" + c.quote(h) + "] is not binary data.");};e.prototype.nR=function(h){var k;k=this.get(h);if(k instanceof Number)return k.valueOf() << 0;if("number" === typeof k)return k << 0;throw new d.default("MslObject[" + c.quote(h) + "] is not a number.");};e.prototype.LRa=function(h){var k;k=this.get(h);if(k instanceof f.Rk)return k;if(k instanceof Array)return new f.Rk(k);throw new d.default("MslObject[" + c.quote(h) + "] is not a MslArray.");};e.prototype.Fq=function(h,k){var l;l=this.get(h);if(l instanceof e)return l;if(l instanceof Object && l.constructor === Object)return new e(l);if(l instanceof Uint8Array)try{return k.Cp(l);}catch(m){if(m instanceof d.default)throw new d.default("MslObject[" + c.quote(h) + "] is not a MslObject.");throw m;}throw new d.default("MslObject[" + c.quote(h) + "] is not a MslObject.");};e.prototype.jo=function(h){var k;k=this.get(h);if(k instanceof Number)return parseInt(k.valueOf());if("number" === typeof k)return k;throw new d.default("MslObject[" + c.quote(h) + "] is not a number.");};e.prototype.xe=function(h){var k;k=this.get(h);if(k instanceof String)return k.valueOf();if("string" === typeof k)return k;throw new d.default("MslObject[" + c.quote(h) + "] is not a string.");};e.prototype.has=function(h){if("string" !== typeof h)throw new TypeError("Null key.");return this.map.hasOwnProperty(h);};e.prototype.wf=function(h){h instanceof String && (h=h.valueOf());if("string" !== typeof h)throw new TypeError("Unsupported key.");h=this.map[h];try{if(h instanceof Object && h.constructor === Object)return new e(h);if(h instanceof Array)return new f.Rk(h);}catch(k){if(h instanceof TypeError)return null;}return h;};e.prototype.cua=function(h){h=this.wf(h);return h instanceof f.Rk?h:h instanceof Array?new f.Rk(h):null;};e.prototype.Qca=function(h,k){h=this.wf(h);return h instanceof String?h.valueOf():"string" === typeof h?h:k instanceof String?k.valueOf():"string" === typeof k || null === k?k:"";};e.prototype.put=function(h,k){h instanceof String && (h=h.valueOf());if("string" !== typeof h)throw new TypeError("Unsupported key.");if(null === k)return (delete this.map[h],this);if(k instanceof Boolean || "boolean" === typeof k || k instanceof Uint8Array || k instanceof Number || "number" === typeof k || k instanceof e || k instanceof f.Rk || k instanceof String || "string" === typeof k || k instanceof n.Po)this.map[h]=k;else if(k instanceof Object && k.constructor === Object)this.map[h]=new e(k);else if(k instanceof Array)this.map[h]=new f.Rk(k);else throw new TypeError("Value [" + typeof k + "] is an unsupported type.");return this;};e.prototype.remove=function(h){var k;h instanceof String && (h=h.valueOf());if("string" !== typeof h)throw new TypeError("Unsupported key.");k=this.wf(h);delete this.map[h];return k;};e.prototype.I$=function(){return Object.keys(this.map);};e.prototype.oxb=function(){var h,k;h={};for(k in this.map)h[k]=this.map[k];return h;};e.prototype.equals=function(h){if(this == h)return !0;if(!(h instanceof e))return !1;try{return g.Xtb(this,h);}catch(k){if(k instanceof d.default)return !1;throw k;}};e.prototype.toString=function(){var m,p;for(var h="{",k=Object.keys(this.map),l=0;l < k.length;l++){m=k[l];p=this.map[m];h=p instanceof e || p instanceof f.Rk?h + (c.quote(m) + ":{}"):h + (c.quote(m) + ":" + c.stringify(p));l != k.length - 1 && (h+=",");}return h + "}";};return e;})();b.cj=t;},1454:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Bcb=void 0;t=a(22970);d=t.__importDefault(a(79804));n=t.__importDefault(a(10690));a=(function(){function c(){this.QF=null;this.Fl=this.Ag=!1;}c.prototype.close=function(f,g){this.Fl=!0;g.result(!0);};c.prototype.abort=function(){this.Ag=!0;};c.prototype.iFb=function(f){var g;g=this;d.default(f,function(){if(g.Ag || g.Fl)return !1;if(g.QF)return !0;g.ZWa({result:function(e){d.default(f,function(){g.QF=e;return null != g.QF;});},timeout:f.timeout,error:f.error});});};c.prototype.next=function(f,g){d.default(g,function(){throw new n.default("MslTokenizer.next() must be implemented by a subclass.");});};c.prototype.ZWa=function(f){var g;g=this;d.default(f,function(){var e;if(g.Ag || g.Fl)return null;if(null != g.QF){e=g.QF;g.QF=null;return e;}g.next(-1,f);});};return c;})();b.Bcb=a;},94971:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.sib=void 0;d=a(14894);n=a(41161);t=(function(){function c(f,g){void 0 === g && (g=null);this.QIa=f;this.Jl=g;}c.prototype.setTimeout=function(f){this.Jl=f;};c.prototype.xGc=function(){var f;f=new n.q$a(this.QIa,this.Jl);return {input:new d.o$a(f),SS:f};};return c;})();b.sib=t;},93562:function(t,b,a){var f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E;function d(H,F){e.default(F,function(){var G,J,L;try{G=H.xe("keypairid");J=H.xe("mechanism");L=H.wd("publickey");if(!b.Zu[J])throw new k.default(p.default.r1b,J);}catch(K){if(K instanceof l.default)throw new m.default(p.default.af,"keydata " + H);throw K;}try{switch(J){case b.Zu.oW:case b.Zu.fab:case b.Zu.eab:case b.Zu.rCa:q.zTa(L,r.Pe.tF,u.CF.WHa,v.Pk.pJ,{result:function(K){F.result(new D(G,J,K,null));},error:F.error});break;case b.Zu.gab:q.zTa(L,r.Pe.cja,u.CF.WHa,v.Pk.pJ,{result:function(K){F.result(new D(G,J,K,null));},error:F.error});break;default:throw new w.default(p.default.mib,J);}}catch(K){if(!C.Fd(K))throw new w.default(p.default.sO,"keydata " + H,K);throw K;}});}function n(H,F){var G,J,L;try{G=F.xe("keypairid");J=F.wd("encryptionkey");L=F.wd("hmackey");}catch(K){if(K instanceof l.default)throw new m.default(p.default.af,"keydata " + F);throw K;}return new E(H,G,J,L);}function c(H,F,G,J,L){switch(G){case b.Zu.fab:case b.Zu.eab:return new y.iab(H,y.Algorithm.tF,y.S8a.A128GCM,J,L);case b.Zu.oW:case b.Zu.rCa:return new A.lja(H,F,J,L,A.oF.Rib);case b.Zu.gab:return new A.lja(H,F,J,L,A.oF.Sib);default:throw new w.default(p.default.mib,G);}}Object.defineProperty(b,"__esModule",{value:!0});b.S5a=b.HHc=b.u0b=b.FHc=b.gja=b.Zu=void 0;f=a(22970);t=a(59786);g=a(75948);e=f.__importDefault(a(42979));h=f.__importDefault(a(14945));k=f.__importDefault(a(35661));l=f.__importDefault(a(6838));m=f.__importDefault(a(88257));p=f.__importDefault(a(36114));q=a(42486);r=a(96837);u=a(10558);v=a(11475);w=f.__importDefault(a(42458));x=a(49140);y=a(69351);A=a(33863);z=f.__importDefault(a(10690));a(58892);f.__importDefault(a(80760));B=a(43088);C=a(32260);a(55531);a=a(75316);b.Zu={oW:"RSA",bWb:"ECC",fab:"JWE_RSA",eab:"JWEJS_RSA",rCa:"JWK_RSA",gab:"JWK_RSAES"};D=(function(H){function F(G,J,L,K){var M;M=H.call(this,g.$ha.Iya) || this;M.uu=G;M.ZL=J;M.publicKey=L;M.privateKey=K;return M;}f.__extends(F,H);F.prototype.yRa=function(G,J){var L;L=this;e.default(J,function(){var K;K=G.qf();K.put("keypairid",L.uu);K.put("mechanism",L.ZL);K.put("publickey",L.publicKey.oD());return K;});};F.prototype.equals=function(G){var J;if(G === this)return !0;if(!(G instanceof F))return !1;J=this.privateKey === G.privateKey || this.privateKey && G.privateKey && h.default.equal(this.privateKey.oD(),G.privateKey.oD());return H.prototype.equals.call(this,G) && this.uu == G.uu && this.ZL == G.ZL && h.default.equal(this.publicKey.oD(),G.publicKey.oD()) && J;};F.prototype.ji=function(){var G,J;G=this.publicKey.oD();J=this.privateKey && this.privateKey.oD();G=H.prototype.ji.call(this) + ":" + this.uu + ":" + this.ZL + ":" + h.default.nqa(G);J && (G+=":" + h.default.nqa(J));return G;};return F;})(t.wab);b.gja=D;b.FHc=d;E=(function(H){function F(G,J,L,K){G=H.call(this,G,g.$ha.Iya) || this;G.uu=J;G.Pv=L;G.hL=K;return G;}f.__extends(F,H);F.prototype.yRa=function(G,J){var L;L=this;e.default(J,function(){var K;K=G.qf();K.put("keypairid",L.uu);K.put("encryptionkey",L.Pv);K.put("hmackey",L.hL);return K;});};F.prototype.equals=function(G){return this === G?!0:G instanceof F?H.prototype.equals.call(this,G) && this.uu == G.uu && h.default.equal(this.Pv,G.Pv) && h.default.equal(this.hL,G.hL):!1;};F.prototype.ji=function(){return H.prototype.ji.call(this) + ":" + this.uu + ":" + h.default.nqa(this.Pv) + ":" + h.default.nqa(this.hL);};return F;})(x.xab);b.u0b=E;b.HHc=n;a=(function(H){function F(G){var J;J=H.call(this,g.$ha.Iya) || this;J.znb=G;return J;}f.__extends(F,H);F.prototype.ugc=function(G,J){d(G,J);};F.prototype.wgc=function(G,J,L){e.default(L,function(){return n(G,J);});};F.prototype.wA=function(G,J,L,K,M){e.default(M,function(){var P,I,O;if(!(J instanceof D))throw new z.default("Key request data " + J + " was not created by this factory.");if(!(L instanceof E))throw new z.default("Key response data " + L + " was not created by this factory.");P=J.uu;I=L.uu;if(P != I)throw new k.default(p.default.nab,"request " + P + "; response " + I).kc(K);I=J.privateKey;if(!I)throw new k.default(p.default.KXb,"request Asymmetric private key").kc(K);O=c(G,P,J.ZL,I,null);O.FN(L.Pv,r.Pe.RN,u.CF.xha,{result:function(Q){O.FN(L.hL,r.Pe.LV,u.CF.sW,{result:function(T){G.spa({result:function(U){e.default(M,function(){return new B.b6(G,L.bc,U.zA(),Q,T);});},error:function(U){e.default(M,function(){C.Fd(U) && U.kc(K);throw U;});}});},error:function(T){e.default(M,function(){C.Fd(T) && T.kc(K);throw T;});}});},error:function(Q){e.default(M,function(){C.Fd(Q) && Q.kc(K);throw Q;});}});});};return F;})(a.uab);b.S5a=a;},55531:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.NXb=void 0;b.NXb=(function(){return function(a,d){this.keyResponseData=a;this.cp=d;};})();},75316:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.uab=void 0;t=a(22970);t.__importDefault(a(42979));a(60426);a(96837);a(10558);t.__importDefault(a(42458));t.__importDefault(a(36114));b.uab=(function(){return function(d){this.scheme=d;};})();},75948:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$ha=void 0;t=(function(){function a(d){this.name=d;a.JB[d]=this;}a.prototype.toString=function(){return this.name;};a.$$=function(d){return a.JB[d]?a.JB[d]:null;};a.JB={};return a;})();b["default"]=t;b.$ha={Iya:new t("ASYMMETRIC_WRAPPED"),oVb:new t("DIFFIE_HELLMAN"),x1c:new t("JWE_LADDER"),y1c:new t("JWK_LADDER"),$3c:new t("SYMMETRIC_WRAPPED")};},59786:function(t,b,a){var d,n,c,f,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.FHb=b.wab=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(42979));c=d.__importDefault(a(35661));f=d.__importDefault(a(6838));g=d.__importDefault(a(88257));e=d.__importDefault(a(36114));a=(function(h){function k(l){var m;m=h.call(this) || this;m.WA=l;return m;}d.__extends(k,h);k.prototype.In=function(l,m,p){var q;q=this;this.yRa(l,{result:function(r){n.default(p,function(){var u;u=l.qf();u.put("scheme",q.WA.name);u.put("keydata",r);l.Jj(u,m,p);});},error:p.error});};k.prototype.equals=function(l){return this === l?!0:l instanceof k?this.WA == l.WA:!1;};k.prototype.ji=function(){return this.WA;};return k;})(t.Po);b.wab=a;b.FHb=function(h,k,l){n.default(l,function(){var m,p,q,r;try{m=k.xe("scheme");p=h.axb(m);if(!p)throw new c.default(e.default.kib,m);q=k.Fq("keydata",h.Dg);r=h.wRa(p);if(!r)throw new c.default(e.default.vCa,p.name);r.ugc(q,l);}catch(u){if(u instanceof f.default)throw new g.default(e.default.af,"keyrequestdata " + k,u);throw u;}});};},49140:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.GHb=b.xab=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(42979));c=a(58892);f=d.__importDefault(a(35661));g=d.__importDefault(a(36114));e=d.__importDefault(a(6838));h=d.__importDefault(a(88257));a=(function(k){function l(m,p){var q;q=k.call(this) || this;q.bc=m;q.WA=p;return q;}d.__extends(l,k);l.prototype.In=function(m,p,q){var r;r=this;this.yRa(m,{result:function(u){n.default(q,function(){var v;v=m.qf();v.put("mastertoken",r.bc);v.put("scheme",r.WA.name);v.put("keydata",u);m.Jj(v,p,q);});},error:q.error});};l.prototype.equals=function(m){return this === m?!0:m instanceof l?this.bc.equals(m.bc) && this.WA == m.WA:!1;};l.prototype.ji=function(){return this.bc.ji() + ":" + this.WA;};return l;})(t.Po);b.xab=a;b.GHb=function(k,l,m){n.default(m,function(){var p,q,r,u,v;p=k.Dg;try{q=l.Fq("mastertoken",p);r=l.xe("scheme");u=k.axb(r);if(!u)throw new f.default(g.default.kib,r);v=l.Fq("keydata",p);c.nua(k,q,{result:function(w){n.default(m,function(){var x;x=k.wRa(u);if(!x)throw new f.default(g.default.vCa,u.name);x.wgc(w,v,m);});},error:m.error});}catch(w){if(w instanceof e.default)throw new h.default(g.default.af,"keyresponsedata " + l,w);throw w;}});};},69763:function(t,b,a){var A,z,B,C,D,E,H,F;function d(G,J,L,K,M,P,I,O,Q,T,U){this.n=G;this.e=J;this.d=L;this.p=K;this.q=M;this.dp=P;this.dq=I;this.qi=O;this.alg=Q;this.wra=T;this.ext=U;}function n(G,J,L,K){this.n=G;this.e=J;this.ext=L;this.wra=K;}function c(G){this.x6=G;}function f(G,J,L,K,M,P){this.kk=G;this.FC=J || void 0;this.wjb=L || !1;this.hlb=0;this.Xka=K || 0;this.KW=M || 0;this.dP=P || 0;}function g(G,J){var L;J.lz(G.u2a << 6 | G.jNa << 5 | G.tag);L=G.WHb;if(128 > L)J.lz(L);else {for(var K=L,M=0;K;)(++M,K>>=8);J.lz(128 | M);for(K=0;K < M;++K)J.lz(L >> 8 * (M - K - 1) & 255);}if(G.pf)for((G.tag == C.TI && J.lz(0),G=G.aP);G;){if(!g(G,J))return !1;G=G.next;}else switch(G.tag){case C.Tha:G.lK[G.mA] >> 7 && J.lz(0);J.ana(G.lK,G.mA,G.eD);break;case C.TI:J.lz(0);J.ana(G.lK,G.mA,G.eD);break;case C.zia:J.ana(G.lK,G.mA,G.eD);break;case C.rEa:J.ana(G.lK,G.mA,G.eD);}return !0;}function e(G){var J,L;J=G.Eu();L=J & 127;if(L == J)return L;if(3 < L || 0 === L)return -1;for(var K=J=0;K < L;++K)J=J << 8 | G.Eu();return J;}function h(G,J,L){var K,M,P,I,O,Q,T;K=G.lK;M=new B(K,J);J+=L;L=G;if(!(8 < E++)){for(;M.position < J;){I=M.Eu();if(31 == (I & 31)){for(P=0;I & 128;)(P<<=8,P|=I & 127);I=P;}O=I;P=O & 31;if(0 > P || 30 < P)return;I=e(M);if(0 > I || I > M.W$())return;L.jNa=O & 32;L.u2a=(O & 192) >> 6;L.tag=P;L.eD=I;L.mA=M.position;P=M;Q=O;O=I;if(Q & 32)P=!0;else if(Q < C.TI || Q > C.zia)P=!1;else {T=new B(P);Q == C.TI && T.skip(1);T.Eu() >> 6 & 1?P=!1:(Q=e(T),P=T.position - P.position + Q == O);}P && (P=M.position,O=I,L.tag == C.TI && (L.mA++,L.eD--,P++,O--),L.pf=new f(K,L),h(L.pf,P,O));L.tag == C.Tha && (P=M.position,0 == M.aIb(P) && M.aIb(P + 1) >> 7 && (L.mA++,L.eD--));M.skip(I);M.position < J && (L.next=new f(K,L.parent),L=L.next);}E--;return G;}}function k(G,J,L){if(9 != L)return !1;for(L=0;9 > L;++L)if(G[J++] != H[L])return !1;return !0;}function l(G){var J;if(!(G && G.pf && G.pf.next && G.pf.pf && G.pf.next.pf))return !1;J=G.pf.pf;return k(J.lK,J.mA,J.eD) && 2 == G.t0 && 2 == G.pf.t0 && 2 == G.pf.next.pf.t0?!0:!1;}function m(G){var J;if(!(G && G.pf && G.pf.next && G.pf.next.pf && G.pf.next.next && G.pf.next.next.pf))return !1;J=G.pf.next.pf;return k(J.lK,J.mA,J.eD) && 3 == G.t0 && 2 == G.pf.next.t0 && 9 == G.pf.next.next.pf.t0?!0:!1;}function p(G){var J,L;J=D.rY();L=new c(J);L.YJ(D.rY());L.YJ(D.Xqb(H));L.Ax(D.Vqb());L.kmb(J,D.cfc(null));L.YJ(D.rY());L.YJ(D.Ix(G.n));L.Ax(D.Ix(G.e));return J;}function q(G){var J;G=G.pf.next.pf.pf;J=G.data;G=G.next;return new n(J,G.data,null,null);}function r(G){var J,L;J=D.rY();L=new c(J);L.YJ(D.Ix(new Uint8Array([0])));L.Ax(D.rY());L.YJ(D.Xqb(H));L.Ax(D.Vqb());L.kmb(J,D.igc(null));L.YJ(D.rY());L.YJ(D.Ix(new Uint8Array([0])));L.Ax(D.Ix(G.n));L.Ax(D.Ix(G.e));L.Ax(D.Ix(G.d));L.Ax(D.Ix(G.p));L.Ax(D.Ix(G.q));L.Ax(D.Ix(G.dp));L.Ax(D.Ix(G.dq));L.Ax(D.Ix(G.qi));return J;}function u(G){var J;J=[];G=G.pf.next.next.pf.pf.next;for(var L=0;8 > L;L++)(J.push(G.data),G=G.next);return new d(J[0],J[1],J[2],J[3],J[4],J[5],J[6],J[7]);}function v(G,J,L,K){if(G instanceof n || G instanceof d){if(L)for(var M=0;M < L.length;++M)if(-1 == F.indexOf(L[M]))return;J={kty:"RSA",alg:J,key_ops:L || [],ext:void 0 == K?!1:K,n:A.zi(G.n,!0),e:A.zi(G.e,!0)};G instanceof d && (J.d=A.zi(G.d,!0),J.p=A.zi(G.p,!0),J.q=A.zi(G.q,!0),J.dp=A.zi(G.dp,!0),J.dq=A.zi(G.dq,!0),J.qi=A.zi(G.qi,!0));return J;}}function w(G){var J,L,K,M,P,I,O,Q,T,U;if(G.kty && "RSA" == G.kty && G.n && G.e){J=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(!G.alg || -1 != J.indexOf(G.alg)){J=[];G.use?"enc" == G.use?J=["encrypt","decrypt","wrap","unwrap"]:"sig" == G.use && (J=["sign","verify"]):J=G.key_ops;L=G.ext;K=A.pk(G.n,!0);M=A.pk(G.e,!0);if(G.d){P=A.pk(G.d,!0);I=A.pk(G.p,!0);O=A.pk(G.q,!0);Q=A.pk(G.dp,!0);T=A.pk(G.dq,!0);U=A.pk(G.qi,!0);return new d(K,M,P,I,O,Q,T,U,G.alg,J,L);}return new n(K,M,L,J);}}}function x(G,J,L,K){this.l9=G;this.type=J;this.wra=L;this.extractable=K;}function y(G){E=0;return h(new f(G),0,G.length);}Object.defineProperty(b,"__esModule",{value:!0});b.HSb=b.GSb=b.PBb=b.JLb=b.v0b=b.JHc=b.p$b=b.KHc=b.q$b=b.LHc=b.r$b=b.w0b=b.x0b=b.iUc=b.AUb=b.vZb=b.Nxc=b.Oxc=b.show=b.parse=void 0;A=a(44127);z=a(11475);B=(function(){function G(J,L){J instanceof B?(this.UJ=J.UJ,this.position=J.position):(this.UJ=J,this.position=L || 0);}G.prototype={Eu:function(){return this.UJ[this.position++];},lz:function(J){this.UJ[this.position++]=J;},aIb:function(J){return this.UJ[J];},ana:function(J,L,K){var M;M=new Uint8Array(this.UJ.buffer,this.position,K);J=new Uint8Array(J.buffer,L,K);M.set(J);this.position+=K;},seek:function(J){this.position=J;},skip:function(J){this.position+=J;},setPosition:function(J){this.position=J;},W$:function(){return this.UJ.length - this.position;},zpa:function(){return this.UJ.length;},show:function(){return "AbvStream: pos " + (this.position.toString() + " of " + this.zpa().toString());}};return G;})();C={BZc:0,EZc:1,Tha:2,TI:3,zia:4,G5:5,rEa:6,L2c:7,m1c:8,s3c:9,w0c:10,a0c:11,E4c:12,t3c:13,E0b:16,B3c:17,v2c:18,W2c:19,r4c:20,q4c:20,K4c:21,h1c:22,D4c:23,Z0c:24,b1c:25,M4c:26,u1c:26,$0c:27,A4c:28,g_c:29,DZc:30};b.iUc=C;f.prototype={aP:void 0,QF:void 0,get data() {return new Uint8Array(this.kk.buffer.slice(this.KW,this.KW + this.dP));},get lK() {return this.kk;},get jNa() {return this.wjb;},set jNa(G) {this.wjb=0 != G?!0:!1;},get u2a() {return this.hlb;},set u2a(G) {this.hlb=G;},get tag() {return this.Xka;},set tag(G) {this.Xka=G;},get mA() {return this.KW;},set mA(G) {this.KW=G;},get eD() {return this.dP;},set eD(G) {this.dP=G;},get pf() {return this.aP;},set pf(G) {this.aP=G;this.aP.parent=this;},get next() {return this.QF;},set next(G) {this.QF=G;},get parent() {return this.FC;},set parent(G) {this.FC=G;},get WHb() {var G;G=0;if(this.aP){for(var J=this.aP;J;)(G+=J.length,J=J.next);this.Xka == C.TI && G++;}else switch(this.Xka){case C.Tha:G=this.dP;this.kk[this.KW] >> 7 && G++;break;case C.TI:G=this.dP + 1;break;case C.zia:G=this.dP;break;case C.G5:G=0;break;case C.rEa:k(this.kk,this.KW,this.dP) && (G=9);}return G;},get length() {var G,J;G=this.WHb;if(127 < G)for(J=G;J;)(J>>=8,++G);return G + 2;},get l9() {var G,J;G=this.length;if(G){G=new Uint8Array(G);J=new B(G);if(g(this,J))return G;}},get t0() {for(var G=0,J=this.aP;J;)(G++,J=J.next);return G;}};D={rY:function(){return new f(null,null,!0,C.E0b,null,null);},Xqb:function(G){return new f(G,null,!1,C.rEa,0,G?G.length:0);},Vqb:function(){return new f(null,null,!1,C.G5,null,null);},cfc:function(G){return new f(G,null,!1,C.TI,0,G?G.length:0);},Ix:function(G){return new f(G,null,!1,C.Tha,0,G?G.length:0);},igc:function(G){return new f(G,null,!1,C.zia,0,G?G.length:0);}};b.vZb=D;b.AUb=c;c.prototype={YJ:function(G){this.LKa(this.x6,G);},Ax:function(G){this.LKa(this.x6.parent,G);},LKa:function(G,J){this.x6=J;this.x6.parent=G;if(G.pf){for(G=G.pf;G.next;)G=G.next;G.next=J;}else G.pf=J;},kmb:function(G,J){this.gnc(G) && this.LKa(G,J);},gnc:function(G){for(var J=this.x6;J;){if(G == J)return !0;J=J.parent;}return !1;}};E=0;H=new Uint8Array([42,134,72,134,247,13,1,1,1]);b.show=function(){};b.Oxc=l;b.Nxc=m;b.x0b=n;b.w0b=d;b.r$b=p;b.LHc=function(G){G=y(G);if(l)return q(G);};b.q$b=r;b.KHc=function(G){G=y(G);if(m(G))return u(G);};F=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");b.p$b=v;b.JHc=w;b.JLb=function(G,J,L,K){if(G=y(G)){if(l(G))G=q(G);else if(m(G))G=u(G);else return;return v(G,J,L,K);}};b.v0b=x;x.prototype.getDer=function(){return this.l9;};x.prototype.getType=function(){return this.type;};x.prototype.getKeyOps=function(){return this.wra;};x.prototype.getExtractable=function(){return this.extractable;};b.PBb=function(G){var J,L;if(G=w(G)){if(G instanceof n)(J=z.Pk.pJ,L=p(G).l9);else if(G instanceof d)(J=z.Pk.hW,L=r(G).l9);else return;return new x(L,J,G.wra,G.ext);}};b.HSb=function(G){return G.map(function(J){return "wrapKey" == J?"wrap":"unwrapKey" == J?"unwrap":J;});};b.GSb=function(G){if("RSAES-PKCS1-v1_5" == G.name)return "RSA1_5";if("RSASSA-PKCS1-v1_5" == G.name){if("SHA-256" == G.hash.name)return "RS256";if("SHA-384" == G.hash.name)return "RS384";if("SHA-512" == G.hash.name)return "RS512";}};b.parse=y;},12457:function(t,b,a){var k,l,m,p,r,u;function d(v){for(var w in l)v[w]=l[w];}function n(v){if(!(this instanceof n))return new n(v);d(this);this.JX=k.CO;this.pending=this.q=this.c=this.p="";this.wf=v || ({});this.closed=this.eY=this.YT=this.paused=!1;this.tag=this.error=null;this.state=p.mV;this.stack=[];this.position=this.wG=0;this.line=1;this.dOb=!1;this.SQb=0;this.Pxa=null;this.depth=0;f(this,"onready");}function c(v){var w;if(!(this instanceof c))return new c(v);this.Ie=new n(v);this.readable=this.writable=!0;this.Ex=this.OX=0;this.A2a={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)};this.string="";w=this;u.apply(w);this.Ie.onend=function(){w.emit("end");};this.Ie.onerror=function(x){w.emit("error",x);w.Ie.error=null;};m.forEach(function(x){Object.defineProperty(w,"on" + x,{get:function(){return w.Ie["on" + x];},set:function(y){if(!y)return (w.removeAllListeners(x),w.Ie["on" + x]=y);w.on(x,y);},enumerable:!0,configurable:!1});});}function f(v,w,x){k.e5 && console.log("-- emit",w,x);if(v[w])v[w](x);}function g(v,w){var x,y;x=v.wf;y=v.textNode;void 0 !== y && (x.trim && (y=y.trim()),x.normalize && (y=y.replace(/\s+/g," ")));v.textNode=y;void 0 !== v.textNode && f(v,w?w:"onvalue",v.textNode);v.textNode=void 0;}function e(v,w){g(v);w+="\nLine: " + v.line + "\nColumn: " + v.wG + "\nChar: " + v.c;w=Error(w);v.error=w;f(v,"onerror",w);return v;}function h(v){v.state === p.Dt && 0 === v.depth || e(v,"Unexpected end");g(v);v.c="";v.closed=!0;f(v,"onend");n.call(v,v.wf);return v;}Object.defineProperty(b,"__esModule",{value:!0});k={};t="object" === typeof process?{NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}:Ba;k.Me=function(v){return new n(v);};k.k_c=n;k.l_c=c;k.JNa=function(v){return new c(v);};k.CO=65536;k.l="debug" === t.I6a;k.e5="debug" === t.I6a || "info" === t.I6a;k.qm=("value string key openobject closeobject openarray closearray error end ready").split(" ");l={textNode:void 0,Ek:""};m=k.qm.filter(function(v){return "error" !== v && "end" !== v;});p=0;k.Fr={mV:p++,Dt:p++,tEa:p++,tV:p++,Aia:p++,Qza:p++,s4c:p++,GGa:p++,zZc:p++,u0c:p++,sEa:p++,N6a:p++,Bhb:p++,Chb:p++,Dhb:p++,f9a:p++,g9a:p++,h9a:p++,i9a:p++,G5:p++,Jcb:p++,Kcb:p++,lZb:p++,wia:p++};for(var q in k.Fr)k.Fr[k.Fr[q]]=q;p=k.Fr;Object.create || (Object.create=function(v){function w(){this.__proto__=v;}w.prototype=v;return new w();});Object.getPrototypeOf || (Object.getPrototypeOf=function(v){return v.__proto__;});Object.keys || (Object.keys=function(v){var w,x;w=[];for(x in v)v.hasOwnProperty(x) && w.push(x);return w;});r=/[\\"\n]/g;n.prototype={end:function(){h(this);},write:function(v){if(this.error)throw this.error;if(this.closed)return e(this,"Cannot write after close. Assign an onready handler.");if(null === v)return h(this);this.pending+=v;if(this.paused)return this;k.l && console.log("write -> [" + v + "]");return this.parse();},parse:function(){var A,z,B;for(var v=this.pending,w=0,x=v[0],y;x && !this.paused;){y=x;this.c=x=v.charAt(w++);y !== x?this.p=y:y=this.p;if(!x)break;k.l && console.log(w,x,k.Fr[this.state]);this.position++;"\n" === x?(this.line++,this.wG=0):this.wG++;switch(this.state){case p.mV:"{" === x?this.state=p.tEa:"[" === x?this.state=p.Aia:"\r" !== x && "\n" !== x && " " !== x && "\t" !== x && e(this,"Non-whitespace before {[.");continue;case p.sEa:case p.tEa:if("\r" === x || "\n" === x || " " === x || "\t" === x)continue;if(this.state === p.sEa)this.stack.push(p.N6a);else if("}" === x){f(this,"onopenobject");this.depth++;f(this,"oncloseobject");this.depth--;this.state=this.stack.pop() || p.Dt;continue;}else this.stack.push(p.tV);'"' === x?this.state=p.GGa:e(this,'Malformed object key should start with "');continue;case p.N6a:case p.tV:if("\r" === x || "\n" === x || " " === x || "\t" === x)continue;":" === x?(this.state === p.tV?(this.stack.push(p.tV),g(this,"onopenobject"),this.depth++):g(this,"onkey"),this.state=p.Dt):"}" === x?(g(this),f(this,"oncloseobject",void 0),this.depth--,this.state=this.stack.pop() || p.Dt):"," === x?(this.state === p.tV && this.stack.push(p.tV),g(this),this.state=p.sEa):e(this,"Bad object");continue;case p.Aia:case p.Dt:if("\r" === x || "\n" === x || " " === x || "\t" === x)continue;if(this.state === p.Aia)if((f(this,"onopenarray"),this.depth++,this.state=p.Dt,"]" === x)){f(this,"onclosearray");this.depth--;this.state=this.stack.pop() || p.Dt;continue;}else this.stack.push(p.Qza);'"' === x?this.state=p.GGa:"{" === x?this.state=p.tEa:"[" === x?this.state=p.Aia:"t" === x?this.state=p.Bhb:"f" === x?this.state=p.f9a:"n" === x?this.state=p.G5:"-" === x?this.Ek+=x:"0" === x?(this.Ek+=x,this.state=p.wia):-1 !== ("123456789").indexOf(x)?(this.Ek+=x,this.state=p.wia):e(this,"Bad value");continue;case p.Qza:if("," === x)(this.stack.push(p.Qza),g(this,"onvalue"),this.state=p.Dt);else if("]" === x)(g(this),f(this,"onclosearray",void 0),this.depth--,this.state=this.stack.pop() || p.Dt);else if("\r" === x || "\n" === x || " " === x || "\t" === x)continue;else e(this,"Bad array");continue;case p.GGa:void 0 === this.textNode && (this.textNode="");y=w - 1;(A=this.dOb,z=this.SQb);a:for(;;){for(k.l && console.log(w,x,k.Fr[this.state],A);0 < z;)if((this.Pxa+=x,x=v.charAt(w++),this.position++,4 === z?(this.textNode+=String.fromCharCode(parseInt(this.Pxa,16)),z=0,y=w - 1):z++,!x))break a;if('"' === x && !A){this.state=this.stack.pop() || p.Dt;this.textNode+=v.substring(y,w - 1);this.position+=w - 1 - y;break;}if("\\" === x && !A && (A=!0,this.textNode+=v.substring(y,w - 1),this.position+=w - 1 - y,x=v.charAt(w++),this.position++,!x))break;if(A)if((A=!1,"n" === x?this.textNode+="\n":"r" === x?this.textNode+="\r":"t" === x?this.textNode+="\t":"f" === x?this.textNode+="\f":"b" === x?this.textNode+="\b":"u" === x?(z=1,this.Pxa=""):this.textNode+=x,x=v.charAt(w++),this.position++,y=w - 1,x))continue;else break;r.lastIndex=w;B=r.exec(v);if(null === B){w=v.length + 1;this.textNode+=v.substring(y,w - 1);this.position+=w - 1 - y;break;}w=B.index + 1;x=v.charAt(B.index);if(!x){this.textNode+=v.substring(y,w - 1);this.position+=w - 1 - y;break;}}this.dOb=A;this.SQb=z;continue;case p.Bhb:if("" === x)continue;"r" === x?this.state=p.Chb:e(this,"Invalid true started with t" + x);continue;case p.Chb:if("" === x)continue;"u" === x?this.state=p.Dhb:e(this,"Invalid true started with tr" + x);continue;case p.Dhb:if("" === x)continue;"e" === x?(f(this,"onvalue",!0),this.state=this.stack.pop() || p.Dt):e(this,"Invalid true started with tru" + x);continue;case p.f9a:if("" === x)continue;"a" === x?this.state=p.g9a:e(this,"Invalid false started with f" + x);continue;case p.g9a:if("" === x)continue;"l" === x?this.state=p.h9a:e(this,"Invalid false started with fa" + x);continue;case p.h9a:if("" === x)continue;"s" === x?this.state=p.i9a:e(this,"Invalid false started with fal" + x);continue;case p.i9a:if("" === x)continue;"e" === x?(f(this,"onvalue",!1),this.state=this.stack.pop() || p.Dt):e(this,"Invalid false started with fals" + x);continue;case p.G5:if("" === x)continue;"u" === x?this.state=p.Jcb:e(this,"Invalid null started with n" + x);continue;case p.Jcb:if("" === x)continue;"l" === x?this.state=p.Kcb:e(this,"Invalid null started with nu" + x);continue;case p.Kcb:if("" === x)continue;"l" === x?(f(this,"onvalue",null),this.state=this.stack.pop() || p.Dt):e(this,"Invalid null started with nul" + x);continue;case p.lZb:"." === x?(this.Ek+=x,this.state=p.wia):e(this,"Leading zero not followed by .");continue;case p.wia:-1 !== ("0123456789").indexOf(x)?this.Ek+=x:"." === x?(-1 !== this.Ek.indexOf(".") && e(this,"Invalid number has two dots"),this.Ek+=x):"e" === x || "E" === x?(-1 === this.Ek.indexOf("e") && -1 === this.Ek.indexOf("E") || e(this,"Invalid number has two exponential"),this.Ek+=x):"+" === x || "-" === x?("e" !== y && "E" !== y && e(this,"Invalid symbol in number"),this.Ek+=x):(this.Ek && f(this,"onvalue",parseFloat(this.Ek)),this.Ek="",w--,this.state=this.stack.pop() || p.Dt);continue;default:e(this,"Unknown state: " + this.state);}}if(this.position >= this.JX){x=Math.max(k.CO,10);y=0;for(var C in l){A=void 0 === this[C]?0:this[C].length;if(A > x)switch(C){case "text":closeText(this);break;default:e(this,"Max buffer length exceeded: " + C);}y=Math.max(y,A);}this.JX=k.CO - y + this.position;}0 < w && (this.pending=v.substring(w));return this;},pause:function(){this.paused=!0;return this;},resume:function(){this.paused=!1;this.error=null;return this;},close:function(){return this.write(null);}};try{u=a(75177).k4c;}catch(v){u=function(){};}c.prototype=Object.create(null,{constructor:{value:c}});c.prototype.write=function(v){var x;v=new Buffer(v);for(var w=0;w < v.length;w++){x=v[w];if(0 < this.OX){for(x=0;x < this.OX;x++)this.A2a[this.Ex][this.Ex - this.OX + x]=v[x];this.string=this.A2a[this.Ex].toString();this.Ex=this.OX=0;w=w + x - 1;this.Ie.write(this.string);this.emit("data",this.string);}else if(0 === this.OX && 128 <= x){194 <= x && 223 >= x && (this.Ex=2);224 <= x && 239 >= x && (this.Ex=3);240 <= x && 244 >= x && (this.Ex=4);if(this.Ex + w > v.length){for(x=0;x <= v.length - 1 - w;x++)this.A2a[this.Ex][x]=v[w + x];this.OX=w + this.Ex - v.length;return !0;}this.string=v.slice(w,w + this.Ex).toString();w=w + this.Ex - 1;this.Ie.write(this.string);this.emit("data",this.string);}else {for(x=w;x < v.length && !(128 <= v[x]);x++);this.string=v.slice(w,x).toString();this.Ie.write(this.string);this.emit("data",this.string);w=x - 1;}}};c.prototype.end=function(v){v && v.length && this.Ie.write(v.toString());this.Ie.end();return !0;};c.prototype.on=function(v,w){var x;x=this;x.Ie["on" + v] || -1 === m.indexOf(v) || (x.Ie["on" + v]=function(){var y;y=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);y.splice(0,0,v);x.emit.apply(x,y);});return u.prototype.on.call(x,v,w);};c.prototype.au=function(){d(this.Ie);this.emit("close");};b["default"]=k;},31238:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.eAa=void 0;t=a(22970);t.__importDefault(a(42979));a(70390);d=a(93652);n=a(34801);c=a(25462);t.__importDefault(a(32260));f=a(56058);a=(function(){function g(){}g.prototype.ANa=function(e,h,k,l,m,p){n.Qqb(e,h,k,l,m,p);};g.prototype.jgc=function(e,h,k,l,m,p){c.Rqb(e,h,k,l,null,m,p);};g.prototype.pY=function(e,h,k,l,m){d.Pqb(e,h,k,l,m);};g.prototype.Afc=function(e,h,k){f.Fqb(e,h,k);};return g;})();b.eAa=a;},56058:function(t,b,a){var d,n,c,f,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.Fqb=b.i7a=void 0;d=a(22970);n=d.__importDefault(a(42979));c=a(68480);f=a(93652);g=a(32260);e=(function(h){function k(l,m,p){var q;q=h.call(this,l,null,null,0,p) || this;n.default(p,function(){var r,u,v,w,x,y,A,z;r=m.bc;u=m.Tl;v=m.kg;w=m.zj;x=m.Ee;y=f.lL(x);A=c.$Ta(m.zEb,l.FF);try{z=m.keyResponseData;q.jAb(l,y,A,u,z?z.bc:r,v,m.dN);return q;}catch(B){throw (g.Fd(B) && (B.kc(r),B.Zf(u),B.Fe(v),B.xf(w),B.ii(x)),B);}});return q;}d.__extends(k,h);return k;})(f.RDa);b.i7a=e;b.Fqb=function(h,k,l){new e(h,k,l);};},70390:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u;Object.defineProperty(b,"__esModule",{value:!0});b.CHb=b.wfc=b.l4=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(10690));c=t.__importDefault(a(20754));f=t.__importDefault(a(36114));g=t.__importDefault(a(42979));e=t.__importDefault(a(6838));h=t.__importDefault(a(24571));k=t.__importDefault(a(42458));l=t.__importDefault(a(58511));m=t.__importDefault(a(88257));p=a(44127);q=a(32260);r=(function(){return function(v,w){this.N9=v;this.uN=w;};})();u=(function(){function v(w,x,y,A,z,B,C,D){var E;0 > z && (z=-1);if(0 > y || y > d.default.$e)throw new n.default("Message ID " + y + " is out of range.");if(!x)throw new c.default(f.default.sDa);if(D){E=D.uN;D=D.N9;}else (E=parseInt(w.getTime() / 1E3),D=w.Dg.qf(),D.put("timestamp",E),D.put("messageid",y),D.put("errorcode",A),0 < z && D.put("internalcode",z),B && D.put("errormsg",B),C && D.put("usermsg",C));this.sk=w;this.Tl=x;this.uN=E;this.Ee=y;this.errorCode=A;this.Kaa=z;this.errorMessage=B;this.N9=D;this.encodings={};}v.prototype.BSa=function(){return null !== this.uN?new Date(1E3 * this.uN):null;};v.prototype.In=function(w,x,y){var A;A=this;g.default(y,function(){var z,B;if(A.encodings[x])return A.encodings[x];z=A.sk.tpa(A.Tl.scheme);if(!z)throw new e.default("No entity authentication factory found for entity.");try{B=z.wA(A.sk,A.Tl);}catch(C){if(C instanceof h.default || C instanceof k.default)throw new e.default("Error creating the entity crypto context.",C);throw C;}w.Jj(A.N9,x,{result:function(C){B.encrypt(C,w,x,{result:function(D){B.sign(D,w,x,{result:function(E){g.default(y,function(){var H;H=w.qf();H.put(l.default.wCa,A.Tl);H.put(l.default.LXb,D);H.put(l.default.yCa,E);w.Jj(H,x,{result:function(F){g.default(y,function(){return A.encodings[x]=F;});},error:y.error});});},error:function(E){E instanceof k.default && (E=new e.default("Error signing the error data.",E));y.error(E);}});},error:function(D){D instanceof k.default && (D=new e.default("Error signing the error data.",D));y.error(D);}});},error:y.error});});};return v;})();b.l4=u;b.wfc=function(v,w,x,y,A,z,B,C){g.default(C,function(){return new u(v,w,x,y,A,z,B,null);});};b.CHb=function(v,w,x,y,A){g.default(A,function(){var z,B,C,D;z=v.Dg;if(!x)throw new c.default(f.default.sDa);try{B=x.scheme;C=v.tpa(B);if(!C)throw new h.default(f.default.YAa,B);D=C.wA(v,x);}catch(E){throw (q.Fd(E) && E.Zf(x),E);}D.verify(w,y,z,{result:function(E){g.default(A,function(){if(!E)throw new k.default(f.default.vYb).Zf(x);D.decrypt(w,z,{result:function(H){g.default(A,function(){var F,G,J,L,K,M,P,I,O;try{F=z.Cp(H);G=F.jo("messageid");if(0 > G || G > d.default.$e)throw new c.default(f.default.Bbb,"errordata " + F).Zf(x);}catch(Q){if(Q instanceof e.default)throw new m.default(f.default.af,"errordata " + p.zi(H),Q).Zf(x);throw Q;}try{J=F.has("timestamp")?F.jo("timestamp"):null;L=F.nR("errorcode");K=!1;for(M in d.default.P)if(d.default.P[M] == L){K=!0;break;}K || (L=d.default.P.fa);if(F.has("internalcode")){P=F.nR("internalcode");if(0 > P)throw new c.default(f.default.xXb,"errordata " + F).Zf(x).ii(G);}else P=-1;I=F.Qca("errormsg",null);O=F.Qca("usermsg",null);}catch(Q){if(Q instanceof e.default)throw new m.default(f.default.af,"errordata " + F,Q).Zf(x).ii(G);throw Q;}F=new r(F,J);return new u(v,x,G,L,P,I,O,F);});},error:function(H){g.default(A,function(){q.Fd(H) && H.Zf(x);throw H;});}});});},error:function(E){g.default(A,function(){q.Fd(E) && E.Zf(x);throw E;});}});});};},58511:function(t,b,a){var d,n,c,f,g,e,h,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.mua=void 0;t=a(22970);d=t.__importDefault(a(42979));n=t.__importDefault(a(6838));c=t.__importDefault(a(88257));f=a(58768);g=a(58892);e=t.__importDefault(a(20754));h=t.__importDefault(a(36114));k=a(70390);l=a(54449);b["default"]={wCa:"entityauthdata",pab:"mastertoken",oab:"headerdata",LXb:"errordata",yCa:"signature"};b.mua=function(m,p,q,r){function u(w,x,y){x?g.nua(m,x,{result:function(A){v(w,A,y);},error:r.error}):v(w,null,y);}function v(w,x,y){d.default(r,function(){var A,z;try{if(p.has("headerdata")){A=p.wd("headerdata");if(0 == A.length)throw new e.default(h.default.O9a).kc(x).Zf(w);l.JHb(m,A,w,x,y,q,r);}else if(p.has("errordata")){z=p.wd("errordata");if(0 == z.length)throw new e.default(h.default.O9a).kc(x).Zf(w);k.CHb(m,z,w,y,r);}else throw new c.default(h.default.af,p);}catch(B){if(B instanceof n.default)throw new c.default(h.default.af,"header/errormsg " + p,B);throw B;}});}d.default(r,function(){var w,x,y,A;try{w=m.Dg;x=p.has("entityauthdata")?p.Fq("entityauthdata",w):null;y=p.has("mastertoken")?p.Fq("mastertoken",w):null;A=p.wd("signature");}catch(z){if(z instanceof n.default)throw new c.default(h.default.af,"header/errormsg " + p,z);throw z;}x?f.BHb(m,x,{result:function(z){u(z,y,A);},error:r.error}):u(null,y,A);});};},93652:function(t,b,a){var d,n,c,f,g,e,h,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.Pqb=b.RDa=b.yhc=b.lL=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(10690));c=t.__importDefault(a(42979));f=t.__importDefault(a(36114));g=t.__importDefault(a(20754));e=a(54449);a(61693);a(97962);h=t.__importDefault(a(32260));k=a(32260);new Uint8Array(0);b.lL=function(m){if(0 > m || m > d.default.$e)throw new n.default("Message ID " + m + " is outside the valid range.");return m == d.default.$e?0:m + 1;};b.yhc=function(m){if(0 > m || m > d.default.$e)throw new n.default("Message ID " + m + " is outside the valid range.");return 0 == m?d.default.$e:m - 1;};l=(function(){function m(p,q,r,u,v){var w;w=this;c.default(v,function(){if(void 0 == u || null == u)u=h.default.osc(p);else if(0 > u || u > d.default.$e)throw new n.default("Message ID " + u + " is outside the valid range.");p.spa({result:function(x){c.default(v,function(){w.jAb(p,u,p.FF,x,q,r,null);return w;});},error:v.error});});}m.prototype.jAb=function(p,q,r,u,v,w,x){var y,A;y=[];A=p.Gm.bL(v,w);y.push.apply(y,A);x && x.forEach(function(z){if(z.fy() && !z.Dh(v))throw new g.default(f.default.vGa,"st " + z + "; mt " + v).kc(v);if(z.hw() && !z.Dh(w))throw new g.default(f.default.wGa,"st " + z + "; uit " + w).kc(v).Fe(w);y.push(z);},this);this.jk=p;this.fP=u;this.Ft=v;this.oP=q;this.FF=r;this.zJ=null;this.Z6=this.rx=this.M6=!1;this.AJ={};this.YJa=null;this.CP=w;this.IC=y;this.t4b=this.r4b=null;this.s4b=[];};m.prototype.wxb=function(){return this.oP;};m.prototype.ii=function(p){if(0 > p || p > d.default.$e)throw new n.default("Message ID " + p + " is out of range.");this.oP=p;return this;};m.prototype.pD=function(){return this.Ft;};m.prototype.Ux=function(){return this.CP;};m.prototype.KSb=function(){return this.Ft || this.fP.scheme.ioa;};m.prototype.LSb=function(){return this.Ft || this.zJ || this.fP.scheme.ioa;};m.prototype.MSb=function(){return this.Ft || this.fP.scheme.zJb;};m.prototype.NSb=function(){return this.Ft || this.zJ || this.fP.scheme.zJb;};m.prototype.rs=function(p){var q;q=this;c.default(p,function(){var r,u,v;r=q.zJ?q.zJ.keyResponseData:null;u=[];for(v in q.AJ)u.push(q.AJ[v]);if(q.M6){if(!q.Ft)throw new g.default(f.default.fZb);v=q.jk.Gm.Drc(q.Ft);}else v=null;r=new e.e$a(q.oP,v,q.Z6,q.rx,q.FF,u,r,q.YJa,q.CP,q.IC);u=new e.j$a(q.r4b,q.t4b,q.s4b);q.lY(q.jk,q.fP,q.Ft,r,u,p);});};m.prototype.lY=function(p,q,r,u,v,w){e.lY(p,q,r,u,v,w);};m.prototype.su=function(){return this.M6;};m.prototype.fU=function(p){if(this.M6=p)this.rx=!1;};m.prototype.tu=function(){return this.Z6;};m.prototype.a1a=function(p){(this.Z6=p) || (this.rx=!1);};m.prototype.xL=function(){return this.rx;};m.prototype.hQc=function(p){if(this.rx=p)(this.M6=!1,this.Z6=!0);};m.prototype.QMb=function(p,q){var r,u,w;r=this;if(q && !q.Dh(p))throw new n.default("User ID token must be bound to master token.");if(this.zJ)throw new n.default("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{u=this.jk.Gm.bL(p,q);}catch(x){if(k.Fd(x))throw new n.default("Invalid master token and user ID token combination despite checking above.",x);throw x;}for(var v=this.IC.length - 1;0 <= v;--v){w=this.IC[v];(w.hw() && !w.Dh(q) || w.fy() && !w.Dh(p)) && this.IC.splice(v,1);}u.forEach(function(x){r.aub(x.name,x.fy(),x.hw());r.IC.push(x);});this.Ft=p;(this.CP=q) || (this.YJa=null);};m.prototype.xf=function(p){this.YJa=p;return this;};m.prototype.f6b=function(p){this.AJ[p.ji()]=p;};m.prototype.A6b=function(p){var q;q=this.zJ?this.zJ.keyResponseData.bc:this.Ft;if(p.fy() && !p.Dh(q))throw new g.default(f.default.vGa,"st " + p + "; mt " + q).kc(q);if(p.hw() && !p.Dh(this.CP))throw new g.default(f.default.wGa,"st " + p + "; uit " + this.CP).kc(q).Fe(this.CP);this.aub(p.name,p.fy(),p.hw());this.IC.push(p);};m.prototype.aub=function(){var p,q,r,v;if(1 == arguments.length){p=arguments[0];q=p.name;r=p.fy();p=p.hw();}else (arguments.length=3,q=arguments[0],r=arguments[1],p=arguments[2]);for(var u=this.IC.length - 1;0 <= u;--u){v=this.IC[u];v.name == q && v.fy() == r && v.hw() == p && this.IC.splice(u,1);}};m.prototype.bL=function(){var p;p=[];p.push.apply(p,this.IC);return p;};return m;})();b.RDa=l;b.Pqb=function(m,p,q,r,u){new l(m,p,q,r,u);};},68480:function(t,b,a){var n,c,f,g,e,h,k,l,m;function d(p,q){var r,u,v;r={};u=[];for(v=0;v < p.length;++v)r[p[v]]=!0;for(v=0;v < q.length;++v)r[q[v]] && u.push(q[v]);return u;}Object.defineProperty(b,"__esModule",{value:!0});b.IHb=b.scb=b.$Ta=void 0;n=a(22970);t=a(48235);c=n.__importDefault(a(42979));f=n.__importDefault(a(14945));g=a(51411);e=a(65630);h=n.__importDefault(a(6838));k=n.__importDefault(a(88257));l=n.__importDefault(a(36114));b.$Ta=function(p,q){var r,u;if(!p || !q)return null;r=d(p.rK,q.rK);u=d(p.languages,q.languages);p=d(p.JQ,q.JQ);return new m(r,u,p);};m=(function(p){function q(r,u,v){var w;w=p.call(this) || this;r || (r=[]);u || (u=[]);v || (v=[]);r.sort();w.rK=r;w.languages=u;w.JQ=v;return w;}n.__extends(q,p);q.prototype.In=function(r,u,v){var w;w=this;c.default(v,function(){var x;x=r.qf();x.put("compressionalgos",r.N8(w.rK));x.put("languages",w.languages);for(var y=r.N8(),A=0;A < w.JQ.length;++A)y.put(-1,w.JQ[A].name);x.put("encoderformats",y);r.Jj(x,u,v);});};q.prototype.equals=function(r){return this === r?!0:r instanceof q?f.default.K8(this.rK,r.rK) && f.default.K8(this.languages,r.languages) && f.default.K8(this.JQ,r.JQ):!1;};q.prototype.ji=function(){return this.rK.join(":") + "|" + this.languages.join(":") + "|" + this.JQ.join(":");};return q;})(t.Po);b.scb=m;b.IHb=function(p){var v,w,x,y,A;try{for(var q=[],r=p.cua("compressionalgos"),u=0;r && u < r.size();++u){v=r.xe(u);(v in g.VI) && q.push(v);}r=[];w=p.cua("languages");for(u=0;w && u < w.size();++u)r.push(w.xe(u));w=[];x=p.cua("encoderformats");for(u=0;x && u < x.size();++u){y=x.xe(u);A=e.mia.iRa(y);A && w.push(A);}return new m(q,r,w);}catch(z){if(z instanceof h.default)throw new k.default(l.default.af,"capabilities " + p,z);throw z;}};},54449:function(t,b,a){var k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L,K,M,P,I;function d(O,Q,T){var U;if(T){if(Q=O.Gm.wA(T))return Q;if(!T.qr || !T.Qaa())throw new l.default(m.default.ybb,T);return new p.b6(O,T);}T=Q.scheme;U=O.tpa(T);if(!U)throw new q.default(m.default.YAa,T.name);return U.wA(O,Q);}function n(O,Q,T){r.default(T,function(){if(Q)E.GHb(O,Q,T);else return null;});}function c(O,Q,T,U){r.default(U,function(){if(Q)C.EYa(O,Q,T,U);else return null;});}function f(O,Q,T,U){r.default(U,function(){if(T)z.RHb(O,Q,T,U);else return null;});}function g(O,Q,T,U,X,Y,W){var ba;function Z(ca,da,ia){r.default(ia,function(){var S,N;if(da >= ca.size()){S=[];for(N in ba)S.push(ba[N]);return S;}try{S=ca.Fq(da,O.Dg);}catch(V){if(V instanceof w.default)throw new x.default(m.default.af,"headerdata " + Y,V);throw V;}B.qua(O,S,T,U,X,{result:function(V){r.default(ia,function(){ba[V.ji()]=V;Z(ca,da + 1,ia);});},error:ia.error});});}ba={};r.default(W,function(){if(Q)Z(Q,0,W);else return [];});}function e(O,Q,T,U,X){r.default(X,function(){return {JYa:null,LYa:null,KYa:[]};});}function h(O,Q,T){var X;function U(Y,W){r.default(T,function(){var Z;if(W >= Y.size())return X;Z=Y.Fq(W,O.Dg);D.FHb(O,Z,{result:function(ba){r.default(T,function(){X.push(ba);U(Y,W + 1);});},error:T.error});});}X=[];r.default(T,function(){var Y;try{if(!Q.has("keyrequestdata"))return [];Y=Q.LRa("keyrequestdata");U(Y,0);}catch(W){if(W instanceof w.default)throw new x.default(m.default.af,"headerdata " + Q,W);throw W;}});}Object.defineProperty(b,"__esModule",{value:!0});b.JHb=b.lY=b.aW=b.dVb=b.j$a=b.e$a=void 0;k=a(22970);l=k.__importDefault(a(80760));m=k.__importDefault(a(36114));p=a(43088);q=k.__importDefault(a(24571));t=a(48235);r=k.__importDefault(a(42979));u=k.__importDefault(a(51411));v=k.__importDefault(a(10690));w=k.__importDefault(a(6838));x=k.__importDefault(a(88257));y=k.__importDefault(a(42458));A=k.__importDefault(a(58511));z=a(5248);B=a(61693);a(58892);C=a(85065);D=a(59786);E=a(49140);H=k.__importDefault(a(20754));F=a(44127);G=a(68480);J=k.__importDefault(a(88361));L=a(32260);K=(function(){return function(O,Q,T,U,X,Y,W,Z,ba,ca){this.Ee=O;this.gXa=Q;this.v_a=T;this.vD=U;this.vg=X;this.DD=Y;this.keyResponseData=W;this.YRb=Z;this.kg=ba;this.dN=ca;};})();b.e$a=K;M=(function(){return function(O,Q,T){this.JYa=O;this.LYa=Q;this.KYa=T;};})();b.j$a=M;P=(function(){return function(O,Q,T,U){this.WU=O;this.uN=Q;this.yCc=T;this.qqa=U;};})();b.dVb=P;I=(function(O){function Q(T,U,X,Y,W,Z,ba){var da;function ca(ia){r.default(ba,function(){var S,N,V,aa,fa,ha,ka,pa,oa,la,R,ea,ja,sa,ta,qa;if(0 > Y.Ee || Y.Ee > u.default.$e)throw new v.default("Message ID " + Y.Ee + " is out of range.");if(!U && !X)throw new v.default("Message entity authentication data or master token must be provided.");if(!X && !U.scheme.ioa && Y.YRb)throw new v.default("User authentication data cannot be included if the message is not encrypted.");U=X?null:U;S=Y.gXa;N=Y.v_a;V=Y.vD;aa=Y.vg;fa=Y.Ee;ha=Y.DD?Y.DD:[];ka=Y.keyResponseData;pa=Y.YRb;oa=Y.kg;la=Y.dN?Y.dN:[];R=[];ea=ka?ka.bc:X;if(oa && (!ea || !oa.Dh(ea)))throw new v.default("User ID token must be bound to a master token.");la.forEach(function(Aa){if(Aa.fy() && (!ea || !Aa.Dh(ea)))throw new v.default("Master token bound service tokens must be bound to the provided master token.");if(Aa.hw() && (!oa || !Aa.Dh(oa)))throw new v.default("User ID token bound service tokens must be bound to the provided user ID token.");},da);R.forEach(function(Aa){if(Aa.fy())throw new v.default("Master token bound peer service tokens must be bound to the provided peer master token.");if(Aa.hw())throw new v.default("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},da);if(Z)(ja=Z.WU,sa=Z.uN,ta=Z.qqa,qa=Z.yCc);else {ja=oa?oa.WU:null;sa=parseInt(T.getTime() / 1E3);try{ta=T.Dg.qf();"string" === typeof ia && ta.put("sender",ia);ta.put("timestamp",sa);ta.put("messageid",fa);ta.put("nonreplayable","number" === typeof S);"number" === typeof S && ta.put("nonreplayableid",S);ta.put("renewable",N);ta.put("handshake",V);aa && ta.put("capabilities",aa);0 < ha.length && ta.put("keyrequestdata",ha);ka && ta.put("keyresponsedata",ka);pa && ta.put("userauthdata",pa);oa && ta.put("useridtoken",oa);0 < la.length && ta.put("servicetokens",la);0 < R.length && ta.put("peerservicetokens",R);}catch(Aa){if(Aa instanceof w.default)throw new x.default(m.default.BYb,"headerdata",Aa).kc(X).Zf(U).Fe(null).xf(pa).ii(fa);throw Aa;}try{qa=d(T,U,X);}catch(Aa){throw (L.Fd(Aa) && (Aa.kc(X),Aa.Zf(U),Aa.Fe(oa),Aa.xf(pa),Aa.ii(fa)),Aa);}}da.Tl=U;da.bc=X;da.qqa=ta;da.uN=sa;da.Ee=fa;da.gXa=S;da.v_a=N;da.vD=V;da.zEb=aa;da.DD=ha;da.keyResponseData=ka;da.zj=pa;da.kg=oa;da.dN=la;da.JYa=null;da.LYa=null;da.KYa=R;da.WU=ja;da.cp=qa;da.encodings={};return da;});}da=O.call(this) || this;r.default(ba,function(){Z?ca(null):X?T.spa({result:function(ia){r.default(ba,function(){var S;S=ia.zA();ca(S?S:"");});},error:ba.error}):ca(null);});return da;}k.__extends(Q,O);Q.prototype.BSa=function(){return new Date(1E3 * this.uN);};Q.prototype.tu=function(){return this.v_a;};Q.prototype.xL=function(){return this.vD;};Q.prototype.In=function(T,U,X){var Y;Y=this;r.default(X,function(){if(Y.encodings[U.name])return Y.encodings[U.name];T.Jj(Y.qqa,U,{result:function(W){r.default(X,function(){Y.cp.encrypt(W,T,U,{result:function(Z){r.default(X,function(){Y.cp.sign(Z,T,U,{result:function(ba){r.default(X,function(){var ca;ca=T.qf();Y.bc?ca.put(A.default.pab,Y.bc):ca.put(A.default.wCa,Y.Tl);ca.put(A.default.oab,Z);ca.put(A.default.yCa,ba);T.Jj(ca,U,{result:function(da){r.default(X,function(){return Y.encodings[U.name]=da;});},error:X.error});});},error:function(ba){r.default(X,function(){ba instanceof y.default && (ba=new w.default("Error signing the header data.",ba));throw ba;});}});});},error:function(Z){r.default(X,function(){Z instanceof y.default && (Z=new w.default("Error encrypting the header data.",Z));throw Z;});}});});},error:X.error});});};return Q;})(t.Po);b.aW=I;b.lY=function(O,Q,T,U,X,Y){new I(O,Q,T,U,X,null,Y);};b.JHb=function(O,Q,T,U,X,Y,W){function Z(da,ia,S,N,V,aa,fa,ha,ka){r.default(ka,function(){n(O,V,{result:function(pa){r.default(ka,function(){var oa;oa=pa?pa.bc:U;c(O,aa,oa,{result:function(la){r.default(ka,function(){f(O,oa,fa,{result:function(R){r.default(ka,function(){var ea,ja,sa;if(R){if(!U && !T.scheme.ioa)throw new H.default(m.default.n1b).Fe(la).xf(R);ea=R.scheme;ja=O.Fyb(ea);if(!ja)throw new J.default(m.default.pib,ea).Fe(la).xf(R);ja.vLa(O,U?U.qu:T.zA(),R,la,{result:function(ta){g(O,ha,oa,la,Y,ia,{result:function(qa){ca(da,ia,S,N,pa,la,R,ta,qa,ka);},error:ka.error});},error:ka.error});}else {sa=la?la.WU:null;g(O,ha,oa,la,Y,ia,{result:function(ta){ca(da,ia,S,N,pa,la,R,sa,ta,ka);},error:ka.error});}});},error:ka.error});});},error:ka.error});});},error:ka.error});});}function ba(da,ia){r.default(W,function(){var S,N,V,aa,fa,ha,ka,pa,oa;S=O.Dg;try{N=S.Cp(ia);V=N.jo("messageid");if(0 > V || V > u.default.$e)throw new H.default(m.default.Bbb,"headerdata " + N).kc(U).Zf(T);}catch(la){if(la instanceof w.default)throw new x.default(m.default.af,"headerdata " + F.zi(ia),la).kc(U).Zf(T);throw la;}try{aa=N.has("timestamp")?N.jo("timestamp"):null;fa=N.has("keyresponsedata")?N.Fq("keyresponsedata",S):null;ha=N.has("useridtoken")?N.Fq("useridtoken",S):null;ka=N.has("userauthdata")?N.Fq("userauthdata",S):null;pa=N.has("servicetokens")?N.LRa("servicetokens"):null;}catch(la){if(la instanceof w.default)throw new x.default(m.default.af,"headerdata " + N,la).kc(U).Zf(T).ii(V);throw la;}oa=W;W={result:oa.result,error:function(la){L.Fd(la) && (la.kc(U),la.Zf(T),la.ii(V));oa.error(la);}};Z(da,N,V,aa,fa,ha,ka,pa,W);});}function ca(da,ia,S,N,V,aa,fa,ha,ka,pa){r.default(pa,function(){var oa,la,R,ea,ja,sa;oa=O.Dg;try{la=ia.has("nonreplayableid")?ia.jo("nonreplayableid"):null;R=ia.p$("renewable");ea=ia.has("handshake")?ia.p$("handshake"):!1;if(0 > la || la > u.default.$e)throw new H.default(m.default.Hcb,"headerdata " + ia.toString());ja=null;if(ia.has("capabilities")){sa=ia.Fq("capabilities",oa);ja=G.IHb(sa);}}catch(ta){if(ta instanceof w.default)throw new x.default(m.default.af,"headerdata " + ia.toString(),ta).kc(U).Zf(T).Fe(aa).xf(fa).ii(S);throw ta;}h(O,ia,{result:function(ta){e(O,ia,V,Y,{result:function(qa){r.default(pa,function(){var Aa,Ga,na,va;Aa=qa.JYa;Ga=qa.LYa;na=qa.KYa;va=new K(S,la,R,ea,ja,ta,V,fa,aa,ka);Aa=new M(Aa,Ga,na);Ga=new P(ha,N,da,ia);new I(O,T,U,va,Aa,Ga,pa);});},error:pa.error});},error:function(ta){r.default(pa,function(){L.Fd(ta) && (ta.Fe(aa),ta.xf(fa));throw ta;});}});});}r.default(W,function(){var da,ia;da=O.Dg;T=U?null:T;if(!T && !U)throw new H.default(m.default.sDa);try{ia=d(O,T,U);}catch(S){throw (L.Fd(S) && (S.kc(U),S.Zf(T)),S);}ia.verify(Q,X,da,{result:function(S){r.default(W,function(){if(!S){if(U)throw new y.default(m.default.tYb);throw new y.default(m.default.qYb);}ia.decrypt(Q,da,{result:function(N){ba(ia,N);},error:function(N){r.default(W,function(){if(N instanceof y.default || N instanceof q.default)(N.kc(U),N.Zf(T));throw N;});}});});},error:function(S){r.default(W,function(){if(S instanceof y.default || S instanceof q.default)(S.kc(U),S.Zf(T));throw S;});}});});};},34801:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B;function d(C,D,E,H){c.default(H,function(){var G,J,L,K,M,P,I;function F(){c.default(H,function(){var O;if(I >= E.length){if(P)throw P;throw new g.default(e.default.nab,E);}O=E[I];K != O.WA?(++I,F()):M.wA(C,O,J,G,{result:H.result,error:function(Q){c.default(H,function(){if(!z.Fd(Q))throw Q;P=Q;++I;F();});}});});}G=D.bc;J=D.keyResponseData;if(!J)return null;L=J.bc;if(L.Qaa())return new f.b6(C,L);K=J.WA;M=C.wRa(K);if(!M)throw new g.default(e.default.vCa,K);I=0;F();});}Object.defineProperty(b,"__esModule",{value:!0});b.Qqb=b.lia=void 0;n=a(22970);c=n.__importDefault(a(42979));f=a(43088);g=n.__importDefault(a(35661));e=n.__importDefault(a(36114));h=n.__importDefault(a(79804));k=n.__importDefault(a(88257));l=n.__importDefault(a(6838));t=a(53389);m=a(58511);p=a(70390);q=a(89752);r=n.__importDefault(a(20754));u=n.__importDefault(a(80760));v=n.__importDefault(a(67609));w=n.__importDefault(a(10690));x=a(42296);y=n.__importDefault(a(48795));A=a(54449);z=a(32260);B=(function(C){function D(E,H,F,G,J,L){var X;function K(Y){h.default(L,function(){X.i7=Y;X.i7.iFb({result:function(W){W?M():(X.cf=new k.default(e.default.pYb),U());},timeout:function(){X.Tr=!0;U();},error:function(W){W instanceof l.default && (W=new k.default(e.default.af,"header",W));X.cf=W;U();}});return X;});}function M(){X.i7.ZWa({result:function(Y){m.mua(E,Y,G,{result:P,error:function(W){X.cf=W;U();}});},timeout:function(){X.Tr=!0;U();},error:function(Y){Y instanceof l.default && (Y=new k.default(e.default.af,"header",Y));X.cf=Y;U();}});}function P(Y){var W;X.Oz=Y;if(X.Oz instanceof p.l4)(X.zka=null,X.bka=null,U());else {W=X.Oz;d(E,W,F,{result:function(Z){var ba;try{X.zka=Z;X.bka=X.zka?X.zka:W.cp;try{if(W.xL() && (!W.tu() || 0 == W.DD.length))throw new r.default(e.default.KWb,W);try{ba=W.bc;ba && ba.qr?T(E,W):I(E,W);}catch(ca){z.Fd(ca) && (ca.kc(W.bc),ca.Zf(W.kg),ca.Fe(W.zj),ca.xf(W.Ee));X.cf=ca;U();}}catch(ca){z.Fd(ca) && (ca.kc(W.bc),ca.Zf(W.Tl),ca.Fe(W.kg),ca.xf(W.zj),ca.ii(W.Ee));X.cf=ca;U();}}catch(ca){z.Fd(ca) && (ca.kc(W.bc),ca.Zf(W.Tl),ca.Fe(W.kg),ca.xf(W.zj),ca.ii(W.Ee));X.cf=ca;U();}},error:function(Z){z.Fd(Z) && (Z.kc(W.bc),Z.Zf(W.Tl),Z.Fe(W.kg),Z.xf(W.zj),Z.ii(W.Ee));X.cf=Z;U();}});}}function I(Y,W){var Z,ba;try{Z=W.bc;ba=W.gXa;"number" === typeof ba?Z?(null).f5c(Y,Z,ba,{result:function(ca){ca && (X.cf=new r.default(ca,W).kc(Z).Fe(W.kg).xf(W.zj).ii(W.Ee));U();},error:function(ca){z.Fd(ca) && (ca.kc(Z),ca.Fe(W.kg),ca.xf(W.zj),ca.ii(W.Ee));X.cf=ca;U();}}):(X.cf=new r.default(e.default.YWb,W).Zf(W.Tl).Fe(W.kg).xf(W.zj).ii(W.Ee),U()):U();}catch(ca){z.Fd(ca) && (ca.kc(W.bc),ca.Zf(W.Tl),ca.Fe(W.kg),ca.xf(W.zj),ca.ii(W.Ee));X.cf=ca;U();}}function O(Y,W){var Z;try{Z=W.bc;Z.gw(null)?W.tu()?0 == W.DD.length?(X.cf=new r.default(e.default.sYb,W).kc(Z).Fe(W.kg).xf(W.zj).ii(W.Ee),U()):(null).w$c(Y,Z,{result:function(ba){ba?(X.cf=new r.default(ba,"Master token is expired and not renewable.").kc(Z).Fe(W.kg).xf(W.zj).ii(W.Ee),U()):I(Y,W);},error:function(ba){z.Fd(ba) && (ba.kc(W.bc),ba.Fe(W.kg),ba.xf(W.zj),ba.ii(W.Ee));X.cf=ba;U();}}):(X.cf=new r.default(e.default.rYb,W).kc(Z).Fe(W.kg).xf(W.zj).ii(W.Ee),U()):I(Y,W);}catch(ba){z.Fd(ba) && (ba.kc(W.bc),ba.Fe(W.kg),ba.xf(W.zj),ba.ii(W.Ee));X.cf=ba;U();}}function Q(Y,W){var Z,ba;try{Z=W.bc;ba=W.kg;ba?(null).I$c(Y,Z,ba,{result:function(ca){ca?(X.cf=new v.default(ca,ba).kc(Z).Fe(ba).ii(W.Ee),U()):O(Y,W);},error:function(ca){z.Fd(ca) && (ca.kc(W.bc),ca.Fe(W.kg),ca.xf(W.zj),ca.ii(W.Ee));X.cf=ca;U();}}):O(Y,W);}catch(ca){z.Fd(ca) && (ca.kc(W.bc),ca.Fe(W.kg),ca.xf(W.zj),ca.ii(W.Ee));X.cf=ca;U();}}function T(Y,W){var Z;try{Z=W.bc;(null).x$c(Y,Z,{result:function(ba){ba?(X.cf=new u.default(ba,Z).Fe(W.kg).xf(W.zj).ii(W.Ee),U()):Q(Y,W);},error:function(ba){z.Fd(ba) && (ba.kc(W.bc),ba.Fe(W.kg),ba.xf(W.zj),ba.ii(W.Ee));X.cf=ba;U();}});}catch(ba){z.Fd(ba) && (ba.kc(W.bc),ba.Fe(W.kg),ba.xf(W.zj),ba.ii(W.Ee));X.cf=ba;U();}}function U(){X.Vk=!0;X.GJ.add(!0);}X=C.call(this) || this;X.jk=E;X.Ht=H;X.GC=1;X.ika=!1;X.ujb=!1;X.Cm=!1;X.Ej=[];X.Uz=-1;X.TF=0;X.bJa=0;X.qv=0;X.VW=0;X.Vk=!1;X.GJ=new q.I3();X.Ag=!1;X.Tr=!1;h.default(L,function(){E.Dg.Fgc(H,J,{result:K,timeout:L.timeout,error:L.error});});return X;}n.__extends(D,C);D.prototype.VDc=function(E){var H;H=this;h.default(E,function(){if(!H.Eq())throw new w.default("Read attempted with error message.");if(H.ika)return null;H.i7.iFb({result:function(F){h.default(E,function(){if(!F)return (H.ika=!0,null);H.i7.ZWa({result:E.result,timeout:E.timeout,error:function(G){h.default(E,function(){if(G instanceof l.default)throw new k.default(e.default.af,"payloadchunk",G);throw G;});}});});},timeout:E.timeout,error:function(F){h.default(E,function(){if(F instanceof l.default)throw new k.default(e.default.af,"payloadchunk",F);throw F;});}});});};D.prototype.XWa=function(E){var H;H=this;h.default(E,function(){var F;F=H.Eq();if(!F)throw new w.default("Read attempted with error message.");if(-1 != H.Uz && H.Uz < H.Ej.length)return H.Ej[H.Uz++];if(H.ika)return null;H.VDc({result:function(G){h.default(E,function(){if(!G)return null;x.LHb(H.jk,G,H.bka,{result:function(J){h.default(E,function(){var L,K,M,P;L=F.bc;K=F.Tl;M=F.kg;P=F.A9c;if(J.Ee != F.Ee)throw new r.default(e.default.EZb,"payload mid " + J.Ee + " header mid " + F.Ee).kc(L).Zf(K).Fe(M).xf(P);if(J.bk != H.GC)throw new r.default(e.default.GZb,"payload seqno " + J.bk + " expected seqno " + H.GC).kc(L).Zf(K).Fe(M).xf(P);++H.GC;null == H.rx && (H.rx=F.tu() && 0 < F.DD.length && J.pPa && 0 == J.data.length);J.pPa && (H.ika=!0);L=J.data;-1 != H.bJa && (H.Ej.push(L),H.Uz=-1);return L;});},error:E.error});});},timeout:E.timeout,error:E.error});});};D.prototype.Cs=function(E){var F;function H(){h.default(E,function(){if(F.Ag)return !1;if(F.Tr)E.timeout();else {if(F.cf)throw F.cf;return !0;}});}F=this;h.default(E,function(){F.Vk?H():F.GJ.kda(-1,{result:function(G){h.default(E,function(){if(void 0 === G)return !1;H();});},timeout:function(){c.default(E,function(){throw new w.default("Timeout while waiting for MessageInputStream.isReady() despite no timeout being specified.");});},error:E.error});});};D.prototype.xL=function(E){var H;H=this;h.default(E,function(){var F;F=H.Eq();if(!F)return !1;if(F.xL())return !0;if(null == H.rx)H.XWa({result:function(G){h.default(E,function(){if(!H.Ag)return (H.Uk=G,H.TF=0,H.Uk || (H.rx=!1),H.rx);});},timeout:E.timeout,error:function(G){h.default(E,function(){z.Fd(G) && (H.W6=new y.default("Error reading the payload chunk.",G));throw G;});}});else return H.rx;});};D.prototype.Eq=function(){return this.Oz instanceof A.aW?this.Oz:null;};D.prototype.PZ=function(){return this.Oz instanceof p.l4?this.Oz:null;};D.prototype.zA=function(){var E,H;E=this.Eq();if(E){H=E.bc;return H?H.qu:E.Tl.zA();}return this.PZ().Tl.zA();};D.prototype.rcc=function(E){this.ujb=E;};D.prototype.abort=function(){this.Ag=!0;this.Ht.abort();this.GJ.Bma();};D.prototype.close=function(E,H){var G;function F(){G.XWa({result:function(J){J?F():H.result(!0);},timeout:function(){H.timeout();},error:function(){H.result(!0);}});}G=this;h.default(H,function(){G.i7.close(E,{result:function(){G.ujb?G.Ht.close(E,H):G.Eq()?G.xL({result:function(J){J?F():H.result(!0);},timeout:H.timeout,error:function(){H.result(!0);}}):H.result(!0);},timeout:H.timeout,error:function(){H.result(!0);}});});};D.prototype.mark=function(E){this.qv=E?E:-1;this.VW=0;this.Cm=!0;if(this.Uk){for(;0 < this.Ej.length && this.Ej[0] !== this.Uk;)this.Ej.shift();0 == this.Ej.length && this.Ej.push(this.Uk);this.Uz=0;this.Uk=this.Ej[this.Uz++];this.bJa=this.TF;}else (this.Uz=-1,this.Ej=[]);};D.prototype.read=function(E,H,F){var L;function G(){h.default(F,function(){var K;if(L.Ag)return new Uint8Array(0);if(L.Tr)F.timeout(new Uint8Array(0));else {if(L.cf)throw L.cf;if(null != L.W6){K=L.W6;L.W6=null;throw K;}L.xL({result:function(M){h.default(F,function(){if(void 0 === M)return new Uint8Array(0);if(M)return null;J();});},timeout:F.timeout,error:function(M){h.default(F,function(){L.W6=null;throw new y.default("Error reading the payload chunk.",M);});}});}});}function J(){h.default(F,function(){var M,P,I;function K(O){h.default(O,function(){var Q,T,U;if(M && I >= M.length)return M.subarray(0,I);Q=-1;if(L.Uk){T=L.Uk.length - L.TF;if(!M){U=T;if(-1 != L.Uz)for(var X=L.Uz;X < L.Ej.length;++X)U+=L.Ej[X].length;0 < U && (M=new Uint8Array(U));}T=Math.min(T,M?M.length - I:0);0 < T && (Q=L.Uk.subarray(L.TF,L.TF + T),M.set(Q,P),Q=T,P+=T,L.TF+=T,L.Cm && (L.VW+=T,-1 != L.qv && L.VW > L.qv && (L.Cm=!1,L.VW=L.qv=0)));}-1 != Q?(I+=Q,K(O)):L.XWa({result:function(Y){h.default(O,function(){if(L.Ag)return M?M.subarray(0,I):new Uint8Array(0);L.Uk=Y;L.TF=0;if(L.Uk)K(O);else return 0 == I && 0 != E?null:M?M.subarray(0,I):new Uint8Array(0);});},timeout:function(){O.timeout(M?M.subarray(0,I):new Uint8Array(0));},error:function(Y){h.default(O,function(){z.Fd(Y) && (Y=new y.default("Error reading the payload chunk.",Y));if(0 < I)return (L.W6=Y,M.subarray(0,I));throw Y;});}});});}M=-1 != E?new Uint8Array(E):void 0;P=0;I=0;K(F);});}L=this;h.default(F,function(){if(-1 > E)throw new RangeError("read requested with illegal length " + E);L.Vk?G():L.GJ.kda(H,{result:function(K){void 0 === K?F.result(!1):G();},timeout:function(){F.timeout(new Uint8Array(0));},error:F.error});});};D.prototype.reset=function(){this.Cm && (this.Uz=0,0 < this.Ej.length?(this.Uk=this.Ej[this.Uz++],this.TF=this.bJa):this.Uk=null,this.VW=0);};return D;})(t.Vha);b.lia=B;b.Qqb=function(C,D,E,H,F,G){new B(C,D,E,H,F,G);};},25462:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.Rqb=b.RYb=void 0;t=a(22970);d=t.__importDefault(a(79804));n=a(54449);c=a(68480);f=a(42296);g=a(51411);e=t.__importDefault(a(6838));h=t.__importDefault(a(48795));k=t.__importDefault(a(10690));l=a(70390);m=a(89752);p=a(32260);q=(function(){function r(u,v,w,x,y,A,z){var B;B=this;this.jk=u;this.gka=v;this.Oz=w;this.GC=1;this.Uk=[];this.tjb=this.Fl=!1;this.qjb=!0;this.Ej=[];this.Vk=!1;this.GJ=new m.I3();this.Tr=this.Ag=!1;this.cf=null;d.default(z,function(){var D,E,H,F;function C(){B.Vk=!0;B.GJ.add(!0);}D=u.Dg;if(w instanceof n.aW)(H=(E=c.$Ta(u.FF,w.zEb))?g.Uxb(E.rK):null,F=D.Vxb());else (E=u.FF,H=null,F=y);B.L2b=F;B.FF=E;B.bka=x;B.oIa=H;w.In(D,F,{result:function(G){v.write(G,0,G.length,A,{result:function(J){try{B.Ag?C():J < G.length?(B.Tr=!0,C()):v.flush(A,{result:function(L){B.Ag || (B.Tr=!L);C();},timeout:function(){B.Tr=!0;C();},error:function(L){B.cf=L;C();}});}catch(L){B.cf=L;C();}},timeout:function(){B.Tr=!0;C();},error:function(J){B.cf=J;C();}});},error:function(G){B.cf=G instanceof e.default?new h.default("Error encoding the message header.",G):G;C();}});return B;});}r.prototype.Cs=function(u){var w;function v(){d.default(u,function(){if(w.Ag)return !1;if(w.Tr)u.timeout();else {if(w.cf)throw w.cf;return !0;}});}w=this;d.default(u,function(){w.Vk?v():w.GJ.kda(-1,{result:function(x){d.default(u,function(){if(void 0 === x)return !1;v();});},timeout:function(){d.default(u,function(){throw new k.default("Timeout while waiting for MessageOutputStream.isReady() despite no timeout being specified.");});},error:u.error});});};r.prototype.RPc=function(u,v,w){var y;function x(){y.flush(v,{result:function(A){d.default(w,function(){if(!A)throw new h.default("flush() aborted");y.oIa=u;return !0;});},timeout:w.timeout,error:w.error});}y=this;d.default(w,function(){if(!y.Eq())throw new k.default("Cannot write payload data for an error message.");if(y.oIa == u)return !0;if(u){if(!y.FF)return !1;for(var A=y.FF.rK,z=0;z < A.length;++z)if(A[z] == u){x();return;}return !1;}x();});};r.prototype.Eq=function(){return this.Oz instanceof n.aW?this.Oz:null;};r.prototype.PZ=function(){return this.Oz instanceof l.l4?this.Oz:null;};r.prototype.QSc=function(){this.qjb=!1;this.Ej=[];};r.prototype.abort=function(){this.Ag=!0;this.gka.abort();this.GJ.Bma();};r.prototype.ncc=function(u){this.tjb=u;};r.prototype.close=function(u,v){var w;w=this;d.default(v,function(){if(w.Ag)return !1;if(w.Tr)v.timeout();else {if(w.cf)throw w.cf;if(w.Fl)return !0;w.Fl=!0;w.flush(u,{result:function(x){d.default(v,function(){x && (w.Uk=null);if(w.tjb)w.gka.close(u,v);else return x;});},timeout:v.timeout,error:v.error});}});};r.prototype.flush=function(u,v){var x;function w(){d.default(v,function(){var y,A,D;if(!x.Uk || !x.Fl && 0 == x.Uk.length)return !0;y=x.Eq();if(!y || y.xL())return !0;A=0;x.Uk.forEach(function(E){A+=E.length;});for(var z=new Uint8Array(A),B=0,C=0;C < x.Uk.length;++C){D=x.Uk[C];z.set(D,B);B+=D.length;}f.Yqb(x.jk,x.GC,y.Ee,x.Fl,x.oIa,z,x.bka,{result:function(E){d.default(v,function(){x.qjb && x.Ej.push(E);E.In(x.jk.Dg,x.L2b,{result:function(H){d.default(v,function(){x.gka.write(H,0,H.length,u,{result:function(F){d.default(v,function(){if(x.Ag)return !1;F < E.length?v.timeout():x.gka.flush(u,{result:function(G){d.default(v,function(){if(x.Ag)return !1;if(G)return (++x.GC,x.Uk=x.Fl?null:[],!0);v.timeout();});},timeout:v.timeout,error:function(G){d.default(v,function(){p.Fd(G) && (G=new h.default("Error encoding payload chunk [sequence number " + x.GC + "].",G));throw G;});}});});},timeout:function(){v.timeout();},error:function(F){d.default(v,function(){p.Fd(F) && (F=new h.default("Error encoding payload chunk [sequence number " + x.GC + "].",F));throw F;});}});});},error:function(H){d.default(v,function(){if(H instanceof e.default)throw new h.default("Error encoding payload chunk [sequence number " + x.GC + "].",H);throw H;});}});});},error:function(E){d.default(v,function(){p.Fd(E) && (E=new h.default("Error encoding payload chunk [sequence number " + x.GC + "].",E));throw E;});}});});}x=this;this.Cs({result:function(y){d.default(v,function(){if(y)w();else return !1;});},timeout:v.timeout,error:v.error});};r.prototype.write=function(u,v,w,x,y){var A;A=this;d.default(y,function(){var z;if(A.Ag)return !1;if(A.Tr)y.timeout();else {if(A.cf)throw A.cf;if(A.Fl)throw new h.default("Message output stream already closed.");if(0 > v)throw new RangeError("Offset cannot be negative.");if(0 > w)throw new RangeError("Length cannot be negative.");if(v + w > u.length)throw new RangeError("Offset plus length cannot be greater than the array length.");z=A.Eq();if(!z)throw new k.default("Cannot write payload data for an error message.");if(z.xL())throw new k.default("Cannot write payload data for a handshake message.");z=u.subarray(v,v + w);A.Uk.push(z);return z.length;}});};return r;})();b.RYb=q;b.Rqb=function(r,u,v,w,x,y,A){new q(r,u,v,w,x,y,A);};},41962:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.ucb=void 0;t=a(22970);d=t.__importDefault(a(20754));t.__importDefault(a(42979));a(61693);t.__importDefault(a(10690));a=(function(){function n(c,f,g){this.sk=c;this.tY=f.lpa();this.hb=g;}n.prototype.fmb=function(c){try{this.hb.A6b(c);}catch(f){if(!(f instanceof d.default))throw f;}};return n;})();b.ucb=a;},84898:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.zcb=void 0;d=a(22970).__importDefault(a(2178));t=(function(){function n(c,f){this.rkb=new d.default(c,f);}n.prototype.send=function(c,f){for(var g=[],e=2;e < arguments.length;e++)g[e - 2]=arguments[e];return this.rkb.send(c,f,g);};n.prototype.request=function(c,f){for(var g=[],e=2;e < arguments.length;e++)g[e - 2]=arguments[e];return this.rkb.request(c,f,g);};return n;})();b.zcb=t;},2178:function(t,b,a){var c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L,K,M;function d(P,I,O){return function(){I && P.ZW.cancel(I);O.abort();};}function n(P){for(;P;){if(P instanceof e.default)return !0;P=y.Fd(P)?P.Fc:void 0;}return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.WYb=b.XYb=b.UYb=void 0;c=a(22970);f=c.__importDefault(a(42979));g=c.__importDefault(a(79804));e=c.__importDefault(a(25978));h=c.__importDefault(a(1966));k=a(31238);l=a(74015);m=a(93652);p=c.__importDefault(a(10690));q=c.__importDefault(a(51411));r=a(41962);u=c.__importDefault(a(20754));v=c.__importDefault(a(36114));w=a(89752);x=a(81214);y=a(32260);A=(function(){return function(P,I){this.input=P;this.SS=I;};})();b.UYb=A;z=(function(){function P(I,O){this.jk=I;this.Ft=O;}P.prototype.equals=function(I){return this === I?!0:I instanceof P?this.jk === I.jk && this.Ft.equals(I.Ft):!1;};P.prototype.ji=function(){return this.jk.ji() + ":" + this.Ft.ji();};return P;})();t=(function(){function P(I){this.ox=I;}P.prototype.lpa=function(){return this.ox.lpa();};P.prototype.fSa=function(){return this.ox.fSa();};P.prototype.Saa=function(){return this.ox.Saa();};P.prototype.cra=function(){return this.ox.cra();};P.prototype.su=function(){return this.ox.su();};P.prototype.dba=function(){return this.ox.dba();};P.prototype.CA=function(){return this.ox.CA();};P.prototype.Ypa=function(I,O,Q,T){this.ox.Ypa(I,O,Q,T);};P.prototype.oR=function(I){this.ox.oR(I);};P.prototype.E3a=function(I,O,Q){this.ox.E3a(I,O,Q);};P.prototype.write=function(I,O,Q){this.ox.write(I,O,Q);};P.prototype.opa=function(){return this.ox.opa();};return P;})();B=(function(P){function I(O,Q){Q=P.call(this,Q) || this;Q.Ej=O;return Q;}c.__extends(I,P);I.prototype.write=function(O,Q,T){var U,X;U=this;if(this.Ej && 0 != this.Ej.length){X=function(Y){var W;if(Y == U.Ej.length)T.result(!0);else {W=U.Ej[Y];O.RPc(W.Uma,Q,{result:function(){O.write(W.data,0,W.data.length,Q,{result:function(){g.default(T,function(){W.pPa?O.close(Q,{result:function(Z){Z?X(Y + 1):T.result(Z);},timeout:T.timeout,error:T.error}):O.flush(Q,{result:function(Z){Z?X(Y + 1):T.result(Z);},timeout:T.timeout,error:T.error});});},timeout:T.timeout,error:T.error});},timeout:T.timeout,error:T.error});}};X(0);}else P.prototype.write.call(this,O,Q,T);};return I;})(t);C=(function(P){function I(O){return P.call(this,O) || this;}c.__extends(I,P);I.prototype.dba=function(){return !1;};return I;})(t);D=(function(){return function(P,I){this.bc=P;this.EUc=I;};})();E=(function(){return function(P,I){this.hb=P;this.rDc=I;};})();H=(function(){return function(P,I){this.request=P;this.vD=I;};})();F=(function(){return function(P,I){this.request=I.request;this.vD=I.vD;this.response=P;};})();G={};J=(function(){function P(I){I || (I=new k.eAa());this.OF=I;this.lka=null;this.VF=[];this.mP={};}P.prototype.qR=function(I,O,Q,T){var U;U=this;g.default(T,function(){var X,Y,W,Z,ba;X=O.Gm;Y=X.pD();if(!Y)return null;W=new z(O,Y).ji();Z=U.mP[W];Z || (Z=new l.mGa(),U.mP[W]=Z);ba=Z.sLc(Q,{result:function(ca){g.default(T,function(){var da;if(void 0 === ca)throw new e.default("getNewestMasterToken aborted.");da=X.pD();if(Y.equals(da))return new D(Y,ca);Z.unlock(ca);Z.WSb(Q,{result:function(ia){g.default(T,function(){if(void 0 === ia)throw new e.default("getNewestMasterToken aborted.");delete U.mP[W];Z.unlock(ia);return U.qR(I,O,Q,T);});},timeout:T.timeout,error:T.error});});},timeout:T.timeout,error:T.error});I.e2(function(){ba && (Z.cancel(ba),ba=void 0);});});};P.prototype.pOa=function(I,O){var Q;Q=this;O && setTimeout(function(){var T,U;T=new z(I,O).ji();U=Q.mP[T];U || (U=new l.mGa(),Q.mP[T]=U);U.WSb(-1,{result:function(X){X && (I.Gm.xKb(O),delete Q.mP[T],U.unlock(X));},timeout:function(){throw new p.default("Unexpected timeout received.");},error:function(X){throw X;}});},0);};P.prototype.Fu=function(I,O){O && O.bc && (I=new z(I,O.bc).ji(),(I=this.mP[I]) && I.unlock(O.EUc));};P.prototype.AWc=function(I,O,Q){var T;T=I.Gm;Q && (T.Gea(Q.keyResponseData.bc,Q.cp),this.pOa(I,O.bc));};P.prototype.rWc=function(I,O,Q){var T,U;T=Q.Eq();if(T){U=I.Gm;if(T=T.keyResponseData)(U.Gea(T.bc,Q.zka),this.pOa(I,O.bc));}};P.prototype.QOb=function(I,O,Q,T){var Y,W;I=I.Gm;for(var U=[],X=0;X < T.length;++X){Y=T[X];if(!Y.Dh(O) || !O.qr){W=Y.getData();W && 0 == W.length?I.Eva(Y.name,Y.fy()?O:null,Y.hw()?Q:null):U.push(Y);}}0 < U.length && I.nla(U);};P.prototype.n$b=function(I,O,Q,T,U){var X;X=this;this.qR(I,O,T,{result:function(Y){f.default(U,function(){var W,Z,ba,ca,da;try{W=Y && Y.bc;Z=void 0;if(W){ba=Q.CA();ca=O.Gm;da=ba?ca.Ux(ba):null;Z=da && da.Dh(W)?da:null;}else Z=null;X.OF.pY(O,W,Z,null,{result:function(ia){f.default(U,function(){ia.fU(Q.su());return {hb:ia,Tp:Y};});},error:function(ia){f.default(U,function(){X.Fu(O,Y);y.Fd(ia) && (ia=new p.default("User ID token not bound to master token despite internal check.",ia));throw ia;});}});}catch(ia){X.Fu(O,Y);}});},timeout:U.timeout,error:U.error});};P.prototype.j$b=function(I,O,Q,T,U,X){var Y;Y=this;this.OF.Afc(O,T,{result:function(W){g.default(X,function(){W.fU(Q.su());Y.qR(I,O,U,{result:function(Z){g.default(X,function(){var ba,ca,da,ia,S;try{ba=Z && Z.bc;ca=void 0;if(ba){da=Q.CA();ia=O.Gm;S=da?ia.Ux(da):null;ca=S && S.Dh(ba)?S:null;}else ca=null;W.QMb(ba,ca);return {hb:W,Tp:Z};}catch(N){Y.Fu(O,Z);}});},timeout:X.timeout,error:X.error});});},error:X.error});};P.prototype.o$b=function(I,O,Q,T,U,X,Y){var ba;function W(ca,da){ba.qR(I,O,X,{result:function(ia){g.default(Y,function(){var S,N,V;S=ia && ia.bc;N=m.lL(U.Ee);V=new B(da,Q);ba.OF.pY(O,S,null,N,{result:function(aa){g.default(Y,function(){aa.fU(V.su());return {MG:new E(aa,V),Tp:ia};});},error:Y.error});});},timeout:Y.timeout,error:Y.error});}function Z(ca,da){g.default(Y,function(){var ia,S;ia=m.lL(U.Ee);S=new B(da,Q);ba.OF.pY(O,null,null,ia,{result:function(N){g.default(Y,function(){N.fU(S.su());return {MG:new E(N,S),Tp:null};});},error:Y.error});});}ba=this;g.default(Y,function(){var ca,da,ia;ca=T.request.Eq();da=T.request.Ej;ia=U.errorCode;switch(ia){case q.default.P.li:case q.default.P.pg:O.spa({result:function(S){g.default(Y,function(){if(!S)return null;Z(ca,da);});},error:Y.error});break;case q.default.P.jd:case q.default.P.oja:Q.Ypa(ia,!1,!0,{result:function(S){g.default(Y,function(){if(!S)return null;W(ca,da);});},error:Y.error});break;case q.default.P.Oe:W(ca,da);break;case q.default.P.k5:Q.oR({result:function(S){g.default(Y,function(){var N,V;if(null === S || 0 === S.length)return null;N=m.lL(U.Ee);V=new B(da,Q);ba.OF.pY(O,null,null,N,{result:function(aa){g.default(Y,function(){aa.a1a(!0);aa.fU(V.su());return {MG:new E(aa,V),Tp:null};});},error:Y.error});});},error:Y.error});break;case q.default.P.j4:Q.oR({result:function(S){g.default(Y,function(){if(null === S || 0 === S.length)return null;ba.qR(I,O,X,{result:function(N){g.default(Y,function(){var V,aa,fa,ha;V=N && N.bc;if(V){aa=Q.CA();fa=O.Gm;aa=(aa=aa?fa.Ux(aa):null) && aa.Dh(V)?aa:null;}else aa=null;fa=m.lL(U.Ee);ha=new B(da,Q);ba.OF.pY(O,V,aa,fa,{result:function(ka){g.default(Y,function(){var pa;pa=ca.bc;pa && !pa.equals(V) || ka.a1a(!0);ka.fU(ha.su());return {MG:new E(ka,ha),Tp:N};});},error:Y.error});});},timeout:Y.timeout,error:Y.error});});},error:Y.error});break;case q.default.P.hGa:ba.qR(I,O,X,{result:function(S){g.default(Y,function(){var N,V,aa,fa;N=S && S.bc;if(N){V=Q.CA();aa=O.Gm;V=(V=V?aa.Ux(V):null) && V.Dh(N)?V:null;}else V=null;aa=m.lL(U.Ee);fa=new B(da,Q);ba.OF.pY(O,N,V,aa,{result:function(ha){g.default(Y,function(){ha.fU(fa.su());return {MG:new E(ha,fa),Tp:S};});},error:Y.error});});},timeout:Y.timeout,error:Y.error});break;default:return null;}});};P.prototype.Ubc=function(I,O,Q){switch(Q.errorCode){case q.default.P.pg:case q.default.P.li:this.pOa(I,O.bc);break;case q.default.P.Oe:case q.default.P.jd:(Q=O.kg,O.bc && Q && I.Gm.Lda(Q));}};P.prototype.send=function(I,O,Q,T,U,X,Y,W){var ia;function Z(S,N,V){g.default(W,function(){var aa;aa=new r.ucb(O,Q,U);Q.E3a(aa,V,{result:function(){U.rs({result:function(fa){g.default(W,function(){var ha,ka;ha=Q.opa();ha && ha.APc(fa);ha=U.zJ;ia.AWc(O,fa,ha);ia.QOb(O,ha?ha.keyResponseData.bc:S,N,fa.dN);ha=ha?ha.cp:fa.cp;if(I.Ag)throw new e.default("send aborted.");ka=null != ia.lka?ia.lka.r9c(T):T;ia.OF.jgc(O,ka,fa,ha,Y,{result:function(pa){g.default(W,function(){I.e2(function(){pa.abort();});pa.ncc(X);pa.Cs({result:function(oa){g.default(W,function(){if(!oa)throw new e.default("MessageOutputStream aborted.");ba(pa,V);});},timeout:W.timeout,error:W.error});});},timeout:W.timeout,error:W.error});});},timeout:W.timeout,error:W.error});},error:W.error});});}function ba(S,N){N?g.default(W,function(){return new H(S,N);}):Q.write(S,Y,{result:function(){g.default(W,function(){if(I.Ag)throw new e.default("MessageOutputStream write aborted.");return new H(S,N);});},timeout:W.timeout,error:W.error});}function ca(S,N,V){g.default(W,function(){var aa,fa,ha;aa=!(!(V || Q.Saa() && !U.LSb() || Q.cra() && !U.NSb()) && (!Q.su() || U.su() && S));U.hQc(aa);fa=[];if(U.tu()){ha=O.Mpa();if(!S || S.tu(ha) || Q.su()){Q.oR({result:function(ka){g.default(W,function(){var oa;if(aa && (null === ka || 0 == ka.length))throw new u.default(v.default.LWb);if(null !== ka)for(var pa=0;pa < ka.length;++pa){oa=ka[pa];fa.push(oa);U.f6b(oa);}Z(S,N,aa,fa);});},error:W.error});return;}}Z(S,N,aa,fa);});}function da(S,N,V){g.default(W,function(){ca(S,N,V);});}ia=this;g.default(W,function(){var S,N,V,aa;S=U.pD();N=U.Ux();V=!1;if(Q.CA()){aa=!N;Q.Ypa(null,U.tu(),aa,{result:function(fa){g.default(W,function(){fa && (U.KSb() && U.MSb()?U.xf(fa):V=!0);da(S,N,V);});},error:W.error});}else da(S,N,V);});};P.prototype.ELc=function(I,O,Q,T,U,X,Y){var Z;function W(ba){g.default(Y,function(){var ca,da,ia,S,N,V,aa,fa,ha,ka,pa,oa,la;ca=ba.Eq();da=ba.PZ();ia=Q.opa();ia && ia.HLc(ca?ca:da);if(ca){ia=ca.bc;S=ca.Tl;N=ca.kg;V=ca.zj;}else (ia=null,S=da.Tl,V=N=null);if(U){aa=da?da.errorCode:null;if(ca || aa != q.default.P.fa && aa != q.default.P.Hr && aa != q.default.P.pg && aa != q.default.P.li){aa=ca?ca.Ee:da.Ee;fa=m.lL(U.Ee);if(aa != fa)throw new u.default(v.default.o1b,"expected " + fa + "; received " + aa).kc(ia).Zf(S).Fe(N).xf(V);}}try{ha=Q.fSa();if(ha && S){ka=S.zA();if(ka && ha != ka)throw new u.default(v.default.uYb,"expected " + ha + "; received " + ka);}if(ca){U && Z.rWc(O,U,ba);pa=ca.keyResponseData;aa=ka=ha=void 0;ha=pa?pa.bc:ca.bc;ka=ca.kg;aa=ca.dN;oa=Q.CA();oa && ka && !ka.qr && O.Gm.qla(oa,ka);Z.QOb(O,ha,ka,aa);}la=ca?ca.BSa():null === da || void 0 === da?void 0:da.BSa();la && U && O.HWc(la);}catch(R){throw (y.Fd(R) && (R.kc(ia),R.Zf(S),R.Fe(N),R.xf(V)),R);}return ba;});}Z=this;g.default(Y,function(){var ba,ca,da;if(I.Ag)throw new e.default("receive aborted.");ba=[];U && (ba=U.DD.filter(function(){return !0;}));ca=Q.lpa();da=Z.lka?Z.lka.i9c(T):T;Z.OF.ANa(O,da,ba,ca,X,{result:function(ia){g.default(Y,function(){I.e2(function(){ia.abort();});ia.Cs({result:function(S){g.default(Y,function(){if(!S)throw new e.default("MessageInputStream aborted.");W(ia);});},timeout:Y.timeout,error:Y.error});});},timeout:Y.timeout,error:Y.error});});};P.prototype.uPc=function(I,O,Q,T,U,X,Y,W,Z,ba){var da;function ca(ia,S,N){g.default(ba,function(){var V,aa;V=ia.hb;aa=ia.Tp;V.a1a(N);da.send(I,O,Q,U,V,W,Z,{result:function(fa){g.default(ba,function(){var ha,ka;ha=fa.request.Eq();ka=ha.DD;0 == Y || fa.vD || 1 == Y && (null == ka || 0 == ka.length) || ha.tu() && ha.bc && ha.zj?da.ELc(I,O,Q,T,ha,Z,{result:function(pa){g.default(ba,function(){var oa;oa=pa.PZ();oa && da.Ubc(O,ha,oa);N && da.A1(O,S,pa);da.Fu(O,aa);pa.rcc(W);return new F(pa,fa);});},timeout:function(){g.default(ba,function(){N && da.A1(O,S,null);da.Fu(O,aa);ba.timeout();});},error:function(pa){g.default(ba,function(){N && da.A1(O,S,null);da.Fu(O,aa);ba.error(pa);});}}):g.default(ba,function(){N && da.A1(O,S,null);da.Fu(O,aa);return new F(null,fa);});});},timeout:function(){g.default(ba,function(){N && da.A1(O,S,null);da.Fu(O,aa);ba.timeout();});},error:function(fa){g.default(ba,function(){N && da.A1(O,S,null);da.Fu(O,aa);ba.error(fa);});}});});}da=this;g.default(ba,function(){var ia;ia=new w.I3();da.D5b(I,O,Q,ia,X,Z,{result:function(S){ca(X,ia,S);},timeout:function(){g.default(ba,function(){da.Fu(O,X.Tp);ba.timeout();});},error:function(S){g.default(ba,function(){da.Fu(O,X.Tp);if(S instanceof e.default)return null;ba.error(S);});}});});};P.prototype.D5b=function(I,O,Q,T,U,X,Y){var ca;function W(da,ia,S,N,V){g.default(Y,function(){var ha,ka;if(I.Ag)throw new e.default("acquireRenewalLock aborted.");for(var aa=null,fa=0;fa < ca.VF.length;++fa){ha=ca.VF[fa];if(ha.sk === O){aa=ha.gg;break;}}if(!aa)return (ca.VF.push({sk:O,gg:T}),!0);ka=aa.kda(X,{result:function(pa){g.default(Y,function(){var oa;if(void 0 === pa)throw new e.default("acquireRenewalLock aborted.");aa.add(pa);if(pa === G)W(da,ia,S,N,V);else {oa=da;da && da.equals(pa)?ba(oa,da,ia,S,N,V):(ca.Fu(O,V),ca.qR(I,O,X,{result:function(la){g.default(Y,function(){(da=(U.Tp=la) && la.bc)?ba(oa,da,ia,S,N,la):W(da,ia,S,N,la);});},timeout:Y.timeout,error:Y.error}));}});},timeout:Y.timeout,error:Y.error});I.e2(function(){ka && (aa.cancel(ka),ka=void 0);});});}function Z(da,ia){g.default(Y,function(){var S,V;if(I.Ag)throw new e.default("acquireRenewalLock aborted.");S=O.Mpa();if(!da || da.tu(S) || !ia && Q.CA() || ia && ia.tu(S)){S=null;for(var N=0;N < ca.VF.length;++N){V=ca.VF[N];if(V.sk === O){S=V.gg;break;}}if(!S)return (ca.VF.push({sk:O,gg:T}),!0);}return !1;});}function ba(da,ia,S,N,V,aa){g.default(Y,function(){var fa;if(N && !S || S && !S.Dh(ia)){fa=O.Gm.Ux(N);S=fa && fa.Dh(ia)?fa:null;}V.QMb(ia,S);fa=O.Mpa();ia.gw(fa)?W(ia,S,N,V,aa):V.tu() && ia.equals(da)?W(ia,S,N,V,aa):Q.dba() && !S?W(ia,S,N,V,aa):Z(ia,S);});}ca=this;g.default(Y,function(){var da,ia,S,N,V,aa;da=U.hb;ia=U.Tp;S=da.pD();N=da.Ux();V=Q.CA();aa=O.Mpa();Q.Saa() && !da.LSb() || Q.cra() && !da.NSb() || da.tu() || !S && Q.su() || S && S.gw(aa) || !(N || !V || da.KSb() && da.MSb()) || Q.dba() && (!S || V && !N)?W(S,N,V,da,ia):Z(S,N);});};P.prototype.A1=function(I,O,Q){var Y;for(var T,U,X=0;X < this.VF.length;++X){Y=this.VF[X];if(Y.sk === I){T=X;U=Y.gg;break;}}if(U !== O)throw new p.default("Attempt to release renewal lock that is not owned by this queue.");Q?(I=Q.Eq())?(Q=I.keyResponseData)?O.add(Q.bc):(I=I.bc)?O.add(I):O.add(G):O.add(G):O.add(G);this.VF.splice(T,1);};return P;})();b.XYb=J;t=(function(){function P(I,O){var Q;Q=null;"number" === typeof I && 0 < I && (Q=new x.Lgb(I));this.Xjb=new J(O);this.ZW=Q;this.alb=!1;}P.prototype.submit=function(I,O,Q,T){var U,X;U=this;if(this.ZW){X={result:function(Y){f.default(T,function(){U.ZW.signal();return Y;});},timeout:function(){f.default(T,function(){U.ZW.signal();T.timeout();});},error:function(Y){f.default(T,function(){U.ZW.signal();T.error(Y);});}};Q=this.ZW.wait(Q,{result:function(Y){Y?setTimeout(function(){I.call(X);},0):T.result(O);},timeout:T.timeout,error:T.error});return d(this,Q,I);}setTimeout(function(){I.call(T);},0);return d(this,null,I);};P.prototype.send=function(I,O){var U,X,Y,W,Z;for(var Q=[],T=2;T < arguments.length;T++)Q[T - 2]=arguments[T];if(this.alb)throw new h.default("MslControl is shutdown.");if(3 == Q.length)(X=Q[0],Y=U=null,W=Q[1],Z=Q[2]);else 4 == Q.length && (X=null,U=Q[0],Y=Q[1],W=Q[2],Z=Q[3]);new C(O);Q=new M(this.Xjb,I,O,X,U,Y,W);return this.submit(Q,null,W,Z);};P.prototype.request=function(I,O,Q){var T,U,X,Y,W;if(this.alb)throw new h.default("MslControl is shutdown.");if(3 == Q.length)(U=Q[0],X=T=null,Y=Q[1],W=Q[2]);else 4 == Q.length && (U=null,T=Q[0],X=Q[1],Y=Q[2],W=Q[3]);I=new K(this.Xjb,I,O,U,T,X,null,0,0,Y);return this.submit(I,null,Y,W);};return P;})();b.WYb=t;L={result:function(){},timeout:function(){},error:function(){}};K=(function(){function P(I,O,Q,T,U,X,Y,W,Z,ba){var ca;if(Y){ca=Y.hb;Y=Y.Tp;}else Y=ca=null;this.yJ=I;this.jk=O;this.qkb=Q;this.Qka=T;this.CC=U;this.SF=X;this.rP=!1;this.jIa=ca;this.llb=Y;this.CIa=W;this.Jl=ba;this.U3b=Z;this.Ag=this.Ika=!1;this.bIa=null;}P.prototype.abort=function(){this.Ag=!0;this.bIa && this.bIa.call(this);};P.prototype.e2=function(I){this.bIa=I;};P.prototype.Ue=function(I,O,Q,T,U){var ca;function X(da){g.default(U,function(){var ia,S,N;ia=da.request;S=da.response;N=S.Eq();if(!da.vD)return new A(S,ia);W(da,function(V){g.default(U,function(){var aa;if(!V)return null;aa=new B(null,I);ca.yJ.j$b(ca,ca.jk,I,N,Q,{result:function(fa){g.default(U,function(){var ha;ha=new P(ca.yJ,ca.jk,aa,ca.Qka,null,null,fa,ca.CIa,T,ca.Jl);ca.e2(function(){ha.abort();});ha.call(U);});},timeout:U.timeout,error:U.error});});});});}function Y(da){function ia(S,N){g.default(U,function(){return ca.Ika || N && !N.input?new A(S.response,null):N;});}g.default(U,function(){var S;S=da.response;ca.yJ.o$b(ca,ca.jk,I,da,S.PZ(),Q,{result:function(N){g.default(U,function(){var V,aa;if(!N)return new A(S,null);V=N.MG;aa=new P(ca.yJ,ca.jk,V.rDc,ca.Qka,null,null,{hb:V.hb,Tp:N.Tp},ca.CIa,T,ca.Jl);ca.e2(function(){aa.abort();});aa.call({result:function(fa){g.default(U,function(){ca.Ika=aa.Ika;ia(da,fa);});},timeout:U.timeout,error:U.error});});},timeout:U.timeout,error:U.error});});}function W(da,ia){Z(da,function(S){S?da.response.close(ca.Jl,{result:function(N){ia.call(ca,N);},timeout:function(){ia.call(ca,!0);},error:function(N){n(N) && ia.call(ca,!1);ia.call(ca,!0);}}):ia.call(ca,!1);});}function Z(da,ia){da.request.close(ca.Jl,{result:function(S){ia.call(this,S);},timeout:function(){ia.call(this,!0);},error:function(S){n(S) && ia.call(this,!1);ia.call(this,!0);}});}function ba(da){g.default(U,function(){W(da,function(ia){ia?Y(da):U.result(null);});});}ca=this;g.default(U,function(){if(T + 2 > q.default.gYb)return (ca.yJ.Fu(ca.jk,O.Tp),ca.Ika=!0,null);ca.yJ.uPc(ca,ca.jk,I,ca.CC,ca.SF,O,ca.CIa,ca.rP,Q,{result:function(da){g.default(U,function(){var ia,S;if(!da)return null;ia=da.request;S=da.response;T+=2;if(!S)return new A(S,ia);S.Eq()?X(da):ba(da);});},timeout:U.timeout,error:U.error});});};P.prototype.call=function(I){var Q;function O(T,U,X){g.default(I,function(){Q.Ue(Q.qkb,{hb:T,Tp:U},X,Q.U3b,{result:function(Y){g.default(I,function(){Y && Y.SS && Y.SS.QSc();!Q.rP || Y && Y.input || Q.CC.close(X,L);return Y;});},timeout:function(){g.default(I,function(){Q.rP && (Q.SF.close(X,L),Q.CC.close(X,L));I.timeout();});},error:function(Y){g.default(I,function(){Q.rP && (Q.SF.close(X,L),Q.CC.close(X,L));if(n(Y))return null;I.error(Y);});}});});}Q=this;g.default(I,function(){var T,U,X;T=Q.Jl;if(!Q.CC || !Q.SF)try{Q.Qka.setTimeout(Q.Jl);U=Date.now();X=Q.Qka.xGc();Q.SF=X.SS;Q.CC=X.input;-1 != T && (T=Q.Jl - (Date.now() - U));Q.rP=!0;}catch(Y){Q.jIa && Q.yJ.Fu(Q.jk,Q.llb);Q.SF && Q.SF.close(Q.Jl,L);Q.CC && Q.CC.close(Q.Jl,L);if(n(Y))return null;throw Y;}Q.jIa?O(Q.jIa,Q.llb,T):Q.yJ.n$b(Q,Q.jk,Q.qkb,Q.Jl,{result:function(Y){g.default(I,function(){O(Y.hb,Y.Tp,T);});},timeout:function(){g.default(I,function(){Q.rP && (Q.SF.close(Q.Jl,L),Q.CC.close(Q.Jl,L));I.timeout();});},error:function(Y){g.default(I,function(){Q.rP && (Q.SF.close(Q.Jl,L),Q.CC.close(Q.Jl,L));if(n(Y))return null;I.error(Y);});}});});};return P;})();M=(function(){function P(I,O,Q,T,U,X,Y){this.I4b=new K(I,O,Q,T,U,X,null,2,0,Y);}P.prototype.call=function(I){this.I4b.call({result:function(O){f.default(I,function(){return O?O.SS:null;});},timeout:I.timeout,error:I.error});};return P;})();b["default"]=t;},43056:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.Sqb=b.oZb=void 0;d=a(22970);n=a(28865);c=(function(f){function g(e,h,k,l,m){return f.call(this,e,h,k,l,m) || this;}d.__extends(g,f);g.prototype.lY=function(e,h,k,l,m,p){n.DNa(e,h,k,l,m,p);};return g;})(a(93652).RDa);b.oZb=c;b.Sqb=function(f,g,e,h,k){new c(f,g,e,h,k);};},61368:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.kEa=void 0;d=a(22970);t=a(31238);n=a(9635);d.__importDefault(a(43125));c=a(43056);a=(function(f){function g(){return null !== f && f.apply(this,arguments) || this;}d.__extends(g,f);g.prototype.ANa=function(e,h,k,l,m,p){n.Tqb(e,h,k,l,m,p,void 0);};g.prototype.jQ=function(e,h,k,l,m){c.Sqb(e,h,k,l,m);};return g;})(t.eAa);b.kEa=a;},28865:function(t,b,a){var d,n,c,f,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.DNa=void 0;d=a(22970);n=d.__importDefault(a(42979));c=d.__importDefault(a(6838));f=d.__importDefault(a(42458));g=d.__importDefault(a(58511));e=a(54449);(function(h){function k(l,m,p,q,r,u,v){return h.call(this,l,m,p,q,r,u,v) || this;}d.__extends(k,h);k.prototype.In=function(l,m,p){var q;q=this;n.default(p,function(){if(q.encodings[m])return q.encodings[m];l.Jj(q.qqa,m,{result:function(r){n.default(p,function(){q.cp.encrypt(r,l,m,{result:function(u){n.default(p,function(){q.cp.sign(u,l,m,{result:function(v){n.default(p,function(){var w;w=l.qf();q.bc?w.put(g.default.pab,q.bc):w.put(g.default.wCa,q.Tl);w.put(g.default.oab,u);w.put(g.default.yCa,v);l.Jj(w,m,{result:function(x){n.default(p,function(){return q.encodings[m]=x;});},error:p.error});});},error:function(v){n.default(p,function(){v instanceof f.default && (v=new c.default("Error signing the header data.",v));throw v;});}});});},error:function(u){n.default(p,function(){u instanceof f.default && (u=new c.default("Error encrypting the header data.",u));throw u;});}});});},error:p.error});});};return k;})(e.aW);b.DNa=function(h,k,l,m,p,q){new e.aW(h,k,l,m,p,null,q);};},9635:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Tqb=b.pZb=void 0;d=a(22970);a(66734);a(75563);t=a(34801);d.__importDefault(a(45826));n=(function(c){function f(g,e,h,k,l,m){return c.call(this,g,e,h,k,l,m) || this;}d.__extends(f,c);return f;})(t.lia);b.pZb=n;b.Tqb=function(c,f,g,e,h,k){new n(c,f,g,e,h,k);};},43125:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.egc=b.qZb=void 0;d=a(22970);n=a(28865);c=(function(f){function g(e,h,k){return f.call(this,e,h,k) || this;}d.__extends(g,f);g.prototype.lY=function(e,h,k,l,m,p){n.DNa(e,h,k,l,m,p);};return g;})(a(56058).i7a);b.qZb=c;b.egc=function(f,g,e){new c(f,g,e);};},42296:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u;Object.defineProperty(b,"__esModule",{value:!0});b.LHb=b.Yqb=b.L_b=void 0;d=a(22970);t=a(48235);n=d.__importStar(a(51411));c=d.__importDefault(a(10690));f=d.__importDefault(a(42979));g=d.__importDefault(a(42458));e=d.__importDefault(a(6838));h=d.__importDefault(a(88257));k=d.__importDefault(a(36114));l=d.__importDefault(a(20754));m=d.__importDefault(a(1966));p=a(44127);q=a(53140);r=(function(){return function(v){this.payload=v;};})();u=(function(v){function w(x,y,A,z,B,C,D,E){var H;H=v.call(this) || this;if(0 > y || y > n.default.$e)throw new c.default("Sequence number " + y + " is outside the valid range.");if(0 > A || A > n.default.$e)throw new c.default("Message ID " + A + " is outside the valid range.");if(E)x=E.payload;else {if(B){if((E=q.pF.ap(B,C),!(E && E.length < C.length) || E.length * q.pF.GRa() < C.length))(B=null,E=C);}else (B=null,E=C);x=x.Dg.qf();x.put("sequencenumber",y);x.put("messageid",A);z && x.put("endofmsg",z);null != B && x.put("compressionalgo",B);x.put("data",E);}H.payload=x;H.bk=y;H.Ee=A;H.pPa=z;H.Uma=B;H.data=C;H.cp=D;H.encodings={};return H;}d.__extends(w,v);w.prototype.In=function(x,y,A){var z;z=this;f.default(A,function(){if(z.encodings[y])return z.encodings[y];x.Jj(z.payload,y,{result:function(B){f.default(A,function(){z.cp.encrypt(B,x,y,{result:function(C){f.default(A,function(){z.cp.sign(C,x,y,{result:function(D){f.default(A,function(){var E;E=x.qf();E.put("payload",C);E.put("signature",D);x.Jj(E,y,{result:function(H){f.default(A,function(){return z.encodings[y]=H;});},error:A.error});});},error:function(D){f.default(A,function(){if(D instanceof g.default)throw new e.default("Error signing the payload.",D);throw D;});}});});},error:function(C){f.default(A,function(){if(C instanceof g.default)throw new e.default("Error encrypting the payload.",C);throw C;});}});});},error:A.error});});};return w;})(t.Po);b.L_b=u;b.Yqb=function(v,w,x,y,A,z,B,C){f.default(C,function(){return new u(v,w,x,y,A,z,B,null);});};b.LHb=function(v,w,x,y){function A(z,B){f.default(y,function(){var C,D,E,H,F,G,J,L;try{C=z.Cp(B);D=C.jo("sequencenumber");if(0 > D || D > n.default.$e)throw new m.default(k.default.HZb,"payload chunk payload " + C);E=C.jo("messageid");if(0 > E || E > n.default.$e)throw new m.default(k.default.FZb,"payload chunk payload " + C);H=C.has("endofmsg")?C.p$("endofmsg"):!1;F=void 0;if(C.has("compressionalgo")){G=C.xe("compressionalgo");if(-1 === Object.values(n.VI).indexOf(G))throw new l.default(k.default.jib,G);F=G;}else F=null;G=void 0;J=C.wd("data");if(0 == J.length){if(!H)throw new l.default(k.default.DZb);G=new Uint8Array(0);}else G=null == F?J:q.pF.GI(F,J);L=new r(C);return new u(v,D,E,H,F,G,x,L);}catch(K){if(K instanceof e.default)throw new h.default(k.default.af,"payload chunk payload " + p.zi(B),K);throw K;}});}f.default(y,function(){var z,B,C;z=v.Dg;try{B=w.wd("payload");C=w.wd("signature");}catch(D){if(D instanceof e.default)throw new h.default(k.default.af,"payload chunk " + w,D);throw D;}x.verify(B,C,z,{result:function(D){f.default(y,function(){if(!D)throw new g.default(k.default.IZb);x.decrypt(B,z,{result:function(E){A(z,E);},error:y.error});});},error:y.error});});};},58892:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u;Object.defineProperty(b,"__esModule",{value:!0});b.nua=b.Xfc=b.Qbb=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(10690));c=d.__importDefault(a(51411));f=d.__importDefault(a(42458));g=d.__importDefault(a(36114));e=d.__importDefault(a(42979));h=d.__importDefault(a(6838));k=d.__importDefault(a(88257));l=d.__importDefault(a(1966));m=a(44127);p=a(60426);q=a(10558);r=(function(){return function(v,w,x,y){this.zwa=v;this.jr=w;this.Kk=x;this.qr=y;};})();u=(function(v){function w(x,y,A,z,B,C,D,E,H,F){var G,J,L,K,M;G=v.call(this) || this;if(A.getTime() < y.getTime())throw new n.default("Cannot construct a master token that expires before its renewal window opens.");if(0 > z || z > c.default.$e)throw new n.default("Sequence number " + z + " is outside the valid range.");if(0 > B || B > c.default.$e)throw new n.default("Serial number " + B + " is outside the valid range.");y=Math.floor(y.getTime() / 1E3);A=Math.floor(A.getTime() / 1E3);if(F){J=F.zwa;L=F.jr;K=F.Kk;F=F.qr;}else {F=E.O2();L=c.default.gBa.bR(E.algorithm);K=H.O2();M=c.default.c6.bR(H.algorithm);if(!L || !M)throw new f.default(g.default.AHa,"encryption algorithm: " + E.algorithm + "; signature algorithm: " + H.algorithm);J=x.Dg.qf();C && J.put("issuerdata",C);J.put("identity",D);J.put("encryptionkey",F);J.put("encryptionalgorithm",L);J.put("hmackey",K);J.put("signaturekey",K);J.put("signaturealgorithm",M);K=L=null;F=!0;}G.sk=x;G.IT=y;G.UQ=A;G.bk=z;G.Pf=B;G.zwa=J;G.myc=C;G.qu=D;G.Pv=E;G.tI=H;G.jr=L;G.Kk=K;G.qr=F;G.encodings={};return G;}d.__extends(w,v);w.prototype.X$=function(){return new Date(1E3 * this.IT);};w.prototype.vk=function(){return new Date(1E3 * this.UQ);};w.prototype.Qaa=function(){return this.zwa?!0:!1;};w.prototype.tu=function(x){return x?this.X$().getTime() <= x.getTime():this.qr?this.X$().getTime() <= this.sk.getTime():!0;};w.prototype.gw=function(x){return x?this.vk().getTime() <= x.getTime():this.qr?this.vk().getTime() <= this.sk.getTime():!1;};w.prototype.Axc=function(x){var y;if(this.bk == x.bk)return this.vk() > x.vk();if(this.bk > x.bk){y=this.bk - c.default.$e + 127;return x.bk >= y;}y=x.bk - c.default.$e + 127;return this.bk < y;};w.prototype.In=function(x,y,A){var B;function z(C,D){e.default(A,function(){var E;E=x.qf();E.put("tokendata",C);E.put("signature",D);x.Jj(E,y,{result:function(H){e.default(A,function(){return B.encodings[y.name]=H;});},error:A.error});});}B=this;e.default(A,function(){var C;if(B.encodings[y.name])return B.encodings[y.name];if(null != B.jr || null != B.Kk)z(B.jr,B.Kk);else {try{C=B.sk.Kka;}catch(D){if(D instanceof f.default)throw new h.default("Error creating the MSL crypto context.",D);throw D;}x.Jj(B.zwa,y,{result:function(D){C.encrypt(D,x,y,{result:function(E){e.default(A,function(){var H;H=x.qf();H.put("renewalwindow",B.IT);H.put("expiration",B.UQ);H.put("sequencenumber",B.bk);H.put("serialnumber",B.Pf);H.put("sessiondata",E);x.Jj(H,y,{result:function(F){C.sign(F,x,y,{result:function(G){z(F,G);},error:function(G){e.default(A,function(){if(G instanceof f.default)throw new h.default("Error signing the token data.",G);throw G;});}});},error:A.error});});},error:function(E){e.default(A,function(){if(E instanceof f.default)throw new h.default("Error encrypting the session data.",E);throw E;});}});},error:A.error});}});};w.prototype.toString=function(){var x,y;x=this.sk.Dg;y=x.qf();y.put("renewalwindow",this.IT);y.put("expiration",this.UQ);y.put("sequencenumber",this.bk);y.put("serialnumber",this.Pf);y.put("sessiondata","(redacted)");x=x.qf();x.put("tokendata",y);x.put("signature",this.Kk?this.Kk:"(null)");return x.toString();};w.prototype.equals=function(x){return this === x?!0:x instanceof w?this.Pf == x.Pf && this.bk == x.bk && this.vk().getTime() == x.vk().getTime():!1;};w.prototype.ji=function(){return this.Pf + ":" + this.bk + ":" + this.vk().getTime();};return w;})(t.Po);b.Qbb=u;b.Xfc=function(v,w,x,y,A,z,B,C,D,E){e.default(E,function(){return new u(v,w,x,y,A,z,B,C,D,null);});};b.nua=function(v,w,x){function y(B,C,D,E,H){e.default(x,function(){var F,G,J,L,K,M,P,I;try{F=C.Cp(D);G=F.jo("renewalwindow");J=F.jo("expiration");if(J < G)throw new l.default(g.default.$Xb,"mastertokendata " + F);L=F.jo("sequencenumber");if(0 > L || L > c.default.$e)throw new l.default(g.default.aYb,"mastertokendata " + F);K=F.jo("serialnumber");if(0 > K || K > c.default.$e)throw new l.default(g.default.bYb,"mastertokendata " + F);M=F.wd("sessiondata");if(0 == M.length)throw new k.default(g.default.cYb,"mastertokendata " + F);P=new Date(1E3 * G);I=new Date(1E3 * J);H?B.decrypt(M,C,{result:function(O){A(B,C,D,E,H,P,I,L,K,O);},error:x.error}):z(B,C,D,E,H,P,I,L,K,null,null,null,null,null);}catch(O){if(O instanceof h.default)throw new k.default(g.default.fYb,"mastertokendata " + m.zi(D),O);throw O;}});}function A(B,C,D,E,H,F,G,J,L,K){e.default(x,function(){var M,P,I,O,Q,T,U,X,Y;try{M=C.Cp(K);P=M.has("issuerdata")?M.Fq("issuerdata",C):null;I=M.xe("identity");O=M.wd("encryptionkey");Q=M.Qca("encryptionalgorithm",c.default.gBa.Eya);T=M.has("signaturekey")?M.wd("signaturekey"):M.wd("hmackey");U=M.Qca("signaturealgorithm",c.default.c6.YBa);}catch(W){if(W instanceof h.default)throw new k.default(g.default.dYb,"sessiondata " + m.zi(K),W);throw W;}X=c.default.gBa.X2a(Q);Y=c.default.c6.X2a(U);if(!X || !Y)throw new f.default(g.default.AHa,"encryption algorithm: " + Q + "; signature algorithm: " + U);p.ATa(O,X,q.CF.xha,{result:function(W){p.ATa(T,Y,q.CF.sW,{result:function(Z){z(B,C,D,E,H,F,G,J,L,M,P,I,W,Z);},error:function(Z){x.error(new f.default(g.default.xbb,Z));}});},error:function(W){x.error(new f.default(g.default.xbb,W));}});});}function z(B,C,D,E,H,F,G,J,L,K,M,P,I,O){e.default(x,function(){var Q;Q=new r(K,D,E,H);return new u(v,F,G,J,L,M,P,I,O,Q);});}e.default(x,function(){var B,C,D,E;B=v.Kka;C=v.Dg;try{D=w.wd("tokendata");if(0 == D.length)throw new k.default(g.default.eYb,"mastertoken " + w);E=w.wd("signature");}catch(H){if(H instanceof h.default)throw new k.default(g.default.af,"mastertoken " + w,H);throw H;}B.verify(D,E,C,{result:function(H){y(B,C,D,E,H);},error:x.error});});};},61693:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w;function d(x,y,A){var z,B;try{z=y.wd("tokendata");if(0 == z.length)throw new c.default(f.default.lgb,"servicetoken " + y);B=x.Cp(z).xe("name");return A[B]?A[B]:A[""];}catch(C){if(C instanceof g.default)throw new c.default(f.default.af,"servicetoken " + y,C);throw C;}}Object.defineProperty(b,"__esModule",{value:!0});b.qua=b.xgc=b.Ogb=void 0;n=a(22970);c=n.__importDefault(a(88257));f=n.__importDefault(a(36114));g=n.__importDefault(a(6838));t=a(48235);e=n.__importDefault(a(10690));h=a(58892);k=a(85065);l=n.__importDefault(a(42979));m=n.__importDefault(a(1966));p=n.__importDefault(a(42458));q=n.__importStar(a(51411));r=a(44127);u=a(53140);v=(function(){return function(x,y,A){this.jr=x;this.Kk=y;this.qr=A;};})();w=(function(x){function y(A,z,B,C,D,E,H,F,G){var J,L,K,M;J=x.call(this) || this;if(C && D && !D.Dh(C))throw new e.default("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");C=C?C.Pf:-1;D=D?D.Pf:-1;if(G){L=G.jr;K=G.Kk;G=G.qr;}else {if(!F)throw new TypeError("Crypto context may not be null.");if(H){M=u.pF.ap(H,B);M && M.length < B.length || (H=null,M=B);}else (H=null,M=B);K=L=null;G=!0;}J.sk=A;J.cp=F;J.name=z;J.Wj=C;J.dz=D;J.Ox=E;J.Uma=H;J.NMb=B;J.ZMa=M;J.jr=L;J.Kk=K;J.qr=G;J.encodings={};return J;}n.__extends(y,x);y.prototype.Saa=function(){return this.Ox;};y.prototype.Qaa=function(){return this.NMb?!0:!1;};y.prototype.getData=function(){return this.NMb;};y.prototype.fy=function(){return -1 != this.Wj;};y.prototype.Dh=function(A){return A?A instanceof h.Qbb?A.Pf == this.Wj:A instanceof k.xib?A.Pf == this.dz:!1:!1;};y.prototype.hw=function(){return -1 != this.dz;};y.prototype.fyc=function(){return -1 == this.Wj && -1 == this.dz;};y.prototype.In=function(A,z,B){var E;function C(H){l.default(B,function(){var F;F=A.qf();F.put("name",E.name);-1 != E.Wj && F.put("mtserialnumber",E.Wj);-1 != E.dz && F.put("uitserialnumber",E.dz);F.put("encrypted",E.Ox);E.Uma && F.put("compressionalgo",E.Uma);F.put("servicedata",H);A.Jj(F,z,{result:function(G){l.default(B,function(){E.cp.sign(G,A,z,{result:function(J){D(G,J);},error:function(J){l.default(B,function(){if(J instanceof p.default)throw new g.default("Error signing the token data.",J);throw J;});}});});},error:B.error});});}function D(H,F){l.default(B,function(){var G;G=A.qf();G.put("tokendata",H);G.put("signature",F);A.Jj(G,z,{result:function(J){l.default(B,function(){return E.encodings[z.name]=J;});},error:B.error});});}E=this;l.default(B,function(){if(E.encodings[z.name])return E.encodings[z.name];null != E.jr || null != E.Kk?D(E.jr,E.Kk):E.Ox && 0 < E.ZMa.length?E.cp.encrypt(E.ZMa,A,z,{result:C,error:function(H){l.default(B,function(){if(H instanceof p.default)throw new g.default("Error encrypting the service data.",H);throw H;});}}):C(E.ZMa);});};y.prototype.toString=function(){var A,z;A=this.sk.Dg;z=A.qf();z.put("name",this.name);z.put("mtserialnumber",this.Wj);z.put("uitserialnumber",this.dz);z.put("servicedata","(redacted)");A=A.qf();A.put("tokendata",z);A.put("signature",this.Kk?this.Kk:"(null)");return A.toString();};y.prototype.equals=function(A){return this === A?!0:A instanceof y?this.name == A.name && this.Wj == A.Wj && this.dz == A.dz:!1;};y.prototype.ji=function(){return this.name + ":" + this.Wj + ":" + this.dz;};return y;})(t.Po);b.Ogb=w;b.xgc=function(x,y,A,z,B,C,D,E,H){l.default(H,function(){return new w(x,y,A,z,B,C,D,E,null);});};b.qua=function(x,y,A,z,B,C){function D(H,F,G,J,L){l.default(C,function(){var K,M,P,I,O,Q,T,U,X;try{K=H.Cp(F);M=K.xe("name");if(K.has("mtserialnumber")){P=K.jo("mtserialnumber");if(0 > P || P > q.default.$e)throw new m.default(f.default.I0b,"servicetokendata " + K).kc(A).Fe(z);}else P=-1;if(K.has("uitserialnumber")){I=K.jo("uitserialnumber");if(0 > I || I > q.default.$e)throw new m.default(f.default.K0b,"servicetokendata " + K).kc(A).Fe(z);}else I=-1;O=K.p$("encrypted");if(K.has("compressionalgo")){Q=K.xe("compressionalgo");if(!((Q in q.VI)))throw new m.default(f.default.jib,Q);T=Q;}else T=null;U=K.wd("servicedata");}catch(Y){if(Y instanceof g.default)throw new c.default(f.default.af,"servicetokendata " + r.zi(F),Y).kc(A).Fe(z);throw Y;}if(L){if(O && 0 < U.length)J.decrypt(U,H,{result:function(Y){X=T?u.pF.GI(T,Y):Y;E(H,F,G,L,M,P,I,O,T,J,Y,X);},error:function(Y){l.default(C,function(){Y instanceof p.default && (Y.kc(A),Y.Fe(z));throw Y;});}});else {K=U;X=T?u.pF.GI(T,K):K;E(H,F,G,L,M,P,I,O,T,J,K,X);}}else (K=U,X=0 == U.length?new Uint8Array(0):null,E(H,F,G,L,M,P,I,O,T,J,K,X));});}function E(H,F,G,J,L,K,M,P,I,O,Q,T){l.default(C,function(){var U;if(-1 != K && (!A || K != A.Pf))throw new m.default(f.default.vGa,"st mtserialnumber " + K + "; mt " + A).kc(A).Fe(z);if(-1 != M && (!z || M != z.Pf))throw new m.default(f.default.wGa,"st uitserialnumber " + M + "; uit " + z).kc(A).Fe(z);U=new v(F,G,J);return new w(x,L,T,-1 != K?A:null,-1 != M?z:null,P,I,O,U);});}l.default(C,function(){var H,F,G,J;H=x.Dg;F=null;B && (F=d(H,y,B));try{G=y.wd("tokendata");if(0 == G.length)throw new c.default(f.default.lgb,"servicetoken " + y).kc(A).Fe(z);J=y.wd("signature");}catch(L){if(L instanceof g.default)throw new c.default(f.default.af,"servicetoken " + y,L).kc(A).Fe(z);throw L;}F?F.verify(G,J,H,{result:function(L){D(H,G,J,F,L);},error:function(L){l.default(C,function(){L instanceof p.default && L.kc(A);throw L;});}}):D(H,G,J,F,!1);});};},85065:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.EYa=b.Igc=b.xib=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(10690));c=d.__importDefault(a(51411));f=d.__importDefault(a(42979));g=d.__importDefault(a(42458));e=d.__importDefault(a(6838));h=d.__importDefault(a(1966));k=d.__importDefault(a(88257));l=d.__importDefault(a(36114));m=a(44127);p=(function(){return function(r,u,v,w){this.Y3a=r;this.jr=u;this.Kk=v;this.qr=w;};})();q=(function(r){function u(v,w,x,y,A,z,B,C){var D,E,H,F;D=r.call(this) || this;if(x.getTime() < w.getTime())throw new n.default("Cannot construct a user ID token that expires before its renewal window opens.");if(!y)throw new n.default("Cannot construct a user ID token without a master token.");if(0 > A || A > c.default.$e)throw new n.default("Serial number " + A + " is outside the valid range.");w=Math.floor(w.getTime() / 1E3);x=Math.floor(x.getTime() / 1E3);y=y.Pf;if(C){E=C.Y3a;H=C.jr;F=C.Kk;C=C.qr;}else (E=v.Dg.qf(),z && E.put("issuerdata",z),E.put("identity",B.oD()),F=H=null,C=!0);D.sk=v;D.IT=w;D.UQ=x;D.Wj=y;D.Pf=A;D.Y3a=E;D.myc=z;D.WU=B;D.jr=H;D.Kk=F;D.qr=C;D.encodings={};return D;}d.__extends(u,r);u.prototype.Qaa=function(){return this.WU?!0:!1;};u.prototype.X$=function(){return new Date(1E3 * this.IT);};u.prototype.tu=function(v){return v?this.X$().getTime() <= v.getTime():this.qr?this.X$().getTime() <= this.sk.getTime():!0;};u.prototype.vk=function(){return new Date(1E3 * this.UQ);};u.prototype.gw=function(v){return v?this.vk().getTime() <= v.getTime():this.qr?this.vk().getTime() <= this.sk.getTime():!1;};u.prototype.Dh=function(v){return v && v.Pf == this.Wj;};u.prototype.In=function(v,w,x){var A;function y(z,B){f.default(x,function(){var C;C=v.qf();C.put("tokendata",z);C.put("signature",B);v.Jj(C,w,{result:function(D){f.default(x,function(){return A.encodings[w.name]=D;});},error:x.error});});}A=this;f.default(x,function(){var z;if(A.encodings[w.name])return A.encodings[w.name];if(null != A.jr || null != A.Kk)y(A.jr,A.Kk);else {try{z=A.sk.Kka;}catch(B){if(B instanceof g.default)throw new e.default("Error creating the MSL crypto context.",B);throw B;}v.Jj(A.Y3a,w,{result:function(B){z.encrypt(B,v,w,{result:function(C){f.default(x,function(){var D;D=v.qf();D.put("renewalwindow",A.IT);D.put("expiration",A.UQ);D.put("mtserialnumber",A.Wj);D.put("serialnumber",A.Pf);D.put("userdata",C);v.Jj(D,w,{result:function(E){z.sign(E,v,w,{result:function(H){y(E,H);},error:function(H){f.default(x,function(){if(H instanceof g.default)throw new e.default("Error signing the token data.",H);throw H;});}});},error:x.error});});},error:function(C){f.default(x,function(){if(C instanceof g.default)throw new e.default("Error encrypting the user data.",C);throw C;});}});},error:x.error});}});};u.prototype.toString=function(){var v,w;v=this.sk.Dg;w=v.qf();w.put("renewalwindow",this.IT);w.put("expiration",this.UQ);w.put("mtserialnumber",this.Wj);w.put("serialnumber",this.Pf);w.put("userdata","(redacted)");v=v.qf();v.put("tokendata",w);v.put("signature",this.Kk?this.Kk:"(null)");return v.toString();};u.prototype.equals=function(v){return this === v?!0:v instanceof u?this.Pf == v.Pf && this.Wj == v.Wj:!1;};u.prototype.ji=function(){return this.Pf + ":" + this.Wj;};return u;})(t.Po);b.xib=q;b.Igc=function(r,u,v,w,x,y,A,z){f.default(z,function(){return new q(r,u,v,w,x,y,A,null);});};b.EYa=function(r,u,v,w){function x(z,B,C,D,E){f.default(w,function(){var H,F,G,J,L,K;try{H=z.Cp(C);F=H.jo("renewalwindow");G=H.jo("expiration");if(G < F)throw new h.default(l.default.w1b,"usertokendata " + H).kc(v);J=H.jo("mtserialnumber");if(0 > J || J > c.default.$e)throw new h.default(l.default.A1b,"usertokendata " + H).kc(v);L=H.jo("serialnumber");if(0 > L || L > c.default.$e)throw new h.default(l.default.B1b,"usertokendata " + H).kc(v);K=H.wd("userdata");if(0 == K.length)throw new h.default(l.default.F1b).kc(v);}catch(M){if(M instanceof e.default)throw new k.default(l.default.D1b,"usertokendata " + m.zi(C),M).kc(v);throw M;}E?B.decrypt(K,z,{result:function(M){y(z,C,D,E,F,G,J,L,M);},error:function(M){f.default(w,function(){M instanceof g.default && M.kc(v);throw M;});}}):A(C,D,E,F,G,J,L,null,null,null);});}function y(z,B,C,D,E,H,F,G,J){f.default(w,function(){var L,K,M;try{L=z.Cp(J);K=L.has("issuerdata")?L.Fq("issuerdata",z):null;M=L.xe("identity");if(!M || 0 == M.length)throw new h.default(l.default.x1b,"userdata " + L).kc(v);}catch(P){if(P instanceof e.default)throw new k.default(l.default.G1b,"userdata " + m.zi(J),P).kc(v);throw P;}(null).V6c(r,M,{result:function(P){f.default(w,function(){if(!P)throw new n.default("TokenFactory.createUser() returned null in violation of the interface contract.");A(B,C,D,E,H,F,G,L,K,P);});},error:w.error});});}function A(z,B,C,D,E,H,F,G,J,L){f.default(w,function(){var K,M,P;K=new Date(1E3 * D);M=new Date(1E3 * E);if(!v || H != v.Pf)throw new h.default(l.default.EHa,"uit mtserialnumber " + H + "; mt " + v).kc(v);P=new p(G,z,B,C);return new q(r,K,M,v,F,J,L,P);});}f.default(w,function(){var z,B,C,D;z=r.Kka;B=r.Dg;try{C=u.wd("tokendata");if(0 == C.length)throw new k.default(l.default.C1b,"useridtoken " + u).kc(v);D=u.wd("signature");}catch(E){if(E instanceof e.default)throw new k.default(l.default.af,"useridtoken " + u,E).kc(v);throw E;}z.verify(C,D,B,{result:function(E){x(B,z,C,D,E);},error:w.error});});};},23710:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.AHb=b.bBa=void 0;d=a(22970);t=a(5248);n=a(91331);c=d.__importDefault(a(42979));f=d.__importDefault(a(6838));g=d.__importDefault(a(88257));e=d.__importDefault(a(36114));h=(function(k){function l(m,p){var q;q=k.call(this,n.Lja.RAa) || this;q.email=m;q.password=p;return q;}d.__extends(l,k);l.prototype.gR=function(m,p){var q;q=this;c.default(p,function(){var r;r=m.qf();r.put("email",q.email);r.put("password",q.password);return r;});};l.prototype.equals=function(m){return this === m?!0:m instanceof l?k.prototype.equals.call(this,m) && this.email == m.email && this.password == m.password:!1;};return l;})(t.IHa);b.bBa=h;b.AHb=function(k){var l,m;try{l=k.xe("email");m=k.xe("password");return new h(l,m);}catch(p){if(p instanceof f.default)throw new g.default(e.default.af,"email/password authdata " + k,p);throw p;}};},25606:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.P8a=void 0;d=a(22970);n=a(91331);c=d.__importDefault(a(42979));f=a(23710);g=d.__importDefault(a(10690));e=d.__importDefault(a(88361));h=d.__importDefault(a(36114));t=(function(k){function l(m,p){var q;q=k.call(this,n.Lja.RAa) || this;q.Gm=m;q.Y4c=p;return q;}d.__extends(l,k);l.prototype.P8=function(m,p,q){c.default(q,function(){return f.AHb(p);});};l.prototype.vLa=function(m,p,q,r,u){var v;v=this;c.default(u,function(){var w,x;if(!(q instanceof f.bBa))throw new g.default("Incorrect authentication data type " + q + ".");w=q.email;x=q.password;if(!w || 0 == w.trim().length || !x || 0 == x.trim().length)throw new e.default(h.default.eWb).xf(q);w=v.Gm.H$c(w,x);if(null == w)throw new e.default(h.default.t8a).xf(q);if(r && (x=r.WU,!w.equals(x)))throw new e.default(h.default.E1b,"uad user " + w + "; uit user " + x).xf(q);return w;});};return l;})(a(49137).JHa);b.P8a=t;},49123:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.KHb=b.jEa=void 0;d=a(22970);t=a(5248);n=a(32256);c=d.__importDefault(a(42979));f=d.__importDefault(a(6838));g=d.__importDefault(a(88257));e=d.__importDefault(a(36114));h=(function(k){function l(m,p){var q;q=k.call(this,n.yia.fEa) || this;q.DS=m;q.qea=p;return q;}d.__extends(l,k);l.prototype.gR=function(m,p){var q;q=this;c.default(p,function(){var r;r=m.qf();q.DS && r.put("netflixid",q.DS);q.qea && r.put("securenetflixid",q.qea);return r;});};l.prototype.equals=function(m){return this === m?!0:m instanceof l?k.prototype.equals.call(this,m) && this.DS == m.DS && this.qea == m.qea:!1;};return l;})(t.IHa);b.jEa=h;b.KHb=function(k){var l,m;try{l=k.has("netflixid")?k.xe("netflixid"):void 0;m=k.has("securenetflixid")?k.xe("securenetflixid"):void 0;return new h(l,m);}catch(p){if(p instanceof f.default)throw new g.default(e.default.af,"Netflix ID authentication data " + k,p);throw p;}};},79925:function(t,b,a){var d,n,c,f,g,e,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.Ncb=void 0;d=a(22970);n=a(32256);c=d.__importDefault(a(42979));f=a(49123);g=d.__importDefault(a(10690));e=d.__importDefault(a(88361));h=d.__importDefault(a(99075));k=d.__importDefault(a(36114));t=(function(l){function m(){return l.call(this,n.yia.fEa) || this;}d.__extends(m,l);m.prototype.P8=function(p,q,r){c.default(r,function(){return f.KHb(q);});};m.prototype.vLa=function(p,q,r){if(!(r instanceof f.jEa))throw new g.default("Incorrect authentication data type " + r + ".");p=r.qea;if(!r.DS || !p)throw new e.default(h.default.bZb).xf(r);throw new e.default(k.default.u1b,this.scheme).xf(r);};return m;})(a(49137).JHa);b.Ncb=t;},32256:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.yia=void 0;d=a(22970);t=(function(n){function c(f){return n.call(this,f) || this;}d.__extends(c,n);return c;})(d.__importDefault(a(91331)).default);b["default"]=t;b.yia={fEa:new t("NETFLIXID"),G3c:new t("SSO"),Z3c:new t("SWITCH_PROFILE"),F1c:new t("MDX"),xYb:new t("MIGRATION")};},5248:function(t,b,a){var d,n,c,f,g,e;Object.defineProperty(b,"__esModule",{value:!0});b.RHb=b.IHa=void 0;d=a(22970);t=a(48235);n=d.__importDefault(a(42979));c=d.__importDefault(a(88361));f=d.__importDefault(a(36114));g=d.__importDefault(a(6838));e=d.__importDefault(a(88257));a=(function(h){function k(l){var m;m=h.call(this) || this;m.scheme=l;m.encodings={};return m;}d.__extends(k,h);k.prototype.equals=function(l){return this === l?!0:l instanceof k?this.scheme == l.scheme:!1;};k.prototype.In=function(l,m,p){var q;q=this;n.default(p,function(){if(q.encodings[m.name])return q.encodings[m.name];q.gR(l,{result:function(r){n.default(p,function(){var u;u=l.qf();u.put("scheme",q.scheme.name);u.put("authdata",r);l.Jj(u,m,{result:function(v){n.default(p,function(){return q.encodings[m.name]=v;});},error:p.error});});},error:p.error});});};return k;})(t.Po);b.IHa=a;b.RHb=function(h,k,l,m){n.default(m,function(){var p,q,r;try{p=l.xe("scheme");q=h.Etc(p);if(!q)throw new c.default(f.default.s1b,p);r=h.Fyb(q);if(!r)throw new c.default(f.default.pib,q.name);r.P8(k,l.Fq("authdata",h.Dg),m);}catch(u){if(u instanceof g.default)throw new e.default(f.default.af,"userauthdata " + l,u);throw u;}});};},49137:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.JHa=void 0;b.JHa=(function(){return function(a){this.scheme=a;};})();},91331:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lja=void 0;t=(function(){function a(d){this.name=d;a.JB[d]=this;}a.prototype.toString=function(){return this.name;};a.$$=function(d){return a.JB[d]?a.JB[d]:null;};a.JB={};return a;})();b["default"]=t;b.Lja={RAa:new t("EMAIL_PASSWORD"),C4c:new t("USER_ID_TOKEN")};},14945:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b["default"]=(function(){function a(){}a.equal=function(d,n){if(d === n)return !0;if(!d || !n || d.length != n.length)return !1;for(var c=0;c < d.length;++c)if(d[c] != n[c])return !1;return !0;};a.hba=function(d){return d && d.constructor == Uint8Array;};a.nqa=function(d){var f;if(!a.hba(d) && !Array.isArray(d))throw new TypeError("Cannot compute the hash code of " + d);for(var n=1,c=0;c < d.length;++c){f=d[c];if("number" !== typeof f)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + f);n=31 * n + f & 4294967295;}return n;};a.contains=function(d,n){var h;if(d === n)return !0;if(!d || !n)return !1;n instanceof Array || (n=[n]);for(var c=0;c < n.length;++c){for(var f=n[c],g=!1,e=0;e < d.length;++e){h=d[e];if(f.equals && "function" === typeof f.equals && f.equals(h) || f == h){g=!0;break;}}if(!g)return !1;}return !0;};a.K8=function(d,n){return a.contains(d,n) && (d.length == n.length || a.contains(n,d));};a.concat=function(d){var n,c,f,g,e;f=d.length;g=0;for(c=n=0;c < f;c++)n+=d[c].length;n=new Uint8Array(n);for(c=0;c < f;c++){e=d[c];n.set(e,g);g+=e.length;}return n;};return a;})();},42979:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b["default"]=function(a,d,n){var c,f;void 0 === n && (n=void 0);n && (c=n);if("object" !== typeof a || "function" !== typeof a.result || "function" !== typeof a.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{f=d.call(c,a);void 0 !== f && a.result(f);}catch(g){try{a.error(g);}catch(e){}}};},44127:function(t,b){var a,d,n;Object.defineProperty(b,"__esModule",{value:!0});b.pk=b.zi=b.RMb=b.l6a=b.iyc=void 0;a=/\s*/g;d=/^([A-Za-z0-9+/_-]{4})*([A-Za-z0-9+/_-]{4}|[A-Za-z0-9+/_-]{3}=|[A-Za-z0-9+/_-]{2}==)?$/;b.iyc=function(c,f){c=c.replace(a,"");if(f && (f=c.length % 4)){f=4 - f;for(var g=0;g < f;++g)c+="=";}return 0 == c.length % 4 && d.test(c)?!0:!1;};b.l6a=(function(){return function(){};})();b.RMb=function(c){if(!c)throw new TypeError("Base64 implementation cannot be null.");n=c;};b.zi=function(c,f){return n.encode(c,f);};b.pk=function(c,f){return n.decode(c,f);};},41294:function(t,b,a){var n,c,f,g,e,h,k,l;function d(m,p){m=k[m & 63];if(p){if("+" == m)return "-";if("/" == m)return "_";}return m;}Object.defineProperty(b,"__esModule",{value:!0});b.m6a=void 0;n=a(22970);t=a(44127);c=String.fromCharCode(9);f=String.fromCharCode(10);g=String.fromCharCode(13);e=String.fromCharCode(32);h=String.fromCharCode(127);k=(function(){var m,p;p=[];for(m=0;26 > m;m++)p[m]=String.fromCharCode(65 + m);for(m=26;52 > m;m++)p[m]=String.fromCharCode(97 + (m - 26));for(m=52;62 > m;m++)p[m]=String.fromCharCode(48 + (m - 52));p[62]="+";p[63]="/";return p;})();l=(function(){var m,p;p=[];for(m=0;128 > m;m++)p[m]=-1;for(m=65;90 >= m;m++)p[m]=m - 65;for(m=97;122 >= m;m++)p[m]=m - 97 + 26;for(m=48;57 >= m;m++)p[m]=m - 48 + 52;p[43]=62;p[47]=63;p[61]=h;return p;})();t=(function(m){function p(){return null !== m && m.apply(this,arguments) || this;}n.__extends(p,m);p.prototype.encode=function(q,r){var u,v,w;u="";v=q.length;for(w=0;3 <= v;(v-=3,w+=3))u+=d(q[w] >> 2) + d((q[w] & 3) << 4 | q[w + 1] >> 4 & 15) + d((q[w + 1] & 15) << 2 | q[w + 2] >> 6 & 3) + d(q[w + 2] & 63);1 == v?(u+=d(q[w] >> 2) + d((q[w] & 3) << 4),r || (u+="==")):2 == v && (u+=d(q[w] >> 2) + d((q[w] & 3) << 4 | q[w + 1] >> 4 & 15) + d((q[w + 1] & 15) << 2),r || (u+="="));return u;};p.prototype.decode=function(q,r){var C,D;for(var u=!1,v=q.length,w=Array(Math.floor(3 * v / 4)),x=0,y=Array(4),A=0,z=!1,B=0;B < v;++B){C=q[B];D=C.charCodeAt(0);isNaN(D)?D=void 0:(D=l[D],r && ("-" == D?D="+":"_" == D && (D="/")));if(void 0 === D || -1 == D)C != e && C != c && C != f && C != g && (u=!0);else if((z && (u=!0),y[A++]=D,4 == A)){if(y[0] == h || y[1] == h)u=!0;if(y[2] == h || y[3] == h)z=!0;w[x++]=y[0] << 2 | y[1] >> 4;y[2] != h && (w[x++]=y[1] << 4 | y[2] >> 2);y[3] != h && (w[x++]=y[2] << 6 | y[3]);A=0;}}r && 2 <= A && (w[x++]=y[0] << 2 | y[1] >> 4,3 == A && y[2] != h && (w[x++]=y[1] << 4 | y[2] >> 2),A=0);0 != A && (u=!0);if(u)throw Error("Invalid Base64 encoded string: " + q);q=new Uint8Array(x);for(v=u=0;u < w.length;++u)r && w[u] == h || (q[u]=w[v++]);return q;};return p;})(t.l6a);b.m6a=t;},89752:function(t,b,a){var c,f;function d(g){return g == c.default.$e?1:g + 1;}function n(g){if(0 === Object.keys(g.Hm).length)return 0;for(var e=d(g.Qh);!g.Hm[e];)e=d(e);return e;}Object.defineProperty(b,"__esModule",{value:!0});b.I3=void 0;t=a(22970);c=t.__importDefault(a(51411));f=t.__importDefault(a(79804));a=(function(){function g(){this.Vo=[];this.Hm={};this.I6=this.Qh=0;}g.prototype.cancel=function(e){var h;if(this.Hm[e]){h=this.Hm[e];delete this.Hm[e];e == this.Qh && (this.Qh=n(this));h.call(this,void 0);}};g.prototype.Bma=function(){for(;0 !== this.Qh;)this.cancel(this.Qh);};g.prototype.kda=function(e,h){var k,l;k=this;l=d(this.I6);this.I6=l;f.default(h,function(){var m,p;if(0 < k.Vo.length){m=k.Vo.shift();setTimeout(function(){h.result(m);},0);}else {-1 != e && (p=setTimeout(function(){delete k.Hm[l];l == k.Qh && (k.Qh=n(k));h.timeout();},e));k.Hm[l]=function(q){clearTimeout(p);setTimeout(function(){h.result(q);},0);};k.Qh || (k.Qh=l);}});return l;};g.prototype.add=function(e){var h;if(this.Qh){h=this.Hm[this.Qh];delete this.Hm[this.Qh];this.Qh=n(this);h.call(this,e);}else this.Vo.push(e);};return g;})();b.I3=a;},79804:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});d=a(22970).__importDefault(a(42979));b["default"]=function(n,c,f){void 0 === f && (f=void 0);if("object" !== typeof n || "function" !== typeof n.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");d.default(n,c,f);};},75513:function(t,b,a){var n,c,f,g;function d(e,h){h || (h=e.length);return e.reduce(function(k,l,m){return m < h?k + String.fromCharCode(l):k;},"");}Object.defineProperty(b,"__esModule",{value:!0});b.tbb=void 0;n=a(22970).__importDefault(a(48795));c={};for(t=0;256 > t;++t)(a=d([t]),c[a]=t);f=Object.keys(c).length;g=[];for(t=0;256 > t;++t)g[t]=[t];t=(function(){function e(){}e.prototype.ap=function(h){var l,A;function k(z,B){for(var C;0 < B;){if(u >= r.length)return !1;B > v?(C=z,C>>>=B - v,r[u]|=C & 255,B-=v,v=8,++u):B <= v && (C=z,C<<=v - B,C&=255,C>>>=8 - v,r[u]|=C & 255,v-=B,B=0,0 == v && (v=8,++u));}return !0;}l={};for(m in c)l[m]=c[m];for(var m=f,p=[],q=8,r=new Uint8Array(h.length),u=0,v=8,w,x,y=0;y < h.length;++y){A=h[y];p.push(A);w=d(p);x=l[w];if(void 0 === x){p=d(p,p.length - 1);if(!k(l[p],q))return null;0 != m >> q && ++q;l[w]=m++;p=[A];}}return 0 < p.length && (w=d(p),x=l[w],!k(x,q))?null:r.subarray(0,8 > v?u + 1:u);};e.prototype.GI=function(h,k){var y,A;for(var l=g.slice(),m=0,p=0,q=8,r=new Uint8Array(Math.ceil(1.5 * h.length)),u=0,v,w=[];m < h.length && !(8 * (h.length - m) - p < q);){for(var x=v=0;x < q;){y=Math.min(q - x,8 - p);A=h[m];A<<=p;A&=255;A>>>=8 - y;x+=y;p+=y;8 == p && (p=0,++m);v|=(A & 255) << q - x;}x=l[v];0 == w.length?++q:(x?w.push(x[0]):w.push(w[0]),l[l.length]=w,w=[],l.length == 1 << q && ++q,x || (x=l[v]));v=u + x.length;if(v > k * h.length)throw new n.default("Deflate ratio " + k + " exceeded. Aborting uncompression.");v >= r.length && (y=new Uint8Array(Math.ceil(1.5 * v)),y.set(r),r=y);r.set(x,u);u=v;w=w.concat(x);}return r.subarray(0,u);};return e;})();b.tbb=t;},53140:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.pF=void 0;t=a(22970);d=t.__importDefault(a(1966));n=t.__importDefault(a(36114));c=t.__importDefault(a(48795));b.pF=(function(){function f(){}f.register=function(g,e){e?f.zqa[g]=e:delete f.zqa[g];};f.sQc=function(g){if(1 > g)throw new RangeError("The maximum deflate ratio must be at least one.");f.oWa=g;};f.GRa=function(){return f.oWa;};f.ap=function(g,e){var h,k;h=f.zqa[g];if(!h)throw new d.default(n.default.lib,g);try{k=h.ap(e);return k && k.length < e.length?k:null;}catch(l){if(l instanceof c.default)throw new d.default(n.default.JUb,"algo " + g,l);throw l;}};f.GI=function(g,e){var h;h=f.zqa[g];if(!h)throw new d.default(n.default.lib,g);try{return h.GI(e,f.oWa);}catch(k){if(k instanceof c.default)throw new d.default(n.default.l1b,"algo " + g,k);throw k;}};f.zqa={};f.oWa=200;return f;})();},38470:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.aEa=b.tWb=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(10690));b.tWb={pg:d.default.P.pg,li:d.default.P.li};c=0;a=(function(){function f(){var g;g=++c;if(0 >= g || !isFinite(g))throw new n.default("MSL context unique ID has overflowed. Are you sure you are using MSL context's correctly?");this.c5b=c;this.flb=!1;this.ed=0;}f.prototype.HWc=function(g){var e;e=this.getTime() / 1E3;this.ed=g.getTime() / 1E3 - e;this.flb=!0;};f.prototype.Mpa=function(){var g;if(!this.flb)return null;g=this.getTime() / 1E3 + this.ed;return new Date(1E3 * g);};f.prototype.equals=function(g){return this === g?!0:!1;};f.prototype.ji=function(){return this.c5b.toString();};return f;})();b.aEa=a;},80824:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.dEa=void 0;t=a(22970);d=a(44127);n=a(53140);c=a(69193);a(31809);f=a(50441);t.__importDefault(a(90122));b.dEa=(function(){function g(){}g.Ue=function(e){var h;h=e.f2b;h && d.RMb(h);if(h=e.s2b)for(var k in h)n.pF.register(k,h[k]);(k=e.GRa()) && n.pF.sQc(k);(k=e.Y4b) && c.vC.V0a(k);e=e.LSa();null !== e && void 0 !== e && f.q1a(e);};return g;})();},32260:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Fd=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(63053));b["default"]={bdd:function(c,f){if(c.length != f.length)return !1;for(var g=0,e=0;e < c.length;++e)g|=c[e] ^ f[e];return 0 == g;},osc:function(c){var f,g;f=d.default.$e;f=!("number" === typeof f && isFinite(f) && Math.floor(f) == f && Math.abs(f) <= Number.MAX_SAFE_INTEGER) || 0 > f?!1:0 == f?!0:0 == (f & f - 1);c=c.byb();do {g=c.UDc();f && (g&=d.default.$e - 1);}while(0 > g || g > d.default.$e);return g;},Ped:function(c){return c.sort().filter(function(f,g,e){return !g || f != e[g - 1];});}};b.Fd=function(c){return c instanceof n.default;};},18461:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qEa=void 0;t=(function(){function a(){}a.prototype.$wc=function(d){for(var n=1;n < arguments.length;n++);return !1;};return a;})();b.qEa=t;},90122:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});"undefined" !== typeof Promise && (a=Promise);b["default"]={setImpl:function(d){a=d;},create:function(d){return new a(d);}};},31809:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Pfb=void 0;d=0 - a(22970).__importDefault(a(51411)).default.$e;"undefined" !== typeof Ba && (n=Ba.msCrypto || Ba.crypto);t=(function(){function c(){}c.prototype.UDc=function(){var g;for(var f=d;f == d;){f=new Uint8Array(7);n.getRandomValues(f);g=16777216 * ((f[6] & 31) << 24 | f[5] << 16 | f[4] << 8 | f[3]) + (f[2] << 16 | f[1] << 8 | f[0]);f=f[6] & 128?-g - 1:g;}return f;};c.prototype.QDc=function(f){var e,h;for(var g=0;;){e=Math.min(65536,f.length - g);if(0 == e)break;h=new Uint8Array(e);n.getRandomValues(h);f.set(h,g);g+=e;}};return c;})();b.Pfb=t;},74015:function(t,b,a){var f,g,e;function d(h){return h == f.default.$e?1:h + 1;}function n(h){if(0 === Object.keys(h.ux).length)return 0;for(var k=d(h.Tz);!h.ux[k];)k=d(k);return k;}function c(h){if(0 === Object.keys(h.KC).length)return 0;for(var k=d(h.ov);!h.KC[k];)k=d(k);return k;}Object.defineProperty(b,"__esModule",{value:!0});b.mGa=void 0;t=a(22970);f=t.__importDefault(a(51411));g=t.__importDefault(a(79804));e=t.__importDefault(a(10690));a=(function(){function h(){this.WW={};this.ux={};this.cX=null;this.KC={};this.Aka=this.ov=this.Tz=0;}h.prototype.cancel=function(k){var l;if(this.ux[k]){l=this.ux[k];delete this.ux[k];k == this.Tz && (this.Tz=n(this));l.call(this,!0);}this.KC[k] && (l=this.KC[k],delete this.KC[k],k == this.ov && (this.ov=c(this)),l.call(this,!0));};h.prototype.Bma=function(){for(;0 !== this.ov;)this.cancel(this.ov);for(;0 !== this.Tz;)this.cancel(this.Tz);};h.prototype.sLc=function(k,l){var m,p;m=this;p=d(this.Aka);this.Aka=p;g.default(l,function(){var q;if(!m.cX && 0 === Object.keys(m.KC).length)return (m.WW[p]=!0,p);-1 != k && (q=setTimeout(function(){delete m.ux[p];p == m.Tz && (m.Tz=n(m));l.timeout();},k));m.ux[p]=function(r){clearTimeout(q);r?setTimeout(function(){l.result(void 0);},0):(m.WW[p]=!0,setTimeout(function(){l.result(p);},0));};m.Tz || (m.Tz=p);});return p;};h.prototype.WSb=function(k,l){var m,p;m=this;p=d(this.Aka);this.Aka=p;g.default(l,function(){var q;if(0 === Object.keys(m.WW).length && 0 === Object.keys(m.ux).length && !m.cX)return m.cX=p;-1 != k && (q=setTimeout(function(){delete m.KC[p];p == m.ov && (m.ov=c(m));l.timeout();},k));m.KC[p]=function(r){clearTimeout(q);r?setTimeout(function(){l.result(void 0);},0):(m.cX=p,setTimeout(function(){l.result(p);},0));};m.ov || (m.ov=p);});};h.prototype.unlock=function(k){var l;if(k == this.cX)this.cX=null;else {if(!this.WW[k])throw new e.default("There is no reader or writer with ticket number " + k + ".");delete this.WW[k];}if(this.ov)0 < Object.keys(this.WW).length || (k=this.KC[this.ov],delete this.KC[this.ov],this.ov=c(this),k.call(this,!1));else {for(k=this.Tz;0 < Object.keys(this.ux).length;k=d(k))if(this.ux[k]){l=this.ux[k];delete this.ux[k];l.call(this,!1);}this.Tz=0;}};return h;})();b.mGa=a;},81214:function(t,b,a){var c,f,g;function d(e){return e == c.default.$e?1:e + 1;}function n(e){if(0 === Object.keys(e.Hm).length)return 0;for(var h=d(e.Qh);!e.Hm[h];)h=d(h);return h;}Object.defineProperty(b,"__esModule",{value:!0});b.Lgb=void 0;t=a(22970);c=t.__importDefault(a(51411));f=t.__importDefault(a(79804));g=t.__importDefault(a(10690));a=(function(){function e(h){this.N3b=this.IW=h;this.Hm={};this.I6=this.Qh=0;}e.prototype.cancel=function(h){this.Hm[h] && (this.Hm[h].call(this,!1),delete this.Hm[h],h == this.Qh && (this.Qh=n(this)));};e.prototype.Bma=function(){for(;0 !== this.Qh;)this.cancel(this.Qh);};e.prototype.wait=function(h,k){var l,m;l=this;if(0 < this.IW)return (--this.IW,setTimeout(function(){k.result(!0);},0),0);m=d(this.I6);this.I6=m;f.default(k,function(){var p;-1 != h && (p=setTimeout(function(){delete l.Hm[m];m == l.Qh && (l.Qh=n(l));k.timeout();},h));l.Hm[m]=function(q){clearTimeout(p);if(q){if(0 >= l.IW){setTimeout(function(){k.error(new g.default("Semaphore waiter signaled without any available resources."));},0);return;}--l.IW;}setTimeout(function(){k.result(q);},0);};l.Qh || (l.Qh=m);});return m;};e.prototype.signal=function(){var h;if(this.IW == this.N3b)throw new g.default("Semaphore signaled despite all resources being already available.");++this.IW;if(this.Qh){h=this.Hm[this.Qh];delete this.Hm[this.Qh];this.Qh=n(this);h.call(this,!0);}};return e;})();b.Lgb=a;},25137:function(t,b,a){var d,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});b.vW=void 0;t=a(22970);d=t.__importDefault(a(51411));n=t.__importDefault(a(10690));c=t.__importDefault(a(1966));f=t.__importDefault(a(36114));g=a(32260);a=(function(){function e(){this.Fs={};this.tY={};this.gz={};this.Gca={};this.V2={};this.s0={};this.U2={};}e.prototype.Gea=function(h,k){var l;if(k){l=h.ji();this.Fs[l]=h;this.tY[l]=k;}else this.xKb(h);};e.prototype.pD=function(){var h,k,l;h=null;for(k in this.Fs){l=this.Fs[k];if(!h || l.Axc(h))h=l;}return h;};e.prototype.Drc=function(h){var k;h=h.Pf;k=void 0 !== this.Gca[h]?this.Gca[h]:0;if(0 > k || k > d.default.$e)throw new n.default("Non-replayable ID " + k + " is outside the valid range.");k=k == d.default.$e?0:k + 1;return this.Gca[h]=k;};e.prototype.wA=function(h){return this.tY[h.ji()];};e.prototype.xKb=function(h){var k,l,m,p,q;k=this;l=h.ji();if(this.Fs[l]){m=h.Pf;for(p in this.Fs){q=this.Fs[p];if(!q.equals(h) && q.Pf == m){delete this.Fs[l];delete this.tY[l];return;}}Object.keys(this.gz).forEach(function(r){r=k.gz[r];r.Dh(h) && k.Lda(r);});try{this.Eva(null,h,null);}catch(r){if(g.Fd(r))throw new n.default("Unexpected exception while removing master token bound service tokens.",r);throw r;}delete this.Gca[m];delete this.Fs[l];delete this.tY[l];}};e.prototype.Xbc=function(){[this.Fs,this.tY,this.Gca,this.gz,this.U2,this.s0].forEach(function(h){for(var k in h)delete h[k];});};e.prototype.qla=function(h,k){var l,m;l=!1;for(m in this.Fs)if(k.Dh(this.Fs[m])){l=!0;break;}if(!l)throw new c.default(f.default.y1b,"uit mtserialnumber " + k.Wj);this.gz[h]=k;};e.prototype.Ux=function(h){return this.gz[h];};e.prototype.Lda=function(h){var k,l,m,p;k=this;l=null;for(m in this.Fs){p=this.Fs[m];if(h.Dh(p)){l=p;break;}}Object.keys(this.gz).forEach(function(q){if(k.gz[q].equals(h)){try{k.Eva(null,l,h);}catch(r){if(g.Fd(r))throw new n.default("Unexpected exception while removing user ID token bound service tokens.",r);throw r;}delete k.gz[q];}});};e.prototype.nla=function(h){var k;k=this;h.forEach(function(l){var m,p;if(l.fy()){m=!1;for(p in k.Fs)if(l.Dh(k.Fs[p])){m=!0;break;}if(!m)throw new c.default(f.default.H0b,"st mtserialnumber " + l.Wj);}if(l.hw()){m=!1;for(var q in k.gz)if(l.Dh(k.gz[q])){m=!0;break;}if(!m)throw new c.default(f.default.J0b,"st uitserialnumber " + l.dz);}});h.forEach(function(l){var m;if(l.fyc())k.V2[l.ji()]=l;else {if(l.fy()){m=k.s0[l.Wj];m || (m={});m[l.ji()]=l;k.s0[l.Wj]=m;}l.hw() && ((m=k.U2[l.dz]) || (m={}),m[l.ji()]=l,k.U2[l.dz]=m);}});};e.prototype.bL=function(h,k){var l,m,p;if(k){if(!h)throw new c.default(f.default.z1b);if(!k.Dh(h))throw new c.default(f.default.EHa,"uit mtserialnumber " + k.Wj + "; mt " + h.Pf);}l={};for(m in this.V2){p=this.V2[m];l[p.ji()]=p;}if(h && (m=this.s0[h.Pf]))for(var q in m)(p=m[q],p.hw() || (l[q]=p));if(k && (k=this.U2[k.Pf]))for(var r in k)(q=k[r],q.Dh(h) && (l[r]=q));h=[];for(var u in l)h.push(l[u]);return h;};e.prototype.Eva=function(h,k,l){var m,p,q;m=this;if(l && k && !l.Dh(k))throw new c.default(f.default.EHa,"uit mtserialnumber " + l.Wj + "; mt " + k.Pf);!h || k || l || Object.keys(this.V2).forEach(function(r){m.V2[r].name == h && delete m.V2[r];});k && !l && (p=this.s0[k.Pf]) && (Object.keys(p).forEach(function(r){var u;u=p[r];h && u.name != h || delete p[r];}),this.s0[k.Pf]=p);l && (q=this.U2[l.Pf]) && (k=Object.keys(q),k.forEach(function(r){var u;u=q[r];h && u.name != h || delete q[r];}),this.U2[l.Pf]=q);};return e;})();b.vW=a;},69193:function(t,b){var d;function a(n){if(!n)throw new TypeError("Text encoding implementation cannot be null.");d=n;}Object.defineProperty(b,"__esModule",{value:!0});b.vC=b.V0a=b.Hhb=b.lC=void 0;b.lC={zF:"utf-8",F4c:"utf-16"};b.Hhb=(function(){return function(){};})();b.V0a=a;b.vC={V0a:a,xe:function(n,c){void 0 === c && (c=b.lC.zF);return d.xe(n,c);},wd:function(n,c){void 0 === c && (c=b.lC.zF);return d.wd(n,c);}};},14348:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.Eja=void 0;d=a(22970);n=a(69193);t=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.xe=function(g,e){if(!e || e === n.lC.zF){e=0;for(var h,k=g.length,l="";e < k;){h=g[e++];if(h & 128)if(192 === (h & 224))h=((h & 31) << 6) + (g[e++] & 63);else if(224 === (h & 240))h=((h & 15) << 12) + ((g[e++] & 63) << 6) + (g[e++] & 63);else throw Error("unsupported character");l+=String.fromCharCode(h);}return l;}throw Error("unsupported encoding");};f.prototype.wd=function(g,e){var h,k,l,m;if(!e || e === n.lC.zF){e=g.length;h=0;l=0;for(k=e;k--;){m=g.charCodeAt(k);128 > m?h++:h=2048 > m?h + 2:h + 3;}h=new Uint8Array(h);for(k=0;k < e;k++)(m=g.charCodeAt(k),128 > m?h[l++]=m:(2048 > m?h[l++]=192 | m >>> 6:(h[l++]=224 | m >>> 12,h[l++]=128 | m >>> 6 & 63),h[l++]=128 | m & 63));return h;}throw Error("unsupported encoding");};return f;})(n.Hhb);b.Eja=t;},62807:function(t,b,a){var d,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});b.Tib=void 0;d=a(22970);n=a(41294);c=a(75513);f=a(14348);g=a(51411);t=(function(e){function h(){var k,l,m,p;k=e.call(this) || this;l=new n.m6a();m={};m[g.VI.HCa]=new c.tbb();p=new f.Eja();k.f2b=l;k.s2b=m;k.Y4b=p;return k;}d.__extends(h,e);h.prototype.GRa=function(){return null;};h.prototype.LSa=function(){return null;};return h;})(a(80824).dEa);b.Tib=t;},69452:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p;d=a(76113);n=a(69808);c=a(48668);f=a(99939);g=a(97911);e=a(51832);b=a(67286);h=a(62680);k=a(26302);l=h("String.prototype.charAt");m=b("%Array.prototype.indexOf%");p=b("%Math.max%");t.exports=function(q){var r,u,v;r=1 < arguments.length?d(arguments[1]):0;if(m && !g(q) && e(r) && "undefined" !== typeof q)return -1 < m.apply(this,arguments);u=c(this);v=n(u.length);if(0 === v)return !1;for(r=0 <= r?r:p(0,v + r);r < v;){if(f(q,k(u)?l(u,r):u[r]))return !0;r+=1;}return !1;};},44878:function(t,b,a){var d;d=a(69452);t.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:d;};},26860:function(t,b,a){var d,n;d=a(14926);n=a(44878);t.exports=function(){var c;c=n();d(Array.prototype,{includes:c},{includes:function(){return Array.prototype.includes !== c;}});return c;};},17187:function(t){function b(){this.oc=this.oc || ({});this.Sz=this.Sz || void 0;}function a(n){return "function" === typeof n;}function d(n){return "object" === typeof n && null !== n;}t.exports=b;b.EventEmitter=b;b.prototype.oc=void 0;b.prototype.Sz=void 0;b.iOa=10;b.prototype.setMaxListeners=function(n){if("number" !== typeof n || 0 > n || isNaN(n))throw TypeError("n must be a positive number");this.Sz=n;return this;};b.prototype.emit=function(n){var c,f,g,e;this.oc || (this.oc={});if("error" === n && (!this.oc.error || d(this.oc.error) && !this.oc.error.length)){f=arguments[1];if(f instanceof Error)throw f;g=Error('Uncaught, unspecified "error" event. (' + f + ")");g.context=f;throw g;}g=this.oc[n];if(void 0 === g)return !1;if(a(g))switch(arguments.length){case 1:g.call(this);break;case 2:g.call(this,arguments[1]);break;case 3:g.call(this,arguments[1],arguments[2]);break;default:(f=Array.prototype.slice.call(arguments,1),g.apply(this,f));}else if(d(g)){f=Array.prototype.slice.call(arguments,1);e=g.slice();g=e.length;for(c=0;c < g;c++)e[c].apply(this,f);}return !0;};b.prototype.addListener=function(n,c){if(!a(c))throw TypeError("listener must be a function");this.oc || (this.oc={});this.oc.MDc && this.emit("newListener",n,a(c.listener)?c.listener:c);this.oc[n]?d(this.oc[n])?this.oc[n].push(c):this.oc[n]=[this.oc[n],c]:this.oc[n]=c;d(this.oc[n]) && !this.oc[n].m4a && (c=void 0 === this.Sz?b.iOa:this.Sz) && 0 < c && this.oc[n].length > c && (this.oc[n].m4a=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this.oc[n].length),"function" === typeof console.trace && console.trace());return this;};b.prototype.on=b.prototype.addListener;b.prototype.once=function(n,c){var g;function f(){this.removeListener(n,f);g || (g=!0,c.apply(this,arguments));}if(!a(c))throw TypeError("listener must be a function");g=!1;f.listener=c;this.on(n,f);return this;};b.prototype.removeListener=function(n,c){var f,g,e;if(!a(c))throw TypeError("listener must be a function");if(!this.oc || !this.oc[n])return this;f=this.oc[n];g=f.length;e=-1;if(f === c || a(f.listener) && f.listener === c)(delete this.oc[n],this.oc.removeListener && this.emit("removeListener",n,c));else if(d(f)){for(;0 < g--;)if(f[g] === c || f[g].listener && f[g].listener === c){e=g;break;}if(0 > e)return this;1 === f.length?(f.length=0,delete this.oc[n]):f.splice(e,1);this.oc.removeListener && this.emit("removeListener",n,c);}return this;};b.prototype.removeAllListeners=function(n){var c;if(!this.oc)return this;if(!this.oc.removeListener)return (0 === arguments.length?this.oc={}:this.oc[n] && delete this.oc[n],this);if(0 === arguments.length){for(c in this.oc)"removeListener" !== c && this.removeAllListeners(c);this.removeAllListeners("removeListener");this.oc={};return this;}c=this.oc[n];if(a(c))this.removeListener(n,c);else if(c)for(;c.length;)this.removeListener(n,c[c.length - 1]);delete this.oc[n];return this;};b.prototype.listeners=function(n){return this.oc && this.oc[n]?a(this.oc[n])?[this.oc[n]]:this.oc[n].slice():[];};b.prototype.listenerCount=function(n){if(this.oc){n=this.oc[n];if(a(n))return 1;if(n)return n.length;}return 0;};b.listenerCount=function(n,c){return n.listenerCount(c);};},70834:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(d){this.buffer=d;this.position=0;}a.prototype.seek=function(d){this.position=d;};a.prototype.skip=function(d){this.position+=d;};a.prototype.W$=function(){return this.buffer.length - this.position;};a.prototype.zpa=function(){return this.buffer.length;};a.prototype.Eu=function(){return this.buffer[this.position++];};a.prototype.yn=function(d){var n;n=this.position;this.position+=d;return this.eyc(this.buffer)?this.buffer.subarray(n,this.position):this.buffer.slice(n,this.position);};a.prototype.eyc=function(d){return void 0 !== d.subarray;};a.prototype.Hw=function(d){for(var n=0;d--;)n=256 * n + this.buffer[this.position++];return n;};a.prototype.c_a=function(d){for(var n="";d--;)n+=String.fromCharCode(this.buffer[this.position++]);return n;};a.prototype.uj=function(){return this.Hw(2);};a.prototype.Iw=function(){return this.Hw(4);};a.prototype.w1=function(){return this.Hw(8);};a.prototype.oE=function(d){for(var n,c="";d--;)(n=this.Eu(),c+=("0123456789ABCDEF")[n >>> 4] + ("0123456789ABCDEF")[n & 15]);return c;};a.prototype.d_a=function(d){for(var n=0,c=0;c < d;c++)n+=this.Eu() << (c << 3);return n;};a.prototype.v1=function(){return this.d_a(4);};a.prototype.lz=function(d){this.buffer[this.position++]=d;};a.prototype.XSb=function(d,n){this.position+=n;for(var c=1;c <= n;c++)(this.buffer[this.position - c]=d & 255,d=Math.floor(d / 256));};a.prototype.r4a=function(d){for(var n=d.length,c=0;c < n;c++)this.buffer[this.position++]=d[c];};a.prototype.m3=function(d,n){this.r4a(d.yn(n));};a.prototype.VSb=function(d){d=new a(d);for(var n,c;;)if((n=d.W$(),c=n >>> 14))(c=Math.min(4,c),this.lz(192 | c),this.m3(d,16384 * c));else {128 > n?this.lz(n):this.XSb(n | 32768,2);this.m3(d,n);break;}};a.prototype.TJb=function(){var c;for(var d=[],n=new a(d);;){c=this.Eu();if(c & 128){if(128 == (c & 192))(c&=63,c=(c << 8) + this.Eu(),n.m3(this,c));else if((c&=63,0 < c && 4 >= c)){n.m3(this,16384 * c);continue;}else throw Error("bad asn1");}else n.m3(this,c);break;}return new Uint8Array(d);};return a;})();b.lha=t;},28660:function(t,b,a){var d;(function(n){var D,E,H,F,G,J,L,K,M;function c(P,I,O){var Q;Q=M.get(P);if(!Q){if(!O)return;Q=new L();M.set(P,Q);}P=Q.get(I);if(!P){if(!O)return;P=new L();Q.set(I,P);}return P;}function f(P,I,O){if(g(P,I,O))return !0;I=u(I);return null !== I?f(P,I,O):!1;}function g(P,I,O){I=c(I,O,!1);return void 0 !== I && !!I.has(P);}function e(P,I,O){if(g(P,I,O))return h(P,I,O);I=u(I);return null !== I?e(P,I,O):void 0;}function h(P,I,O){I=c(I,O,!1);return void 0 === I?void 0:I.get(P);}function k(P,I){var O,T;O=l(P,I);P=u(P);if(null === P)return O;I=k(P,I);if(0 >= I.length)return O;if(0 >= O.length)return I;P=new K();for(var Q=0;Q < O.length;Q++){T=O[Q];P.add(T);}for(O=0;O < I.length;O++)(T=I[O],P.add(T));return x(P);}function l(P,I){var O;P=c(P,I,!1);O=[];P && w(P,function(Q,T){return O.push(T);});return O;}function m(P){return void 0 === P;}function p(P){return Array.isArray?Array.isArray(P):P instanceof Array || "[object Array]" === Object.prototype.toString.call(P);}function q(P){return "object" === typeof P?null !== P:"function" === typeof P;}function r(P){return "symbol" === typeof P?P:String(P);}function u(P){var I,O;I=Object.getPrototypeOf(P);if("function" !== typeof P || P === J || I !== J)return I;O=P.prototype;O=O && Object.getPrototypeOf(O);if(null == O || O === Object.prototype)return I;O=O.constructor;return "function" !== typeof O || O === P?I:O;}function v(P){P=P.next();return P.done?void 0:P;}function w(P,I,O){var Q,T,U;Q=P.entries;if("function" === typeof Q){Q=Q.call(P);try{for(;T=v(Q);){U=T.value;I.call(O,U[1],U[0],P);}}finally{T && (P=Q["return"]) && P.call(Q);}}else (Q=P.forEach,"function" === typeof Q && Q.call(P,I,O));}function x(P){var I;I=[];w(P,function(O,Q){I.push(Q);});return I;}function y(P,I,O){var Q;Q=0;return {next:function(){var T;if((P || I) && Q < (P || I).length){T=Q++;switch(O){case "key":return {value:P[T],done:!1};case "value":return {value:I[T],done:!1};case "key+value":return {value:[P[T],I[T]],done:!1};}}I=P=void 0;return {value:void 0,done:!0};},"throw":function(T){if(P || I)I=P=void 0;throw T;},"return":function(T){if(P || I)I=P=void 0;return {value:T,done:!0};}};}function A(){var P;P={};return (function(){function I(){this.Eg=[];this.Ri=[];this.yC=P;this.Jz=-2;}Object.defineProperty(I.prototype,"size",{get:function(){return this.Eg.length;},enumerable:!0,configurable:!0});I.prototype.has=function(O){return 0 <= this.HF(O,!1);};I.prototype.get=function(O){O=this.HF(O,!1);return 0 <= O?this.Ri[O]:void 0;};I.prototype.set=function(O,Q){O=this.HF(O,!0);this.Ri[O]=Q;return this;};I.prototype.delete=function(O){var Q;Q=this.HF(O,!1);if(0 <= Q){O=this.Eg.length;for(Q+=1;Q < O;Q++)(this.Eg[Q - 1]=this.Eg[Q],this.Ri[Q - 1]=this.Ri[Q]);this.Eg.length--;this.Ri.length--;this.yC=P;this.Jz=-2;return !0;}return !1;};I.prototype.clear=function(){this.Eg.length=0;this.Ri.length=0;this.yC=P;this.Jz=-2;};I.prototype.keys=function(){return y(this.Eg,void 0,"key");};I.prototype.values=function(){return y(void 0,this.Ri,"value");};I.prototype.entries=function(){return y(this.Eg,this.Ri,"key+value");};I.prototype.HF=function(O,Q){var T;if(this.yC === O)return this.Jz;T=this.Eg.indexOf(O);0 > T && Q && (T=this.Eg.length,this.Eg.push(O),this.Ri.push(void 0));return (this.yC=O,this.Jz=T);};return I;})();}function z(){return (function(){function P(){this.Wg=new L();}Object.defineProperty(P.prototype,"size",{get:function(){return this.Wg.size;},enumerable:!0,configurable:!0});P.prototype.has=function(I){return this.Wg.has(I);};P.prototype.add=function(I){return (this.Wg.set(I,I),this);};P.prototype.delete=function(I){return this.Wg.delete(I);};P.prototype.clear=function(){this.Wg.clear();};P.prototype.keys=function(){return this.Wg.keys();};P.prototype.values=function(){return this.Wg.values();};P.prototype.entries=function(){return this.Wg.entries();};return P;})();}function B(){var Q,T;function P(U,X){for(var Y=0;Y < X;++Y)U[Y]=255 * Math.random() | 0;return U;}function I(){var U,W;do {U="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):P(new Uint8Array(16),16):P(Array(16),16);U[6]=U[6] & 79 | 64;U[8]=U[8] & 191 | 128;for(var X="",Y=0;16 > Y;++Y){W=U[Y];if(4 === Y || 6 === Y || 8 === Y)X+="-";16 > W && (X+="0");X+=W.toString(16).toLowerCase();}U="@@WeakMap@@" + X;}while(G.has(Q,U));Q[U]=!0;return U;}function O(U,X){if(!D.call(U,T)){if(!X)return;Object.defineProperty(U,T,{value:F()});}return U[T];}Q=F();T=I();return (function(){function U(){this.Qz=I();}U.prototype.has=function(X){X=O(X,!1);return void 0 !== X?G.has(X,this.Qz):!1;};U.prototype.get=function(X){X=O(X,!1);return void 0 !== X?G.get(X,this.Qz):void 0;};U.prototype.set=function(X,Y){O(X,!0)[this.Qz]=Y;return this;};U.prototype.delete=function(X){X=O(X,!1);return void 0 !== X?delete X[this.Qz]:!1;};U.prototype.clear=function(){this.Qz=I();};return U;})();}function C(P){P.W4c=1;delete P.X4c;return P;}D=Object.prototype.hasOwnProperty;E="function" === typeof Object.create;H=(function(){var I;function P(){}I={};P.prototype=I;return new P().__proto__ === I;})();F=E?function(){return C(Object.create(null));}:H?function(){return C({__proto__:null});}:function(){return C({});};(function(P){var I;I=!E && !H;P.has=I?function(O,Q){return D.call(O,Q);}:function(O,Q){return (Q in O);};P.get=I?function(O,Q){return D.call(O,Q)?O[Q]:void 0;}:function(O,Q){return O[Q];};})(G || (G={}));J=Object.getPrototypeOf(Function);L="function" === typeof Map?Map:A();K="function" === typeof Set?Set:z();M=new ("function" === typeof WeakMap?WeakMap:B())();n.yK=function(P,I,O,Q){var U;if(m(Q)){if(m(O)){if(!p(P))throw new TypeError();if("function" !== typeof I)throw new TypeError();for(O=P.length - 1;0 <= O;--O)if((Q=(0,P[O])(I),!m(Q))){if("function" !== typeof Q)throw new TypeError();I=Q;}return I;}if(!p(P))throw new TypeError();if(!q(I))throw new TypeError();O=r(O);for(Q=P.length - 1;0 <= Q;--Q)(0,P[Q])(I,O);}else {if(!p(P))throw new TypeError();if(!q(I))throw new TypeError();if(m(O))throw new TypeError();if(!q(Q))throw new TypeError();O=r(O);for(var T=P.length - 1;0 <= T;--T){U=(0,P[T])(I,O,Q);if(!m(U)){if(!q(U))throw new TypeError();Q=U;}}return Q;}};n.Ac=function(P,I){return function(O,Q){if(m(Q)){if("function" !== typeof O)throw new TypeError();c(O,void 0,!0).set(P,I);}else {if(!q(O))throw new TypeError();Q=r(Q);c(O,Q,!0).set(P,I);}};};n.xna=function(P,I,O,Q){if(!q(O))throw new TypeError();m(Q) || (Q=r(Q));c(O,Q,!0).set(P,I);};n.Fuc=function(P,I){var O;if(!q(I))throw new TypeError();m(O) || (O=r(O));return f(P,I,O);};n.aTa=function(P,I){var O;if(!q(I))throw new TypeError();m(O) || (O=r(O));return g(P,I,O);};n.getMetadata=function(P,I,O){if(!q(I))throw new TypeError();m(O) || (O=r(O));return e(P,I,O);};n.Fxb=function(P,I,O){if(!q(I))throw new TypeError();m(O) || (O=r(O));return h(P,I,O);};n.n9c=function(P,I){if(!q(P))throw new TypeError();m(I) || (I=r(I));return k(P,I);};n.s9c=function(P,I){if(!q(P))throw new TypeError();m(I) || (I=r(I));return l(P,I);};n.t7c=function(P,I,O){var Q;if(!q(I))throw new TypeError();m(O) || (O=r(O));Q=c(I,O,!1);if(m(Q) || !Q.delete(P))return !1;if(0 < Q.size)return !0;P=M.get(I);P.delete(O);if(0 < P.size)return !0;M.delete(I);return !0;};(function(P){if("undefined" !== typeof P.Reflect){if(P.Reflect !== n)for(var I in n)D.call(n,I) && (P.Reflect[I]=n[I]);}else P.Reflect=n;})("undefined" !== typeof Ba?Ba:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof a.FZ?a.FZ:Function("return this;")());})(d || (d={}));},26388:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.uS=b.Ega=b.u=void 0;b.u={X:0,U:1,Da:2,um:3};b.Ega={X:0,U:1};b.uS=(a={},a[b.u.X]="audio",a[b.u.U]="video",a[b.u.Da]="subtitle",a[b.u.um]="mediaEvents",a);},84915:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},66164:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(84915),b);t.__exportStar(a(83403),b);t.__exportStar(a(93926),b);t.__exportStar(a(77985),b);t.__exportStar(a(67111),b);t.__exportStar(a(92884),b);t.__exportStar(a(13779),b);},83403:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},93926:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},77985:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},57421:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},3775:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},67111:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(3775),b);t.__exportStar(a(49971),b);t.__exportStar(a(57421),b);t.__exportStar(a(62103),b);t.__exportStar(a(92473),b);},62103:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},49971:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},92473:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},52991:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Zcb=void 0;t=(function(){function a(){}a.prototype.ha=function(){var d;d=process.Y9c();return 1E3 * d[0] + d[1] / 1E6;};a.prototype.Ssa=function(d){return d - this.ha() + this.now();};a.prototype.Cta=function(d){return d - this.now() + this.ha();};a.prototype.now=function(){return Date.now();};return a;})();b.Zcb=t;},92884:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.platform=void 0;t=a(52991);b.platform={name:"default-node",yTa:function(d){for(var n in d)d.hasOwnProperty(n) && (this[n]=d[n]);},reset:function(){},time:new t.Zcb(),xK:function(d){return new TextDecoder("utf-8").decode(d);}};},13779:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},89707:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=function(c,f){if(!c)throw new n(f || "Assertion failed");};d=a(22970);n=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);return f;})(Error);},85017:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.KN=b.k$=void 0;b.yQa=function(a,d){return a.$ / a.O === d.$ / d.O;};b.k$={23976:{$:24E3,O:1001},24:{$:24E3,O:1E3},25:{$:25E3,O:1E3},2997:{$:3E4,O:1001},30:{$:3E4,O:1E3},50:{$:5E4,O:1E3},5994:{$:6E4,O:1001},60:{$:6E4,O:1E3}};b.KN={h264:["23976","24","25","2997","30"],h264hpl:["23976","24","25","2997","30"],"hevc-main10":("23976 24 25 2997 30 50 5994 60").split(" "),av1:("23976 24 25 2997 30 50 5994 60").split(" ")};},80463:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.W=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzgCQAAgAPgBgCAUBignwAB0gAwAADgpYBDugB4CDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgRQAg5QFAA",Ja:!0,Ka:[176,590],size:610},{data:"IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBADgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcYCG1kBhB0ALB3ABB/A/CHDAgKAAgCgBgHYCAEBIAfgAYAgAAAIBAAJAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLgQwCcDxtttC2DbDHCPAeA7G7C4gB4BcNa1rWC1CggBABAbgCwBdvHjx4LuDggWQFB4gFQCd48ePHJ3gCQFADgCIBBtgCAACPAdHdDcgCQFAPgHIRgbgBgdIBDjgFgMAGC1CtgNgADQgOYCgCwBC3gQIAA8gKwBBwgGAFA8gFQCC8gNYBgSoAC7CAgtgFgCIBC2gPgBCOgK4BgEoFAHCNgHIQA2gAoDDxgFgMADgagBCtBogOYCgdoMgAACAeA2gCYBDegVwADxgSoADdguoAgAAEgdARgk4NgAACAbgioSABgagBDWC0gjQogdARgk4NgAACANgDYDgioOgagBgNgAgjQpgdAQgk4NgAACAGgDYDgioOhCwCCtgjQphHokBghiAJgAAEBIA4hf//hf//hf//hf//hf//hf//hf//hf//hf//hf//hf70",Ja:!0,Ka:[44],size:6252},{$:1536,O:48E3},{$:12288,O:48E3},"ddplus-5.1-dash",192,"5.1"];},73502:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(80463);b.W=[{data:"hMPLAIhMIMAEhMgBDogGYGhMJ3",Ja:!0,Ka:[176,590],size:610,Qa:t.W[0]},{data:"sNY4AEsNYpAgsNYGD/htYKcD+B9lhtQChtIBhs4ChswFB9hpgJgAwThsIJgAwThuwJgAwTh3AJgAwTh5oKgQAVh2QCB3DNg0oAgCAAhEYCgAQIhEIBBAgDIdBfA+gDAMhlQEAOD5gD4AgDIvDIgoYCC+gNYADXDPCbgD4LhU4EgDIcgXIxgDIVB2gAYBAAAdDzhWIAgmgAgDgKgAQAiN4EgDIbgXIygDIVCyhPQCDvCagjQADzDmgNgMhpYBh3oBgDIbgXIxgDIWCQiBoCB8gNYAhUQAh6QCgAQIiUwEgDIcgXIxgDIVDsiV4CA7DmgjQAhWQAg2ILDbjNwEgDIbgXIygDIViJoGgAADBABZh///h///h///h///h///h///h///h///h///h///h///h///h///h//x",Ja:!0,Ka:[44],size:8300,Qa:t.W[1]},{$:1536,O:48E3},{$:12288,O:48E3},"ddplus-5.1hq-dash",256,"5.1"];},86252:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(80463).W[0];a=a(73502);b.W=[{data:"hMPLAMhMIMg8oBAFDcgGYCgEQChMJ3",Ja:!0,Ka:[176,590],size:610,Qa:t},{data:"wNY4gAYAwNYoAwwNYFACiNYLcEEB+6iNYxiHgviRwwicAwiWIwgYwSgnwCA2gGwCg14BdvHjx4DxDjDHCPgAwDgB4AgCYAhBoBhaABiM4EAABvgGYBg6oCgD4FgAwCgBoADfA+gD4DgAgDgEYBANgLQBhy4CgIwIgAwAcbbbfPhUQBgEYEiFQCADBrgP4BhFICgEgbgSQBhagCDegSQJB2gB4AgCYAgEYGhs4CAADZgXwCgJ4SAegB4AgV4AA1gFQGhhgCAGgd4BDNhSwBC8gJ4IDGgJ4PgZwAhiADC3gcQIgAwAgB4AgCYAgJAHhZ4BglwTgEgPA3gsQBhgoCgSQJA3glwQiE4Cgv3/gvz8gABZBYAGi///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i//q",Ja:!0,Ka:[44],size:12396,Qa:a.W[1]},{$:1536,O:48E3},{$:12288,O:48E3},"ddplus-5.1hq-dash",384,"5.1"];},27443:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(80463).W[0];a=a(86252);b.W=[{data:"hMPLAOhMIMAHgEgBDWgGYChMJ7",Ja:!0,Ka:[176,590],size:610,Qa:t},{data:"4NY4AH4NYpA44NYFADB/jNYLAoAfDMjNQAjNIAjM4AjMwFiuICDfjAwvjNozjBozjOgzjbY0jPYIAbhcwChOYEZ3gAAAhiYRhKwEgFgIA7a7C7haADCNgCgAhboAhLYIgAgAhxgDgFQCh2ADgFgqAdbdDdhvQDhkYMhWwEhpQAgFQDhbYCgFgMh0AMgFgFDwgcgCgRZwgFgcCObuDuDvidgQiF4EiQAAgFQDiKgCgFgMC7gFgSB4gcgCgRZwgFgdhJ4HiUYQisoEABC+gtIEgxICgFgLDdgFgSC8itoDgRZvgFgdhJwGC7itIDgCgAh+YAgQYJC1Cgi6oCjDgCi/IEgFgLBugFgSDeijwDgRZvgFgdhJwGDdju4RjXQEBvju4Cjl4EgFgLjOoNgFgFi5ADgRZvgFgdhJwGDuj4IRkQYEA3j4ICjvIEgFgLAbgCYBgFgQhQABgABpBhBJjf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf7m",Ja:!0,Ka:[44],size:14444,Qa:a.W[1]},{$:1536,O:48E3},{$:12288,O:48E3},"ddplus-5.1hq-dash",448,"5.1"];},75452:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(86252).W[0];a=a(27443);b.W=[{data:"hMPLAUhMIMAKgAQAAJgYQCAChMJ7",Ja:!0,Ka:[176,590],size:610,Qa:t},{data:"8NY4AK8NYpBQ8NYFAED/jtYCgAAChQYBcAjgYYBhCGjQwzjfY+juA+j8o9jwo+gfwLhdACABhWwGgrgEgAAQADhkwBhWQChkYFgIYMgEACA7jcoFC4hFQWiJgBj4oDj7wEBfgQ4LhWgCAHiO4GgIAWAOhewADthhICiuAFgZYLjt4DiyIChjgCDggIAVABgb4BgIAChxwFghAMgEACAdjYgFDcgQQWgcABhxYDj3oEhG4MgnICADjFoEiLgGhxYWAHgcgAkGoBiqoHgpYLD4glYDki4FBwgRAWgcoBiCYDh/4EhQAMglYDjVIGgIAWgcwBibQDj0QEDXhC4Lgn4ChCCDglYDhCzDhCCAghQDhCzEhCCAgHIDhCzDhCCBgHIDjH0FhCA/k/xsgABrAXBQk///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k//c",Ja:!0,Ka:[44],size:20588,Qa:a.W[1]},{$:1536,O:48E3},{$:12288,O:48E3},"ddplus-5.1hq-dash",640,"5.1"];},46871:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(54468);b.W=[{data:"hZniCAhZjm",Ja:!0,Ka:[176,599],size:717,Qa:t.W[0]},{data:"gXy9",Ja:!0,Ka:[44],size:191,Qa:t.W[1]},{$:1024,O:24E3},{$:7168,O:24E3},"heaac-2hq-dash",128,"2.0"];},54468:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.W=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYge4CEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A3AuAyA1AuAxEw",Ja:!0,Ka:[176,599],size:717},{data:"IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A3AuAyA0AuAxAwAyAABCAgAIDBAYA4AhAQAEBgCMAcgAoc",Ja:!0,Ka:[44],size:191},{$:1024,O:24E3},{$:7168,O:24E3},"heaac-2-dash",64,"2.0"];},39532:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(54468);b.W=[{data:"hZniBghZjm",Ja:!0,Ka:[176,599],size:717,Qa:t.W[0]},{data:"gXy9",Ja:!0,Ka:[44],size:191,Qa:t.W[1]},{$:1024,O:24E3},{$:7168,O:24E3},"heaac-2-dash",96,"2.0"];},95426:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(47718);b.W=[{data:"hkvRACBagAQADzhNoCDAhkpAgEAAhksD",Ja:!0,Ka:[176,661],size:806,Qa:t.W[0]},{data:"sBABDEsN4VCssN4FAcsN4FAqsN4LsNYUB4sNYEACsNYGDMgCwEACBagAYBgA4CgAZVAwBisZZDgEAAsZYcd/gHxSsZybgAFVtEoGe/wD4ppk71gAD7tkoGg//2tEoGg//2ukoGh///g//1pEoGg//2wEoGg//2wkoGg//2xEoGg//2xkoGg//2xEoGg//2wEoGh///g//1zkoGg//20EoGg//20koGk///g//11koGs///g//12koGg//23EoGg//23koGg//24EoGg//2B5",Ja:!0,Ka:[44],size:12582,Qa:t.W[1]},{$:2048,O:48E3},{$:12288,O:48E3},"xheaac-dash",192,"2.0"];},70349:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.W=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAADAKBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABfhdHJhBrgBYBBcB0BrgOYDAHgLoZgCYDgCgDgO4rcBfW1kBpBhgf4CgA4Aga4UBVDEgBgDAlgDoABsBygDIGgjwAB1BugFIKgB4FcBMG1pBuBmgBABAQgnIAgJgLAkgMYAgC4DccZHJlgA4CgSwGcMdXJsAggBYFf0c3RiBsgA4BCogA4ABzgHYGgC4CeYbXA0gUACgZQMgjwAAQgvQJB0BlgGQABzgBACADgLoCcEXkAVgFQAA4gBAACFCogbACcFT/lGBDBCA8DADTDJEggBwAcSS2aBACAEAGALBcCIACAJACAIAJAIAAAJD8ABCAABAQgAQAdfwBgMAoAZgB4AeB/yAGACCGAIBCgHAAgQoABggGAAcFFUKegSwAeuQAQFgOYBcP8ARWDLAAAGABgzgBgcYBF0gOYDgAAFgB4BBzBjgB4JAUgB4BB6gxQNgEYBBjBvgB4JA4hJgABlB4gC4CBtBlgl4GBggAgCAgg/AAgC4DgeYGgAYBgTAAggIJd9dWR0giYCB1gG4AgA4DgAACAhg0AKg6gBhHQAFwgp4CgAAHBIBpBsgPwAhAACCpB0hZQAgPgChbIAgHgDgKQDBGgFwAg4QAdob2ZlByAgFJdTIE1QBFBHAtAyAvA0AvBEAgBBgNYAdpbyBFBugXAABkgDgB",Ja:!0,Ka:[176,665],size:810},{data:"IACUBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBd8dHJhgC4CAcB0gC4CACAAAqgC4FgAYBAIgBIEgGYBgDYABkB0gGYFgAACBIgGYAB1BugAwAACAFgBYBAMgAYBCcgJwFA4gAgBCrgAYFCqgBYgcIlm1kBhB0DRC/DlDDBCA8DADTDJEggCQAcSS2aBACAEAGALBcCIACAJACAIAJgQIAcJ/AGAABAQgAQAdfwBgMAoAZgB4AeB/yAGACCGAIBCAAAggVgABggGAAcFFUKeBsAACuBAAEgRQAgXQAcP8ARWDLAEAAA5BAB7AkAAAbCVDAAMCbD2CiA8gNIBcPAMBAgTYAeC8AFgDAgBoBc9QLWyDZgaIAgD4WcYALblBwADAmD9CoCPgDIBcDwDAQgAoAdgvABYAwgAwACjCpZpgACEdVMAFtDKDgAjgVIACDDwgvQCBkBTBUa0gACQCngVQHBwhEwCALAiCaalgACRgqoOA0gqiWCwgqi5hVSYC5gqoOCZgqlBCqh/9SC+h/9TC1",Ja:!0,Ka:[44],size:2346},{$:2048,O:48E3},{$:12288,O:48E3},"xheaac-dash",32,"2.0"];},72041:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(70349);b.W=[{data:"hlIhALhlJxDihlJhB+hlJKAxhlI5D1hlIFCphlINCZhlIhB1hlIHBnhlICBfhlICD6gAQAAEgd4DAFBQhlIBBihlI2cEHXPzADBhCAAVDIgPYACggJYAcB/gCKDZBghlT6",Ja:!0,Ka:[176,666],size:811,Qa:t.W[0]},{data:"klJlD6gAYBBVgAYFBWgBYgAQCsklICfUf+YDBiklI2cEHXPzADBhCAAVDIgVAAegAEABD+AACKDZBgklYABNklYCcCQIejDUAQgFAAgAAFADBGCAgF4BgAAADBB4hKoAAGgCYFBRkmoEgFIgkn4AewkCHoD1AEgRAAgEgGDRCgAYgjwBAAAwBegM4ADBgCgDBfDgAGhACYgACTCmhoAAdhIEPYD2ACAVhLIIALAlg4QACBZLgAE0gqlSBKgqgVCDhVM7hVVTh///gqrAhVVTiqlTh///gqnm",Ja:!0,Ka:[44],size:4416,Qa:t.W[1]},{$:2048,O:48E3},{$:12288,O:48E3},"xheaac-dash",64,"2.0"];},47718:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(70349).W[0];a=a(72041);b.W=[{data:"hlIhAGhlJxDdhlJhB5hlJKAshlI5DwhlIFCkhlINCUhlIhBwhlIHBihlICBahlICgFoBB3hPQDAFBLhlIBAihlI2cEwArkAADABQgBoAcA/wBFBsCwhkpzAEhkqE",Ja:!0,Ka:[176,661],size:806,Qa:t},{data:"gogBBoon4VBQon4FAgon4FA6on4IoRAAgAwDooYUAYooYEAAooYCoLwAgAAABwgCwFAIoiYCfLP+VjAioiY3fACuQADABQgBoAcA/wBFBsCwgSQAAXocwAClCkojoAocwCDQgNQABooZICBObSgACUDbAwor4AhYgCC9DpZpgADtB0gf79Bogf79BAg//9Bagf79Bxgf79BGgf79Bpgf79B9gf79BTgf79B1g//9Bwgf79Bygf79Brif/9Bfmf/9Bjgf79B2gf79Bmgf79BJgf79B5",Ja:!0,Ka:[44],size:6256,Qa:a.W[1]},{$:2048,O:48E3},{$:12288,O:48E3},"xheaac-dash",96,"2.0"];},43051:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.snb=b.kSb=void 0;b.SVc=function(d){return {Ob:d[0],Ma:d[1],Ea:d[2],duration:d[3],profile:d[4],bitrate:d[5],width:d[6],height:d[7],vYa:d[8],wYa:d[9]};};b.RVc=function(d){return {Ob:d[0],Ma:d[1],Ea:d[2],duration:d[3],profile:d[4],bitrate:d[5],channels:d[6]};};b.kSb={padding:{"16:9":{h264:{23976:function(){return a(6350);},24:function(){return a(937);},25:function(){return a(6153);},2997:function(){return a(32477);},30:function(){return a(19034);}},h264hpl:{23976:function(){return a(98989);},24:function(){return a(5339);},25:function(){return a(95350);},2997:function(){return a(4029);},30:function(){return a(75034);}},"hevc-main10":{23976:function(){return a(56803);},24:function(){return a(51914);},25:function(){return a(44661);},2997:function(){return a(5066);},30:function(){return a(10124);},50:function(){return a(23259);},5994:function(){return a(33781);},60:function(){return a(98640);}},av1:{23976:function(){return a(83295);},24:function(){return a(77013);},25:function(){return a(64826);},2997:function(){return a(60939);},30:function(){return a(58097);},50:function(){return a(50640);},5994:function(){return a(56130);},60:function(){return a(17826);}}},"4:3":{h264:{23976:function(){return a(46977);},24:function(){return a(47976);},25:function(){return a(45185);},2997:function(){return a(5801);},30:function(){return a(26931);}},h264hpl:{23976:function(){return a(26776);},24:function(){return a(25378);},25:function(){return a(41470);},2997:function(){return a(6320);},30:function(){return a(59375);}},"hevc-main10":{23976:function(){return a(56E3);},24:function(){return a(21610);},25:function(){return a(96660);},2997:function(){return a(35455);},30:function(){return a(88354);},50:function(){return a(90090);},5994:function(){return a(35619);},60:function(){return a(13947);}},av1:{23976:function(){return a(61547);},24:function(){return a(81396);},25:function(){return a(64332);},2997:function(){return a(81647);},30:function(){return a(15871);},50:function(){return a(79196);},5994:function(){return a(3338);},60:function(){return a(7937);}}}}};b.snb={silence:{heaac:{64:function(){return a(54468);},96:function(){return a(39532);},128:function(){return a(46871);}},ddp:{192:function(){return a(80463);},256:function(){return a(73502);},384:function(){return a(86252);},448:function(){return a(27443);},640:function(){return a(75452);}},xheaac:{32:function(){return a(70349);},64:function(){return a(72041);},96:function(){return a(47718);},192:function(){return a(95426);}}}};},61547:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(83295);b.W=[{data:"hYTzgAgCDwhYTOgagAgaQAhYRJeHn/eNBTC4AIhYQcBUgIgBA4gAYEhYR4",Ja:!0,Ka:[180,687],size:707,Qa:t.W[0]},{data:"guhdA6gugFBUgrgNAXgB4FgA4GgugYDKgugQeHn/eNBTC4AIgpIAgugVdmTI+fB6BeBfBlCrB1DWDAAyAfgtwWf0N2MUDTBHBwAyAZgtQQfbGvSMC6A9AYgtIRfeCd0IgmwBgtIAAVgtIQAFAsDwgCwBgtAODaDKDvgs4C",Ja:!0,Ka:[44],size:360,Qa:t.W[1]},{$:1001,O:24E3},{$:6006,O:24E3},"av1-main-L30-dash-cbcs-prk",64,320,240,1,1];},81396:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(61547);b.W=[{data:"hYX/hYQOCghYQugpgBgAYChYRXBwhYQVDogBoG",Ja:!0,Ka:[180,687],size:707,Qa:t.W[0]},{data:"gs41Dogs5yCggs65",Ja:!0,Ka:[44],size:360,Qa:t.W[1]},{$:1E3,O:24E3},{$:6E3,O:24E3},"av1-main-L30-dash-cbcs-prk",64,320,240,1,1];},64332:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(81396);b.W=[{data:"hYRABhCohYTUga4EhYTyCGCjhYQpAaC4gAYEhYRWATCIhYQe",Ja:!0,Ka:[180,687],size:707,Qa:t.W[0]},{data:"gQIBCVgs4VB9gs4tA8gs4JAFgAYBCdgs4hgB4GARgr4KgrwCCzgrwLCGCjgrwNBgAKAogrwGCvCPACgrwTAEgrwDBEgfAAAggrwAgnoAgrwYgC4AAogrwxgDQHgrwCgo4B",Ja:!0,Ka:[44],size:328,Qa:t.W[1]},{$:1E3,O:25E3},{$:5E3,O:25E3},"av1-main-L30-dash-cbcs-prk",64,320,240,1,1];},81647:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(61547);b.W=[{data:"hYRAB1AwhYTUga4EhYTyDUDDhYQpAegN4BgAYChYR4",Ja:!0,Ka:[180,687],size:707,Qa:t.W[0]},{data:"gs6tDUDDgs61",Ja:!0,Ka:[44],size:360,Qa:t.W[1]},{$:1001,O:3E4},{$:6006,O:3E4},"av1-main-L30-dash-cbcs-prk",64,320,240,1,1];},15871:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(81647).W[0];a=a(81396);b.W=[{data:"hYX/hYQOCghYQuBQgAYEhYRXBwhYQVDogBoG",Ja:!0,Ka:[180,687],size:707,Qa:t},{data:"gs6tDUDDgs61",Ja:!0,Ka:[44],size:360,Qa:a.W[1]},{$:1E3,O:3E4},{$:6E3,O:3E4},"av1-main-L30-dash-cbcs-prk",64,320,240,1,1];},79196:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(81396).W[0];a=a(50640);b.W=[{data:"hYRADDBQhYTUga4EhYTxADANBDhYQmgUoBAuAYgAYEhYRWAnAQhYQe",Ja:!0,Ka:[180,687],size:707,Qa:t},{data:"hARdA+hAQFBsg8QVgB4GAug9QOgB4FgA4GhAQcAvhAQQeHn/eNBTC4AIAyAnhAQadjiAHSAdAFAQAACBBVBZAyAfg/YWf0N2MUDTBHBwAyAZg+4QfbGvSMC6A9gJwAg+wRfeCd0IhFYAguwAg+wPAFAsDwg04Eg+oODaDKDvg+gDAWg+gRgGgBAyAUg+YQB9DzgJQCgDAAg+QODVDJA+gCoBg+IPAHg+AC",Ja:!0,Ka:[44],size:497,Qa:a.W[1]},{$:1E3,O:5E4},{$:1E4,O:5E4},"av1-main-L30-dash-cbcs-prk",64,320,240,1,1];},3338:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(61547).W[0];a=a(56130);b.W=[{data:"hYRADqBghYTUga4EhYTxADCpCDhYQmgUoBAyAQgAYEhYRWA6CnhYQe",Ja:!0,Ka:[180,687],size:707,Qa:t},{data:"hTpdA6hToFBshIoVAWgB4FgA4OgD4GAugC4VgG4ehToZCZhToQeHn/eNBTC4AIhOQAhToWeTI+feGXfZat11CwAyAfhS4Wf0N2MUDTBHBwAyAZhSYQfbGvSMC6A9AYhSQSfeCd0IhY4Agz4AhSQPAFAsDwgCwBhSIODaDKDvhSADAUhSAQB9DzgCoBhR4ODVDJA+gCoBhRwPAHhRoDAWhRoRgOwCgGAAhRgODQCtBIgCoBhRYPArBogRYEhRQODLCeBQgCoBhRIODJCShygAgCoAhRAODHgGwAhQ4B",Ja:!0,Ka:[44],size:648,Qa:a.W[1]},{$:1001,O:6E4},{$:15015,O:6E4},"av1-main-L30-dash-cbcs-prk",64,320,240,1,1];},7937:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(3338);b.W=[{data:"hYX/hYQOCghYQugWoBgAYChYRXCYhYQVDogBoG",Ja:!0,Ka:[180,687],size:707,Qa:t.W[0]},{data:"hQ41DohQ7DCghQ+I",Ja:!0,Ka:[44],size:648,Qa:t.W[1]},{$:1E3,O:6E4},{$:15E3,O:6E4},"av1-main-L30-dash-cbcs-prk",64,320,240,1,1];},46977:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(6350);b.W=[{data:"hdjvgAgChdlACACIhdgdhNAFhdiM",Ja:!0,Ka:[176,729],size:749,Qa:t.W[0]},{data:"h/v/h/v7",Ja:!0,Ka:[44],size:1022,Qa:t.W[1]},{$:1001,O:24E3},{$:6006,O:24E3},"playready-h264mpl30-dash",64,320,240,1,1];},47976:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(937);b.W=[{data:"hdzvgAgChd1ACACIhdwfhNQFhdyM",Ja:!0,Ka:[176,731],size:751,Qa:t.W[0]},{data:"h/v/h/v7",Ja:!0,Ka:[44],size:1022,Qa:t.W[1]},{$:1E3,O:24E3},{$:6E3,O:24E3},"playready-h264mpl30-dash",64,320,240,1,1];},45185:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(6153);b.W=[{data:"hdzvgAgChd1ACAhLABhdwdhNQFhdyM",Ja:!0,Ka:[176,731],size:751,Qa:t.W[0]},{data:"h7X/h7XY",Ja:!0,Ka:[44],size:987,Qa:t.W[1]},{$:1E3,O:25E3},{$:5E3,O:25E3},"playready-h264mpl30-dash",64,320,240,1,1];},5801:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(32477);b.W=[{data:"hdjvgAgChdlACACIhdgdhNAFhdiM",Ja:!0,Ka:[176,729],size:749,Qa:t.W[0]},{data:"h/v/h/v7",Ja:!0,Ka:[44],size:1022,Qa:t.W[1]},{$:1001,O:3E4},{$:6006,O:3E4},"playready-h264mpl30-dash",64,320,240,1,1];},26931:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(19034);b.W=[{data:"hdzvgAgChd1ACACIhdwfhNQFhdyM",Ja:!0,Ka:[176,731],size:751,Qa:t.W[0]},{data:"h/v/h/v7",Ja:!0,Ka:[44],size:1022,Qa:t.W[1]},{$:1E3,O:3E4},{$:6E3,O:3E4},"playready-h264mpl30-dash",64,320,240,1,1];},26776:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(98989);b.W=[{data:"hdzvgAgChd1BABhdwfhNQFhdyM",Ja:!0,Ka:[176,731],size:751,Qa:t.W[0]},{data:"h/v/h/v7",Ja:!0,Ka:[44],size:1022,Qa:t.W[1]},{$:1001,O:24E3},{$:6006,O:24E3},"playready-h264hpl30-dash",64,320,240,1,1];},25378:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(5339);b.W=[{data:"heDvgAgCheFBABheAhhNgFheCM",Ja:!0,Ka:[176,733],size:753,Qa:t.W[0]},{data:"h/v/h/v7",Ja:!0,Ka:[44],size:1022,Qa:t.W[1]},{$:1E3,O:24E3},{$:6E3,O:24E3},"playready-h264hpl30-dash",64,320,240,1,1];},41470:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(95350);b.W=[{data:"heDvgAgCheFBABheAhhNgFheCM",Ja:!0,Ka:[176,733],size:753,Qa:t.W[0]},{data:"h7X/h7XY",Ja:!0,Ka:[44],size:987,Qa:t.W[1]},{$:1E3,O:25E3},{$:5E3,O:25E3},"playready-h264hpl30-dash",64,320,240,1,1];},6320:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(4029);b.W=[{data:"hdzvgAgChd1BABhdwfhNQFhdyM",Ja:!0,Ka:[176,731],size:751,Qa:t.W[0]},{data:"h/v/h/v7",Ja:!0,Ka:[44],size:1022,Qa:t.W[1]},{$:1001,O:3E4},{$:6006,O:3E4},"playready-h264hpl30-dash",64,320,240,1,1];},59375:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(75034);b.W=[{data:"heDvgAgCheFBABheAhhNgFheCM",Ja:!0,Ka:[176,733],size:753,Qa:t.W[0]},{data:"h/v/h/v7",Ja:!0,Ka:[44],size:1022,Qa:t.W[1]},{$:1E3,O:3E4},{$:6E3,O:3E4},"playready-h264hpl30-dash",64,320,240,1,1];},56E3:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(56803);b.W=[{data:"heH/heDu",Ja:!0,Ka:[176,733],size:753,Qa:t.W[0]},{data:"hNMtDABahNM3",Ja:!0,Ka:[44],size:618,Qa:t.W[1]},{$:1001,O:24E3},{$:6006,O:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},21610:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(51914);b.W=[{data:"heH/heDu",Ja:!0,Ka:[176,733],size:753,Qa:t.W[0]},{data:"hNktDABahNk6",Ja:!0,Ka:[44],size:621,Qa:t.W[1]},{$:1E3,O:24E3},{$:6E3,O:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},96660:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(44661);b.W=[{data:"heH/heDu",Ja:!0,Ka:[176,733],size:753,Qa:t.W[0]},{data:"hHkgDABahHkX",Ja:!0,Ka:[44],size:573,Qa:t.W[1]},{$:1E3,O:25E3},{$:5E3,O:25E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},35455:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(5066);b.W=[{data:"heH/heDu",Ja:!0,Ka:[176,733],size:753,Qa:t.W[0]},{data:"hNUtDABahNU4",Ja:!0,Ka:[44],size:619,Qa:t.W[1]},{$:1001,O:3E4},{$:6006,O:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},88354:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(10124);b.W=[{data:"heH/heDu",Ja:!0,Ka:[176,733],size:753,Qa:t.W[0]},{data:"hNctDABahNc5",Ja:!0,Ka:[44],size:620,Qa:t.W[1]},{$:1E3,O:3E4},{$:6E3,O:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},90090:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(23259);b.W=[{data:"heH/heDu",Ja:!0,Ka:[176,733],size:753,Qa:t.W[0]},{data:"hk9hDABahk/B",Ja:!0,Ka:[44],size:808,Qa:t.W[1]},{$:1E3,O:5E4},{$:1E4,O:5E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},35619:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(33781);b.W=[{data:"heH/heDu",Ja:!0,Ka:[176,733],size:753,Qa:t.W[0]},{data:"iCWiDABaiCX/iCRq",Ja:!0,Ka:[44],size:1043,Qa:t.W[1]},{$:1001,O:6E4},{$:15015,O:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},13947:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(98640);b.W=[{data:"heH/heDu",Ja:!0,Ka:[176,733],size:753,Qa:t.W[0]},{data:"iCmiDABaiCn/iChs",Ja:!0,Ka:[44],size:1045,Qa:t.W[1]},{$:1E3,O:6E4},{$:15E3,O:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,1,1];},83295:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(9253);b.W=[{data:"g/wChxYKdhdjAxhx4QACCfhx5wABDzhx5XDggAYBAOgDgDCPhtZSA6htY8AAD6htYEAACuhtYMAACegzgChtYXDggaQBhtYyAhgKoAcxQ4EFBMAAAKAThWgBAPCkgHAAB3hXABcFiO/DBGCpDchYwChYQIgyoAgAIChYQJBZgAQAAZDYgAYEhYR4",Ja:!0,Ka:[180,687],size:707,Qa:t.W[0]},{data:"g3YCg6YVCGg6YtBEg6YEAGg6YGCmgAYBBAACBAgDYDBZABBBgA4Dgd4ACBgA4DAYgB4FgA4GgC4Gg3YHAkAUAYEUAYgBABDXg3YCAKATgX4BAPCkgPQAB3gdIBcFiO/DBGCpDcAEAyApAQABCFAAAIEgeIBBAEC0BaDMC1B6A+DZDgBIAxB6AeBlBjA1BEDKCdAICYARCYBuAhAICEDED+CDBgAyAjAoAFAfghoCdD0AccAwDEAEAIAACADQAKCWCxAIBdA9D8DADpAMB3C/APC6CRAFCAAyAaAoACCfgiAAckgUSQAJAkBBAECECIADgXYAfdqKPnBMB5DNAwAyAWAwADA+gHwAeSAougAYBgCiCJAJAQAGCADfCfBTAXCJAaABCogDQBcGfgmkBJgDQAhKoABYgDQEfdxAVPAggC4BcIPg22gC4BgGQHfbKTytCAgGQACY",Ja:!0,Ka:[44],size:373,Qa:t.W[1]},{$:1001,O:24E3},{$:6006,O:24E3},"av1-main-L30-dash-cbcs-prk",64,480,270,1,1];},77013:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(83295);b.W=[{data:"hYX/hYQOCghYQugpgBgAYChYRXBwhYQVDogBoG",Ja:!0,Ka:[180,687],size:707,Qa:t.W[0]},{data:"gug1DoguhyCggujG",Ja:!0,Ka:[44],size:373,Qa:t.W[1]},{$:1E3,O:24E3},{$:6E3,O:24E3},"av1-main-L30-dash-cbcs-prk",64,480,270,1,1];},64826:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(77013);b.W=[{data:"hYRABhCohYTUga4EhYTyCGCjhYQpAcCYgAYEhYRWATCIhYQe",Ja:!0,Ka:[180,687],size:707,Qa:t.W[0]},{data:"gRABCVgugVB9gugtA8gugJAFgAYBCdgughgB4GARgtgKgtYCC/gtYLCGCjgtYNBgAKAogtYGCvCPACgtYZAEgtYDBEgf4AAggtYAgowAgtYcgDYAAogtYygDQHgtYDgqYB",Ja:!0,Ka:[44],size:340,Qa:t.W[1]},{$:1E3,O:25E3},{$:5E3,O:25E3},"av1-main-L30-dash-cbcs-prk",64,480,270,1,1];},60939:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(83295);b.W=[{data:"hYRAB1AwhYTUga4EhYTyDUDDhYQpAggN4BgAYChYR4",Ja:!0,Ka:[180,687],size:707,Qa:t.W[0]},{data:"guitDUDDgujC",Ja:!0,Ka:[44],size:373,Qa:t.W[1]},{$:1001,O:3E4},{$:6006,O:3E4},"av1-main-L30-dash-cbcs-prk",64,480,270,1,1];},58097:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(60939).W[0];a=a(77013);b.W=[{data:"hYX/hYQOCghYQuBYgAYEhYRXBwhYQVDogBoG",Ja:!0,Ka:[180,687],size:707,Qa:t},{data:"guitDUDDgujC",Ja:!0,Ka:[44],size:373,Qa:a.W[1]},{$:1E3,O:3E4},{$:6E3,O:3E4},"av1-main-L30-dash-cbcs-prk",64,480,270,1,1];},50640:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(77013);b.W=[{data:"hYRADDBQhYTUga4EhYTxADANBDhYQmgdwBAwhJQBgAYChYRWAnAQhYQe",Ja:!0,Ka:[180,687],size:707,Qa:t.W[0]},{data:"gRABDCgugVCqgugtgBgAgugIgFYCDKgAYBBFgugFBygugVgB4GAwgB4NAXgB4FgA4GgC4GAWgygKgAICgzACgEYAgzAKADANBDgzAJAugzAACEAgAGgEgAAIgzABfYA+mUCwCfAAApAYAyC9AdBNAmDtAABiBhBEChBiA0CxC7DcBoCzDhDtDaDmAnD9BAgvAAgzoAAJgzoEgIQAcUIIQCgzoWAEgzoDBDCwg4QCgEgAgzoKAXg3IBgHwABJABBEgG4AAog3IFgzwDg2wCA8gDAADbgwYJgzYDgwYAC4g2wCB8AOA2g6IKgzwFg6IAgJwAcGPQTShBAMg6QDcVMAp8AKAkgJwKfYsUrPgJoCgDIAAOgJoBhAgKfWKr8igCwBcQPBJIhAYKfTZ6lkhAQB",Ja:!0,Ka:[44],size:515,Qa:t.W[1]},{$:1E3,O:5E4},{$:1E4,O:5E4},"av1-main-L30-dash-cbcs-prk",64,480,270,1,1];},56130:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(83295).W[0];a=a(50640);b.W=[{data:"hYRADqBghYTUga4EhYTxADCpCDhYQmgdwBA0DQgAYEhYRWA6CnhYQe",Ja:!0,Ka:[180,687],size:707,Qa:t},{data:"gdoBDvhAQVDXhAQZDphAQRCMhAQJAPgAYBD3gAYBBAhAQNg/QOg9QOg+QOhDQGgC4OgG4eAbhFQIhE4ChFYDgAwCgXoBCvhF4ICkgF4ACpCDhF4JAphF4ACDCAhFYAhF4De0WsyEAUBXA2B4ASAMBeCHCZBYDNBRAyCnBCAmAEBmAbCIBCAhAxA/CgDYhFQBAOhFQDBCCQgFYAAQBEhFQXAHhFQEhQgBhJ4ChFQMADhFQEAwAIAghIwAhFQSg4IHg+YEgC4AAEg4QBg+YKhE4Fg+gCAIhIQDCKCggGQGhBwChEoCgGIBhLIBhBYOAMgCwEhBYNhN4CAKhN4EgSYIhN4GAQhN4EgJIHfRRKVYgCwBASgSQNfO7A6wgSIEAWhQwDgSIIfM05YQgCwBAYhQwEgI4HDKDwBygLwCAahToNfJUUDghToB",Ja:!0,Ka:[44],size:670,Qa:a.W[1]},{$:1001,O:6E4},{$:15015,O:6E4},"av1-main-L30-dash-cbcs-prk",64,480,270,1,1];},17826:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(56130);b.W=[{data:"hYX/hYQOCghYQugpgBgAYChYRXCYhYQVDogBoG",Ja:!0,Ka:[180,687],size:707,Qa:t.W[0]},{data:"hTo1DohTrDCghTue",Ja:!0,Ka:[44],size:670,Qa:t.W[1]},{$:1E3,O:6E4},{$:15E3,O:6E4},"av1-main-L30-dash-cbcs-prk",64,480,270,1,1];},6350:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.W=[{data:"IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgA4BAEgAYBADgcYCBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG",Ja:!0,Ka:[176,729],size:749},{data:"AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDggcjI3MjcgN2QwMjZlOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTYgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rqAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOAAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gAAAABJBmmVJqEFomUwIV//+OEAADUg=",Ja:!1,Ka:[44],size:1022},{$:1001,O:24E3},{$:6006,O:24E3},"playready-h264mpl30-dash",64,320,240,4,3];},937:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(6350);b.W=[{data:"hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG",Ja:!0,Ka:[176,731],size:751,Qa:t.W[0]},{data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP",Ja:!0,Ka:[44],size:1022,Qa:t.W[1]},{$:1E3,O:24E3},{$:6E3,O:24E3},"playready-h264mpl30-dash",64,320,240,4,3];},6153:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(937);b.W=[{data:"hdw8BhCohdz4gfYEhd0ACQhdwoB+CQgAYEhdxWATCIhdwe",Ja:!0,Ka:[176,731],size:751,Qa:t.W[0]},{data:"gCoBCph/oVCRh/otBQh/oJAFgAYBCxh/o9ARh+ILgCgBAyh+H/h+AuA1h+CKAzh+ABDsC+h+AAAUDIh+ABcsxdpKBwA+AqCkGAB3A0DAhg4AcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDohgACh+AEC/h2AHh+Al",Ja:!0,Ka:[44],size:987,Qa:t.W[1]},{$:1E3,O:25E3},{$:5E3,O:25E3},"playready-h264mpl30-dash",64,320,240,4,3];},32477:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(6350).W[0];a=a(6153);b.W=[{data:"hdg8B1Awhdj4gfYEhdj8AHBThdgpCBDYgAYEhdh4",Ja:!0,Ka:[176,729],size:749,Qa:t},{data:"gBoBC2h7QVCeh7QZDph7QRBch7QJAGgAYBC+h7QJDSh7QJCNh7QJgC4Ch7QSgL4CAWgEYJASh8wLAWgEIBBIh8//h88KB/h7IIh84BgBoBDph84IgBoGASgHIAdlSahBBoCZBMAIBPD/D9DxgCAAAfDg",Ja:!0,Ka:[44],size:1022,Qa:a.W[1]},{$:1001,O:3E4},{$:6006,O:3E4},"playready-h264mpl30-dash",64,320,240,4,3];},19034:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(937).W[0];a=a(32477);b.W=[{data:"hdw8B1Awhdz4gfYEhd0ADghdwoCCgBwBgAYChdx4",Ja:!0,Ka:[176,731],size:751,Qa:t},{data:"h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/tU",Ja:!0,Ka:[44],size:1022,Qa:a.W[1]},{$:1E3,O:3E4},{$:6E3,O:3E4},"playready-h264mpl30-dash",64,320,240,4,3];},98989:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(937).W[0];a=a(6350);b.W=[{data:"hd0VDShd0OgM4AhdwCAXBngA4BCsDZFBD7AOAQgDIAc+kAALC4AADxBCCZBggJYAAGhdoCAigiQChdwZBnDggAYEhdxXhUwChdwSDpgBoG",Ja:!0,Ka:[176,731],size:751,Qa:t},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ja:!0,Ka:[44],size:1022,Qa:a.W[1]},{$:1001,O:24E3},{$:6006,O:24E3},"playready-h264hpl30-dash",64,320,240,4,3];},5339:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(98989).W[0];a=a(937);b.W=[{data:"hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCgAoAheAphJ4BgAYDheBXgO4CheASDogBoG",Ja:!0,Ka:[176,733],size:753,Qa:t},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ja:!0,Ka:[44],size:1022,Qa:a.W[1]},{$:1E3,O:24E3},{$:6E3,O:24E3},"playready-h264hpl30-dash",64,320,240,4,3];},95350:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(5339).W[0];a=a(6153);b.W=[{data:"heA8BhCoheD4gfYEheEBAgheApB+CQgAYEheBWATCIheAe",Ja:!0,Ka:[176,733],size:753,Qa:t},{data:"h7VpAzh7QDgD4Ah7RZhRwBh7X/h7QH",Ja:!0,Ka:[44],size:987,Qa:a.W[1]},{$:1E3,O:25E3},{$:5E3,O:25E3},"playready-h264hpl30-dash",64,320,240,4,3];},4029:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(98989).W[0];a=a(32477);b.W=[{data:"hdw8B1Awhdz4gfYEhdz9AOCmhdwqCBDYgAYEhdx4",Ja:!0,Ka:[176,731],size:751,Qa:t},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ja:!0,Ka:[44],size:1022,Qa:a.W[1]},{$:1001,O:3E4},{$:6006,O:3E4},"playready-h264hpl30-dash",64,320,240,4,3];},75034:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(5339).W[0];a=a(19034);b.W=[{data:"heA8B1AwheD4gfYEheEBDAheApCCgBwBgAYCheB4",Ja:!0,Ka:[176,733],size:753,Qa:t},{data:"h/t2Azh/oDgD4Ah/pZhWIBh/v/h/od",Ja:!0,Ka:[44],size:1022,Qa:a.W[1]},{$:1E3,O:3E4},{$:6E3,O:3E4},"playready-h264hpl30-dash",64,320,240,4,3];},9253:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(6350);b.W=[{data:"hdggADhcgAhdhwDAhdiEACgqYAhdhRDjhdg9CjhdgEABBXhdgMABBHBohdhSC6gKoBhdgAACgPgCCQgfAEgI4AH9H6gBAAAPADCggIoBcYQAEMABgFIAgEAChboAgEIBhcQBgAQAddmLAkChgDgBBtBCEBgDINegCggPATBnCYC5AkApAQATC4BCCwGJfl9/o8DZDLD6A5CUDJB7gAgAezL9GFAIBOAiCxAmBeD+COBsDLD0BhBEBOBqDECbD2BlD6AwCmCcCVCUDfCjAKBKDDCaKACCg0QDcAu4H0BVDvB+AACXBAASDwABAuCAAlDhCigOIBcHRAHBByD2A8gVQChvAOAThlwAg0gABuBjBshhgAgEwAgAIChxYIhwgAgAQAAiCwgAYEhxZ4",Ja:!0,Ka:[176,888],size:908,Qa:t.W[0]},{data:"h/pcAABnh/oJAkh/oJAjh7IJgBYAh/oIgBYFgL4DAih/oaABAeh/oEgNIAdOAYEBADgboCAWgBIAgSYACggHgBcAIPWAAKD8CAgAoDCQgDICANgDIAABgSIBgDAAgAQBAEgCACcuJgGsB9DgCECCAkC/D/D8BhgAwAczjsxSCKBCD8BJgDQBgEAAADA8gFIDBXDAgeQAgBIEDagIQOAHgCACcPAgHgAmBYDCA+DwCYgCQCCjgCQCAMgEYFggABgMoDgEQCAWAogEQLgIwGgpoAgAYBgCACAOgZIAfgDjjCARC8CVgBoBBTgOYAgEQIgNQCga4DgEQCAeBIgEQKALgEQEAEgM4JcovGEfB4gM4F",Ja:!0,Ka:[44],size:468,Qa:t.W[1]},{$:1001,O:24E3},{$:6006,O:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},56803:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(5339).W[0];a=a(6350);b.W=[{data:"heDvgAgCheAgDSheCzBoBlB2heBQAfBoheACACgPgCCQgfAEgI4AH9H6gBAAAPhQoDhboFhLIFAAAThSYAghIABuBjBshOIAgBoAgAICheAIAAgJoBA1gFQBgAYCheBXhVACheASDpgBoG",Ja:!0,Ka:[176,733],size:753,Qa:t},{data:"h/pcAAD/h/oJAkh/oJAih7IJAjh/oJgBYFgL4DAhh/oaABC0h/oEgToAdAAQwBh/4AACAggGoBAACQgAgCgAQBddmLAkgDYBBtBCEBgDANegCggPATBnCYC5AkApAQATC4BCCwGJfl9/o8DZDLD6A5CUDJB7gAgAezL9GFAIBOAiCxAmBeD+COBsDLD0BhBEBOBqDECbD2BlD6AwCmCcCVCUDfCjAKBKDDCaKACCgSgEe7gfRVDvB+AACXBAASDwABAuCAAlDhgVYCdEAcFyD2A8gNoBggIAdOAYEBADguoCAWgBIAglYACggPoCcg9YAKD8CAgAoDCQgDICANgDIAABglIBgTIDAEgCACcuJgGsB9DgCECCAkC/D/D8BhgAwAczjsxSCKBCD8BJgDQBgEAAADA8gFIDBXDAgxQAgBIEDagIQOAHgCACcPAgHgAmBYDCA+DwCYgCQCCjgCQCAMgEYFgzABgMoDAOgEQBcWKMIRC8CVgBoBBTgJ4AgIoIg8gAgAYBgEQDgsAADgAOA4gEQSgNICgawDgEQCAeBIgEQKALgEQEAEgMwJcovGEIDegEAE",Ja:!0,Ka:[44],size:618,Qa:a.W[1]},{$:1001,O:24E3},{$:6006,O:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},51914:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(56803);b.W=[{data:"heEVDQheFREBhdgBDggAYEheBXgRQCheASDogBoG",Ja:!0,Ka:[176,733],size:753,Qa:t.W[0]},{data:"hNI1DohNIkg9ABhNIEDQhNIJCIhKIDhIoEgC4ChNISgL4ChNIGgEYChNIQC3hNIhBvhNJXgJIAgygCAAAxhNa1gEQChNYBgEQKhNhi",Ja:!0,Ka:[44],size:621,Qa:t.W[1]},{$:1E3,O:24E3},{$:6E3,O:24E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},44661:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(51914);b.W=[{data:"heA8BhCoheD4gfYEheEtA9hdgBgAYCheBWATCIheAe",Ja:!0,Ka:[176,733],size:753,Qa:t.W[0]},{data:"gCIBCphNgVCRhNgtBQhNgJAFgAYBCxhNglAihNgJgBYFgL4DARhMALgJgBCUhL6CAzhL7ZANhL4EA2DwgeQAgN4AgeQBhLwQgEIChLwBgEIF",Ja:!0,Ka:[44],size:573,Qa:t.W[1]},{$:1E3,O:25E3},{$:5E3,O:25E3},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},5066:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(56803);b.W=[{data:"heA8B1AwheD4gfYEheEtBCgvQBgAYCheB4",Ja:!0,Ka:[176,733],size:753,Qa:t.W[0]},{data:"hNJ1hKIAhNI+C1hNJ/DqBhhNK1gEQChNIBgEQKhNRi",Ja:!0,Ka:[44],size:619,Qa:t.W[1]},{$:1001,O:3E4},{$:6006,O:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},10124:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(51914);b.W=[{data:"heA8B1AwheD4gfYEheEtBDgmgBgAYCheB4",Ja:!0,Ka:[176,733],size:753,Qa:t.W[0]},{data:"hNh1AihNg/gWoAhNiBA9hNi1hAgChNgBhJARhNZa",Ja:!0,Ka:[44],size:620,Qa:t.W[1]},{$:1E3,O:3E4},{$:6E3,O:3E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},23259:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(51914);b.W=[{data:"heA8DDBQheD4gfYEheEtBYgFQBgAYCheBWAnAQheAe",Ja:!0,Ka:[176,733],size:753,Qa:t.W[0]},{data:"gCIBDqhNgVDShNgtCMhNgJgFYCDyhNgNhMAFhNgnAigF4JgBYFgF4DgBYAgF4IgBYFhTgPAWhTgMhUAEACA+hUCCBlhUCShCoChUABhGwJhT4VATC8CTgGgCAigTIBhT5PhlQHdGGMIZC8CMgmIDhIgBgEIGAFgRIJA2gRIMgVgFgRgDgMoGAugRALgEIFAHgQ4KA+gQ4SAIhk4JBIhk4I",Ja:!0,Ka:[44],size:808,Qa:t.W[1]},{$:1E3,O:5E4},{$:1E4,O:5E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},33781:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(56803).W[0];a=a(23259);b.W=[{data:"heA8DqBgheD4gfYEheEtBbDogAYEheBWA6CnheAe",Ja:!0,Ka:[176,733],size:753,Qa:t},{data:"hZYBArhk4UABAThk4ZDphk4RDIhk4JAPgEwBAzgA4BhRYAhk4EDShk4JCNhe4JgC4Ehk4QgL4Chk4GgF4Ohk4SgF4ygR4FALC7gO4NAbhsYQgAYCAahtABDohtAhBthtBXgZoBABDUDBhsy0gEIChswBhoQRhsrOgQ4HBmgQ4TAJgQ4JBWgQ4Ths4BgQ4IBOgQ4SALgQ4KBegQ4SAMgeABgEACAQgMoBdw6rGEAnB4gMwPANgIgGh1YAgEYAdol8YQCNDggIoE",Ja:!0,Ka:[44],size:1043,Qa:a.W[1]},{$:1001,O:6E4},{$:15015,O:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},98640:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.W=void 0;t=a(51914).W[0];a=a(33781);b.W=[{data:"heA8DqBgheD4gfYEheEtBcgvwBgAYCheBWA6CYheAe",Ja:!0,Ka:[176,733],size:753,Qa:t},{data:"iCQ1DoiCQkhjgBiCQEDQiCQJCIh2QJgC4EiCQQgL4Ch8QGgF4Oh8QSgF4yiCQGC4gO4NiCQZDqiCQhBviCRXhLYBgAgCB5iCn/iChe",Ja:!0,Ka:[44],size:1045,Qa:a.W[1]},{$:1E3,O:6E4},{$:15E3,O:6E4},"hevc-main10-L30-dash-cenc-prk-do",64,320,240,4,3];},95316:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Vla=b.jga=b.NI=void 0;t=a(22970);t.__exportStar(a(38454),b);t.__exportStar(a(85017),b);d=a(68954);Object.defineProperties(b,{NI:{enumerable:!0,get:function(){return d.NI;}}});Object.defineProperties(b,{jga:{enumerable:!0,get:function(){return d.jga;}}});Object.defineProperties(b,{Vla:{enumerable:!0,get:function(){return d.Vla;}}});},67769:function(t,b,a){var g,e;function d(h){return e[h >> 6] + e[h & 63];}function n(h,k){(0,g.assert)(0 < k && 8 > k);return d((k - 1 << 8) + h);}function c(h){return d(1792 + h[0]) + d((h[1] << 4) + (h[2] >>> 4)) + d((h[2] << 8 & 3840) + h[3]);}function f(h){return 43 === h?62:47 === h?63:58 > h?h - 48 + 52:91 > h?h - 65:h - 71;}Object.defineProperties(b,{__esModule:{value:!0}});b.sad=function(h,k){var p,q,r,u,v,w;function l(x,y){var A;A=p;x=q - y - x;(0,g.assert)(1 <= x);(0,g.assert)(16384 > x - 1);(0,g.assert)(2 <= y && 512 > y - 2);y=d(2048 + (x - 1 >>> 3)) + d(((x - 1 & 7) << 9) + (y - 2));p=A + y;r=q;u=0;}function m(x,y,A){return h.subarray(x,x + A).every(function(z,B){return z === h[y + B];});}p="";q=k || 0;r=q;u=0;for(k=0;q < h.byteLength;){v=r;w=u;if(0 !== u && 513 > u && h[q] === h[r + u])(++u,++q);else if(513 === u)(l(v,w),k=0);else {for(--r;0 <= r && r >= q - u - 16384 && (h[v] !== h[r] || 0 < u && !m(q - u,r,u + 1));)--r;if(0 <= r && r >= q - u - 16384)(++u,++q);else if(v === q || 1 === w){q-=w;for(v=1;7 > v && h[q + v] === h[q];)++v;p+=n(h[q],v);q+=v;k=1 < v?0:k + 1;4 === k && (p=p.slice(0,p.length - 8),p+=c(h.subarray(q - 4,q)));r=q;u=0;}else (l(v,w),k=0);}}1 === u?p+=n(h[r],1):1 < u && l(r,u);return p;};b.uDb=function(h,k){var v,w;function l(y,A){p(A);if(y + A <= u)q.set(q.subarray(y,y + A),u);else for(var z=0;z < A;++z)q[u + z]=q[y + z];u+=A;}function m(){var y;y=h.slice(r,r+=2);return (f(y.charCodeAt(0)) << 6) + f(y.charCodeAt(1));}function p(y){u + y > q.byteLength && (y=new Uint8Array(2 * q.byteLength),y.set(q,0),q=y);}for(var q=k || new Uint8Array(4096),r=0,u=k?k.byteLength:0;r < h.length;){v=m();if(v & 2048){w=m();l(u - (((v & 2047) << 3) + (w >>> 9) + 1),(w & 511) + 2);}else if(1792 === (v & 3840))(p(4),q[u++]=v & 255,w=m(),v=m(),q[u++]=w >>> 4,q[u++]=(w << 4 & 240) + (v >>> 8),q[u++]=v & 255);else {w=v & 255;v=(v >>> 8) + 1;p(v);for(var x=0;x < v;++x)q[u++]=w;}}return q.subarray(k?k.byteLength:0,u);};g=a(89707);e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";},68954:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.N8b=b.M8b=b.O8b=b.L8b=b.Vla=b.P8b=b.JXc=b.jga=b.CXc=b.NI=b.LXc=b.KN=void 0;d=a(85017);Object.defineProperties(b,{KN:{enumerable:!0,get:function(){return d.KN;}}});b.LXc=["padding"];b.NI=["h264","h264hpl","hevc-main10","av1"];b.CXc=["16:9","4:3"];b.jga={h264:/h264mpl/,h264hpl:/h264hpl/,"hevc-main10":/hevc-main10/,av1:/av1/};b.JXc={h264:"playready-h264mpl30-dash",h264hpl:"playready-h264hpl30-dash","hevc-main10":"hevc-main10-L30-dash-cenc-prk-do",av1:"av1-main-L30-dash-cbcs-prk"};b.P8b=["silence"];b.Vla=["heaac","ddp","xheaac"];b.L8b={heaac:[64,96,128],xheaac:[32,64,96,192],ddp:[192,256,384,448,640]};b.O8b={xheaac:{32:"xheaac-dash",64:"xheaac-dash",96:"xheaac-dash",192:"xheaac-dash"},heaac:{64:"heaac-2-dash",96:"heaac-2-dash",128:"heaac-2hq-dash"},ddp:{192:"ddplus-5.1-dash",256:"ddplus-5.1hq-dash",384:"ddplus-5.1hq-dash",448:"ddplus-5.1hq-dash",640:"ddplus-5.1hq-dash"}};b.M8b={xheaac:{32:"2.0",64:"2.0",96:"2.0",192:"2.0"},heaac:{64:"2.0",96:"2.0",128:"2.0"},ddp:{192:"5.1",256:"5.1",384:"5.1",448:"5.1",640:"5.1"}};b.N8b={xheaac:{$:2048,O:48E3},heaac:{$:1024,O:24E3},ddp:{$:1536,O:48E3}};},38454:function(t,b,a){var n,c,f,g,e,h,k;function d(l){if(-1 !== g.NI.indexOf(l))return l;for(var m,p=0;p < g.NI.length;++p)if(-1 !== l.indexOf(g.NI[p])){m=g.NI[p];break;}(0,h.assert)(m);return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.hhb=void 0;n=a(22970);c=a(91176);f=a(43051);g=a(68954);e=a(85017);h=a(89707);k=a(67769);t=(function(){function l(m,p){this.atob=m;this.console=p;this.QX=1;this.iga=[];this.Q7=[];}l.prototype.Ysc=function(m,p,q,r,u){var v,y;void 0 === r && (r={w:16,Wx:9});void 0 === u && (u=1);p=d(p);v=(0,c.cc)(e.KN[p],function(A){return (0,e.yQa)(q,e.k$[A]);});(0,h.assert)(v);(0,h.assert)(16 === r.w && 9 === r.Wx || 4 === r.w && 3 === r.Wx);r=16 === r.w?"16:9":"4:3";for(var w=0,x=this.iga;w < x.length;w++){y=x[w];if(y.type === m && y.NC === r && y.Xc === p && y.frameRate === v && y.trackId === u)return y;}m=this.uhc(m,r,p,v,u);this.iga.unshift(m);this.iga.length > this.QX && this.iga.splice(this.QX,this.iga.length - this.QX);return m;};l.prototype.Wsc=function(m,p,q){var w;void 0 === q && (q=1);for(var r,u=0,v=this.Q7;u < v.length;u++){w=v[u];"silence" === w.type && w.Xc === m && w.bitrate === p && w.trackId === q && (r=w);}void 0 === r && (r=this.phc(m,p,q),this.Q7.unshift(r),this.Q7.length > this.QX && this.Q7.splice(this.QX,this.Q7.length - this.QX));return r;};l.prototype.Xsc=function(){void 0 === l.utb && (l.utb=new Uint8Array(Array.from({length:40},function(m,p){return ('<tt xmlns="http://www.w3.org/ns/ttml" />').charCodeAt(p);})).buffer);return l.utb;};l.prototype.uhc=function(m,p,q,r,u){var v;v=f.kSb[m][p][q][r];(0,h.assert)(v);v=(0,f.SVc)(v().W);return n.__assign(n.__assign({},this.decode(v,u)),{type:m,NC:p,Xc:q,frameRate:r,width:v.width,height:v.height,vYa:v.vYa,wYa:v.wYa});};l.prototype.phc=function(m,p,q){var r;r=f.snb.silence[m][p];(0,h.assert)(r);r=(0,f.RVc)(r().W);return n.__assign(n.__assign({},this.decode(r,q)),{type:"silence",Xc:m,bitrate:p,channels:r.channels});};l.prototype.decode=function(m,p){var q,r,u,v;q=m.Ob.Ja?this.b9(m.Ob):this.atob(m.Ob.data);r=m.Ma.Ja?this.b9(m.Ma):this.atob(m.Ma.data);if(1 !== p){u=new DataView(q);v=new DataView(r);m.Ob.Ka.forEach(function(w){return u.setUint32(w,p);});m.Ma.Ka.forEach(function(w){return v.setUint32(w,p);});}return n.__assign(n.__assign({},m),{Ob:q,Ma:r,trackId:p});};l.prototype.b9=function(m){var p;if(m.Ja){if(void 0 === m.Qa)m=(0,k.uDb)(m.data);else {p=this.b9(m.Qa);m=(0,k.uDb)(m.data,new Uint8Array(p));}}else m=new Uint8Array(this.atob(m.data));return m.buffer.slice(m.byteOffset,m.byteOffset + m.byteLength);};return l;})();b.hhb=t;},29088:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L,K,M,P,I,O,Q,T,U,X,Y;Object.defineProperties(b,{__esModule:{value:!0}});b.g5a=void 0;d=a(22970);n=a(90745);c=a(91176);f=a(91176);g=a(66164);a(97685);e=a(91176);h=a(8743);k=a(58348);l=a(6200);m=a(79183);p=a(3033);q=a(65161);a(57141);r=a(19089);u=a(52571);v=a(7470);w=a(35438);x=a(37058);y=a(61996);A=a(54366);z=a(650);B=a(40666);C=a(17122);D=a(69575);E=a(8478);H=a(27255);F=a(93747);G=a(75402);J=a(91967);L=a(33143);K=a(29688);M=a(14609);P=a(27288);I=a(23102);O=a(27459);Q=a(61567);T=a(66607);U=a(66701);X=a(11177);Y=a(358);t=(function(){function W(Z){this.console=Z;this.$a=h.VE.CLOSED;this.zf=[];this.Nea=[];this.R6=[];this.Gt=[];this.ojb={};this.g7={};this.e2a=h.Nga.default;this.Rcc={Yy:!1};this.dk=new y.Am({rj:this,source:"engine",xg:10,console:Z});}Object.defineProperties(W.prototype,{xB:{get:function(){(0,u.assert)(this.UF);return this.UF;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{state:{get:function(){return this.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{NIc:{get:function(){return this.R6;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{jT:{get:function(){return this.Gt.map(function(Z){return Z.Z;});},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{PIc:{get:function(){return this.Gt;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{bd:{get:function(){this.rN();return this.YC.bd;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{hM:{get:function(){this.rN();return this.YC.hM;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{Xl:{get:function(){this.rN();return this.YC.Xl;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{eU:{get:function(){this.rN();return this.YC.eU;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{QXc:{get:function(){return this.zf.length;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{KX:{get:function(){return this.ojb;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{St:{get:function(){return this.xC;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{nU:{get:function(){return this.g7;},enumerable:!1,configurable:!0}});Object.defineProperties(W.prototype,{tCc:{get:function(){return this.nkb || (this.nkb=this.Z$b());},enumerable:!1,configurable:!0}});W.prototype.open=function(Z,ba,ca,da){var ia;ia=this;if(this.$a === h.VE.OPEN)return !1;if(void 0 !== Z.on)Z.on("changed",function(){Z.cZ || ia.zf.forEach(function(S){var N;(null === (N=S.M) || void 0 === N?0:N.fh) && S.M.fh.disable();});});this.$r=new Y.p7a(Z,this.console);this.config=this.$r.CLa;e.pW.TPc(this.config);this.Bj=new B.tJ(new C.wja({mj:!0,currentTime:function(){return c.I.Ca(g.platform.time.ha());},speed:1}),this.console,"Engine Scheduler");this.SSa=new m.x9a(this.console,Z);this.Ss=new r.Zfb(this.nra.bind(this),this.Bj,Z);if(Z.MI || g.platform.Bl.vg.N$c)this.xC=new k.D6a(this.console,Z,function(){return ia.KX;});this.YC=p.eO.Hpa(Z,this.console,ba);this.$a=h.VE.OPEN;this.UF=(0,I.Ipa)(Z);ca && this.UF.oNb(ca);da && this.UF.Z0a(da);this.IIb=new O.dfb({el:function(){ia.$a !== h.VE.CLOSED && ia.Ss.el("playgraphOpportunity");}});this.wEb=new F.qcb(function(){return ia.Dpa();},function(){return ia.Epa().global;},this.console);this.tgc();return !0;};W.prototype.z7=function(Z,ba,ca,da,ia){var N,V,aa,fa,ha;function S(ka){return N.Xq(da,ha,ka);}N=this;void 0 === ia && (ia=!0);this.rN();ca=Object.create(ca,{QB:{value:this.nU},MI:{value:!!this.xC}});if(ia){aa=this.xB.Pbc(Z,ca);if(aa){aa.H3a(ba);fa=this.Xq.bind(this,da,aa);fa.Be=da;fa=aa.EQc(fa).Be;if((fa=null === (V=da.i$c) || void 0 === V?void 0:V.call(da,fa)) && !fa.success)(fa={reason:fa.reason},this.sE(aa));else return aa;}}S.Be=da;V=new L.$fb(S,da,function(ka,pa){return !!N.Nwb(pa,ka).pga;});ha=(0,T.FNa)(ca,[Z,ba,ca,W.WDc++,this.bd,V,function(ka){return N.Ss.el(ka);},ia?this.xB.Mbc.bind(this.xB):function(){},this.Dpa.bind(this),this.$r],this.console);ha.Sc(new w.ghb(ha));ha.Sc(new x.Ehb(ha.gd));ha.Sc(new P.bbb(this.$r,ha));fa && ha.Sc(new M.kfb(fa));ha.O_.Sc(new G.H5a(ha));ha.O_.Sc(new K.abb(ha));this.Ze.tE.forEach(function(ka){return ha.Sc(ka);});this.IIb.z7(ha);Z=new n.kf();Z.on(ha.events,"requestsPruned",this.ANc.bind(this));Z.on(ha.events,"weightUpdated",this.cYa.bind(this));Z.on(ha.events,"underflow",this.ol.bind(this,ha));this.Gt.push({Z:ha,Rj:Z,Hda:0});this.cYa();return ha;};W.prototype.ol=function(Z){Z=this.wEb.$nc(Z);(null === Z || void 0 === Z?0:Z.Ina) || this.xB.reset();};W.prototype.sE=function(Z){this.IIb.sE(Z);Z.La();this.Gt=this.Gt.filter(function(ba){return ba.Z === Z?(ba.Rj.clear(),!1):!0;});this.cYa();};W.prototype.s6b=function(Z,ba){var ca;this.rN();ca=ba.Hh;ca=void 0 === ca?[q.u.X,q.u.U]:ca;Z=(0,U.mY)(ba,[Z,ca,this.fmc(ba)]);this.R6.push(Z);return Z;};W.prototype.p_a=function(Z){this.rN();this.R6=this.R6.filter(function(ba){return ba !== Z;});Z.La();};W.prototype.OPc=function(Z,ba){this.ojb=Z;this.g7=ba;this.nkb=void 0;};W.prototype.Gwa=function(Z,ba){var ca,da;da=null === (ca=(0,f.cc)(this.zf,function(ia){return ia.gY.equals(Z);})) || void 0 === ca?void 0:ca.M;da?da.Gwa(d.__assign(d.__assign({},ba),{KS:this.sta.bind(this)})):this.Nea.push({qSb:Z,A1a:ba});};W.prototype.JKb=function(Z){this.Nea=this.Nea.filter(function(ba){return !ba.qSb.equals(Z);});};W.prototype.close=function(){this.$a !== h.VE.CLOSED && (this.BMc(),(0,u.assert)(0 === this.zf.length,"Unexpected viewable lease after Playgraph destruction."),this.AMc(),this.Nea=[],delete this.YC,this.$a=h.VE.CLOSED,this.Bj.La());};W.prototype.KQc=function(Z){this.e2a=Z;this.Ss.el("streamingModeChanged");};W.prototype.SPc=function(Z){var ba,ca,da;this.Rcc.Yy=Z.Yy;if(this.config.bPa){da=!0 === Z.Yy;this.config.set?this.config.set((ba={},ba.enableCprVideo=da,ba)):this.config.enableCprVideo=!0 === Z.Yy;try{for(var ia=d.__values(this.Gt),S=ia.next();!S.done;S=ia.next())S.value.Z.wQc(da);}catch(V){var N;N={error:V};}finally{try{S && !S.done && (ca=ia.return) && ca.call(ia);}finally{if(N)throw N.error;}}}};W.prototype.fmc=function(Z){var ba;ba={};!Z.QB && this.g7 && (ba.QB={value:this.g7});return Object.create(Z,ba);};W.prototype.tgc=function(){this.Ze=new J.fja(this.config,this.console);this.Ze.Sc(new E.V8a(this));this.Ze.Sc(new z.agb(this.bd,this.Ss));this.Ze.Sc(new v.T8a(this.bd));this.Ze.Sc(new A.Qn(this.dk));this.Ze.Sc(new A.Qn(this.Ss.jw));this.Ze.Sc(new A.Qn(this.SSa.re));this.Ze.Sc(new A.Qn(this.wEb.re));this.Ze.Sc(new A.Qn(this.xB.re,{vpb:!1}));this.xC && this.Ze.Sc(new A.Qn(this.xC.re));};W.prototype.sta=function(){};W.prototype.Z2=function(Z){return d.__awaiter(this,void 0,void 0,function(){var ba,ca,da,ia;return d.__generator(this,function(S){switch(S.label){case 0:return ((0,u.assert)(Z,"ase.updateViewable(): Viewable config not found."),ba=(0,f.cc)(this.zf,function(N){return N.gY.equals(Z);}),(0,u.assert)(ba,"ase.updateViewable(): Viewable entry not found."),[4,ba.ur]);case 1:return (ca=S.T(),ia=(da=ca).Z2,[4,Z.Tu]);case 2:return (ia.apply(da,[S.T()]),[2]);}});});};W.prototype.Nwb=function(Z,ba){var ca;ca=Z.qs(ba.J,ba.dm);return {pga:(0,f.cc)(this.zf,function(da){return da.gY.equals(ca);}),gY:ca};};W.prototype.Xq=function(Z,ba,ca){var da,ia,S,N,V,aa,fa,ha,ka;da=this;S=ca.J;N=ca.dm;V=this.Nwb(Z,ca);aa=null === V || void 0 === V?void 0:V.pga;fa=V.gY;if(!aa){N=null === (ia=null === N || void 0 === N?void 0:N.Uf) || void 0 === ia?void 0:ia.fd;if(void 0 !== N)(ha=this.Xq(Z,ba,{J:N,dm:{}}),ka=ha.ll);aa={gY:fa,ur:(function(){return d.__awaiter(da,void 0,void 0,function(){var pa,oa,la,R,ea;ea=this;return d.__generator(this,function(ja){switch(ja.label){case 0:return [4,Promise.all([fa.Tu,null === ha || void 0 === ha?void 0:ha.ur])];case 1:return (pa=d.__read.apply(void 0,[ja.T(),2]),oa=pa[0],la=pa[1],R=this.cD(S,fa,oa,ba.id,la),!R.Eb || !R.fh || R.Nq.ayc || R.fh.complete?[3,3]:[4,Promise.race([R.Nq.dUc,new Promise(function(sa){return setTimeout(sa,ea.config.CPc);})])]);case 2:(ja.T(),ja.label=3);case 3:return (aa.M=R,[2,R]);}});});})(),M:void 0,$A:new c.SV({name:"viewableCollection",Nca:function(pa){pa() && (null === ka || void 0 === ka?void 0:ka.release(),da.s_a(aa));},console:(0,D.Gf)(g.platform,this.console,("").concat(S))})};this.zf.push(aa);}Z=new X.Lib(aa,this.console,ba,ca,ka);Z.events.once("error",this.s_a.bind(this,aa,!1));return Z;};W.prototype.s_a=function(Z,ba){var ca,da,ia;void 0 === ba && (ba=!0);(0,u.assert)(Z,"expected viewableEntry to exist");ca=Z.gY;da=Z.M;ia=Z.ur;ba && (ca.YX(),da?da.La():ia.then(function(S){S.La();}));this.zf=this.zf.filter(function(S){return S !== Z;});};W.prototype.cD=function(Z,ba,ca,da,ia){var S,N;S=this;this.rN();N=ca.config;ca={S:ca.S,config:N,WC:ca.WC,Uv:ca.Uv,bd:this.YC.bd,Xl:this.YC.Xl,Nlc:{fL:function(){return S.Ss.el("networkFailureReset");},Yf:this.Yf.bind(this,Z),jy:this.jy.bind(this,Z)},Xda:{zx:this.zx.bind(this),My:this.My.bind(this),p9c:function(){return S.Ss.eGb;}},nU:this.g7,St:this.xC,$r:this.$r,Ss:this.Ss,dV:this.Bj,vn:da};Z=new l.Q5a(Z,ca,ia);N.GQ && (ia=(0,f.cc)(this.Nea,function(V){return V.qSb.equals(ba);})) && (ia=ia.A1a,this.JKb(ba),N.JK?Z.FQc(d.__assign(d.__assign({},ia),{KS:this.sta.bind(this)})):Z.Gwa(d.__assign(d.__assign({},ia),{KS:this.sta.bind(this)})));return Z;};W.prototype.nra=function(){var Z,ba,ca,da,ia;(0,u.assert)(this.state === h.VE.OPEN);Z=this.Epa();ba=this.d_();ca=this.SSa.Qmc(ba);da=ca.Hnb;ba=ca.PY;ia=ca.reason;ca=ca.MQb;return 0 < da.length?(Z=this.SSa.PGb(Z,da),!Z.Ef && 0 < ca?{Ef:!1,reason:Z.reason,PY:ba}:Z):0 < ca?((0,u.assert)("available" !== ia,"Unavailable streamables may not be available"),{Ef:!1,reason:ia,PY:ba}):{Ef:!1,reason:"noEligibleStreamables"};};W.prototype.d_=function(){var Z,ba,ca;Z=this;ca=null !== (ba=this.config.pJc) && void 0 !== ba?ba:this.Gt.every(function(da){return !da.Z.mo;});ba=(0,f.flatten)(this.Gt.map(function(da){return da.Z.d_().map(function(ia){da.Z.mo || 1 === da.Hda || (ia.EA=da.Hda);return ia;});}));this.e2a === h.Nga.disabled?ba=[]:this.e2a === h.Nga.RAc && (ba=ba.filter(function(da){return Z.config.WDb >= da.Eo - da.hp;}));ca || (ca=ba.filter(function(da){var ia;return 1 === (null !== (ia=da.EA) && void 0 !== ia?ia:1);}),ca.length && (ba=ca));ca=this.zf.reduce(function(da,ia){return ia.M?d.__spreadArray(d.__spreadArray([],d.__read(da),!1),d.__read(ia.M.d_()),!1):da;},[]);return (0,f.flatten)(d.__spreadArray(d.__spreadArray([],d.__read(ba),!1),d.__read(ca),!1));};W.prototype.rN=function(){if(this.$a === h.VE.CLOSED)throw Error("Engine CLOSED");};W.prototype.BMc=function(){var Z,da;try{for(var ba=d.__values(this.Gt),ca=ba.next();!ca.done;ca=ba.next()){da=ca.value;da.Rj.clear();this.sE(da.Z);}}catch(S){var ia;ia={error:S};}finally{try{ca && !ca.done && (Z=ba.return) && Z.call(ba);}finally{if(ia)throw ia.error;}}};W.prototype.AMc=function(){var Z;try{for(var ba=d.__values(this.R6),ca=ba.next();!ca.done;ca=ba.next())this.p_a(ca.value);}catch(ia){var da;da={error:ia};}finally{try{ca && !ca.done && (Z=ba.return) && Z.call(ba);}finally{if(da)throw da.error;}}};W.prototype.Yf=function(Z,ba){var ca;ba.J=Z;ca=!1;this.Pxb(Z).forEach(function(da){if(!ba.z2a || (0,q.zs)(da.ke.value))ca=da.Yf(ba);});return ca;};W.prototype.jy=function(Z){return this.Pxb(Z).some(function(ba){return ba.jy();});};W.prototype.Pxb=function(Z){return this.Gt.filter(function(ba){var ca;for(ba=ba.Z;ba.ya;)ba=ba.ya;ca=ba.Z;return Object.keys(ca.ba).some(function(da){return ca.ba[da].J === Z;});}).map(function(ba){return ba.Z;});};W.prototype.Epa=function(){var Z;Z=new H.u9a();this.Gt.forEach(function(ba){var ca,da;ca=ba.Z;ba=ba.Hda;da=ca.Epa();da.EA=ba;Z.add(ca.id,da);});return Z;};W.prototype.Dpa=function(){return this.tCc;};W.prototype.Z$b=function(){var Z,ba;ba=(0,Q.nac)(this.config,this.KX);return {total:(Z={},Z[q.u.U]=this.KX.video || Infinity,Z[q.u.X]=this.KX.audio || Infinity,Z[q.u.Da]=this.KX.text || Infinity,Z.total=this.KX.total || Infinity,Z),U1a:ba};};W.prototype.zx=function(Z){var ba;this.Ss.zx(Z);null === (ba=this.xC) || void 0 === ba?void 0:ba.zx(Z);};W.prototype.My=function(Z){this.Ss.My(Z);};W.prototype.cYa=function(){var Z;Z=this.jT.reduce(function(ba,ca){return Math.max(ca.weight,0) + ba;},0);this.Gt.forEach(function(ba){ba.Hda=0 >= ba.Z.weight?0:ba.Z.weight / Z;});};W.prototype.ANc=function(Z){var ba;ba=this;this.xC && (Z.requests.forEach(function(ca){return ba.xC.My(ca);}),this.zf.forEach(function(ca){var da;return null === (da=ca.M) || void 0 === da?void 0:da.$Nc();}),this.Ss.el("prunedRequest"));};W.WDc=0;d.__decorate([(0,y.gb)({methodName:"open"})],W.prototype,"open",null);d.__decorate([(0,y.gb)({methodName:"addPlaygraph",context:function(Z){var ba,ca;return {playgraphCount:null !== (ca=null === (ba=Z.nGb.Gt) || void 0 === ba?void 0:ba.length) && void 0 !== ca?ca:0};}})],W.prototype,"z7",null);d.__decorate([(0,y.gb)({methodName:"removePlaygraph",context:function(Z){return {playgraphCount:Z.nGb.Gt.length};}})],W.prototype,"sE",null);d.__decorate([(0,y.gb)({methodName:"close"})],W.prototype,"close",null);d.__decorate([(0,y.gb)({methodName:"setStreamingMode",Lm:!0})],W.prototype,"KQc",null);d.__decorate([(0,y.gb)({methodName:"setConcurrentStreamingDevice",Lm:!0})],W.prototype,"SPc",null);d.__decorate([(0,y.gb)({methodName:"notifyAseException",Lm:!0})],W.prototype,"sta",null);d.__decorate([(0,y.gb)({methodName:"updateViewable"})],W.prototype,"Z2",null);d.__decorate([(0,y.gb)({methodName:"requestViewable"})],W.prototype,"Xq",null);d.__decorate([(0,y.gb)({methodName:"removeViewable"})],W.prototype,"s_a",null);d.__decorate([(0,y.gb)({methodName:"createViewable"})],W.prototype,"cD",null);d.__decorate([(0,y.gb)({methodName:"issueRequestOpportunity",Te:!0,return:!0})],W.prototype,"nra",null);d.__decorate([(0,y.gb)({methodName:"reportStreamingFailure",Lm:!0})],W.prototype,"Yf",null);return W;})();b.g5a=t;},66701:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.mY=function(f,g){var e,h;e=[function(k){return new (c.rza.bind.apply(c.rza,d.__spreadArray([void 0],d.__read(k.EIc),!1)))();}];h=a(79).jqb;f.CQ && e.unshift(function(k,l){return h(k,l);});f.oA && e.unshift(function(k,l){return h(k,l);});f.hD && e.unshift(function(k,l){return h(k,l);});return n.$E.tL({EIc:g},e);};d=a(22970);n=a(91176);c=a(34434);},66607:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.FNa=function(e,h,k){var l,m,p,q,r;l=[function(u){return new (f.sza.bind.apply(f.sza,d.__spreadArray([void 0],d.__read(u.iT),!1)))();}];m=(0,g.Vf)({Z:h[0]});c.l && k.trace("Creating playgraph",{ycd:m,cQ:e.CQ,Kb:e.hD,fad:e.oA});if(e.CQ){p=a(25750);l.unshift(function(u,v){return p.sK({},u,v);});}if(e.oA){q=a(19921);l.unshift(function(u,v){return q.sK({},u,v);});}if(e.hD){r=a(86681);l.unshift(function(u,v){return r.sK({},u,v);});}return n.$E.tL({iT:h,vX:[]},l);};d=a(22970);n=a(91176);c=a(48170);f=a(62819);g=a(28871);},358:function(t,b,a){var c,f,g,e,h;function d(k,l,m){if("function" === typeof k.set)0 === k.set(l) && m.trace("Invalid keys" + JSON.stringify(Object.keys(l)));else for(m in (m=void 0,l))k[m]=l[m];}function n(k,l){var m,p,u;p={};try{for(var q=c.__values(k),r=q.next();!r.done;r=q.next()){u=r.value;void 0 !== l[u] && (p[u]=l[u]);}}catch(w){var v;v={error:w};}finally{try{r && !r.done && (m=q.return) && m.call(q);}finally{if(v)throw v.error;}}return p;}Object.defineProperties(b,{__esModule:{value:!0}});b.p7a=void 0;c=a(22970);f=a(7675);g=a(36948);e=a(64396);t=(function(){function k(l,m){this.CLa=l;this.console=m;this.mya=new WeakMap();this.isa=new WeakMap();this.console.trace("Created config manager with base config" + JSON.stringify(l));}k.prototype.rqc=function(){var l;l=(0,f.MEc)(this.CLa.Qtc);if(void 0 === l || 0 === Object.keys(l).length)return (this.console.warn("ConfigManager: No globalConfigMutationAllowList found in base config,                 no manifest config will override global config."),{});this.console.trace("ConfigManager global config override allowed properties: " + JSON.stringify(l));return l;};k.prototype.PQc=function(l,m){this.mya.has(l) && this.console.trace("Updating existing viewable config for " + l);this.mya.set(l,m);};k.prototype.Hyb=function(l){if(this.mya.has(l))return this.mya.get(l);this.console.warn("ConfigManager: No viewable config found for " + l.R);return this.CLa;};k.prototype.rQc=function(l,m,p){var q;q=this.Hyb(l);p=this.RWc(q,p);m=this.SWc(q,p,m);this.isa.has(l) && this.console.trace("Updating existing manifest config for " + l);this.isa.set(l,m);};k.prototype.ERa=function(l){if(this.isa.has(l))return this.isa.get(l);this.console.warn("ConfigManager: No manifest config found for " + l.R);return this.Hyb(l);};k.prototype.v1a=function(l){var m;l=null === (m=l.steeringAdditionalInfo) || void 0 === m?void 0:m.b2a;return void 0 !== l && 0 < Object.keys(l).length;};k.prototype.RWc=function(l,m){l=Object.create(l);l.set?(l.set({QB:m.QB}),l.set({MI:!!m.St})):(l.QB=m.QB,l.MI=!!m.St);return l;};k.prototype.SWc=function(l,m,p){var q,r,u,v,w,x,y;q=this;p=p.steeringAdditionalInfo;if(!p)return m;r=p.streamingClientConfig;u=this.rqc();v=n(h,p);if(!r || (0,e.iUa)(r) && (0,e.iUa)(v))return m;w=Object.create(m);x=Object.keys(g.hNa).reduce(function(A,z){var B;B=g.hNa[z][0];Array.isArray(B)?B.forEach(function(C){return A[C]=z;}):(B=Array.isArray(B)?B[0]:B,A[B]=z);return A;},{});m=Object.keys(c.__assign(c.__assign({},r),v)).filter(function(A){return void 0 !== x[A];});y={};m.forEach(function(A){var z,B,C;B=x[A];if(void 0 !== w[B]){C=null !== (z=r[A]) && void 0 !== z?z:v[A];z=void 0;"number" === typeof w[B]?z=Number(C):"boolean" === typeof w[B]?z="true" === C:"string" === typeof w[B]?z=C:q.console.trace("Unsupported type for" + A);q.console.trace("ConfigManager Updating value for key " + A + " from " + w[B] + " to " + z);y[B]=z;}else q.console.trace("Invalid key" + A);});0 < Object.keys(y).length && (m=m.filter(function(A){return void 0 !== u[A] && void 0 !== y[u[A]];}).reduce(function(A,z){A[u[z]]=y[u[z]];return A;},{}),d(w,y,this.console),d(l,m,this.console));return w;};return k;})();b.p7a=t;h=["liveEdgeCushionWithSpreadMs"];},60069:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.P$=function(){var f;if(!c){f=new d.platform.Console("ASEJS","media|asejs");c=new n.g5a(f);}return c;};b.Scd=function(){c=void 0;};d=a(66164);n=a(29088);},27459:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dfb=void 0;t=(function(){function a(d){this.el=d.el;this.uD=this.Zvc();}a.prototype.z7=function(d){d.events.on("requestsPruned",this.uD);};a.prototype.sE=function(d){d.events.removeListener("requestsPruned",this.uD);};a.prototype.Zvc=function(){var d;d=this;return function(){return d.el();};};return a;})();b.dfb=t;},23102:function(t,b,a){var n,c,f,g;function d(){return n.__awaiter(this,void 0,void 0,function(){var e;return n.__generator(this,function(h){switch(h.label){case 0:return [4,Promise.resolve().then(function(){return n.__importStar(a(60069));})];case 1:return (e=h.T().P$,[2,e()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.Ipa=function(e){var h;h=new c.platform.Console("ASEJS","media|asejs");g || (g=new f.nfb(function(){return d();},e,h));return g;};n=a(22970);c=a(66164);f=a(91961);},61567:function(t,b,a){var n;function d(c,f,g,e){return c && f?Math.min(c - f * g,c - e):(c || Infinity) - e;}Object.defineProperties(b,{__esModule:{value:!0}});b.nac=function(c,f){var g,e,h,k,l,m,p,q;q=d(f.audio,f.G5c,c.kNa,null !== (e=c.pqb) && void 0 !== e?e:0);e=d(f.video,f.gfd,c.kNa,null !== (h=c.rqb) && void 0 !== h?h:0);h=d(f.text,f.ied,c.kNa,null !== (k=c.qqb) && void 0 !== k?k:0);return (g={},g[n.u.X]=q,g[n.u.U]=e,g[n.u.Da]=h,g.total=(f.total || Infinity) - (null !== (l=c.pqb) && void 0 !== l?l:0) - (null !== (m=c.rqb) && void 0 !== m?m:0) - (null !== (p=c.qqb) && void 0 !== p?p:0),g);};n=a(65161);},11177:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Lib=void 0;d=a(22970);n=a(90745);c=a(91176);f=a(48170);g=a(95407);t=(function(){function e(h,k,l,m,p){var q;q=this;this.pga=h;this.console=k;this.Z7b=l;this.dm=m;this.lHc=p;this.events=new n.EventEmitter();this.ll=h.$A.Yz();this.C3b=(0,c.Hra)(function(){return (function(){return d.__awaiter(q,void 0,void 0,function(){var r,u;return d.__generator(this,function(v){switch(v.label){case 0:return (v.tc.push([0,2,,3]),[4,this.pga.ur]);case 1:return [2,v.T()];case 2:throw (r=v.T(),g.sC.zUa(r) && this.Z7b.Yf({J:this.dm.J,Ti:r.message,UYa:r}),f.l && this.console.trace("Removing broken viewable entry due to error",this.dm),this.events.emit("error",{error:r}),null === (u=this.lHc) || void 0 === u?void 0:u.release(),r);case 3:return [2];}});});})();});}Object.defineProperties(e.prototype,{M:{get:function(){var h;return null === (h=this.pga) || void 0 === h?void 0:h.M;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{ur:{get:function(){return this.C3b();},enumerable:!1,configurable:!0}});return e;})();b.Lib=t;},67164:function(t,b,a){var n;function d(c,f){var g;void 0 === f && (f=d);g="";c.rA && (g=null === c || void 0 === c?void 0:c.rA.map(f).reduce(function(e,h){return ("").concat(e,",").concat(h);}));return ("").concat(null === c || void 0 === c?void 0:c.name,"::").concat(null === c || void 0 === c?void 0:c.message,"::{").concat(null === c || void 0 === c?void 0:c.stack,"}[").concat(g,"]");}Object.defineProperties(b,{__esModule:{value:!0}});b.B3=void 0;n=a(22970);t=(function(c){function f(g,e){g=c.call(this,f.soc(g,e)) || this;g.Q2b=e;g.name="AggregateError";return g;}n.__extends(f,c);f.soc=function(g,e){return e.reduce(function(h,k){return ("").concat(h,"\n").concat(k);},g);};f.stringify=function(g){return d(g);};Object.defineProperties(f.prototype,{rA:{get:function(){return this.Q2b;},enumerable:!1,configurable:!0}});return f;})(Error);b.B3=t;},83906:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(32973),b);t.__exportStar(a(16816),b);},32973:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},16816:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});t=b.cO={};t[t.$ed=0]="userSeek";t[t.mJc=1]="prefetchReset";t[t.Gna=2]="destruction";t[t.LBb=3]="jitPlaygraphUpdate";},63251:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},7042:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},43520:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},20271:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});t=b.vt={};t[t.CLOSED=0]="CLOSED";t[t.OPEN=1]="OPEN";t[t.cq=2]="STREAMING";},89577:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},8743:function(t,b){var a,d;Object.defineProperties(b,{__esModule:{value:!0}});b.VE=b.Nga=void 0;(function(n){n[n.default=0]="default";n[n.disabled=1]="disabled";n[n.RAc=2]="lowCpuPlaybackStarting";})(a || (b.Nga=a={}));(function(n){n[n.CLOSED=0]="CLOSED";n[n.OPEN=1]="OPEN";})(d || (b.VE=d={}));},51308:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Lc=void 0;t=a(22970);t.__exportStar(a(8743),b);t.__exportStar(a(43520),b);t.__exportStar(a(20271),b);t.__exportStar(a(89577),b);t.__exportStar(a(41186),b);t.__exportStar(a(83906),b);t.__exportStar(a(16816),b);t.__exportStar(a(85178),b);t.__exportStar(a(63251),b);t.__exportStar(a(35963),b);t.__exportStar(a(7042),b);d=a(91967);Object.defineProperties(b,{Lc:{enumerable:!0,get:function(){return d.Lc;}}});},41186:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},85178:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},16756:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});t=b.Mga={};t[t.start=0]="start";t[t.end=1]="end";},86003:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},46062:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},97627:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},9980:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(16756),b);t.__exportStar(a(97627),b);t.__exportStar(a(86003),b);t.__exportStar(a(46062),b);},35963:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(22970).__exportStar(a(9980),b);},8171:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.cx=void 0;d=a(66164);n=a(65167);t=(function(){function c(f){f=("(").concat(f,")");this.console=new d.platform.Console("ASEJS","media|asejs",f);this.xWa=[];}c.prototype.qD=function(f){var g;if(!this.xWa[f]){g=("[").concat(f,"]");this.xWa[f]=(0,n.Gf)(d.platform,this.console,g);}return this.xWa[f];};return c;})();b.cx=new t(0);},6200:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L,K;function d(M,P,I){return M.M.Eb?new A.Lab(M,P,I):new y.odb(M,P,I);}Object.defineProperties(b,{__esModule:{value:!0}});b.Q5a=b.SHa=b.SYb=void 0;n=a(22970);c=a(90745);f=a(91176);g=a(66164);e=a(24473);h=a(62333);t=a(81392);k=a(83744);l=a(79857);m=a(18905);p=a(65161);q=a(52571);a(69575);r=a(24251);u=a(444);v=a(97757);w=a(8149);x=a(76452);y=a(1913);A=a(92945);z=a(91967);B=a(28057);C=a(24940);D=a(94810);E=a(31303);H=a(39795);F=a(66133);G=a(27457);J=a(34012);L=(function(){return function(M){this.mediaType=M;this.yCb=void 0;};})();b.SYb=L;(function(M){M[M.iZb=0]="NO_DATA";M[M.$0b=1]="SWITCHABLE";M[M.gZb=2]="NONSWITCHABLE";M[M.Y3c=3]="SWITCHABLE_AND_NONSWITCHABLE";})(K || (b.SHa=K={}));a=(function(M){function P(I,O,Q){var T,U,X,Y,W,Z,ba,ca,da,ia,S,N,V,aa,fa,ha,ka,pa,oa,la,R,ea,ja,sa,ta,qa,Aa,Ga;U=O.S;X=O.WC;Y=O.Uv;W=O.config;Z=O.Xda;ba=O.bd;ca=O.Xl;da=O.Nlc;ia=O.nU;S=O.St;N=O.$r;V=O.dV;O=O.vn;R=M.call(this) || this;R.J=I;R.Xj=Q;R.uzb=!1;R.ijb=K.iZb;R.CJ={};R.So={};R.ikb={};R.cB=(T={},T[p.u.X]={},T[p.u.U]={},T[p.u.Da]={},T[p.u.um]={},T);R.Ya=[];R.Wwa=[];R.zK=[];R.vka=!1;R.rta=!1;R.SXc=[new L(p.u.X),new L(p.u.U),new L(p.u.Da)];R.Ze=new z.fja(W,R.console);R.jkb=U;R.vJa=null !== O && void 0 !== O?O:-1;R.console=new g.platform.Console("ASEJS","media|asejs","<" + String(R.J) + ">");R.console.trace("creating viewable:",I);R.$r=N;W.MRb?(I={QB:ia,St:S},R.$r.PQc(R,W),R.$r.rQc(R,U,I),R.config=R.$r.ERa(R)):R.config=W;R.Nq=new E.gbb(R,R.config);R.hAc=null !== (fa=null === (aa=U.steeringAdditionalInfo) || void 0 === aa?void 0:aa.XRc) && void 0 !== fa?fa:void 0;R.events=new c.EventEmitter();R.KA=new H.g$a(R,R.console,R.config,function(na){return R.events.emit("logdata",na);},function(na){return R.events.emit("transportReport",na);});R.bd=ba;R.Xda=Z;R.nU=ia;R.xC=S;R.WC=X;R.Uv=!!Y;ea=[[],[],[],[]];ja=[{},{},{},{}];sa=[0,0];ta=!1;R.Oc=new G.Yab(R,R.config,R.console);R.Lq=R.qUa;if(R.Eb)Aa=U.Ji.maxBitrate;["audio_tracks","video_tracks",,"mediaEventTracks"].forEach(function(na,va){na && R.S[na] && R.S[na].forEach(function(xa,ra){if(xa.type !== p.u.X || !xa.gy && !1 !== xa.ff)(ra=d({M:R,Uj:xa,mediaType:va,Uv:R.Uv,BN:ra,SJ:ra + (va === p.u.X?R.S.video_tracks.length:0),dS:Aa},R.config,R.console),va === p.u.U && W.blc && new r.R5a(W).DKc(ra.Gd),va === p.u.U && (qa=u.BF.from({Ay:xa.bca,Mv:xa.aca})),ea[va].push(ra),ja[va]=n.__assign(n.__assign({},ja[va]),ra.xR()),ra.maxBitrate > sa[ra.mediaType] && (sa[ra.mediaType]=ra.maxBitrate),ta=ta || ra.np);});});R.Eb && R.S.timedtexttracks.forEach(function(na,va){var xa;if(!na.gy && !1 !== na.ff){xa=p.u.Da;na=d({M:R,Uj:na,mediaType:xa,Uv:!1,BN:va,SJ:va},R.config,R.console);ea[xa].push(na);ja[xa]=n.__assign(n.__assign({},ja[xa]),na.xR());}});R.S.Jd && ((0,q.assert)(qa,"Should have video track if there are adverts"),R.Jd=n.__assign(n.__assign({},R.S.Jd),{lb:(null === (ha=R.S.Jd.lb) || void 0 === ha?void 0:ha.map(function(na,va){var xa,ra;ra=qa.normalize(na.kw);va=n.__assign(n.__assign({},na),{Yb:va,yj:na.kw,kw:ra.G,duration:(null === (xa=na.Kb) || void 0 === xa?void 0:xa.reduce(function(ya,Ca){return ya.add(f.I.Ca(Ca.cb - Ca.Ta));},f.I.ia)) || f.I.ia,location:ra,ey:!!na.Kb,Qm:!!na.Yk,source:"viewable",y_:!1,Ga:ra,type:"dynamic"});na.Kb !== na.ads && (va.unnormalizedLocationMs=va.yj,va.locationMs=va.kw,va.location=va.location,va.contentTimestamp=va.Ga,va.type=va.type);return va;})) || []}));R.Vi=new m.r5(R.S,ja,ba,ca,R.config,function(na){return R.events.emit("logdata",na);});R.Eb && (R.OL=new l.Rab(R.console,R.config,R,R.KA));X=da.fL;Y=da.jy;R.uP=da.Yf;R.jy=Y;R.fL=X;R.jka=new k.X8a(R.Daa,R.Vi,R.config,R.Ztc.bind(R),R.Ytc.bind(R),R.c2.bind(R));R.jka.events.addListener("requestError",function(na){R.Eb && R.config.bAc && 404 === na.xk && R.Nq.wLb();});R.XO=ea;R.ixa=ja;R.VL=sa;R.np=ta;R.YB=n.__spreadArray([],n.__read(U.N2a || []),!1);R.Wma=R.Mcc();if(R.Eb && (null === (ka=ea[p.u.um]) || void 0 === ka?0:ka.length) && R.config.cZ && void 0 !== U.$_){da=ea[p.u.um][0].O;void 0 !== da && U.$_.O !== da && (R.console.warn("MediaEventsStore: MediaEvents history timescale does not match track timescale",{T9c:U.$_.O,Fed:da}),U.$_.O=da);R.fh=new x.ccb(V,R,R.config,U.$_);if(R.Jd && (null === (oa=null === (pa=R.fh.model) || void 0 === pa?void 0:pa.Koa) || void 0 === oa?0:oa.xn)){Ga=null === (la=R.fh.model.Koa.xn) || void 0 === la?void 0:la.Ga;R.Jd.lb.forEach(function(na){na.Ga=na.location.add(Ga);na.Kb !== na.ads && (na.contentTimestamp=na.Ga);});}R.Ze.Sc(new B.acb(R.fh.$n));}R.Ze.Sc(new J.r7a(R.Wma));R.Ywc && (R.Pjc=(0,D.tAc)(R.config).then(function(na){return n.__awaiter(R,void 0,void 0,function(){return n.__generator(this,function(){this.Vjc=na.Kqa({DLa:this.config.UOa});return [2,na];});});}));return R;}n.__extends(P,M);Object.defineProperties(P.prototype,{yL:{get:function(){return this.Oc.yL();},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{S:{get:function(){return this.jkb;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{Eb:{get:function(){return (0,f.RA)(this.S.yf);},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{zD:{get:function(){return (0,f.zD)(this.S.yf);},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{qUa:{get:function(){var I;return this.Eb && !(null === (I=this.oj) || void 0 === I?0:I.endTime);},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{R:{get:function(){return this.S.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{Yr:{get:function(){return this.S.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{duration:{get:function(){return this.S.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{kn:{get:function(){return this.vka;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{St:{get:function(){return this.xC;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{kZ:{get:function(){(0,q.assert)(this.jka,"ErrorDirector is not available on old architecture prefetch viewables.");return this.jka;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{PQ:{get:function(){return this.kZ.events;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{Qf:{get:function(){return this.Nq.Qf;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{oj:{get:function(){return this.CJ;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{aAc:{get:function(){return this.ikb;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{CX:{get:function(){return this.ijb;},set:function(I){this.ijb=I;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{UA:{get:function(){var I,O;return (null === (O=null === (I=this.S.CE) || void 0 === I?void 0:I.mN) || void 0 === O?void 0:O.UA) || !1;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{vn:{get:function(){return this.vJa;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{Daa:{get:function(){return !!this.xba;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{xba:{get:function(){var I;return this.Eb?this:null === (I=this.Xj) || void 0 === I?void 0:I.xba;},enumerable:!1,configurable:!0}});Object.defineProperties(P.prototype,{Ywc:{get:function(){return this.config.fS?this.Eb:!1;},enumerable:!1,configurable:!0}});P.prototype.v1a=function(){return this.config.MRb?this.$r.v1a(this.S):!1;};P.prototype.La=function(){this.events.emit("destructed",{M:this});this.close();this.Se();};P.prototype.ZAb=function(I){I=this.Lpa(p.u.U,I);return !(null === I || void 0 === I || !I.rEb);};P.prototype.close=function(){var I,O;this.zK=[];null === (I=this.jka) || void 0 === I?void 0:I.La();this.Vi.La();null === (O=this.fh) || void 0 === O?void 0:O.La();this.vka=!0;};P.prototype.Se=function(){var I;this.KA.Se();null === (I=this.OL) || void 0 === I?void 0:I.Se();};P.prototype.Z2=function(I){var O,Q,T;O=this;Q=I.S;I=I.WC;if(this.Eb)T=Q.Ji.maxBitrate;(0,q.assert)(I === this.WC,"Updating Viewable clearplay not supported");(0,q.assert)(Q.movieId === this.S.movieId,"Changing Viewable manifest movieId unsupported");["audio_tracks","video_tracks"].forEach(function(U,X){var Y,W;Y=Q[U];W=O.XO[X];(0,q.assert)(W.every(function(Z){var ba;ba=Y[Z.BN];return ba && ba.ot === Z.trackId && (ba.type === p.u.U || !1 !== ba.ff);}),"Existing tracks must still exist and be hydrated in updated manifest");Y.forEach(function(Z,ba){var ca,da;if(Z.type !== p.u.X || !Z.gy && !1 !== Z.ff){ca=O.getTrackById(Z.ot);if(ca){(0,w.po)(ca) && (ca.dS=T,ca.g2(z.SO.S,T));Z=Z.streams;da=Object.keys(ca.xR());(0,q.assert)(Z.length === da.length,"Expected updated manifest track to have same number of streams");Z.forEach(function(ia){ia=ia.downloadable_id;(0,q.assert)(-1 !== da.indexOf(ia),"Changing Viewable track streams unsupported");});}else (ca=d({M:O,Uj:Z,mediaType:X,Uv:O.Uv,BN:ba,SJ:ba + (X === p.u.X?O.S.video_tracks.length:0),dS:T},O.config,O.console),W.push(ca),O.ixa[X]=n.__assign(n.__assign({},O.ixa[X]),ca.xR()),ca.maxBitrate > O.VL[ca.mediaType] && (O.VL[ca.mediaType]=ca.maxBitrate),(0,q.assert)(O.np || !ca.np,"Can not update clear viewable with drm track."));}});});this.jkb=Q;this.Vi.ZJ(this.S,this.ixa);};P.prototype.Gwa=function(I){var O,Q,T;O=I.Lf;Q=I.Ia;T=I.KY;I=I.KS;O && Q?this.j2=new e.Pgb(O,{Ia:String(Q),KY:!!T,cCc:this.config.fW.mx,Y9b:this.config.fW.lv,gHc:this.config.tHb,GK:this.config.GK},I):this.rta || (I("SideChannel: pbcid/xid is missing."),this.rta=!0);};P.prototype.FQc=function(I){var O,Q,T;O=I.Lf;Q=I.Ia;T=I.KY;I=I.KS;O && Q?(Q={sessionId:String(Q),KY:!!T,bEc:this.config.Etb?this.config.Fca:void 0,SNc:this.config.tHb},(this.NB=this.Eb?(0,h.Rfc)(O,Q,this.ruc.bind(this),this.config.FY,this.console):(0,h.Bgc)(O,Q,void 0,this.console)) && this.NB.Sc(this.Ze)):this.rta || (I("SideChannelCoordinator: pbcid/xid is missing."),this.rta=!0);};P.prototype.ruc=function(I,O){var Q,T,U,X,Y,W,Z,ba,ca,da,ia,S,N;void 0 !== (null === (Q=I.response) || void 0 === Q?void 0:Q.Qf) && void 0 !== O.jn && this.Wfa(I.response.Qf,O.jn);((null === (T=I.title) || void 0 === T?0:T.Rra) || (null === (U=I.title) || void 0 === U?0:U.Qra)) && this.Sxa(null === (X=I.title.Rra) || void 0 === X?void 0:X.time,null === (Y=I.title.Qra) || void 0 === Y?void 0:Y.time);I.Ma && O.mediaType && this.mRb(O.mediaType,{co:I.Ma.co,bo:I.Ma.bo,swa:O.ci,ob:O.Ra});if(void 0 !== (null === (W=I.title) || void 0 === W?void 0:W.maxBitrate)){N=I.title.maxBitrate;0 < N && this.getTracks(p.u.U).forEach(function(V){(0,w.po)(V) && (V.dS=N,V.g2(z.SO.WNb,N));});}void 0 !== (null === (ba=null === (Z=I.title) || void 0 === Z?void 0:Z.qT) || void 0 === ba?void 0:ba.time) && void 0 !== (null === (ca=I.title) || void 0 === ca?void 0:ca.oT) && this.X2("prefetch",I.title.qT.time,String(I.title.oT));void 0 !== (null === (ia=null === (da=I.title) || void 0 === da?void 0:da.lT) || void 0 === ia?void 0:ia.time) && void 0 !== (null === (S=I.title) || void 0 === S?void 0:S.kT) && this.X2("execute",I.title.lT.time,String(I.title.kT));};P.prototype.eUa=function(){return void 0 !== this.Yr;};P.prototype.getTracks=function(I){return void 0 === I?(0,f.flatten)(this.XO):this.XO[I];};P.prototype.Lpa=function(I,O){I=this.getTracks(I);O=O.cU(this.S,I.map(function(Q){return Q.Uj;}));return "number" === typeof O && 0 <= O?I[O]:void 0;};P.prototype.getTrackById=function(I){var O;this.XO.some(function(Q){return Q.some(function(T){if(T.trackId === I)return (O=T,!0);});});O || this.console.warn("getTrackById not found:",I,"length:",this.XO.length);return O;};P.prototype.Ui=function(I,O){return (I=this.xR(I)) && I[O];};P.prototype.xR=function(I){return this.ixa[I];};P.prototype.gyc=function(I){var O,Q;if(void 0 === I.cva || void 0 === I.CZa){O=this.Vi.TZ().filter(function(T){return void 0 !== T.streams[I.Ra];})[0];Q=O.children.filter(function(T){return T.urls.some(function(U){return U.stream.id === I.Ra;});})[0];I.cva=O.id;I.CZa=Q.id;}return {RUa:I.location === I.cva,hyc:I.Ab === I.CZa};};P.prototype.c1a=function(I,O,Q){void 0 !== O && void 0 !== Q && (this.UKb(I.mediaType,O),I.c1a(O,Q));};P.prototype.UKb=function(I,O){var Q;Q=this.config.fta;("location" === Q || "video_location" === Q && I === p.u.U) && this.bd.Cwa(O);};P.prototype.Yf=function(I){(0,q.assert)(this.uP,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.uP(I);};P.prototype.pta=function(I,O){var Q;(0,q.assert)(!this.Eb,"Unexpected normalizeTimestamp. Live segments not supported. Use AsePlaygraph.normalizeLiveSegment() instead.");Q=this.Lpa(p.u.U,I[p.u.U]);Q || (this.console.trace("normalizeTimestamp looking for audio track in absense of video track"),Q=this.Lpa(p.u.X,I[p.u.X]));if(null !== Q && void 0 !== Q && Q.QA)return (I=f.I.Ca(O),O=Q.Rx(this.config,I,void 0,!0).qa,I.add(Q.QA.Ae).ln(O)?O:Q.PK(this.config,I).ta);};P.prototype.st=function(I){var O;O=this;if(this.kn)return (this.console.error("updateRequestUrls, closed Viewable:",this.J),!1);p.B5.forEach(function(Q){O.MWc(Q,I) && O.xWc(Q);});this.pWc();this.events.emit("urlsUpdated",{});return !0;};P.prototype.Rx=function(I,O,Q){Q=this.Lpa(p.u.U,Q);return (null === Q || void 0 === Q?void 0:Q.QA) && Q.Rx(I,O);};P.prototype.Wfa=function(I,O){this.Nq.Wfa(I,O);};P.prototype.CRa=function(){var I;I=this.getTracks();I=I[(0,f.Mm)(I,function(O){return O.mediaType === p.u.U;})];(0,q.assert)(I,"AseViewable.getLiveSegmentDuration(): No video track");(0,q.assert)((0,w.po)(I),"AseViewable.getLiveSegmentDuration(): Video stream undefined or not live");return I.al;};P.prototype.MWc=function(I,O){var Q;Q=this;return this.kn?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.Ya.reduce(function(T,U){return (0,f.yX)(T,U.ka.filter(function(X){return X.mediaType === I;}));},[]).map(function(T){return Q.Vi.Wxa(Q.J,T.Gd,void 0,O);}).every(function(T){return T;});};P.prototype.pWc=function(){(0,q.assert)(this.KA,"Headers not available on old architecture prefetch viewables.");this.KA.st();};P.prototype.xWc=function(I){var O,Q,X;Q=[];if(this.kn)this.console.warn("updateStreamUrls ignored, viewable cleaned up");else try{for(var T=n.__values(this.Ya),U=T.next();!U.done;U=T.next()){X=U.value.st(I);X.length && Q.push.apply(Q,X);}}catch(W){var Y;Y={error:W};}finally{try{U && !U.done && (O=T.return) && O.call(T);}finally{if(Y)throw Y.error;}}};P.prototype.ol=function(){var I;I=this;this.Vi.ol();(this.j2 || this.NB) && p.B5.forEach(function(O){I.c2("rebuffer",I.xxb(O).yCb);});};P.prototype.xxb=function(I){return this.SXc[I];};P.prototype.c2=function(I,O){var Q;if(this.config.GK){this.NB?Q=this.NB.nrb({h8:I}):this.j2 && (Q=this.j2.Xt({h8:I}));if(O && Q)try{new g.platform.Bl(void 0,"notification").open(O,void 0,2,void 0,void 0,void 0,Q);}catch(T){this.console.error("BlackBox notification failed:",T);}}};P.prototype.$Nc=function(){var I;if(0 !== this.Wwa.length){I=[];this.Wwa.forEach(function(O){O.resume() || I.push(O);});this.Wwa=I;}};P.prototype.rs=function(I,O){return this.KA.rs(I,O);};P.prototype.VMb=function(I,O,Q){this.zK.push({K:O,stream:I,etc:Q});};P.prototype.uKb=function(){this.zK=[];};P.prototype.GMc=function(I){this.zK=this.zK.filter(function(O){return O.stream !== I;});};P.prototype.FMc=function(I){this.zK=this.zK.filter(function(O){return O !== I;});};P.prototype.d_=function(){var I;I=this;return this.jy()?[]:this.zK.map(function(O){return new F.Mib(I,O);});};P.prototype.bC=function(I,O,Q){(0,q.assert)(this.KA,"Headers not available on old architecture prefetch viewables.");return this.KA.bC(I,O,Q);};P.prototype.dX=function(I,O){(0,q.assert)(this.KA,"Headers not available on old architecture prefetch viewables.");this.KA.dX(I,O);};P.prototype.auc=function(I){var O;O=I.mediaType;this.Ui(O,I.Ra).gWc(g.platform.SZ()[O],this.eUa()?this.config.IBc:0);this.events.emit("onHeaderFragments",I);};P.prototype.oMc=function(I){this.Ya.push(I);};P.prototype.TVc=function(I){I=this.Ya.indexOf(I);(0,q.assert)(-1 !== I,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Ya.splice(I,1);};P.prototype.$ta=function(I){var O;null === (O=this.Xda) || void 0 === O?void 0:O.zx(I);};P.prototype.OS=function(I){this.kn?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",I):void 0 !== I.location && this.UKb(I.mediaType,I.location);};P.prototype.$D=function(I){this.kn?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",I):(0,C.kUa)(I) && this.kZ.GN(I);};P.prototype.uo=function(I){var O;(0,C.Jwc)(I) && (null === (O=this.Xda) || void 0 === O?void 0:O.My(I));this.kn?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",I):this.jy() || (0,C.kUa)(I) && this.kZ.GN(I);};P.prototype.Q0=function(I,O,Q){var T;Q && (null === (T=this.Xda) || void 0 === T?void 0:T.My(I));};P.prototype.Fy=function(I){this.kn?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",I):(0,C.kUa)(I) && (this.kZ.fI(I,void 0,I.status,I.bh,I.Qg),this.st(I.stream) || this.Yf({Ti:I.jD || "unknown",iD:"NFErr_MC_StreamingFailure",PH:I.bh,xk:I.status,Qg:I.Qg,Ab:I.stream.Ab}));};P.prototype.aua=function(I){(0,C.Jxc)(I) && this.Wwa.push(I);};P.prototype.pJb=function(){var I,O;this.Sxa(null === (I=this.S.Ji) || void 0 === I?void 0:I.P9,null === (O=this.S.Ji) || void 0 === O?void 0:O.QQ,!0);};P.prototype.QLc=function(){this.So.prefetch && void 0 !== this.So.prefetch.startTime && void 0 !== this.So.prefetch.duration && this.X2("prefetch",this.So.prefetch.startTime,this.So.prefetch.duration,!1);this.So.execute && void 0 !== this.So.execute.startTime && void 0 !== this.So.execute.duration && this.X2("execute",this.So.execute.startTime,this.So.execute.duration,!1);};P.prototype.Sxa=function(I,O,Q,T){var U,X,Y,W,Z;(0,q.assert)(this.S.Ji,"Missing manifest liveMetadata.");Y=this.S.Ji;W=Y.P9;Z=Y.QQ;Y=this.oj;this.CJ={startTime:null !== (U=null !== W && void 0 !== W?W:I) && void 0 !== U?U:Y.startTime,endTime:null !== (X=null !== Z && void 0 !== Z?Z:O) && void 0 !== X?X:Y.endTime,KK:T};I=this.CJ.startTime !== Y.startTime;O=this.CJ.endTime !== Y.endTime;Y=this.zuc(Y);if(Q || I || O || Y)(this.events.emit("liveEventTimesUpdated",n.__assign({M:this},this.CJ)),this.QLc());(O || Y) && this.Ya.forEach(function(ba){ba.LM();});};P.prototype.mRb=function(I,O){if(this.cB[I].bo !== O.bo || this.cB[I].co !== O.co)(this.cB[I]=O,this.events.emit("liveLoggingInfoUpdated",{M:this,mediaType:I,info:O}));};P.prototype.X2=function(I,O,Q,T){var U,X,Y,W,Z;U=!this.So.execute || this.So.execute.startTime !== O || this.So.execute.duration !== Q || T;T=!this.So.prefetch || this.So.prefetch.startTime !== O || this.So.prefetch.duration !== Q || T;if(this.Oc.P9){X=this.Oc.qdc(O);Y=1E3 * Number(Q);W=Math.floor(Math.random() * Y) + X.G;X=X.G;Z="execute" === I?"ending":"prefetch";if("execute" === I && U || "prefetch" === I && T)(this.So[I]={startTime:O,duration:Q},this.ikb[I]={rawStartMs:X,rawEndMs:X + Y,selectedStartMs:W},this.YB=this.YB.filter(function(ba){return ba.type !== Z;}),this.YB.push({Wea:W,plc:W,type:Z}),this.events.emit("livePostplayUpdated",{M:this,lda:W,action:I}));}else this.console.warn("Received oc live message prior to event start, ignoring",{action:I,actionTime:O,duration:Q});};P.prototype.HXa=function(I,O){var Q;if(this.Eb && I.mediaType === p.u.X){O=(0,f.cc)(O.ka,function(T){return T.mediaType === p.u.U;});(0,q.assert)((0,w.po)(O),"onFirstFragmentReceived called with non-live branch");Q=O.Sx;I.lFc(O.Gk,this.config.PCb?Q:f.I.ia);this.Ya.forEach(function(T){return T.Xf?T.SU(I):T.Xf;});}};P.prototype.il=function(I){void 0 === I && (I=!1);return this.Oc.il(I);};P.prototype.ho=function(I){void 0 === I && (I=!1);return this.Oc.ho(I);};P.prototype.o$=function(){return this.Oc.o$();};P.prototype.f1a=function(I){this.Oc.f1a(I);this.fh && this.fh.Lnc();};P.prototype.Y_a=function(I){this.Oc.Y_a(I);};P.prototype.Ztc=function(I){var O,Q,T,U;if(!this.vka){O=I.ira;Q=I.IGc;T=I.KGc;U=I.LGc;I=I.Ab;this.console.warn("Streaming failure, is permanent: " + O + ", last error code: " + Q + ", last http code: " + T + ", last native code: " + U + ", server: " + I);O?(this.console.warn(" > Permanent failure, done"),O=this.Yf({Ti:"Permanent failure",iD:"NFErr_MC_StreamingFailure",PH:Q,xk:T,Qg:U,Ab:I})):(this.console.warn(" > We are buffering, calling it!"),O=this.Yf({Ti:"Temporary failure while buffering",iD:"NFErr_MC_StreamingFailure",PH:U,xk:T,Qg:U,z2a:!0,Ab:I}));O || (this.console.warn(" > Resetting failures"),this.kZ.K1());}};P.prototype.Ytc=function(){(0,q.assert)(this.fL,"Error handling not available on old architecture prefetch viewables.");this.vka || (this.st(),this.fL());};P.prototype.zuc=function(I){return I.KK && this.CJ.KK?this.CJ.KK < I.KK:this.CJ.KK !== I.KK;};P.prototype.Eob=function(I){var O,Q,T,U,X,Y,W,Z,ba,ia,V,ha,ka,pa,ea,ja;W=this;if(!I || 2 > I.length || !I.every(function(ta){return 0 < (W.XO[ta] || []).length;}))return !1;Z={};ba={};try{for(var ca=n.__values(I),da=ca.next();!da.done;da=ca.next()){ia=da.value;Z[ia]=new Set();ba[ia]={};try{for(var S=(Q=void 0,n.__values(this.XO[ia])),N=S.next();!N.done;N=S.next()){V=N.value;try{for(var aa=(U=void 0,n.__values(V.Gd)),fa=aa.next();!fa.done;fa=aa.next()){ha=fa.value;if(void 0 === ha.location || void 0 === ha.Ab){Z[ia]=new Set(["__invalid__"]);break;}Z[ia].add(ha.location);ka=ha.location;pa=ba[ia];(pa[ka]=pa[ka] || new Set()).add(ha.Ab);}}catch(ta){U={error:ta};}finally{try{fa && !fa.done && (X=aa.return) && X.call(aa);}finally{if(U)throw U.error;}}}}catch(ta){Q={error:ta};}finally{try{N && !N.done && (T=S.return) && T.call(S);}finally{if(Q)throw Q.error;}}}}catch(ta){var oa;oa={error:ta};}finally{try{da && !da.done && (O=ca.return) && O.call(ca);}finally{if(oa)throw oa.error;}}oa=I[0];Q=Array.from(Z[oa] || []);for(O=1;O < I.length;O++)if((T=Array.from(Z[I[O]] || []),0 < (0,f.Zo)(Q,T).length || 0 < (0,f.Zo)(T,Q).length))return !1;try{for(var la=n.__values(Q),R=la.next();!R.done;R=la.next()){ka=R.value;ea=Array.from(ba[oa][ka] || new Set()).slice().sort(function(ta,qa){return ta - qa;});Z=function(ta){var qa;qa=Array.from(ba[I[ta]][ka] || new Set()).slice().sort(function(Aa,Ga){return Aa - Ga;});if(ea.length !== qa.length || ea.some(function(Aa,Ga){return Aa !== qa[Ga];}))return {value:!1};};for(O=1;O < I.length;O++){ja=Z(O);if("object" === typeof ja)return ja.value;}}}catch(ta){var sa;sa={error:ta};}finally{try{R && !R.done && (Y=la.return) && Y.call(la);}finally{if(sa)throw sa.error;}}return !0;};P.prototype.Mcc=function(){var I,O,Q,T,X,Y,ba;Q=this.config.eAc || [];T={};if(!this.Eb || 0 === Q.length)return T;for(var U=0;U < Q.length;U++){X=Q[U];if(this.Eob(X)){Y=X[0];try{for(var W=(I=void 0,n.__values(X)),Z=W.next();!Z.done;Z=W.next()){ba=Z.value;ba !== Y && (T[ba]=Y);}}catch(ca){I={error:ca};}finally{try{Z && !Z.done && (O=W.return) && O.call(W);}finally{if(I)throw I.error;}}}}return T;};P.prototype.ypc=function(I){var O;O=this.Wma;return O && void 0 !== O[I]?O[I]:I;};return P=n.__decorate([v.GZ],P);})(t.WN);b.Q5a=a;},26286:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.y6a=void 0;d=a(22970);n=a(91176);c=a(66164);t=(function(){function f(g,e,h,k,l,m){this.J=g;this.iI=e;this.RH=h;this.vGc=k;this.bYa=l;this.y$=m;this.aKa=new n.Ko();}Object.defineProperties(f.prototype,{M:{get:function(){var g;return null === (g=this.qga) || void 0 === g?void 0:g.M;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ur:{get:function(){return this.aKa.promise;},enumerable:!1,configurable:!0}});f.prototype.La=function(){var g;this.M && (this.M.TVc(this.pa),this.bYa(this.M));null === (g=this.qga) || void 0 === g?void 0:g.ll.release();this.qga=void 0;};f.prototype.lqa=function(){return this.iI.lqa(this.J);};f.prototype.Ob=function(g,e){return d.__awaiter(this,void 0,void 0,function(){var h,k,l,m,p,q,r,u,v;return d.__generator(this,function(w){switch(w.label){case 0:return (this.pa=g,this.iI.lqa(this.J) || !e?[3,2]:[4,e()]);case 1:h=w.T();if(g.Zc)throw Error("Branch cancelled");w.label=2;case 2:k=this.y$();l=this.iI.Xq(this.J,k);m=l.ur;p=l.M;q=l.ll;this.qga={ll:q,M:p};r={GB:c.platform.time.ha(),IB:void 0};if(p)return (r.IB=r.GB,this.bAb(p,g,h,r,!1),this.aKa.resolve(p),[2,p]);w.label=3;case 3:return (w.tc.push([3,5,,6]),[4,m]);case 4:return (u=w.T(),r.IB=c.platform.time.ha(),[3,6]);case 5:throw (v=w.T(),r.IB=c.platform.time.ha(),this.vGc(g,v,h,r),v);case 6:return (this.aKa.resolve(u),this.bAb(u,g,h,r,!0),[2,u]);}});});};f.prototype.bAb=function(g,e,h,k,l){this.qga && (this.qga.M=g,g.oMc(e),this.RH(e,g,h,k,l));};return f;})();b.y6a=t;},39795:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.g$a=void 0;d=a(22970);n=a(66164);c=a(8171);f=a(35018);g=a(65161);t=a(81392);e=a(52571);h=a(42431);a=(function(k){function l(m,p,q,r,u){var v;v=k.call(this,m) || this;v.M=m;v.console=p;v.config=q;v.rXa=r;v.rQa=u;v.headers=[Object.create(null),Object.create(null)];v.lCb=[void 0,void 0];v.rv=void 0;return v;}d.__extends(l,k);Object.defineProperties(l.prototype,{Bd:{get:function(){return this.rv || (this.rv=this.bD());},enumerable:!1,configurable:!0}});l.prototype.Se=function(){var m;m=this;this.headers.forEach(function(p,q){for(var r in p)(p[r].Se(),m.oOa(q,r));});this.rv && h.XI.instance.m9(this.rv);this.rv=void 0;};l.prototype.rs=function(m,p){return this.headers[m][p];};l.prototype.bC=function(m,p,q){var r,u,v,w;r=this.config;if(this.rs(m.mediaType,m.Ra))return !1;u=this.Myc;v=this.Nyc;if(void 0 !== r.LWa && void 0 !== u && void 0 !== v){w=n.platform.time.ha();if(w - u < r.LWa || w - v < r.LWa)return !1;}m=this.xVc(m,p,q);this.Nyc=n.platform.time.ha();return m;};l.prototype.xVc=function(m,p,q){var r;r=m.mediaType;c.cx.qD(r);if(this.rs(r,m.Ra))m=!1;else {p={K:p,offset:0,ma:this.lZ(m)};q || (q=this.Bd);(0,e.assert)(q);m.Ba && q.track.tPb && (p.offset=0,p.ma=0);m.url && (this.M.xxb(r).yCb=m.a_(!0));if(!this.Dfc(m,q,p).open())return (this.M.Yf({Ti:"MediaRequest open failed (2)",iD:"NFErr_MC_StreamingFailure"}),!1);m=!0;}return m;};l.prototype.st=function(){var m,p;m=this;p=[];this.headers.forEach(function(q,r){var v;c.cx.qD(r);for(var u in q){r=q[u];v=r.F3a();1 === v?p.push(r):2 === v && m.M.Yf({Ti:"swapUrl failure"});}});return p;};l.prototype.uo=function(m,p){var q,r;if(m instanceof f.nza){q=m.mediaType;r=c.cx.qD(q);this.M.kn?r.warn("header onrequestcomplete ignored, session shutdown:",m.toString()):(this.rXa({type:"logdata",target:"startplay",Nc:{usedNativeDataView:m.fXc}}),m.sua > m.iYa && (this.lCb[q]=m.sua),this.huc(m),this.Myc=n.platform.time.ha());this.ZQ(m,p);}};l.prototype.dX=function(m,p){var q,r,u;q=this.headers[m];for(r in q){u=q[r];u && !u.stream.eh && u.gg === p && (this.oOa(m,r),u.Se());}};l.prototype.bD=function(){var m,p,q,r;m=this;p=this.M.R;q="headers";this.config.CLb && this.M.UA && this.M.Xj && (p=this.M.Xj.R,this.config.kAc && this.M.Eob([g.u.U,g.u.X]) && (q=g.u.U));r=h.XI.instance.bD(q,p,!0,!1,{},this.config);r.on("error",function(){m.console.error("headerManager.createRequestQueue: error on request queue",r.bh,r.Qg);});r.on("transportreport",function(u){u.joa=m.M.Nq.LK;u.S=m.M.S;m.rQa(u);});r.Ob();return r;};l.prototype.c6b=function(m){this.headers[m.mediaType][m.Ra]=m;};l.prototype.huc=function(m){var p,q,r,v;p=this.config;q=c.cx.qD(m.mediaType);r=m.stream.Oa;if(p.lna){p=r.length;q.trace("fragment count:",p);for(var u=0;u < p;++u){v=r.get(u);q.trace("fragment: " + u + ", startPts: " + v.qa.G + ", duration: " + v.Wb.G + ", offset: " + v.offset);}}this.a6b(m);};l.prototype.a6b=function(m){var p,q;p=m.mediaType;q=m.Ra;c.cx.qD(p);m.eHb && (m.eHb.forEach(function(r){(r=r.Ui(p,q)) && r !== m.stream && !r.eh && r.wqb(m.stream);}),m.eHb=void 0);this.M.auc(m);};l.prototype.Dfc=function(m,p,q){var r,u;r=this;u=c.cx.qD(m.mediaType);m=new f.nza(m,this.config,p,q,this,q.K,!1,u);this.config.q7b && (p=this.M.j2) && q.OB && (q.OB=p.Xt({}));m.addListener("headerRequestCancelled",function(v){r.buc(v.request);});this.c6b(m);return m;};l.prototype.lZ=function(m){var p,q,r,u;p=m.Bo;q=m.M;r=q.duration;u=this.config;return m.Ba?512:q.Uv?u.Fub?u.Fub:u.naa:u.dXc && p?p.offset + p.size:(m=this.lCb[m.mediaType])?m + 128:u.lZ?2292 + 12 * Math.ceil(r / 2E3):u.naa;};l.prototype.buc=function(m){this.oOa(m.mediaType,m.Ra);};l.prototype.oOa=function(m,p){delete this.headers[m][p];};return l;})(t.WN);b.g$a=a;},27457:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Yab=void 0;d=a(22970);n=a(91176);c=a(59458);f=a(48170);t=(function(){function g(e,h,k){var l;this.M=e;this.config=h;this.console=k;this.hkb=this.yHc();this.Qkb=0;this.Rea=null;e.Eb && (this.M.pJb(),this.cWa=this.zHc(),this.dCc=(e=null === (l=e.S.Ji) || void 0 === l?void 0:l.WOc) && 0 < e?n.I.doc(e):n.I.dh,this.Qkb=this.vgc());}Object.defineProperties(g.prototype,{YKb:{get:function(){return this.Qkb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{SCb:{get:function(){return this.hkb;},enumerable:!1,configurable:!0}});g.prototype.mNa=function(e){return (e instanceof n.I?e:n.I.Ca(new Date(e).getTime())).ea(this.lxa);};g.prototype.qdc=function(e){var h;e=this.mNa(e);h=this.PG;if(h)return e.ea(h);this.console.warn("LivePositionService.convertEpochToLiveUXContentTimestamp(): Event start time is not available");return n.I.ia;};g.prototype.lNa=function(e){return this.lxa.add(e);};g.prototype.sqb=function(e){return this.cWa.add(e);};g.prototype.wwa=function(e){return this.M.Nq.wwa(e);};g.prototype.RYa=function(e){return this.M.Nq.RYa(e);};Object.defineProperties(g.prototype,{Qf:{get:function(){return this.M.Nq.Qf;},enumerable:!1,configurable:!0}});g.prototype.f9b=function(e){return e.add(n.I.Ca(this.config.nl));};Object.defineProperties(g.prototype,{lxa:{get:function(){return this.cWa.ea(this.Rlc);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{cTc:{get:function(){var e;e=this.M.oj.KK;if(void 0 !== e)return n.I.Ca(e);e=this.M.oj.endTime;if(void 0 === e)return n.I.dh;e=new Date(e).getTime() + this.config.UCb;return n.I.Ca(e);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{P9:{get:function(){var e;e=this.M.oj.startTime;if(void 0 !== e)return n.I.Ca(new Date(e).getTime());},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{QQ:{get:function(){var e;e=this.M.oj.endTime;if(void 0 !== e)return n.I.Ca(new Date(e).getTime());},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{SOb:{get:function(){return this.cTc.ea(this.lxa);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{PG:{get:function(){var e;e=this.M.oj.startTime;if(void 0 !== e)return this.mNa(e);},enumerable:!1,configurable:!0}});g.prototype.ho=function(e){return n.I.Ca(Math.max(0,this.il(e) - this.config.nl));};g.prototype.o$=function(){var e,h;e=this.K$(!0);h=n.I.Ca(this.M.Nq.Qf).ea(this.dCc);return h.lessThan(e)?n.I.ia:h.ea(e);};Object.defineProperties(g.prototype,{Erb:{get:function(){return {WVa:n.I.Ca(this.il(!0)),Jzc:this.ho(!0)};},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{roa:{get:function(){var e;e=this.M.oj.endTime;if(void 0 !== e)return this.mNa(e);},enumerable:!1,configurable:!0}});g.prototype.yL=function(){return null !== this.Rea;};g.prototype.f1a=function(e){this.Rea=n.I.Ca(this.M.Nq.Qf - this.config.nl - e - this.config.LRc);};g.prototype.Y_a=function(e){this.yL() && (this.Rea=this.Rea.add(n.I.Ca(e)));};g.prototype.K$=function(e){return e && this.yL()?this.Rea:this.cWa;};g.prototype.DRa=function(e){return this.K$(e).add(n.I.Ca(this.hkb)).add(n.I.Ca(this.YKb));};g.prototype.il=function(e){e=this.DRa(e).G;return Math.max(0,this.M.Nq.Qf - e);};Object.defineProperties(g.prototype,{Rlc:{get:function(){var e,h;h=this.M.S.Ji;h=null !== (e=null === h || void 0 === h?void 0:h.qoa) && void 0 !== e?e:0;return n.I.Ca(h);},enumerable:!1,configurable:!0}});g.prototype.vqb=function(e){return this.PG?e.add(this.PG):this.Erb.WVa;};g.prototype.yHc=function(){var e;e=this.config.DVa || this.config.Pra;f.l && this.console.log(("Live edge cushion is ").concat(e,"ms"));return e;};g.prototype.zHc=function(){var e,h;e=this.M.S.Ji;(0,n.assert)(e,"LivePositionService.parseManifestAvailabilityStartTime(): Expected live metadata");h=d.__read(Object.keys(e.aU),1)[0];e=new Date("string" === typeof e.QP?e.QP:e.aU[h].QP).getTime();return n.I.Ca(e);};g.prototype.vgc=function(){var e;if(Math.random() < this.config.Ora)return (f.l && (0,n.assert)(0 >= this.config.tba,"`liveEarlyRequestDefaultoffsetMs` must be negative"),this.config.tba);e=(0,c.QJb)(0,this.config.Xra,{uwc:!0,Pvc:!0});f.l && this.console.log(("Client request offset is ").concat(e,"ms"));return e;};return g;})();b.Yab=t;},31303:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.gbb=b.b1b=void 0;d=a(66164);n=a(91176);c=a(48170);f=(function(){function g(){this.WBc=20;this.max=Number.NEGATIVE_INFINITY;this.min=Number.POSITIVE_INFINITY;this.trace=[];this.L0a=[];this.count=0;}g.prototype.mla=function(e,h){this.count++;this.max < e && (this.max=e);this.min > e && (this.min=e);this.trace.length >= this.WBc && (this.trace.shift(),this.L0a.shift());this.trace.push(e);this.L0a.push(h);};return g;})();b.b1b=f;t=(function(){function g(e,h){this.M=e;this.config=h;this.wxa=new n.Ko();this.console=new d.platform.Console("ASEJS","asejs|serverclock");this.Xkb=new f();}Object.defineProperties(g.prototype,{Qf:{get:function(){var e;if(void 0 === this.Lp){e=d.platform.time.now();c.l && this.console.debug("serverTimeMs will be based on the device clock and may be inaccurate prior to setting serverTimeDelta from OC clock sync." + ("returning ").concat(e));return e;}return d.platform.time.ha() + this.Lp;},set:function(e){var h;this.GD=d.platform.time.ha();this.oy=e;h=this.oy - this.GD;(void 0 === this.Lp || h > this.Lp) && this.uRb(h,e);this.wxa.SM || (c.l && this.console.trace("LiveServerClock: synchronized",{RCb:this.M.ho()}),this.wxa.resolve());},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{dUc:{get:function(){return this.wxa.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ayc:{get:function(){return this.wxa.SM;},enumerable:!1,configurable:!0}});g.prototype.uRb=function(e,h){var k;k=this.Lp;this.Lp=e;void 0 !== k && (this.yLb(k),this.Xkb.mla(e - k,h));c.l && this.console.debug("Updating serverTimeDelta from ",k,"ms to ",e,"ms");};g.prototype.wwa=function(e){var h;return e - (null !== (h=this.Lp) && void 0 !== h?h:0);};g.prototype.RYa=function(e){var h;return e + (null !== (h=this.Lp) && void 0 !== h?h:0);};g.prototype.Wfa=function(e,h){var k,l;c.l && this.console.log("updateServerTimeMs: ",e,h);if(!this.config.aoa || void 0 === this.Lp || 0 > h)this.Qf=e;else {this.GD=d.platform.time.ha();this.oy=e;k=this.oy - this.GD;l=this.GD + this.Lp;if(l < this.oy || l > this.oy + h + this.config.Zsa)(c.l && this.console.debug("updateServerTimeDelta: ",this.Lp,k,this.oy,l,h),this.uRb(k,e));}};Object.defineProperties(g.prototype,{M0a:{get:function(){return this.Xkb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{LK:{get:function(){var e;e=d.platform.time.ha();return void 0 === this.Lp?{Dpb:e}:{Dpb:e,Qf:e + this.Lp,GD:this.GD,oy:this.oy};},enumerable:!1,configurable:!0}});g.prototype.wLb=function(){var e;if(void 0 !== this.GD && void 0 !== this.oy){e=this.Lp;this.Lp=this.oy - this.GD;c.l && this.console.debug("resync: Updating serverTimeDelta from ",e,"ms to ",this.Lp,"ms");this.yLb(e);}};g.prototype.yLb=function(e){this.M.yL && ((0,n.assert)(e && this.Lp,"Unexpected simulatedLiveEdge during initial clock sync. simulatedLiveEdge should be set during pipeline normalization AFTER the initial header request and intial clock sync occurs."),this.M.Y_a(this.Lp - e));};return g;})();b.gbb=t;},10943:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Udb=void 0;d=a(66164);n=a(79048);c=a(91176);t=(function(){function f(g,e){this.J=g;this.KXc=e;this.WC=!0;this.uzb=this.np=this.Uv=!1;this.R=("").concat(n.Br);this.yL=this.Lq=this.qUa=this.zD=this.Eb=!1;this.console=new d.platform.Console("ASEJS","media|asejs","PaddingViewable");}Object.defineProperties(f.prototype,{Qf:{get:function(){this.console.warn("Uexpected access of serverTimeMs on PaddingViewable. serverTimeMs is not server synced on PaddingViewable and will be based on the device clock.");return d.platform.time.now();},enumerable:!1,configurable:!0}});f.prototype.ZAb=function(){return !1;};f.prototype.getTrackById=function(){};Object.defineProperties(f.prototype,{kn:{get:function(){return !1;},enumerable:!1,configurable:!0}});f.prototype.ol=function(){};f.prototype.uKb=function(){};f.prototype.Yf=function(){return !0;};f.prototype.pta=function(g,e){var h;(0,c.assert)(this.$Q,"Padding viewable must have fragmentDuration set when timestamp normalization is requested");g=Math.floor(e / this.$Q) * this.$Q;h=Math.ceil(e / this.$Q) * this.$Q;return Math.abs(e - g) <= Math.abs(e - h)?c.I.Ca(g):c.I.Ca(h);};f.prototype.ho=function(){};f.prototype.o$=function(){return c.I.OWa;};f.prototype.il=function(){return -1;};f.prototype.CRa=function(){return c.I.Ca(-1);};return f;})();b.Udb=t;},34012:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.r7a=void 0;d=a(91967);t=(function(){function n(c){this.Wma=c;this.dc=this.Zl=n.dc;}Object.defineProperties(n.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});n.prototype.Ch=function(c){if(c.Ds === d.Ud.Np)return this.Wma;};n.dc="connection-sharing";return n;})();b.r7a=t;},66133:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Mib=void 0;t=(function(){function a(d,n){var c;this.M=d;this.wsb=n;this.qw=-Infinity;this.bA="available";c=n.stream;n=n.etc;n=n();this.identifier=("").concat(c.J,"-").concat(c.mediaType,"-").concat(c.bitrate);this.mediaType=c.mediaType;this.jh=n.jh;this.ke=n.ke;this.Du=n.Du;this.Eo=n.Eo;this.hp=n.hp;this.vT=0;this.uT=Infinity;this.Lw=this.XH=1;this.yZ=0;this.groupId=("").concat(d.J);this.iy=!0;this.Bk=this.qp=!1;}a.prototype.oG=function(){return {$S:!0};};a.prototype.CL=function(){var d,n;d=this.wsb;n=d.stream;if(n.bC(d.K))return (this.M.GMc(n),{Ef:!0,reason:"success"});this.M.FMc(this.wsb);return {Ef:!1,reason:"viewableTryIssueHeaderRequest"};};a.prototype.toJSON=function(){return {mediaType:this.mediaType,EA:this.EA,jh:this.jh,ke:this.ke,Du:this.Du,Eo:this.Eo,hp:this.hp,yZ:this.yZ,vT:this.vT,XH:this.XH,uT:this.uT,Lw:this.Lw,ah:this.ah,v2:this.v2,groupId:this.groupId,iy:this.iy,qp:this.qp,Bk:this.Bk,identifier:this.identifier};};return a;})();b.Mib=t;},24473:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Pgb=void 0;t=a(66164);d=a(69575);n=t.platform.Bl;new t.platform.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function c(f,g,e){this.kQ=g;this.KS=e;this.s5b=new d.Sja(f);this.Ia=g.Ia;this.i2b=1E3 * g.cCc / g.Y9b;this.Sic=g.KY;this.anb=!1;}c.prototype.Xt=function(f){var g,e,h;g={s_xid:this.Ia,dl:this.Sic?1:0};this.kQ.gHc && (g.r_pad=1);f.UP && (g.bs=(0,d.Kma)(Math.floor(f.UP / this.i2b) + 1,1,5));f.Fca && (g.limit_rate=f.Fca);f.h8 && (g.bb_reason=f.h8);f.U2a && (g.tm=f.U2a);f.vIb && (g.play_ms=f.vIb);if(f.qHb){e=f.qHb;h=e.Ls;"HYBRID" === h?(g.hybrid=e.LA.Ezb,g.cspr=e.LA.sn,g.cu=e.LA.Cma,g.cldl=e.LA.Ova,g.h_ms=e.LA.pEb):"CCSP" === h && ((h=e.gra()) || !h && this.anb) && (g.cpr_ss=e.AE,g.cpr_ca=e.ZC,g.cpr_rec=e.rE,this.anb=h);}f.JLa && (g.br="" + f.JLa.start + "+" + f.JLa.size);return this.e4b(g);};c.prototype.c2=function(f,g){var e,h;if(this.kQ.GK)try{e=new n(void 0,"notification");h=this.Xt({h8:f});g && h && e.open(g,void 0,2,void 0,void 0,void 0,h);}catch(k){this.KS("SideChannel: Error when sending sendBlackBoxNotification. Error: " + k);}};c.prototype.e4b=function(f){var g;try{g=this.Q4b(f);return this.s5b.encrypt(g);}catch(e){this.KS("SideChannel: Error when obfuscating msg. Error: " + e);}};c.prototype.Q4b=function(f){return Object.keys(f).map(function(g){return encodeURIComponent(g) + "=" + encodeURIComponent(JSON.stringify(f[g]));}).join("&");};return c;})();b.Pgb=a;},74418:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.E5a=void 0;d=a(22970);t=a(90745);n=a(91176);c=a(91176);f=a(66164);g=a(48170);e=a(29358);h=a(29092);k=a(55024);l=a(63002);m=a(53693);p=a(33604);q=a(52571);r=a(54540);u=a(69575);v=a(54923);w=a(58049);a=(function(x){function y(){var A;A=x.apply(this,d.__spreadArray([],d.__read(arguments),!1)) || this;A.Rkb=0;A.IJa=0;A.Zja=0;A.pIa=0;return A;}d.__extends(y,x);y.prototype.G_a=function(A){var z,B,C,D;x.prototype.G_a.call(this,A);this.Rkb++;this.IJa++;this.jlb=f.platform.time.ha();this.OW || (this.OW={idc:null === (z=A.ta) || void 0 === z?void 0:z.G,Zma:null === (B=A.qa) || void 0 === B?void 0:B.G,index:A.index},this.nka || (this.nka=this.OW));z=this.Cka;B=!1;z && 100 > Math.abs(z.Pb.G - (null === (C=A.Tb) || void 0 === C?NaN:C.G)) && (this.Zja+=A.Pb.G - z.Pb.G,this.pIa++,B=!0);B || (this.Zja=null === (D=A.Wb) || void 0 === D?void 0:D.G,this.pIa=1);this.Cka=A;};y.prototype.stop=function(){x.prototype.stop.call(this);this.IJa=0;this.OW=void 0;};y.prototype.$wb=function(){var A,z,B,C,D;z=this.Oy;B=z.ina;if(B){D=B.me(this.NF);D && D.he && (C=D.he.ayb());return {RM:C,currentBranch:{sId:B.K && B.K.id,cancelled:B.Zc},currentReceivedCount:z && z.Wgc,totalReceivedCount:this.Rkb,currentState:z && z.Irb || "Uninitialized",lastRequestPushed:this.Cka && ({contentEndPts:null === (A=this.Cka.ta) || void 0 === A?void 0:A.G,fragmentIndex:this.Cka.index}),tslp:this.jlb && f.platform.time.ha() - this.jlb,cpts:this.Zja,crq:this.pIa,rslp:this.IJa,firstRequestSSPushed:this.OW && ({contentStartPts:this.OW.Zma,fragmentIndex:this.OW.index}),firstRequestPushed:this.nka && ({contentStartPts:this.nka.Zma,fragmentIndex:this.nka.index})};}};return y;})((function(x){function y(A,z,B,C,D,E,H,F,G,J,L){var K;K=x.call(this) || this;K.Dx=A;K.NF=z;K.config=C;K.console=D;K.player=E;K.zw=H;K.gd=F;K.Up=G;K.nP=new c.At(!1);K.iP=new c.At(n.I.Ca(-Infinity));K.console=(0,u.Gf)(f.platform,K.console,("AsePlayerBuffer [").concat(z,"]:"));K.Oy=new e.w6a(K.console,B,z);K.resume();E && H && F && (L?(K.eE=L,L.aA(E,F,K.Dx)):K.Uqb(),A=new l.b9a(null === E || void 0 === E?void 0:E.gd,n.I.Ca(K.config.rca),D),K.Oy.A7(A),0 < K.config.Tnb && (K.Snb=new v.n6a(n.I.Ca(K.config.y9b),K.config.Tnb,K.console),K.Oy.A7(K.Snb)),K.config.Tmb && (E=new m.Rdb(null === E || void 0 === E?void 0:E.gd,K.config.Tmb,n.I.Ca(K.config.D7b),D),K.Oy.A7(E)),J && (K.cMb=new p.Cgb(J,K.mediaType,D),K.Oy.A7(K.cMb)),g.l && K.config.Jkc && (D=new r.cbb(D),K.Oy.A7(D)));K.Dx.on("requestAppended",function(M){K.nP.set(!0);M.request.Pb && K.iP.set(M.request.Pb);K.emit("requestAppended");});return K;}d.__extends(y,x);Object.defineProperties(y.prototype,{yp:{get:function(){return this.nP;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{WR:{get:function(){return this.iP;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{DAb:{get:function(){return this.Oy.mj;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{kU:{get:function(){return this.Dx.endOfStream;},enumerable:!1,configurable:!0}});y.prototype.Uqb=function(){var A;(0,q.assert)(this.player && this.zw && this.gd,"Player should be defined");A=this.eE;this.eE && this.eE.aYa();this.eE=new k.vfb(this.NF,this.console,this.player,this.Dx,this.player.events,this.zw,this.gd,this.Up);this.eE.d3a(A);};Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.NF;},enumerable:!1,configurable:!0}});y.prototype.$wb=function(){};y.prototype.resume=function(){g.l && this.console.trace("resume");this.rOb();};Object.defineProperties(y.prototype,{E8b:{get:function(){return this.GW;},enumerable:!1,configurable:!0}});y.prototype.Oea=function(){this.Dx.vta(!0);};y.prototype.reset=function(A,z){var B,C,D,E;void 0 === A && (A=!1);g.l && this.console.trace("AsePlayerBuffer.reset mediaTypes:",z);this.stop();this.Dx.reset(A);this.nP.set(!1);this.iP.set(n.I.Ca(-Infinity));A || (this.GW=void 0,null === (B=this.eE) || void 0 === B?void 0:B.reset(),A=null === (C=this.player) || void 0 === C?void 0:C.Hh,null === (D=this.cMb) || void 0 === D?void 0:D.MXa(A,z || A),null === (E=this.Snb) || void 0 === E?void 0:E.MXa());};y.prototype.cd=function(A){void 0 === A && (A=!1);g.l && this.console.trace("restart");this.reset(A);this.rOb(!0);};y.prototype.stop=function(){g.l && this.console.trace("stop");this.Oy.IOb();};y.prototype.close=function(){var A;g.l && this.console.trace("close");null === (A=this.eE) || void 0 === A?void 0:A.close();};y.prototype.La=function(){this.stop();this.close();};y.prototype.D0=function(){this.config.Poa && this.Dx.Dnc();this.Dx.t9();};y.prototype.gN=function(A){this.Dx.gN(A);};y.prototype.tnc=function(A){this.Dx.qEc(A);};y.prototype.cl=function(A){var z;return !(null === (z=this.eE) || void 0 === z || !z.cl(A));};y.prototype.rOb=function(A){if(!this.Oy.mj || A)(this.Oy.VNc(),h.AsyncIterator.qra(this.Oy,this.ryc.bind(this)));};y.prototype.ryc=function(A){if(!A.done)if((A=A.value,(0,w.sUa)(A)))(this.iP.set(A.pa.Pb),this.nP.set(!0));else try{this.G_a(A);}catch(z){this.console.error("Error in requestReceived",z);}};y.prototype.G_a=function(A){var z,B,C,D,E,H,F,G;g.l && this.console.trace(("requestReceived: ").concat(null === (z=this.Oy.ina) || void 0 === z?void 0:z.K.id) + (" ").concat(A.toString(),", edit: ").concat(JSON.stringify(A.na)));this.Dx.endOfStream?g.l && this.console.error("Buffer manager has declared EOS, ignoring request",A.toString()):(this.GW?(this.GW.Kyc=null === (H=A.ta) || void 0 === H?void 0:H.G,this.GW.Pyc=null === (F=A.Pb) || void 0 === F?void 0:F.G,this.GW.oCb=A.Pb):this.GW={x8c:null === (B=A.qa) || void 0 === B?void 0:B.G,z8c:null === (C=A.Tb) || void 0 === C?void 0:C.G,Kyc:null === (D=A.ta) || void 0 === D?void 0:D.G,Pyc:null === (E=A.Pb) || void 0 === E?void 0:E.G,oCb:A.Pb},A.bn && A.stream.track.np && (null === (G=this.player) || void 0 === G || !G.Raa(A.M.J)) && this.emit("drmNeeded",{J:A.M.J,xo:A.Tb}),this.Dx.C8b(A));};return y;})(t.EventEmitter));b.E5a=a;},92140:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Zgb=void 0;t=(function(){function a(){this.Tuc=this.fna([{x:32,y:3.3},{x:48,y:3.65},{x:64,y:4.24},{x:80,y:4.56},{x:96,y:4.67}]);this.CYc=this.fna([{x:16,y:2},{x:32,y:3.2},{x:48,y:3.6},{x:64,y:3.8},{x:80,y:4.3},{x:96,y:4.5},{x:112,y:4.6},{x:128,y:4.7},{x:144,y:4.8}]);this.ehc=this.fna([{x:48,y:2.73},{x:64,y:3.15},{x:80,y:3.39},{x:96,y:3.59},{x:128,y:4.55},{x:192,y:4.8}]);this.dhc=this.fna([{x:192,y:2.9},{x:256,y:3.4},{x:320,y:3.8},{x:384,y:4.3},{x:448,y:4.6},{x:512,y:4.75},{x:576,y:4.76},{x:640,y:4.9},{x:768,y:4.9}]);}a.Bqc=function(){a.instance || (a.instance=new a());return a.instance;};a.prototype.fna=function(d){d.sort(function(n,c){return n.x - c.x;});return function(n){var c,f;if(n < d[0].x){c=(d[1].y - d[0].y) / (d[1].x - d[0].x);f=d[0].y - c * d[0].x;return c * n + f;}if(n > d[d.length - 1].x)return (c=(d[d.length - 1].y - d[d.length - 2].y) / (d[d.length - 1].x - d[d.length - 2].x),f=d[d.length - 1].y - c * d[d.length - 1].x,c * n + f);for(f=0;f < d.length - 1;f++)if(n >= d[f].x && n <= d[f + 1].x)return (c=(d[f + 1].y - d[f].y) / (d[f + 1].x - d[f].x),f=d[f].y - c * d[f].x,c * n + f);};};a.prototype.Swa=function(d,n){return (-1 !== n.indexOf("xheaac")?this.CYc:-1 !== n.indexOf("heaac")?this.Tuc:-1 !== n.indexOf("ddplus-2")?this.ehc:this.dhc)(d);};return a;})();b.Zgb=t;},71472:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Kga=void 0;d=a(22970);n=a(52571);t=a(85254);c=a(5800);a=a(71808);f=(function(){function g(e,h){this.console=e;this.tb=[];this.Cg=void 0;this.bf=0;h && h.length && (Array.isArray(h)?(this.tb=h.slice(),this.s6(0,this.tb.length)):h instanceof g && (this.tb=h.tb.slice(),this.s6(0,this.tb.length)));}Object.defineProperties(g.prototype,{length:{get:function(){return this.tb.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.tb.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{first:{get:function(){return this.tb[0];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Nd:{get:function(){return this.tb[this.tb.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ub:{get:function(){return this.first && this.first.ub;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Lb:{get:function(){return this.Nd && this.Nd.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Jv:{get:function(){return this.Cg;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ma:{get:function(){return this.bf;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{O:{get:function(){return this.first && this.first.O;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Kp:{get:function(){return this.first && this.first.Kp;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Oa:{get:function(){return this.tb;},enumerable:!1,configurable:!0}});g.prototype.fWc=function(e){this.bf+=e;};g.prototype.$la=function(){var e;if(0 === this.tb.length)((0,n.assert)(void 0 === this.Cg),(0,n.assert)(0 === this.bf));else {(0,n.assert)(this.Cg instanceof c.WE);(0,n.assert)("number" === typeof this.bf);(0,n.assert)(void 0 !== this.Jv && this.Jv.ub === this.ub);e=this.tb.reduce(function(h,k,l){return 0 === l || k.ub === h?k.Lb:h;},0);(0,n.assert)(this.Jv.Lb === e);(0,n.assert)(this.tb.reduce(function(h,k,l){return 0 === l || k.ub === h?k.Lb:h;},0) === this.Jv.Lb);(0,n.assert)(this.tb.reduce(function(h,k){return h + k.ma;},0) === this.bf);}};g.prototype.get=function(e){0 > e && (e+=this.tb.length);return this.tb[e];};g.prototype.push=function(e){this.tb.push(e);this.s6(this.tb.length - 1);return this.length;};g.prototype.unshift=function(e){this.tb.unshift(e);this.s6(0,1);return this.length;};g.prototype.pop=function(){if(0 !== this.tb.length)return (this.FJa(this.tb.length - 1),this.tb.pop());};g.prototype.shift=function(){if(0 !== this.tb.length)return (this.FJa(0),this.tb.shift());};g.prototype.splice=function(e,h){for(var k,l=[],m=2;m < arguments.length;m++)l[m - 2]=arguments[m];0 > e && (e+=this.tb.length);0 > e && (e=0);e > this.tb.length && (e=this.tb.length);if(void 0 === h || 0 > h)h=0;h=Math.min(h,this.tb.length - e);0 < h && this.FJa(e,e + h);m=(k=this.tb).splice.apply(k,d.__spreadArray([e,h],d.__read(l),!1));0 < l.length && this.s6(e,e + arguments.length - 2);return m;};g.prototype.slice=function(e,h){void 0 === e && (e=0);void 0 === h && (h=this.tb.length);0 > e && (e+=this.tb.length);if(e >= this.tb.length)return new g(this.console);h > this.tb.length && (h=this.tb.length);0 > h && (h+=this.tb.length);return new g(this.console,this.tb.slice(e,h));};g.prototype.ru=function(e){if(0 === this.tb.length || e.ub >= this.Lb)this.push(e);else if(e.Lb <= this.ub)this.unshift(e);else {for(var h=0,k=this.tb.length - 1,l;h < k - 1;)(l=Math.floor((k + h) / 2),(0,n.assert)(l !== k && l !== h),e.ub >= this.tb[l].Lb?h=l:k=l);(0,n.assert)(h !== k,"Fragments may not be in order");(0,n.assert)(this.tb[h].Lb <= e.ub && this.tb[k].ub >= e.Lb,"Inserted fragment does not fit within array");this.splice(k,0,e);}};g.prototype.remove=function(e){e=this.tb.indexOf(e);if(0 > e)return !1;this.splice(e,1);return !0;};g.prototype.concat=function(){for(var e=[],h=0;h < arguments.length;h++)e[h]=arguments[h];e=e.map(function(k){return k.tb;});return new g(this.console,Array.prototype.concat.apply(this.tb,e));};g.prototype.forEach=function(e){var h;h=this;this.tb.forEach(function(k,l){return e(k,l,h);});};g.prototype.some=function(e){var h;h=this;return this.tb.some(function(k,l){return e(k,l,h);});};g.prototype.every=function(e){var h;h=this;return this.tb.every(function(k,l){return e(k,l,h);});};g.prototype.map=function(e){var h;h=this;return this.tb.map(function(k,l){return e(k,l,h);});};g.prototype.reduce=function(e,h){var k;k=this;return this.tb.reduce(function(l,m,p){return e(l,m,p,k);},h);};g.prototype.indexOf=function(e){return this.tb.indexOf(e);};g.prototype.find=function(e){var h,k;h=this;return this.tb.some(function(l,m){k=m;return e(l,m,h);})?this.tb[k]:void 0;};g.prototype.findIndex=function(e){var h,k;h=this;return this.tb.some(function(l,m){k=m;return e(l,m,h);})?k:-1;};g.prototype.filter=function(e){var h;h=this;return new g(this.console,this.tb.filter(function(k,l){return e(k,l,h);}));};g.prototype.AZ=function(e){for(var h=this.tb.length - 1;0 <= h;--h)e(this.tb[h],h,this);};g.prototype.L1a=function(e){for(var h=this.tb.length - 1;0 <= h;--h)if(e(this.tb[h],h,this))return !0;return !1;};g.prototype.TPa=function(e){if(this.empty || e < this.qa.G || e >= this.ta.G)return -1;for(var h=0,k=this.tb.length - 1,l;k > h;){l=Math.floor((k + h) / 2);if(e >= this.tb[l].qa.G && e < this.tb[l].ta.G){k=l;break;}e < this.tb[l].ta.G?k=l - 1:h=l + 1;}return k;};g.prototype.V9=function(e){if(this.empty || e < this.Tb.G || e >= this.Pb.G)return -1;for(var h=0,k=this.tb.length - 1,l;k > h;){l=Math.floor((k + h) / 2);if(e >= this.tb[l].Tb.G && e < this.tb[l].Pb.G){k=l;break;}e < this.tb[l].Pb.G?k=l - 1:h=l + 1;}return k;};g.prototype.Wub=function(e){e=this.V9(e);return 0 <= e?this.tb[e]:void 0;};g.prototype.nQb=function(e,h){this.remove(e);h.ru(e);};g.prototype.update=function(){this.Cg && (this.Cg.UPc(this.ub),this.l7(0));};g.prototype[Symbol.iterator]=function(){var e;return d.__generator(this,function(h){switch(h.label){case 0:(e=0,h.label=1);case 1:return e < this.tb.length?[4,this.tb[e]]:[3,4];case 2:(h.T(),h.label=3);case 3:return (e++,[3,1]);case 4:return [2];}});};g.prototype.l7=function(e){var h;h=this.tb[e].Lb;for(e+=1;e < this.tb.length && h === this.tb[e].ub;++e)h=this.tb[e].Lb;e < this.tb.length?void 0 === this.Cg?this.Cg=new c.WE(this,{Lb:h}):this.Cg.f2(h):void 0 === this.Cg?this.Cg=new c.WE(this,{}):this.Cg.Nma();};g.prototype.$1b=function(e,h){for(var k=e;k < h;++k)this.bf+=this.tb[k].ma;void 0 === this.Cg || 0 === e?this.l7(0):this.Cg.Lb === this.Lb?this.l7(e - 1):this.tb[e].ub === this.Cg.Lb && this.l7(e);};g.prototype.hq=function(e,h){var k;if(0 === e)(this.Cg=void 0,h < this.length && this.l7(h));else {k=this.Cg;k.Lb > this.tb[e - 1].Lb && (h < this.length?k.f2(this.tb[e - 1].Lb):k.Nma());}for(;e < h;++e)this.bf-=this.tb[e].ma;};g.prototype.s6=function(e,h){void 0 === h && (h=e + 1);this.$1b(e,h);};g.prototype.FJa=function(e,h){void 0 === h && (h=e + 1);this.hq(e,h);};return g;})();b.Kga=f;(0,t.wl)(a.nz,f);},47743:function(t,b,a){var d,n,c,f,g,e,h,k,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.lza=void 0;d=a(22970);n=a(66164);c=a(52571);t=a(85254);f=d.__importDefault(a(14282));g=a(50468);e=a(50247);h=n.platform.Bl;k=a(51440);l=a(45691);m=a(87225);a=(function(p){function q(r,u,v,w,x,y,A,z){var I0V,B;I0V=2;for(;I0V !== 7;){switch(I0V){case 2:var G2X="me";G2X+="d";G2X+="ia";var g8V="me";g8V+="dia(e";g8V+="d";g8V+="it)";var x36="1SIY";x36+="b";x36+="ZrN";x36+="JC";x36+="p9";x36;B=v.na?g8V:G2X;void 0 === v.responseType && (v.responseType=v.na || h.vg && !h.vg.V_a.FGa?0:1);u=p.call(this,r,u,B,v,w,x,y,A) || this;I0V=3;break;case 3:u.SD=!1;g.Io.Ob(u,r,x,v,z);return u;break;}}}var R8;R8=2;for(;R8 !== 9;){switch(R8){case 12:return q;break;case 3:return q;break;case 2:d.__extends(q,p);q.create=function(r,u,v,w,x,y,A,z){var x8i;x8i=2;for(;x8i !== 8;){switch(x8i){case 4:x8i=u.foa && r.mediaType !== f.default.Yp.Da && 0 === w.ma?3:9;break;case 3:var B3C="stream must be";B3C+=" a ";B3C+="LiveAse";B3C+="Stream";return ((0,c.assert)(r instanceof m.PCa,B3C),new l.Lga(r,v,w,x,y,u,A,z));break;case 9:return new q(r,v,w,x,y,u,A,z);break;case 2:x8i=!u.En && w.na?1:9;break;case 5:return new k.O5a(r,v,w,x,y,u,A,z);break;case 1:x8i=r.mediaType === f.default.Yp.U && 0 < w.ma?5:4;break;}}};q.prototype.by=function(){var N1Q;N1Q=2;for(;N1Q !== 1;){switch(N1Q){case 2:return this.Sqa() && p.prototype.by.call(this);break;}}};q.prototype.toString=function(){var j3o;j3o=2;for(;j3o !== 1;){switch(j3o){case 2:var d$V="I";d$V+="D";d$V+=":";d$V+=" ";return d$V + this.Ei() + ":" + g.Io.prototype.toString.call(this);break;}}};R8=3;break;}}})(e.D3);b.lza=a;(0,t.wl)(g.Io,a,!1);},50468:function(t,b,a){var d,n,c,f,g,e,h,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Io=void 0;d=a(22970);n=a(91176);c=a(52571);f=d.__importDefault(a(14282));g=a(95591);t=a(85254);e=a(89645);h=a(78015);k=a(5800);a=a(71808);l=(function(m){function p(q,r,u,v){var w;w=m.call(this,q,u) || this;w.Vna=!1;p.Ob(w,q,r,u,v);return w;}d.__extends(p,m);p.Ob=function(q,r,u,v,w){var x;h.lV.STa(q,r,v);q.ti=v.index;q.zC=v.ub;q.hv=v.Lb;q.n5b=v.Qb?v.Qb:r.Qb;q.Qy=v.Qy;q.K=u;q.Gpa=w;q.Njb=!!v.bn;q.ekb=!!v.Gi;q.Nkb=null !== (x=v.region) && void 0 !== x?x:0;q.Mjb=!!v.fQa;q.dkb=!!v.ZA;q.Ma=void 0 === v.XG || void 0 === v.UK || v.XG === v.ub && v.UK === v.Lb?q:new k.WE(q,{ub:v.XG,Lb:v.UK});q.R3b=v.Tsa;q.a2b=v.Km;q.g_=r.g_;q.ej=v.na?q.PFb(v.na):void 0;q.ilb=v.Pu;q.MC=!1;q.Tyb=!1;q.Gu=[];};p.hna=function(q){for(var r=new Uint32Array(q.length),u=new Uint32Array(q.length),v=new Uint8Array(q.length),w=new Uint8Array(q.length),x=0,y,A,z=0;z < q.length;++z)(y=q[z],A=y.bf,r[z]=y.hv - y.zC,u[z]=A,v[z]=y.stream.Ow,void 0 !== y.Qb && null !== y.Qb && (w[z]=y.Qb),x+=A);return new g.RGa(r,u,q.length?q[0].O:1E3,x);};Object.defineProperties(p.prototype,{Iwc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{SA:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{index:{get:function(){return this.ti;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Qb:{get:function(){return this.n5b;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{GLa:{get:function(){return 8 * this.ma / this.Wb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ub:{get:function(){return this.zC;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Lb:{get:function(){return this.hv;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Kp:{get:function(){var q,r;return null !== (r=null === (q=this.Gpa) || void 0 === q?void 0:q.call(this)) && void 0 !== r?r:0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{bn:{get:function(){return this.Njb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Gi:{get:function(){return this.ekb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{region:{get:function(){return this.Nkb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{fQa:{get:function(){return this.Mjb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ZA:{get:function(){return this.dkb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Tsa:{get:function(){return this.R3b;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Km:{get:function(){return this.a2b;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{na:{get:function(){return this.ej;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Pu:{get:function(){return this.ilb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{lI:{get:function(){var q;return this.ej?(null !== (q=this.ej.end) && void 0 !== q?q:this.tf) - this.ej.start:this.tf;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{XG:{get:function(){return this.Ma.ub;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{UK:{get:function(){return this.Ma.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Tnc:{get:function(){return this.Ma.EK;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Unc:{get:function(){return this.Ma.Wb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Wv:{get:function(){return this.Ma.qa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{DZ:{get:function(){return this.Ma.ta;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{tf:{get:function(){var q;q=this.Tnc;(0,c.assert)(q);return q / this.stream.Ea.$;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{BR:{get:function(){return this.Tyb;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Puc:{get:function(){return 0 < this.Gu.length;},enumerable:!1,configurable:!0}});p.prototype.Ufa=function(q,r,u){var v,w,x;(0,c.assert)(q.O === this.O,"Cannot change content timestamp timescale");(0,c.assert)(r.O === this.O,"Cannot change content timestamp timescale");if(this.ntb(this.na))(this.zC=q.$,this.hv=r.$,this.Ma=this,this.na && (this.ej=d.__assign(d.__assign({},this.ej),{start:0,end:null})));else {(0,c.assert)(this.na,"Undefined edit window should be handled as whole fragment");w=this.tf;this.Ma=new k.WE(this,{ub:q.$,Lb:r.$});x=this.na;r=x.start;x=x.end;this.na.end=u || w >= this.tf?null === x || x >= this.tf?null:this.na.end:null === x?w:x;this.zC=q.add(this.Ea.hh(r)).$;this.hv=q.add(this.Ea.hh(null !== (v=this.na.end) && void 0 !== v?v:this.tf)).$;}};p.prototype.w3a=function(q){this.Ufa(this.Wv.Kc(this.O),this.Wv.add(this.Ea.hh(q)),!0);};p.prototype.hRb=function(q){(0,c.assert)(!this.na || 0 === this.na.start,"Cannot change start time of fragment with start edit");this.Ufa(q,this.DZ,!0);};p.prototype.tBc=function(){this.Njb=!0;};p.prototype.jWa=function(){this.ekb=!0;};p.prototype.Fwa=function(q){this.Qy={$d:q.Dwb(),get rH() {return q.H2;}};};p.prototype.h2=function(q){this.ilb=q;};p.prototype.CQc=function(q,r,u){this.Nkb=q;this.Mjb=r;this.dkb=u;};p.prototype.yh=function(q){var r,u,v;void 0 === q && (q={});u=this.stream.Ea.$;v=this.ej || ({start:0,end:null});q=this.PFb(q);this.ntb(q)?(this.zC=this.Ma.ub,this.hv=this.Ma.Lb,this.Ma=this):(this.Ma && this.Ma !== this || (this.Ma=new k.WE(this,this)),this.zC=this.Ma.ub + q.start * u,this.hv=this.Ma.ub + (null !== (r=q.end) && void 0 !== r?r:this.tf) * u);this.ej=d.__assign(d.__assign({},v),q);};p.prototype.NOa=function(q){void 0 === q && (q=1);this.ej?this.yh({start:this.ej.start + q,end:this.ej.end}):this.yh({start:q});};p.prototype.Tna=function(q){this.ej?this.yh({start:this.ej.start,end:(this.ej.end || 0) - q}):this.yh({start:0,end:-q});};p.prototype.th=function(){this.na?this.yh({start:this.na.start,end:this.na.start}):this.yh({start:0,end:0});};p.prototype.GQc=function(q){this.ej || this.yh();this.ej.Owa=q;};p.prototype.$Mb=function(q){this.ej || this.yh();this.ej.ns=!0;q && (this.ej.vub=q);};p.prototype.aNb=function(q){this.ej || this.yh();this.ej.Aq=!0;q && (this.ej.wub=q);};p.prototype.gvb=function(q){var u;if(!(q < this.qa.G || q >= this.ta.G) && this.Km && this.Km.length){q=new n.I(q + 1 - this.qa.G,1E3).rf(this.stream.Ea);for(var r=this.Km.length - 1;0 <= r;--r){u=this.Km[r];if(u.rl <= q)return u;}return {rl:0,od:this.Wv.G};}};p.prototype.knc=function(q){var u;if(!(q < this.qa.G || q >= this.ta.G) && this.Km && this.Km.length){q=new n.I(q + 1 - this.qa.G,1E3).rf(this.stream.Ea);for(var r=this.Km.length - 1;0 <= r;--r){u=this.Km[r];if(u.rl <= q)return u;}return {rl:0,od:this.Wv.G};}};p.prototype.Tub=function(q,r){var u,v,w;if(!(q < this.qa.G || q >= this.ta.G)){if(!r && this.g_)return {rl:0,od:this.qa.G};u=this.Ea.$;v=this.Ea.O;w=Math.floor(this.EK / u);q=Math.min((r?Math.ceil:Math.floor)((n.I.kFb(q,v) - this.ub + (r?-1:1) * (v / 1E3 - 1)) / u),w);u=n.I.V2a(this.ub + q * u,v);return q === w?void 0:{rl:q,od:u};}};p.prototype.inc=function(q){return this.mediaType === f.default.Yp.U?this.gvb(q):this.Tub(q,!1);};p.prototype.WPa=function(q){return this.mediaType === f.default.Yp.U?this.knc(q):this.Tub(q,!0);};p.prototype.Sqa=function(){return this.na?this.BR:this.Puc;};p.prototype.gSa=function(){(0,c.assert)(!this.dea,"Should not get response iterator more than once");this.dea=new e.SI(this.stream.sb);return this.dea.getIterator();};p.prototype.rva=function(q,r){this.dea?(this.dea.enqueue(q),r && this.dea.KQ()):this.Gu.push(q);this.Tyb=r;};p.prototype.B1=function(){this.Gu=[];};p.prototype.PKa=function(q){this.bf+=q.ma;this.hv=q.Lb;this.ej && (this.Ma=new k.WE(this,{ub:this.XG,Lb:this.hv}),this.ej.end=this.tf);};p.prototype.TKb=function(q){var r,u,v;r={type:"logdata",target:"endplay",fields:{}};u=this.mediaType === f.default.Yp.X?"audioedit":"videoedit";v=this.Wv.equal(this.qa);v=[v?this.ta.G:this.qa.G,v?-this.Wb.G:this.Wb.G];q && v.push(q);r.fields[u]={type:"array",value:v};return r;};p.prototype.toString=function(){return ("[").concat(this.Ra,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.qa.G,"-").concat(this.ta.G,",") + ("p:").concat(this.Tb.G,"-").concat(this.Pb.G,",d:").concat(this.Wb.G,"]");};p.prototype.toJSON=function(){return {movieId:this.R,streamId:this.Ra,bitrate:this.bitrate,index:this.index,startPts:this.qa.G,endPts:this.ta.G,contentStartPts:this.qa.G,contentEndPts:this.ta.G,fragmentStartPts:this.Wv.G,fragmentEndPts:this.DZ.G,edit:this.na};};p.prototype.evb=function(q){var u;if(this.Km)for(var r=0;r < this.Km.length;++r)if(this.Km[r].rl === q)u=this.Km[r].offset;return u;};p.prototype.PFb=function(q){var r,u;r=Math.max(q.start || 0,0);u=void 0 === q.end || null === q.end || q.end === this.tf?null:Math.min(this.tf,Math.max(r,0 > q.end?this.tf + q.end:q.end));return d.__assign(d.__assign({},q),{start:r,end:u});};p.prototype.ntb=function(q){return !q || 0 === q.start && (q.end === this.tf || null === q.end);};return p;})(h.lV);b.Io=l;(0,t.wl)(a.nz,l);},21306:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.A5a=void 0;d=a(22970);n=a(52571);c=a(99735);t=a(85254);f=a(71472);g=a(71808);e=a(81392);h=a(5800);a=(function(k){function l(m,p){var q,r;q=this;r=[new f.Kga(m),new f.Kga(m),new f.Kga(m)];q=k.call(this,r,function(u){return u.complete?q.empty || u.ub <= q.Icc?0:1:u.active?1:2;}) || this;r=d.__read(r,3);q.Dj=r[0];q.oi=r[1];q.lq=r[2];q.Pr=0;q.cIa=0;q.console=m;q.Nt=p;return q;}d.__extends(l,k);Object.defineProperties(l.prototype,{ma:{get:function(){return this.Dj.ma + this.oi.ma + this.lq.ma;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{WQb:{get:function(){return this.lq;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{active:{get:function(){return this.oi;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{complete:{get:function(){return this.Dj;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Dda:{get:function(){return this.Pr;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Sma:{get:function(){return this.Dj.ma;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{xw:{get:function(){return this.Dj.ma + this.oi.ma - this.Pr;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{UVc:{get:function(){return this.lq.ma;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{C1:{get:function(){return this.ma - this.Pr;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{first:{get:function(){return this.foc();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Nd:{get:function(){return this.m9b();},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ROa:{get:function(){return !this.Dj.empty || this.lq.empty || this.oi.empty?this.first:this.oi.ub < this.lq.ub?this.oi.first:this.lq.first;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ACb:{get:function(){return this.lq.empty || this.oi.empty?this.Nd:this.oi.Lb < this.lq.Lb?this.lq.Nd:this.oi.Nd;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{vvb:{get:function(){return this.lq.first;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{O:{get:function(){return this.first && this.first.O;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ub:{get:function(){return this.ROa && this.ROa.ub;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Lb:{get:function(){return this.ACb && this.ACb.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Kp:{get:function(){return this.first && this.first.Kp;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Icc:{get:function(){return this.Dj.empty?this.ub:this.Dj.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Hcc:{get:function(){var m;return this.Dj.empty?null === (m=this.qa) || void 0 === m?void 0:m.G:this.Dj.ta.G;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Xpb:{get:function(){var m;return this.Dj.empty?null === (m=this.Tb) || void 0 === m?void 0:m.G:this.Dj.Pb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{SHb:{get:function(){var m,p;return (null === (m=this.oi.Pb) || void 0 === m?void 0:m.G) || (null === (p=this.Dj.Pb) || void 0 === p?void 0:p.G);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{EN:{get:function(){return this.lq.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Im:{get:function(){return this.oi.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{$pb:{get:function(){return this.Dj.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{T:{get:function(){return this.Dj.concat(this.oi);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Jv:{get:function(){return this.Cg;},enumerable:!1,configurable:!0}});l.prototype.$la=function(){var m,p;if(0 === this.length)((0,n.assert)(0 === this.Pr),(0,n.assert)(this.Dj.empty),(0,n.assert)(this.oi.empty),(0,n.assert)(this.lq.empty));else {(0,n.assert)(this.Dj.every(function(u){return u.complete || u.aborted;}));(0,n.assert)(this.oi.every(function(u){return u.active || u.complete || u.aborted;}));(0,n.assert)(this.lq.every(function(u){return !u.active && !u.complete;}));!this.oi.empty && this.oi.first.complete && (this.Dj.empty?(0,n.assert)(!this.lq.empty && this.oi.ub > this.lq.ub,"unsent earlier than active"):(0,n.assert)(this.oi.ub > this.Dj.Lb,"gap in complete array"));this.Pr !== this.Dj.reduce(function(u,v){return u + (v.aborted?0:v.bytesReceived);},0) + this.oi.reduce(function(u,v){return u + (v.aborted?0:v.bytesReceived);},0) && (0,n.assert)(!1,"receivedBytes does not match complete + active");m=this.Jv;if(this.empty)(0,n.assert)(void 0 === m);else {(0,n.assert)(void 0 !== m);p=this.map(function(u){return u;});p.sort(function(u,v){return u.ub - v.ub;});(0,n.assert)(m.ub === p[0].ub);for(var q=p[0].Lb,r=1;r < p.length && p[r].ub === q;++r)q=p[r].Lb;(0,n.assert)(m.Lb === q,"contigousEnd mismatch");}this.pe.forEach(function(u){return u.$la();});}};l.prototype.add=function(m){var p;m.aborted?++this.cIa:this.Pr+=m.bytesReceived || 0;if(this.empty)this.Cg=new h.WE(this,{});else if(m.ub !== this.Lb)if(m.ub > this.Cg.Lb)this.Cg.f2(this.Cg.Lb);else if(m.ub < this.ub || m.ub === this.Cg.Lb){p=m.Lb;this.Anc(function(q,r){return q.ub - r.ub;},function(q){p=q.ub === p?q.Lb:p;});p === Math.max(this.Lb,m.Lb)?this.Cg.Nma():this.Cg.f2(p);}m.b1a(this);};l.prototype.hq=function(m){m.aborted?--this.cIa:this.Pr-=m.bytesReceived;this.empty?this.Cg=void 0:m.ub !== this.Lb && m.Lb <= this.Cg.Lb && m.ub > this.Cg.ub && this.Cg.f2(m.ub);m.xpb();};l.prototype.update=function(){var m;this.Dj.update();this.oi.update();this.lq.update();if(this.Cg){m=this.map(function(r){return r;});m.sort(function(r,u){return r.ub - u.ub;});this.Cg.Nma();for(var p=m[0].Lb,q=1;q < m.length;++q){if(m[q].ub !== p){this.Cg.f2(p);break;}p=m[q].Lb;}}};l.prototype.push=function(m){this.add(m);return k.prototype.push.call(this,m);};l.prototype.shift=function(){var m;m=k.prototype.shift.call(this);m && this.hq(m);return m;};l.prototype.pop=function(){var m;m=k.prototype.pop.call(this);m && this.hq(m);return m;};l.prototype.unshift=function(m){this.add(m);return k.prototype.unshift.call(this,m);};l.prototype.ru=function(m){this.add(m);k.prototype.ru.call(this,m);};l.prototype.remove=function(m){if(!k.prototype.remove.call(this,m))return !1;this.hq(m);return !0;};l.prototype.splice=function(m,p){for(var q=[],r=2;r < arguments.length;r++)q[r - 2]=arguments[r];r=k.prototype.splice.apply(this,d.__spreadArray([m,p],d.__read(q),!1));q.forEach(this.add.bind(this));r.forEach(this.hq.bind(this));return r;};l.prototype.wda=function(m){var p;p=this;this.reduce(function(q,r,u){r.aborted && !r.SD && (m && m(r,u,p),0 === q.length || q[0].end !== u?q.unshift({start:u,end:u + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};l.prototype.TPa=function(m){return this.Yub(function(p){return p.TPa(m);});};l.prototype.V9=function(m){return this.Yub(function(p){return p.V9(m);});};l.prototype.Wub=function(m){m=this.V9(m);return -1 !== m?this.get(m):void 0;};l.prototype.lPc=function(m){var q;for(var p=[];m < this.length;){q=this.get(m);q && p.push(q);m++;}return p;};l.prototype.OS=function(m){this.move(m);this.Toa(m);};l.prototype.$D=function(m,p){this.Pr+=p;this.CZ(m,p);};l.prototype.uo=function(m,p){this.Pr+=p;this.GNb();this.ZQ(m,p);};l.prototype.Q0=function(m,p,q){this.Pr-=m.bytesReceived;++this.cIa;this.BZ(m,p,q);};l.prototype.PS=function(m,p,q){this.oi.fWc(p - q);this.uQa(m,p,q);};l.prototype.wGc=function(){this.GNb();};l.prototype.GNb=function(){for(;this.oi.first && (this.oi.first.complete || this.oi.first.SD) && (this.Dj.empty?this.oi.first === this.ROa:this.oi.first.ub === this.Dj.Lb);)this.aRc();};l.prototype.wpc=function(){return this.Dj.map(function(m){return {requestId:m.Ei(),appended:m.MC,isAppendable:m.by()};});};return l;})(c.m7a);b.A5a=a;(0,t.wl)(e.WN,a,!1);(0,t.wl)(g.nz,a);},83527:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.mza=void 0;d=a(22970);n=a(78015);t=(function(c){function f(g,e,h,k){var l;l=c.call(this,g,h) || this;l.gg=void 0;f.$zb(l,g,e,h,k);return l;}d.__extends(f,c);f.$zb=function(g,e,h,k,l){n.lV.STa(g,e,k);g.K=h;g.JF=k.Qj;g.kk=k.tua;g.Hjb=k.Ox;g.sb=l;};Object.defineProperties(f.prototype,{gf:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Qj:{get:function(){return this.JF;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{tua:{get:function(){return this.kk;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ox:{get:function(){return this.Hjb;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{vca:{get:function(){return this.T3b;},enumerable:!1,configurable:!0}});f.prototype.toJSON=function(){return {movieId:this.R,streamId:this.Ra,bitrate:this.bitrate};};return f;})(n.lV);b.mza=t;},35018:function(t,b,a){var n,c,f,g,e,h,k,l,m,p;function d(q){return {gf:!0,Sy:{xh:l.Ub.Cl},dd:q,responseType:0};}Object.defineProperties(b,{__esModule:{value:!0}});b.nza=void 0;n=a(22970);c=a(91562);f=a(91176);t=a(90745);g=a(66164);e=a(69575);h=a(85254);k=a(52571);l=a(65161);m=a(83527);a=a(50247);p=g.platform.MediaSource;a=(function(q){function r(u,v,w,x,y,A,z,B){var C,D,E;C=w.track;z=(z?"(cache)":"") + u.id + " header";D=x.offset;E=x.ma;x.tua && (D+=x.tua.byteLength,E-=x.tua.byteLength);x=n.__assign(n.__assign(n.__assign({},x),d(x.dd)),{offset:D,ma:E});v=q.call(this,u,C,z,x,y,A,v,B) || this;v.gg=w;v.aXa=0;m.mza.$zb(v,u,A,x,B);v.iYa=x.ma;++v.aXa;return v;}n.__extends(r,q);Object.defineProperties(r.prototype,{gf:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{sua:{get:function(){return this.q4b;},enumerable:!1,configurable:!0}});r.prototype.Se=function(){var u;if(!this.complete){u={type:"headerRequestCancelled",request:this};this.emit(u.type,u);}q.prototype.Se.call(this);};r.prototype.i$=function(u){this.stream.JXa();q.prototype.i$.call(this,u);};r.prototype.BZ=function(u,v,w){this.stream.Rta();q.prototype.BZ.call(this,u,v,w);};r.prototype.uo=function(u,v){var w;w=u.response;w && this.V5b(w);(0,k.assert)(this.kk);u.B1();this.parse()?(this.stream.Rta(),q.prototype.uo.call(this,u,v)):this.tla?(this.emc(u.offset + u.ma,this.tla),q.prototype.uo.call(this,u,v)):q.prototype.Fy.call(this,u);};r.prototype.emc=function(u,v){this.nub(this.CK,this.label + " (" + this.aXa + ")",d(this.dd),{offset:u,ma:v});++this.aXa;};r.prototype.parse=function(){var u,v,w,x,y,A,z;x=this.config;y=new c.vm(r.oDc,this.stream,this.kk,this.stream.Ba?["moov"]:["sidx"],x.mHc,{Fdd:this.stream.track.BZa,NHb:void 0 === this.Ea,wQb:!p.vg || !p.vg.scc,f3a:x.f3a,Th:this.stream.Th,c3:this.config.c3,dOc:!0,Uwa:!p.vg || !p.vg.yDc,w_a:this.config.w_a});A={Ea:this.Ea};z=y.parse(A);this.fXc=x.c3 && y.Guc;if(z.oB){(0,k.assert)(z.Qj);this.JF=z.Qj;this.q4b=z.sua;this.Hjb=!!z.llc;this.T3b=A.Yd;void 0 === this.Ea && void 0 === z.Ea && this.sb.error("No frame duration available for " + this.Ra);y=z.Ea?new f.I(z.Ea):this.Ea;A=void 0;if(this.stream.mediaType === l.u.U && (null === (u=x.ZS) || void 0 === u?0:u.enabled))if(null === (v=this.stream.bU) || void 0 === v?0:v.length)A=this.stream.bU;else if((u=this.stream.xu.bU,0 < (null === u || void 0 === u?void 0:u.length)))for((A=new Uint8Array(u.length),w=0);w < u.length;w++)A[w]=u[w].Qb;else if(null === (w=z.PE) || void 0 === w?0:w.length)for((A=new Uint8Array(z.PE.length),w=0);w < z.PE.length;w++)A[w]=z.PE[w];w=z.QY?new f.I(z.QY):void 0;this.stream.G0(z.Qj,z.O,y,z.Oa,z.q0,z.Km,A,z.trackId,w);this.kk=void 0;}else this.tla=z.tla || 0;return !!z.oB;};r.prototype.V5b=function(u){this.kk=this.kk?(0,e.iA)(this.kk,u):u;};r.oDc=new g.platform.Console("MP4","media|asejs");return r;})(a.D3);b.nza=a;(0,h.wl)(m.mza,a,!1,!1);(0,h.wl)(t.EventEmitter,a);},33923:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.RI=void 0;b.$1a=function(f){var g,e;(0,d.assert)(f.mediaType !== n.u.um,"Media events is unsupported");e=(g={},g[n.u.X]={audio:f},g[n.u.U]={video:f},g[n.u.Da]={text:f},g);return new c(e[f.mediaType]);};d=a(91176);n=a(65161);c=(function(){function f(g){this.audio=g.audio;this.video=g.video;this.text=g.text;}f.prototype.pyb=function(g){switch(g){case n.u.X:return this.audio;case n.u.U:return this.video;case n.u.Da:return this.text;}};f.prototype.Ui=function(g){return this.pyb(g);};f.prototype.zR=function(g){return (g=this.pyb(g))?g.track:void 0;};Object.defineProperties(f.prototype,{Mf:{get:function(){return this.video || this.audio || this.text;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{YAb:{get:function(){return void 0 !== this.video && void 0 !== this.audio;},enumerable:!1,configurable:!0}});f.prototype.e$=function(g){[this.audio,this.video,this.text].filter(function(e){return void 0 !== e;}).forEach(g);};f.prototype.DPa=function(g){return [this.audio,this.video,this.text].filter(function(e){return void 0 !== e;}).every(g);};Object.defineProperties(f.prototype,{R:{get:function(){return this.Mf.R;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{mediaType:{get:function(){return this.Mf.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{bitrate:{get:function(){return this.G9b;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{G9b:{get:function(){return this.YAb?this.video.bitrate + this.audio.bitrate:this.Mf.bitrate;},enumerable:!1,configurable:!0}});f.prototype.HLa=function(){return this.YAb?("audio: ").concat(this.Bv,"kbps | video ").concat(this.tt,"kbps"):("").concat(this.bitrate,"kbps");};Object.defineProperties(f.prototype,{Bv:{get:function(){var g;return null === (g=this.audio) || void 0 === g?void 0:g.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{tt:{get:function(){var g;return null === (g=this.video) || void 0 === g?void 0:g.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Qb:{get:function(){var g;return null !== (g=this.Mf.Qb) && void 0 !== g?g:0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{kb:{get:function(){return this.Mf.kb;},set:function(g){this.Mf.kb=g;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{id:{get:function(){return this.Mf.id;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ra:{get:function(){return this.Mf.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Oa:{get:function(){return this.Mf.Oa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ry:{get:function(){return this.Mf.ry;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{wfa:{get:function(){return this.Mf.wfa;},set:function(g){this.Mf.wfa=g;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Vv:{get:function(){return this.DPa(function(g){return g.Vv;});},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ab:{get:function(){return this.Mf.Ab;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ba:{get:function(){return this.Mf.Ba;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Mq:{get:function(){return this.DPa(function(g){return g.Mq;});},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{pp:{get:function(){return this.Mf.pp;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sH:{get:function(){return this.Mf.sH;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{lo:{get:function(){return this.Mf.lo;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Uc:{get:function(){return this.Mf.Uc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Pw:{set:function(g){this.e$(function(e){e.Pw=g;});},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{location:{get:function(){return this.Mf.location;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Tj:{get:function(){var g;g=[];this.e$(function(e){e.location && g.push(e.location);});return g;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ku:{set:function(g){this.Mf.Ku=g;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{A0a:{set:function(g){this.Mf.A0a=g;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{m_:{set:function(g){this.Mf.m_=g;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{iTa:{set:function(g){this.Mf.iTa=g;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{jTa:{set:function(g){this.Mf.jTa=g;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xu:{get:function(){return this.Mf.xu;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{profile:{get:function(){return this.Mf.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ow:{get:function(){return this.Mf.Ow;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{M:{get:function(){return this.Mf.M;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{yb:{get:function(){return this.Mf.yb;},set:function(g){this.Mf.yb=g;},enumerable:!1,configurable:!0}});f.prototype.isEqual=function(g){return g && this.DPa(function(e){var h;h=g.Ui(e.mediaType);return void 0 !== h && e.Ra === h.Ra;});};f.prototype.toString=function(){return ("").concat(this.audio?this.audio.toString():"") + ("").concat(this.video?this.video.toString():"") + ("").concat(this.text?this.text.toString():"");};return f;})();b.RI=c;},45691:function(t,b,a){var n,c,f,g,e,h,k,l,m,p;function d(q,r,u){return 2 === r.length?r[1]:r.reduce(function(v,w){return Math.abs(w - q) < Math.abs(v - q)?w:v;},u);}Object.defineProperties(b,{__esModule:{value:!0}});b.Lga=void 0;n=a(22970);a(66164);c=a(91562);f=a(91176);g=a(26388);e=a(75539);t=a(85254);h=a(48170);k=a(69575);l=a(50247);m=a(50468);(function(q){q[q.No=0]="INITIAL";q[q.y9a=1]="HAVE_CONTENT_LENGTH";q[q.A9a=2]="HAVE_MOOF_LENGTH";q[q.z9a=3]="HAVE_MOOF";})(p || (p={}));a=(function(q){function r(u,v,w,x,y,A,z,B){w=u.mediaType === g.u.X?n.__assign(n.__assign({},w),{responseType:0}):w;v=q.call(this,u,v,"live-edit",w,x,y,A,z) || this;v.SD=!1;v.OT=p.No;v.Esb=!1;m.Io.Ob(v,u,y,w,B);v.Vna=!0;(0,f.assert)(v.mediaType === g.u.X || v.mediaType === g.u.U);return v;}n.__extends(r,q);Object.defineProperties(r.prototype,{stream:{get:function(){return this.Qe;},enumerable:!1,configurable:!0}});r.prototype.by=function(){return this.Sqa() && q.prototype.by.call(this);};r.prototype.iMa=function(){return !1;};r.prototype.zNa=function(u,v,w){var x,y;x=w.offset;y=this.config.Lzc;w=n.__assign(n.__assign({},w),{oQa:this.config.cPa,responseType:0});this.kE(u,v,w,{offset:x,ma:y});};r.prototype.mM=function(u){(void 0 !== this.Wn || this.TEc(u)) && this.J3a(u);this.OT === p.No && void 0 !== this.Wn && (this.PS(u,this.Wn,this.ma),this.OT=p.y9a);};r.prototype.uo=function(u,v){if(!(this.state > e.oh.ym)){h.l && this.console.trace(("AseLiveEditingRequest: onrequestcomplete, ").concat(this.toString(),": ") + ("ID: ").concat(u.Ei(),", requestState: ").concat(this.OT,", bytes: ").concat(v));this.OT !== p.z9a && (this.data=void 0 === this.data?u.response:(0,k.iA)(this.data,u.response));switch(this.OT){case p.No:(0,f.assert)(!1,"Should not encounter request complete before obtaining content length");case p.y9a:if(!this.YEc())break;this.OT=p.A9a;case p.A9a:this.XEc(u) && (this.OT=p.z9a);}q.prototype.uo.call(this,u,v);}};r.prototype.TEc=function(u){this.Wn=u.ywb();h.l && this.console.debug(("AseLiveEditingRequest: ").concat(this.toString()," setting contentLength to ").concat(this.Wn," from range"));return void 0 === this.Wn?(this.Pyb(u),!1):!0;};r.prototype.YEc=function(){var u,v;(0,f.assert)(void 0 !== this.Wn,"Should have content length by now");(0,f.assert)(void 0 !== this.data,"Should have some data by now");u=c.gJ.path(new DataView(this.data),["moof"]);v=u.offset;u=u.end;if(void 0 === v || void 0 === u)return (h.l && this.console.error("AseLiveEditingRequest: onrequestcomplete, failed to find moof in initial request"),v=this.offset + this.data.byteLength,u=this.config.VCb,this.kE(this.rb[0].CK,this.label,n.__assign(n.__assign({},this.properties),{responseType:0}),{offset:v,ma:u}),!1);this.SWa=v;this.Z_=this.offset + u + 8;h.l && this.console.trace(("AseLiveEditingRequest: obtainMoofLength, ").concat(this.toString(),": ") + ("moofOffset: ").concat(this.SWa,", mediaDataOffset: ").concat(this.Z_));return !0;};r.prototype.XEc=function(u){var v,w,x;(0,f.assert)(void 0 !== this.Wn,"Should have content length by now");(0,f.assert)(void 0 !== this.Z_,"Should have sample offset by now");(0,f.assert)(void 0 !== this.data,"Should have some data by now");v=this.data.byteLength;w=this.Z_ > v;if(w){x=this.Z_ - v;h.l && this.console.trace("AseLiveEditingRequest: obtainMoof, request:",u.toString(),("did not contain all of the moof, requesting ").concat(x," more bytes"));this.kE(u.CK,this.label,n.__assign(n.__assign({},this.properties),{responseType:0}),{offset:v,ma:x});v+=x;}this.na?w || this.BHc(v,this.Wn):(w || (u=c.gJ.qub(new DataView(this.data))) && void 0 !== u.Sx && void 0 !== u.lI && (h.l && this.console.trace("AseLiveEditingRequest: fragment times (unoptimized): " + ("tfdt: ").concat(u.S2,", ") + ("ffco: ").concat(u.Sx,", ") + ("sampleCount: ").concat(u.lI)),this.sQa(this,u,!1,!1)),this.Esb || (x=this.Wn - v,0 < x && (h.l && this.console.trace(("AseLiveEditingRequest: obtainMoof with  on edits: offset ").concat(v,", bytes ").concat(x,", ") + ("contentLength ").concat(this.Wn)),this.SZa(v,x,this.Wn),this.Esb=!0)));return !w;};r.prototype.SZa=function(u,v,w){this.n3a(u,v) || (this.YF={offset:u,ma:v,Wn:w},this.tQa(this));};r.prototype.BHc=function(u,v){var w,x,y,A,z,B,C,D,E,H,F;(0,f.assert)(void 0 !== this.Z_,"Should have sample offset by now");(0,f.assert)(void 0 !== this.SWa,"Should have moof offset by now");(0,f.assert)(void 0 !== this.data,"Should have some data by now");(0,f.assert)(this.data.byteLength >= this.Z_,"Should have enough data for the whole moof by now");(0,f.assert)(void 0 !== this.na,"Should have an edit");x=this.stream.rs();(0,f.assert)(x,"Should have a header for the stream that is being edited");y=new c.xz(this.console,{mediaType:this.mediaType},this.data);A=0;if(y.parse({Yd:null === x || void 0 === x?void 0:x.vca}).done){z=c.vm.path(y,["moof","traf"]);x=c.vm.path(z,["tfhd"]);y=c.vm.path(z,["tfdt"]);B=c.vm.path(z,["trun"]);if(void 0 !== x && void 0 !== y && void 0 !== B && void 0 !== B.gl){x=B.uLc(x);y=y.iG;z=B.snc;C=x.length;h.l && this.console.trace(("AseLiveEditingRequest: fragment times: tfdt: ").concat(y,", ") + ("firstFrameCompositionOffset: ").concat(z,", sampleCount: ").concat(C));D=this.SWa + B.gl;E=!1;if(null === this.na.end && this.tf < C)(h.l && this.console.warn(("AseLiveEditingRequest: null edit end for fragment with ").concat(this.tf," ") + ("expected samples but actual fragment is longer (").concat(C,") - extending")),E=!0,this.w3a(x.length));else if(null === this.na.end && this.tf > C || null !== this.na.end && this.na.end > C)(h.l && this.console.warn(("AseLiveEditingRequest: edit end (").concat(this.na.end,", ").concat(this.tf,") ") + ("is beyond actual samples (").concat(x.length,") - truncating")),E=!0,this.w3a(x.length));H=!1;if(this.config.B2 && this.mediaType === g.u.U){B=B.qLc();if(0 !== this.na.start && -1 === B.indexOf(this.na.start)){F=this.na.start;H=d(this.na.start,B,this.tf);h.l && this.console.warn(("AseLiveEditingRequest: ").concat(this.toString()," edit start point ").concat(F," is not an IDR, ") + ("nearest IDR is ").concat(H));this.yh({start:H,end:this.na.end});H=!0;}null !== this.na.end && this.na.end < this.tf && -1 === B.indexOf(this.na.end) && (F=this.na.end,H=d(this.na.end,B,this.tf),h.l && this.console.warn(("AseLiveEditingRequest: ").concat(this.toString()," edit end point ").concat(F," is not an IDR, ") + ("nearest IDR is ").concat(H)),this.yh({start:this.na.start,end:H}),H=!0);}this.sQa(this,{S2:y,Sx:z,lI:C},E,H);for(y=0;y < this.na.start && y < x.length;y++)D+=x[y];z=null !== (w=this.na.end) && void 0 !== w?w:this.tf;for(y=this.na.start;y < z && y < x.length;y++)A+=x[y];D < u && (A-=u - D,D=u);h.l && this.console.trace(("AseLiveEditingRequest: edit: ").concat(JSON.stringify(this.na)) + (", samples expected ").concat(this.tf,", actual ").concat(x.length,", sample sizes: ").concat(x) + (", start: ").concat(this.na.start,", end: ").concat(this.na.end) + (", requestOffset: ").concat(D,", bytes: ").concat(A,", contentLength: ").concat(v));}else h.l && this.console.error("AseLiveEditingRequest: failed to find trun or tfhd in moof");this.data=void 0;}void 0 !== D?0 < A && (this.SZa(D,A,v),this.S0={offset:D,ma:A}):(A=v - u,0 < A && (this.SZa(u,A,v),this.S0={offset:u,ma:A}));h.l && this.console.trace(("AseLiveEditingRequest: edit: ").concat(JSON.stringify(this.na),", ") + ("requestOffset: ").concat(D,", bytes: ").concat(A,", contentLength: ").concat(v,", ") + ("optimizedRequest: ").concat(JSON.stringify(this.S0)));};r.prototype.toString=function(){return "ID: " + this.Ei() + ("[").concat(this.Ra,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.qa.G,"-").concat(this.ta.G,",") + ("p:").concat(this.Tb.G,"-").concat(this.Pb.G,",d:").concat(this.Wb.G,"]");};return r;})(l.D3);b.Lga=a;(0,t.wl)(m.Io,a,!1);},11758:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.oza=void 0;d=a(22970);a(66164);n=a(52571);t=(function(c){function f(g,e,h,k,l,m,p,q){g=c.call(this,g,e,h,k,l,m,p,q) || this;(0,n.assert)(0 === h.responseType);(0,n.assert)(h.ci);g.ci=h.ci;return g;}d.__extends(f,c);Object.defineProperties(f.prototype,{stream:{get:function(){return this.Qe;},enumerable:!1,configurable:!0}});return f;})(a(47743).lza);b.oza=t;},79459:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.qza=void 0;d=a(22970);n=a(79048);c=a(48170);t=(function(f){function g(e,h,k,l,m,p,q,r,u,v,w,x,y){void 0 === x && (x=!0);void 0 === y && (y=!0);e=f.call(this,k,u,{index:0,offset:0,ma:0,ub:m,Lb:p,O:l,bn:x,Gi:y,Pu:w},v) || this;e.iHc=k;e.console=r;e.K=u;c.l && e.console.log(("AsePaddingRequest [").concat(e.mediaType,"], constructed ").concat(e.toString()) + (", ").concat(h.byteLength," bytes") + (", ").concat(e.tf," samples"));e.rva(h,!0);return e;}d.__extends(g,f);Object.defineProperties(g.prototype,{profile:{get:function(){return this.iHc.profile;},enumerable:!1,configurable:!0}});g.prototype.abort=function(){return !1;};g.prototype.toJSON=function(){var e,h,k,l,m;return {viewableId:n.Br,startPts:null === (e=this.Tb) || void 0 === e?void 0:e.G,endPts:(null === (h=this.Tb) || void 0 === h?void 0:h.G) + (null === (k=this.Wb) || void 0 === k?void 0:k.G),"contentStartTicks:":this.ub,contentEndTicks:this.Lb,contentStartPts:null === (l=this.qa) || void 0 === l?void 0:l.G,contentEndPts:null === (m=this.ta) || void 0 === m?void 0:m.G};};g.prototype.toString=function(){return ("[padding c:").concat(this.qa.G,"-").concat(this.ta.G,",") + ("p:").concat(this.Tb.G,"-").concat(this.Pb.G,",") + ("d:").concat(this.ta.G - this.qa.G,"]");};return g;})(a(50468).Io);b.qza=t;},81392:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.WN=b.I5a=void 0;d=a(22970);t=(function(){function n(c){this.Nt=c;}n.prototype.b1a=function(c){this.Nt=c;};n.prototype.xpb=function(){this.Nt=void 0;};n.prototype.i$=function(c){var f,g;null === (g=null === (f=this.Nt) || void 0 === f?void 0:f.$ta) || void 0 === g?void 0:g.call(f,c);};n.prototype.Toa=function(c){var f,g;null === (g=null === (f=this.Nt) || void 0 === f?void 0:f.OS) || void 0 === g?void 0:g.call(f,c);};n.prototype.h$=function(c){var f,g;null === (g=null === (f=this.Nt) || void 0 === f?void 0:f.mM) || void 0 === g?void 0:g.call(f,c);};n.prototype.CZ=function(c,f){var g,e;null === (e=null === (g=this.Nt) || void 0 === g?void 0:g.$D) || void 0 === e?void 0:e.call(g,c,f);};n.prototype.ZQ=function(c,f){var g,e;null === (e=null === (g=this.Nt) || void 0 === g?void 0:g.uo) || void 0 === e?void 0:e.call(g,c,f);};n.prototype.Soa=function(c){var f,g;null === (g=null === (f=this.Nt) || void 0 === f?void 0:f.Fy) || void 0 === g?void 0:g.call(f,c);};n.prototype.BZ=function(c,f,g){var e,h;null === (h=null === (e=this.Nt) || void 0 === e?void 0:e.Q0) || void 0 === h?void 0:h.call(e,c,f,g);};n.prototype.uQa=function(c,f,g){var e,h;null === (h=null === (e=this.Nt) || void 0 === e?void 0:e.PS) || void 0 === h?void 0:h.call(e,c,f,g);};n.prototype.Ivb=function(c){var f,g;null === (g=null === (f=this.Nt) || void 0 === f?void 0:f.Zta) || void 0 === g?void 0:g.call(f,c);};n.prototype.tQa=function(c){var f,g;null === (g=null === (f=this.Nt) || void 0 === f?void 0:f.aua) || void 0 === g?void 0:g.call(f,c);};n.prototype.sQa=function(c,f,g,e){var h,k;null === (k=null === (h=this.Nt) || void 0 === h?void 0:h.eYa) || void 0 === k?void 0:k.call(h,c,f,g,e);};return n;})();b.I5a=t;t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);return c;})(t);b.WN=t;t.prototype.$ta=t.prototype.i$;t.prototype.OS=t.prototype.Toa;t.prototype.mM=t.prototype.h$;t.prototype.$D=t.prototype.CZ;t.prototype.uo=t.prototype.ZQ;t.prototype.Fy=t.prototype.Soa;t.prototype.Q0=t.prototype.BZ;t.prototype.PS=t.prototype.uQa;t.prototype.Zta=t.prototype.Ivb;t.prototype.aua=t.prototype.tQa;t.prototype.eYa=t.prototype.sQa;},50247:function(t,b,a){var d,n,c,f,g,e,h,k,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.D3=b.ut=void 0;d=a(22970);n=a(90745);c=a(91562);a(66164);t=a(85254);f=a(52571);a(1936);g=a(75539);e=a(45247);h=a(8149);k=a(24940);l=a(81392);a=a(78015);(function(p){p[p.Icb=0]="NOTHING_APPENDED";p[p.Dia=1]="PARTIAL";p[p.Mn=2]="COMPLETE";p[p.Wp=3]="ERROR";})(m || (b.ut=m={}));m=(function(p){function q(r,u,v,w,x,y,A,z){var B;B=p.call(this,r,w) || this;B.CK=u;B.label=v;B.properties=w;B.K=y;B.config=A;B.console=z;B.OM=k.jja.De;B.events=new n.EventEmitter();B.$a=g.oh.gC;B.$O=0;B.G6=-Infinity;B.rb=[];B.Uva=0;B.S3a=!1;B.b1a(x);B.$a=g.oh.gC;B.Hg=r.a_(!!w.gf,w.ci);B.kP=r.location || w.location;B.f7=r.Ab || w.dd;B.ci=w.ci;B.S3a=0 >= w.ma && B.iMa();B.zNa(u,v,w);return B;}d.__extends(q,p);Object.defineProperties(q.prototype,{gf:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{state:{get:function(){return this.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{uw:{get:function(){return this.$a >= g.oh.OPENED && this.$a < g.oh.Mn;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{active:{get:function(){return this.$a >= g.oh.QN && this.$a < g.oh.Mn;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{g_a:{get:function(){return this.$a === g.oh.ym;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{complete:{get:function(){return this.$a === g.oh.Mn;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{aborted:{get:function(){return this.$a === g.oh.Tw;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ft:{get:function(){return void 0 !== this.YF;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{url:{get:function(){return this.Hg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{status:{get:function(){var r;return (null === (r=this.G_) || void 0 === r?void 0:r.status) || this.rb[0].status;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{bh:{get:function(){var r;return null === (r=this.G_) || void 0 === r?void 0:r.bh;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{jD:{get:function(){var r;return null === (r=this.G_) || void 0 === r?void 0:r.jD;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Qg:{get:function(){var r;return null === (r=this.G_) || void 0 === r?void 0:r.Qg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{bytesReceived:{get:function(){return this.$O;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nj:{get:function(){return this.G6;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{responseType:{get:function(){return this.properties.responseType;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{location:{get:function(){return this.kP;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{dd:{get:function(){return this.f7;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{VNb:{get:function(){return this.properties.OB;},enumerable:!1,configurable:!0}});q.prototype.c1a=function(r,u){this.kP=r;this.f7=u;};q.prototype.by=function(){return this.state < g.oh.ym?!1:this.rb.every(function(r){return r.state === g.oh.ym || r.state === g.oh.Mn;});};q.prototype.F3a=function(){var r,u,v,w;if(this.complete)return 0;r=this.stream;u=r.M;v=u.Daa;if(!r.url)return (this.console.warn("updateurl, missing url for streamId:",r.Ra,"mediaRequest:",this,"stream:",r),1);w=r.a_(this.gf,this.ci);if(this.url !== w || v)if((u.c1a(this,r.location,r.Ab),!this.E2(w)))return (this.console.warn("swapUrl failed: ",this.jD),2);return 0;};q.prototype.Zac=function(){return 0 >= this.ma && 1 <= this.rb.length && void 0 !== this.rb[0].bh;};q.prototype.Yac=function(r){(0,f.assert)(0 >= this.ma,"AseRequest.changeStream is only supported for open range requests");(0,f.assert)(1 <= this.rb.length && void 0 !== this.rb[0].bh,"AseRequest.changeStream only supported when open range request has failed");(0,f.assert)(this.stream.track === r.track,"AseStream.changeStream cannot change stream to a different track");this.Ys(r);this.F3a();};q.prototype.CQb=function(){var v;for(var r,u;this.Uva < this.rb.length && (u=this.rb[this.Uva]).response;){++this.Uva;v=!this.ft && this.Uva === this.rb.length;null === (r=this.rva) || void 0 === r?void 0:r.call(this,u.response,v);u.B1();}};q.prototype.zNa=function(r,u,v){var w,x;if(0 < v.ma)v.YL && v.ma > v.YL?this.aLc(r,u,v,v.YL,v):this.kE(r,u,v,v);else if(this.S3a)this.kE(r,u,v,v);else {w=v.offset;x=void 0;void 0 !== v.index && (x=this.stream.oqc(v.index));x || (x=this.mediaType === e.u.Da?this.config.jAc:this.config.VCb);if(this.config.mna || this.config.cPa)v=d.__assign(d.__assign({},v),{responseType:0,oQa:this.config.cPa});this.kE(r,u,v,{offset:w,ma:x});}};q.prototype.aLc=function(r,u,v,w,x){var y,A;w=Math.ceil(x.ma / w);y=x.offset;for(x=x.ma;0 < x;--w){A=Math.ceil(x / w);this.kE(r,u,v,{offset:y,ma:A});y+=A;x-=A;}};q.prototype.iMa=function(){return !!this.CK.tPb;};q.prototype.kE=function(r,u,v,w){r=new g.nEa(this.stream,this.Hg,r,u,v,w,this,this.K,this.config,this.console);this.rb.push(r);this.state >= g.oh.OPENED && (r.open(),this.state >= g.oh.Mn && (this.$a=g.oh.OPENED,this.i$(this)));};q.prototype.My=function(r){var u;u=this.rb.indexOf(r);-1 !== u && (this.rb.splice(u,1),0 < this.bf && ((0,f.assert)(this.bf >= r.ma),this.bf-=r.ma));};q.prototype.nub=function(r,u,v,w){this.kE(r,u,v,w);this.bf+=w.ma;};q.prototype.open=function(){var r;null === (r=this.ZIa) || void 0 === r?void 0:r.UFc();if(r=this.rb.every(function(u){return u.open();}))(this.$a=g.oh.OPENED,this.i$(this));return r;};q.prototype.resume=function(){var r;(0,f.assert)(void 0 !== this.YF,"invalid attempt to resume request hat is not stalled");r=this.n3a(this.YF.offset,this.YF.ma);r && (this.YF=void 0);return r;};q.prototype.abort=function(){var r,u;if(this.$a !== g.oh.Tw){r=this.active;u=this.uw;this.$a=g.oh.Tw;this.rb.forEach(function(v){return v.abort();});this.YF=void 0;this.BZ(this,r,u);}return !0;};q.prototype.Se=function(){this.rb.forEach(function(r){return r.Se();});this.YF=void 0;};q.prototype.E2=function(r){var u;u=this;this.Hg=r;return this.rb.map(function(v){return v.E2(u.Hg);}).some(function(v){return v;});};q.prototype.Y$=function(r){(0,f.assert)(0 <= r && r < this.rb.length);return this.rb[r].response;};q.prototype.getResponseHeader=function(r,u){var v;v=null;this.rb.some(function(w){return !!(v=w.getResponseHeader(r,u));});return v;};q.prototype.getAllResponseHeaders=function(r){var u;u=null;this.rb.some(function(v){return !!(u=v.getAllResponseHeaders(r));});return u;};q.prototype.Ei=function(){return 1 === this.rb.length?this.rb[0].Ei():"(" + this.rb.map(function(r){return r.Ei();}).join(", ") + ")";};q.prototype.iSa=function(){return this.rb[0].Ei();};q.prototype.$ta=function(){};q.prototype.OS=function(r){var u;this.state > g.oh.OPENED || (this.$a=g.oh.QN,this.G6=Math.max(this.G6,r.nj),null === (u=this.ZIa) || void 0 === u?void 0:u.JFc(),this.Toa(this));};q.prototype.suc=function(r,u,v){void 0 === v?this.Pyb(r):(r=v - u,0 < r && !this.n3a(u,r) && (this.YF={offset:u,ma:r,Wn:v},this.tQa(this)));};q.prototype.mM=function(r){var u,v,w;if((0,h.zk)(this.stream)){if(this.config.Okc && void 0 !== this.properties.index){u=r.getResponseHeader("X-NFLX-NCL",!1);u && (u=Number(u),isNaN(u) || this.stream.bNb(this.properties.index + 1,u));}u=0 < r.kI.length?r.kI[0]:-1;v=r.getResponseHeader("X-TCP-Info",!1);w=this.stream.M;this.config.JK && w.NB && v?w.NB.mJb(v,{mediaType:this.mediaType,jn:u,ci:this.properties.ci,Ra:this.stream.Ra,stream:this.stream,yxa:!0}):w.OL && w.OL.sJb(this.stream,this.K,this.url,this.mediaType,v,u,this.properties.ci);}u=r.ywb();void 0 !== this.properties.index && void 0 !== u && this.stream.bNb(this.properties.index,u);0 >= this.ma && !this.S3a?(this.suc(r,this.offset + r.ma,u),void 0 !== u && (this.J3a(r),this.PS(r,u,this.ma))):this.J3a(r);};q.prototype.J3a=function(r){var u;this.state <= g.oh.QN?(this.fYa(r,0),this.$a=g.oh.ym,null === (u=this.ZIa) || void 0 === u?void 0:u.EFc(),this.CQb(),this.h$(this)):this.$D(r,0);};q.prototype.aua=function(){(0,f.assert)(!1);};q.prototype.eYa=function(){(0,f.assert)(!1);};q.prototype.n3a=function(r,u){var v;v=this.stream.M;if(v.St && !v.St.Ema(this.mediaType,u))return !1;this.kE(this.rb[0].CK,this.label,this.properties,{offset:r,ma:u});return !0;};q.prototype.Pyb=function(r){this.oqb=(this.oqb || 0) + 1;1 >= this.oqb && (this.My(r),r.abort(),this.YF=void 0,this.zNa(r.CK,this.label,this.properties));};q.prototype.$D=function(r,u){this.fYa(r,u);this.CZ(this,u);};q.prototype.uo=function(r,u){var v;this.state > g.oh.ym || (this.config.mna && this.stream.Ba && this.mna(r),this.fYa(r,u),this.CQb(),this.rb.every(function(w){return w.complete;}) && !this.ft?(this.$a=g.oh.Mn,null === (v=this.ZIa) || void 0 === v?void 0:v.YD(),this.ZQ(this,u),this.Se()):this.CZ(this,u));};q.prototype.Zta=function(){this.Ivb(this);};q.prototype.Fy=function(r){var u;this.console.warn("AseRequest.onrequesterror:",this.toString(),"sub request:",r.toString());u=r.status;(416 === u || 206 === u) && 0 >= this.ma && !this.iMa()?(r.abort(),r.Se(),this.My(r),this.kE(r.CK,this.label,this.properties,{offset:r.offset,ma:Math.max(Math.ceil(r.ma / 2),1)})):(this.G_=r,this.Soa(this));};q.prototype.Q0=function(){var r,u;if(this.state !== g.oh.Tw){this.console.warn("AseRequest.onrequestaborted:",this.toString());r=this.active;u=this.uw;this.$a=g.oh.Tw;this.BZ(this,r,u);}};q.prototype.PS=function(r,u,v){this.bf+=u - v;r={type:"updatedBytes",AFb:u,iYa:v};this.events.emit(r.type,r);this.uQa(this,u,v);};q.prototype.fYa=function(r,u){this.G_ === r && (this.G_=void 0);this.G6=Math.max(this.G6,r.nj);this.$O+=u;};q.prototype.toString=function(){return "ID: " + this.Ei();};q.prototype.mna=function(r){var u,v,w,x,y,A,z,B;(0,f.assert)((0,h.zk)(this.stream),"debugFragmentTimes only supported for live streams");if(this.mediaType !== e.u.Da && this.Iwc && r === this.rb[0] && r.response instanceof ArrayBuffer){u=c.gJ.qub(new DataView(r.response));if(u){r=u.S2;v=u.Sx;w=u.lI;if(void 0 === v || void 0 === w)(u=void 0 === v?this.mediaType === e.u.U?this.stream.Ea.Kc(this.Yl).$:0:0,new e.I(r + u,this.stream.Yl));else {x=this.M.getTracks(e.u.U)[0];(0,f.assert)((0,h.po)(x),"Unexpected on-demand video track in live branch");u=r;this.mediaType === e.u.X && this.config.PCb && (u-=x.Sx.Kc(this.Yl).$);w=this.stream.Ea.hh(w);v=new e.I(u + v,this.stream.Yl).ea(this.stream.track.Sx);y=this.Wv.add(x.Gk);A=this.Unc;x=!w.equal(A);z=1 < e.I.abs(v.ea(y)).$;B=x && z?"both":x?"duration":z?"presentation":v.equal(y)?"ok":"onetick";r="onrequestcomplete, fragmentTimes: index " + this.index + (" decode ").concat(r) + (" adjusted ").concat(u) + (" presentation ").concat(v.ca()) + (" expected ").concat(y.ca()) + (" duration ").concat(w.ca()) + (" expected ").concat(A.ca()," ") + B;x?this.console.error(r):z?this.console.warn(r):this.console.trace(r);}}}};return q;})(a.lV);b.D3=m;(0,t.wl)(l.I5a,m,!1);},11031:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.E3=void 0;d=a(22970);n=a(91176);c=a(6198);f=a(52571);g=a(48170);e=a(92140);h=a(50468);t=(function(){function k(l,m,p){var q,r,u;this.Bb=m;this.sb=p;this.Ae=n.I.ia;this.Th=!0;this.Lvb=new Map();this.clb=l.Ow;this.xu=l.xu;this.It=l.track;this.r3b=this.mediaType !== c.u.Da?this.oS.yk:!1;this.E2a=l.E2a;this.JF=l.Qj;m=l.pp;this.pp=void 0 === m?!0:m;this.Mna=l.Mna;this.PW=void 0;this.aEb=this.Vt=0;this.url=this.Cea=this.Ab=this.Ku=this.LVa=this.location=this.kb=this.yb=void 0;this.lo=!1;this.RUa=this.Og=void 0;m=(l=this.Bb) && "object" === typeof l.tda && l.tda[this.profile];"object" === typeof m && (m=m[this.bitrate]) && (this.Ae=new n.I(m.ticks,m.timescale));this.eEc=0 <= (null === (q=l.tnb) || void 0 === q?void 0:q.indexOf(this.profile));this.QAb=this.mediaType === c.u.X?!0:this.mediaType === c.u.U?this.Ba || -1 !== this.Uc.indexOf("h264bpl") || -1 !== this.Uc.indexOf("h264mpl") || -1 !== this.Uc.indexOf("hevc") && -1 === this.Uc.indexOf("do"):!1;if((null === (r=l.ZS) || void 0 === r?0:r.O7c) && this.mediaType === c.u.U && (q=this.xu,0 < (null === (u=q.bU) || void 0 === u?void 0:u.length))){u=q.bU.splice(0,q.bU.length);q=new Uint8Array(u.length);for(r=0;r < u.length;r++)q[r]=u[r].Qb;this.bU=q;}}Object.defineProperties(k.prototype,{EAb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{M:{get:function(){return this.It.M;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{J:{get:function(){return this.M.J;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{vn:{get:function(){return this.M.vn;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{R:{get:function(){return this.It.R;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mediaType:{get:function(){return this.It.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ea:{get:function(){return this.It.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{O:{get:function(){return this.It.O;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Yl:{get:function(){return this.It.Yl;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{trackId:{get:function(){return this.It.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{oS:{get:function(){if(this.mediaType !== c.u.Da)return this.xu;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ow:{get:function(){return this.clb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ra:{get:function(){var l;return this.mediaType === c.u.Da?null !== (l=this.E2a) && void 0 !== l?l:"":this.oS.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{id:{get:function(){return this.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{yk:{get:function(){return this.r3b;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ba:{get:function(){return this.track.Eb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bitrate:{get:function(){return this.mediaType === c.u.Da?0:this.oS.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Qb:{get:function(){var l;if(this.poa)return this.poa;if(this.mediaType === c.u.U)return null !== (l=this.xu.vmaf) && void 0 !== l?l:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Swa:{get:function(){return this.mediaType !== c.u.X?e.Zgb.Bqc().Swa(this.bitrate,this.profile):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{T_a:{get:function(){if(this.mediaType === c.u.U)return this.xu.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{QT:{get:function(){if(this.mediaType === c.u.U)return this.xu.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{profile:{get:function(){return this.mediaType === c.u.Da?"timedtext":this.oS.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Uc:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Bo:{get:function(){if(this.mediaType === c.u.U)return this.xu.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{g_:{get:function(){return this.eEc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ry:{get:function(){return this.Oa && this.Oa.ry;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Vv:{get:function(){return void 0 !== this.PW?this.PW:this.Yxc();},set:function(l){this.PW=l;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Mq:{get:function(){return this.pp && !this.lo;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sH:{get:function(){return this.Mq && !1 !== this.Vv;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Qj:{get:function(){return this.JF;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Nwc:{get:function(){(0,f.assert)(!!this.Oa,"Initial header should have been received already");return this.M.eUa() && -1 < this.Uc.indexOf("h264mpl") && void 0 === this.Oa.MKa;},enumerable:!1,configurable:!0}});k.prototype.HLa=function(){return ("").concat(this.bitrate,"kbps");};k.prototype.rs=function(){return this.M.rs(this.mediaType,this.Ra);};k.prototype.wqc=function(){var l;l=this.rs();return l && l.stream.Oa;};k.prototype.bC=function(l,m){return this.M.bC(this,l,m);};k.prototype.JXa=function(){this.track.JXa();};k.prototype.Rta=function(){this.track.Rta();};k.prototype.hu=function(l){g.l && (0,f.assert)(this.Oa && 0 <= l && l < this.Oa.length);return new h.Io(this,void 0,this.Oa.get(l));};k.prototype.Lwb=function(l){var m;g.l && (0,f.assert)(l instanceof h.Io);g.l && (0,f.assert)(this.trackId === l.stream.trackId);m=this.hu(l.index);l.na && (m.yh(l.na),m.h2(l.Pu),g.l && this.sb && this.sb.trace("AseStream: other stream fragment: " + JSON.stringify(l) + " transferring edit:" + JSON.stringify(l.na)));return m;};k.prototype.bNb=function(l,m){this.Lvb.set(l,m);};k.prototype.oqc=function(l){return this.Lvb.get(l);};k.prototype.gWc=function(l,m){this.Vt=l;this.aEb=m;};k.prototype.ecc=function(){this.kb=this.yb=this.Ab=this.location=this.url=void 0;};k.prototype.ss=function(){switch(this.mediaType){case c.u.X:return this.Poc();case c.u.U:return this.Htc();case c.u.Da:return this.ktc();default:(0,f.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};k.prototype.toJSON=function(){return {movieId:this.R,mediaType:this.mediaType,streamId:this.Ra,bitrate:this.bitrate,streamIndex:this.Ow,isAvailable:this.pp,fittable:this.Vv,vmaf:this.Qb,resolutionWidth:this.T_a,resolutionHeight:this.QT};};k.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Ra + ":" + this.bitrate;};k.prototype.Yxc=function(){var l;if(!this.eh)return !0;if(this.track.eTa >= this.bitrate)return this.PW=!0;if(this.track.sDb <= this.bitrate)return this.PW=!1;g.l && this.sb && this.sb.trace("isStreamFittableInBuffer: minRequiredBuffer " + this.Bb.vy);l=this.vma();l?this.track.BZa && !this.yk && this.track.np || (this.track.eTa=this.bitrate):this.track.sDb=this.bitrate;return this.PW=l;};k.prototype.Htc=function(){return d.__assign(d.__assign({},this.track.ss()),{profile:this.Uc});};k.prototype.Poc=function(){return d.__assign(d.__assign({},this.track.ss()),{profile:this.Uc,bitrate:this.bitrate});};k.prototype.ktc=function(){return d.__assign(d.__assign({},this.track.ss()),{profile:this.Uc});};return k;})();b.E3=t;},78015:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.lV=void 0;a(52571);t=(function(){function d(n,c){d.STa(this,n,c);}d.STa=function(n,c,f){n.Qe=c;n.bf=f.ma;n.ed=f.offset;};Object.defineProperties(d.prototype,{stream:{get:function(){return this.Qe;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ma:{get:function(){return this.bf;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{offset:{get:function(){return this.ed;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{M:{get:function(){return this.Qe.M;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{R:{get:function(){return this.Qe.R;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{mediaType:{get:function(){return this.Qe.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ra:{get:function(){return this.Qe.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bitrate:{get:function(){return this.Qe.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{profile:{get:function(){return this.Qe.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{O:{get:function(){return this.Qe.O;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Yl:{get:function(){return this.Qe.Yl;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ea:{get:function(){return this.Qe.Ea;},enumerable:!1,configurable:!0}});d.prototype.Ys=function(n){this.Qe=n;};return d;})();b.lV=t;},5800:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.WE=void 0;t=a(85254);a=a(71808);d=(function(){function n(c,f){this.parent=c;this.zC=f.ub;this.hv=f.Lb;}Object.defineProperties(n.prototype,{ub:{get:function(){return void 0 !== this.zC?this.zC:this.parent.ub;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Lb:{get:function(){return void 0 !== this.hv?this.hv:this.parent.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{O:{get:function(){return this.parent.O;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Kp:{get:function(){return this.parent.Kp;},enumerable:!1,configurable:!0}});n.prototype.UPc=function(c){this.zC=c;};n.prototype.f2=function(c){this.hv=c;};n.prototype.Nma=function(){this.hv=void 0;};return n;})();b.WE=d;(0,t.wl)(a.nz,d);},71808:function(t,b,a){var c;function d(f,g){return void 0 === f?void 0:0 === f?c.I.ia:new c.I(f,g);}function n(f,g){return void 0 === f || void 0 === g?void 0:f + g;}Object.defineProperties(b,{__esModule:{value:!0}});b.nz=void 0;c=a(91176);t=(function(){function f(){}Object.defineProperties(f.prototype,{EK:{get:function(){var g,e;g=this.Lb;e=this.ub;return (void 0 === g || void 0 === e?void 0:g - e) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{LIc:{get:function(){return n(this.ub,this.Kp);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{HIc:{get:function(){return n(this.Lb,this.Kp);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Wb:{get:function(){return d(this.EK,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{qa:{get:function(){return d(this.ub,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ta:{get:function(){return d(this.Lb,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Tb:{get:function(){return d(this.LIc,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Pb:{get:function(){return d(this.HIc,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ova:{get:function(){return d(this.Kp,this.O);},enumerable:!1,configurable:!0}});return f;})();b.nz=t;},26279:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.F3=void 0;d=a(22970);n=a(6198);c=a(52571);f=a(69575);g=a(65077);e=a(444);h=a(52629);k=a(8149);l=a(48170);m=a(91967);p=a(87225);q=a(48834);t=(function(){function r(u,v,w){var x,y;x=this;this.config=v;this.console=w;this.pWa=new Map();this.IWa=new Map();this.Nz=new f.Qgb();this.N6=0;this.Uj=u.Uj;this.M=u.M;this.mediaType=u.mediaType;this.BN=u.BN;this.SJ=u.SJ;this.mediaType === n.u.U?(v=this.Uj,w=d.__read(v.streams,1)[0],this.L4b=new h.DW({w:v.maxWidth,Wx:v.maxHeight},{w:v.pIb,Wx:v.qIb}),void 0 !== w.framerate_value && void 0 !== w.framerate_scale && (this.IIa=e.BF.from({Ay:w.framerate_value,Mv:w.framerate_scale}),this.DJ=this.IIa.Ea(),l.l && this.console.trace("AseTrack: video frame duration normalized to " + this.DJ.toString() + " from " + JSON.stringify(w))),void 0 !== v.bca && void 0 !== v.aca && (this.J3b=e.BF.from({Ay:v.bca,Mv:v.aca}))):this.mediaType === n.u.X && (this.m2b=this.Uj.streams[0].channels,this.M4b=48E3);this.Db=(this.Et=this.DJ) && this.Et.O;this.mediaType === n.u.Da && (this.Db=1E3);this.zJa=!1;this.eTa=-Infinity;this.sDb=Infinity;u=r.y2b(this,u.Uv);v=u.LEb;w=u.maxBitrate;y=u.Gd;this.np=u.np;this.LEb=v;this.maxBitrate=w;this.Gd=y;this.g2(m.SO.S,w,v);this.dTc=y.reduce(function(A,z){A[z.Ra]=z;return A;},{});l.l && (function(){(0,c.assert)(void 0 !== x.R);(0,c.assert)(void 0 !== x.mediaType);(0,c.assert)(void 0 === x.Et || x.Db === x.Et.O);});l.l && this.console.trace(("AseTrack: new track for movie ").concat(this.R,", mediaType ").concat(this.mediaType) + (", viewableId ").concat(this.M.J,", track ").concat(this.trackId) + (", frameDuration ").concat(this.Ea && this.Ea.toString()) + (", trackIndex ").concat(this.BN) + (", absoluteTrackIndex ").concat(this.SJ));}r.y2b=function(u,v){var w,x,y,A,z,B,C,D,E,H;w=u.config;x=u.mediaType === n.u.U;y=!1;A=Infinity;z=0;B=[];C=(0,k.po)(u)?p.PCa:q.ndb;if(u.mediaType === n.u.X || u.mediaType === n.u.U){D=u.Uj;E=D.streams.some(function(F){return F.yk;});D.streams.forEach(function(F,G){var J,L,K;J=F.bitrate;L=!0;if(x){K=F.yk;L=v?!0:K === E;y=y || K;}L && (J < A && (A=J),J > z && (z=J));F=new C({xu:F,Ow:G,track:u,pp:L},w,u.console);B.push(F);});}else if(u.mediaType === n.u.Da){H=u.Uj;D=H.downloadableIds["imsc1.1"];l.l && u.console.trace("parsing text track dlid:",D);if(H=H.ttDownloadables["imsc1.1"])(D=new C({xu:H,Ow:0,track:u,pp:!0,E2a:D,Qj:[]},w,u.console),B.push(D),u.Nz.set(D));}else (D=u.Uj,D.streams.forEach(function(F,G){F=new C({xu:F,Ow:G,track:u,pp:!0},w,u.console);B.push(F);}));return {np:y,LEb:A,maxBitrate:z,Gd:B};};Object.defineProperties(r.prototype,{xca:{get:function(){return !this.eh && 0 === this.N6;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{BZa:{get:function(){return this.zJa;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{R:{get:function(){return String(this.M.R);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{trackId:{get:function(){return this.mediaType === n.u.Da?this.Uj.id:this.Uj.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Au:{get:function(){return this.pkb;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Ea:{get:function(){return this.Et;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{frameRate:{get:function(){return this.IIa;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{rsa:{get:function(){return this.J3b;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{zo:{get:function(){return this.L4b;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{channels:{get:function(){return this.m2b;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{sampleRate:{get:function(){return this.M4b;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{profile:{get:function(){return this.mediaType === n.u.Da?this.Uj.rawTrackType:this.Uj.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{oU:{get:function(){return this.mediaType === n.u.Da?this.Uj.rawTrackType:this.Uj.oU;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{O:{get:function(){return this.Db;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Yl:{get:function(){return this.gJa;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{ek:{get:function(){return this.Je;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{QA:{get:function(){return this.Nz.value;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{dQa:{get:function(){return this.Nz;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{rEb:{get:function(){return this.Gd.some(function(u){var v;return 1 < ((null === (v=u.Qj) || void 0 === v?void 0:v.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Eb:{get:function(){return this.M.Eb;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{sLa:{get:function(){return this.mediaType === n.u.X?this.Uj.x8:void 0;},enumerable:!1,configurable:!0}});r.prototype.Ui=function(u){return this.xR()[u];};r.prototype.xR=function(){return this.dTc;};r.prototype.equals=function(u){return !!u && this.R === u.R && this.mediaType === u.mediaType && this.trackId === u.trackId;};r.prototype.JXa=function(){this.N6++;};r.prototype.Rta=function(){l.l && (0,c.assert)(0 < this.N6,"Removing more header requests than opened");0 < this.N6 && this.N6--;};r.prototype.g2=function(u,v,w){void 0 !== v && v !== this.pWa.get(u) && this.pWa.set(u,v);void 0 !== w && w !== this.IWa.get(u) && this.IWa.set(u,w);};r.prototype.Kwb=function(){var u,v,w,x;this.pWa.forEach(function(y,A){if(void 0 === v || y < v.bitrate)v={bitrate:y,reason:A};});this.IWa.forEach(function(y,A){if(void 0 === u || y > u.bitrate)u={bitrate:y,reason:A};});if(void 0 !== v){w=this.Gd.sort(function(y,A){return A.bitrate - y.bitrate;});x=w.filter(function(y){return y.bitrate <= v.bitrate;});0 < x.length?v.bitrate=x[0].bitrate:(this.console.trace("No streams found for max encoding bitrate cap",v.bitrate,"using lowest bitrate stream"),v.bitrate=w[w.length - 1].bitrate);}void 0 !== u && (w=this.Gd.sort(function(y,A){return y.bitrate - A.bitrate;}),x=w.filter(function(y){return y.bitrate >= u.bitrate;}),0 < x.length?u.bitrate=x[0].bitrate:(this.console.trace("No streams found for min encoding bitrate cap",u.bitrate,"using highest bitrate stream"),u.bitrate=w[w.length - 1].bitrate));return {RCc:u,osa:v};};r.prototype.FGb=function(u){void 0 === this.Nz.value && (l.l && this.console.trace("first AseTrack.onHeaderComplete for stream:",u.id),this.Nz.set(u));};r.prototype.xqb=function(u){l.l && (0,c.assert)(u instanceof r);l.l && this.console.trace("AseTrack: copying header to movie " + this.R + ", track " + this.trackId + ", mediaType " + this.mediaType + ", from movie " + u.R + ", track " + u.trackId + ", mediaType " + u.mediaType + ", track.headerReceived " + u.eh);this.eh || (this.Iwa(u.O),this.Y0a(u.Yl),this.U0a(u.Ea),this.Je=u.ek,u.dQa.value?this.Nz.set(u.dQa.value):this.Nz.lLb());};r.prototype.Rx=function(u,v,w,x){var y;(0,c.assert)(this.QA);y=this.QA;u=(0,g.Rx)(this.mediaType,u,y,v,w,x);l.l && this.console.trace("AseTrack.findFirstFragment() pts:",v,"parentLastFragment:",null === w || void 0 === w?void 0:w.toString(),"found:",u);return u;};r.prototype.PK=function(u,v,w){var x;(0,c.assert)(this.QA);x=this.QA;u=(0,g.PK)(this.mediaType,u,x,v,w);l.l && this.console.trace("AseTrack.findLastFragment() pts:",v,"found:",u);return u;};r.prototype.ss=function(){switch(this.mediaType){case n.u.X:return ((0,c.assert)(this.mediaType === n.u.X),(0,c.assert)(void 0 !== this.channels),(0,c.assert)(void 0 !== this.sampleRate),{channels:this.channels,profile:this.profile,oU:this.oU,bitrate:this.Gd[this.Gd.length - 1].bitrate,sampleRate:this.sampleRate,Au:this.Au});case n.u.U:return ((0,c.assert)(this.mediaType === n.u.U),(0,c.assert)(void 0 !== this.rsa),(0,c.assert)(void 0 !== this.zo),{J:this.M.J,np:this.np,profile:this.profile,K8c:this.rsa.Ay,J8c:this.rsa.Mv,oU:this.oU,zo:this.zo,maxWidth:this.zo.zo.w,maxHeight:this.zo.zo.Wx,pIb:this.zo.uHb.w,qIb:this.zo.uHb.Wx,Au:this.Au});case n.u.Da:return ((0,c.assert)(this.mediaType === n.u.Da),{profile:this.profile,oU:this.oU});default:(0,c.assert)(!1,("Unsupported mediaType: ").concat(this.mediaType));}};r.prototype.toJSON=function(){return {movieId:this.R,mediaType:this.mediaType,trackId:this.trackId};};r.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};r.prototype.Iwa=function(u){l.l && (0,c.assert)(void 0 === this.Db || this.Db === u);this.Db=u;};r.prototype.Y0a=function(u){l.l && (0,c.assert)(void 0 === this.gJa || this.gJa === u);this.gJa=u;};r.prototype.U0a=function(u){var v;l.l && (0,c.assert)(void 0 !== u);v=new e.BF(u.O,u.$).Ea();l.l && (0,c.assert)(void 0 === this.Et || this.Et.equal(v));this.Et=u;this.mediaType === n.u.U && (this.IIa=e.BF.CQa(u));};return r;})();b.F3=t;},51440:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.O5a=void 0;d=a(22970);a(91562);a(66164);a(52571);t=a(85254);n=a(50468);a=(function(c){function f(g,e,h,k,l,m,p,q){var r;r=d.__assign(d.__assign({},h),{offset:h.offset,ma:h.Tsa + 8,YL:void 0,responseType:0});k=c.call(this,g,e,"moof",r,k,l,m,p) || this;k.Vna=!0;k.SD=!1;n.Io.Ob(k,g,l,h,q);k.S0=k.Y$b(h,r.ma);k.nub(e,"mdat",h,k.S0);return k;}d.__extends(f,c);f.prototype.by=function(){return this.Sqa() && c.prototype.by.call(this);};f.prototype.Y$b=function(g,e){var h;e={offset:g.offset + e,ma:g.ma - e};if(this.na){if(0 < this.na.start){h=this.evb(this.na.start);h && (e.offset=g.offset + h,e.ma=g.ma - h);}null !== this.na.end && this.na.end < this.tf && (h=this.evb(this.na.end)) && (e.ma-=g.ma - h);}return e;};f.prototype.toString=function(){return "ID: " + this.Ei() + ":" + c.prototype.toString.call(this);};return f;})(a(50247).D3);b.O5a=a;(0,t.wl)(n.Io,a);},87225:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.PCa=void 0;d=a(22970);n=a(91176);c=a(91562);f=a(48170);g=a(11031);t=(function(e){function h(k,l,m){k=e.call(this,k,l,m) || this;k.Bb=l;k.sb=m;k.Th=!1;return k;}d.__extends(h,e);Object.defineProperties(h.prototype,{Oa:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{track:{get:function(){return this.It;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{eh:{get:function(){return !!this.JF;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Gk:{get:function(){return this.track.Gk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{a$:{get:function(){return this.track.a$;},enumerable:!1,configurable:!0}});h.prototype.G0=function(k,l,m,p,q,r,u,v,w){f.l && this.sb && this.sb.trace("AseStream.onHeaderReceived");this.eh?f.l && this.sb.trace("Duplicate header received for stream ",this):(this.JF=k,this.track.G0(this,l,m,p,r,v,w),this.track.FGb(this));};h.prototype.wqb=function(k){f.l && (0,n.assert)(k instanceof g.E3);f.l && (0,n.assert)(k.Ra === this.Ra);this.eh || (this.track.xqb(k.track),this.JF=k.Qj);};h.prototype.a_=function(k,l,m){var p,q,r;m=null === (p=m || this.url) || void 0 === p?void 0:p.split("?");p=null !== (q=null === m || void 0 === m?void 0:m[0]) && void 0 !== q?q:"";q=null !== (r=null === m || void 0 === m?void 0:m[1]) && void 0 !== r?r:"";k?k=this.track.gAb:(void 0 === l && this.sb.error("AseStream.getRequestUrl: liveSegmentId undefined"),(0,n.assert)(void 0 !== l,"liveSegmentId is required for live media requests"),k=this.track.oCc.replace("$Number$",l.toString()));this.M.Oc.yL() && (l=this.track.al,q+=(q?"&":"") + "flp=" + encodeURIComponent(("ast,").concat(this.M.Oc.DRa(!0).G,",startSegment,").concat(this.track.Co,",duration,").concat(l.$,",timeScale,").concat(l.O)));l=this.track.Kwb();void 0 !== l.osa && this.track.mediaType === c.u.U && (q+=(q?"&":"") + "cr=" + encodeURIComponent(l.osa.reason) + "&meb=" + encodeURIComponent(l.osa.bitrate));return p + "/" + k + (q?"?" + q:"");};h.prototype.vma=function(){var k,l;return this.Bb.tS * this.bitrate / 8 * (this.Bb.vy + (null !== (l=null === (k=this.M) || void 0 === k?void 0:k.nU.G) && void 0 !== l?l:0)) < this.Vt;};h.prototype.YZ=function(k,l){var m;m=void 0 === k || k === this.track.Co;return this.a_(m,m?void 0:k,l);};return h;})(g.E3);b.PCa=t;},92945:function(t,b,a){var d,n,c,f,g,e,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Lab=void 0;d=a(22970);n=a(91176);c=a(6198);f=a(52571);g=a(444);e=a(48170);h=a(8149);k=a(91967);t=(function(l){function m(p,q,r){var u;q=l.call(this,p,q,r) || this;q.QY=n.I.ia;q.J6=p.dS;void 0 !== q.J6 && q.g2(k.SO.S,q.J6);p=q.M.S.Ji;(0,f.assert)(p,"Live metadata cannt be undefined on live viewable");r=q.Gd[0].Ra;u=null === p || void 0 === p?void 0:p.Rna[r];(0,f.assert)(void 0 !== u,"No segment template id found for downloadableId: " + r);q.yE=p.aU[u];(0,f.assert)(q.yE,"No segment template found for segmentTemplateId: " + u);q.Co=Number(q.yE.sOb);q.Gk=new n.I(Number(q.yE.KJc),q.yE.O);q.al=new n.I(q.yE.duration,q.yE.O);void 0 === q.O && q.Iwa(q.yE.O);return q;}d.__extends(m,l);Object.defineProperties(m.prototype,{gAb:{get:function(){return this.yE.jwc;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{oCc:{get:function(){return this.yE.media;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{eh:{get:function(){var p;return this.mediaType === c.u.Da?!0:!(null === (p=this.Nz.value) || void 0 === p || !p.eh);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{dS:{get:function(){return this.J6;},set:function(p){e.l && this.console.trace("setting liveBitrateDynamicCap:",this.J6,"->",p);this.J6=p;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{a$:{get:function(){return this.mka || n.I.ia;},set:function(p){var q;e.l && this.mka && !p.equal(this.mka) && this.console.warn("Unexpected change in first frame offset timestamp" + ("").concat(null === (q=this.mka) || void 0 === q?void 0:q.ca()," -> ").concat(p.ca()));this.mka=p;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Sx:{get:function(){return this.Joa?new n.I(this.Joa.Sx,this.Yl):this.QY || n.I.ia;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{QA:{get:function(){var p;p=this.Nz.value;return (0,h.zk)(p)?p:void 0;},enumerable:!1,configurable:!0}});m.prototype.G0=function(p,q,r,u,v,w,x){e.l && this.console.trace(("[").concat(this.mediaType,"] AseTrack.onHeaderReceived for stream: ").concat(p.id,", ") + ("movieTimescale: ").concat(q,", ") + ("frameDuration: ").concat(null === r || void 0 === r?void 0:r.ca(),", ") + ("editListOffset: ").concat(null === x || void 0 === x?void 0:x.ca()));if(p.yk || !p.track.np)this.zJa=!0;this.eh || (this.Y0a(q),this.pkb=w,x && (this.QY=x),void 0 !== r && this.mediaType === c.u.U && this.config.VLb && (r=g.BF.CQa(r).Ea()),(r=r || this.DJ)?(e.l && this.console.trace(("[").concat(this.mediaType,"] AseTrack: Setting frame duration for movie ").concat(this.R) + (", track ").concat(this.trackId) + (" to ").concat(r.toString()) + (", was ").concat(this.Et && this.Et.toString()) + (", manifestFrameDuration ").concat(this.DJ)),this.U0a(r || this.DJ),void 0 === this.O && this.Iwa(r.O)):(e.l && this.console.trace(("[").concat(this.mediaType,"] AseTrack: No frame duration for movie ").concat(this.R) + (", track ").concat(this.trackId) + (", mediaType ").concat(this.mediaType) + (", timescale ").concat(this.O)),e.l && (0,f.assert)(this.O)));};m.prototype.HXa=function(p,q,r){var u,v;if(this.mediaType !== c.u.X && this.mediaType !== c.u.U)return (e.l && this.console.error(("[").concat(this.mediaType,"] AseTrack.onFirstFragmentReceived: unexpected media type"),this.mediaType),!1);if(void 0 !== this.Joa)return !1;if(void 0 === r.Sx)return (e.l && this.console.warn(("[").concat(this.mediaType,"] AseTrack.onFirstFragmentReceived: no first frame composition offset")),!1);if(this.mediaType === c.u.U){u=this.al;v=this.Co;q=new n.I(r.S2 + r.Sx,this.Yl).ea(u.hh(q - v)).ea(this.QY);q.equal(this.Gk) || e.l && this.console.warn(("[").concat(this.mediaType,"] AseTrack.onFirstFragmentReceived: presentation time offset difference"),this.Gk.ca(),q.ca(),q.ea(this.Gk).ca());}e.l && this.console.warn(("[").concat(this.mediaType,"] AseTrack.onFirstFragmentReceived: firstFragmentTimes ").concat(JSON.stringify(r)));this.Joa=r;this.M.HXa(this,p);return !0;};m.prototype.lFc=function(p,q){var r,u,v,w,x;(0,f.assert)(this.mediaType === c.u.X,("Unexpected call to onAudioFirstFragmentsReceived for media type ").concat(this.mediaType));r=this.Joa;u=r.S2;r=r.Sx;q=u - q.Kc(this.Yl).$;p=p.Kc(this.Yl);v=new n.I(q + r,this.Yl).ea(p);w=Math.floor(v.rf(this.Ea));x=v.ea(this.Ea.hh(w));this.a$=x;e.l && this.console.trace(("[").concat(this.mediaType,"] AseTrack.onAudioFirstFragmentReceived: trackFragmentDecodeTime: "),("").concat(new n.I(u,this.Yl).ca()),"adjustedTrackFragmentDecodeTime: ",("").concat(new n.I(q,this.Yl).ca()),"firstFrameCompositionOffset",("").concat(new n.I(r,this.Yl).ca(),","),("videoPresentationTimeOffset ").concat(p.ca(),","),("fragment presentation offset ").concat(v.ca(),","),("").concat(w," frames = ").concat(this.Ea.hh(w).ca(),","),("firstFrameTimeOffsetTimestamp ").concat(x.ca()));};m.prototype.Apa=function(p){return this.M.il() - p.G > 1E3 * this.M.Vi.lAc?"DVR":"LIVE";};m.prototype.Yv=function(p){var q,r,u,v,w,x;r=this.al.Kc(null !== (q=this.O) && void 0 !== q?q:this.yE.O);if(this.mediaType === c.u.X){u=this.a$.Kc(this.O);v=this.Ea.Kc(this.Yl);q=Math.ceil(r.hh(p - this.Co).ea(u).rf(v));w=Math.ceil(r.hh(p - this.Co + 1).ea(u).rf(v));x=v.hh(q).add(u).Kc(this.O);u=v.hh(w).add(u).Kc(this.O);e.l && this.console.trace("AseStream.getContentTimestampsBySegmentId",("[").concat(this.mediaType,"] ").concat(p,"-").concat(this.Co," ") + ("=> frames ").concat(q,"-").concat(w),("offset ").concat(this.a$.ca()),("frame ").concat(this.Ea.G," segment ").concat(r.G),("start ").concat(x.G," end ").concat(u.G),("old start ").concat(r.hh(p - this.Co).G),("old end ").concat(r.hh(p - this.Co + 1).G));}else (x=r.hh(p - this.Co),u=x.add(r),e.l && this.console.trace("AseStream.getContentTimestampsBySegmentId",("[").concat(this.mediaType,"] ").concat(p,"-").concat(this.Co," =>"),("segment ").concat(r.G),("start ").concat(x.G," end ").concat(u.G)));return {qa:x,ta:u};};return m;})(a(26279).F3);b.Lab=t;},48834:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ndb=void 0;d=a(22970);n=a(91176);c=a(89613);f=a(48170);g=a(11031);t=(function(e){function h(k,l,m){k=e.call(this,k,l,m) || this;k.Bb=l;k.sb=m;k.tb=void 0;k.Th=k.Bb.Th;return k;}d.__extends(h,e);Object.defineProperties(h.prototype,{track:{get:function(){return this.It;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{eh:{get:function(){return !!this.tb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Oa:{get:function(){return this.tb;},enumerable:!1,configurable:!0}});h.prototype.G0=function(k,l,m,p,q,r,u,v){f.l && this.sb && this.sb.trace("AseStream.onHeaderReceived");p && void 0 !== p.Ou && (this.track.eh || void 0 !== p.fg && p.fg.length) && void 0 !== p.offset && void 0 !== p.sizes && p.sizes.length?(this.Th && this.Ae && 0 === p.Ou && (f.l && this.sb.trace("Applying profile timestamp offset of " + this.Ae.toString() + " fragments.startTicks " + p.Ou + " / " + p.O + " for profile " + this.profile),p.Ou+=this.Ae.Kc(p.O).$),this.eh?f.l && this.sb.trace("Duplicate header received for stream ",this):(this.JF=k,this.track.G0(this,l,m,p,r,v),this.tb=new c.nhb(this.clb,this.track.ek,p,q,r,u,this.R),this.track.FGb(this))):p?this.sb.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== p.Ou) + "," + this.track.eh + "," + this.track.BZa + "," + (void 0 !== p.fg) + "," + !(!p.fg || !p.fg.length) + "," + (void 0 !== p.offset) + "," + (void 0 !== p.sizes) + "," + !(!p.sizes || !p.sizes.length)):this.sb.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};h.prototype.wqb=function(k){f.l && (0,n.assert)(k instanceof g.E3);f.l && (0,n.assert)(k.Ra === this.Ra);this.eh || (this.track.xqb(k.track),this.tb=k.Oa,this.JF=k.Qj);};h.prototype.a_=function(k,l,m){return m || this.url;};h.prototype.vma=function(){var k,l,m,p;return this.tb.vma(this.Bb.vy,this.Vt,null !== (l=null === (k=this.M) || void 0 === k?void 0:k.nU.G) && void 0 !== l?l:0,null !== (p=null === (m=this.M) || void 0 === m?void 0:m.nU.ma) && void 0 !== p?p:0,this.aEb);};h.prototype.YZ=function(k,l){return l;};return h;})(g.E3);b.ndb=t;},1913:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.odb=void 0;d=a(22970);n=a(6198);c=a(82149);f=a(52571);g=a(444);e=a(48170);t=(function(h){function k(l,m,p){l=h.call(this,l,m,p) || this;l.OIa=!1;return l;}d.__extends(k,h);Object.defineProperties(k.prototype,{eh:{get:function(){return this.mediaType === n.u.Da?!0:!!this.ek && !!this.Nz.value;},enumerable:!1,configurable:!0}});k.prototype.G0=function(l,m,p,q,r,u){e.l && this.console.trace("AseTrack.onHeaderReceived for stream:",l.id);if(q && void 0 !== q.Ou && (this.eh || void 0 !== q.fg && q.fg.length)){if(l.yk || !l.track.np)this.zJa=!0;if(this.eh)!this.OIa && q.fg && q.fg.length > this.ek.length && (e.l && this.console.trace("AseTrack: extending durations from " + ("").concat(this.ek.length," to ").concat(q.fg.length)),this.Je=new c.sHa(this.mediaType,this.Ea,q,r),this.Nz.lLb(),this.eTa=-Infinity,this.OIa=!0);else if((this.Y0a(m),this.pkb=u,void 0 !== p && this.mediaType === n.u.U && this.config.VLb && (p=g.BF.CQa(p).Ea()),(p=p || this.DJ)?(e.l && this.console.trace(("AseTrack: Setting frame duration for movie ").concat(this.R) + (", track ").concat(this.trackId) + (", mediaType ").concat(this.mediaType) + (" to ").concat(p.toString()) + (", was ").concat(this.Et && this.Et.toString()) + (", manifestFrameDuration ").concat(this.DJ)),this.U0a(p || this.DJ),void 0 === this.O && this.Iwa(p.O)):(e.l && this.console.trace(("AseTrack: No frame duration for movie ").concat(this.R) + (", track ").concat(this.trackId) + (", mediaType ").concat(this.mediaType) + (", timescale ").concat(this.O)),e.l && (0,f.assert)(this.O)),this.Je=new c.sHa(this.mediaType,this.Ea,q,r),l.yk || !l.track.np))this.OIa=!0;}else this.console && this.console.error("AseTrack.onHeaderReceived with missing fragments data");};return k;})(a(26279).F3);b.odb=t;},24251:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.R5a=void 0;d=a(91176);t=(function(){function n(c){this.config=c;}n.prototype.DKc=function(c){var f,g,e;f=this.config;g=[];e=[];c.forEach(function(p,q){void 0 === p.Qb?e.push(q):g.push(q);});if(0 !== e.length)for(var h=-1,k=-1,l=function(p){var q,r,u,v,w,x;q=e[p];r=c[q];if(0 === p || q !== e[p - 1] + 1)(h=g[(0,d.cnb)(g,function(y){return y < q;})] || -1,k=g[(0,d.Mm)(g,function(y){return y > q;})] || -1);u=0;v=f.XBc;p=0;w=f.YBc;-1 < k && (v=c[k].bitrate,w=c[k].Qb);-1 < h && (p=c[h].Qb,u=c[h].bitrate);v=Math.log(v);u=0 === u?0:Math.log(u);x=Math.log(r.bitrate);r.poa=Math.max(0,Math.min(110,Math.round((p * (v - x) + w * (x - u)) / (v - u) * 100) / 100));},m=0;m < e.length;m++)l(m);};return n;})();b.R5a=t;},29092:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.map=b.gUa=b.Noa=b.JPa=b.dha=b.AsyncIterator=b.Jga=void 0;d=a(91176);Object.defineProperties(b,{Jga:{enumerable:!0,get:function(){return d.Jga;}}});Object.defineProperties(b,{AsyncIterator:{enumerable:!0,get:function(){return d.AsyncIterator;}}});Object.defineProperties(b,{dha:{enumerable:!0,get:function(){return d.dha;}}});Object.defineProperties(b,{JPa:{enumerable:!0,get:function(){return d.JPa;}}});Object.defineProperties(b,{Noa:{enumerable:!0,get:function(){return d.Noa;}}});Object.defineProperties(b,{gUa:{enumerable:!0,get:function(){return d.gUa;}}});Object.defineProperties(b,{map:{enumerable:!0,get:function(){return d.map;}}});},89645:function(t,b,a){var c,f,g,e,h,k,l,m;function d(p,q){return p.done?p:{value:{value:p.value,zlb:q}};}function n(p){p.zlb();return {done:!1,value:p.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.h0b=b.SI=void 0;b.L5c=function(p){return (0,g.map)(p,n);};c=a(22970);f=a(66164);t=a(90745);g=a(29092);e=a(48170);h=a(69575);k=a(52571);a=a(85254);l=(function(){function p(q,r){this.console=q;this.Kh=r;this.TDc=this.k9=0;this.yi=[];this.console=(0,h.Gf)(f.platform,this.console,"QueueIterator:");}Object.defineProperties(p.prototype,{iic:{get:function(){return this.k9;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ypb:{get:function(){var q,r,u;for(r=0;r < this.yi.length;r++){u=this.yi[r];if(!u.Yaa || (null === (q=u.item) || void 0 === q?0:q.done))break;}return r;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{count:{get:function(){return this.Kh;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{qH:{get:function(){return 0 === this.Kh;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{L_a:{get:function(){var q;for(q=0;q < this.yi.length && this.yi[q].JUa;q++);return q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{head:{get:function(){var q;q=c.__read(this.yi,1)[0];return (q=q && q.item) && !q.done && q.value;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{$Wa:{get:function(){var q;for(q=0;q < this.yi.length && this.yi[q].Yaa;q++);return q;},enumerable:!1,configurable:!0}});p.prototype.KQ=function(){var q;if(void 0 === this.Kh){q=this.console;e.l && q && q.trace("QueueIterator: enqueueEnd");this.v3a(this.$Wa - (this.Kh || 0));}};p.prototype.xj=function(){return this.yi.map(function(q){return q.item;});};p.prototype.W2a=function(){this.values || (this.values=this.yi.filter(function(q){return (null === q || void 0 === q?void 0:q.item) && !q.item.done;}).map(function(q){return q.item.value;}));return this.values;};p.prototype.v3a=function(q){var r;e.l && this.console.trace("updateCount",{Nbd:this.Kh,Lv:q});if(void 0 !== this.Kh){r=this.yi[this.Kh];r && this.XTa(r);}this.Kh=void 0 === this.Kh?q:void 0 === q?q:this.Kh + q;void 0 !== this.Kh && (this.Kh=Math.max(0,this.Kh),(r=this.yi[this.Kh]) && r.TR.resolve({done:!0}));};p.prototype.enqueue=function(q){var r;e.l && this.console.trace("Enqueue called");r=this.$Wa;this.Mma();return this.RKc(r,{value:q,done:!1}).rsb.promise;};p.prototype.kLb=function(){e.l && this.console.trace("resetEnd");this.v3a(void 0);};p.prototype.clear=function(q){var r,u,v;e.l && this.console.trace("clear");this.OZa();r=this.L_a;u=this.yi.length - r;if(0 < u){v={index:r,vXa:u};e.l && this.console.trace("Removing items",v);this.yi.splice(r,u);this.Mma();this.emit("onRemoved",v);}for(u=1;u < r;u++)this.XTa(this.yi[u]);this.Kh=void 0;this.v3a(q?q + r:q);this.k9 && (this.k9=0);};p.prototype.getIterator=function(){var q,r;q=this;r=(0,h.Gf)(f.platform,this.console,"QueueIteratorInstance::");return new m(this,function(u){return q.Bxb(u);},r);};p.prototype.hic=function(){var q;if(0 < this.L_a){q=c.__read(this.yi,1)[0];q.Yaa && (e.l && this.console.trace("dequeue",q.id),this.OZa(1),this.emit("onDequeue",q.TR.promise));}};p.prototype.remove=function(q){var r,u,v;for(r=0;r < this.yi.length;r++){u=this.yi[r];v=u.item;if(v && !v.done && v.value === q){this.yi.splice(r,1);this.Kh && this.Kh > r && this.Kh--;this.Mma();e.l && this.console.trace("removed",{id:u.id});this.emit("onRemoved",{index:r,vXa:1});break;}}};p.prototype.OZa=function(q){var r;q=q || Math.min(this.L_a,this.$Wa);if(0 < q){r=this.yi.splice(0,q);this.Mma();this.Kh && (this.Kh-=q);e.l && this.console.trace("pruned",q);Promise.resolve().then(function(){r.forEach(function(u){u.rsb.resolve();});});this.emit("onRemoved",{index:0,vXa:q});this.k9+=q;}};p.prototype.Bxb=function(q){var r;e.l && this.console.trace("getNextItemCalled",{offset:q});if(void 0 === this.count || 0 < this.count){this.aAb(q);r=this.yi[q];r.zNc.resolve();q=r.TR.promise;e.l && this.console.trace("getNextItem:return",{id:r.id});}else (e.l && this.console.trace("getNextItem:returnDone"),q=Promise.resolve({done:!0}));return q;};p.prototype.RKc=function(q,r){var u;u=!r.done && r.value;u=u && u.toJSON?u.toJSON():u;e.l && this.console.trace("Providing result",{S7b:q,item:u});this.aAb(q);q=this.yi[q];u=q.TR.resolve;u(r);return q;};p.prototype.aAb=function(q){var r;if(void 0 === this.yi[q]){r={};this.XTa(r);this.yi[q]=r;q === this.Kh && r.TR.resolve({done:!0});e.l && this.console.trace("Item initialized",{S7b:q});}};p.prototype.HNa=function(q){var r;r={};r.promise=new Promise(function(u,v){r.resolve=function(w){u(w);q && q(w);};r.reject=v;});return r;};p.prototype.XTa=function(q){var r;r=this;q.TR=this.HNa(function(u){q.item=u;q.Yaa=!0;e.l && r.console.trace("Item resolved",{id:q.id});});q.id && q.JUa && !q.Yaa && (q.TR.resolve({done:!0}),e.l && this.console.warn("Overwriting requested queue item",q.id));q.rsb=this.HNa();q.zNc=this.HNa(function(){q.JUa=!0;e.l && r.console.trace("Item requested",{id:q.id});});q.id=this.TDc++;q.JUa=!1;q.Yaa=!1;q.item=void 0;};p.prototype.Mma=function(){this.values=void 0;};p.prototype.epa=function(){var q,r,u;q=this;r=(0,h.Gf)(f.platform,this.console,"QueueIteratorInstance::");u=new m(this,function(v){var w,x;if(0 === q.count)return g.AsyncIterator.vSa();w=q.Bxb(v);x=q.yi[0];return w.then(function(y){return d(y,function(){u.s_ || (x === q.yi[0]?q.hic():(0,k.assert)(!q.yi.filter(function(A){return A.TR.promise === w;}).length,"Out of order acknowledgements are not supported"));});});},r);return u;};return p;})();b.SI=l;(0,a.wl)(t.EventEmitter,l);m=(function(p){function q(r,u,v){var w;w=p.call(this,function(){e.l && w.console.trace("Next item requested",{index:w.index});return w.kOc(w.index++);}) || this;w.parent=r;w.kOc=u;w.console=v;w.q3b=!1;w.index=0;w.RIa=!1;w.lM=function(x){var y;y=x.index;x=x.vXa;w.index >= y && (w.index=Math.max(y,w.index - x));y=w.console;e.l && y && y.trace("QueueIteratorInstance: onRemoved modified",w.index);};return w;}c.__extends(q,p);q.prototype.Zg=function(){this.console.trace("disposed");this.q3b=!0;this.Se();p.prototype.Zg.call(this);};q.prototype.next=function(){this.s_ || this.Kqa();return p.prototype.next.call(this);};q.prototype.cancel=function(){this.Se();return p.prototype.cancel.call(this);};q.prototype.Se=function(){this.parent.$l("onRemoved",this.lM);this.RIa=!1;};q.prototype.Kqa=function(){this.RIa || (this.RIa=!0,this.parent.on("onRemoved",this.lM));};return q;})(g.AsyncIterator);b.h0b=m;},54923:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.n6a=void 0;d=a(22970);n=a(91176);t=(function(){function c(f,g,e){this.EBc=f;this.VRc=g;this.console=e;this.name="BatchRequestThrottler";this.PLb=new n.ygb();this.reset();}c.prototype.process=function(f){return d.__awaiter(this,void 0,void 0,function(){var g;g=this;return d.__generator(this,function(e){switch(e.label){case 0:this.PLb.Pxc || (this.fma=n.I.ia);this.PLb.qSc();if(f.done)return [3,3];if(!this.fma.Wf(this.EBc))return [3,2];!1;return [4,new Promise(function(h){return setTimeout(h,g.VRc);})];case 1:(e.T(),e.label=2);case 2:(this.fma=this.fma.add(f.value.value.Wb),e.label=3);case 3:return [2,f];}});});};c.prototype.reset=function(){};c.prototype.MXa=function(){!1;this.fma=n.I.ia;};return c;})();b.n6a=t;},29358:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.w6a=void 0;d=a(22970);n=a(29092);c=a(48170);f=a(58049);t=(function(){function g(e,h,k){this.sb=e;this.g2b=h;this.NF=k;this.eka=0;this.rra=!1;this.K7=[];this.xY=void 0;c.l && e.trace(("BranchRequestIterator [").concat(this.NF,"]: created"));}Object.defineProperties(g.prototype,{Wgc:{get:function(){return this.eka;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ina:{get:function(){return this.yjb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{mj:{get:function(){return this.rra;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Irb:{get:function(){return this.op?this.op.qH?"Complete":this.op.KZa?"WaitingForBranch":void 0 !== this.xY?("In Policy ").concat(this.K7[this.xY].name):"WaitingForRequest":("Uninitialized;Prior:").concat(this.tCb);},enumerable:!1,configurable:!0}});g.prototype.next=function(){return d.__awaiter(this,void 0,void 0,function(){var e,h,k,l,m;return d.__generator(this,function(p){var q;switch(p.label){case 0:e=this.op;if(!e)return [3,6];this.xY=void 0;return [4,e.next()];case 1:h=p.T();this.sb.log("BranchRequestIterator:: processing result",!h.done && h.value.value.toString());q=h;k=!q.done && !(0,f.sUa)(q.value.value);l=0;p.label=2;case 2:if(!(l < this.K7.length))return [3,5];this.xY=l;m=this.K7[l];if(!k && !h.done && !m.zac)return (this.sb.log("BranchRequestIterator::Skipping policy",{name:m.name}),[3,4]);this.sb.log("BranchRequestIterator::Checking policy",{name:m.name});return [4,m.process(h)];case 3:(h=p.T(),this.sb.log("BranchRequestIterator::policy complete",{name:m.name}),p.label=4);case 4:return (l++,[3,2]);case 5:this.xY=void 0;if(h.done || this.op !== e)return [2,{done:!0}];this.eka++;h.value.zlb();return [2,{done:!1,value:h.value.value}];case 6:return [2,n.AsyncIterator.vSa()];}});});};g.prototype.VNc=function(){this.IOb();this.OLc();};g.prototype.IOb=function(){var e;if(this.op){this.tCb=this.Irb;e=this.op;e && e.Zg();this.K7.forEach(function(h){return h.reset();});e && c.l && this.sb.trace(("BranchRequestIterator [").concat(this.NF,"]: Disposing iterator that was on branch "),this.ina && this.ina.K.id);this.rra=!1;this.xY=this.op=void 0;}};g.prototype.A7=function(e){this.K7.push(e);};g.prototype.OLc=function(){var e,h,k,l;e=this;if(!this.rra){h=this.sb;k=this.g2b;l=this.NF;this.eka=0;this.tCb=this.yjb=void 0;this.op=(0,n.Noa)((0,n.map)(k.Msc(),function(m){return d.__awaiter(e,void 0,void 0,function(){var p;return d.__generator(this,function(q){switch(q.label){case 0:return (this.yjb=m,this.eka=0,c.l && h.trace(("BranchRequestIterator [").concat(this.NF,"]: new branch ").concat(m.K.id)),[4,m.aL(l)]);case 1:if(p=q.T())return [2,{value:p}];c.l && h.error(("BranchRequestIterator [").concat(this.NF,"]: skipping branch ").concat(m.K.id));return [2,{value:[]}];}});});},h),h);this.rra=!0;}};return g;})();b.w6a=t;},50930:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.h$a=void 0;d=a(78541);n=a(42431);a(65161);c=a(52571);t=(function(){function f(g,e,h,k,l,m,p,q){this.pa=g;this.track=e;this.CSc=h;this.oSc=k;this.config=l;this.console=m;this.events=p;this.hGc=q;this.qj=0;this.wZa=this.mk=!1;}Object.defineProperties(f.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{L:{get:function(){return this.pa.K.id;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{jh:{get:function(){return this.pa.jh;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Zwa:{get:function(){return this.CSc();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{qk:{get:function(){return this.Zwa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{wI:{get:function(){return this.Zwa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{mxa:{get:function(){return this.oSc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xZ:{get:function(){return this.pa.xZ;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Bd:{get:function(){return this.rv || (this.rv=this.bD());},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Bk:{get:function(){return !this.track.xca;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{FYa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Op:{get:function(){return this.pa.caa(this.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{qw:{get:function(){return -Infinity;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{bA:{get:function(){return "available";},enumerable:!1,configurable:!0}});f.prototype.iy=function(){return this.track.xca;};f.prototype.qp=function(){return this.track.eh;};f.prototype.Xf=function(){return !1;};f.prototype.Rwb=function(){return {Oa:[],uua:0,xw:0,C1:0};};f.prototype.oQb=function(){var g;(0,c.assert)(this.qp());g=this.Bd;this.rv=void 0;return g;};f.prototype.m3a=function(g){return (g=g.bC(this.pa.K,this.Bd))?{Ef:g,reason:"success"}:{Ef:g,reason:"pipelineTryIssueHeaderRequest"};};f.prototype.cancel=function(){this.rv && (this.pa.M.dX(this.mediaType,this.rv),n.XI.instance.m9(this.rv),this.rv.removeAllListeners(),this.rv=void 0);};f.prototype.yUa=function(){var g,e,h;h=this.config.Rq;if(null === (g=this.Bd) || void 0 === g?0:g.track)h=null === (e=this.Bd) || void 0 === e?void 0:e.track.Rq;return h;};f.prototype.UZ=function(){return this.pa.Hxb(this.mediaType);};f.prototype.bD=function(){var g,e;g=this;e=(0,d.bD)(this.mediaType,this.track.M,this.config,this.console,this.track.Eb,function(h){return g.events.emit("transportReport",h);},function(h){return g.events.emit("mediaRequestComplete",h);},function(){});e.on("created",this.hGc);return e;};return f;})();b.h$a=t;},25813:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Sdb=b.K3=void 0;d=a(22970);n=a(91176);c=a(66164);f=a(65161);t=a(71808);g=a(85254);e=a(89645);h=a(52571);k=a(69575);l=a(3033);m=a(27977);p=a(27259);a=a(58049);(function(r){r[r.gC=0]="CREATED";r[r.L3=1]="CANCELLED";})(q || (b.K3=q={}));a=(function(r){function u(v,w,x,y,A,z){v=r.call(this,w,y,x,n.I.ia,(0,k.Gf)(c.platform,v,"AsePadding")) || this;v.M=A;v.config=z;v.aV=new e.SI(v.console);v.hK=new e.SI(v.console);v.qn=new n.Ko();v.US=new p.Tdb(z).create();v.console.trace(("PaddingBranch {").concat(w.id,"}: created"));return v;}d.__extends(u,r);u.prototype.afc=function(v){return d.__awaiter(this,void 0,void 0,function(){var w,x,y,A,z,B,C,D;D=this;return d.__generator(this,function(E){switch(E.label){case 0:return [4,this.VJc()];case 1:return (w=E.T(),x=w.Ae,y=w.Xc,A=w.bitrate,z=w.Au,B=(0,k.Gf)(c.platform,this.console,"[0]"),this.hK=new e.SI(B),C=l.eO.instance().bfa.AJb(this.M,x,y,A,z,v,this.K,this.lwb.bind(this),this.config,B),C.forEach(function(H){return D.hK.enqueue(H);}),this.hK.KQ(),[2]);}});});};u.prototype.Lgc=function(v){return d.__awaiter(this,void 0,void 0,function(){var w,x,y,A,z,B,C,D,E,H,F,G,J,L,K,M;J=this;return d.__generator(this,function(P){switch(P.label){case 0:return [4,this.WJc()];case 1:return (w=P.T(),x=w.profile,y=w.NC,A=w.Au,z=null === (M=null === (K=null === (L=this.parent) || void 0 === L?void 0:L.me(f.u.U)) || void 0 === K?void 0:K.track.Ea) || void 0 === M?void 0:M.h_a(),(0,h.assert)(z,"padding branches should always have a frameRate"),B=(0,k.Gf)(c.platform,this.console,"[0]"),C=this.US.xMb({profile:x,frameRate:z}),D=C.profile,E=C.frameRate,H=l.eO.instance().bfa.BJb(this.M,this.M.KXc,D,E,y,A,v,this.K,this.lwb.bind(this),B),F=H.duration,G=H.Oa,this.K.pNb([]),G.forEach(function(I){return J.aV.enqueue(I);}),this.aV.KQ(),this.cJa=F,this.M.$Q=F.G,[2]);}});});};Object.defineProperties(u.prototype,{Bk:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{mk:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{$J:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Xf:{get:function(){return this.qn.SM;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ON:{get:function(){return this.qn.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{tya:{get:function(){return Promise.resolve();},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Wl:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{O:{get:function(){return this.sS.O;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ub:{get:function(){return this.K.jb.Kc(this.O).$;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Lb:{get:function(){return this.ub + this.sS.$;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Kp:{get:function(){return this.Ld.Kc(this.O).$;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{pH:{get:function(){return this.K.jb.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{xZ:{get:function(){(0,h.assert)(!this.K.Ul,"exit zone not supported for padding segments");return n.I.ia;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{uX:{get:function(){return this.hK && this.aV?this.hK.qH && this.aV.qH:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ZKa:{get:function(){return !(!this.hK && !this.aV);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Aw:{get:function(){return this.K.jb.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{hT:{get:function(){return this.K.Xb.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Gra:{get:function(){return this.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{qk:{get:function(){return this.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ld:{get:function(){return this.wC;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{sS:{get:function(){return this.cJa || this.K.Xb.ea(this.K.jb);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ez:{get:function(){return n.I.ia;},enumerable:!1,configurable:!0}});u.prototype.Ob=function(){return d.__awaiter(this,void 0,void 0,function(){var v;return d.__generator(this,function(w){switch(w.label){case 0:return [4,r.prototype.Ob.call(this)];case 1:(w.T(),w.label=2);case 2:return (w.tc.push([2,6,,7]),this.parent?[4,this.parent.ON]:[3,4]);case 3:(w.T(),w.label=4);case 4:return (this.console.trace(("PaddingBranch {").concat(this.K.id,"}: init")),this.cJa=this.K.Xb.ea(this.K.jb),[4,this.hrb([f.u.X,f.u.U])]);case 5:return (w.T(),this.qn.resolve(),[3,7]);case 6:v=w.T();if(!this.Zc)throw v;return [3,7];case 7:return [2];}});});};u.prototype.aL=function(v){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){this.console.trace(("PaddingBranch {").concat(this.K.id,"}: getRequestIterator(").concat(v,")"));return v === f.u.X?[2,this.hK.epa()]:v === f.u.U?[2,this.aV.epa()]:[2,this.Exb(v)];});});};u.prototype.reset=function(){};u.prototype.Jg=function(v){void 0 === v && (v="other");r.prototype.Jg.call(this,v);this.$a=q.L3;this.cJa=void 0;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:v});this.events.removeAllListeners();};u.prototype.hQ=function(){return !0;};u.prototype.me=function(){};u.prototype.hqa=function(v){return [f.u.X,f.u.U].some(function(w){return w === v;});};u.prototype.BA=function(){return [];};u.prototype.wk=function(v){var w;return null === (w=this.parent) || void 0 === w?void 0:w.wk(v);};u.prototype.Cpa=function(){return [];};u.prototype.eH=function(){};u.prototype.en=function(){return this.sS.G;};u.prototype.iR=function(){return {};};u.prototype.LZ=function(){return this.K.Xb.G;};u.prototype.Vy=function(v,w,x,y){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(A){switch(A.label){case 0:return [4,this.qn.promise];case 1:return (A.T(),this.parent?[4,this.parent.ON]:[3,3]);case 2:(A.T(),A.label=3);case 3:return [4,this.hrb(y)];case 4:return (A.T(),[2]);}});});};u.prototype.hrb=function(v){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(w){switch(w.label){case 0:if(-1 === v.indexOf(f.u.U))return [3,2];this.aV.clear();return [4,this.Lgc(this.sS)];case 1:(w.T(),w.label=2);case 2:if(-1 === v.indexOf(f.u.X))return [3,4];this.hK.clear();this.console.trace(("AsePaddingBranch {").concat(this.K.id,"}: video duration ").concat(this.sS.ca()));return [4,this.afc(this.sS)];case 3:(w.T(),w.label=4);case 4:return [2];}});});};u.prototype.st=function(){return [];};u.prototype.hY=function(v){var w,x;return !!((null === (w=this.Pb) || void 0 === w?0:w.greaterThan(v)) && (null === (x=this.Tb) || void 0 === x?0:x.lessThan(v)));};u.prototype.mpa=function(){return this.sS;};u.prototype.Nxa=function(){return !1;};u.prototype.toJSON=function(){var v,w;return {segment:this.K.id,viewableId:this.XF.J,contentStartPts:null === (v=this.qa) || void 0 === v?void 0:v.G,contentEndPts:null === (w=this.ta) || void 0 === w?void 0:w.G};};u.prototype.WJc=function(){return d.__awaiter(this,void 0,void 0,function(){var v,w,x,y,A,z,B,C,D,E,H;return d.__generator(this,function(F){switch(F.label){case 0:return (v=null === (z=null === (A=this.parent) || void 0 === A?void 0:A.me(f.u.U)) || void 0 === z?void 0:z.Do.kl)?[3,2]:[4,null === (C=null === (B=this.parent) || void 0 === B?void 0:B.me(f.u.U)) || void 0 === C?void 0:C.Do.zSb];case 1:F.T();if(this.Zc)return [2,Promise.reject()];F.label=2;case 2:return (v=null === (E=null === (D=this.parent) || void 0 === D?void 0:D.me(f.u.U)) || void 0 === E?void 0:E.Do.kl,(0,h.assert)(v,"Parent of padding branch must have last selected video stream"),w=null === (H=v.track.zo) || void 0 === H?void 0:H.NC,x=v.track.Au,y=v.Uc,[2,{profile:y,NC:w,Au:x}]);}});});};u.prototype.VJc=function(){return d.__awaiter(this,void 0,void 0,function(){var v,w,x,y,A,z,B,C,D,E,H;return d.__generator(this,function(F){switch(F.label){case 0:return (v=null === (B=null === (z=this.parent) || void 0 === z?void 0:z.me(f.u.X)) || void 0 === B?void 0:B.Do.kl)?[3,2]:[4,null === (D=null === (C=this.parent) || void 0 === C?void 0:C.me(f.u.X)) || void 0 === D?void 0:D.Do.zSb];case 1:F.T();if(this.Zc)return [2,Promise.reject()];F.label=2;case 2:return (v=null === (H=null === (E=this.parent) || void 0 === E?void 0:E.me(f.u.X)) || void 0 === H?void 0:H.Do.kl,(0,h.assert)(v,"Parent of padding branch must have last selected audio stream"),w=v.Ae || n.I.ia,x=(0,m.uwb)(v.profile),y=v.bitrate,A=v.track.Au,[2,{Ae:w,Xc:x,bitrate:y,Au:A}]);}});});};u.prototype.lwb=function(v,w){return this.wC.add(w).Kc(v).$;};u.prototype.wR=function(){return [];};u.prototype.Yxb=function(){return Infinity;};u.prototype.Spa=function(){return Infinity;};u.prototype.oG=function(){return {$S:!0,reason:void 0};};u.prototype.VX=function(v){return v.Ta === this.K.Ta && v.cb === this.K.cb;};return u;})(a.Jza);b.Sdb=a;(0,g.wl)(t.nz,a);},58049:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q;function d(r){return r === k.u.U?0:r === k.u.X?1:r === k.u.Da?2:3;}Object.defineProperties(b,{__esModule:{value:!0}});b.Jza=b.K3=b.QYb=b.$U=void 0;b.sUa=function(r){return "mediaTypeNotAvailable" === r.type;};n=a(22970);c=a(90745);f=a(91176);g=a(66164);e=a(89645);h=a(48170);k=a(65161);l=a(69575);m=a(68825);b.$U=function(r,u){r=d(r.mediaType);u=d(u.mediaType);return r - u;};b.QYb={$U:b.$U};(function(r){r[r.gC=0]="CREATED";r[r.L3=1]="CANCELLED";})(p || (b.K3=p={}));q=0;t=(function(){function r(u,v,w,x,y){this.XF=u;this.getParent=v;this.wC=w;this.Iq=x;this.$a=p.gC;this.$W=[];this.ozb=!1;this.hka=new Map();this.events=new c.EventEmitter();v=u.id && u.id.length?"{" + u.id + "}":"";this.console=(0,l.Gf)(g.platform,y,v);this.mjb=u.id + "-" + q++;h.l && this.console.debug(("BranchBase created with id ").concat(this.mjb));this.Y0=new m.Vdb(this);}Object.defineProperties(r.prototype,{state:{get:function(){return this.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Zc:{get:function(){return this.$a === p.L3;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{K:{get:function(){return this.XF;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{ka:{get:function(){return this.$W;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{parent:{get:function(){var u;return null === (u=this.getParent) || void 0 === u?void 0:u.call(this,this);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{HX:{get:function(){return this.mjb;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{NL:{get:function(){return this.D3b;},enumerable:!1,configurable:!0}});r.prototype.Uta=function(){var u;this.Y0.Uta();if(null === (u=this.parent) || void 0 === u?0:u.Pb)(u=this.parent.Pb.ea(this.Iq),this.Sw(u,"on parent normalization"));};r.prototype.Ob=function(){var u;if(this.parent){if(this.parent.Pb){u=this.parent.Pb.ea(this.Iq);this.Sw(u,"at intialization");}this.awc();this.Wvc();}h.l && this.console.trace(("BranchBase {").concat(this.K.id,"}: Initialization complete"));};r.prototype.awc=function(){n.__awaiter(this,void 0,void 0,function(){var u,v;return n.__generator(this,function(w){switch(w.label){case 0:return (u=this.Y0,[4,u.sya()]);case 1:w.T();h.l && this.console.trace(("Branch {").concat(this.K.id,"}: waitForParent Viewable Complete"));if(this.Zc || !this.parent)return [2];this.D3b=(null === (v=this.parent) || void 0 === v?0:v.M.Lq)?this.parent.Ld:this.parent.NL;return [2];}});});};r.prototype.Wvc=function(){n.__awaiter(this,void 0,void 0,function(){var u,v;return n.__generator(this,function(w){switch(w.label){case 0:return (u=this.Y0,h.l && this.console.trace(("Branch {").concat(this.K.id,"}: waitForParent Normalization Started")),[4,u.sya()]);case 1:w.T();h.l && this.console.trace(("Branch {").concat(this.K.id,"}: waitForParent Normalization Complete"));if(this.Zc || !this.parent)return [2];this.parent.Pb && (v=this.parent.Pb.ea(this.Iq),this.Sw(v,"on parent normalization"));return [2];}});});};r.prototype.update=function(u){(0,f.assert)(this.VX(u),"Cannot update branch with segment");this.XF=u;};r.prototype.Sw=function(u,v){void 0 === v && (v="unknown");h.l && this.console.log(("AseBranch adjusting branchOffset to ").concat(u.ca()) + (" from ").concat(this.Ld.ca()," ").concat(v));this.wC=u;this.events.emit("branchOffsetUpdated",{type:"branchOffsetUpdated",Ld:u});};r.prototype.Hxb=function(u){var w;if(!this.Zc)for(var v=this.parent;v;){w=v.eH(u);if(w)return w;v=v.parent;}};r.prototype.Jg=function(){this.getParent=void 0;this.Y0.Uta();};r.prototype.hqa=function(u){return this.ka.some(function(v){return v.mediaType === u;});};r.prototype.Exb=function(u){var v;if(!this.hka.has(u)){v=new e.SI(this.console,1);v.enqueue({pa:this,K:this.K,type:"mediaTypeNotAvailable"});this.hka.set(u,v);}return this.hka.get(u).epa();};r.prototype.jLb=function(u){var v;v=this;u.forEach(function(w){v.hka.delete(w);});};return r;})();b.Jza=t;},70842:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.cdc=function(f){var g,e,h,k,l,m,p,q,r,u,v,w;g=f.config;e=f.console;h=f.gZa;k=f.K;l=f.events;m=f.bN;p=f.Iq;q=f.Ld;r=f.Cq;u=f.ke;v=f.gd;w=f.eC;f=f.Bj;k.J === d.Br && g.hD?(l=new n.Udb(k.J,g.jua),g=new (a(25813).Sdb)(e,k,q,h.Jpa.bind(h),l,g)):g=new c.u6a(g,e,l,k,m,p,q,r,h.Jpa.bind(h),u,v,w,f);return g;};d=a(79048);n=a(10943);c=a(1552);},46498:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.dpb=b.x6a=void 0;d=a(22970);t=(function(){function c(f){var g;g=f.ICb;g=void 0 === g?n:g;this.pa=f.pa;this.ICb=g;}c.prototype.oG=function(f){var g,k,l;try{for(var e=d.__values(this.ICb),h=e.next();!h.done;h=e.next()){k=h.value;l=k(this.pa,f);if(l)return {$S:!1,reason:l};}}catch(p){var m;m={error:p};}finally{try{h && !h.done && (g=e.return) && g.call(e);}finally{if(m)throw m.error;}}return {$S:!0,reason:void 0};};return c;})();b.x6a=t;b.dpb=function(c,f){f=c.en(f);c=c.Spa();if(f >= c)return "targetBufferDurationLimit";};n=[b.dpb];},1552:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H;Object.defineProperties(b,{__esModule:{value:!0}});b.u6a=b.K3=void 0;d=a(22970);n=a(91176);c=a(91176);f=a(66164);g=a(79048);e=a(6200);h=a(42431);k=a(65161);t=a(71808);l=a(52571);m=a(19595);p=a(32412);q=a(48170);r=a(78541);u=a(42556);v=a(7559);w=a(85254);x=a(97757);y=a(62442);A=a(42193);z=a(50930);B=a(58049);C=a(18447);D=a(20717);E=a(46498);(function(F){F[F.gC=0]="CREATED";F[F.L3=1]="CANCELLED";})(H || (b.K3=H={}));a=(function(F){function G(J,L,K,M,P,I,O,Q,T,U,X,Y,W){var Z;Z=F.call(this,M,T,O,I,L) || this;Z.config=J;Z.cT=K;Z.Ywb=P;Z.Cq=Q;Z.ke=U;Z.gd=X;Z.eC=Y;Z.l4a=W;Z.mH=new p.$V();Z.F_a=0;Z.Rd=void 0;Z.zI=void 0;Z.P9b=new E.x6a({pa:Z});Z.jsa=void 0;Z.Ah=void 0;Z.qn=new c.Ko();Z.qn.then(function(){q.l && Z.console.log("AseBranch normalized promise callback",Z.HX);});Z.Gqa=new c.Ko();Z.KXa=Z.cwc();Z.WOb=[];return Z;}d.__extends(G,F);G.prototype.caa=function(J){return this.Jea()?this.vyc:this.WOb[J];};Object.defineProperties(G.prototype,{ka:{get:function(){var J;this.Wl && 0 === (null === (J=this.$W) || void 0 === J?void 0:J.length) && this.Ywb && (q.l && this.console.trace("Branch getting initial tracks"),this.$W=this.Ywb(this.M).sort(B.$U),q.l && this.console.trace("Branch got initial tracks:",this.$W));return this.$W;},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{uX:{get:function(){return this.mk?this.BA().every(function(J){return J.he.uX;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{ZKa:{get:function(){return this.BA().some(function(J){return J.r7b;});},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{Bk:{get:function(){var J;return !(null === (J=this.yd) || void 0 === J || !J.Bk);},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{mk:{get:function(){var J;return !(null === (J=this.yd) || void 0 === J || !J.mk);},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{$J:{get:function(){var J,L;return null !== (L=null === (J=this.yd) || void 0 === J?void 0:J.$J) && void 0 !== L?L:0;},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{Xf:{get:function(){var J;return !(null === (J=this.yd) || void 0 === J || !J.Xf);},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{ON:{get:function(){return this.qn.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{tya:{get:function(){return this.eC.ur.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{Wl:{get:function(){var J;return !(null === (J=this.eC) || void 0 === J || !J.M);},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{gqa:{get:function(){return !!this.ka.length && this.ka.every(function(J){return J.eh;});},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{M:{get:function(){(0,l.assert)(this.eC.M,"viewable should be available");return this.eC.M;},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{O:{get:function(){var J;return (null === (J=this.yd) || void 0 === J?void 0:J.O) || this.Iq.O;},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{ub:{get:function(){var J,L;return null !== (L=null === (J=this.yd) || void 0 === J?void 0:J.ub) && void 0 !== L?L:this.Iq.$;},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{Lb:{get:function(){var J,L;return null !== (L=null === (J=this.yd) || void 0 === J?void 0:J.Lb) && void 0 !== L?L:this.K.Xb.Kc(this.Iq.O).$;},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{Kp:{get:function(){var J,L;return null !== (L=null === (J=this.yd) || void 0 === J?void 0:J.Kp) && void 0 !== L?L:this.Ld.Kc(this.O).$;},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{pH:{get:function(){var J,L;return (null === (J=this.yd) || void 0 === J?void 0:J.pH) || (null === (L=this.Iq) || void 0 === L?void 0:L.add(this.Ld));},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{xZ:{get:function(){var J,L;L=null === (J=this.K.Ul) || void 0 === J?void 0:J[0];return L && this.qa?n.I.Ca(Math.max(0,L[0] - this.qa.G - this.K.jb.G)):n.I.ia;},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{Aw:{get:function(){var J;return (null === (J=this.yd) || void 0 === J?void 0:J.Aw) || this.K.jb.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{hT:{get:function(){var J;return (null === (J=this.yd) || void 0 === J?void 0:J.hT) || this.K.Xb.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{Gra:{get:function(){var J;return null === (J=this.yd) || void 0 === J?void 0:J.Gra;},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{Ld:{get:function(){var J;return (null === (J=this.yd) || void 0 === J?void 0:J.Ld) || this.wC;},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{ez:{get:function(){var J,L;L=null === (J=this.yd) || void 0 === J?void 0:J.ez;return (null === L || void 0 === L?0:L.isFinite())?L:this.K.Xb.ea(this.Iq || this.K.jb);},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{qk:{get:function(){var J;return null === (J=this.yd) || void 0 === J?void 0:J.qk;},enumerable:!1,configurable:!0}});G.prototype.Ob=function(){return d.__awaiter(this,void 0,void 0,function(){var J,L,K;K=this;return d.__generator(this,function(M){switch(M.label){case 0:F.prototype.Ob.call(this);if(this.Zc)return [2];q.l && this.console.log(("AseBranch {").concat(this.K.id,"} awaiting viewable"));return [4,this.eC.Ob(this,function(){return d.__awaiter(K,void 0,void 0,function(){var P;return d.__generator(this,function(I){switch(I.label){case 0:return (q.l && this.console.trace(("Branch {").concat(this.K.id,"}: Waiting for randomization")),[4,this.$Xc()]);case 1:P=I.T();q.l && this.console.trace(("Branch {").concat(this.K.id,"}: Randomization complete"));if(!this.Zc)return [3,3];q.l && this.console.trace(("Branch {").concat(this.K.id,"}: Cancelled"));return [4,new Promise(function(){})];case 2:(I.T(),I.label=3);case 3:return [2,P];}});});})];case 1:M.T();q.l && this.console.log(("AseBranch {").concat(this.K.id,"} viewable available, branch ").concat(this.Zc?"cancelled":"active"));if(this.Zc)return [2];(0,l.assert)(this.eC.M,"viewable should be available");this.eC.M.v1a() && (this.config=this.eC.M.config);J=this.ka.map(function(P){var I;return null === (I=K.parent) || void 0 === I?void 0:I.wk(P.mediaType);});this.cNb(this.Iq);this.ka.some(function(P){P.mediaType === k.u.Da && K.uNb(P);});return [4,this.Jub()];case 2:M.T();q.l && this.console.log(("AseBranch {").concat(this.K.id,"} have headers"));if(this.Zc)return [2];if(!this.parent)return [3,4];L=this.Y0;return [4,L.sya()];case 3:M.T();if(this.Zc)return [2];q.l && this.console.log(("AseBranch {").concat(this.K.id,"} parent normalized, creating header streamables"));this.Efc(J);M.label=4;case 4:return (this.normalize(),[2]);}});});};G.prototype.$Xc=function(){return d.__awaiter(this,void 0,void 0,function(){var J,L,K,M,P,I,O,Q,T,U,X,Y;Y=this;return d.__generator(this,function(W){switch(W.label){case 0:if(!this.parent)return (q.l && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - no - parent")),[2]);if(this.Zc)return (q.l && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - cancelled")),[2]);if(!this.config.Hkc)return (q.l && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - live manifest throttling disabled")),[2]);J=this.Y0;return [4,J.bYc()];case 1:W.T();if(!this.parent)return (q.l && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - no parent")),[2]);L=this.parent.M.Xj || this.parent.M;if(!L || !L.Lq || !L.Oc)return (q.l && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - parent checks failed"),{root:L.J,Lq:L.Lq,Wd:!!L.Oc}),[2]);this.console.info(("Branch {").concat(this.K.id,"}: Waiting for parent normalization"));return [4,J.sya()];case 2:W.T();q.l && this.console.trace(("Branch {").concat(this.K.id,"}: Completed parent viewable"));if(!this.parent)return (q.l && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - no parent")),[2]);if(this.Zc)return (q.l && this.console.info(("Branch {").concat(this.K.id,"}: Not eligible for randomization - cancelled")),[2]);if(!this.NL)return (q.l && this.console.info(("Branch {").concat(this.K.id,"}: Live branch offset missing"),{root:L.J,Lq:L.Lq,Wd:!!L.Oc,NL:this.NL}),[2]);K=L.Oc;M=this.Tb.ea(this.NL);if(!M.isFinite())return [3,4];P=(0,y.wob)(M,K,this.config);I=P.vSc;O=P.sIb;Q=P.MDb;T=P.lYc;U=P.delay;X=P.FE;q.l && this.console.info(("AseBranch {").concat(this.K.id,"} ad start availability time: ").concat(I),(", window start availability time: ").concat(T),(", manifest request time: ").concat(Q),(", platform manifest request time: ").concat(O),{Na:this.l4a.Na.currentTime,xH:this.config.xH,cS:this.config.cS,delay:U,MDb:Q,Pdd:M.ca(),lcd:this.Tb.ca(),$$c:this.NL.ca()});return O > f.platform.time.ha()?[4,new Promise(function(Z){Y.jsa=Y.l4a.Yt(n.ce.mm(n.I.Ca(O)),Z,"liveAdManifestWindow");})]:[3,4];case 3:return (W.T(),q.l && this.console.info(("AseBranch {").concat(this.K.id,"} completed"),{Na:this.l4a.Na.currentTime}),[2,{uga:this.config.xH,MP:T,G2:U,UB:T + U,FE:X}]);case 4:return [2];}});});};G.prototype.normalize=function(){q.l && this.console.log(("AseBranch {").concat(this.K.id,"} normalizing"));this.Zc || (this.yd=new (this.M.Eb?C.cia:D.pdb)(this,this.config,this.console,this.M,this.cT,this.XF,this.Iq,this.mH.items,this.wC,this.Cq,this.ke,this.events,this.gd),this.YOa(this.yd.tQ),q.l && this.console.log(("AseBranch {").concat(this.K.id,"} normalizing - setting normalized branch")),this.qn.resolve(this.yd),this.events.emit("needsRequest"));};G.prototype.Efc=function(J){var L;L=this;this.mH.forEach(function(K){var M,P,I;I=null === (M=L.parent) || void 0 === M?void 0:M.wk(K.mediaType);(0,l.assert)(K.mediaType === k.u.Da || I,"Parent state should be defined");-1 === (null === J || void 0 === J?void 0:J.indexOf(I)) && (null === (P=L.caa(K.mediaType).wk(K.mediaType)) || void 0 === P?void 0:P.La(),M=new m.g6(function(){var O;return null === (O=L.parent) || void 0 === O?void 0:O.wk(K.mediaType);}),L.caa(K.mediaType).sNb(M));I=void 0;});J=void 0;};G.prototype.Jub=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){this.gqa?this.Gqa.resolve():(this.M.events.on("onHeaderFragments",this.KXa),this.events.emit("needsRequest"));return [2,this.Gqa.promise];});});};G.prototype.cwc=function(){var J;J=this;return function(){!J.Zc && J.gqa && (J.M.events.$l("onHeaderFragments",J.KXa),J.Gqa.resolve());};};G.prototype.LM=function(){var J;null === (J=this.yd) || void 0 === J?void 0:J.LM();};G.prototype.VX=function(J){var L;return !this.Xf || (null === (L=this.yd) || void 0 === L?void 0:L.VX(J)) || !1;};G.prototype.update=function(J){var L;F.prototype.update.call(this,J);this.Wl && (null === (L=this.yd) || void 0 === L?0:L.update(J)) && this.YOa(!0);};G.prototype.Sw=function(J,L){var K;void 0 === L && (L="unknown");F.prototype.Sw.call(this,J,L);null === (K=this.yd) || void 0 === K?void 0:K.Sw(J);};G.prototype.aL=function(J){return d.__awaiter(this,void 0,void 0,function(){var L,K;return d.__generator(this,function(M){switch(M.label){case 0:return [4,this.qn];case 1:return (L=M.T(),[4,null === L || void 0 === L?void 0:L.aL(J)]);case 2:return (K=M.T(),[2,K || this.Exb(J)]);}});});};G.prototype.reset=function(){var J;null === (J=this.yd) || void 0 === J?void 0:J.reset();};G.prototype.Jg=function(J){var L,K;void 0 === J && (J="other");F.prototype.Jg.call(this,J);this.$a=H.L3;if(this.Wl){K=this.M;this.M.events.$l("onHeaderFragments",this.KXa);}null === (L=this.yd) || void 0 === L?void 0:L.Jg(J);this.mH.forEach(function(M){M.cancel();M.Op.wk(M.mediaType).La();});this.eC.La();this.jsa && (this.jsa.La(),this.jsa=void 0);this.zI && (this.zI.removeAllListeners(),q.l && this.console.trace("AseBranch destroying textRequestQueue:",this.zI),h.XI.instance.m9(this.zI),this.zI=void 0);this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:J,M:K});this.events.removeAllListeners();};G.prototype.hQ=function(J){var L;return !(null === (L=this.yd) || void 0 === L || !L.hQ(J));};G.prototype.me=function(J){var L;return null === (L=this.yd) || void 0 === L?void 0:L.me(J);};G.prototype.hqa=function(J){return this.ka.some(function(L){return L.mediaType === J;});};G.prototype.BA=function(J){var L;void 0 === J && (J=B.$U);return (null === (L=this.yd) || void 0 === L?void 0:L.BA(J)) || [];};G.prototype.wk=function(J){var L;return null === (L=this.caa(J)) || void 0 === L?void 0:L.wk(J);};G.prototype.Cpa=function(){var J,L;if(!this.gqa)return this.mH.items;L=(null === (J=this.yd) || void 0 === J?void 0:J.Cpa()) || [];q.l && this.console.trace("getMediaStreamables returning:",L);return L;};G.prototype.eH=function(J){var L;return (null === (L=this.yd) || void 0 === L?void 0:L.eH(J)) || this.mH.get(J);};G.prototype.en=function(J,L){var K;return (null === (K=this.yd) || void 0 === K?void 0:K.en(J,L)) || 0;};G.prototype.iR=function(){var J;return (null === (J=this.yd) || void 0 === J?void 0:J.iR()) || ({});};G.prototype.LZ=function(J){var L;return (null === (L=this.yd) || void 0 === L?void 0:L.LZ(J)) || this.pH.G;};G.prototype.Vy=function(J,L,K,M){return d.__awaiter(this,void 0,void 0,function(){var P,I,O,Q,T;T=this;return d.__generator(this,function(U){switch(U.label){case 0:q.l && this.console.trace("Branch.setTracks:",J);this.$W=J.sort(B.$U);this.cNb(L);if(!this.Xf)return [3,4];(0,l.assert)(this.yd);P=this.mH.filter(function(X){return X.track.eh;}).items;I=this.yd.pRb(P,L,K,M);O=I.Kna;Q=I.tQ;O && this.YOa(Q);if(this.gqa)return [3,4];this.Gqa=new c.Ko();this.qn=new c.Ko();q.l && this.console.log(("AseBranch {").concat(this.K.id,"} setTracks waiting for headers"));return [4,this.Jub()];case 1:return (U.T(),this.Zc?[2]:this.parent?[4,this.parent.ON]:[3,3]);case 2:(U.T(),U.label=3);case 3:(this.yd.pRb(this.mH.items,L,K,[]),q.l && this.console.log(("AseBranch {").concat(this.K.id,"} setTracks pipelines updated")),this.qn.resolve(this.yd),this.events.emit("needsRequest"),U.label=4);case 4:return (J.some(function(X){if(X.mediaType === k.u.Da)return (T.uNb(X),!0);}),this.jLb(M),[2]);}});});};G.prototype.uNb=function(J){var L;L=this;this.Rd=J;this.zI || (this.zI=(0,r.bD)(k.u.Da,this.M,this.config,this.console,!0,function(K){return L.cT.emit("transportReport",K);},function(K){return L.cT.emit("mediaRequestComplete",K);},function(){}),q.l && this.console.trace("AseBranch created textRequestQueue:",this.zI));this.jLb([k.u.Da]);};G.prototype.ufc=function(){var J,L;J=this.zR(k.u.X);L=this.zR(k.u.U);this.Ah=new A.H8a(this.M.bd,this.console,J,L,this.config);};G.prototype.Lfc=function(J){var L,K,M,P,I,O;L=this;J=J.track.Eb?this.config.vba:this.config.kxa;K=this.zR(k.u.X);M=this.zR(k.u.U);P=this.MNb(k.u.U);I=new m.g6(function(){var Q;return null === (Q=L.parent) || void 0 === Q?void 0:Q.wk(k.u.X);});O=new m.g6(function(){var Q;return null === (Q=L.parent) || void 0 === Q?void 0:Q.wk(k.u.U);});K && I.m1a(K);M && O.m1a(M);this.vyc=new u.i5(J,this.config,I,O,P);};G.prototype.ygc=function(J){this.Jea()?this.Lfc(J):this.Ofc(J);this.config.fS && void 0 === this.Ah && this.ufc();};G.prototype.Ofc=function(J){var L,K,M;L=this;K=J.mediaType === k.u.X?this.config.U8b:J.track.Eb?this.config.vba:this.config.kxa;M=new m.g6(function(){var P;return null === (P=L.parent) || void 0 === P?void 0:P.wk(J.track.mediaType);});M.m1a(J.track);K=new u.h6(K,this.config,M,this.MNb(J.mediaType));this.WOb[J.mediaType]=K;};G.prototype.cNb=function(J){var L;L=this.M.Eb?this.ka:this.ka.filter(function(K){return K.mediaType !== k.u.Da;});this.jQc(J,L);};G.prototype.jQc=function(J,L){var K,M,P;K=this;M=this.F_a=0;L=L.map(function(I){var O;O=K.mH.find(function(Q){return Q.track === I;});O || (++K.F_a,O=new z.h$a(K,I,function(){return (null === J || void 0 === J?void 0:J.add(K.Ld)) || n.I.ia;},J || n.I.ia,K.config,K.console,K.cT,function(){0 === --K.F_a && K.events.emit("requestQueuesCreated");}),K.Jea() && 0 < M || (K.ygc(O),M++));return O;});this.mH=new p.$V(L);L=this.M.CX;P=this.kzb();P?this.M.CX=L | e.SHa.$0b:void 0 !== P && (this.M.CX=L | e.SHa.gZb);};G.prototype.st=function(J){var L;return (null === (L=this.yd) || void 0 === L?void 0:L.st(J)) || [];};G.prototype.hY=function(J){var L;return !(null === (L=this.yd) || void 0 === L || !L.hY(J));};G.prototype.mpa=function(J){return this.yd?this.yd.mpa(J):n.I.ia;};G.prototype.Nxa=function(J){var L;return !(null === (L=this.yd) || void 0 === L || !L.Nxa(J));};G.prototype.SU=function(J){(0,l.assert)(this.M.Eb,"updateFragmentTimes called on non-live Branch");(0,l.assert)(this.yd,"updateFragmentTimes called before Branch is normalized");(0,l.assert)(J.mediaType === k.u.X,"updateFragmentTimes called with non-audio track");this.yd.SU(J);};G.prototype.Yxb=function(){return this.yd instanceof C.cia?this.yd.Xxb():Infinity;};G.prototype.Spa=function(){return this.yd instanceof C.cia?this.yd.itc():Infinity;};G.prototype.oG=function(J){return this.P9b.oG(J);};G.prototype.YOa=function(J){J={type:"branchNormalized",segmentContentStart:this.K.jb,branchContentStart:this.qa,branchContentEnd:this.ta,didNormalizeSegment:J};this.events.emit(J.type,J);q.l && this.console.trace("branchNormalized:",J);};G.prototype.zR=function(J){var L;L=this.ka.filter(function(K){return K.mediaType === J;});return 0 < L.length?L[0]:void 0;};G.prototype.wR=function(J){var L;return (null === (L=this.zR(J)) || void 0 === L?void 0:L.Gd) || [];};G.prototype.toJSON=function(){var J;return (null === (J=this.yd) || void 0 === J?void 0:J.toJSON()) || ({});};G.prototype.Jea=function(){return this.config.iba && !this.M.Eb;};Object.defineProperties(G.prototype,{Daa:{get:function(){return void 0 !== this.M.xba;},enumerable:!1,configurable:!0}});Object.defineProperties(G.prototype,{ys:{get:function(){return this.K.type === g.pd.Rc;},enumerable:!1,configurable:!0}});G.prototype.MNb=function(J){return !this.config.Skc && this.kzb()?!1:this.ys?this.Daa?this.M.Lq?this.config.ytb:this.config.qkc:this.config.rkc:!this.config.ytb && this.M.Eb?!1:this.config.C9 || J === k.u.X && this.config.z9 || J === k.u.U && this.config.IG || this.config.bPa;};G.prototype.kzb=function(){var J,L;L=(null === (J=this.wR(k.u.X)[0]) || void 0 === J?void 0:J.profile) || void 0;return L?(0,v.FAb)(L,this.config):void 0;};return G=d.__decorate([x.GZ],G);})(B.Jza);b.u6a=a;(0,w.wl)(t.nz,a);},18447:function(t,b,a){var n,c,f,g,e,h,k,l,m;function d(p){return Math.min(p.XL,Math.max(p.nl,p.IJc - p.eS * p.h9b));}Object.defineProperties(b,{__esModule:{value:!0}});b.cia=void 0;b.m6c=d;n=a(22970);c=a(91176);f=a(26388);g=a(48170);e=a(32412);h=a(95324);t=a(71808);k=a(85254);l=a(98561);m=a(8149);a=(function(p){function q(){return null !== p && p.apply(this,arguments) || this;}n.__extends(q,p);q.prototype.ENa=function(r,u,v){var w,x,y,A;w=this;g.l && this.console.trace("LiveNormalizedBranch.createPipelines");A=new e.$V();r.forEach(function(z){var B;B=w.fe.find(function(C){return C.track === z.track;});void 0 === B?((0,c.assert)((0,m.po)(z.track),"live normalized branch expected live track"),B=new h.dia(w,w.config,w.console,w.cT,w.pa,z.track,u,w.gd,z.oQb()),w.Lqa(B)):B.eX();A.add(B);});this.S2a=!this.config.B2 || !(null === (x=A.Vq) || void 0 === x || !x.Ioa);g.l && this.console.trace(("LiveNormalizedBranch.timingUpdatesComplete: timingUpdatesComplete: ").concat(this.S2a,",") + (" supportLiveIdrMismatch: ").concat(this.config.B2,",") + (" firstFragmentConfirmed: ").concat(null === (y=A.Vq) || void 0 === y?void 0:y.Ioa));return this.vAb(A,u,v);};q.prototype.Lqa=function(r){var u;u=this;r.events.on("liveMissingSegment",function(v){return u.events.emit("liveMissingSegment",v) && u.Kca();});p.prototype.Lqa.call(this,r);};q.prototype.normalize=function(r,u){var v;null === (v=this.pB) || void 0 === v?void 0:v.Se();this.pB=new l.Tab({console:this.console,config:this.config,M:this.M,K:this.K,fe:this.fe,qa:r,ta:this.K.Xb,splice:u});u=p.prototype.normalize.call(this,r,u);!this.pa.parent && this.fe.every(function(w){return !w.Hna;}) && this.M.Eb && this.config.Ehc && r.greaterThan(c.I.Ca(this.config.ZCc)) && this.Sw(c.I.Ca(this.config.Fhc).ea(r));return u;};q.prototype.VX=function(r){var u;if(!this.gQa || this.K.Ta === r.Ta)return !0;u=this.fe.get(f.u.U);g.l && (0,c.assert)(u,"Segment start time update should only occur for branches with video");return !!u && u.Gac(r.Ta);};q.prototype.hQ=function(r){return p.prototype.hQ.call(this,r) && this.S2a;};q.prototype.SU=function(r){this.fe.forEach(function(u){u.track === r && u.SU();});};q.prototype.Xxb=function(){var r,u,v,w;u=this.M.il(!0);v=this.Cq();w=(null === (r=this.ova) || void 0 === r?void 0:r.G) || 0;return u + w - v;};q.prototype.Rqc=function(r){if(r=this.eH(r))if((r=r.Op.wk(f.u.U).kl,(r=null === r || void 0 === r?void 0:r.track) && (0,m.po)(r)))return r;};q.prototype.itc=function(){var r;r=this.Rqc(f.u.U);return r?d({h9b:r.al.G,nl:this.config.nl,IJc:this.Xxb(),eS:this.config.eS,XL:this.config.XL}):Infinity;};q.prototype.lIc=function(r){var u;r === this.Vq && ((0,c.assert)(r.qa,"videoPipelineStartChanged: pipeline should have content start timestamp"),g.l && this.console.log(("videoPipelineStartChanged ").concat(r.qa.ca())),r.mediaType === f.u.U && (null === (u=this.fe.get(f.u.X)) || void 0 === u?void 0:u.S6b(r.qa)),this.Kta(),this.pa.parent && (u=this.pa.parent.Pb,(0,c.assert)(u,"videoPipelineStartChanged: parent branch should have player end timestamp"),r=u.ea(r.qa),this.pa.Sw(r,"on pipeline start changed")));};q.prototype.kIc=function(r){var u;r === this.Vq && ((0,c.assert)(r.qa,"videoPipelineEndChanged: pipeline should have content start timestamp"),(0,c.assert)(r.ta,"videoPipelineEndChanged: pipeline should have content end timestamp"),g.l && this.console.log(("videoPipelineEndChanged ").concat(r.ta.ca())),r.mediaType === f.u.U && (null === (u=this.fe.get(f.u.X)) || void 0 === u?void 0:u.R6b(r.ta)),this.Kta(),this.events.emit("branchEdited",{type:"branchEdited"}));};q.prototype.ovb=function(r){r === this.Vq && (this.S2a=!0,g.l && this.console.trace("LiveNormalizedBranch.firstFragmentTimesUpdated: timing updates complete"),this.events.emit("contentStartFinalized",{type:"contentStartFinalized"}),this.fe.forEach(function(u){return u.QU();}));};q.prototype.Kta=function(){var r,u;r=this.K;u=r.jb;r=r.Xb;this.K.normalize(this.qa,this.ta);this.events.emit("branchTimestampsChanged",{type:"branchTimestampsChanged",pa:this.pa,MGc:u,HGc:r});};return q;})(a(33928).pEa);b.cia=a;(0,k.wl)(t.nz,a);},33928:function(t,b,a){var n,c,f,g,e,h,k,l,m;function d(p,q){return (p.mediaType === e.u.U?0:1) - (q.mediaType === e.u.U?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.pEa=b.P_b=void 0;n=a(22970);c=a(91176);f=a(91176);g=a(66164);t=a(81392);e=a(65161);h=a(52571);k=a(32412);l=a(99548);m=a(69575);b.P_b={$U:d};a=(function(p){function q(r,u,v,w,x,y,A,z,B,C,D,E,H){var F,G;G=p.call(this,w) || this;G.pa=r;G.config=u;G.M=w;G.cT=x;G.XF=y;G.wC=B;G.Cq=C;G.ke=D;G.events=E;G.gd=H;G.fe=new k.$V([]);G.EF=!1;G.fCb=0;G.hob=G.tFc.bind(G);(0,h.assert)(w.J === G.K.J || isNaN(w.J) && isNaN(G.K.J));r=y.id && y.id.length?"{" + y.id + "}":"";G.console=(0,m.Gf)(g.platform,v,r);G.Iq=A || G.K.jb;v=G.parent;G.vHb=null === v || void 0 === v?void 0:v.Pb;null === (F=G.ke) || void 0 === F?void 0:F.addListener(G.hob);z=G.ENa(z,G.Iq,!!v).tQ;G.tQ=z;return G;}n.__extends(q,p);Object.defineProperties(q.prototype,{Zc:{get:function(){return this.EF;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{K:{get:function(){return this.XF;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gQa:{get:function(){return this.fe.some(function(r){return r.gQa;});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Bk:{get:function(){return this.fe.every(function(r){return r.Bk;});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mk:{get:function(){return this.fe.every(function(r){return r.mk;});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$J:{get:function(){return this.BA().reduce(function(r,u){return r + u.$J;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Xf:{get:function(){return this.BA().every(function(r){return r.Xf();});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ka:{get:function(){return this.pa.ka;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{O:{get:function(){return this.Vq.O;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ub:{get:function(){return this.Vq.ub;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Lb:{get:function(){return this.Vq.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Kp:{get:function(){return this.Ld.Kc(this.O).$;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{pH:{get:function(){return this.Iq.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Aw:{get:function(){return this.K.jb.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{hT:{get:function(){return this.K.Xb.add(this.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Gra:{get:function(){return this.fe.reduce(function(r,u){return r && u.Pb?c.I.max(r,u.Pb):u.Pb?u.Pb:r;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qk:{get:function(){return this.fe.reduce(function(r,u){u=u.qk;return r && u?c.I.max(r,u):r || u;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ez:{get:function(){return this.Vq.ez;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ld:{get:function(){return this.wC;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{parent:{get:function(){return this.pa.parent;},enumerable:!1,configurable:!0}});q.prototype.pRb=function(r,u,v,w){void 0 === u && (u=this.qa || this.Iq);return this.ENa(r,u,v,w);};q.prototype.LM=function(){var r,u,v,w,x;if(this.pB){r=this.XF;u=n.__read(this.pB.LM(r,r.Xb),3);v=u[0];w=u[1];u=u[2];x=this.me(e.u.X);x && ((0,h.assert)(v,"branch.renormalize: audioLastFragment should be defined"),x.truncate(v));if(v=this.me(e.u.U))((0,h.assert)(w,"branch.renormalize: videoLastFragment should be defined"),v.truncate(w));if(w=this.me(e.u.Da))((0,h.assert)(u,"branch.renormalize: lastTextFragment should be defined"),w.truncate(u));w=this.pB.ta;r.normalize(r.jb,w);(null === w || void 0 === w?0:w.lessThan(r.jb)) && this.console.error("NormalizedBranch.renormalize(): contentEndTimestamp is less than segment.startTimestamp",{Ebd:null === w || void 0 === w?void 0:w.ca(),qdd:r.jb.ca()});this.events.emit("branchEdited",{type:"branchEdited"});}};q.prototype.update=function(r){var u;(0,h.assert)(void 0 !== r.Ta,"segment.startTimeMs is required for normalized branch update");(0,h.assert)(void 0 !== r.cb,"segment.endTimeMs is required for normalized branch update");(0,h.assert)(void 0 !== this.K.Ta,"this.segment.startTimeMs is required for normalized branch update");(0,h.assert)(void 0 !== this.K.cb,"this.segment.endTimeMs is required for normalized branch update");(0,h.assert)(this.K.id === r.id,"segment.id must match this.segment.id");u=this.pB && (r.Ta !== this.K.Ta || r.cb !== this.K.cb);u && this.console.debug("NormalizedBranch.update() should renormalize");this.XF=r;return u?(this.LM(),!0):!1;};q.prototype.Sw=function(r){this.Ld.equal(r) || (this.console.debug("updateBranchOffset",{Hta:this.wC.ca(),hta:r.ca()}),(0,h.assert)(this.fe.every(function(u){return !u.Hna;}),"Cannot adjust branch offset after attaching"),this.wC=r,this.events.emit("branchOffsetUpdated",{type:"branchOffsetUpdated",Ld:r}),this.events.emit("branchEdited",{type:"branchEdited"}));};q.prototype.aL=function(r){return n.__awaiter(this,void 0,void 0,function(){var u;return n.__generator(this,function(v){switch(v.label){case 0:return [4,Promise.resolve()];case 1:return (v.T(),(u=this.me(r))?[2,u.aL()]:[2,void 0]);}});});};q.prototype.eX=function(){this.fe.forEach(function(r){return r.eX();});};q.prototype.reset=function(){this.fe.forEach(function(r){r.reset();});};q.prototype.Jg=function(r){var u,v;this.EF || (this.EF=!0,null === (u=this.pB) || void 0 === u?void 0:u.Se(),this.pB=void 0,this.fe.forEach(function(w){w.Jg("aborted" === r);}),null === (v=this.ke) || void 0 === v?void 0:v.removeListener(this.hob));};q.prototype.hQ=function(){return !0;};q.prototype.me=function(r){return this.fe.get(r);};q.prototype.BA=function(r){void 0 === r && (r=d);return this.fe.items.slice().sort(r);};q.prototype.Cpa=function(){return this.fe.items;};q.prototype.eH=function(r){return this.me(r);};q.prototype.en=function(r,u){r=this.me(r);if(!r)return 0;if(u)return r.Pva;u=r.E8;if(void 0 === u)return 0;r=this.Cq();return u - r;};q.prototype.iR=function(){var r,u,v,w,x,y,A;A=null === (r=this.me(e.u.X)) || void 0 === r?void 0:r.fY;r=null === (u=this.me(e.u.U)) || void 0 === u?void 0:u.fY;return {YU:null !== (v=null === r || void 0 === r?void 0:r.G) && void 0 !== v?v:0,HP:null !== (w=null === A || void 0 === A?void 0:A.G) && void 0 !== w?w:0,JN:null !== (x=null === r || void 0 === r?void 0:r.ma) && void 0 !== x?x:0,TJ:null !== (y=null === A || void 0 === A?void 0:A.ma) && void 0 !== y?y:0};};q.prototype.LZ=function(r){var u;return (r=this.me(r))?null !== (u=r.E8) && void 0 !== u?u:0:0;};q.prototype.st=function(r){var u;return (null === (u=this.me(r)) || void 0 === u?void 0:u.st()) || [];};q.prototype.tFc=function(r){r=r.newValue;(0,e.zs)(r) && this.Kca();};q.prototype.hY=function(r){return this.fe.every(function(u){return u.hY(r);});};q.prototype.mpa=function(r){var u;return (null === (u=this.fe.get(r)) || void 0 === u?void 0:u.Xgc) || c.I.ia;};q.prototype.Nxa=function(r){var u,v,w,x;u=this.Vq.cCb;if(!u)return !1;r=(0,f.cc)(r,function(y){return u.G <= y.qa.G;});if(!r)return !1;v=r.qa;r=!1;w=n.__read((0,l.PKb)(this.config,this.fe,v),3);v=w[0];x=w[1];w=w[2];x && (x=this.me(e.u.U).truncate(x),r || (r=x));v && (x=this.me(e.u.X).truncate(v),r || (r=x));w && (x=this.me(e.u.Da).truncate(w),r || (r=x));r && (v={type:"branchEdited"},this.events.emit(v.type,v));return r;};q.prototype.uo=function(r,u){this.EF || ((0,h.assert)(!r.gf),this.Kca(),this.events.emit("requestComplete",{type:"requestComplete",pa:this.pa}),this.mk && this.qGc());this.ZQ(r,u);};q.prototype.$D=function(r,u){this.config.Dtb && this.Kca(!0);this.CZ(r,u);};q.prototype.mM=function(r){this.config.Dtb && this.Kca(!0);this.h$(r);};q.prototype.vAb=function(r,u,v){var w;w=0 < r.length;this.fe.filter(function(x){return !r.mzb(x);}).forEach(function(x){w=!0;x.Jg();});this.fe=r;return w?this.normalize(u,v):{Kna:!1,tQ:!1};};q.prototype.Lqa=function(r){var u;u=this;r.events.on("lastRequestIssued",function(){return u.Bk && u.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});};q.prototype.normalize=function(){var r,u;(0,h.assert)(this.pB,"Must call through normalize through subclass to create pipeline normalizer");this.Vq=this.fe.Vq;r=this.pB.normalize();u=r.Kna;r=r.tQ;u && this.vHb && (this.wC=this.vHb.ea(this.qa));return {Kna:u,tQ:r};};q.prototype.jRc=function(r){var u;return (0,e.zs)((null === (u=this.ke) || void 0 === u?void 0:u.value) || e.Sd.cq) && (!r || this.fCb + this.config.lca < g.platform.time.ha());};q.prototype.Kca=function(r){void 0 === r && (r=!1);this.jRc(r) && (this.fCb=g.platform.time.ha(),r={type:"checkBufferingProgress"},this.events.emit(r.type,r));};q.prototype.qGc=function(){var r;r={type:"branchStreamingComplete"};this.events.emit(r.type,r);};q.prototype.toJSON=function(){var r,u,v;return {segment:this.K.id,branchOffset:null === (r=this.Ld) || void 0 === r?void 0:r.G,viewableId:this.XF.J,contentStartPts:null === (u=this.qa) || void 0 === u?void 0:u.G,contentEndPts:null === (v=this.ta) || void 0 === v?void 0:v.G};};return q;})(t.WN);b.pEa=a;},20717:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.pdb=void 0;d=a(22970);n=a(48170);c=a(32412);f=a(95052);t=a(85254);g=a(71808);e=a(72117);a=(function(h){function k(){return null !== h && h.apply(this,arguments) || this;}d.__extends(k,h);k.prototype.ENa=function(l,m,p,q){var r,u;r=this;void 0 === q && (q=[]);n.l && this.console.trace("OnDemandNormalizedBranch.createPipelines");u=new c.$V();l.forEach(function(v){var w;w=r.fe.find(function(x){return x.track === v.track && !(q.some(function(y){return y === x.mediaType;}) && r.pa.ZKa);});void 0 === w?(w=new f.qdb(r,r.config,r.console,r.cT,r.pa,v.track,m,r.gd,v.oQb()),r.Lqa(w)):w.eX();u.add(w);});return this.vAb(u,m,p);};k.prototype.normalize=function(l,m){var p;null === (p=this.pB) || void 0 === p?void 0:p.Se();this.pB=new e.rdb({console:this.console,config:this.config,M:this.M,K:this.K,fe:this.fe,qa:l,ta:this.K.Xb,splice:m});return h.prototype.normalize.call(this,l,m);};k.prototype.VX=function(l){return l.Ta === this.K.Ta;};return k;})(a(33928).pEa);b.pdb=a;(0,t.wl)(g.nz,a);},68825:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Vdb=void 0;d=a(91176);n=a(66164);c=a(48170);t=(function(){function f(g){var e;e=this;this.pa=g;this.bX=new d.xW({F7:!1});this.aX=new d.xW({F7:!1});this.sb=new n.platform.Console("PARENT-BRANCH-HELPER","asejs",g.HX);this.BCb=(0,d.Hra)(function(){return e.kAb();});}f.prototype.Uta=function(){c.l && this.sb.debug("Reparenting - resetting promises");this.kAb();};f.prototype.kAb=function(){var g,e;g=this;c.l && this.sb.debug("setting up promise chain");this.aX.eba && (this.aX=new d.xW({F7:!1}),this.aX.promise.then(function(){c.l && g.sb.debug("Parent normalization complete");}));this.bX.eba && (this.bX=new d.xW({F7:!1}),this.bX.then(function(){c.l && g.sb.debug("Parent viewable complete");}));if(this.pa.parent){c.l && this.sb.debug("Listening to parent",{id:this.pa.parent.HX,ON:!!this.pa.parent.ON,tya:!!this.pa.parent.tya});e=this.pa.parent;this.aX.eN(e.ON,!1);this.bX.eN(e.tya,!1);}else (c.l && this.sb.debug("Resolving directly, no parent branch"),this.aX.eN(Promise.resolve(),!1),this.bX.eN(Promise.resolve(),!1));};f.prototype.bYc=function(){this.BCb();return this.bX.promise;};f.prototype.sya=function(){this.BCb();return this.aX.promise;};return f;})();b.Vdb=t;},45550:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.aO=void 0;d=a(15913);n=a(52571);t=(function(){function c(f){this.config=f;this.reset();}c.instance=function(){(0,n.assert)(void 0 !== c.Pz);return c.Pz;};c.Ycc=function(f){c.Pz=new c(f);};c.prototype.push=function(f){this.vl && this.vl.push(f);};c.prototype.yb=function(){if(this.vl)return (this.vl.ap(),this.vl.Fk([.25,.5,.75,.9,.95,.99]).map(function(f){return f?parseFloat(f.toFixed(1)):0;}));};c.prototype.reset=function(){this.config.Vkc && this.config.qCa && (this.vl=new d.TDigest(this.config.qCa.c,this.config.qCa.maxc));};return c;})();b.aO=t;},78647:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v;Object.defineProperties(b,{__esModule:{value:!0}});b.C6a=void 0;b.TD=function(w){return w.ea(n.I.Ca(w.VT));};d=a(22970);t=a(90745);n=a(91176);c=a(91176);f=a(66164);g=a(8171);e=d.__importDefault(a(14282));h=a(65161);k=a(52571);l=a(98321);m=a(50247);p=a(40666);q=a(69575);r=a(29092);u=a(11758);v=a(8149);a=(function(w){function x(y,A,z,B,C,D){var E,H;H=w.call(this) || this;H.mediaType=y;H.ei=A;H.Qd=z;H.config=B;H.player=C;H.mc=D;H.ySb=!1;H.gtb=!1;H.Vea=!1;H.console=g.cx.qD(H.mediaType);H.error=H.console.error.bind(H.console);H.warn=H.console.warn.bind(H.console);H.trace=H.console.trace.bind(H.console);null === (E=z.events) || void 0 === E?void 0:E.addListener("ready",function(){H.append();});H.uEb=new l.mcb(H.config,H.mediaType,H.ei.vg,H.console);H.reset();return H;}d.__extends(x,w);Object.defineProperties(x.prototype,{endOfStream:{get:function(){return this.A6;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{QTc:{get:function(){return !!this.Qd.olc;},enumerable:!1,configurable:!0}});x.prototype.reset=function(y){var A,z,B;null === (A=this.TFb) || void 0 === A?void 0:A.La();y || (this.CI=[]);this.WIa=this.oka=this.YR=void 0;this.bK && (this.bK.Zc=!0,this.bK.iterator.Zg(),this.bK=void 0);this.xX && (this.xX.Zc=!0,this.xX.iterator.Zg(),this.xX=void 0);this.zOa=!1;this.aS=void 0;this.Vea=this.A6=!1;this.$kb(n.I.ia);null === (B=(z=this.Qd).reset) || void 0 === B?void 0:B.call(z);this.uEb.reset();};x.prototype.Dnc=function(){this.oka=!0;};x.prototype.t9=function(){this.gtb=!0;this.append();};x.prototype.gN=function(y){this.ySb=y;};x.prototype.C8b=function(y){this.CI.push(y);this.append();};x.prototype.LI=function(){this.append();};x.prototype.qEc=function(y){this.config.Fla && void 0 === this.WIa && this.wX(y,0);this.append();};x.prototype.vta=function(y){var A,z,B,C;A=this;void 0 === y && (y=!1);if(!this.A6 && (this.A6=!0,this.append(),y || !this.QTc))if(this.aS && this.mc && this.config.Zhc){y=n.I.Ca(this.config.GUc);y=this.aS.ea(y);C=(0,p.j3)(this.mc,y,!0);y=C.Ge;C=C.promise;null === (z=this.TFb) || void 0 === z?void 0:z.La();this.TFb=y;C.then(function(){var D,E;A.A6 && (null === (E=(D=A.Qd).endOfStream) || void 0 === E?void 0:E.call(D));});}else null === (B=(C=this.Qd).endOfStream) || void 0 === B?void 0:B.call(C);};x.prototype.$kb=function(y){var A;null !== (A=this.timestampOffset) && void 0 !== A && A.equal(y) || (this.timestampOffset=y,this.Qd.vNb(y.$,y.O));};x.prototype.append=function(){var y,A,z,B,C,D,E,H;C=this.config;if(!this.bK && !this.xX && this.CI.length)if(this.Qd && !1 !== this.Qd.ready){D=this.CI[0];if(D.aborted)(this.warn("aborted fragment should not appear in the toAppend list:",D.toString(),"complete:",D.complete),this.Pda("@" + f.platform.time.ha() + ", append: removing aborted fragment from toAppend: " + D.toString()),this.CI.shift());else {E=D.stream;H=E.M;if(E.eh)if((D.bn && !this.Vea && (null === (A=(y=this.Qd).tOb) || void 0 === A?void 0:A.call(y,{J:E.track.M.J,NAb:E.yk}),this.Vea=!0),this.fRc(E,D.index)))(this.oka=!1,this.wX(E,D.index));else if((y=this.player.Raa(H.J),E=this.Gvc(E),y || E || !this.zOa && !C.rya))if((y=this.eyb(D),this.mediaType === e.default.Yp.X && (D.Gi || D.ZA || (null === (z=D.na) || void 0 === z?0:z.Aq)) && D.na && !C.PT && !this.A6 && this.CI.length <= (D.Gi || D.ZA?1:2) && y > C.rca && (null === (B=D.Qy) || void 0 === B || !B.rH)))this.JOc();else {this.zOa || (this.zOa=E);this.CI.shift();try{this.A7b(D);}catch(F){throw (this.console.error(F),F);}}}}else this.Pda("@" + f.platform.time.ha() + ", append: not appending, sourceBuffer not ready");};x.prototype.JOc=function(){var y;y=this;this.mc && (this.VUa?this.VUa.no || this.VUa.cd():this.VUa=this.mc.fs(function(){return y.yyc();},"JIT Appender"));};x.prototype.yyc=function(){var y,A,z,B;return d.__generator(this,function(C){switch(C.label){case 0:if(1 !== this.CI.length)return [3,3];y=this.CI[0];if(!y.Gi && !y.ZA || (null === (B=y.Qy) || void 0 === B?0:B.rH))return [2];A=this.eyb(y);z=this.config.rca;return A > z?[4,p.ce.jz(n.I.Ca(A - z))]:[3,2];case 1:(C.T(),C.label=2);case 2:return (this.append(),[3,0]);case 3:return [2];}});};x.prototype.eyb=function(y){var A;return (null === (A=y.Tb) || void 0 === A?NaN:A.G) - this.player.Md.G;};x.prototype.fRc=function(y,A){var z;z=y.Qj;(0,k.assert)(z);return 0 === z.length?this.oka=!1:this.oka || void 0 === this.YR || y.Ra !== this.YR.Ra?!0:1 < z.length?(0,c.cnb)(z,function(B){return B.Ve <= A;}) !== this.YR.WAb:!1;};x.prototype.Gvc=function(y){if(y.mediaType === h.u.X || !y.yk)return !0;if(void 0 === this.YR)return !1;if(!y.track.rEb)return !y.yk;y=y.Qj;(0,k.assert)(y);return !1 === y[this.YR.WAb].Ox;};x.prototype.wX=function(y,A){var z,B,C,D;if(!this.ySb || this.gtb){if(y.Qj && 0 !== y.Qj.length){C=y.Qj.reduce(function(E,H,F){return H.Ve <= A?F:E;},0);D=y.Qj[C];this.YR || (null === (B=(z=this.Qd).tOb) || void 0 === B?void 0:B.call(z,{J:y.track.M.J,NAb:y.yk}),this.Vea=!0);if(!this.Qd.appendBuffer(D.data,{gf:!0,profile:y.profile,bitrate:y.bitrate,Ra:y.Ra}))throw (this.warn("appendHeader error: " + this.Qd.error),this.Pda("@" + f.platform.time.ha() + ", appendHeader error: " + this.Qd.error),Error("appendHeaderError"));this.Pda("@" + f.platform.time.ha() + ", header appended, streamId: " + y.Ra);this.YR={Ra:y.Ra,WAb:C};this.XMc(y.Ra,C);}this.append();}};x.prototype.A7b=function(y){var A,z,B,C,D,E;A=this;C=y.ova || n.I.ia;D=y.stream;E=y.K;!(0,v.zk)(D) && E.Xb && !E.Xb.equal(n.I.dh) && (C=E.Xb.add(C).Zi,Infinity === this.ei.duration || this.ei.duration < C) && (this.ei.duration=C);C=void 0 !== y.Pu?n.I.Ca(y.Pu).add(y.ova):void 0;D=null === (z=this.CI[0]) || void 0 === z?void 0:z.Tb;z={endOfStream:this.endOfStream || !(null === (B=y.Qy) || void 0 === B || !B.rH),d0:C,WWa:D};D=this.uEb.append(y,z);B=D.th;C=D.Eh;z=D.Gu;D=D.offset;null === C || void 0 === C?void 0:C.forEach(function(H){return A.emit(H.type,H);});this.$kb(D);B && (y.Gi || y.ZA) && y.th();C=m.ut.Icb;B || (this.mediaType === h.u.X || this.mediaType === h.u.U?C=this.w7b(y,z):this.mediaType === h.u.Da && (C=this.G7b(y)));switch(C){case m.ut.Wp:this.z7b(y);break;case m.ut.Dia:this.WIa=y;break;case m.ut.Mn:this.IXa(y);this.WIa=y;break;case m.ut.Icb:this.EGb(y,!0);}};x.prototype.oPb=function(){var y;return f.platform.Bl.vg.V_a.FGa || !(null === (y=this.ei.vg) || void 0 === y || !y.oPb);};x.prototype.w7b=function(y,A){return this.oPb()?this.x7b(y,A):this.y7b(y,A);};x.prototype.x7b=function(y,A){var z,B,C;z=this;B=(0,q.CDb)(A,y);if((A=(A || y.Gu).every(function(D,E){return z.Qd.appendBuffer(D,0 === E?B:void 0);})) && !y.BR){A=y.gSa();C={Ma:y,iterator:A,Zc:!1};this.bK=C;r.AsyncIterator.qra(A,function(D){C.Zc || (D.done?(z.bK=void 0,z.IXa(y)):z.Qd.appendBuffer(D.value,B));});A=m.ut.Dia;}else A=A?m.ut.Mn:m.ut.Wp;return A;};x.prototype.y7b=function(y,A){var z,B,C,D;z=this;B=(0,q.CDb)(A,y);A || (A=y.Gu);if(y.BR)C=(C=this.fqb(A,B))?m.ut.Mn:m.ut.Wp;else {C=y.gSa();D={Ma:y,iterator:C,Zc:!1};this.bK=D;r.AsyncIterator.qra(C,function(E){D.Zc || (E.done?(z.fqb(A,B),z.bK=void 0,z.IXa(y)):A.push(E.value));});C=m.ut.Dia;}return C;};x.prototype.fqb=function(y,A){y=1 < y.length?(0,q.iA)(y):y[0];return this.Qd.appendBuffer(y,A);};x.prototype.G7b=function(y){var A,z,B,C;A=this;(0,k.assert)(y instanceof u.oza);z=y.Gu;if(y.BR){(0,k.assert)(z.every(function(D){return D instanceof ArrayBuffer;}));Promise.resolve().then(function(){return A.ttb(y,z);});B=m.ut.Mn;}else {B=y.gSa();C={Ma:y,iterator:B,Zc:!1};this.xX=C;r.AsyncIterator.qra(B,function(D){C.Zc || (D.done?(A.xX=void 0,(0,k.assert)(z.every(function(E){return E instanceof ArrayBuffer;})),A.ttb(y,z)):z.push(D.value));});B=m.ut.Dia;}return B;};x.prototype.ttb=function(y,A){var z,B;A=(0,q.iA)(A);A=new Uint8Array(A);A=f.platform.xK(A);(0,k.assert)(A);B=y.Gi && (null === (z=y.Qy) || void 0 === z?void 0:z.rH);y={G$c:!0,L:y.ci,Hb:y.qa.G,Lg:y.ta.G,Jy:y.stream.Gk.G,EQb:A,endOfStream:B};z=d.__assign({type:"subtitleData"},y);this.ei.events.emit(z.type,z);"function" === typeof this.Qd.F7b && this.Qd.F7b(y);};x.prototype.IXa=function(y){var A;void 0 === this.aS || this.mediaType !== e.default.Yp.X || y.Tb.equal(this.aS) || (this.aS=void 0);this.Pda("@" + f.platform.time.ha() + ", request appended, type: " + y.mediaType + ", streamId: " + y.Ra + ", pts: " + (null === (A=y.Tb) || void 0 === A?void 0:A.G) + "-" + y.Pb.G);this.EGb(y,!1);};x.prototype.EGb=function(y,A){var z,B,C;y.Gi || y.ZA?(this.aS=A?y.Tb:y.Pb,null === (B=(z=this.Qd).olc) || void 0 === B?void 0:B.call(z,y.Qy),this.Vea=!1,(null === (C=y.Qy) || void 0 === C?0:C.rH) && this.vta()):this.aS=void 0;y.MC=!0;y.B1();this.aNc(y);this.append();};x.prototype.z7b=function(y){if(void 0 !== this.Qd.error){if("done" === this.Qd.error)return;this.error("failure to append queued mediaRequest:",null === y || void 0 === y?void 0:y.toString(),"err:",JSON.stringify(this.Qd.error));throw this.Qd.error;}y=Error("failure to append queued mediaRequest: " + (null === y || void 0 === y?void 0:y.toString()) + " err: " + this.Qd.error);this.error(y.message);throw y;};x.prototype.XMc=function(y,A){y={type:"headerAppended",mediaType:this.mediaType,streamId:y,isIndex:A};this.emit(y.type,y);};x.prototype.aNc=function(y){y={type:"requestAppended",mediaType:this.mediaType,request:y};this.emit(y.type,y);};x.prototype.Pda=function(y){y={type:"managerdebugevent",message:y};this.emit(y.type,y);};return x;})(t.EventEmitter);b.C6a=a;},58348:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.D6a=void 0;d=a(90745);n=a(66164);c=a(91176);f=a(65161);g=a(61996);e=a(52571);t=(function(){function h(k,l,m){this.sb=k;this.Bb=l;this.$2b=m;this.tx=this.px=this.Ur=0;this.nx=[];this.HJa=new Map();this.re=new g.Am({xg:4,rj:this,source:"BufferSizeLimiter"});}Object.defineProperties(h.prototype,{ma:{get:function(){return {total:this.Ur,audio:this.px,video:this.tx};},enumerable:!1,configurable:!0}});h.prototype.zx=function(k){var l,m,p,q;l=this;if(!k.gf){m={requestId:k.iSa(),mediaType:k.mediaType,ma:k.ma,sN:n.platform.time.ha(),R:k.stream.M.R};this.nx.push(m);p=k.ma;if(0 >= p){q=new d.kf();q.on(k.events,"updatedBytes",function(r){l.Slb(k.mediaType,r.AFb - r.iYa);m.ma=r.AFb;q.clear();l.HJa.delete(k);});this.HJa.set(k,q);}else this.Slb(k.mediaType,p);}};h.prototype.My=function(k){var l,m;if(!k.gf){l=k.iSa();m=(0,c.Mm)(this.nx,function(p){return p.requestId === l;});-1 !== m && (this.nx.splice(m,1),m=k.ma,0 < m && (this.Ur-=m,k.mediaType === f.u.X?this.px-=m:this.tx-=m,(0,e.assert)(this.Ur === this.px + this.tx),(0,e.assert)(0 <= this.Ur),(0,e.assert)(0 <= this.px),(0,e.assert)(0 <= this.tx)),this.HJa.delete(k));}};h.prototype.Ema=function(k,l){var m;(0,e.assert)(this.Ur === this.px + this.tx);m=this.$2b();if(void 0 !== m.total && this.Ur + l > m.total)return (this.cQb(),!1);m=k === f.u.X?m.audio:m.video;k=k === f.u.X?this.px:this.tx;return void 0 !== m && k + l > m?(this.cQb(),!1):!0;};h.prototype.Slb=function(k,l){this.Ur+=l;k === f.u.X?this.px+=l:this.tx+=l;(0,e.assert)(this.Ur === this.px + this.tx);(0,e.assert)(0 < this.Ur);(0,e.assert)(0 <= this.px);(0,e.assert)(0 <= this.tx);};h.prototype.cQb=function(){var k;if(this.Bb.mkc){k=n.platform.time.ha();this.re.C7("traceActiveRequests",{Im:this.nx.map(function(l){return {requestId:l.requestId,ma:l.ma,R:l.R,ned:k - l.sN};})});}};h.prototype.$la=function(){var k,l,m;k=0;l=0;m=0;this.nx.forEach(function(p){k+=p.ma;p.mediaType === f.u.X?l+=p.ma:m+=p.ma;});(0,e.assert)(k === l + m);(0,e.assert)(0 < k);(0,e.assert)(0 <= l);(0,e.assert)(0 <= m);(0,e.assert)(k === this.Ur);(0,e.assert)(l === this.px);(0,e.assert)(m === this.tx);};return h;})();b.D6a=t;},35779:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.pwb=b.TQa=b.m_a=b.ZLa=b.VV=void 0;d=a(22970);n=a(66164);c=a(52571);f=a(69575);t=(function(){function e(h,k,l){void 0 === l && (l={});this.config=h;this.rPa=k;this.de=[];this.PX=new f.Vg();this.uma=new f.Vg();this.options=d.__assign({xg:10},l);}Object.defineProperties(e.prototype,{isEnabled:{get:function(){return this.config.ikc;},enumerable:!1,configurable:!0}});e.prototype.Hpa=function(h,k){var l;if(!this.isEnabled)return k();l=this.cpa(h);if(l)return l.value;k=k();this.ru(h,k);return k;};e.prototype.findIndex=function(h){var k,l,m,p;k=Infinity;l=Infinity;if(this.options.wx || this.options.Jw){m=n.platform.time.ha();this.options.Jw && (k=m - this.options.Jw);this.options.wx && (l=m - this.options.wx);}for(m=0;m < this.de.length;m++){p=this.de[m];if(this.options.Jw && p.pba < k){this.de.splice(m,this.de.length - m);break;}if(this.options.wx && p.Tm < l)(this.de.splice(m,1),m--);else if(this.rPa(p.key,h))return m;}return -1;};e.prototype.cpa=function(h){var k;h=this.findIndex(h);if(-1 !== h){k=this.de[h];this.de.splice(h,1);this.de.unshift(k);this.options.Jw && (k.pba=n.platform.time.ha());this.uma.push(h);this.PX.push(1);return k;}this.PX.push(0);};e.prototype.ru=function(h,k){this.de.unshift({key:h,value:k});if(this.options.Jw || this.options.wx)(h=n.platform.time.ha(),this.options.Jw && (this.de[0].pba=h),this.options.wx && (this.de[0].Tm=h));this.uMa();};e.prototype.uMa=function(){this.de.length > this.options.xg && this.de.pop();};e.prototype.clear=function(){this.de=[];};return e;})();b.VV=t;g=new WeakMap();b.ZLa=function(e){void 0 === e && (e="default");return function(h,k,l){var m;m=l.value;l.value=function(p){var q,r,u;q=this;u=null === (r=g.get(this)) || void 0 === r?void 0:r[e];(0,c.assert)(u,"lruCache not defined");return u.Hpa(p,function(){return m.call(q,p);});};};};b.m_a=function(e,h,k){g.has(e) || g.set(e,{});g.get(e)[h]=k;};b.TQa=function(e){var h;if(!g.has(e))return [];h=g.get(e);return Object.keys(h).map(function(k){return h[k];});};b.pwb=function(e){return g.has(e)?g.get(e):{};};},68539:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Va=void 0;t=a(36948);b.Va={uy:560,gB:Infinity,ty:0,yu:65535,zS:-Infinity,Tba:Infinity,Pp:["ddplus-5.1-dash","ddplus-5.1hq-dash","ddplus-atmos-dash"],yI:[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{minInitAudioBitrate:0,maxInitAudioBitrate:65535}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:0,maxInitAudioBitrate:65535}}],yS:235,vy:3E4,Ap:7800,lca:999999,Cda:1,bga:!0,OD:45E3,Zba:Infinity,Gs:2600,Isa:0,Msa:0,oL:null,BU:15,b8:10,c8:!1,d8:[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}],G8:20,nfa:!1,I8:0,H8:[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}],rS:0,Sea:!1,sga:8E3,raa:9E4,Fba:51E4,taa:3E5,Hba:3E5,saa:6E5,Gba:0,qaa:.5,eB:15E3,jS:15E3,Jba:25E3,fB:2E4,Lba:!1,tS:1,GH:1E4,P7:262144,hga:1048576,tZ:3,S9:1,FH:24E4,dEb:24E4,Pwa:!0,J8:!1,F8:1,tsa:20,Uba:12E4,Bba:6E4,ZH:!1,fva:8E3,KP:!0,eva:100,W_:300,msa:2,naa:4096,lZ:!1,i0:1E4,Rq:!1,usa:3,K1a:0,S7:32768,mga:65536,rqa:32768,eob:2E3,Av:0,$z:3E5,j1:24E4,xua:2,csa:200,rla:2E3,sla:8E3,x1:6E4,GQ:!0,JK:!1,fW:{lv:5,mx:240},eoa:!1,una:4,tna:8E3,bta:2E3,ata:12E4,$ba:3,vfa:2E3,dsa:400,soa:!1,PT:!0,fPa:!1,uFb:36E3,QEb:8E3,Eub:10368E3,Mnb:5184E3,Aub:86400,iub:!1,xqa:!1,Psa:500,Osa:131072,hva:2E3,gva:262144,xzb:2E3,inb:"optimized",vba:"livesimple",iba:!1,ztb:("throughput-ewma throughput-sw throughput-sw-fast throughput-iqr throughput-tdigest avtp entropy").split(" "),Mub:{},esb:"throughput-ewma",eMb:"none",hOa:{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-sw-fast":{type:"slidingwindow",mw:500},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}},l8:"default",lna:!1,nna:0,mwa:"none",lsa:"simple",Hma:"throughput-ci",Qwa:"default",jub:["throughput-wssl"],fta:"video_location",qWa:Infinity,JWa:5,bda:3E5,nea:18E4,Xsa:!0,ima:!0,qsa:Infinity,jB:4E3,QD:4E3,ila:!1,gTa:0,fTa:0,hTa:{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3},sca:3E3,$Eb:500,Yba:30,pca:3E5,rya:!1,Poa:!1,Dvb:!0,Xwa:!1,Kva:!1,U_:3,Mra:!0,Fla:!0,nca:2E3,CQ:!0,hD:!0,EQ:!0,oA:!1,$Y:!0,Q1:!1,Q9:[],XY:!1,g$:[],f$:0,MI:!1,Ved:!1,cK:!1,c9:{ticks:-3268,timescale:48E3},tda:{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}},AMP_AUDIO_PROFILE_DEFAULT:{194:{ticks:-3268,timescale:48E3}},FMP4_AAC:{194:{ticks:-3268,timescale:48E3}}},Th:!1,hca:!1,aea:!1,bea:!1,aN:"fallback",gX:!1,pw:1,xS:1,MH:1,V_:4,qca:3E3,dfa:.3,VP:7800,eZ:!1,N1:[],$ca:100,aga:!0,ZS:{enabled:!1,earlyManifestProcessing:!1},iua:1E3,US:"flexible",jua:"padding",s2a:!1,Cua:2E3,Dua:6E3,HQ:!1,Uda:1E4,jxa:.75,Pra:0,doa:!1,wba:!0,Fra:4,Nra:"strict",Sra:!0,uba:750,L_:6,Tra:Infinity,aoa:!1,Zsa:1E3,Yra:!0,FQ:!0,lU:!1,GVa:!1,Vra:!0,Wra:!0,FY:1E3,sna:1E3,ZY:!0,M_:3E4,Xra:1E3,CVa:!1,foa:!0,hS:!1,Ora:.05,tba:-500,B2:!0,F2:0,G7:!1,cZ:!0,xH:1E4,cS:5E3,pfa:"",D9:!0,DQ:!0,GK:!0,nl:1E4,eS:0,JCb:!0,KEb:0,VEb:0,WEb:0,pda:!0,j0:6E4,Vba:96E4,hPa:t.eg.hPa[1],tfa:t.eg.tfa[1],Wua:t.eg.Wua[1],aZ:t.eg.aZ[1],Q_:t.eg.Q_[1],R_:t.eg.R_[1],XL:t.eg.XL[1],F9:!1,l0:t.eg.l0[1],C2:t.eg.C2[1],IG:!1,A9:!0,YY:!1,WY:!1};},36948:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hNa={lca:["minCheckBufferingCompleteInterval",200],Dtb:["enableMoreFrequentBufferingCompleteCheck",!1],c9:["defaultAacTimestampOffset",{ticks:-3268,timescale:48E3}],tda:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}],US:["paddingCodecSelector","strict"],En:["stallAtFrameCount",void 0],nea:["saveBitrateMs",0],aea:["requireDownloadDataAtBuffering",!1],Xzb:["indicatorForDownloadDataAtBuffering","oncomplete"],bea:["requireSetupConnectionDuringBuffering",!1],YL:["maxRequestSize",0],Etb:["enableNginxRateLimit",!1],Fca:["nginxSendingRate",4E4],z9:["enableCprAudio",!1],IG:["enableCprVideo",!0],ytb:["enableCprLive",!1],qkc:["enableCprDai",!1],rkc:["enableCprSvodAd",!1],C9:["enableHybridPacing",!1],Cma:["catchUpMode",!1],TBc:["maxSegHint",4],Ova:["requestLevelLogging",!1],bPa:["enableConcurrentStreamingHandling",!1],Skc:["enablePacingOnSwitchableAudio",!1],Rq:["pipelineEnabled",!0],Ftb:["enableSCByteRangeHints",!1],oI:["segmentFadeDuration",400],OD:["maxPrebufSize",5E4],Ap:["minPrebufSize",5756],rca:["minimumJustInTimeBufferLevel",3E3],W7c:["enableMissingSegmentsDetection",!0],FQ:["enableMissingSegmentsReplacement",!0],Okc:["enableNextSegmentSizeFromOC",!0],Yra:["liveSwitchStreamsOnErrorInPipeline",!0],Izc:["liveEdgeRetryWindowMs",6E3],lU:["simulateLiveEdge",!1],LRc:["simulateLiveEdgeDistance",0],Msa:["minVideoMediaRequestSizeBytes",0],Isa:["minAudioMediaRequestSizeBytes",0],$Bc:["maxVideoMediaRequestSizeBytes",Infinity],DBc:["maxAudioMediaRequestSizeBytes",Infinity],QD:["minVideoMediaRequestDuration",0],jB:["minAudioMediaRequestDuration",0],Lsa:["minMediaRequestDuration",0],ssa:["maxMediaRequestDuration",Infinity],ZBc:["maxVideoMediaRequestDuration",Infinity],CBc:["maxAudioMediaRequestDuration",Infinity],TKa:["allowFirstRequestAggregation",!1],fOc:["reuseOnErrorCacheTimeout",6E4],OBc:["maxMediaRequestSizeBytesInFraction",1],aga:["useExitZones",!0],UCb:["liveEndSlateMaxDuration",6E4],kxa:["ase_stream_selector","optimized"],U8b:["audiostreamSelectorAlgorithm","selectaudioadaptive"],vba:["liveStreamSelectorAlgorithm","livesimple"],iba:["jointStreamSelectorEnabled",!1],fOb:["smartHeaderPreDownloading",!1],i0:["minBufferLenForHeaderDownloading",1E4],F8:["connectTimeMultiplier",1],fB:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Lba:["lowestWaterMarkLevelBufferRelaxed",!1],vy:["minRequiredBuffer",2E4],GH:["maxTrailingBufferLen",15E3],FH:["maxMediaBufferAllowed",27E4],Qwa:["simulationDurationStrategy","default"],MRc:["simulationFullBufferPercentage",1],TEb:["minSimulationDuration",2E4],wsa:["maxSimulationDuration",3E5],raa:["highStreamRetentionWindow",9E4],Fba:["lowStreamTransitionWindow",51E4],taa:["highStreamRetentionWindowUp",5E5],Hba:["lowStreamTransitionWindowUp",1E5],saa:["highStreamRetentionWindowDown",6E5],Gba:["lowStreamTransitionWindowDown",0],qaa:["highStreamInfeasibleBitrateFactor",.5],S9:["fastDownswitchFactor",3],tZ:["fastUpswitchFactor",3],umc:["fastUpswitchFactorWithoutHeaders",3],tmc:["fastUpswitchFactorForNextSegment",1],J8:["considerConnectTime",!0],eB:["lowestBufForUpswitch",9E3],jS:["lockPeriodAfterDownswitch",15E3],Jba:["lowWatermarkLevel",15E3],Sea:["skipBitrateInUpswitch",!1],sga:["watermarkLevelForSkipStart",8E3],gTc:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],vtb:["enableAllHeadersPreDownloading",!1],Xkc:["enableStreamSelectionAugmentData",!1],Z8b:["augmentDataNumOfChunks",30],nbd:["minFragmentVmaf",void 0],wba:["liveStreamSelectorUseLatency",!0],Fra:["latencyMultiplierForLive",4],Yyc:["latencyAverageMultiplierForLive",1],FPb:["throughputDiscountForLive",.8],EPb:["throughputDiscountExponentBC",1.5],Nra:["liveBufferRatioStrategy","strict"],BUc:["throughputThresholdSelectorParam",0],GJa:["reportedFilters",[]],l8:["bufferingSelectorAlgorithm","default"],IRb:["upswitchDuringBufferingFactor",2],Fmb:["allowUpswitchDuringBuffering",!1],Tra:["liveMaxUpswitchSteps",Infinity],NFb:["noRepeatedFirstSelectionLogic",!1],Lhc:["defaultThroughput",1537],uy:["minInitVideoBitrate",-Infinity],gB:["maxInitVideoBitrate",Infinity],ty:["minInitAudioBitrate",-Infinity],yu:["maxInitAudioBitrate",Infinity],yS:["minAcceptableVideoBitrate",-Infinity],xS:["minAcceptableVMAF",0],JCc:["minAcceptableVMAFRebufferScalingFactor",0],zS:["minAllowedVideoBitrate",-Infinity],Tba:["maxAllowedVideoBitrate",Infinity],tWa:["maxSegmentBitrate",Infinity],MH:["minAllowedVmaf",-Infinity],VDb:["maxAllowedVmaf",Infinity],k0:["minRequiredAudioBuffer",0],oL:["initialBitrateSelectionCurve",null],BU:["throughputPercentForAudio",15],b8:["bandwidthMargin",0],d8:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],Nnb:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,rG:76376,scale:18862.4,gamma:3.0569}],c8:["bandwidthMarginContinuous",!1],Onb:["bandwidthMarginForAudio",!0],nfa:["switchConfigBasedOnInSessionTput",!0],G8:["conservBandwidthMargin",20],I8:["conservBandwidthMarginTputThreshold",6E3],H8:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],cA:["bandwidthManifold",{curves:[{min:.05,max:.82,rG:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,rG:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],mEb:["maxStartingVideoVMAF",110],pw:["minStartingVideoVMAF",1],gX:["activateSelectStartingVMAF",!1],twa:["selectStartingVMAFTDigest",-1],aN:["selectStartingVMAFMethod","fallback"],wMb:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],Cda:["rebufferingFactor",1],x1:["rebufferCheckDuration",6E4],bga:["useMaxPrebufSize",!0],dsa:["lowThroughputThreshold",400],soa:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],Tkc:["enablePenaltyForLongConnectTime",!1],xua:["penaltyFactorForLongConnectTime",2],csa:["longConnectTimeThreshold",200],rla:["additionalBufferingLongConnectTime",2E3],sla:["additionalBufferingPerFailure",8E3],Gs:["maxBufferingTime",2E3],M3a:["upperThroughputPredictionFactor",1.6],tS:["mediaRate",1.5],FUc:["timeAtEachBitrateRoundRobin",1E4],mOc:["roundRobinDirection","forward"],lsa:["marginPredictor","simple"],blc:["enableVmafEstimationFromBitrate",!1],XBc:["maxVMAFMappingBitrate",16E3],YBc:["maxVMAFMappingVMAF",110],oLa:["audioBwFactor",1],W8b:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],X8b:["audioSwitchConfigLive",{upSwitchFactor:2.5,downSwitchFactor:1.3,lowestBufForUpswitch:6E3,lockPeriodAfterDownswitch:3E4}],yI:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Wla:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],Mra:["limitAudioDiscountByMaxAudioBitrate",!1],hS:["liveSlowBufferFilling",!1],gAc:["liveSlowBufferFillingMinBitrate",1200],bAc:["liveResyncClockOn404Error",!0],aoa:["enableConditionalServerTimeUpdate",!0],Zsa:["negligibleServerTimeDeltaDifference",1E3],fta:["networkMeasurementGranularity","video_location"],IBc:["maxFragsForFittableOnBranching",300],Th:["applyProfileStreamingOffset",!0],VLb:["sanitizeMediaVideoFrameDuration",!0],clc:["enableWsslEstimate",!1],RBc:["maxRequestsToAttachOnBranchActivation",void 0],fPa:["enableManagerDebugTraces",!1],Pwa:["simulatePartialBlocks",!0],VCb:["liveInitialFetchSizeBytes",1024],jAc:["liveTextInitialFetchSizeBytes",40],Lzc:["liveEditInitialFetchSizeBytes",4096],ZS:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],PCb:["liveAdjustAudioTimestamps",!1],mna:["debugFragmentTimes",!1],foa:["enableTwoPartLiveFragmentEditing",!0],mHc:["parseAdditionalBoxesMp4Header",!0],ibd:["minAudioMediaRequestDurationCache",0],qbd:["minVideoMediaRequestDurationCache",0],cPa:["enableForcedJsRequests",!1],bDc:["missedRequestFailureTimeout",5E3],TDb:["markRequestActiveOnFirstByte",!1],c3:["useNativeDataViewMethods",!0],gta:["networkRequestRetryDelay",500],HDc:["networkRequestRetryMinJitter",100],GDc:["networkRequestRetryMaxJitter",2E3],f3a:["translateToVp9Draft",!1],w_a:["reorderTrakMvex",!1],rAb:["insertSilentFrames",0],E8c:["forceDiscontinuityAtTransition",!0],Ydd:["supportAudioResetOnDiscontinuity",void 0],Xdd:["supportAudioEasingOnDiscontinuity",void 0],Tad:["maxWsslRequestSize",131072],Sad:["maxWsslRequestRatio",.2],Ora:["liveEarlyRequestProbability",.05],tba:["liveEarlyRequestDefaultOffsetMs",-500],B2:["supportLiveIdrMismatch",!1],F2:["synthesizeLiveIdrMismatch",0],skc:["enableCsprNonPipelined",!1],pkc:["enableCprAudioNonPipelined",!1],A9:["enableCprVideoNonPipelined",!1],Rkc:["enablePaceReportLogging",!1],bHc:["paceRateSelectorAlgorithm","regression"],cHc:["paceRateSelectorAlgorithmAudio","default"],dHc:["paceRateSelectorAlgorithmNonPipelined","default"],FOb:["staticPacingRateKbps",0],Oma:["clientPacingParams",{minRequiredBuffer:0,rateDiscountFactors:[1,1,1],lowestAllowedRateFactor:1,lowestAllowedFragmentBitrateFactors:[0,0,0]}],QVc:["unpacedFragmentInterval",0],vMc:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{offset:0}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:0}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{maxAverageBitrate:6.4}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2.8}}]],kUc:["targetBufferLevelStddevMultiplier",1],jUc:["targetBufferLevelDurationMs",0],fHc:["pacingTargetBufferStrategy","capacityPercentage"],UCc:["minTargetBufferLevelMs",27E4],Xsa:["needMinimumNetworkConfidence",!0],ima:["biasTowardHistoricalThroughput",!1],Hzc:["liveDvrSwitchThresholdms",1E4],ZH:["probeServerWhenError",!1],pda:["probeBeforeSwitchingBackToPrimary",!0],j0:["minIntervalForSwitchingBackToPrimary",6E4],Vba:["maxIntervalForSwitchingBackToPrimary",96E4],YY:["enableInitialThroughputHistory",!0],CAc:["locationSelectorPersistFailures",!0],Bba:["locationStatisticsUpdateInterval",6E4],ivc:["httpsConnectErrorAsPerm",!1],vfa:["throttledNetworkFailureThresholdMs",2E3],$ba:["maxThrottledNetworkFailures",5],bta:["networkFailureResetWaitMs",2E3],Uba:["maxBufferingTimeAllowedWithNetworkError",6E4],VMc:["replicateErrorDirectorInitialBuffering",!0],ata:["networkFailureAbandonMs",6E4],KP:["allowSwitchback",!0],W_:["maxDelayToReportFailure",300],fva:["probeRequestTimeoutMilliseconds",3E4],zcd:["probeRequestConnectTimeoutMilliseconds",8E3],eva:["probeDetailDenominator",100],nca:["minProbeIntervalMs",2E3],qca:["minStreamableConcurrencyWindow",3E3],VBc:["maxStreamableConcurrencyWindow",Infinity],dfa:["streamableConcurrencyFactor",.3],VP:["bufferingConcurrencyWindow",7800],eKb:["rebufferRiskHalfLife",1E4],XY:["enableDiscontiguousBuffering",!1],V_:["maxAllowedOutstandingRequests",4],Xra:["liveRequestSpreadMs",1E3],CVa:["liveConsiderSpreadInCushion",!1],Pra:["liveEdgeCushion",0],DVa:["liveEdgeCushionWithSpreadMs",0],doa:["enableLive504Handling",!1],Pp:["switchableAudioProfiles",[]],Zba:["maxRebufSize",Infinity],j1:["prebufferTimeLimit",6E4],P7:["audioBufferTargetAvailableSize",262144],hga:["videoBufferTargetAvailableSize",1048576],Myb:["graphSelectorSetAudioRate",!1],uyc:["jointStreamCreationAlgorithm","optimized"],XEb:["minimumBufferingCompleteInterval",1E4],c$b:["bufferingCompleteOnMemoryLimit",!1],qsa:["maxFastPlayBufferInMs",2E4],WDb:["maxBufferingCompleteBufferInMs",Infinity],OIc:["playgraphDefaultWeight",65520],MWa:["minimumDownstreamBranchProbability",.075],CQ:["enableCombinedPlaygraphs",!0],hD:["enableAdPlaygraphs",!0],EQ:["enableLiveAdPlaygraphs",!0],oA:["enableLiveProgramPlaygraphs",!1],$Y:["enableLiveProgramPlaygraphsForLinear",!0],KLa:["branchCreationThreshold",12E4],O9b:["branchDistanceThreshold",6E4],Ehc:["defaultBranchOffsetEnabled",!0],Fhc:["defaultBranchOffsetMs",1E4],ZCc:["minimumContentStartTimestampForBranchOffsetMs",864E5],YXc:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],rS:["maxTotalBufferLevelPerSession",0],l7b:["allowParallelStreaming",!0],una:["defaultHeaderCacheSize",4],tna:["defaultHeaderCacheDataPrefetchMs",0],zyc:["keepWishListOnExpiration",!0],Wcd:["reuseOnErrorCacheSize",1],HDb:["manifestCacheDormantCacheEnabled",!0],bBc:["manifestCacheReuseOnErrorEnabled",!0],Vra:["livePrefetchEnabled",!1],Wra:["livePrefetchEnabledForStickySteering",!0],oJc:["prefetchWeightBudget",32],pJc:["prefetchWhilePlaying",!0],wJc:["prefetcherSoftReset",!0],kJc:["prefetchBudgetInBytes",0],Cua:["pipelineHealthThresholdCriticalMs",2E3],Dua:["pipelineHealthThresholdLowMs",6E3],HQ:["enableRequestAbandonment",!1],Uda:["requestAbandonmentLockIntervalMs",1E4],jxa:["streamModeAppendAttachThreshold",.75],ZQc:["shareDownloadTracks",!0],$Qc:["shareOpenRangeTracks",!1],aXc:["usePipelineForAudio",!1],$Wc:["usePipelineDetectionForAudio",!1],bXc:["usePipelineForBranchedAudio",!0],cXc:["usePipelineForText",!0],usa:["maxParallelConnections",3],U_:["maxActiveRequestsPerSession",void 0],oca:["minRequestSize",65536],K1a:["socketReceiveBufferSize",0],S7:["audioSocketReceiveBufferSize",32768],mga:["videoSocketReceiveBufferSize",65536],xUc:["textSocketReceiveBufferSize",32768],RRb:["usePipelineDetectionForVideo",!1],VCc:["minVideoSocketReceiveBufferSize",65536],rqa:["headersSocketReceiveBufferSize",32768],Hic:["disableHeaderDownloadTracks",!1],u2:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],Izb:["ignoreUserFilterOnEmptyResult",!0],eZ:["enableResolutionVMAFStreamFilter",!1],$ca:["percentCapTitlesForResolutionVMAFStreamFilter",100],N1:["resolutionVMAFCappingRuleList",[]],ZWc:["useLiveBitrateDynamicCap",!0],W7b:["aseDiagnostics",[{dc:"queue-audit",enabled:!0},{dc:"task-audit",enabled:!0},{dc:"trace-ShimSession",enabled:!0},{dc:"trace-engine",enabled:!0},{dc:"trace-RequestPacer",enabled:!0},{dc:"trace-BufferStateTracker",enabled:!0},{dc:"trace-GraphStreamingProcess",enabled:!0},{dc:"trace-AsePlaygraph",enabled:!0},{dc:"playgraph-branch-audit",enabled:!0},{dc:"content-playgraph",enabled:!0},{dc:"trace-CphAsePlaygraph",enabled:!0},{dc:"trace-GraphLocation",enabled:!0},{dc:"cache-ads::gls",enabled:!0},{dc:"cache-content::gls",enabled:!0},{dc:"trace-LiveOCSideChannel",enabled:!0},{dc:"trace-media-events-provider",enabled:!0},{dc:"trace-Prefetcher",enabled:!0},{dc:"trace-AdBreakHydrator",enabled:!0}]],kkc:["enableAseReporting",!0],sCc:["memDeadlockShouldCheckMemory",!0],rCc:["memDeadlockOverageThreshold",.9],qCc:["memDeadlockMaxUtilizationPercentage",.5],ikc:["enableAdLruCaches",!1],jua:["paddingMediaType","padding"],iua:["paddingDurationMs",1E3],NBc:["maxLiveDAIReplacedMismatchDurationMs",2100],dZ:["enablePrerollForInitialSeek",!1],xMc:["rehydrateSkippableAdBreaks",!0],svc:["hydrateWaitTimeBetweenAdBreaksMs",5E3],gEb:["maxPlayerDistancePriorToAdBreakHydrationMs",6E4],Q9:["excludedContentPlaygraphIds",[]],gnb:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}],W1:["seamlessAudio",!1],Fla:["appendFirstHeaderOnComplete",!0],rya:["waitForDrmToAppendMedia",!1],V7c:["enableJustInTimeAppends",!1],GUc:["timeBeforeEndOfStreamBufferMark",6E3],Zhc:["delayNotificationOfEoS",!1],Jsa:["minAudioPtsGap",void 0],YCc:["minimumAudioFramesPerFragment",1],PT:["requireAudioStreamToEncompassVideo",!1],hca:["mediaSourceSupportsNegativePts",!1],uVc:["truncateEndOfStreamAudio",!1],ZTa:["insertSilentFramesOnSeek",!1],sAb:["insertSilentFramesOnSeekForTitles",[]],r0a:["seamlessAudioMaximumSyncError",void 0],s0a:["seamlessAudioMinimumSyncError",void 0],tnb:["audioProfilesNonSyncSamples",["xheaac-dash"]],cK:["applyProfileTimestampOffset",!1],O3a:["useDpiAssumedAacEncoderDelay",!0],owc:["insertSilentFramesOnSeekCount",3],pwa:["segmentFadeInDuration",-1],qwa:["segmentFadeOutDuration",-1],Y_:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],Q1:["retainSbrOnFade",!1],qAb:["insertSilentFrameOnFade",!0],Poa:["forceAppendHeadersAfterDrm",!1],Tmb:["appendPacingFactor",0],D7b:["appendPacingThreshold",3E3],Jkc:["enableLiveRequestLogger",!1],Tac:["cdndldistEnabled",!1],KIc:["playerPtsPadding",1],REb:["minNumSessionHistory",5],Rnb:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],Sra:["liveLowQualityAvoidance",!0],uba:["liveLowQualityThreshold",750],L_:["liveLowQualityMultiplier",6],$Cb:["liveReportSendIntervalMs",6E4],FVa:["liveReportCollectIntervalMs",5E3],MRb:["useConfigManager",!0],Qtc:["globalConfigMutationAllowList",{FQ:"enableMissingSegmentsReplacement",nl:"minimumPresentationDelayMs",Ap:"minPrebufSize",HQ:"enableRequestAbandonment",cZ:"enableMediaEventsTrack",xH:"liveAdManifestWindowMs",cS:"liveAdManifestWindowAllowanceMs",G7:"alwaysRetainAds",EQ:"enableLiveAdPlaygraphs"}],xqa:["ignoreShortResponses",!0],INb:["shortResponseDurationMs",10],HNb:["shortResponseBytes",1E4],R2b:["expandDownloadTime",!0],ZEb:["minimumResponseDurationMs",10],Psa:["minimumMeasurementTime",500],Osa:["minimumMeasurementBytes",131072],hva:["probingMeasurementTime",2E3],gva:["probingMeasurementBytes",262144],TSc:["stopNetworkConfidence",!0],F3b:["historicBandwidthUpdateInterval",2E3],cxa:["stopOnAllInactiveRequests",!1],WY:["enableActiveRequestsInFilters",!0],gLb:["resetActiveRequestsAtSessionInit",!0],Gtb:["enableThroughputTraceResearchData",!1],HPb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],YSb:["wsslAggregationMethod","max"],mwa:["secondThroughputEstimator","slidingwindow"],Bjb:["defaultFilter","throughput-ewma"],F2b:["defaultFilterField","average"],Vkb:["secondaryFilter","throughput-sw"],Xwa:["startMonitorOnLoadStart",!1],K2b:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-sw-fast throughput-iqr avtp entropy deliverytime").split(" ")],S2b:["experimentalFilter",["initial-throughput-ewma"]],DIa:["filterDefinitionOverrides",{"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:1E4,playerStates:[0,1]},"throughput-ewma":{mw:4060.623425},"throughput-ewma2":{type:"discontiguous-ewma",mw:97831.788213}}],Cjb:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:4060.623425},"throughput-ewma2":{type:"discontiguous-ewma",mw:97831.788213},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:1E4,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-sw-fast":{type:"slidingwindow",mw:500},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20,min_iv:500,min_b:16384}}],V2b:["fastHistoricBandwidthExpirationTime",10368E3],k3b:["bandwidthExpirationTime",5184E3],U2b:["failureExpirationTime",86400],tkb:["minReportedNetIntrDuration",4E3],FDc:["netIntrStoreWindow",36E3],Cbd:["minNetIntrDuration",8E3],pca:["minSessionHistoryDuration",3E5],Yba:["maxNumSessionHistoryStored",10],Cvc:["ignorePacedRequestStrategy","none"],Tca:["pacedThresholdPct",.1],SOa:["effectivePaceRateFactor",1],V1a:["stddevPredictorMultiplier",-.3],W1a:["stddevPredictorUpperMultiplier",2],OSc:["stddevPredictorSource","deliverytime"],Hma:["ciPredictorSource","throughput-ci"],ila:["addHeaderDataToNetworkMonitor",!0],Kva:["reportFailedRequestsToNetworkMonitor",!1],nna:["ase_location_history",0],bda:["periodicHistoryPersistMs",0],naa:["headerRequestSize",4096],lZ:["estimateHeaderSize",!0],dXc:["useSidxInfoFromManifestForHeaderRequestSize",!1],Fub:["fastPlayHeaderRequestSize",0],LWa:["minTimeBetweenHeaderRequests",void 0],GQ:["enableOCSideChannel",!0],FY:["decryptOCSideChannelMinInterval",1E3],sna:["decryptOCSideChannelMinIntervalAfterCompleted",1E3],ZY:["enableLiveOCSideChannelRefresh",!0],M_:["liveOCSideChannelRefreshInterval",3E4],fW:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],JK:["enableUnifiedSideChannel",!1],g$:["forceImmediateTransitionTypeForTitles",[]],f$:["forceImmediateTransitionExitZone",0],msa:["maxActiveRequestsSABCell100",2],M6c:["contentOverrides",void 0],N6c:["contentProfileOverrides",void 0],tsa:["maxNetworkErrorsDuringBuffering",20],HBc:["maxFastPlayContentTimeThresholdMs",112E3],sca:["minimumTimeBeforeBranchDecision",2E3],XCc:["minimumAppendedMediaBeforePlayback",5E3],KBb:["jitBranchAppendingDistance",1E4],Rcd:["researchEnvironmentEnabled",!1],lna:["ase_dump_fragments",!1],mOb:["stallAtFrameCountAudio",void 0],qWa:["maxIQRSamples",100],JWa:["minIQRSamples",5],jdd:["seamlessAudioProfiles",[]],kdd:["seamlessAudioProfilesAndTitles",{}],Ajc:["editCompleteFragments",!0],R8b:["audioOverlapGuardSampleCount",2],Vkc:["enableRecordJSBridgePerf",!1],qCa:["JSBridgeTDigestConfig",{maxc:25,c:.5}],gTa:["hindsightDenominator",0],fTa:["hindsightDebugDenominator",0],Q9c:["hindsightAlgorithmsEnabled",[]],hTa:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],Av:["aseReportDenominator",0],$z:["aseReportIntervalMs",3E5],dK:["aseReportMaxStreamSelections",400],kNa:["contiguousBufferMultiplier",3],pqb:["contiguousBufferMinimumAudio",1048576],rqb:["contiguousBufferMinimumVideo",8388608],qqb:["contiguousBufferMinimumText",0],MI:["useBufferSizeLimiter",!1],eXc:["useStaticBufferSizeLimiter",!1],s2a:["supportsPtsChanged",!0],IN:["usePrioritySetTimeout",!1],Nob:["centralizeClockSchedulers",!0],Knb:["backOffSetTimeout",!0],Hdd:["skipIntroPlaygraphEnabled",!1],D9:["enableMediaEventHistory",!0],mkc:["enableBufferSizeLimiterTracer",!1],GVa:["liveShouldAccountForPlayDelay",!1],Xed:["useManifestServerExpiration",!1],G7:["alwaysRetainAds",!1],cZ:["enableMediaEventsTrack",!1],xH:["liveAdManifestWindowMs",1E4],cS:["liveAdManifestWindowAllowanceMs",5E3],Fzc:["liveAdEarlyTerminationCushionMs",1E3],Gzc:["liveAdManifestWindowOnset",0],Hkc:["enableLiveManifestThrottling",!0],CLb:["reuseTcpConnectionsWhenStickySteered",!1],eAc:["liveShareTcpConnections",[[]]],kAc:["liveUseMediaTcpForHeaders",!1],pfa:["syntheticAdBreakUx",""],tHb:["padOcaSideChannelRequests",!0],Rzc:["liveHydrationMinDistanceFromLiveEdge",3E4],Aac:["canPerformHydrationsCloseToLiveEdge",!1],ead:["liveHydrationMinDistanceFromPlayback",12E4],Pzc:["liveHydrationDefaultJitterWindow",3E4],Qzc:["liveHydrationDistanceThatNeedJitter",12E4],n6c:["canPerformSoftHydrations",!0],aHc:["paceHydrationPolicyByLiveEdge",!0],GK:["enableBlackBoxNotification",!0],XCb:["liveMediaEventsMinBufferMs",4E3],Rad:["maxWaitTimeForMediaEventsWhileBufferingMS",5E3],Uzc:["liveMediaEventsCatchupMs",3E4],xjc:["earlyFetchMediaEvents",!0],WCb:["liveMaximumEventsCatchupMs",12E4],jkc:["enableAdPlaygraphsForBranching",!0],q7b:["alwaysSendSideChannel",!0],Nhc:["defaultTimeoutForFetchRequests",8E3],CPc:["serverClockSyncOnViewableRetrievalTimeout",1E4],Kkc:["enableLiveWithAdsOptimalPanic",!1],y9b:["batchRequestThrottlerMaxDuration",15E3],Tnb:["batchRequestThrottlerSleepDuration",0],DQ:["enableLiveAdBreakReportingEvents",!0],nl:["minimumPresentationDelayMs",1E4],eS:["liveEdgeSegmentSkipCount",0],JCb:["linearEnforceSegmentAvailabilityWindowAtIssueRequest",!0],kCc:["mediaEventsMaxRetry",20],hPa:["enablePresentationDelayControl",!1],tfa:["targetPresentationDelayToleranceMs",500],Wua:["presentationDelayQoeLockPeriodMs",6E4],aZ:["enableLiveRequestPacing",!0],Gkc:["enableLiveLikeRequestPacing",!1],Tzc:["liveLikeRequestPacingMultiplier",1],Q_:["logarithmicRequestPacingCurveCenterPositionMs",4E4],R_:["logarithmicRequestPacingCurveSharpness",8],XL:["maxLiveTargetBufferDurationMs",24E4],fS:["liveIsEllaEnabled",!1],Szc:["liveIsEllaABREnabled",!0],LD:["liveIsEllaHttpMixingEnabled",!0],Mzc:["liveEllaEdgeCushion",4E3],TCb:["liveEllaProximityThresholdMs",4E3],Nzc:["liveEllaProximityCheckIntervalMs",500],Ozc:["liveEllaTimeoutMultiplier",2],Gjc:["ellaAudioThroughputPercentage",10],Xjc:["ellaThroughputBasedSelectionMargin",.4],Qjc:["ellaPktLossRateThreshold",[.01,.02]],Rjc:["ellaQueuingDelayThreshold",[20,50]],Ljc:["ellaLockPeriodToStayMs",1E4],Kjc:["ellaLockPeriodToDrainMs",1E4],Mjc:["ellaMaxEncodingBitrateKbps",6500],Njc:["ellaMinEncodingBitrateKbps",800],WOa:["ellaImplementation","js"],UOa:["ellaCdnBaseUrl","https://occ.a.nflxso.net/genc/nrdp/ella"],Sjc:["ellaRelayFailureRecordWindowMs",6E5],Ujc:["ellaRelayMaxFailuresInWindow",15],Tjc:["ellaRelayMaxConsecutiveFailures",5],nYa:["overrideManifestForElla",!0],kHb:["overrideEllaRelayServers",[{id:2,D7:"2a00:86c0:2028:2028::166",port:7002},{id:1,D7:"::1",port:7002}]],Jjc:["ellaFecRate",.1],Wjc:["ellaSendRateMultiplier",[1.1,1.2,1.5]],Hjc:["ellaChannelNamePrefix","/2557822/1263725932"],Ojc:["ellaMovieId",82101269],F9:["enableSvodRequestPacing",!0],C2:["svodBufferGrowthRateSlope",2],l0:["minSvodTargetBufferDurationMs",6E4],Zkc:["enableSvodLogarithmicPacing",!1],YTc:["svodLogarithmicRequestPacingCurveCenterPositionMs",4E4],ZTc:["svodLogarithmicRequestPacingCurveSharpness",8],IPa:["explicitVideoDownloadablesMap",{}],X6b:["adsTruncationThreshold",2500]};b.adc=b.hNa;b.eg=b.adc;},49502:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},7559:function(t,b){function a(n,c){var f;c.some(function(g){var e;e=g.profiles;(e=e && 0 <= e.indexOf(n)) && (f=g.override);return e;});return f;}function d(n,c){return !!c && c.Pp && 0 <= c.Pp.indexOf(n);}Object.defineProperties(b,{__esModule:{value:!0}});b.q5c=function(n){return n.W1;};b.yxb=function(n,c){return void 0 !== n.Jsa?n.Jsa:c && void 0 !== c.Jsa?c.Jsa:100;};b.Qoc=function(n,c){n=n.profile;n=d(n,c)?a(n,c.yI):a(n,c.Wla);return {ty:n && n.minInitAudioBitrate || c.ty,yu:n && n.maxInitAudioBitrate || c.yu,MCc:n && n.minAudioBitrate || -Infinity,BBc:n && n.maxAudioBitrate || Infinity,vy:n && n.minRequiredAudioBuffer || c.k0};};b.FAb=d;},78541:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.bD=function(f,g,e,h,k,l,m,p){var q,r,u;d.l && h.trace("AsePlaygraph.createRequestQueue()");q=e.CLb && g.UA && g.Xj?g.Xj.R:g.R;r=g.ypc(f);d.l && h.trace(("AsePlaygraph.createRequestQueue for ").concat(g.R,"/").concat(f," (").concat(g.UA?"sticky":"non-sticky",") using ").concat(q,"/").concat(r));u=n.XI.instance.bD(r,q,!0,!1,{HK:e.HK,Ba:k},e);u.Rj.on(u,"networkfailing",function(){var v;d.l && h.trace("requestQueue OnNetworkFailing: ",u);u.OPa && ((0,c.assert)(u.PPa),null === (v=g.kZ) || void 0 === v?void 0:v.fI(void 0,u.PPa,void 0,u.bh,u.Qg));g.st();});u.Rj.on(u,"error",function(){p(u.bh,u.Qg);});u.on("transportreport",function(v){v.joa=g.Nq.LK;v.S=g.S;l(v);});u.on("mediaRequestComplete",m);u.Ob();return u;};d=a(48170);n=a(42431);c=a(52571);},42431:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.XI=void 0;d=a(22970);n=a(66164);c=d.__importDefault(a(14282));f=a(65161);g=a(91772);t=(function(){function e(h){this.VO=h;this.ka=[];this.console=new n.platform.Console("ASEJS_DOWNLOAD_TRACK_POOL","asejs");}Object.defineProperties(e,{instance:{get:function(){void 0 === e.Pz && (e.Pz=new e(n.platform.h4));return e.Pz;},enumerable:!1,configurable:!0}});e.reset=function(){e.Pz=void 0;};e.prototype.bD=function(h,k,l,m,p,q){var r;r=q.ZQc?this.bnc(l,k,h,q.$Qc):-1;-1 === r?(r={track:this.tfc(l,m,h,p,q),$j:l,R:k,NJb:h,IM:[],Tm:!1,rQ:!1},this.ka.push(r),this.NLc(r),h=!1):(h=!0,r=this.ka[r]);h=new g.V5(this.console,r.track,r.Tm,h);r.IM.push(h);return h;};e.prototype.NLc=function(h){function k(){h.Tm=!0;h.track.removeListener("created",k);}h.track.on("created",k);};e.prototype.m9=function(h){var k,l;h.au();k=this.X9(function(m){return m.track === h.track;});if(-1 !== k){if((k=this.ka[k],1 === k.IM.length))(k.track.au(),k.rQ=!0);else {l=k.IM.indexOf(h);0 <= l && k.IM.splice(l,1);}}else h.track.au();};e.prototype.Ue=function(){this.VO.Ue();};e.prototype.tfc=function(h,k,l,m,p){var q,r,u,v,w,x;q=this;r=!1;u=!1;v=!1;w=m.Ba;h?l === f.u.U?(h=1,p.Rq?(v=!0,h=p.usa):p.U_ && 2 < p.U_ && (v=!0,h=p.U_),h={type:this.VO.U,openRange:w?!1:!v,pipeline:v,connections:h,socketBufferSize:p.mga,minRequestSize:p.oca}):l === f.u.X?(r=p.Rq && (p.aXc || k && p.bXc),h={type:this.VO.X,openRange:w?!1:!r,pipeline:r,connections:1,socketBufferSize:p.S7,minRequestSize:p.oca}):l === f.u.Da?(u=w?!1:!p.cXc,h={type:this.VO.Da,openRange:u,pipeline:p.Rq,connections:1,socketBufferSize:p.xUc,minRequestSize:p.oca}):h={type:p.Hic?this.VO.U:this.VO.MWb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:p.rqa,minRequestSize:p.oca}:h={type:l === f.u.X?c.default.Yp.X:c.default.Yp.U,openRange:!1,pipeline:!1,connections:1,socketBufferSize:l === f.u.X?p.S7:p.mga,minRequestSize:p.oca};x=new this.VO(h,m);x.Rq=v;x.on("transportreport",function(y){var A;A=q.X9(function(z){return z.track === x;});-1 !== A && (A=q.ka[A],A.IM.length && A.IM[0].emit("transportreport",y));});x.on("mediaRequestComplete",function(y){var A;A=q.X9(function(z){return z.track === x;});-1 !== A && (A=q.ka[A],A.IM.length && A.IM[0].emit("mediaRequestComplete",y));});x.on("destroyed",function(){var y;y=q.X9(function(A){return A.track === x;});-1 !== y && q.ka.splice(y,1);x.removeAllListeners();});x.on("pipelinedisabled",function(){x.Rq=!1;if(w)x.i_a(d.__assign(d.__assign({},x.config),{pipeline:!1,openRange:!1,connections:1}));else if(r && p.$Wc || p.RRb)p.RRb && x.config.type === f.u.U?x.i_a(d.__assign(d.__assign({},x.config),{socketBufferSize:p.VCc,pipeline:!1,openRange:!0,connections:1})):x.i_a(d.__assign(d.__assign({},x.config),{pipeline:!1,openRange:!0}));});return x;};e.prototype.bnc=function(h,k,l,m){return this.X9(function(p){return !p.rQ && (!m && p.track.config.Tbd || !h?!p.$j && p.NJb === l:p.$j && p.R === k && p.NJb === l);});};e.prototype.X9=function(h){for(var k=0;k < this.ka.length;++k)if(h(this.ka[k]))return k;return -1;};return e;})();b.XI=t;},91772:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.V5=void 0;d=a(22970);n=a(90745);t=(function(c){function f(g,e,h,k){var l;l=c.call(this) || this;l.sb=g;l.track=e;l.Tm=!1;l.nL=!1;l.Rj=new n.kf();l.Rj.on(e,"networkfailing",function(){l.emit("networkfailing");});l.Rj.on(e,"error",function(){l.sb.warn("requestQueue got error");l.emit("error");});if(h)(l.Tm=!0,Promise.resolve().then(function(){return l.emit("created");}));else l.Rj.on(e,"created",function(){l.Tm=!0;l.emit("created");});l.nL=k;return l;}d.__extends(f,c);Object.defineProperties(f.prototype,{OPa:{get:function(){return this.track.OPa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{bh:{get:function(){return this.track.bh;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Qg:{get:function(){return this.track.Qg;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{PPa:{get:function(){return this.track.PPa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});f.prototype.Ob=function(){var g,e;this.nL || (null === (e=(g=this.track).Ob) || void 0 === e?void 0:e.call(g),this.nL=!0);};f.prototype.toString=function(){return this.track.toString();};f.prototype.toJSON=function(){return this.track;};f.prototype.au=function(){this.Rj.clear();};return f;})(n.EventEmitter);b.V5=t;},42193:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.H8a=void 0;d=a(22970);n=a(26388);c=a(18690);f=a(68902);g=a(87231);e=a(67895);t=(function(){function h(k,l,m,p,q){this.console=l;this.config=q;this.TOa=!1;this.Mx=new f.M8a(k);k=this.vfc(m,p);m=this.sgc(m,p);0 < k[n.u.X].length && 0 < k[n.u.U].length && 0 < m[n.u.X].length && 0 < m[n.u.U].length?(l.info("EllaAlgorithms: creating channel selector and relay node selector"),this.VOa=c.J8a.ifc(k,this.Mx,q),this.AQ=e.N8a.rgc(l,m,q),this.TOa=!0):l.info("EllaAlgorithms: not creating channel selector and relay node selector due to incomplete information from manifest");}h.prototype.vfc=function(k,l){var m;m={0:[],1:[],2:[],3:[]};m[n.u.X]=this.Iqb(k);m[n.u.U]=this.Iqb(l);return m;};h.prototype.Iqb=function(k){var l,m,p,q,v;if(void 0 === k)return [];q=[];if(this.config.nYa && k.R === String(this.config.Ojc))try{for(var r=d.__values(k.Gd),u=r.next();!u.done;u=r.next()){v=u.value;q.push(new g.aBa(v.Ra,v.bitrate,this.kgc(v)));}}catch(z){var w;w={error:z};}finally{try{u && !u.done && (l=r.return) && l.call(r);}finally{if(w)throw w.error;}}else try{for(var x=d.__values(k.Gd),y=x.next();!y.done;y=x.next())(v=y.value,(null === (p=v.oS) || void 0 === p?0:p.Xna) && q.push(new g.aBa(v.Ra,v.bitrate,v.oS.Xna)));}catch(z){var A;A={error:z};}finally{try{y && !y.done && (m=x.return) && m.call(x);}finally{if(A)throw A.error;}}return q;};h.prototype.kgc=function(k){var l,m,p,q,r;l=[];m=this.config.Hjc;p=this.config.Jjc;q=k.Ra;r=this.console;this.config.Wjc.forEach(function(u){var v;v=Number((1 / u).toFixed(2));v=m + ("/").concat(k.Ra,"?dutyCycle=").concat(v,"&fec=").concat(p);l.push({ee:v,Tob:Number(q),FMb:u,hoa:k.bitrate,Gub:p,lqb:!0});r.info("bitrate: " + k.bitrate + ", channel name: " + v);});return l;};h.prototype.sgc=function(k,l){var m;m={0:[],1:[],2:[],3:[]};this.config.nYa?(l=this.config.kHb,m[n.u.X]=l.map(function(p){return p.id;}),m[n.u.U]=l.map(function(p){return p.id;})):(k && (k=k.Uj,k.DT && (m[n.u.X]=k.DT.map(function(p){return p.id;}))),l && (k=l.Uj,k.DT && (m[n.u.U]=k.DT.map(function(p){return p.id;}))));return m;};return h;})();b.H8a=t;},63292:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.I8a=void 0;d=a(22970);t=a(66164);n=a(91176);a(65161);c=new t.platform.Console("ASEJS_ELLA_ASE_CLIENT","media|asejs");(function(g){g[g.Ct=0]="STOPPED";g[g.Cl=1]="STARTING";g[g.tW=2]="STARTED";})(f || (f={}));a=(function(){function g(e,h,k,l,m,p){this.config=e;this.track=h;this.Ijc=k;this.Zh=l;this.Ah=m;this.CT=p;this.fo=this.Is=this.zG=this.fp=null;this.Vd=!1;this.LL={qE:0,RD:0,TH:0,aI:0};this.state=f.Ct;this.track=h;this.mediaType=this.track.mediaType;c.warn(this.mediaType,"ELLA: Constructor: ",this.config.fS);(0,n.assert)(m);(0,n.assert)(p);c.warn(this.mediaType,"using channel selector: ",this.Ah.VOa.name);c.warn(this.mediaType,"first relay server is ",JSON.stringify(this.CT[0]));}g.prototype.syc=function(e,h){return d.__awaiter(this,void 0,void 0,function(){var k,l,m,p,q,r,u,v,w;return d.__generator(this,function(x){switch(x.label){case 0:k=this.track.M;l=k.Pjc;if(!l)throw Error("Ella is not enabled for this viewable");return [4,l];case 1:return (m=x.T(),c.warn(this.mediaType,"ELLA: Joining channel",e,h),p=this,r=(q=m).join,[4,k.Vjc]);case 2:return [4,r.apply(q,[x.T(),e.D7,e.port,h])];case 3:return (p.zG=x.T(),null === (u=this.zG) || void 0 === u?void 0:u.on("object",this.EXa.bind(this)),null === (v=this.zG) || void 0 === v?void 0:v.on("progress",this.zFc.bind(this)),null === (w=this.zG) || void 0 === w?void 0:w.on("abandoned",this.DXa.bind(this)),[2]);}});});};g.prototype.NBb=function(e){return d.__awaiter(this,void 0,void 0,function(){var h,k,l,m,p,q,r,u;return d.__generator(this,function(v){switch(v.label){case 0:(h=0,k=null !== (r=null === (q=this.CT) || void 0 === q?void 0:q.length) && void 0 !== r?r:0,v.label=1);case 1:if(!(h < k))return [3,6];l=this.Ah.AQ.eSa(this.mediaType);if(null === l)return (c.error(this.mediaType,"ELLA: No more valid relay servers available after",h,"attempts"),[2,null]);m=this.vsc(l);if(null === m)return (c.error(this.mediaType,"ELLA: Could not find relay server with id",l),h++,[3,1]);v.label=2;case 2:return (v.tc.push([2,4,,5]),c.warn(this.mediaType,"ELLA: Attempting to join channel",e,"on relay server",m.id,"(attempt",h + 1,"of",k,")"),[4,this.syc(m,e)]);case 3:return (v.T(),c.warn(this.mediaType,"ELLA: Successfully joined channel",e,"on relay server",m.id),this.yEc(m,e,h),[2,m]);case 4:return (p=v.T(),c.error(this.mediaType,"ELLA: Failed to join channel",e,"on relay server",m.id,"Error:",(null === p || void 0 === p?void 0:p.message) || p),null === (u=this.Ah) || void 0 === u?void 0:u.AQ.YMc(m.id,e),this.iM(m,e,"fail_to_join"),h++,[3,5]);case 5:return [3,1];case 6:return (c.error(this.mediaType,"ELLA: Exhausted all relay servers. Unable to join channel",e),[2,null]);}});});};g.prototype.iM=function(e,h,k){this.Zh.MGb && (c.trace(this.mediaType,"ELLA: Relay failure detected",e.id,h,"reason:",k),this.Zh.MGb(e.id,h,k));};g.prototype.yEc=function(e,h,k){this.Vm && this.Vm.id === e.id || !this.Zh.yGb || (k=this.Vm || 0 !== k?0 < k?"fail_to_join":"fail_to_receive":"initial",c.trace(this.mediaType,"ELLA: Relay switch detected",e.id,h,"reason:",k),this.Zh.yGb(e.id,h,k));};g.prototype.Bbc=function(e){var h,k,l,m,p;if(!this.config.Szc)return !1;m=!1;p=this.Ah.AQ.eSa(this.mediaType);this.Is=this.Ah.VOa.pMb(this.mediaType,this.fp,e);if(null === p || null === this.Is)return (this.Zh.E0 && this.Zh.E0("fail_to_receive"),m);if(p !== (null === (h=this.Vm) || void 0 === h?void 0:h.id) || (null === (k=this.Is) || void 0 === k?void 0:k.ee) !== (null === (l=this.fp) || void 0 === l?void 0:l.ee))(c.warn(this.mediaType," need to switch to channel ",this.Is.ee,", relay server: ",p),m=!0);return m;};g.prototype.EXa=function(e){return d.__awaiter(this,void 0,void 0,function(){var h,k,l,m,p;return d.__generator(this,function(q){switch(q.label){case 0:c.warn(("").concat(this.mediaType,", ELLA: Object complete (objectId=").concat(e.Ac.Bp,", channelId=").concat(e.Sob,", channelName=").concat(e.ee,")"));null === this.fo && (this.fo=e.Ac.Bp,this.state !== f.tW && this.Zh.BGb && this.Zh.BGb(1,null !== (l=null === (k=this.Vm) || void 0 === k?void 0:k.id) && void 0 !== l?l:0,null !== (p=null === (m=this.fp) || void 0 === m?void 0:m.ee) && void 0 !== p?p:"",this.LL),this.state=f.tW);if(e.Ac.Bp !== this.fo)return [3,2];this.Ijc.EXa(e,this.zG.ee);this.Vm && this.Ah && this.Ah.AQ.bNc(this.Vm.id,e.ee);this.Ah.Mx.zya();return [4,this.Dma(!1)];case 1:return (q.T(),this.fo+=1,[3,5]);case 2:if(!(e.Ac.Bp < this.fo))return [3,3];this.Zh.zGb && this.Zh.zGb(1);c.error(this.mediaType,"Duplicate segment: ",e.Sob,e.ee,e.Ac.Bp);return [3,5];case 3:return (h=e.Ac.Bp - this.fo,c.error(this.mediaType,"Missing ",h," segments: ",e.Sob,e.ee,e.Ac.Bp,this.fo),this.Vm && this.Ah && this.Ah.AQ.A_a(this.Vm.id,e.ee,h) && this.iM(this.Vm,e.ee,"fail_to_receive"),this.Ah.Mx.zya(),[4,this.Dma(!0)]);case 4:(q.T(),this.fo=e.Ac.Bp + 1,this.Zh.F0 && this.Zh.F0(h),q.label=5);case 5:return [2];}});});};g.prototype.Dma=function(e){return d.__awaiter(this,void 0,void 0,function(){var h,k,l,m,p,q,r,u,v,w,x,y;return d.__generator(this,function(A){switch(A.label){case 0:h=this.Bbc(e);if(!h)return [3,2];k=this.Is.Ra;l={$ac:this.Is.ee,hoa:this.Is.HG.bitrate};this.zG && this.zG.close();return [4,this.NBb(this.Is.ee)];case 1:m=A.T();if(!m)return (c.error(this.mediaType,"ELLA: Failed to switch to channel",this.Is.ee,"after trying all available relay servers"),this.Vd=!0,this.Zh.E0 && this.Zh.E0("fail_to_join"),[2]);c.warn(this.mediaType,"switched from channel: ",null === (p=this.fp) || void 0 === p?void 0:p.ee,null === (q=this.fp) || void 0 === q?void 0:q.Ra,null === (r=this.fp) || void 0 === r?void 0:r.HG.bitrate," relay server: ",this.Vm," to channel: ",null === (u=this.Is) || void 0 === u?void 0:u.ee,null === (v=this.Is) || void 0 === v?void 0:v.Ra,null === (w=this.Is) || void 0 === w?void 0:w.HG.bitrate," relay server: ",m);this.Zh.Ota && (c.trace(this.mediaType,"ELLA: Channel switch detected",k,l,this.LL),this.Zh.Ota(k,l,this.LL));(null === (x=this.fp) || void 0 === x?void 0:x.Ra) !== (null === (y=this.Is) || void 0 === y?void 0:y.Ra) && this.Zh.AGb(this.Is.Ra);this.fp=this.Is;this.Vm=m;A.label=2;case 2:return [2];}});});};g.prototype.zFc=function(e){var h,k,l,m,p,q;c.warn(this.mediaType,"ella object progress: ",JSON.stringify(e));q=e.Lv;0 < q.bytesReceived && (q={bytesReceived:q.bytesReceived,aQb:q.qE,$Pb:q.tbd,sHb:null !== (h=q.Ybd) && void 0 !== h?h:0},e={jb:e.jb,Xb:e.Xb},this.Ah.Mx.FLc(null !== (l=null === (k=this.Vm) || void 0 === k?void 0:k.id) && void 0 !== l?l:0,null !== (p=null === (m=this.fp) || void 0 === m?void 0:m.ee) && void 0 !== p?p:"",this.mediaType,e,q),k=this.Ah.Mx.jp,this.LL={qE:k.qE,RD:k.RD,TH:k.TH,aI:k.aI},c.trace(this.mediaType,"ELLA: Network stat updated",this.LL));};g.prototype.DXa=function(e){return d.__awaiter(this,void 0,void 0,function(){var h;return d.__generator(this,function(k){switch(k.label){case 0:c.warn(this.mediaType,"ella object abandoned: ",JSON.stringify(e));this.Zh.DXa(e);if(null === this.fo)return [2];if(e.Bp !== this.fo)return [3,2];c.error(this.mediaType,"ella object ",e.Bp,e.ee," is abandoned");this.fo+=1;this.Vm && this.Ah && this.Ah.AQ.A_a(this.Vm.id,e.ee,1) && this.iM(this.Vm,e.ee,"fail_to_receive");this.Ah.Mx.zya();return [4,this.Dma(!0)];case 1:return (k.T(),this.Zh.F0 && this.Zh.F0(1),[3,5]);case 2:if(!(e.Bp < this.fo))return [3,3];c.warn(this.mediaType,"ella object issue: abandoning a complete object, ",e.Bp,e.ee);return [3,5];case 3:return (h=e.Bp - this.fo + 1,c.error(this.mediaType,"Multiple ella objects have been lost: ",this.fo,e.Bp),this.fo=e.Bp + 1,this.Vm && this.Ah && this.Ah.AQ.A_a(this.Vm.id,e.ee,h) && this.iM(this.Vm,e.ee,"fail_to_receive"),this.Ah.Mx.zya(),[4,this.Dma(!0)]);case 4:(k.T(),this.Zh.F0 && this.Zh.F0(h),k.label=5);case 5:return [2];}});});};g.prototype.yOb=function(){var e,h;e=this;c.warn(this.mediaType,"ELLA: Starting streaming");this.state=f.Cl;if(void 0 === this.CT || 0 === this.CT.length)c.error(this.mediaType,"ELLA: No relay servers available. Fall back to HTTP");else if((this.fp=this.Ah.VOa.pMb(this.mediaType,null,!1),null === this.fp))c.error(this.mediaType,"ELLA: No valid ella channel. Fall back to HTTP");else {this.Zh.AGb(this.fp.Ra);h=this.fp.ee;(function(){return d.__awaiter(e,void 0,void 0,function(){var k,l;return d.__generator(this,function(m){switch(m.label){case 0:return [4,this.NBb(h)];case 1:return ((k=m.T())?(this.Vm=k,this.Zh.Ota && (l={$ac:this.fp.ee,hoa:this.fp.HG.bitrate},c.trace(this.mediaType,"ELLA: Channel switch detected",this.fp.Ra,l,this.LL),this.Zh.Ota(this.fp.Ra,l,this.LL))):(c.error(this.mediaType,"ELLA: Failed to join any relay server. Fallback to HTTP required."),this.Vd=!0,this.Zh.E0 && this.Zh.E0("fail_to_join")),[2]);}});});})().catch(function(k){c.error(e.mediaType,"ELLA: Unexpected error in startStreaming",(null === k || void 0 === k?void 0:k.message) || k);});}};g.prototype.vsc=function(e){for(var h=null,k=0;k < this.CT.length;k++)if(this.CT[k].id === e){h=this.CT[k];break;}return h;};g.prototype.dxa=function(){c.warn(this.mediaType,"ELLA: Stopping streaming");this.zG && this.zG.close();this.fo=null;this.state=f.Ct;};return g;})();b.I8a=a;},18690:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.J8a=void 0;d=a(7224);b.J8a=(function(){function n(){}n.ifc=function(c,f,g){return new d.Sgb(c,f,g);};return n;})();},37468:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.L8a=void 0;d=a(50468);t=a(85254);n=a(75539);c=a(24940);a=(function(){function f(g,e,h){this.OM=c.jja.Fjc;d.Io.Ob(this,g,e,h);}f.jQ=function(g,e,h,k,l){h=new f(g,h,k);h.ci=k.ci;h.active=!l;h.complete=l;h.aborted=!1;h.bytesReceived=0;h.location=g.location || "";h.gf=!1;h.bh=void 0;h.jD=void 0;h.Qg=void 0;h.status=0;h.state=n.oh.Mn;g=e.data;h.rva(g.buffer.slice(g.byteOffset,g.byteLength),!0);return h;};f.prototype.abort=function(){return !1;};f.prototype.by=function(){return this.complete;};f.prototype.Se=function(){};f.prototype.Ei=function(){return this.Ra;};f.prototype.iSa=function(){return this.Ra;};f.prototype.b1a=function(g){this.listener=g;};f.prototype.xpb=function(){this.listener=void 0;};f.prototype.Sqa=function(){return this.by();};return f;})();b.L8a=a;(0,t.wl)(d.Io,a,!1);},68902:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.M8a=void 0;d=a(26388);n=new (a(66164).platform.Console)("ASEJS_ELLA_NETWORK_MONITOR","media|asejs");t=(function(){function c(f){this.bd=f;this.Zna=0;this.Qsa=Infinity;this.yfa=this.bytesReceived=0;this.jp={qE:0,RD:0,TH:0,aI:0};}c.prototype.FLc=function(f,g,e,h,k){var l,m;m=k.bytesReceived;n.warn(("receiveChannelInfoUpdate for ").concat(e,": relayNode=").concat(f,",\n                 channelName=").concat(g,", bytes=").concat(m,", packet delay=").concat(k.sHb,",\n                 packets received=").concat(k.aQb,", packets lost=").concat(k.$Pb));e === d.u.U && (f=h.Xb - h.jb,this.bytesReceived+=m,this.yfa+=f,this.Zna=8 * this.bytesReceived / this.yfa,this.jp.RD+=Math.abs(k.$Pb),this.jp.qE+=k.aQb,this.jp.TH=this.jp.RD / (this.jp.RD + this.jp.qE),k=null !== (l=k.sHb) && void 0 !== l?l:this.Qsa,this.Qsa=Math.min(k,this.Qsa),this.jp.aI=k - this.Qsa,n.warn(("ELLA Network stats updated for ").concat(e,": throughput=").concat(this.Zna.toFixed(2),"kbps, packet loss rate=").concat((100 * this.jp.TH).toFixed(2),"%, queueing delay=").concat(this.jp.aI.toFixed(2),"ms")));};c.prototype.zya=function(){this.yfa=this.bytesReceived=0;this.jp.qE=0;this.jp.RD=0;n.info("wrapUpMeasurement: Network stats",(100 * this.jp.TH).toFixed(2),this.jp.aI);};c.prototype.jl=function(){var f;f=this.bd.get().kb.Fa;return 0 !== this.Zna?this.Zna:f;};c.prototype.ZZ=function(){return {requestId:"0",Sl:void 0,type:void 0,ma:void 0};};return c;})();b.M8a=t;},67895:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.N8a=void 0;d=a(56949);b.N8a=(function(){function n(){}n.rgc=function(c,f,g){return new d.Tgb(c,f,g);};return n;})();},87231:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aBa=void 0;b.aBa=(function(){return function(a,d,n){this.Ra=a;this.bitrate=d;this.channels=n;};})();},7224:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Sgb=void 0;d=a(66164);n=a(6198);c=a(52571);f=new d.platform.Console("ASEJS_ELLA_CHANNEL_SELECTOR","media|asejs");(function(h){h[h.oJ=0]="PROBE";h[h.Y5=1]="STAY";h[h.U3=2]="DRAIN";})(g || (g={}));(function(h){h[h.uia=0]="NO_CONGESTION";h[h.pgb=1]="SOME_CONGESTION";h[h.S6a=2]="CONGESTION";})(e || (e={}));t=(function(){function h(k,l,m){var p;p=this;this.Yna=k;this.Mx=l;this.uwa="SimpleEllaChannelSelector";this.UC=g.oJ;this.lba=-1;this.unb=m.Gjc;this.AUc=m.Xjc;this.rIb=m.Qjc;this.OJb=m.Rjc;this.EAc=m.Ljc;this.DAc=m.Kjc;this.FBc=m.Mjc;this.NEb=m.Njc;k=this.Yna[n.u.U];k=k.filter(function(q){return q.bitrate <= p.FBc;});k[k.length - 1].bitrate >= this.NEb && (k=k.filter(function(q){return q.bitrate >= p.NEb;}));this.Yna[n.u.U]=k;}Object.defineProperties(h.prototype,{name:{get:function(){return this.uwa;},enumerable:!1,configurable:!0}});h.prototype.pMb=function(k,l,m){var p;if(null === this.Yna[k])return null;p=this.Yna[k];return null === l?this.qMb(k,p):k === n.u.X?l:k === n.u.U?this.kPc(k,p,l,m):null;};h.prototype.qMb=function(k,l){var m,p;m=this.jl(k);l.map(function(q){return q.bitrate;});p=l.filter(function(q){return q.bitrate < m;});l=0 === p.length?l[0]:p[p.length - 1];p={Ra:l.Ra,ee:l.channels[0].ee,HG:l};f.log(("ELLA Channel selected for ").concat(k,": ").concat(p.ee," (").concat(l.bitrate,"kbps)"));return p;};h.prototype.hWc=function(k,l){var m;m=this.trc();switch(this.UC){case g.oJ:this.jWc(m,k);break;case g.U3:this.iWc(m);break;case g.Y5:this.kWc(m,k);break;default:f.error("Unsupported channel selection state: ",this.UC);}l && (this.UC=g.U3);f.log("updateChannelSelectionState: ",this.UC);};h.prototype.trc=function(){var k,l,m;k=this.Mx.jp;l=k.TH;k=k.aI;if(l < this.rIb[0] && k < this.OJb[0]){m=e.uia;-1 === this.lba && (this.lba=d.platform.time.ha());}else (m=l > this.rIb[1] || k > this.OJb[1]?e.S6a:e.pgb,this.lba=-1);f.log("network congestion level: ",m,l,k);return m;};h.prototype.iWc=function(k){var l;l=d.platform.time.ha();k === e.uia && l > this.lba + this.DAc && (this.UC=g.Y5);};h.prototype.jWc=function(k,l){this.UC=k === e.pgb?g.Y5:k === e.uia?l?g.Y5:g.oJ:g.U3;};h.prototype.kWc=function(k,l){var m;m=d.platform.time.ha();k === e.uia && !l && m > this.lba + this.EAc?this.UC=g.oJ:k === e.S6a && (this.UC=g.U3);};h.prototype.kPc=function(k,l,m,p){var q,r,u,v,w;(0,c.assert)(k === n.u.U);q=m;r=this.Vub(l,m.Ra);u=r === l.length - 1;v=l[r];w=this.Tmc(v.channels,m.ee);this.hWc(u,p);switch(this.UC){case g.Y5:q={Ra:l[r].Ra,ee:l[r].channels[0].ee,HG:l[r]};break;case g.U3:0 < r && --r;m=this.qMb(k,l);m=this.Vub(l,m.Ra);r=Math.min(r,m);p && (r=0);q={Ra:l[r].Ra,ee:l[r].channels[0].ee,HG:l[r]};break;case g.oJ:w < v.channels.length - 1?q={Ra:m.Ra,ee:v.channels[w + 1].ee,HG:v}:((0,c.assert)(!u),q={Ra:l[r + 1].Ra,ee:l[r + 1].channels[0].ee,HG:l[r + 1]});break;default:f.error("Invalid channel selection state: ",this.UC);}f.log(("ELLA Channel selection result for ").concat(k,": ").concat(q.ee," (").concat(q.HG.bitrate,"kbps)"));return q;};h.prototype.jl=function(k){var l;l=this.Mx.jl();l=k === n.u.X?this.unb / 100 * l:(100 - this.unb) / 100 * l;return l * (1 - this.AUc);};h.prototype.Vub=function(k,l){var m;for(m=0;m < k.length && k[m].Ra !== l;m++);(0,c.assert)(m < k.length);return m;};h.prototype.Tmc=function(k,l){var m;for(m=0;m < k.length && k[m].ee !== l;m++);(0,c.assert)(m < k.length);return m;};return h;})();b.Sgb=t;},56949:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Tgb=b.r0b=void 0;d=a(22970);n=a(66164);c=a(65161);f=(function(){function g(e,h,k,l,m){this.Vd=e;this.Xma=h;this.Wca=[];this.Aoa=k;this.psa=l;this.nsa=m;this.Wca.push(n.platform.time.ha());}g.prototype.y6b=function(e){var h;this.Xma+=e;e=n.platform.time.ha();h=e - this.Aoa;this.Wca=this.Wca.filter(function(k){return k > h;});this.Wca.push(e);if(this.Xma >= this.nsa || this.Wca.length >= this.psa)this.Vd=!0;};return g;})();b.r0b=f;t=(function(){function g(e,h,k){this.console=e;this.yMc=h;this.eI=new Map();this.Aoa=Number(k.Sjc);this.psa=Number(k.Ujc);this.nsa=Number(k.Tjc);}g.prototype.eSa=function(e){var h,k,p,q;k=null;e=this.yMc[e];try{for(var l=d.__values(e),m=l.next();!m.done;m=l.next()){p=m.value;q=this.eI.get(p);if(void 0 === q || !q.Vd){k=p;break;}}}catch(u){var r;r={error:u};}finally{try{m && !m.done && (h=l.return) && h.call(l);}finally{if(r)throw r.error;}}return k;};g.prototype.A_a=function(e,h,k){var l,m;this.console.log("reportMissingSegment: ",e,h);l=!1;if(this.eI.has(e)){m=this.eI.get(e);l=m.Vd;m.y6b(k);}else (m=new f(!1,k,this.Aoa,this.psa,this.nsa),this.eI.set(e,m));this.console.log("reportMissingSegment: ",e,h,m);return !l && m.Vd?!0:!1;};g.prototype.YMc=function(e,h){var k;this.console.log("reportJoinFailure: ",e,h);if(this.eI.has(e)){k=this.eI.get(e);k.Vd=!0;}else (k=new f(!0,1,this.Aoa,this.psa,this.nsa),this.eI.set(e,k));this.console.log("reportJoinFailure: ",e,h,k,this.eSa(c.u.U));};g.prototype.bNc=function(e,h){this.console.log("reportSegmentReceived: ",e,h);this.eI.has(e) && (e=this.eI.get(e),e.Xma=0);};return g;})();b.Tgb=t;},94810:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.tAc=function(g){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){if("js" === g.WOa)return [2,(0,n.dDb)({DLa:g.UOa,gua:"ella-object",version:c.Tja})];if("wasm" === g.WOa)return [2,(0,n.dDb)({DLa:g.UOa,gua:"ella-object-wasm",version:f.Tja})];throw Error(("Unknown ella implementation '").concat(g.WOa,"'. Must be 'js' or 'wasm'."));});});};d=a(22970);n=a(15410);c=a(90808);f=a(16634);},14282:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(6198);b["default"]={VZc:{uC:0,H3c:1,name:["STARTUP","STEADY"]},Yp:{X:t.u.X,U:t.u.U,Da:t.u.Da,name:["AUDIO","VIDEO","TEXT"]},G1c:{X:t.u.X,U:t.u.U,Da:t.u.Da,name:["AUDIO","VIDEO","TEXT"]},hk:{URL:0,PO:1,LOCATION:2,iJ:3,name:["URL","SERVER","LOCATION","NETWORK"]},zr:{HAVE_NOTHING:0,HV:1,GV:2,p4:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Dz:{AZc:0,Q0c:1,V2c:2,l2c:3,N2c:4,t4c:5,V0c:6,E1c:7,uC:8,Wp:9,IEa:10,H_b:11,Aza:12,SXb:13,RXb:14,G0b:15,F0b:16,vbb:17,a1b:18,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded switchlivedvr").split(" ")},v0c:{iJ:0,y_c:1,name:["NETWORK","DECODE"]},A3c:{C_c:"delayedSeamless",e1c:"hideLongTransition"},BV:{nW:0,fa:1,oJ:2,name:["RETRY","FAIL","PROBE"]}};},48170:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.l=!1;},83744:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.X8a=void 0;d=a(22970);n=a(90745);c=d.__importStar(a(17267));f=a(66164);g=a(91176);e=new f.platform.Console("ASEJS_ERROR_DIRECTOR","asejs");h=d.__importDefault(a(14282));k=a(86429);l=a(94646);m=a(16131);p=f.platform.Bl;t=(function(){var B3x;B3x=2;for(;B3x !== 6;){switch(B3x){case 2:q.prototype.La=function(){var c1p;c1p=2;for(;c1p !== 5;){switch(c1p){case 2:this.Rj.clear();this.DM.reset();c1p=5;break;}}};q.prototype.fI=function(r,u,v,w,x){var C9X,y,A,z,B,D,K7Z,E,H,r_z,j6j,f_D,C;C9X=2;for(;C9X !== 12;){switch(C9X){case 2:var H44=" ";H44+="o";H44+="n";H44+=" ";var d7m=" wi";d7m+="t";d7m+="h";d7m+=" ";var C9O=" ";C9O+="o";C9O+="n";C9O+=" ";var d6O="Failu";d6O+="r";d6O+="e ";(A=p.cF.name,z=w?A[w]:void 0,B=this.Vi);e.warn(d6O.concat(z,C9O).concat(null === r || void 0 === r?void 0:r.url,d7m).concat(v,H44).concat(JSON.stringify(r?r:u)));C9X=5;break;case 13:var o_$="Unmapped failu";o_$+="re code in JSA";o_$+="S";o_$+="E error ";o_$+="director : ";e.error(o_$.concat(w));C9X=12;break;case 5:C9X=w && c.isArray(this.LG.fRa(w))?4:13;break;case 8:var m$H="Inva";m$H+="lid";m$H+=" affected";m$H+=" for network fa";m$H+="ilure";e.error(m$H);C9X=12;break;case 7:u=function(G){var D_Q,J,L,K,M13,M,P;D_Q=2;for(;D_Q !== 7;){switch(D_Q){case 2:(J=G.urls,L=G.url,K=G.dd);D_Q=1;break;case 4:J.some(function(I){var X4I;X4I=2;for(;X4I !== 5;){switch(X4I){case 2:B.fI(M,P,I.url);return M === h.default.hk.PO;break;}}});D_Q=3;break;case 8:D.DM.jKc(G,{zmb:K,Qfa:C,xk:v,bh:w,Bub:z,Qg:x});D_Q=3;break;case 3:var I_J="e";I_J+="rro";I_J+="r";!D.c2 || 0 !== v && void 0 !== v || D.c2(I_J,L);D_Q=7;break;case 9:D_Q=M13 === h.default.BV.oJ?8:3;break;case 1:M13=D.LG.MM(w,K);D_Q=M13 === h.default.BV.fa?5:9;break;case 5:(M=C[0],P=C[1]);D_Q=4;break;}}};D=this;try{K7Z=2;for(;K7Z !== 3;){switch(K7Z){case 14:H=E.next();K7Z=2;break;case 4:H=E.next();K7Z=1;break;case 6:u(H.value);K7Z=6;break;case 5:u(H.value);K7Z=4;break;case 1:K7Z=!H.done?5:3;break;case 2:(E=d.__values(r),H=E.next());K7Z=1;break;}}}catch(G){var F;F={error:G};}finally{r_z=2;for(;r_z !== 1;){switch(r_z){case 2:try{j6j=2;for(;j6j !== 1;){switch(j6j){case 2:H && !H.done && (y=E.return) && y.call(E);j6j=1;break;}}}finally{f_D=2;for(;f_D !== 5;){switch(f_D){case 2:f_D=F?1:5;break;case 3:f_D=F?2:7;break;case 1:throw F.error;f_D=5;break;}}}r_z=1;break;}}}C9X=12;break;case 4:C=this.LG.fRa(w) || l.CV.jg;C9X=3;break;case 3:C9X=C !== l.CV.uqa?9:12;break;case 9:var Z_9="cr";Z_9+="iticalNetw";Z_9+="orkE";Z_9+="rro";Z_9+="r";var p0o="cri";p0o+="tica";p0o+="lNetworkError";var i1L="r";i1L+="eq";i1L+="uest";i1L+="Err";i1L+="or";var e5n="req";e5n+="ue";e5n+="st";e5n+="Error";C9X=(this.IL={xk:v,bh:w,Bub:z,Qg:x},this.events.emit(e5n,{type:i1L,xk:v,errorCode:w,Qg:x}),w && this.LG.Uwc(w) && this.events.emit(p0o,{type:Z_9,bh:w}),r=this.ODb(r,u),void 0 === r)?8:7;break;}}};q.prototype.iuc=function(r){var F85,u,v,w,x,y,A,z;F85=2;for(;F85 !== 8;){switch(F85){case 2:var f4l=" ms ";f4l+="a";f4l+="go";var z1_=" last succes";z1_+="s ";z1_+="was ";var p$0="t";p$0+="empo";p$0+="rarily";var Y0i="perm";Y0i+="anent";Y0i+="l";Y0i+="y";var n3P="Network has ";n3P+="f";n3P+="aile";n3P+="d ";(u=this,v=r.ira,w=f.platform.time.ha() - this.mVa,x=this.config);e.warn(n3P.concat(v?Y0i:p$0,z1_).concat(w,f4l));F85=5;break;case 5:F85=this.IL?4:3;break;case 4:(y=this.IL.bh,A=this.IL.xk,z=this.IL.Qg);F85=3;break;case 3:var Y4V="temporaryN";Y4V+="e";Y4V+="twor";Y4V+="kEr";Y4V+="ror";var L_P="t";L_P+="emporaryNetworkErr";L_P+="or";v || this.events.emit(L_P,{type:Y4V,errorCode:y,xk:A,Qg:z});v?(this.M1 && (clearTimeout(this.M1),this.M1=void 0),this.DM.reset(),this.USa({ira:v,IGc:y,KGc:A,LGc:z,Ab:r.dd})):this.M1 || (this.M1=setTimeout(function(){var O2C;O2C=2;for(;O2C !== 5;){switch(O2C){case 2:u.M1=void 0;u.K1();O2C=5;break;}}},x.bta));F85=8;break;}}};B3x=4;break;case 4:q.prototype.quc=function(r){var t4Y,u,v,w,x;t4Y=2;for(;t4Y !== 9;){switch(t4Y){case 2:(v=r.Ab,w=r.stream);t4Y=1;break;case 1:t4Y=r.url?5:9;break;case 5:x=r.url.url;r={url:x,dd:v.id,Ab:v,stream:w,urls:v.urls,L:this.azc,kJb:!0};(w=null === (u=w.M7) || void 0 === u?void 0:u.YZ(r.L,x)) && this.DM.GNa(w,r,v.id);t4Y=9;break;case 6:t4Y=r.url?6:5;break;}}};q.prototype.K1=function(){var A4g,r;A4g=2;for(;A4g !== 5;){switch(A4g){case 2:r=this;this.qpb.Ela || this.qpb.QSb(function(){var x1z;x1z=2;for(;x1z !== 1;){switch(x1z){case 2:r.M1 || (r.Vi.K1(),r.LG.K1(),r.fL());x1z=1;break;}}});A4g=5;break;}}};q.prototype.GN=function(r){var q$4,u,v;q$4=2;for(;q$4 !== 9;){switch(q$4){case 2:(u=this,v=this.config);this.mVa=Math.max(r.nj || f.platform.time.ha(),this.mVa);v.ZH && this.DM.GN(r);q$4=4;break;case 4:var H4p="up";H4p+="datingLastSuccess";H4p+="Event";var c5_="updatingLastSuccessEve";c5_+="n";c5_+="t";(r=this.ODb(r)) && 0 < r.length && r.forEach(function(w){var B1Q;B1Q=2;for(;B1Q !== 5;){switch(B1Q){case 2:u.LG.GN(w.dd);u.Vi.GN(w.dd);B1Q=5;break;}}});this.events.emit(c5_,{type:H4p});q$4=9;break;}}};B3x=8;break;case 8:q.prototype.ODb=function(r,u){var C9B,v,w,x;C9B=2;for(;C9B !== 7;){switch(C9B){case 2:v=this.Vi;C9B=1;break;case 1:C9B=r?5:8;break;case 8:u && (x=v.GPc(u.host,u.port).map(function(y){var i33;i33=2;for(;i33 !== 1;){switch(i33){case 2:return {url:v.YZ(y.url.url,y.url.stream.M7),dd:y.Ab.id,Ab:y.Ab,stream:y.url.stream,urls:y.Ab.urls};break;}}}).filter(function(y){var l_l;l_l=2;for(;l_l !== 1;){switch(l_l){case 2:return "" !== y.url;break;}}}));C9B=9;break;case 9:return x;break;case 5:w=v.nRa(r.stream);this.azc=r.ci;C9B=3;break;case 3:x=v.Opa(r.stream).map(function(y){var S4e;S4e=2;for(;S4e !== 1;){switch(S4e){case 2:return {url:r.url,dd:y.id,Ab:y,stream:w,urls:y.urls,L:r.ci};break;}}});C9B=9;break;}}};return q;break;}}function q(r,u,v,w,x,y){var T85;T85=2;for(;T85 !== 20;){switch(T85){case 6:var i$w="issueServe";i$w+="rP";i$w+="robeReques";i$w+="t";var r7W="ne";r7W+="t";r7W+="workF";r7W+="a";r7W+="iled";this.qpb=new g.T5();this.LG=r?new m.Oab(v):new l.CV(v);this.Rj.addListener(this.Vi,r7W,this.iuc.bind(this));this.Rj.addListener(this.Vi,i$w,this.quc.bind(this));T85=11;break;case 11:this.mVa=f.platform.time.ha();this.DM=new k.Cfb(u,x,v);T85=20;break;case 5:this.USa=w;this.fL=x;T85=3;break;case 3:var y0t="1SI";y0t+="Y";y0t+="b";y0t+="ZrNJC";y0t+="p9";this.c2=y;this.events=new n.EventEmitter();this.Rj=new n.kf();y0t;T85=6;break;case 2:this.Vi=u;this.config=v;T85=5;break;}}}})();b.X8a=t;},94646:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.CV=void 0;t=a(22970);d=a(66164);n=t.__importDefault(a(14282));c=d.platform.Bl.cF;new d.platform.Console("ASEJS_ERROR_MAP","asejs");a=(function(){function f(g){var e,h;this.config=g;this.LG=(e={},e[c.iZc]=f.jg,e[c.UNKNOWN_ERROR]=f.jg,e[c.o2c]=f.jg,e[c.zVb]=f.jg,e[c.I7a]=f.jg,e[c.LVb]=f.jg,e[c.DVb]=f.qI,e[c.OUb]=f.qI,e[c.V6a]=f.Xs,e[c.T6a]=f.Xs,e[c.PUb]=f.uqa,e[c.QUb]=f.Xs,e[c.RUb]=f.Xs,e[c.LUb]=f.jg,e[c.NUb]=f.jg,e[c.U6a]=f.yFb,e[c.MUb]=f.jg,e[c.KUb]=f.Xs,e[c.i_c]=f.qI,e[c.SWb]=f.Xs,e[c.Z9a]=f.Xs,e[c.Y9a]=f.Xs,e[c.QWb]=this.config.ivc?f.qI:f.Xs,e[c.RBa]=f.Xs,e[c.RWb]=f.N3a,e[c.SBa]=f.qI,e[c.Mha]=f.N3a,e[c.TBa]=f.xFb,e[c.b$a]=f.xFb,e[c.a5]=f.qI,e[c.UWb]=f.N3a,e[c.Nha]=f.Xs,e[c.$9a]=f.qI,e[c.TWb]=f.qI,e[c.GVb]=f.qI,e[c.AVb]=f.jg,e[c.P0b]=f.jg,e[c.qVb]=f.jg,e[c.rVb]=f.jg,e[c.sVb]=f.jg,e[c.tVb]=f.jg,e[c.uVb]=f.jg,e[c.vVb]=f.jg,e[c.wVb]=f.jg,e[c.xVb]=f.jg,e[c.yVb]=f.jg,e[c.BVb]=f.jg,e[c.CVb]=f.jg,e[c.EVb]=f.jg,e[c.FVb]=f.jg,e[c.HVb]=f.jg,e[c.IVb]=f.jg,e[c.JVb]=f.jg,e[c.KVb]=f.jg,e[c.MVb]=f.jg,e[c.NVb]=f.jg,e[c.O0b]=f.Xs,e[c.TIMEOUT]=f.yFb,e);this.Ugc=(h={},h[c.V6a]=!0,h[c.Z9a]=!0,h[c.Y9a]=!0,h[c.RBa]=!0,h[c.I7a]=!0,h);this.zxa={};this.K0a={};}f.prototype.fRa=function(g){return this.LG[g];};f.prototype.Uwc=function(g){return !!this.Ugc[g];};f.prototype.MM=function(g,e){var h,k;h=this.config;k=this.fRa(g) || f.jg;this.K0a[e]=k;return h.ZH && g !== c.a5?k === f.jg || k === f.Xs?n.default.BV.oJ:n.default.BV.fa:k !== f.Xs || this.cNc(e)?n.default.BV.fa:n.default.BV.nW;};f.prototype.GN=function(g){delete this.zxa[g];delete this.K0a[g];};f.prototype.K1=function(){this.zxa={};this.K0a={};};f.prototype.cNc=function(g){var e,h,k;e=d.platform.time.ha();h=this.config;k=this.zxa[g];if(k){if(!(k.Nd >= e - h.vfa || k.gI || (k.Nd=e,++k.count,k.count < h.$ba)))return k.gI=!0;}else this.zxa[g]={Nd:e,count:1};};f.yFb=[n.default.hk.iJ,!1];f.xFb=[n.default.hk.iJ,!0];f.jg=[n.default.hk.PO,!1];f.qI=[n.default.hk.PO,!0];f.N3a=[n.default.hk.URL,!0];f.uqa=[-1,!1];f.Xs=[n.default.hk.PO,!1];return f;})();b.CV=a;},16131:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Oab=void 0;d=a(22970);t=a(66164);n=a(94646);c=t.platform.Bl.cF;a=(function(f){function g(e){var h;h=f.call(this,e) || this;h.config=e;h.LG[c.a5]=n.CV.Xs;return h;}d.__extends(g,f);return g;})(n.CV);b.Oab=a;},72681:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.G5a=void 0;d=a(22970);t=a(66164);n=a(90745);c=t.platform.wm;a=(function(f){function g(e){var h;h=f.call(this) || this;h.DM=e;h.qka=e.groupId;h.Rj=new n.kf();h.Rj.on(h,c.qm.K5,h.YD);h.Rj.on(h,c.qm.nJ,h.Mca);return h;}d.__extends(g,f);g.prototype.AGc=function(e,h,k){c.prototype.open.call(this,e,h,k);};g.prototype.gQc=function(e){this.qka=e;};Object.defineProperties(g.prototype,{groupId:{get:function(){return this.qka;},enumerable:!1,configurable:!0}});g.prototype.Se=function(){this.Rj && this.Rj.clear();c.prototype.Se.call(this);};g.prototype.YD=function(e){this.DM.kKc(e.probed,e.affected);this.Se();};g.prototype.Mca=function(e){this.DM.hKc(e.probed,e.affected);this.Se();};return g;})(c);b.G5a=a;},86429:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.xob=b.Cfb=void 0;d=a(66164);n=a(52571);c=a(59458);f=a(72681);new d.platform.Console("ASEJS_PROBE_MANAGER","asejs");t=(function(){function g(e,h,k){this.Vi=e;this.fL=h;this.config=k;this.Hn=new Set();this.tA={};this.EM={};this.iU=!0;this.groupId=1;}g.prototype.jKc=function(e,h){var k,l,m,p,q,r,u,v,w,x;k=this;l=this.config;m=e.dd;p=e.stream;q=e.Ab.location;(0,n.assert)(p,"Failing url should have an associated stream");(0,n.assert)(q,"Failing url should have an associated location");r=[];u=p.Tj[0];v=!1;w=this.tA[m];x=d.platform.time.ha();if(!w)w=this.YQc(m,x,h,e);else if(w.Nd >= x - l.vfa)return;w.gI || (u && q.id === u.id && (e.isPrimary=!0),w.Nd=x,w.gI=!1,w.error=h,++w.count,p && p.urls && 0 !== p.urls.length && (p.urls.forEach(function(y){var A,z,B,C,D;B=y.Ab.id;C=B + "-" + m;D=k.EM[C];if(void 0 === D || void 0 === D.qda)(D && D.hr && clearTimeout(D.hr),y=null === (z=null === (A=e.stream) || void 0 === A?void 0:A.M7) || void 0 === z?void 0:z.YZ(e.L,y.url),(0,n.assert)(y,("Unexpected probeUrl: ").concat(y)),A=k.GNa(y,e,B),k.EM[C]={success:!1,count:0,qda:A.Ei()},r.push(A.Ei()),v=!0);-1 === w.N0a.indexOf(B) && w.N0a.push(B);}),0 < r.length && (l={ts:d.platform.time.ha(),es:h.zmb,fc:h.bh,fn:h.Bub,nc:h.Qg,pb:r,gid:this.groupId},h.xk && (l.hc=h.xk),this.kS(l,"errpb")),v && this.groupId++));};g.prototype.GNa=function(e,h,k){var l,m;l=new f.G5a(this);m="random=" + parseInt(("").concat(1E7 * Math.random()));l.AGc(e + (-1 !== e.indexOf("?")?"&":"?") + m,h,k);return l;};g.prototype.YQc=function(e,h,k,l){var m;m=this.tA[e];l=l.Ab.location;m || (m=this.tA[e]={count:0,Nd:h,gI:!1,error:k,N0a:[],EZa:{},location:l,L:k.L,e8c:k});return m;};g.prototype.getState=function(e){return this.tA[e];};g.prototype.ccc=function(e){this.tA[e]=void 0;};g.prototype.kS=function(e,h){var k;if(this.iU){k={type:"logdata",target:"endplay",fields:{}};k.fields[h]={type:"array",value:e,adjust:["ts"]};this.Vi.rXa(k);}};g.prototype.kKc=function(e,h){var k,l,m,p,q,r,u,v,w,x,y,A,z;k=this;p=this.Vi;q=this.config;r=h.dd;if(h.kJb)p.Q_a(e.dd,!1);else {u=this.tA[r];if(u){v=e.url;w=this.EM[e.dd + "-" + r];if(w){x=u.error;w && w.hr && clearTimeout(w.hr);w.success=!0;w.count=0;w.qda=void 0;u.EZa[e.dd]=!0;w=this.tA[e.dd];if((null === w || void 0 === w?0:w.gI) && q.KP){p.Q_a(e.dd,w.error.Qfa[1]);if(this.iU){y={ts:d.platform.time.ha(),id:e.requestId,servid:h.dd,gid:e.groupId?e.groupId:-1};this.kS(y,"errst");}this.tA[e.dd]=void 0;this.fL();}if(v !== h.url){A=this.EM[r + "-" + r];if(!A || !A.success){r=null === w || void 0 === w?void 0:w.location;q=Math.min((null === (m=null === (l=null === r || void 0 === r?void 0:r.yb) || void 0 === l?void 0:l.jn) || void 0 === m?void 0:m.Fa) || Math.random() * q.W_,q.W_);z=setTimeout(function(){var B;k.Hn.delete(z);if(!(!1 !== u.gI || A && A.success) && (u.gI=!0,p.fI(x.Qfa[0],x.Qfa[1],h.stream.M7.url,x),k.iU)){B={ts:d.platform.time.ha(),id:e.requestId,servid:h.dd,gid:e.groupId?e.groupId:-1};k.kS(B,"erep");}},q);this.Hn.add(z);}}this.iU && (y={ts:d.platform.time.ha(),id:e.requestId,result:1,servid:e.dd,gid:e.groupId?e.groupId:-1},this.kS(y,"pbres"));}}}};g.prototype.hKc=function(e,h){var k,l,m,p,q,r,u,v,w,x,y,A,z;k=this;if(!h.kJb){p=this.Vi;q=this.config;r=h.dd;u=this.tA[r];v=e.dd;w=this.EM[v + "-" + r];if(w)if(u){x=0;w.success=!1;w.qda=void 0;u.EZa[v]=!1;y=u.N0a;if(q.KP && v === r && h.isPrimary){A=u.location;A=(null === (m=null === (l=null === A || void 0 === A?void 0:A.yb) || void 0 === l?void 0:l.jn) || void 0 === m?void 0:m.Fa) || 300 * Math.random();l=(0,b.xob)({j9b:A,gKc:w.count,NCc:q.nca});w.hr=setTimeout(function(){var B;w.hr=void 0;B=k.GNa(e.url,h,v);B.gQc(e.groupId);w.qda=B.Ei();},l);}++w.count;if(v === r && (x=0,y.forEach(function(B){!1 === u.EZa[B] && x++;}),y.length === x && u.count >= q.$ba)){z=u.error;u.gI=!0;q=h.stream;(0,n.assert)(q,"Probe failed url should have an associated stream");q.urls.forEach(function(B){p.fI(z.Qfa[0],z.Qfa[1],B.url,z);k.iU && (B={ts:d.platform.time.ha(),id:-1,servid:B.Ab.id},k.kS(B,"erep"));});}this.iU && (q={ts:d.platform.time.ha(),id:e.requestId,result:0,servid:e.dd,gid:e.groupId?e.groupId:-1},this.kS(q,"pbres"));}else w && (w.success=!1,w.qda=void 0);}};g.prototype.GN=function(e){var h,k,l;if(e.url){k=this.Vi;l=k.J0a(e.url);l || (l=null === (h=this.Vi.Opa(e.stream)[0]) || void 0 === h?void 0:h.id);l && (e=this.tA[l]) && e.gI && this.config.KP && (k.Q_a(e.error.zmb,!1),this.iU && (k={ts:d.platform.time.ha(),id:-1,servid:l},this.kS(k,"errst")),this.ccc(l),(l=this.EM[l + "-" + l]) && l.hr && clearTimeout(l.hr));}};g.prototype.reset=function(){var e,h,k;e=this.EM;for(k in e)e.hasOwnProperty(k) && (h=e[k + "-" + k]) && h.hr && clearTimeout(h.hr);this.Hn.forEach(function(l){return clearTimeout(l);});this.Hn.clear();this.EM={};this.tA={};};return g;})();b.Cfb=t;b.xob=function(g){var e,h;e=g.Jad;h=g.K$c;h=void 0 === h?.1:h;g=Math.min(Math.max(g.NCc,g.j9b * Math.pow(2,g.gKc)),void 0 === e?12E4:e);e=(0,c.QJb)(0,g * h);return g + e;};},52045:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.usc=function(c,f){if((c=c.pa.K.Ly) && 0 !== c.length)return (0,d.cc)(c,function(g){return g.qa.G <= f && f < g.ta.G;});};b.ixc=function(c,f){return f.index === c.Cc.index?!0:(c=c.pa.K.Ly) && 0 !== c.length?c.some(function(g){g=g.qa;return f.qa.ln(g) && g.lessThan(f.ta);}):!1;};b.q$c=function(c,f){return f.index === c.zc.index?!0:(c=c.pa.K.Ly) && 0 !== c.length?c.some(function(g){g=g.ta;return f.qa.lessThan(g) && g.ln(f.ta);}):!1;};b.Bjc=function(c,f,g,e){var h,k,l,m,p,q,r,u,v,w;n && c.trace("editFragmentForRegion, region:",g,"fragment:",f,"params:",e);r=null === (h=f.na) || void 0 === h?void 0:h.start;h=null === (k=f.na) || void 0 === k?void 0:k.end;v=k=!1;if((null === e || void 0 === e?0:e.zxc) || (null === e || void 0 === e || !e.gxc) && f.qa.lessThan(g.qa)){if(u=f.WPa(g.qa.G)){w=(null !== (m=null === (l=f.na) || void 0 === l?void 0:l.start) && void 0 !== m?m:0) + u.rl;n && c.trace("editFragmentForRegion found sap at start:",u,"adjusted sampleIndex:",w);r=Math.max(null !== r && void 0 !== r?r:0,w);}u=g.qa.G;k=!0;}if((null === e || void 0 === e || !e.sxc) && f.ta.greaterThan(g.ta)){if(u=f.WPa(g.ta.G))(w=(null !== (q=null === (p=f.na) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + u.rl,n && c.trace("editFragmentForRegion found sap at end:",u,"adjusted sampleIndex:",w),h=Math.min(null !== h && void 0 !== h?h:Infinity,w),f.u0=f.index,n && c.trace("editFragmentForRegion editing end of region, reusing index:",f.index));u=g.ta.G;v=!0;}if(void 0 !== r || void 0 !== h)(f.yh({start:r,end:h}),n && c.trace("getFragmentForRequest setting edit window:",{start:r,end:h}));void 0 !== u && (!f.Pu || u > f.Pu) && (f.h2(u),n && c.trace("getFragmentForRequest setting splice pts:",u));f.CQc(g.region,k,v);};d=a(91176);n=!1;},47317:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Fga=void 0;d=a(22970);n=a(77399);t=(function(){function c(f,g){this.vo=f;this.filter=g;this.YDb=Math.max(f.max_n || 10,0);this.reset();}c.prototype.reset=function(){this.Fda=[];this.offset=0;this.JE=this.pN=null;this.filter.reset();this.Cfa=null;};c.prototype.add=function(f,g,e){var h;h=this.JE;null !== h && e > h && (this.offset+=Math.max(g - h,0),this.JE=null);for((0,n.nwc)(this.Fda,[g - this.offset,e - this.offset,f]);this.Fda && this.Fda.length > this.YDb;)(f=d.__read(this.Fda.shift(),3),this.filter.add(f[2],f[0],f[1]));this.Cfa=null;};c.prototype.get=function(f,g){var e,l;if(!this.Cfa){this.Cfa=this.filter.Wt();try{for(var h=d.__values(this.Fda),k=h.next();!k.done;k=h.next()){l=d.__read(k.value,3);this.Cfa.add(l[2],l[0],l[1]);}}catch(p){var m;m={error:p};}finally{try{k && !k.done && (e=h.return) && e.call(h);}finally{if(m)throw m.error;}}}m=this.JE;return this.Cfa.get((null === m?f:m) - this.offset,g);};c.prototype.Wt=function(){var f;f=new c(this.vo,this.filter.Wt());f.JE=this.JE;f.offset=this.offset;return f;};c.prototype.start=function(f){var g;g=this.JE;null !== g && f > g && (this.offset+=f - g,this.JE=null);this.filter.start(f - this.offset);};c.prototype.stop=function(f){this.JE=null === this.JE?f:Math.min(this.JE,f);this.filter.stop(f - this.offset);};c.prototype.flush=function(){this.filter.flush();};c.prototype.toString=function(){return "AggregatingFilter(" + this.YDb + ", " + this.filter.toString() + ")";};return c;})();b.Fga=t;},43276:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.XN=void 0;t=(function(){var C9D;C9D=2;function a(){var m0U;m0U=2;for(;m0U !== 3;){switch(m0U){case 2:var I$z="1";I$z+="SIYb";I$z+="ZrNJCp9";this.active=!1;this.AT=this.ma=0;this.vK=this.vY=void 0;I$z;m0U=3;break;}}}for(;C9D !== 9;){switch(C9D){case 4:a.prototype.get=function(){var F_8;F_8=2;for(;F_8 !== 1;){switch(F_8){case 2:return {Fa:this.AT?Math.floor(8 * this.ma / this.AT):null,FOa:this.AT || 0};break;}}};return a;break;case 2:a.prototype.start=function(d){var U57;U57=2;for(;U57 !== 5;){switch(U57){case 2:this.active=!0;this.vY?d < this.vY?(this.AT+=this.vY - d,this.vY=d):this.vK && d > this.vK && (this.vK=this.vY=d):this.vK=this.vY=d;U57=5;break;}}};a.prototype.stop=function(d){var y_h;y_h=2;for(;y_h !== 1;){switch(y_h){case 2:this.active && (this.active=!1,this.vK && d > this.vK && (this.AT+=d - this.vK,this.vK=d));y_h=1;break;}}};a.prototype.add=function(d,n,c){var F0l;F0l=2;for(;F0l !== 4;){switch(F0l){case 2:this.start(n);this.stop(c);this.ma+=d;F0l=4;break;}}};C9D=4;break;}}})();b.XN=t;},78416:function(t,b,a){var n,c;function d(f){this.Bb={Xba:f.maxc || 25,YMa:f.c || .5,fC:f.w || 15E3,gj:f.b || 5E3};n.call(this,this.Bb.fC,this.Bb.gj);this.c7();}n=a(72697).g4;c=a(15913).TDigest;d.prototype=Object.create(n.prototype);d.prototype.shift=function(){var f;f=this.Pq(0);n.prototype.shift.call(this);null !== f && (this.Gg.push(f,1),this.OJ=!0);return f;};d.prototype.flush=function(){var f;f=this.get();this.Gg.push(f,1);this.OJ=!0;n.prototype.reset.call(this);return f;};d.prototype.get=function(){return this.xyb();};d.prototype.RZ=function(){var f;f=this.xyb();return {min:f.min,p10:f.qYa,p25:f.vw,p50:f.Ks,p75:f.ww,p90:f.rYa,max:f.max,centroidSize:f.Uac,sampleSize:f.sampleSize,centroids:f.Rm};};d.prototype.xyb=function(){var f;if(0 === this.Gg.size())return null;f=this.Gg.Fk([0,.1,.25,.5,.75,.9,1]);if(f[2] === f[4])return null;if(this.OJ || !this.de)(this.OJ=!1,this.de={min:f[0],qYa:f[1],vw:f[2],Ks:f[3],ww:f[4],rYa:f[5],max:f[6],Fk:this.Gg.Fk.bind(this.Gg),Uac:this.Gg.size(),sampleSize:this.Gg.n,Rm:this.npc(),RZ:this.RZ.bind(this)});return this.de;};d.prototype.npc=function(){var f;if(0 === this.Gg.size())return null;if(!this.OJ && this.de)return this.de.centroids;f=this.Gg.Fk([.25,.75]);if(f[0] === f[1])return null;this.Gg.size() > this.Bb.Xba && this.Gg.ap();f=this.Gg.xj(!1).map(function(g){return {mean:g.Fh,n:g.n};});return JSON.stringify(f);};d.prototype.uSa=function(){return this.Gg.summary();};d.prototype.size=function(){return this.Gg.size();};d.prototype.toString=function(){return "btdtput(" + this.p5b + "," + this.h2b + "," + this.o5b + "): " + this.Gg.summary();};d.prototype.c7=function(){this.Gg=new c(this.Bb.YMa,this.Bb.Xba);};t.exports={xUb:d};},20596:function(t,b,a){var n,c;function d(f,g,e,h){n.call(this,e,h);this.DC=new c(f);this.Q3b=g;}n=a(72697).g4;c=a(16514);d.prototype=Object.create(n.prototype);d.prototype.shift=function(){var f;f=this.Pq(0);n.prototype.shift.call(this);null !== f && this.DC.mla(f);return f;};d.prototype.flush=function(){var f;f=this.get();this.DC.mla(f);n.prototype.reset.call(this);return f;};d.prototype.get=function(){var f;f=this.R$();return {sampleSize:this.Z$(),MYa:f,mta:f.Ks?(f.ww - f.vw) / f.Ks:void 0};};d.prototype.Z$=function(){return this.DC.Z$();};d.prototype.R$=function(){return this.DC.Z$() < this.Q3b?{vw:void 0,Ks:void 0,ww:void 0,sampleSize:void 0,Fk:void 0}:{vw:this.DC.p8(25),Ks:this.DC.p8(50),ww:this.DC.p8(75),sampleSize:this.DC.Z$(),Fk:this.DC.p8.bind(this.DC)};};d.prototype.toString=function(){return "biqr(" + this.p5b + "," + this.h2b + "," + this.o5b + ")";};t.exports={wUb:d};},56089:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.a7a=void 0;d=a(22970);n=a(43276);t=(function(){var L8l;function c(){var p8D;p8D=2;for(;p8D !== 5;){switch(p8D){case 2:var z6l="1SIYbZrN";z6l+="JCp";z6l+="9";this.y1={};z6l;p8D=5;break;}}}L8l=2;for(;L8l !== 8;){switch(L8l){case 2:var H$J="no-pbc";H$J+="id-";H$J+="ke";H$J+="y";c.prototype.add=function(f,g,e,h,k){var N$F,l;N$F=2;for(;N$F !== 9;){switch(N$F){case 2:l=this.y1;N$F=1;break;case 7:l=this.y1;N$F=2;break;case 1:k=k || c.nta;void 0 === l[h] && (l[h]={});void 0 === l[h][k] && (l[h][k]=new n.XN());l[h][k].add(f,g,e);N$F=9;break;}}};c.prototype.start=function(f,g,e){var r5E,h;r5E=2;for(;r5E !== 9;){switch(r5E){case 7:h=this.y1;r5E=7;break;case 2:h=this.y1;r5E=1;break;case 1:e=e || c.nta;void 0 === h[g] && (h[g]={});void 0 === h[g][e] && (h[g][e]=new n.XN());h[g][e].start(f);r5E=9;break;}}};c.prototype.stop=function(f,g,e){var x00,h;x00=2;for(;x00 !== 4;){switch(x00){case 2:h=this.y1;e=e || c.nta;void 0 !== h[g] && void 0 !== h[g][e] && h[g][e].stop(f);x00=4;break;}}};c.prototype.get=function(){var M9_,g,e,h,k,l,l7U,m,p,Q1E,z_S,h3e;M9_=2;function f(r){var n6F;n6F=2;for(;n6F !== 1;){switch(n6F){case 2:Object.keys(l.y1[r]).forEach(function(u){var g5o,v;g5o=2;for(;g5o !== 5;){switch(g5o){case 2:v=e.y1[r][u].get();v && k.push({cdnid:r,pbcid:u === c.nta?null:u,avtp:v.Fa,tm:v.FOa});g5o=5;break;}}});n6F=1;break;}}}for(;M9_ !== 4;){switch(M9_){case 2:(e=this,h=Object.keys(this.y1).map(function(r){var h$H;h$H=2;for(;h$H !== 1;){switch(h$H){case 2:return parseInt(r);break;}}}),k=[],l=this);try{l7U=2;for(;l7U !== 3;){switch(l7U){case 7:l7U=-p.done?7:2;break;case 14:p=m.next();l7U=0;break;case 1:l7U=!p.done?5:3;break;case 4:p=m.next();l7U=1;break;case 5:f(p.value);l7U=4;break;case 2:(m=d.__values(h),p=m.next());l7U=1;break;case 6:f(p.value);l7U=0;break;}}}catch(r){var q;q={error:r};}finally{Q1E=2;for(;Q1E !== 1;){switch(Q1E){case 2:try{z_S=2;for(;z_S !== 1;){switch(z_S){case 2:p && !p.done && (g=m.return) && g.call(m);z_S=1;break;}}}finally{h3e=2;for(;h3e !== 5;){switch(h3e){case 2:h3e=q?1:5;break;case 1:throw q.error;h3e=5;break;case 9:throw q.error;h3e=0;break;}}}Q1E=1;break;}}}return k;break;}}};c.nta=H$J;return c;break;}}})();b.a7a=t;},71409:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.n7a=void 0;d=a(22970);t=a(66164);n=a(15913);new t.platform.Console("ASEJS_TDIGEST_FILTER","media|asejs");a=(function(){function c(f){this.config=f;this.$Ma=f.c;this.rWa=f.Uad;this.Eba=f.Eba;this.paa=f.paa;this.Iqa=f.Iqa;this.mRc=f.c7c;this.GA=f.GA;this.XDb=f.XDb;this.reset();}c.prototype.reset=function(){this.vl=new n.TDigest(this.$Ma,this.rWa);this.time=null;};c.prototype.add=function(f,g,e){var h,k,l,q;e=Math.max(e - g,1);f=8 * f / e;if(this.mRc){null === this.time && (this.time=g);k=Math.pow(2,(g - this.time) / this.GA);l=e * k;if(k >= this.XDb){l=new n.TDigest(this.$Ma,this.rWa);try{for(var m=d.__values(this.vl.xj()),p=m.next();!p.done;p=m.next()){q=p.value;l.push(q.Fh,q.n / k);}}catch(u){var r;r={error:u};}finally{try{p && !p.done && (h=m.return) && h.call(m);}finally{if(r)throw r.error;}}this.vl=l;l=e;this.time=g;}this.vl.push(f,l);}else this.vl.push(f,e);};c.prototype.get=function(){var f;f=this.vl.Fk([this.Eba,this.paa,this.Iqa]);return {low:f[0] || 0,high:f[1] || 0,initial:f[2] || 0};};c.prototype.Wt=function(){var f,g,e,l;g=new c(this.config);e=new n.TDigest(this.$Ma,this.rWa);try{for(var h=d.__values(this.vl.xj()),k=h.next();!k.done;k=h.next()){l=k.value;e.push(l.Fh,l.n);}}catch(p){var m;m={error:p};}finally{try{k && !k.done && (f=h.return) && f.call(h);}finally{if(m)throw m.error;}}g.vl=e;return g;};c.prototype.flush=function(){};c.prototype.start=function(){};c.prototype.stop=function(){};return c;})();b.n7a=a;},8239:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.X7a=b.UVb=b.W7a=b.vWb=b.VVb=void 0;d=a(22970);n=a(51117);a=(function(){return function(){};})();b.VVb=a;c=(function(){function f(g,e,h,k,l){this.alpha=g;this.Fa=e;this.weight=k;this.TGa=h * this.weight;this.Dfa=l;}f.prototype.Wt=function(){return new f(this.alpha,this.Fa,this.ng,this.weight,this.Dfa);};Object.defineProperties(f.prototype,{ng:{get:function(){return this.weight?this.TGa / this.weight:0;},enumerable:!1,configurable:!0}});f.prototype.update=function(g,e,h){var k,l,m,p;k=this.alpha;l=this.weight;m=this.Dfa;p=k * (g - m);5 < p && (this.weight/=Math.exp(p),this.Dfa=m=g);g=Math.exp(k * (e - m)) - Math.exp(k * (g - m));e=this.weight+=g;k=this.Fa;this.Fa=m=k + g * (h - k) / e;this.TGa=l?this.TGa * (e - g) / l + g * (h - m) * (h - k):0;};return f;})();b.vWb=c;t=(function(){var E10;E10=2;function f(g){var V9f,e,h;V9f=2;for(;V9f !== 7;){switch(V9f){case 4:this.GA=g.hl;this.MEb=e;this.SCc=h;this.reset();V9f=7;break;case 2:var p4M="1";p4M+="SIYb";p4M+="Z";p4M+="rN";p4M+="JCp9";this.vo=g;p4M;(e=g.min_b,h=g.min_iv);V9f=4;break;}}}for(;E10 !== 14;){switch(E10){case 3:f.prototype.get=function(g,e){var Y9B=r2gzX;var y6z,h,k,l,m,p,q,u,v,r;y6z=2;for(;y6z !== 16;){switch(y6z){case 2:(h=this.bz || 0,k=this.pN || 0,l=g - k,m=this.SCc,p=this.pU,q=this.qU);y6z=1;break;case 20:g=p.weight;y6z=19;break;case 1:y6z=0 < l?5:17;break;case 6:l=Math.max(l,m);y6z=14;break;case 13:Y9B.u5O(0);q.update(Y9B.g4d(h,k),Y9B.g4d(h,g),0);y6z=20;break;case 17:(p=this.pU,q=this.qU);y6z=20;break;case 12:(u=new n.Wha(m,r).Nac(l),v=m - u[1]);Y9B.t$V(1);var V27=Y9B.l2Z(10,2,29,16,0);u=V27 - u[0];y6z=10;break;case 5:y6z=(p=new c(p.alpha,p.Fa,p.ng,p.weight,p.Dfa),q=new c(q.alpha,q.Fa,q.ng,q.weight,q.Dfa),0 < p.weight && 0 !== e)?4:20;break;case 4:void 0 === e && (e=this.MEb);l >= m && (e=Math.min(e,this.MEb));m=e * p.Fa;Y9B.t$V(2);var W_l=Y9B.l2Z(28,5,5,7);r=Math.pow(e,W_l) * p.ng;y6z=7;break;case 7:y6z=0 === r?6:12;break;case 10:l=1E-11 < u?Math.max(v / u,l):l + 2 * r / m;y6z=14;break;case 14:Y9B.u5O(0);p.update(Y9B.l2Z(h,k),Y9B.g4d(h,g,Y9B.t$V(0)),Y9B.g4d(l,e,Y9B.t$V(3)));y6z=13;break;case 19:e=q.weight;return {Fa:g?p.Fa:null,ng:g?p.ng:null,GX:e?q.Fa:null,h3:e?q.ng:null};break;}}};f.prototype.toString=function(){var R$H;R$H=2;for(;R$H !== 1;){switch(R$H){case 4:var A5F="Deliv";A5F+="e";A5F+="r";A5F+="yD";A5F+="ist(";var W3J="Deli";W3J+="v";W3J+="ery";W3J+="Dist(";return W3J.concat(this.GA,A5F);break;case 2:var k$6="Del";k$6+="i";k$6+="veryD";k$6+="ist(";return k$6.concat(this.GA,")");break;}}};f.prototype.stop=function(){};E10=7;break;case 2:f.prototype.Wt=function(g){var k83;k83=2;for(;k83 !== 8;){switch(k83){case 2:g || (g=new f(this.vo));g.bz=this.bz;g.pN=this.pN;g.pU=this.pU.Wt();g.qU=this.qU.Wt();return g;break;}}};f.prototype.reset=function(){var R8i,g;R8i=2;for(;R8i !== 3;){switch(R8i){case 2:g=-Math.log(.5) / this.GA;this.pU=new c(g,0,0,0,0);this.qU=new c(g,0,0,0,0);this.bz=this.pN=null;R8i=3;break;}}};f.prototype.start=function(g){var V4T;V4T=2;for(;V4T !== 1;){switch(V4T){case 2:null === this.bz && (this.bz=g);V4T=1;break;}}};f.prototype.add=function(g,e,h){var v$8=r2gzX;var n5t,k;n5t=2;for(;n5t !== 7;){switch(n5t){case 2:k=this.bz;this.bz=null === k?e:Math.min(k,e);k=this.pN;this.pN=null === k?h:Math.max(k,h);n5t=3;break;case 3:v$8.t$V(0);k=Math.max(v$8.l2Z(e,h),1);n5t=9;break;case 9:v$8.t$V(3);this.pU.update(e,h,v$8.l2Z(k,g));v$8.t$V(4);this.qU.update(e,h,v$8.g4d(k,8,g));n5t=7;break;}}};E10=3;break;case 7:f.prototype.flush=function(){};return f;break;}}})();b.W7a=t;a=(function(f){function g(){return null !== f && f.apply(this,arguments) || this;}d.__extends(g,f);return g;})(a);b.UVb=a;t=(function(f){function g(e){var h;h=f.call(this,e) || this;h.vo=e;return h;}d.__extends(g,f);g.prototype.get=function(){var e,h,k;if(0 === this.pU.weight || 0 === this.qU.weight)return {low:null,high:null,initial:null};switch(this.vo.h0){case "deliverytime":e=this.pU;e=new n.Wha(e.Fa,e.ng);(h=this.vo.accuracy,k=this.vo.KBc);return {low:8 / e.mT(this.vo.paa,h,k),high:8 / e.mT(this.vo.Eba,h,k),initial:8 / e.mT(this.vo.Iqa,h,k)};default:return (e=this.qU,e=new n.Wha(e.Fa,e.ng),h=this.vo.accuracy,k=this.vo.KBc,{low:e.mT(this.vo.Eba,h,k),high:e.mT(this.vo.paa,h,k),initial:e.mT(this.vo.Iqa,h,k)});}};g.prototype.Wt=function(){var e;e=new g(this.vo);f.prototype.Wt.call(this,e);return e;};g.prototype.toString=function(){return ("DeliveryDistCI([").concat((this.vo.Eba,this.vo.paa),"])");};return g;})(t);b.X7a=t;},28855:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.HAa=b.cVb=b.e8a=void 0;d=a(22970).__importDefault(a(17267));t=(function(){function c(f,g){void 0 === g && (g=0);this.initial=g;this.reset();this.xQc(f);}c.prototype.xQc=function(f){this.alpha=Math.pow(.5,1 / f);this.GA=f;};c.prototype.reset=function(f){f && void 0 !== f.Fa && d.default.pc(f.Fa)?(this.count=this.initial,this.Fa=f.Fa,f.ng && d.default.pc(f.ng)?this.kK=f.ng + f.Fa * f.Fa:this.kK=f.Fa * f.Fa):this.kK=this.Fa=this.count=0;};c.prototype.add=function(f){var g;if(d.default.pc(f)){this.count++;g=this.alpha;this.Fa=g * this.Fa + (1 - g) * f;this.kK=g * this.kK + (1 - g) * f * f;}};c.prototype.dSa=function(){var f,g;if(0 === this.count)return {Fa:0,ng:0};f=1 - Math.pow(this.alpha,this.count);g=this.Fa / f;return {Fa:g,ng:Math.max(this.kK / f - g * g,0)};};c.prototype.get=function(){var f;f=this.dSa();return {Fa:Math.floor(f.Fa),ng:Math.floor(f.ng)};};c.prototype.getState=function(){return 0 === this.count?null:{a:Number(this.Fa.toPrecision(6)),s:Number(this.kK.toPrecision(6)),n:this.count};};c.prototype.$i=function(f){if(d.default.sd(f) || !d.default.has(f,"a") || !d.default.has(f,"s") || !d.default.isFinite(f.a) || !d.default.isFinite(f.s))return (this.kK=this.Fa=this.count=0,!1);this.Fa=f.a;this.kK=f.s;d.default.has(f,"n") && d.default.pc(f.n)?this.count=f.n:this.count=16 * this.GA;return !0;};return c;})();b.e8a=t;n=(function(){function c(f){this.setInterval(f);this.reset();}c.prototype.setInterval=function(f){this.GA=f;this.alpha=-Math.log(.5) / f;};c.prototype.reset=function(f){this.HD=this.startTime=null;this.Fa=f && d.default.isFinite(f.Fa)?f.Fa:0;};c.prototype.start=function(f){d.default.sd(this.startTime) && (this.startTime=f);d.default.sd(this.HD) && (this.HD=f);};c.prototype.add=function(f,g,e){var h,k,l;d.default.sd(this.startTime) && (this.startTime=g);d.default.sd(this.HD) && (this.HD=g);this.startTime=Math.min(this.startTime,g);g=Math.max(e - g,1);h=this.alpha;k=Math.max(e,this.HD);l=k - this.HD;e=k - e;this.Fa=this.Fa * (0 < l?Math.exp(-h * l):1) + 8 * f / g * (1 - Math.exp(-h * g)) * (0 < e?Math.exp(-h * e):1);this.HD=k;};c.prototype.get=function(f){var g,e;g=d.default.sd(this.HD)?0:this.HD;e=d.default.sd(this.startTime)?0:this.startTime;f=Math.max(f,g);g=this.Fa * Math.exp(-this.alpha * (f - g));f=1 - Math.exp(-this.alpha * (f - e));0 < f && (g/=f);return {Fa:Math.floor(g),ng:0};};c.prototype.toString=function(){return "ewma(" + this.GA + ")";};Object.defineProperties(c.prototype,{time:{get:function(){return this.HD;},enumerable:!1,configurable:!0}});return c;})();b.cVb=n;t=(function(){function c(f){this.TQ=new n(f);this.offset=0;this.jt=null;}c.prototype.setInterval=function(f){this.TQ.setInterval(f);};c.prototype.reset=function(f){this.TQ.reset(f);this.offset=0;this.jt=null;};c.prototype.start=function(f){!d.default.sd(this.jt) && f > this.jt && (this.offset+=f - this.jt,this.jt=null);this.TQ.start(f - this.offset);};c.prototype.add=function(f,g,e){!d.default.sd(this.jt) && e > this.jt && (this.offset+=g > this.jt?g - this.jt:0,this.jt=null);this.TQ.add(f,g - this.offset,e - this.offset);};c.prototype.stop=function(f){var g;g=this.TQ.time;this.jt=Math.max(d.default.sd(g)?0:g + this.offset,d.default.sd(this.jt)?f:Math.min(this.jt,f));};c.prototype.get=function(f){return this.TQ.get((this.jt?this.jt:f) - this.offset);};c.prototype.toString=function(){return this.TQ.toString();};return c;})();b.HAa=t;},97315:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w;function d(x,y){switch(x.type){case "slidingwindow":return new u.KO(y,new h.d8a(x.mw));case "discontiguous-ewma":return new u.KO(y,new e.HAa(x.mw));case "initial-discontiguous-ewma":return new q.Ueb(new e.HAa(x.mw),x.playerStates);case "wssl":return new h.ajb(x.mw,x.max_n);case "iqr":return new l.wUb(x.mx,x.mn,x.bw,x.iv);case "tdigest":return new m.xUb(x);case "ci":return new u.KO(y,new r.Fga(x,new v.n7a(x)));case "discrete-ewma":return new e.e8a(x.hl);case "tdigest-history":return new c.Ghb(x);case "iqr-history":return new f.default();case "avtp":return new w.XN();case "entropy":return new p.Rcb(x);case "deliverytime":return new u.KO(y,new r.Fga(x,new k.W7a(x)));case "deliverytime-ci":return new u.KO(y,new r.Fga(x,new k.X7a(x)));}}Object.defineProperties(b,{__esModule:{value:!0}});b.xBa=void 0;n=a(22970);c=a(88318);f=n.__importDefault(a(21506));g=a(54520);e=a(28855);h=a(34391);k=a(8239);l=a(20596);m=a(78416);p=a(72869);q=a(82583);r=a(47317);u=a(66917);v=a(71409);w=a(43276);t=(function(){function x(y){this.config=y;this.G2b=y.Cjb;}x.prototype.create=function(y,A){A=A[y];A=n.__assign(n.__assign({},this.G2b[y]),A);y=A.type;if(!y)return {type:"none"};A=d(A,this.config);return (0,g.B0)(A,{type:y});};return x;})();b.xBa=t;},96965:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Qcb=void 0;t=a(66164);d=a(65161);new t.platform.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function n(c,f){this.config=c;this.Pta=f;this.Qw=this.wK=this.ma=0;this.reset();}Object.defineProperties(n.prototype,{duration:{get:function(){return this.wK + this.Qw;},enumerable:!1,configurable:!0}});n.prototype.reset=function(){this.confidence=d.IO.HAVE_NOTHING;this.ma=0;this.startTime=void 0;this.Qw=this.wK=0;};n.prototype.Wt=function(){var c;c=new n(this.config,this.Pta);c.confidence=this.confidence;c.ma=this.ma;c.startTime=this.startTime;c.wK=this.wK;c.Qw=this.Qw;return c;};n.prototype.add=function(c,f,g){void 0 === this.startTime && (this.startTime=f);this.ma+=c;this.wK=Math.max(g - this.startTime,this.wK);this.confidence=Math.max(this.confidence,d.IO.HV);this.confidence < d.IO.GV && (this.duration > this.config.Psa || this.ma > this.config.Osa) && (this.confidence=d.IO.GV);this.confidence < d.IO.p4 && (this.duration > this.config.hva || this.ma > this.config.gva) && (this.confidence=d.IO.p4,this.Pta());};n.prototype.get=function(){return this.confidence;};n.prototype.start=function(){};n.prototype.stop=function(){this.config.TSc && (this.Qw+=this.wK,this.wK=0,this.startTime=void 0);};n.prototype.flush=function(){};return n;})();b.Qcb=a;},72869:function(t,b,a){var n,c,f,g,e,h;function d(k){k=k.length + 1;for(var l=Array(k),m=0;m < k;m++){l[m]=Array(k);for(var p=0;p < k;p++)l[m][p]=0;}return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.Rcb=void 0;n=a(22970);t=a(66164);c=a(72697);f=a(94451);g=a(51044);e=a(48170);h=new t.platform.Console("ASEJS_NETWORK_ENTROPY","media|asejs");a=(function(k){function l(m){var p;p=k.call(this,m.sw,m.mw) || this;p.fC=m.sw;p.gj=m.mw;p.g8={uhd:(0,g.writable)(m.uhdl),hd:(0,g.writable)(m.hdl)};p.window=Math.max(Math.ceil(1 * p.fC / p.gj),1);p.TCc=m.mins || 1;p.reset();return p;}n.__extends(l,k);l.prototype.flush=function(){var m;m=this;this.Xg.map(function(p,q){m.lmb(p,m.GQa(q));});};l.prototype.J$b=function(){var m,p,q,r,u,v,w,z;m=this.g8;for(p in m){e.l && h.trace(("Calculating Network Entropy based on ").concat(p," bitrate ladder (").concat(JSON.stringify(m[p]),")"));q=m[p];r=this.vQb[p];u=this.tQb[p];if(r.first){v=r.first;w=r.Ky;void 0 !== w && (u[v][w]+=1);r.first=void 0;}e.l && h.trace(("Transition Matrix: ").concat(this.tjc(u)));r=[];v=q=q.length + 1;for(var x=w=0;x < v;x++){for(var y=0,A=0;A < q;A++)y+=u[A][x];w+=y;r.push(y);}e.l && h.trace(("steadyStateVector: ").concat(JSON.stringify(r)));y=-1;if(w > this.TCc){for(x=y=0;x < v;x++)if(0 < r[x])for(A=0;A < q;A++){z=u[A][x];0 < z && (y-=z * Math.log(1 * z / r[x]));}y/=w * Math.log(2);}e.l && h.trace(("entropy: ").concat(y));this.Ttb[p]=y;}return this.Ttb;};l.prototype.lmb=function(m,p){var u,v,w;for(var q=this.window,r=this.g8;this.Ona.length >= q;)this.Ona.shift();for(;this.Pna.length >= q;)this.Pna.shift();this.Ona.push(m);this.Pna.push(p);m=(0,f.n2a)(this.Ona);p=(0,f.n2a)(this.Pna);if(0 < p)for(p in (m=8 * m / p,e.l && h.trace(("Adding sliding window throughput into Transition Matrix: ").concat(m)),p=void 0,r)){q=this.vQb[p];u=this.tQb[p];v=this.dLc(m,r[p]);w=q.Ky;void 0 !== w?u[v][w]+=1:q.first=v;q.Ky=v;}};l.prototype.dLc=function(m,p){for(var q=0;q < p.length && m > p[q];)q+=1;return q;};l.prototype.shift=function(){this.lmb(this.Xg[0],this.GQa(0));k.prototype.shift.call(this);};l.prototype.reset=function(){this.Ona=[];this.Pna=[];void 0 !== this.g8 && (this.Ttb={hd:0,uhd:0},this.vQb={hd:{first:void 0,Ky:void 0},uhd:{first:void 0,Ky:void 0}},this.tQb={hd:d(this.g8.hd),uhd:d(this.g8.uhd)},k.prototype.reset.call(this));};l.prototype.tjc=function(m){for(var p="",q=m.length,r=0;r < q;r++){for(var u=0;u < q;u++)p+=" " + m[r][u];p+="\n";}return p;};return l;})(c.g4);b.Rcb=a;},66917:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.KO=void 0;new (a(66164).platform.Console)("ASEJS_PACING_FILTER","media|asejs");t=(function(){function d(n,c){this.config=n;this.filter=c;}d.prototype.Wt=function(){return new d(this.config,this.filter);};d.prototype.sRc=function(n,c,f,g){var e,h,k;k=g.PM;if(!k || !k.gra())return !0;switch(this.config.Cvc){case "requested":return !1;case "requested-low":return (k=k.h0a(this.config.SOa),k.SEb() > ((null === (e=g.Sy) || void 0 === e?void 0:e.yM) || 0));case "inferred":k=k.h0a(this.config.SOa);n=k.nWa(n,c,f,this.config.Tca);if(!n)break;return k.SEb() > ((null === (h=g.Sy) || void 0 === h?void 0:h.yM) || 0);case "inferred-strict":if((k=k.h0a(this.config.SOa),k.nWa(n,c,f,this.config.Tca)))return !1;}return !0;};d.prototype.add=function(n,c,f,g){this.sRc(n,c,f,g) && this.filter.add(n,c,f,g);};d.prototype.get=function(n){if(this.filter.get)return this.filter.get(n);};d.prototype.start=function(n){this.filter.start && this.filter.start(n);};d.prototype.stop=function(n){this.filter.stop && this.filter.stop(n);};d.prototype.flush=function(){this.filter.flush && this.filter.flush();};d.prototype.reset=function(n){this.filter.reset && this.filter.reset(n);};return d;})();b.KO=t;},82583:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ueb=void 0;t=(function(){function a(d,n){this.Im=0;this.filter=d;this.Mua=n;this.Im=0;}a.prototype.Sba=function(d){return 0 < this.Mua.filter(function(n){var c;return n === (null === (c=d.Sy) || void 0 === c?void 0:c.xh);}).length;};a.prototype.add=function(d,n,c,f){this.Sba(f) && this.filter.add(d,n,c,f);};a.prototype.start=function(d,n){this.filter.start && this.Sba(n) && this.filter.start(d);};a.prototype.stop=function(d,n){this.filter.stop && this.Sba(n) && this.filter.stop(d);};a.prototype.get=function(d){if(this.filter.get)return this.filter.get(d);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.Im=0;this.filter.reset && this.filter.reset();};a.prototype.uE=function(d,n){this.Sba(n) && (this.Im+=1,this.filter.uE && this.filter.uE(d,n));};a.prototype.vE=function(d,n,c){this.Sba(c) && (this.Im=Math.max(this.Im - 1,0),0 === this.Im && this.stop(d,c),this.filter.vE && this.filter.vE(d,c));};return a;})();b.Ueb=t;},34391:function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.ajb=b.d8a=b.bVb=void 0;a=(function(){function d(n){this.fC=n;this.reset();}d.prototype.Hkb=function(n,c){this.maa() && (this.Qp+=n,this.ah+=n,this.ma+=c,this.gg.push({ma:c,ah:n}));};d.prototype.U6=function(){var n;for(;this.ah > this.fC;){n=this.gg.shift();this.ma-=n.ma;this.ah-=n.ah;}};d.prototype.maa=function(){return !isNaN(this.Qp);};d.prototype.reset=function(){this.gg=[];this.Qp=NaN;this.ah=this.ma=0;};d.prototype.setInterval=function(n){this.fC=n;this.U6();};d.prototype.start=function(n){this.maa() || (this.Qp=n);};d.prototype.add=function(n,c,f){this.maa() || (this.Qp=c);c > this.Qp && this.Hkb(c - this.Qp,0);this.Hkb(f > this.Qp?f - this.Qp:0,n);this.U6();};d.prototype.get=function(){return {Fa:Math.floor(8 * this.ma / this.ah),ng:0};};return d;})();b.bVb=a;t=(function(){function d(n){this.kM=0;this.SB=NaN;this.window=new a(n);}d.prototype.reset=function(){this.window.reset();this.kM=0;this.SB=NaN;};d.prototype.add=function(n,c,f){this.NIa() && f > this.SB && (c > this.SB && (this.kM+=c - this.SB),this.SB=NaN);this.window.add(n,c - this.kM,f - this.kM);};d.prototype.start=function(n){this.NIa() && n > this.SB && (this.kM+=n - this.SB,this.SB=NaN);this.window.start(n - this.kM);};d.prototype.stop=function(n){this.SB=this.NIa()?Math.min(n,this.SB):n;};d.prototype.get=function(){return this.window.get();};d.prototype.setInterval=function(n){this.window.setInterval(n);};d.prototype.NIa=function(){return !isNaN(this.SB);};return d;})();b.d8a=t;t=(function(){function d(n,c){this.fC=n;this.kEb=c;this.reset();}d.prototype.reset=function(){this.gg=[];this.ma=this.ah=0;};d.prototype.add=function(n,c,f,g){g && (c=f - c,this.ah+=c,this.ma+=n,this.gg.push({ah:c,ma:n}),this.U6());};d.prototype.start=function(){};d.prototype.stop=function(){};d.prototype.get=function(){return {Fa:Math.floor(8 * this.ma / this.ah),ng:0};};d.prototype.setInterval=function(n,c){this.fC=n;this.kEb=c;this.U6();};d.prototype.U6=function(){var n;for(;this.ah > this.fC || this.gg.length > this.kEb;){n=this.gg.shift();this.ma-=n.ma;this.ah-=n.ah;}};return d;})();b.ajb=t;},8934:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.adb=b.CWb=void 0;d=a(22970);n=a(66164);c=a(6198);f=a(48170);g=a(52045);e=a(69575);t=(function(){return function(h,k,l,m){this.config=k;this.Xe=m;m="[" + h + "]";this.console=(0,e.Gf)(n.platform,l,m);this.PEb=h === c.u.U?k.Msa:k.Isa;l=n.platform.SZ()[h];this.Wba=h === c.u.U?k.$Bc:k.DBc;this.Wba=Math.min(k.OBc * l,this.Wba);f.l && this.console.trace("This pipeline's buffer size ",l,this.Wba);this.Lsa=(h === c.u.U?k.QD:k.jB) || k.Lsa;this.ssa=(h === c.u.U?k.ZBc:k.CBc) || k.ssa;this.TKa=k.TKa;};})();b.CWb=t;t=(function(h){function k(l,m,p,q){return h.call(this,l,m,p,q) || this;}d.__extends(k,h);k.prototype.Qwb=function(l,m,p,q){var r,u,v,w,x,y,A,z,B;void 0 === p && (p=!1);void 0 === q && (q=!1);v=this.Xe;w=l.M.eUa();x=v.Cc.index;y=v.zc.index;A=m === x;z=m === y;if(!z || A && v.Cc.na){if(A){B=l.Lwb(v.Cc);B.h2(v.Cc.Pu);z && (v.Cc.na || v.zc.na) && B.yh({start:null === (r=B.na) || void 0 === r?void 0:r.start,end:null === (u=v.zc.na) || void 0 === u?void 0:u.end});}else B=l.hu(m);}else (B=l.Lwb(v.zc),B.h2(v.zc.Pu));B.u0=m + 1;if(r=(0,g.usc)(v,v.Mk))(f.l && v.trace("getFragmentForRequest pts:",v.Mk,"in region:",r,"previous region:",v.eVa),u=void 0 === v.eVa || v.eVa !== r.region,(0,g.Bjc)(v.console,B,r,{gxc:A,sxc:z,zxc:u}));z && (B.jWa(),B.Fwa(v.pa.K));A && B.tBc();if(B.u0 !== m && !w && (this.TKa || !B.na) && (!p || m > x + 1) && (!q || m < y - 2))for((p=q?y - 1:y,++m);m < l.Oa.length && m < p && (B.ma < this.PEb || B.Wb.G < this.Lsa) && (1 === B.stream.Qj.length || this.vac(l,m));++m){q=l.hu(m);if((0,g.ixc)(v,q))break;if(B.Wb.add(q.Wb).G > this.ssa)break;if(B.ma + q.ma > this.Wba)break;B.PKa(q);B.u0=m + 1;f.l && v.trace("getFragmentForRequest: extended fragment startPts:",B.qa.G,"to duration:",B.Wb.G,"size:",B.ma,"min request size:",this.PEb,"max request size:",this.Wba,"min request duration:",this.Lsa,"max request duration:",this.ssa,"edit:",B.na);}f.l && v.trace("getFragmentForRequest(" + m + ") returning:",B,"stream:",B.stream,"firstRequestInRegion:",B.fQa,"lastRequestInRegion:",B.ZA,"nextIndex:",B.u0);return B;};k.prototype.vac=function(l,m){return !l.Qj.some(function(p){return m === p.Ve;});};return k;})(t);b.adb=t;},65077:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Ntb=b.PK=b.Rx=b.vpa=void 0;d=a(91176);n=a(50468);c=a(65161);f=a(52571);g=a(8171);e=a(8149);b.vpa=function(h,k){return h.VG(k,void 0,!0);};b.Rx=function(h,k,l,m,p,q){var r,u,v,w;g.cx.qD(h);if((0,e.zk)(l)){r=l.O;u=l.track.Co;v=l.track.al.Kc(r);k=void 0;v=u + Math.floor(m.rf(v));q || h !== c.u.X || (v=Math.max(u,v - 1));w=l.track.Yv(v);u=w.qa;w=w.ta;q && h === c.u.X && p && p.M === l.M && p.index === v && w === p.ta && (++v,p=l.track.Yv(v),u=p.qa,w=p.ta);q && (h === c.u.X || h === c.u.U) && u.lessThan(m) && (h=Math.floor(m.add(d.I.Ey).ea(u).rf(l.Ea)),0 < h && (k={start:h}));(0,f.assert)(u.O === r,"Expected fragment start timestamp to be in stream timescale");(0,f.assert)(w.O === r,"Expected fragment end timestamps to be in stream timescale");l=new n.Io(l,void 0,{index:v,ub:u.$,Lb:w.$,O:r,offset:0,ma:0});k && l.yh(k);return l;}(0,f.assert)(l.Oa,"findFirstFragment called without stream fragments");r=l.Oa;h === c.u.X && !q && l.Th && !k.cK && l.Ae && (m=m.add(l.Ae));m=d.I.max(l.Oa.jb,m);v=(0,b.vpa)(r,m.G);u=l.hu(v);if(u.ta.lessThan(m))return u;(w=u.inc(m.G))?(0 < w.rl && u.yh({start:w.rl}),h !== c.u.X || k.hca || (0 > w.od && u.yh({start:w.rl}),w.od < (l.Th && !k.cK && l.Ae?Math.floor(l.Ae.G):0) && u.NOa())):m.G >= u.ta.G && v < r.length - 1 && (u=l.hu(v + 1));h === c.u.U && p && u.ta.equal(p.ta) && v < r.length - 1 && (u=l.hu(v + 1));h === c.u.X && !u.na && (k.rAb || k.Ajc) && q && u.yh({});u.h2(m.G);return u;};b.PK=function(h,k,l,m,p,q){var r,u;g.cx.qD(h);if((0,e.zk)(l)){u=q=r=Infinity;k=void 0;p=l.O;if(void 0 !== m && m.isFinite()){r=l.track.Co;q=l.track.al.Kc(p);r+=Math.floor(m.aDc().rf(q));u=l.track.Yv(r);q=u.qa;u=u.ta;if(h === c.u.U?q.add(l.Ea).Wf(m.add(d.I.Ey)):q.Wf(m))(--r,u=l.track.Yv(r),q=u.qa,u=u.ta);(0,f.assert)(q.lessThan(m),"Last fragment expected to start before end point");h === c.u.X && (0,f.assert)(u.Wf(m),"Last audio fragment expected to end at or after end point");h === c.u.U && (0,f.assert)(u.greaterThan(m.ea(l.Ea)),"Last video fragment expected to end later than one frame before end point");h !== c.u.X && h !== c.u.U || !u.greaterThan(m) || (m=m.add(d.I.Ey).ea(q).rf(l.Ea),h=h === c.u.U?Math.floor(m):Math.ceil(m),h < u.ea(q).rf(l.Ea) && (k={start:0,end:h}));q=q.$;u=u.$;}l=new n.Io(l,void 0,{index:r,ub:q,Lb:u,O:p,offset:0,ma:0});k && l.yh(k);return l;}r=l.Oa;m || (m=r.Xb);if(p && (p=p.Xmc(l,m.G,h,k,q)))return p;p=r.Ea;q=d.I.min(m.add((0,b.Ntb)(h,p,k.PT,k.W1)),r.Xb);r=r.VG(q.G,void 0,!0);p=l.hu(r);0 === r || !p.qa.equal(m) || h !== c.u.U && k.PT || (--r,p=l.hu(r));q=h === c.u.U?q:m;q.G < p.ta.G && ((u=p.WPa(q.G)) && 0 !== u.rl?p.yh({end:u.rl}):h === c.u.X && (u || q.lessThan(p.qa)) && 0 !== r?p=l.hu(r - 1):h !== c.u.U || l.Nwc && !u || 0 === r || (p=l.hu(r - 1)));h === c.u.X && !p.na && k.rAb && p.yh();p.h2(m.G);return p;};b.Ntb=function(h,k,l,m){return h === c.u.U || m?d.I.ia:l?k || d.I.ia:k?k.hh(-1):d.I.ia;};},97757:function(t,b,a){var n,c,f,g,e,h;function d(k,l){return k - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.IWb=void 0;b.GZ=function(k,l){var m;if(!g)return k;m=new h(k.name,l);return (function(p){function q(){for(var r=[],u=0;u < arguments.length;u++)r[u]=arguments[u];r=p.apply(this,n.__spreadArray([],n.__read(r),!1)) || this;r.Wvb=m.Cfc(r);return r;}n.__extends(q,p);return q;})(k);};n=a(22970);c=a(66164);f=a(48170);g="gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).EWb;h=(function(){function k(l,m){this.name=l;this.aNa=m;this.qL=[];this.twc=0;}Object.defineProperties(k,{console:{get:function(){e || (e=new c.platform.Console("GCTAGGER"));return e;},enumerable:!1,configurable:!0}});k.prototype.Cfc=function(l){var m,p;if(g){m=this.aNa;m || (m=k.console);if(!l.Wvb && "undefined" !== typeof nrdp){l={type:this.name,id:this.twc++};this.qL.push(l.id);p=JSON.stringify(l);p=nrdp.Wvb(p,(function(q,r,u,v){q.qL.splice(q.qL.indexOf(r),1);q.qL=q.qL.sort(d);for(var w=[],x=0;x < q.qL.length && 5 > x;x++)w.push(q.qL[x]);null === v || void 0 === v?void 0:v.error(("Removing instance for ").concat(u,"/").concat(r,". ") + ("").concat(q.qL.length," remaining, earliest: ").concat(w,"}"));}).bind(null,this,l.id,l.type,m));f.l && m && m.info("Creating tagged instance",l);return p;}}};return k;})();b.IWb=h;},79183:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m){return l.filter(function(p){return p.groupId === m.groupId;}).reduce((0,c.QCc)(function(p){return p.Du;}),m).Du;}Object.defineProperties(b,{__esModule:{value:!0}});b.x9a=void 0;n=a(22970);c=a(91176);f=a(66164);g=a(57141);e=a(65161);h=a(61996);k=a(62629);t=(function(){function l(m,p){this.console=m;this.config=p;this.wCb=0;this.re=new h.Am({xg:10,rj:this,source:"GraphStreamingProcess"});}l.prototype.Qmc=function(m){var p,q,r,w,x;q={Hnb:[],MQb:0,PY:-Infinity,reason:"available"};r=[];try{for(var u=n.__values(m),v=u.next();!v.done;v=u.next()){w=v.value;if(w.qw <= f.platform.time.ha())r.push(w);else if((q.MQb++,!x || w.qw < x.qw))x=w;}}catch(A){var y;y={error:A};}finally{try{v && !v.done && (p=u.return) && p.call(u);}finally{if(y)throw y.error;}}x && (q.PY=x.qw,0 === r.length && ((0,c.assert)("available" !== x.bA,"next available streamable cannot be available"),q.reason=x.bA));q.Hnb=r;return q;};l.prototype.PGb=function(m,p){var q,r,u,v,w,x,y,A,z,D,E,H,F;u={Ef:!1,reason:"noEligibleStreamables"};v=[];if(0 < p.length){w=this.fSc(p);x=w.some(function(J){return 1 === (0,k.sac)(J) && (0,e.zs)(J.ke);});y=w.slice();A=[!1,!1,!1,!1];z=void 0;try{for(var B=n.__values(w),C=B.next();!C.done;C=B.next()){D=C.value;if(D.iy && (!z || D.groupId === z))if(D.Bk)z=D.groupId;else if("global" !== A[D.mediaType]){E=D.oG(m,null !== (r=D.EA) && void 0 !== r?r:1);H=(0,g.zLc)(E.reason);H && (A[D.mediaType]=H,(0,c.gLa)(y,D));if(E.$S){F=d(y,D);if(this.wbc(D,x,F)){u=D.CL();this.RVa(v,D,u.reason);u.Ef && (this.wCb=f.platform.time.ha());if(u.Ef){u.reason="success";break;}if("globalVideoMemoryLimit" === u.reason || "globalAudioMemoryLimit" === u.reason){this.console.trace("GSP.onRequestOpportunity stopping at memory limit:",u.reason);break;}"pipelineTryIssueHeaderRequest" === u.reason && (z=D.groupId,this.console.trace("GSP.onRequestOpportunity stopping due to blocking header"));}else if((this.RVa(v,D,"concurrencyCheck"),!H))break;}else this.RVa(v,D,E.reason);}}}catch(J){var G;G={error:J};}finally{try{C && !C.done && (q=B.return) && q.call(B);}finally{if(G)throw G.error;}}}this.re.ug({streamableCount:p.length,streamableReasons:v,lastSuccessfulIssueRequestMs:this.wCb});return u;};l.prototype.fSc=function(m){return this.eKc(m).sort(function(p,q){return p.priority - q.priority;}).map(function(p){return p.hTc;});};l.prototype.eKc=function(m){var p;p=this;return m.map(function(q){return {priority:-(0,k.oac)(p.config,q,p.console),hTc:q};});};l.prototype.RVa=function(m,p,q){this.re.enabled && m.push(this.ftc(q,p));};l.prototype.ftc=function(m,p){return {mediaType:p.mediaType,reason:m,bufferingState:p.ke,currentPlayerMs:p.hp,pathCompletePlayerMs:p.Du,streamingPlayerMs:p.Eo};};l.prototype.wbc=function(m,p,q){return this.config.VP && (p || (0,e.zs)(m.ke))?this.xbc(m,q):this.ybc(m,q);};l.prototype.zbc=function(m){return m.Eo <= m.Du;};l.prototype.ybc=function(m,p){return m.Eo - (m.hp > p?m.hp:p) <= Math.max(this.config.qca,Math.min((m.Du - m.hp) * this.config.dfa,this.config.VBc));};l.prototype.xbc=function(m,p){var q,r;if(void 0 === this.config.VP)return !0;q=this.config.VP;r=m.hp + q;return m.Eo <= r?!0:this.zbc(m) && p >= r && m.Eo - p < q;};n.__decorate([(0,h.gb)({methodName:"onRequestOpportunity",Te:!0})],l.prototype,"PGb",null);return l;})();b.x9a=t;},62629:function(t,b,a){var m,p,q;function d(r){return r.Eo - r.hp;}function n(r,u){return Math.exp(-(Math.log(2) / r) * u);}function c(r,u){r=Math.log(2) * u / r;return (1 - Math.exp(-r)) / r;}function f(r,u){var v,w,x,y,A;v=u.vT;w=u.uT;x=u.XH;if(0 === u.jh.length)return {vla:!1};y=u.jh[0];u=y.hf;A=y.iL;y=y.duration;if(!A || 1 === x)return {vla:!1};(0,p.assert)(y,"duration should be defined when immediate probability is included in probabilities array");(0,p.assert)(0 < x,"presenting segment seamless probability cannot be zero");w-=y;if(v < w)return {vla:!1};w=v - w;v=x + w / y * (1 - x);y-=w;A=A * (1 - v) / (1 - x);r=u * v / x * n(r,y) + A * c(r,y);(0,p.assert)(1 >= r);return {vla:!0,W6b:r};}function g(r){var u,v,w,x,y;u=r.ah;v=r.v2;w=r.Lw;x=r.Eo;y=r.hp;r=r.yZ;(0,p.assert)(void 0 !== v);(0,p.assert)(void 0 !== u);w=1 - w;x-=y;r?(y=v - r - x,u-=r,0 >= y?r=Math.max(0,(v - r) / u):(v=u - y,r=0 < v?x / v:0,w*=0 < v?v / u:1)):(y=v - x,0 >= y?r=v / u:(v=u - y,r=0 < v?x / v:0,w*=0 < v?v / u:1));(0,p.assert)(0 <= r);(0,p.assert)(1 >= r);(0,p.assert)(0 <= w);(0,p.assert)(1 >= w);return 1 - r * w;}function e(r,u){r=Math.log(2) / r.eKb;return h(u) * Math.exp(-r * d(u));}function h(r){var u;return (null !== (u=r.EA) && void 0 !== u?u:1) * r.jh.reduce(function(v,w){var x;x=w.iL;return v * (w.hf + (void 0 === x?0:x));},1);}function k(r){var u,v,w,x;if(0 === r.jh.length)return 0;v=0;if(1 > r.XH){v=r.vT;w=r.uT;x=null !== (u=r.jh[0].duration) && void 0 !== u?u:0;v=Math.max(0,Math.min(x,v - (w - x)));}return r.jh.reduce(function(y,A){A=A.duration;return y + (void 0 === A?0:A);},0) - v;}function l(r){return r.jh.filter(function(u){return !u.iL;}).reduce(function(u,v){return u * v.hf;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.l6c=d;b.oac=function(r,u,v){var w,x,y,A,z,B,C,D;if(!r.XY || (0,m.zs)(u.ke))return e(r,u);x=r.eKb;r=d(u);y=k(u);A=l(u);z=f(x,u);B=z.vla;z=z.W6b;z=void 0 === z?1:z;C=1 > u.Lw?g(u):1;D=(null !== (w=u.EA) && void 0 !== w?w:1) * A * n(x,r - y) * z * C * u.jh.filter(function(E,H){return E.iL && (0 < H || !B);}).reduce(function(E,H){var F,G;F=H.iL;G=H.duration;G=void 0 === G?0:G;F=void 0 === F?0:F;H=H.hf * n(x,G) + F * c(x,G);return E * H;},1);q.l && (null === v || void 0 === v?void 0:v.log(("{").concat(u.groupId,"} [").concat(u.mediaType,"] calculateStreamablePriority: ") + ("sp: ").concat(u.Lw,", ") + ("pssp: ").concat(u.XH,", ") + ("streamingDuration: ").concat(u.v2,", ") + ("duration: ").concat(u.ah,", ") + ("seamlessProbability: ").concat(A,", ") + ("distance: ").concat(r,", immediateDistance: ").concat(y,", ") + ("risk:").concat(n(x,r - y),", ") + ("adjustedFirstTerm: ").concat(z,", streamingAdjustment: ").concat(C,", ") + ("probabilities: ").concat(JSON.stringify(u.jh)," => ").concat(D)));return D;};b.j6c=e;b.sac=h;b.zob=l;m=a(65161);p=a(52571);q=a(48170);},45247:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u;Object.defineProperties(b,{__esModule:{value:!0}});b.Va=b.pDc=b.eg=b.Elc=b.dH=b.Ipa=b.P$=b.dUa=b.Pqa=b.JH=b.Esa=b.Ub=b.u=b.dx=b.Sd=b.Vf=b.DW=b.Vg=b.cs=b.l6=b.Ud=b.Lc=b.Oia=b.y5=b.Ez=b.p6=b.At=b.I=void 0;b.tad=function(v){n.platform.yTa(v);};d=a(22970);n=a(66164);d.__exportStar(a(66164),b);c=a(91176);Object.defineProperties(b,{I:{enumerable:!0,get:function(){return c.I;}}});Object.defineProperties(b,{At:{enumerable:!0,get:function(){return c.At;}}});d.__exportStar(a(49502),b);f=a(63576);Object.defineProperties(b,{p6:{enumerable:!0,get:function(){return f.p6;}}});Object.defineProperties(b,{Ez:{enumerable:!0,get:function(){return f.Ez;}}});Object.defineProperties(b,{y5:{enumerable:!0,get:function(){return f.y5;}}});d.__exportStar(a(85858),b);d.__exportStar(a(25218),b);d.__exportStar(a(40666),b);d.__exportStar(a(95407),b);d.__exportStar(a(51308),b);g=a(79048);Object.defineProperties(b,{Oia:{enumerable:!0,get:function(){return g.Oia;}}});e=a(91967);Object.defineProperties(b,{Lc:{enumerable:!0,get:function(){return e.Lc;}}});Object.defineProperties(b,{Ud:{enumerable:!0,get:function(){return e.Ud;}}});h=a(11862);Object.defineProperties(b,{l6:{enumerable:!0,get:function(){return h.l6;}}});k=a(6783);Object.defineProperties(b,{cs:{enumerable:!0,get:function(){return k.cs;}}});l=a(69575);Object.defineProperties(b,{Vg:{enumerable:!0,get:function(){return l.Vg;}}});m=a(52629);Object.defineProperties(b,{DW:{enumerable:!0,get:function(){return m.DW;}}});d.__exportStar(a(56820),b);p=a(28871);Object.defineProperties(b,{Vf:{enumerable:!0,get:function(){return p.Vf;}}});q=a(65161);Object.defineProperties(b,{Sd:{enumerable:!0,get:function(){return q.Sd;}}});Object.defineProperties(b,{dx:{enumerable:!0,get:function(){return q.dx;}}});Object.defineProperties(b,{u:{enumerable:!0,get:function(){return q.u;}}});Object.defineProperties(b,{Ub:{enumerable:!0,get:function(){return q.Ub;}}});Object.defineProperties(b,{Esa:{enumerable:!0,get:function(){return q.Esa;}}});Object.defineProperties(b,{JH:{enumerable:!0,get:function(){return q.JH;}}});Object.defineProperties(b,{Pqa:{enumerable:!0,get:function(){return q.Pqa;}}});Object.defineProperties(b,{dUa:{enumerable:!0,get:function(){return q.dUa;}}});b.P$=function(v){n.platform.yTa(v);return Promise.resolve().then(function(){return d.__importStar(a(60069));}).then(function(w){return w.P$();});};b.Ipa=function(v,w){n.platform.yTa(v);return Promise.resolve().then(function(){return d.__importStar(a(23102));}).then(function(x){return x.Ipa(w);});};b.dH=function(){return a(32838)["default"];};t=d.__importDefault(a(14282));b.Elc=t.default;t=a(36948);b.eg=t.eg;r=a(37268);b.pDc=function(){return {vm:r.vm};};u=a(68539);Object.defineProperties(b,{Va:{enumerable:!0,get:function(){return u.Va;}}});},79857:function(t,b,a){var n,c,f,g,e,h,k,l,m;function d(p){var q;q=p.indexOf("?");return -1 !== q?p.slice(0,q):p;}Object.defineProperties(b,{__esModule:{value:!0}});b.Rab=void 0;n=a(22970);c=a(66164);f=a(91176);g=a(75539);e=a(61996);h=a(91967);k=a(54366);l=a(52571);m=a(48912);t=(function(){function p(q,r,u,v){var w;this.console=q;this.config=r;this.M=u;this.KA=v;this.Sda=!1;this.nVa={};this.cY=!1;this.re=new e.Am({xg:10,rj:this,source:"LiveOCSideChannel",console:this.console});(0,l.assert)(null === (w=this.M.S.gA) || void 0 === w?void 0:w.Lf,"Missing pbcid for OC side channel message decryption.");this.Ima=new m.Sja(this.M.S.gA.Lf);}p.prototype.Sc=function(q){this.Sda || (q.Sc(new k.Qn(this.re)),this.Sda=!0);};p.prototype.Se=function(){this.KM && (clearTimeout(this.KM),this.KM=void 0);this.FMa();this.cY=!0;};p.prototype.decode=function(q,r,u){var v,w,x,y,A,z,B,C,D,E;void 0 === u && (u=!0);if(r && (r=null === (v=(0,f.cc)(r.split(";"),function(H){return 0 === H.indexOf("sc=");})) || void 0 === v?void 0:v.slice(3)) && (!u || this.oRc(q))){q=this.Ima.decrypt(r,!0);try{w=JSON.parse(q);}catch(H){this.console.error("Failed to parse decrypted OC side channel message. " + ("decryptedMessage: ").concat(q));return;}q=Number(w.time || void 0);isNaN(q) && (this.console.error(("Invalid live server time in OC side channel message. time: ").concat(w.time)),q=void 0);u=w["live-msg-start"];v=w["live-msg-end"];r=u?new Date(u).getTime():void 0;x=v?new Date(v).getTime():void 0;void 0 !== r && isNaN(r) || void 0 !== x && isNaN(x)?this.console.error("Invalid live event times in OC side channel message. " + ("live-msg-start: ").concat(u,", live-msg-end: ").concat(v)):y={startTime:u,Ta:r,endTime:v,cb:x};u=w["encoder-tag"];v=w["encoder-region"];u && v || this.console.error("Invalid encoder info in OC side channel message. " + ("encoder-tag: ").concat(u,", encoder-region: ").concat(v));r=(x=w.maxBitrate)?Number(x || void 0):0;void 0 !== r && isNaN(r) && (this.console.error(("Invalid maxBitrate in OC side channel message: ").concat(x)),r=void 0);x=w["live-msg-prefetch-start"];A=w["live-msg-prefetch-dur"];z=x?new Date(x).getTime():void 0;B=A?Number(A):void 0;if(void 0 !== z && isNaN(z) || void 0 !== B && isNaN(B))(this.console.error("Invalid postplay prefetch info in OC side channel message. " + ("live-msg-prefetch-start: ").concat(x,", live-msg-prefetch-dur: ").concat(A)),B=z=void 0);C=w["live-msg-pp-start"];w=w["live-msg-pp-dur"];D=C?new Date(C).getTime():void 0;E=w?Number(w):void 0;if(void 0 !== D && isNaN(D) || void 0 !== E && isNaN(E))(this.console.error("Invalid postplay transition info in OC side channel message. " + ("live-msg-pp-start: ").concat(C,", live-msg-pp-dur: ").concat(w)),E=D=void 0);return {co:u,bo:v,maxBitrate:r,Qf:q,oj:y,vZa:z,qT:x,uZa:B,oT:A,pZa:D,lT:C,oZa:E,kT:w};}};p.prototype.oRc=function(q){var r;r=c.platform.time.ha();if(void 0 !== this.nVa[q] && r - this.nVa[q] < (void 0 === this.M.oj.endTime?this.config.FY:Math.max(this.config.FY,this.config.sna)))return !1;this.nVa[q]=r;return !0;};p.prototype.sJb=function(q,r,u,v,w,x,y){var A,z,B;A=this;w=this.decode(v,w);void 0 !== w && (void 0 === w.Qf || isNaN(w.Qf) || void 0 === x || isNaN(x) || this.M.Wfa(w.Qf,x),void 0 !== w.oj && this.M.Sxa(w.oj.startTime,w.oj.endTime),this.M.mRb(v,{co:w.co,bo:w.bo,swa:y,ob:q.Ra}),w.maxBitrate && !isNaN(w.maxBitrate) && (q.track.dS=w.maxBitrate,q.track.g2(h.SO.WNb,w.maxBitrate)),void 0 === w.qT || void 0 === w.vZa || isNaN(w.vZa) || void 0 === w.oT || void 0 === w.uZa || isNaN(w.uZa) || this.M.X2("prefetch",w.qT,w.oT),void 0 === w.lT || void 0 === w.pZa || isNaN(w.pZa) || void 0 === w.kT || void 0 === w.oZa || isNaN(w.oZa) || this.M.X2("execute",w.lT,w.kT),this.re.C7("processMessage",{parsed:!0,url:d(u),pbcid:null === (z=this.M.S.gA) || void 0 === z?void 0:z.Lf,time:c.platform.time.now(),encoderTag:w.co,encoderRegion:w.bo,maxBitrate:w.maxBitrate,serverTimeMs:w.Qf,liveEventTimes:w.oj,prefetchStartMs:w.vZa,prefetchDurationMs:w.uZa,postplayStartMs:w.pZa,postplayDurationMs:w.oZa}),this.KM && (clearTimeout(this.KM),this.KM=void 0),this.config.ZY && (this.vCb=q,this.rVa=u,this.Oyc=y,this.kVa=r,void 0 === (null === (B=w.oj) || void 0 === B?void 0:B.endTime) && (this.KM=setTimeout(function(){A.zva();},this.config.M_))));};p.prototype.zva=function(){var q,r,u;q=this;r=!1;u=this.vCb;u && !this.cY && ((0,l.assert)(this.kVa),(0,l.assert)(this.rVa),this.FMa(),this.Ava=new g.nEa(u,this.rVa,this.KA.Bd.track,"refreshOC",{responseType:0},{offset:0,ma:8},this,this.kVa,this.config,this.console),this.Ava.open()?r=!0:(this.FMa(),r=!1));this.re.ug({time:c.platform.time.now(),issued:r});this.config.ZY && (this.KM=setTimeout(function(){q.zva();},this.config.M_));};p.prototype.FMa=function(){this.Ava && (this.Ava.Se(),this.Ava=void 0);};p.prototype.mM=function(q){var r,u;u=q.getResponseHeader("X-TCP-Info",!1);null === (r=q.stream.M.OL) || void 0 === r?void 0:r.sJb(this.vCb,this.kVa,this.rVa,q.mediaType,u,void 0,this.Oyc);q.abort();};p.prototype.Fy=function(q){var r;r=this;q.abort();this.config.ZY && (this.KM=setTimeout(function(){r.zva();},this.config.M_));};p.prototype.$ta=function(){};p.prototype.OS=function(){};p.prototype.$D=function(){};p.prototype.uo=function(){};p.prototype.Q0=function(){};p.prototype.PS=function(){};p.prototype.Zta=function(){};p.prototype.aua=function(){};n.__decorate([(0,e.gb)({methodName:"refreshOCSideChannel",Te:!1})],p.prototype,"zva",null);return p;})();b.Rab=t;},18905:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.r5=void 0;a(22970).__exportStar(a(36670),b);d=a(92517);Object.defineProperties(b,{r5:{enumerable:!0,get:function(){return d.r5;}}});},36670:function(t,b){var a,d;Object.defineProperties(b,{__esModule:{value:!0}});b.bGa=b.Ne=void 0;(function(n){n[n.$p=0]="OK";n[n.TEMPORARY=1]="TEMPORARY";n[n.aq=2]="PERMANENT";})(a || (b.Ne=a={}));(function(n){n[n.uC=0]="STARTUP";n[n.k0b=1]="REBUFFER";})(d || (b.bGa=d={}));},92517:function(t,b,a){var d,n,c,f,g,e,h,k,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.r5=void 0;d=a(22970);n=d.__importStar(a(17267));t=a(90745);c=a(66164);a(97685);f=a(91176);g=a(8149);e=d.__importDefault(a(14282));h=a(52571);k=a(36670);l=a(54962);m=new c.platform.Console("ASEJS_LOCATION_SELECTOR","media|asejs");a=(function(p){var x9K;x9K=2;function q(r,u,v,w,x,y){var H0w,A;H0w=2;for(;H0w !== 17;){switch(H0w){case 2:A=p.call(this) || this;A.bd=v;A.Xl=w;A.config=x;H0w=3;break;case 11:var X2r="1";X2r+="SI";X2r+="YbZrNJ";X2r+="Cp9";A.ZJ(r,u,e.default.Dz.uC);A.$sa=!1;A.mfa={};X2r;return A;break;case 3:A.$3b=y;H0w=9;break;case 9:var v9Z="LI";v9Z+="V";v9Z+="E";A.akb=v9Z;A.nKc=k.bGa.uC;A.Gka=null;A.cN=null;H0w=14;break;case 14:A.b2=e.default.Dz.uC;A.Ba=(0,f.RA)(r.yf);A.wh=new l.mJ(w,A.Ba);H0w=11;break;}}}for(;x9K !== 34;){switch(x9K){case 12:q.prototype.uWc=function(r,u){var n$O,v;n$O=2;for(;n$O !== 3;){switch(n$O){case 2:v=!1;this.Ba && void 0 !== r && r !== this.akb && (void 0 === this.bkb || c.platform.time.ha() - this.bkb > u.Hzc) && (this.akb=r,this.bkb=c.platform.time.ha(),v=!0);v && (this.cN=null);n$O=4;break;case 4:return v;break;case 14:return v;break;}}};q.prototype.Abc=function(r,u,v,w,x){var h3l;h3l=2;for(;h3l !== 1;){switch(h3l){case 2:return this.wh.lo(r.Ab)?(u.Og=r.Ab.Og,v && u.Ab === r.Ab.id && r.Ab.hE && (u.hE=r.Ab.hE),!1):this.wh.lo(r)?(u.Og=r.Og,!1):w && r.N_ && !r.N_.some(function(y){var E6K=r2gzX;var A1M;A1M=2;for(;A1M !== 1;){switch(A1M){case 2:E6K.u5O(5);return E6K.g4d(y,x);break;case 4:E6K.t$V(6);return E6K.l2Z(x,y);break;}}})?!1:!0;break;}}};q.prototype.KWc=function(r,u,v,w,x,y,A,z){var S5j,B,C;S5j=2;for(;S5j !== 6;){switch(S5j){case 9:w.Cea=r.Ab.name;w.Mw=r.Ab.type;A && (x.EVa=z);S5j=6;break;case 2:var Y_X="lo";Y_X+="cati";Y_X+="onf";Y_X+="ai";Y_X+="lover";var L4E="se";L4E+="rv";L4E+="erf";L4E+="ailover";var y_q="p";y_q+="e";y_q+="rformanc";y_q+="e";var R5o="u";R5o+="n";R5o+="kn";R5o+="own";(B=R5o,C=x.Tj[0]);C.id !== u.id && this.pbc(x);w.location !== u.id && (y?w.RUa=u.id === C.id:B=u !== v[0] && A && x.EVa !== z?"" + e.default.Dz.a1b:u !== v[0]?"" + e.default.Dz.Aza:void 0 === w.location?"" + e.default.Dz.uC:n.ky(w.nCb) || w.nCb === u.id?n.ky(w.sCb) || w.sCb === r.Ab.id?y_q:L4E:Y_X,w.location=u.id,w.LVa=u.level,w.Ku=B);w.url=r.url;w.Ab=r.Ab.id;S5j=9;break;}}};x9K=20;break;case 8:q.prototype.YZ=function(r,u){var X7O,v,w;X7O=2;for(;X7O !== 5;){switch(X7O){case 2:return u && r && (!(0,g.zk)(u) || (0,g.zk)(u) && (null === (v=u.track) || void 0 === v?0:v.gAb))?null !== (w=u.YZ(void 0,r)) && void 0 !== w?w:"":"";break;}}};q.prototype.ZJ=function(r,u,v){var T0f;T0f=2;for(;T0f !== 14;){switch(T0f){case 6:this.b2=v;T0f=14;break;case 3:r=r.Ji;(0,h.assert)(this.Ba && (0,f.RA)(u) && !!r || !this.Ba && !(0,f.RA)(u) && !r);this.Ba && (this.lAc=r.ZEc);this.cN=null;T0f=6;break;case 2:void 0 === v && (v=e.default.Dz.vbb);this.wh.ZJ(r,u,v);this.Gka=c.platform.time.ha();u=r.yf;T0f=3;break;}}};q.prototype.Wxa=function(r,u,v,w){var H2W,x,y,A,z,B,C;H2W=2;for(;H2W !== 10;){switch(H2W){case 7:return (this.fI(e.default.hk.iJ,!1),!1);break;case 5:H2W=this.wh.Vd()?4:3;break;case 12:var X4U="(empty s";X4U+="tream li";X4U+="st)";var V7_="Did not find a URL";V7_+=" for ";V7_+="ANY stream...";var M63="net";M63+="wo";M63+="rkFail";M63+="ed";var T2m="Net";T2m+="wor";T2m+="k has failed, not updating stream selectio";T2m+="n";u.forEach(function(D,E){var p_Z,H,F;p_Z=2;for(;p_Z !== 5;){switch(p_Z){case 2:var r8m=" K";r8m+="bp";r8m+="s";r8m+=")";var q9W=" ";q9W+="(";var X9B="]";X9B+=" ";var x2v="Faili";x2v+="ng";x2v+=" strea";x2v+="m [";F=D.id;x.Smc(C,D,y,A,v,B)?(D.lo=!1,D.Og=void 0,D.pp && ++z):D.Og && D.Og === k.Ne.TEMPORARY?x.wh.zca=k.Ne.TEMPORARY:D.lo || (m.warn(x2v.concat(E,X9B).concat(F,q9W).concat(D.bitrate,r8m)),D.ecc(),D.lo=!0,w && D.Ra === w.Ra && (x.wh.zca=null !== (H=D.Og) && void 0 !== H?H:k.Ne.$p));p_Z=5;break;}}});return this.wh.Vd()?(m.warn(T2m),this.$sa=!0,this.emit(M63,{ira:this.wh.zca === k.Ne.aq}),!1):0 === z?(m.warn(V7_.concat(u.length?"":X4U)),this.fI(e.default.hk.iJ,!0),!1):!0;break;case 14:H2W=!C.length?13:12;break;case 1:c.platform.aD && c.platform.aD(r);H2W=5;break;case 4:return !1;break;case 2:(x=this,y=this.config,A=this.uWc(v,y));H2W=1;break;case 8:H2W=!this.cN?7:6;break;case 3:(z=0,B=this.vWc(y));n.sd(this.cN) && (this.cN=this.wWc());H2W=8;break;case 13:return (this.fI(e.default.hk.iJ,!1),!1);break;case 6:C=this.cN;H2W=14;break;}}};q.prototype.Smc=function(r,u,v,w,x,y){var O9N,A,z,B;O9N=2;for(;O9N !== 5;){switch(O9N){case 2:(A=this,z=u.id,B=this.bd.get());return r.some(function(C){var t6v,E,D;t6v=2;for(;t6v !== 8;){switch(t6v){case 4:E=D.Tj[0];void 0 === u.cva && (u.cva=E.id,u.CZa=D.b3[E.id][0].Ab.id);return D.b3[C.id].some(function(H){var Y6s,F;Y6s=2;for(;Y6s !== 8;){switch(Y6s){case 5:return F;break;case 1:Y6s=!F?5:4;break;case 4:A.KWc(H,C,r,u,D,v.ZH,w,x);A.LWc(v,B,C,u,y);return !0;break;case 2:F=A.Abc(H,u,v.ZH,w,x);Y6s=1;break;}}});break;case 5:return !1;break;case 2:D=C.streams[z];t6v=1;break;case 1:t6v=!D?5:4;break;}}});break;}}};q.prototype.vWc=function(r){var d76,u,v;d76=2;for(;d76 !== 3;){switch(d76){case 2:(u=this.bd.get(),v=e.default.zr.HV);r.Xsa && (v=e.default.zr.GV);this.bd.location && u.confidence >= v && (r=this.wh.Tj[this.bd.location]) && (r.yb=u);d76=4;break;case 4:return v;break;}}};x9K=12;break;case 4:q.prototype.hH=function(r){var Y2L;Y2L=2;for(;Y2L !== 1;){switch(Y2L){case 2:return this.wh.hH(r);break;}}};q.prototype.Opa=function(r){var k$Z;k$Z=2;for(;k$Z !== 1;){switch(k$Z){case 2:return this.wh.Opa(r);break;case 4:return this.wh.Opa(r);break;}}};q.prototype.nRa=function(r){var D47;D47=2;for(;D47 !== 1;){switch(D47){case 2:return this.wh.nRa(r);break;}}};x9K=8;break;case 20:q.prototype.LWc=function(r,u,v,w,x){var q$S;q$S=2;for(;q$S !== 5;){switch(q$S){case 2:w.yb=r.ima?v.yb.confidence >= e.default.zr.GV || u.confidence < x?v.yb:u:u.confidence === e.default.zr.HAVE_NOTHING || v.yb.confidence >= e.default.zr.GV?v.yb:u;r.YY && !w.yb.ay && (w.yb.ay=v.yb.ay);q$S=5;break;}}};q.prototype.pbc=function(r){var h3A,u,v,w,x,y;h3A=2;for(;h3A !== 5;){switch(h3A){case 2:(u=c.platform.time.ha(),v=this.config,w=r.urls[0].Ab,x=w.id,y=this.mfa[x]);h3A=1;break;case 1:var d8n="issueServe";d8n+="rProbeRe";d8n+="quest";this.wh.lo(w) && (y?v.pda && u > y.GFb && (v=Math.min(2 * y.BLb,v.Vba),this.mfa[x]={yub:y.yub,BLb:v,GFb:u + v},this.emit(d8n,{Ab:w,url:this.wh.Ctc(r,x),stream:r})):this.mfa[x]={yub:u,BLb:v.j0,GFb:u + v.j0});h3A=5;break;}}};q.prototype.GPc=function(r,u){var J20,v,w;J20=2;for(;J20 !== 4;){switch(J20){case 2:(v=[],w=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);n.forEach(this.wh.urls,function(x,y){var G7Y,A,C,z,B;G7Y=2;for(;G7Y !== 13;){switch(G7Y){case 2:x=x.Ab;A=y.match(w);G7Y=5;break;case 7:x.urls.some(function(D){var D31;D31=2;for(;D31 !== 5;){switch(D31){case 2:D31=D.url === y?1:5;break;case 1:return (C=D,!0);break;case 9:return (C=D,-9);break;}}});C && v.push({url:C,Ab:x});G7Y=13;break;case 8:G7Y=n.Fi(B) && n.Fi(A) && B === r && A == u?7:13;break;case 5:G7Y=A && 4 === A.length?4:13;break;case 4:var D0w="8";D0w+="0";var y4M="4";y4M+="4";y4M+="3";(z="s" === A[1],B=A[2]);A=A[3];A.length || (A=z?y4M:D0w);G7Y=8;break;}}});return v;break;}}};q.prototype.fI=function(r,u,v,w){var K6j,x,y,A,m4U;K6j=2;for(;K6j !== 33;){switch(K6j){case 7:return;break;case 27:this.cN=null;this.b2=e.default.Dz.Wp;w && (this.b2=e.default.Dz.H_b,x.hE=w);K6j=24;break;case 20:K6j=y && y.yq !== e.default.hk.PO?19:18;break;case 3:K6j=A !== x.Og?9:33;break;case 2:(x=r !== e.default.hk.iJ && v?this.wh.urls[v]:this.wh.UD,y=this.wh.zca,A=u?k.Ne.aq:k.Ne.TEMPORARY);K6j=1;break;case 16:var z$8=" s";z$8+="erv";z$8+="erId = ";var k9d="Emitting network";k9d+="Faile";k9d+="d, perman";k9d+="ent = ";m.warn(k9d.concat(r,z$8).concat(y));K6j=15;break;case 8:m4U=x.Og;K6j=m4U === k.Ne.aq?7:23;break;case 9:var Q9f=" ";Q9f+=": ";Q9f+="wa";Q9f+="s";Q9f+=" ";var g80=" ";g80+="a";g80+="t";g80+=" ";var N$4=" failure";N$4+=" reporte";N$4+="d fo";N$4+="r ";var y9z="T";y9z+="E";y9z+="M";y9z+="P";var Q2S="P";Q2S+="E";Q2S+="RM";var K2Q="re";K2Q+="por";K2Q+="tFailure: ";m.warn(K2Q.concat(u?Q2S:y9z,N$4).concat(e.default.hk.name[r],g80).concat(l.mJ.dEc(x),Q9f).concat(l.mJ.rmc(x)));K6j=8;break;case 11:K6j=r > y?10:27;break;case 21:K6j=35;break;case 34:var A8h="Unable to find";A8h+=" failure enti";A8h+="ty for URL ";m.warn(A8h.concat(v));K6j=33;break;case 5:x=x.parent;K6j=1;break;case 35:var x7K="Invalid fai";x7K+="lure";x7K+=" state";throw Error(x7K);K6j=6;break;case 22:K6j=m4U === k.Ne.$p?6:21;break;case 6:x.Og=A;l.mJ.xJb(x);this.$sa=this.$sa || this.wh.Vd();r=this.wh.zca;K6j=11;break;case 1:K6j=x && x.parent && x.yq !== r?5:4;break;case 15:var J$X="netwo";J$X+="rkF";J$X+="a";J$X+="iled";this.emit(J$X,{ira:r,dd:y});K6j=27;break;case 18:y=y?y.id:void 0;r=r === k.Ne.aq;K6j=16;break;case 24:this.wh.dump();K6j=33;break;case 10:y=x;K6j=20;break;case 19:y=y.parent;K6j=20;break;case 4:K6j=x?3:34;break;case 23:K6j=m4U === k.Ne.TEMPORARY?6:22;break;}}};q.prototype.Q_a=function(r,u){var E5x;E5x=2;for(;E5x !== 3;){switch(E5x){case 2:E5x=(r=this.wh.Ik[r])?1:5;break;case 1:(l.mJ.reset(r,u),l.mJ.yJb(r));E5x=5;break;case 5:this.cN=null;this.b2=e.default.Dz.IEa;E5x=3;break;}}};q.prototype.K1=function(){var A7_;A7_=2;for(;A7_ !== 5;){switch(A7_){case 2:l.mJ.reset(this.wh.UD,!1);this.mfa={};A7_=5;break;}}};x9K=27;break;case 21:q.prototype.gIc=function(){var O_V,r;O_V=2;for(;O_V !== 5;){switch(O_V){case 2:r=this;this.$sa || this.wh.TZ().forEach(function(u){var B$w;B$w=2;for(;B$w !== 1;){switch(B$w){case 2:u.Og === k.Ne.TEMPORARY && r.Xl.fail(u.id,c.platform.time.ha());B$w=1;break;}}});O_V=5;break;}}};x9K=35;break;case 27:q.prototype.rXa=function(r){var J4H;J4H=2;for(;J4H !== 1;){switch(J4H){case 2:this.$3b(r);J4H=1;break;}}};q.prototype.ol=function(){var r9f;r9f=2;for(;r9f !== 1;){switch(r9f){case 2:this.hNc(k.bGa.k0b);r9f=1;break;}}};x9K=25;break;case 25:q.prototype.La=function(){var w7K;w7K=2;for(;w7K !== 1;){switch(w7K){case 2:this.config.CAc && this.gIc();w7K=1;break;}}};q.prototype.GN=function(r){var i8V;i8V=2;for(;i8V !== 1;){switch(i8V){case 2:delete this.mfa[r];i8V=1;break;case 4:!this.mfa[r];i8V=9;break;}}};q.prototype.wWc=function(){var X2E,w,r,u,v;X2E=2;for(;X2E !== 6;){switch(X2E){case 9:(v.forEach(function(x){var O7M;O7M=2;for(;O7M !== 1;){switch(O7M){case 2:x.id !== r.bd.location && (x.yb=r.Xl.get(x.id));O7M=1;break;}}}),this.Gka=w);X2E=8;break;case 1:X2E=0 === v.length?5:4;break;case 4:w=c.platform.time.ha();X2E=3;break;case 3:X2E=null === this.Gka || this.Gka + u.Bba < w?9:8;break;case 8:v.sort(function(x,y){var P$J;P$J=2;for(;P$J !== 1;){switch(P$J){case 2:return x.level - y.level || x.Bc - y.Bc;break;}}});return v;break;case 2:(r=this,u=this.config,v=this.wh.TZ().filter(function(x){var L$l;L$l=2;for(;L$l !== 1;){switch(L$l){case 2:return !r.wh.lo(x) && 0 !== x.level;break;}}}));X2E=1;break;case 5:return null;break;}}};q.prototype.hNc=function(r){var k03,u;k03=2;for(;k03 !== 4;){switch(k03){case 2:u=this.bd.location;this.nKc=r;this.wh.TZ().forEach(function(v){var C37;C37=2;for(;C37 !== 1;){switch(C37){case 2:v.id !== u && v.yb && v.yb.confidence > e.default.zr.HV && (v.yb.confidence=e.default.zr.HV);C37=1;break;}}});k03=4;break;}}};x9K=21;break;case 2:d.__extends(q,p);q.prototype.TZ=function(){var G2E;G2E=2;for(;G2E !== 1;){switch(G2E){case 2:return this.wh.TZ();break;case 4:return this.wh.TZ();break;}}};q.prototype.J0a=function(r){var E1i;E1i=2;for(;E1i !== 1;){switch(E1i){case 2:return this.wh.J0a(r);break;}}};x9K=4;break;case 35:return q;break;}}})(t.EventEmitter);b.r5=a;},54962:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.mJ=void 0;d=a(22970);n=d.__importStar(a(17267));t=a(66164);c=a(65161);f=d.__importDefault(a(14282));g=a(36670);e=new t.platform.Console("ASEJS_OC_NETWORK","media|asejs");a=(function(){function h(k,l){this.Xl=k;this.Ba=l;this.Tj={};this.Ik={};this.streams={};this.urls={};this.Aca=[];this.UD={id:"network",yq:f.default.hk.iJ,Og:g.Ne.$p,hE:void 0,parent:void 0,children:this.Aca};}h.xJb=function(k){var l,m,p;k=k.parent;l=!1;if(k && k.children){m={};m[g.Ne.$p]=[];m[g.Ne.aq]=[];m[g.Ne.TEMPORARY]=[];p=k.children;p.forEach(function(q){q && m[q.Og].push(q);});0 < m[g.Ne.$p].length || (m[g.Ne.aq].length === p.length?k.Og !== g.Ne.aq && (k.Og=g.Ne.aq,e.error("PERM failing :",f.default.hk.name[k.yq] + " " + k.id),l=!0):k.Og === g.Ne.$p && (k.Og=g.Ne.TEMPORARY,e.error("TEMP failing :",f.default.hk.name[k.yq] + " " + k.id),l=!0),l && h.xJb(k));}};h.dEc=function(k){var m;for(var l=[];k;k=k.parent)switch(k.yq){case f.default.hk.PO:m=k;l.unshift(m.id + "(" + m.name + ")");break;case f.default.hk.LOCATION:l.unshift(k.id);break;case f.default.hk.URL:l.unshift("<url for " + k.stream.bitrate + ">");}return l.length?"/" + l.join("/"):"";};h.yJb=function(k){var l;if((k=k.parent) && 0 < k.children.length && k.Og !== g.Ne.$p){l={};l[g.Ne.$p]=[];l[g.Ne.aq]=[];l[g.Ne.TEMPORARY]=[];k.children.forEach(function(m){m && l[m.Og].push(m);});0 < l[g.Ne.$p].length && (k.Og=g.Ne.$p,h.yJb(k));}};h.rmc=function(k){switch(k.Og){case g.Ne.$p:return "OK";case g.Ne.aq:return "FAILED PERMANENTLY";case g.Ne.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}};h.reset=function(k,l){if(k.Og === g.Ne.TEMPORARY || k.Og === g.Ne.aq && l)k.Og=g.Ne.$p;k.children && k.children.forEach(function(m){m && h.reset(m,l);});};h.prototype.TZ=function(){return this.Aca;};h.prototype.Ctc=function(k,l){for(var m=0;m < k.urls.length;m++)if(k.urls[m].Ab.id === l)return k.urls[m];};h.prototype.Vd=function(){return this.lo(this.UD);};Object.defineProperties(h.prototype,{zca:{get:function(){return this.UD.Og;},set:function(k){this.UD.Og=k;},enumerable:!1,configurable:!0}});h.prototype.J0a=function(k){if((k=this.urls[k]) && k.parent)return k.parent.id;};h.prototype.hH=function(k){return this.Ik[k];};h.prototype.Opa=function(k){var l,m,r;m=[];try{for(var p=d.__values(Object.keys(this.urls)),q=p.next();!q.done;q=p.next()){r=this.urls[q.value];r.url === k.url && m.push(r.Ab);}}catch(v){var u;u={error:v};}finally{try{q && !q.done && (l=p.return) && l.call(p);}finally{if(u)throw u.error;}}return m;};h.prototype.nRa=function(k){for(var l in this.streams)if(this.streams[l].M7 === k)return this.streams[l];};h.prototype.ZJ=function(k,l,m){var p,q,r,u;p=this;void 0 === m && (m=f.default.Dz.vbb);k.locations.forEach(function(v){var w,x,y,A;w=v.key;if(p.Tj[w])(p.Tj[w].Bc=v.rank,p.Tj[w].level=v.level,p.Tj[w].weight=v.weight);else {x=[];y=p.Xl.get(w);A=p.UD;v={id:w,yq:f.default.hk.LOCATION,Og:g.Ne.$p,Bc:v.rank,level:v.level,weight:v.weight,hE:void 0,parent:A,children:x,Ik:x,streams:{},yb:y};p.Tj[v.id]=v;A.children.push(v);}});this.Aca.sort(function(v,w){return v.level - w.level || v.Bc - w.Bc;});k.servers.forEach(function(v){var w,x,y;w=v.id;if(p.Ik[w])p.Ik[w].Bc=v.rank;else {x=p.Tj[v.key];if(x){y=[];v={id:w,yq:f.default.hk.PO,Og:g.Ne.$p,hE:void 0,parent:x,children:y,urls:y,name:v.name,type:v.type,Bc:v.rank,location:x};p.Ik[v.id]=v;x.children.push(v);}}});u=!0;l && (u=!1,this.CKc(l));k.audio_tracks.forEach(function(v){p.IZa(c.u.X,v,u);});k.video_tracks.forEach(function(v){p.IZa(c.u.U,v,u);});null === (q=k.timedtexttracks) || void 0 === q?void 0:q.forEach(function(v){p.tKc(v,u);});null === (r=k.mediaEventTracks) || void 0 === r?void 0:r.forEach(function(v){p.IZa(c.u.um,v,u);});k=this.Aca.filter(function(v){var w;w=v.Ik.every(function(x){return 0 === x.urls.length;});w && (v.Ik.forEach(function(x){p.Ik[x.id]=void 0;}),p.Tj[v.id]=void 0,v.parent=void 0,v.children.length=0,v.streams={});return !w;});k.forEach(function(v){v.Ik.sort(function(w,x){return w.Bc - x.Bc;});});this.Aca=k;this.UD.children=k;this.dump();};h.prototype.lo=function(k){return k.Og !== g.Ne.$p;};h.prototype.CKc=function(k){var m,p,q;function l(w){Object.keys(w).forEach(function(x){var y,A;y=w[x];q.add(x);if(y){A=p.streams[x];p.streams[x]=A?d.__assign(d.__assign({},A),y):{id:x,bitrate:y.bitrate,Qb:null,type:y.mediaType,clear:y.yk?!1:!0,pp:!0,urls:[],b3:{},Tj:[],M7:y,EVa:p.Ba?"LIVE":void 0};}});}p=this;q=new Set();try{for(var r=d.__values(k),u=r.next();!u.done;u=r.next())l(u.value);}catch(w){var v;v={error:w};}finally{try{u && !u.done && (m=r.return) && m.call(r);}finally{if(v)throw v.error;}}Object.keys(this.streams).forEach(function(w){q.has(w) || delete p.streams[w];});};h.prototype.IZa=function(k,l,m){var p;p=this;l.streams.forEach(function(q){p.qJb(k,q.downloadable_id.toString(),q,m);});};h.prototype.tKc=function(k,l){var m;if("none" !== k.id){m=k.downloadableIds["imsc1.1"];(k=k.ttDownloadables["imsc1.1"]) && m && this.qJb(c.u.Da,m,k,l);}};h.prototype.qJb=function(k,l,m,p){var q,r;q=this.streams[l];if(n.ky(q) && p){p="";q=0;r=null;if(k === c.u.U || k === c.u.X)(p=m.content_profile,q=m.bitrate,k === c.u.U && (r=m.vmaf));q={id:l,bitrate:q,Qb:r,type:k,profile:p,clear:0 === p.indexOf("none-"),pp:!0,urls:[],b3:{},Tj:[],EVa:this.Ba?"LIVE":void 0};this.streams[q.id]=q;}else if(!q && !p)return;this.uKc(q,m.urls);n.w9(q.b3,function(u){u.sort(function(v,w){return v.Ab.Bc - w.Ab.Bc;});});q.Tj=q.Tj.sort(function(u,v){return u.level - v.level || u.Bc - v.Bc;});};h.prototype.uKc=function(k,l){var m;m=this;l.forEach(function(p){var q,r,u,v,w;q=p.url;r=m.urls[q];u=m.Ik[p.cdn_id];m.Ba && (v=p.liveOcaCapabilities);if(u){n.ky(r) && (r={id:q,yq:f.default.hk.URL,Og:g.Ne.$p,hE:void 0,parent:u,children:[],url:q,Ab:u,stream:k,N_:v},m.urls[q]=r,u.children.push(r));w=u.location;k.urls.push(r);0 === k.Tj.filter(function(x){return x.id === w.id;}).length && k.Tj.push(w);w.streams[k.id]=k;(p=k.b3[w.id])?p.push(r):k.b3[w.id]=[r];}});};h.prototype.dump=function(){};return h;})();b.mJ=a;},62614:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hrc=function(a){var d;a=a.Ji;if(!a)return 0;d=a.aU;return 1E3 * Object.keys(d).reduce(function(n,c){c=d[c];return Math.max(n,c.duration / c.O);},0);};},82924:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.V5a=void 0;d=a(91176);n=a(7559);t=(function(){function c(f,g,e){this.config=f;this.vg=g;this.console=e;}c.prototype.Ys=function(f){this.Ea=f.Ea;};c.prototype.append=function(f,g){var e,h,k,l,m,p,q,r,u,v,w,x,y;if(f.th)return f;e=!1;h=(0,n.yxb)(this.config,this.vg);k=f.Ma;l=f.offset;m=f.hf;p=f.Eh;q=k.Pb;r=k.Tb;u=k.ZA;u=k.Gi || u;if(!f.Ma.na || !u || m)return f;v=k.ta.ea(k.qa);u=Math.floor(v.rf(this.Ea));w=g.WWa || q.ea(this.Ea.hh(2));x=w.ea(r);q=u;y=!1;g.WWa && (g=this.yob(v,x,x),q=g.sl,y=g.LFb);h=w.ea(d.I.Ca(h));r=d.I.max(h.ea(r),d.I.ia);y || (r=this.yob(v,r,x),q=r.sl,r.LFb && (--q,this.Ea.hh(q)));q < (this.config.YCc || 1)?e=!0:0 < u - q && f.Ma.Tna(u - q);return {Ma:k,offset:l,hf:m,th:e,Eh:p};};c.prototype.yob=function(f,g,e){var h;f=d.I.min(f,g);f=Math.floor(f.rf(this.Ea));g=this.Ea.hh(f);e=e.ea(g);h=0 < f && e.lessThan(d.I.Ey);return {sl:f,edd:g,S8c:e,LFb:h};};return c;})();b.V5a=t;},44237:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.xza=void 0;d=a(91176);n=a(48170);t=(function(){function c(f){this.console=f;this.FM=d.I.ia;}c.prototype.Ys=function(f){f=f.Th?f.Ae || d.I.ia:d.I.ia;this.Ae && (this.FM=f.ea(this.Ae),n.l && this.console.log("AudioDiscontinuity: profile timestamp offset change: " + this.FM.ca()));this.Ae=f;};c.prototype.append=function(f){var g,e,h,k,l,m;if(f.th)return f;g=f.Ma;e=f.offset;h=f.Eh;k=g.qa;l=g.ta;m=k.add(e);e=l.add(e);if(!this.JL)return (this.JL=e,f);l=this.JL.add(this.FM);m=m.ea(l);this.JL=e;this.FM=d.I.ia;if(m.equal(d.I.ia))return f;f.Eh=h || [];g={stream:g.Ra,pts:k.G,gap:m.G};f.Eh.push({type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:g}}});n.l && this.console.log(("AudioDiscontinuity: ").concat(JSON.stringify(g)));return f;};return c;})();b.xza=t;},75811:function(t,b,a){var c,f,g,e,h,k,l;function d(m,p,q,r,u,v,w){var x,y,A,z,B,C;if(void 0 !== m.Owa || void 0 !== m.C1a || m.ns || m.Aq){p=(null !== (x=m.end) && void 0 !== x?x:p) - m.start;x=Array(p);y=m.ns;A=m.vub?m.vub - 1:0;z=m.wub?m.wub - 1:0;B=Math.min(p,Math.max(m.Owa || 0,w && y && !A?1:0));m=Math.min(p - B,Math.max(m.C1a || 0,w && q && !z?1:0));w=Math.floor(u.rf(r));r=Math.max(0,Math.min(p - B - m,y?Math.max(0,w - A):0));C=Math.max(0,Math.min(p - B - m - r,q?Math.max(0,w - z):0));r=B + r;u=p - m - C;z=z?0:Math.max(0,w + 1 - C);w=(1 - v) / (w + 1);for(C=0;C < p;++C)x[C]=C < B?-Infinity:C >= p - m?-Infinity:y && C < r?n(v + (C - B + A) * w):q && C >= u?n(1 - (C - u + z + 1) * w):0;return x;}}function n(m){return 20 * Math.log(m) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.W5a=void 0;c=a(22970);f=a(91562);g=a(91176);e=a(69575);h=a(52571);k=a(65161);l=a(47267);t=(function(m){var w2y;w2y=2;function p(q,r,u){var D6g,v;D6g=2;for(;D6g !== 6;){switch(D6g){case 2:var T1B="1S";T1B+="I";T1B+="YbZrNJCp9";T1B;v=m.call(this,q,k.u.X) || this;D6g=5;break;case 5:v.console=q;v.config=r;v.pwa=g.I.Ca(0 <= r.pwa?r.pwa:r.oI);v.qwa=g.I.Ca(0 <= r.qwa?r.qwa:r.oI);v.Y_=Math.pow(10,(r.Y_[u] || -44) / 20);return v;break;}}}for(;w2y !== 8;){switch(w2y){case 2:c.__extends(p,m);p.prototype.na=function(q,r){var R1A,G,u,v,w,x,C,D,E,H,F,y,A,z,B;R1A=2;for(;R1A !== 39;){switch(R1A){case 17:R1A=!D?16:15;break;case 44:G=z.byteLength - C.byteLength + y.reduce(function(J,L){var M5q;M5q=2;for(;M5q !== 1;){switch(M5q){case 4:return J * L.remove;break;case 2:return J + L.remove;break;}}},0);F.forEach(function(J){var D8N;D8N=2;for(;D8N !== 1;){switch(D8N){case 2:J.offset+=G;D8N=1;break;}}});R1A=42;break;case 16:return {success:D};break;case 6:return {success:!1};break;case 2:var H0d="AudioMed";H0d+="iaFragme";H0d+="ntEditor [${fragment.mediaType}]: Attempt to edit append";H0d+="ed fragment";void 0 === r && (r=!0);x=[];(0,h.assert)(!q.MC,H0d);R1A=3;break;case 15:E && x.push(E);D=H?[(0,e.iA)(H)]:void 0;E=q.na.start;R1A=25;break;case 42:y.push.apply(y,c.__spreadArray([],c.__read(F),!1));R1A=41;break;case 41:D=(D || [z]).concat(this.M7b(A,null !== (v=null === (u=q.S0) || void 0 === u?void 0:u.offset) && void 0 !== v?v:z.byteLength,null === (w=q.S0) || void 0 === w?void 0:w.ma,y));return {success:!0,Eh:x,Gu:D};break;case 18:(C=this.Djc(q,z,r,B),D=C.success,E=C.Es,H=C.data,F=C.OK);R1A=17;break;case 11:return {success:!1};break;case 12:R1A=!z?11:10;break;case 8:var C7l="AudioMed";C7l+="iaFragmentEditor: fragment has missing respons";C7l+="e";C7l+="s";(0,h.assert)(q.BR,C7l);R1A=7;break;case 3:R1A=!q.na?9:8;break;case 7:R1A=0 >= q.Wb.$?6:14;break;case 9:return {success:!0};break;case 28:R1A=F?44:41;break;case 32:R1A=!D?31:30;break;case 14:(y=q.Gu,A=this.tub(y),z=A.TWa);A=A.ET;R1A=12;break;case 31:return {success:D};break;case 19:R1A=0 < q.na.start || q.na.Owa || q.na.ns?18:24;break;case 23:C=D?(0,e.iA)(D):z;r=this.Ejc(q,C,E,r,B);D=r.success;R1A=35;break;case 35:E=r.Es;H=r.data;F=r.OK;R1A=32;break;case 10:B=!1 === q.Vna && !y.every(function(J){var a8q=r2gzX;var v1C;v1C=2;for(;v1C !== 1;){switch(v1C){case 4:a8q.t$V(7);return a8q.l2Z(ArrayBuffer,J);break;case 2:a8q.u5O(7);return a8q.l2Z(ArrayBuffer,J);break;}}});y=[];R1A=19;break;case 25:F && y.push.apply(y,c.__spreadArray([],c.__read(F),!1));R1A=24;break;case 30:E && x.push(E);D=H?[(0,e.iA)(H)]:void 0;R1A=28;break;case 24:R1A=null !== q.na.end && q.na.end !== q.tf || q.na.C1a || q.na.Aq?23:41;break;}}};p.prototype.Djc=function(q,r,u,v){var r_R,w,x;r_R=2;for(;r_R !== 12;){switch(r_R){case 4:w=q.na.Owa;u=!(!q.na.Aq || !u);r_R=9;break;case 14:var A6V=" edit f";A6V+="ai";A6V+="l";A6V+="e";A6V+="d";var V9V="]";V9V+=":";V9V+=" ";var N2v="A";N2v+="udi";N2v+="o";N2v+="MediaF";N2v+="ragmentEditor [";var z8E="Should ";z8E+="have a header for";z8E+=" the stream that is being";z8E+=" edited";var P3I="-";P3I+="1";(0,h.assert)(x || P3I === q.stream.Ra,z8E);return (r=new f.yz(this.eM,q.stream,r,{Yd:null === x || void 0 === x?void 0:x.vca}).AKb({rl:q.na.start,O:q.Yl,gG:u,S_a:!1,ST:this.config.Q1,pS:n(this.Y_),Lna:v}))?{success:!0,Es:q.TKb(w),data:r.Ma,OK:r.OK}:(this.console.error(N2v.concat(q.mediaType,V9V).concat(q.toString(),A6V)),{success:!1});break;case 9:r_R=!(q.na.start || w || q.na.ns || u)?8:7;break;case 7:u=d(q.na,q.tf,u,q.Ea,this.pwa,this.Y_,this.config.qAb);x=q.stream.rs();r_R=14;break;case 8:return {success:!0};break;case 2:void 0 === u && (u=!0);void 0 === v && (v=!1);(0,h.assert)(q.na);r_R=4;break;}}};w2y=4;break;case 4:p.prototype.Ejc=function(q,r,u,v,w){var M45,x,y,A;M45=2;for(;M45 !== 10;){switch(M45){case 2:void 0 === u && (u=0);void 0 === v && (v=!0);M45=4;break;case 4:void 0 === w && (w=!1);(0,h.assert)(q.na);y=q.na.C1a;v=!(!q.na.Aq || !v);M45=7;break;case 6:return {success:!0};break;case 7:M45=!(null !== q.na.end && q.na.end !== q.tf || y || q.na.ns || v)?6:14;break;case 14:var a5Q=" edit ";a5Q+="f";a5Q+="ail";a5Q+="ed";var g$S="]";g$S+=":";g$S+=" ";var O6r="AudioMediaFr";O6r+="agm";O6r+="entEditor ";O6r+="[";var b3_="Should have a header for t";b3_+="he ";b3_+="stream that is being edited";var u4w="-";u4w+="1";v=d(q.na,q.tf,v,q.Ea,this.qwa,this.Y_,this.config.qAb);A=q.stream.rs();(0,h.assert)(A || u4w === q.stream.Ra,b3_);return (r=new f.yz(this.eM,q.stream,r,{Yd:null === A || void 0 === A?void 0:A.vca}).KKb({rl:(null !== (x=q.na.end) && void 0 !== x?x:q.tf) - u,O:q.Yl,gG:v,S_a:!1,ST:this.config.Q1,pS:n(this.Y_),Lna:w}))?{success:!0,Es:q.TKb(y),data:r.Ma,OK:r.OK}:(this.console.error(O6r.concat(q.mediaType,g$S).concat(q.toString(),a5Q)),{success:!1});break;}}};p.prototype.M7b=function(q,r,u,v){var M05,w,x,y,O4f,B,C,D,A,z,L8V,i4I,H1m;M05=2;for(;M05 !== 10;){switch(M05){case 9:var H5S="Re";H5S+="que";H5S+="st bytes mi";H5S+="smatch";var P_7="Must have ";P_7+="array buffers to edit optimized";P_7+=" response beyond original request";(0,h.assert)((0,l.Hwc)(q),P_7);q=1 < q.length?(0,e.iA)(q):q[0];(0,h.assert)(void 0 === u || u === q.byteLength,H5S);v.sort(function(H,F){var n6d;n6d=2;for(;n6d !== 1;){switch(n6d){case 2:return H.offset - F.offset;break;}}});M05=14;break;case 2:M05=1;break;case 4:M05=0 === q.length?3:9;break;case 3:var C4s="Expected edit offset to match request offset when e";C4s+="ntire edite";C4s+="d";C4s+=" fragment is in in";C4s+="itial response";var v7F="Expected only on";v7F+="e edit when";v7F+=" entire edit";v7F+="ed fragment is in ";v7F+="initial response";return ((0,h.assert)(1 === v.length,v7F),(0,h.assert)(v[0].offset === r,C4s),[]);break;case 1:M05=0 === v.length || v.every(function(H){var l0N,F;l0N=2;for(;l0N !== 5;){switch(l0N){case 2:F=H.offset;return F + H.remove <= r || void 0 !== u && F >= r + u;break;}}})?5:4;break;case 5:return q;break;case 14:(x=r,y=[]);try{O4f=2;for(;O4f !== 8;){switch(O4f){case 9:z=A.next();O4f=1;break;case 5:(B=z.value,C=B.offset,D=B.remove);C >= x && y.push(q.slice(x - r,C - r));r2gzX.t$V(8);x=Math.max(x,r2gzX.l2Z(D,C));O4f=9;break;case 1:O4f=!z.done?5:8;break;case 2:(A=c.__values(v),z=A.next());O4f=1;break;}}}catch(H){var E;E={error:H};}finally{L8V=2;for(;L8V !== 1;){switch(L8V){case 2:try{i4I=2;for(;i4I !== 1;){switch(i4I){case 2:z && !z.done && (w=A.return) && w.call(A);i4I=1;break;}}}finally{H1m=2;for(;H1m !== 5;){switch(H1m){case 1:throw E.error;H1m=5;break;case 3:H1m=E?6:7;break;case 2:H1m=E?1:5;break;}}}L8V=1;break;}}}x < r + q.byteLength && y.push(q.slice(x - r));return y;break;}}};return p;break;}}})(l.JDa);b.W5a=t;},5753:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.X5a=void 0;d=a(48170);t=(function(){function n(c){this.console=c;}n.prototype.Ys=function(){};n.prototype.append=function(c,f){var g,e,h,k,l,m,p;if(c.th)return c;g=!1;e=c.Ma;h=c.offset;k=c.hf;c=c.Eh;f=f.d0;l=e.Pb;if(this.Uq && l.lessThan(this.Uq.Pb)){m=this.Uq.d0.ea(e.Tb);p=e.Pb.ea(this.Uq.d0);p.lessThan(m) && (d.l && this.console.trace(("AudioOverlapGuard: skipping append of ").concat(e) + (", current error: ").concat(m.ca()) + (", discard error: ").concat(p.ca())),g=!0);}this.Uq=(e.Gi || e.ZA) && f?{d0:f,Pb:l}:void 0;return {Ma:e,offset:h,hf:k,th:g,Eh:c};};return n;})();b.X5a=t;},99125:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$$a=void 0;t=(function(){function a(d){this.Zda=!1;this.IRc=d.owc;}a.prototype.Ys=function(){};a.prototype.append=function(d){d.Ma.na && (d.Ma.GQc(this.Zda?0:this.IRc),this.Zda=!0);return d;};return a;})();b.$$a=t;},6500:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.aab=void 0;d=a(91176);n=a(52571);t=(function(){function c(f){this.console=f;}c.prototype.Ys=function(){this.Rba=this.p_=void 0;};c.prototype.byc=function(){return !(!this.Rba || !this.p_ || this.Rba.equal(this.p_));};c.prototype.PUa=function(f){return Math.abs(f.$) > Math.pow(2,31);};c.prototype.append=function(f){var g,e,h,k,l,m;g=f.Ma;e=f.offset;h=f.hf;k=f.th;f=f.Eh;if(this.p_ && this.Rba && e.equal(this.p_))return {Ma:g,offset:this.Rba,hf:h,th:k,Eh:f};l=e;if(this.PUa(l)){m=(0,d.VK)(l.$,l.O);l=l.Kc(l.O / m);this.console.info(("IntOffsetOverflowProtector: performing gcd on the offset to reduce the timescale. From ").concat(e.ca()," to ").concat(l.ca()));}void 0 === this.p_?this.PUa(l) && (l=e.Kc(1),this.console.info(("IntOffsetOverflowProtector: offset ticks too large, needs timescale reduction. From ").concat(e.ca()," to ").concat(l.ca()))):(0,n.assert)(!this.PUa(l) && !this.byc(),("IntOffsetOverflowProtector: splicing is not supported with large offsets ").concat(l.ca()));this.p_=e;this.Rba=l;return {Ma:g,offset:l,hf:h,th:k,Eh:f};};return c;})();b.aab=t;},22074:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Zab=void 0;d=a(91176);n=a(8149);t=(function(){function c(){}c.prototype.Ys=function(f){this.Gk=(0,n.zk)(f)?f.Gk:d.I.ia;this.O=f.O;};c.prototype.append=function(f){var g,e,h,k;g=f.Ma;e=f.hf;h=f.th;k=f.Eh;f=f.offset.ea(this.Gk.Kc(this.O));return {Ma:g,offset:f,hf:e,th:h,Eh:k};};return c;})();b.Zab=t;},47267:function(t,b,a){var n,c,f,g;function d(e){var h;return null === (h=e.every) || void 0 === h?void 0:h.call(e,function(k){return k instanceof ArrayBuffer;});}Object.defineProperties(b,{__esModule:{value:!0}});b.JDa=void 0;b.Hwc=d;n=a(66164);c=a(91562);f=a(91176);g=a(69575);t=(function(){function e(h,k){this.console=h;this.mediaType=k;this.eM=new n.platform.Console("MP4","media|asejs");}e.prototype.yac=function(h){return h.stream.QAb;};e.prototype.tub=function(h,k){var l,m,u;void 0 === k && (k=!1);l=h[0];if(!(l instanceof ArrayBuffer))return (this.eM.warn(("MediaFragmentEditor [").concat(this.mediaType,"]: response is not ArrayBuffer")),{ET:h});m=c.gJ.path(new DataView(l),["moof"]).end;if(!m)return (this.eM.warn(("MediaFragmentEditor [").concat(this.mediaType,"]: start of moof not found in first response")),{ET:h});for(var p=m + (k?8:0),q=l.byteLength,r=1;q < p && r < h.length;){u=h[r];u instanceof ArrayBuffer && (q+=u.byteLength);++r;}if(q < p)return (this.eM.warn(("MediaFragmentEditor [").concat(this.mediaType,"]: moof not found in responses")),{ET:h});if(1 !== r){l=h.slice(0,r);if(!d(l))return (this.eM.warn(("MediaFragmentEditor [").concat(this.mediaType,"]: moof responses are not ArrayBuffer")),{ET:h});l=(0,g.iA)(l);}h=h.slice(r);return k?(k=new DataView(l),r=k.getUint32(m),(0,f.assert)("mdat" === (0,c.xJ)(k.getUint32(m + 4)),"Expected mdat after moof"),{TWa:l,eCc:m,fCc:r,ET:h}):{TWa:l,ET:h};};return e;})();b.JDa=t;},98321:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y;Object.defineProperties(b,{__esModule:{value:!0}});b.mcb=void 0;d=a(91176);n=a(66164);c=a(65161);f=a(52571);g=a(15341);e=a(31330);h=a(5483);k=a(81600);l=a(41329);m=a(99125);p=a(82924);q=a(5753);r=a(75811);u=a(44237);v=a(15625);w=a(44646);x=a(6500);y=a(22074);t=(function(){function A(z,B,C,D){this.config=z;this.mediaType=B;this.vg=C;this.console=D;}A.prototype.append=function(z,B){var C,D,E,H,F,G;void 0 === this.track?this.Kqa(z.stream):this.track !== z.stream.track && ((0,f.assert)(void 0 !== this.Sm),(0,f.assert)(this.mediaType !== c.u.X || this.track.Ea),(0,f.assert)(this.mediaType !== c.u.X || z.stream.track.Ea),this.track=z.stream.track,this.Sm.forEach(function(J){return J.Ys(z.stream);}));(0,f.assert)(void 0 !== this.Sm);E=this.Sm.reduce(function(J,L){return L.append(J,B);},{Ma:z,offset:z.ova || d.I.ia,hf:this.config.W1,th:!1});H=E.Ma;F=E.offset;G=E.th;E=E.Eh;E=void 0 === E?[]:E;H.na && ((0,f.assert)(z.na,"Fragments must be marked for edit at request time"),z.yh(H.na));if(G || null === (C=this.yWa) || void 0 === C || !C.yac(z))return {offset:F,th:G};C=this.yWa.na(z,!(null === (D=z.K) || void 0 === D || !D.Aq));D=C.success;H=C.Eh;C=C.Gu;Array.prototype.push.apply(E,void 0 === H?[]:H);return {offset:F,th:!D,Eh:E,Gu:C};};A.prototype.reset=function(){this.Sm=this.track=void 0;};A.prototype.Kqa=function(z){var B,C,D;this.track=z.track;this.mediaType === c.u.X?this.yWa=new r.W5a(this.console,this.config,z.profile):this.mediaType === c.u.U && (this.yWa=new v.Cib(this.console,this.config));this.Sm=[];this.mediaType === c.u.X && (this.Sm.push(new g.Dfb(this.config,this.vg,this.console)),this.config.W1 && this.Sm.push(new h.Agb(this.config,this.console)),this.Sm.push(new w.qhb(this.console)),z.Th && z.Ae && this.ZTa(z.M.J) && this.Sm.push(new m.$$a(this.config)),this.config.hca || (this.console.log(("MediaSplicer: NegativePtsGuard:  ").concat(null === (B=z.Ae) || void 0 === B?void 0:B.ca())),this.Sm.push(new k.Mcb(this.config,this.console))),this.dBb()?(this.config.En || this.Sm.push(new p.V5a(this.config,this.vg,this.console)),this.config.W1 && this.Sm.push(new u.xza(this.console)),!1 !== (null === (C=n.platform.MediaSource.vg) || void 0 === C?void 0:C.Qcd) && this.Sm.push(new e.bdb(this.console)),this.config.uVc && ((0,f.assert)(z.Ea),this.Sm.push(new l.eib(z.Ea,this.console)))):(this.Sm.push(new q.X5a(this.console)),this.config.W1 && this.Sm.push(new u.xza(this.console))));if(z.M.Eb || (null === (D=z.M.Xj) || void 0 === D?0:D.Eb))(this.Sm.push(new y.Zab()),this.dBb() && this.Sm.push(new x.aab(this.console)));this.Sm.forEach(function(E){return E.Ys(z);});};A.prototype.ZTa=function(z){return this.config.ZTa || this.config.sAb && -1 !== this.config.sAb.indexOf(z);};A.prototype.dBb=function(){return !this.config.PT;};return A;})();b.mcb=t;},81600:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Mcb=void 0;d=a(91176);n=a(52571);c=a(48170);t=(function(){function f(g,e){this.console=e;this.Zda=!1;this.Th=g.Th;}f.prototype.Ys=function(g){(0,n.assert)(g.Ea,"NegativePtsGuard: stream.frameDuration must exist.");this.Ea=g.Ea;this.Th=g.Th;this.Ae=g.Ae || d.I.ia;};f.prototype.append=function(g){var e,h,k,l,m;if(this.Zda || g.th)return g;e=g.Ma;h=g.offset;k=g.hf;g=g.Eh;if(e.na){l=e.qa.ea(this.Th?this.Ae:d.I.ia).add(h);if(l.lessThan(d.I.ia)){m=Math.ceil(l.hh(-1).rf(this.Ea));c.l && this.console.trace(("NegativePtsGuard: dropping ").concat(m," frames on first fragment to avoid nagative pts, ") + ("profile offset ").concat(this.Ae.ca(),", ") + ("request content start ").concat(e.qa.ca(),", ") + ("current timestamp offset ").concat(h.ca()," => ") + ("firstPlatformTimestamp ").concat(l.ca(),"."));e.NOa(m);}}this.Zda=!0;return {Ma:e,offset:h,hf:k,th:!1,Eh:g};};return f;})();b.Mcb=t;},31330:function(t,b,a){var n,c,f,g,e;function d(h){return ("").concat(h.ca()," (nrdp: ").concat(h.VT,"ms)");}Object.defineProperties(b,{__esModule:{value:!0}});b.bdb=void 0;n=a(91176);c=a(78647);f=a(48170);g=a(52571);e=a(8149);t=(function(){function h(k){this.console=k;this.offset=this.Gk=this.FM=n.I.ia;}h.prototype.Ys=function(k){var l;(0,g.assert)(k.Ea,"NrdpRounding: stream.frameDuration must exist.");this.Ea=k.Ea;l=k.Th?k.Ae || n.I.ia:n.I.ia;this.Ae && (this.FM=l.ea(this.Ae));this.Ae=l;this.Gk=(0,e.zk)(k)?k.Gk || n.I.ia:n.I.ia;f.l && this.console.trace(("NrdpRounding::setStream: live ").concat((0,e.zk)(k)?"true":"false",", ") + ("profile offset: ").concat(this.Ae.ca(),", ") + ("presentation offset: ").concat(this.Gk.ca()));};h.prototype.append=function(k){var l,m,p,q,r;(0,g.assert)(this.Ae,"NrdpRounding: profileTimestampOffset must exist.");(0,g.assert)(this.Ea,"NrdpRounding: frameDuration must exist.");if(k.th)return k;l=k.Ma;m=k.offset;p=k.hf;q=k.Eh;if(void 0 !== this.kCb){(0,g.assert)(void 0 !== this.dVa);r=this.kCb.add(this.FM);l.qa.add(k.offset).equal(r)?(k=this.dac(l,m.add(this.offset)).G - this.dVa,0 > k?this.offset=this.offset.add(n.I.Ey):0 === k?this.offset.lessThan(n.I.ia) && (this.offset=this.offset.add(n.I.Ey)):1 === k?this.offset.greaterThan(n.I.ia) && (this.offset=this.offset.ea(n.I.Ey)):this.offset=this.offset.ea(n.I.Ey)):(f.l && this.console.trace("NrdpRounding: non-seamless: reverting to zero offset"),this.offset=n.I.ia);}this.dVa=this.cac(l,m.add(this.offset)).G;this.kCb=l.ta.add(m);this.FM=n.I.ia;return {Ma:l,offset:m.add(this.offset),hf:p,th:!1,Eh:q};};h.prototype.dac=function(k,l){var m,p;k=this.tmb(k.qa);l=l.ea(this.Gk);m=(0,c.TD)(k).add((0,c.TD)(l));p=k.add(l).ea(m);f.l && this.console.trace("NrdpRounding: content start " + d(k) + ", adjusted offset: " + d(l) + ", start rounding error: " + (0,c.TD)(k).toString() + ", adjusted offset rounding error: " + (0,c.TD)(l).toString() + ", total error: " + m.toString() + ", expected nrdp value:" + p.ca() + ", (" + k.VT + l.VT + "ms), last fragment end nrdp: " + this.dVa);return p;};h.prototype.cac=function(k,l){var m,p,q;m=this.Ea;k=this.tmb(k.ta);l=l.ea(this.Gk);p=(0,c.TD)(k.ea(m)).add((0,c.TD)(m)).add((0,c.TD)(l));q=k.add(l).ea(p);f.l && this.console.trace("NrdpRounding: content end: start of last frame:" + d(k.ea(m)) + ", frame duration: " + d(m) + ", adjusted offset: " + d(l) + ", timestamp rounding error: " + (0,c.TD)(k.ea(m)).toString() + ", frame duration rouding error: " + (0,c.TD)(m).toString() + ", adjusted offset rounding error: " + (0,c.TD)(l).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.ca() + ", (" + k.ea(m).VT + m.VT + l.VT + "ms)");return q;};h.prototype.tmb=function(k){return k.add(this.Gk).ea(this.Ae);};return h;})();b.bdb=t;},15341:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Dfb=void 0;d=a(91176);t=(function(){function n(c,f,g){var e;this.config=c;this.vg=f;this.console=g;this.iE=d.I.ia;this.console.debug("ProfileTimestampOffset initialized with config:",{c9:this.config.c9,cK:this.config.cK,O3a:this.config.O3a,wOa:null === (e=this.vg) || void 0 === e?void 0:e.wOa});}n.prototype.Ys=function(c){this.iE=this.hac(c);this.console.debug(("ProfileTimestampOffset for ").concat(c.track.sLa,": ") + this.iE.ca());};n.prototype.append=function(c){var f,g,e,h;f=c.Ma;g=c.offset;e=c.hf;h=c.th;c=c.Eh;this.console.debug("ProfileTimestampOffset.append applying adjustment:",{Ubd:g.ca(),Acd:this.iE.ca(),Vcd:g.add(this.iE).ca()});return {Ma:f,offset:g.add(this.iE),hf:e,th:h,Eh:c};};n.prototype.hac=function(c){var f,g,e;f=c.track.sLa;if(void 0 === f)return (this.console.debug("ProfileTimestampOffset.calculateProfileTimestampOffset: No codec name, returning zero offset"),d.I.ia);c=c.Ae;g=this.vOa(f);e=c.ea(g);this.console.debug("ProfileTimestampOffset.calculateProfileTimestampAdjustment:",{x8:f,Tdd:c.ca(),vOa:g.ca(),result:e.ca()});return e;};n.prototype.vOa=function(c){var f,g,e;g=d.I.ia;if("AAC" === c){e=null === (f=this.vg) || void 0 === f?void 0:f.wOa;this.config.O3a && void 0 !== e && 0 <= e?(g=new d.I(-e,48E3),this.console.debug("ProfileTimestampOffset using device assumed AAC encoder delay:",{wOa:e,Hbd:g.ca()})):this.config.cK || (g=new d.I(this.config.c9.ticks,this.config.c9.timescale));}this.console.debug("ProfileTimestampOffset.deviceAppliedTimestampOffset final result:",{x8:c,vOa:g.ca()});return g;};return n;})();b.Dfb=t;},5483:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Agb=void 0;d=a(91176);n=a(52571);c=a(48170);t=(function(){function f(g,e){this.config=g;this.console=e;this.Qt=d.I.ia;}f.prototype.Ys=function(g){(0,n.assert)(g.Ea,"SeamlessAudio: stream.frameDuration must exist.");this.Ea=g.Ea;g=g.profile;this.Nsa=this.orc(g,this.Ea);this.ysa=this.krc(g,this.Ea);this.g_=-1 !== this.config.tnb.indexOf(g);};f.prototype.append=function(g,e){var h,k,l,m,p;if(g.th)return g;h=g.Ma;k=g.offset;l=g.Eh;l=void 0 === l?[]:l;g=g.hf;m=e.d0;e=e.WWa;p=this.cIb || (this.JL?m:void 0);p && (p=this.dDc(h,p),h.na && !this.g_ && this.yLa(p)?(c.l && this.console.trace("SeamlessAudio: dropping first frame"),h.NOa(1),this.Qt=p):(this.Qt=p.add(this.Ea),this.Fnb(this.Qt) || (c.l && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + h.Tb.ca() + " error would be " + this.Qt.ca() + " (editing " + (h.na?"":"not ") + "allowed)"),l.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:h.Ra,pts:h.qa.G}}}}),this.Qt=d.I.ia,g=!1)),this.cIb=void 0);if(h.Gi || h.ZA)((0,n.assert)(m,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!h.na || !e && h.ZA || (p=this.eDc(h,m,e),e && this.g_ && p.Wf(this.Ea)?(c.l && this.console.trace("SeamlessAudio: dropping last two frames"),h.Tna(2)):p.Wf(d.I.ia) && (c.l && this.console.trace("SeamlessAudio: dropping last frame"),h.Tna(1))),this.cIb=m);(0,n.assert)(this.Fnb(this.Qt));this.JL=h.Pb;c.l && this.console.trace("SeamlessAudio: splice: " + (null === m || void 0 === m?void 0:m.ca()) + " c: " + h.qa.ca() + " - " + h.ta.ca() + " av sync offset: " + this.Qt.ca() + " pts offset: " + k.add(this.Qt).ca() + " p: " + h.qa.add(k).add(this.Qt).ca() + " - " + h.ta.add(k).add(this.Qt).ca());return {Ma:h,offset:k.add(this.Qt),hf:g,th:0 === h.lI,Eh:l.length?l:void 0};};f.prototype.eDc=function(g,e,h){var k;if(h)k=this.Qt.add(g.Pb.ea(h)).ea(this.Ea);else (k=g.Pb.ea(e),k=this.Qt.add(k).ea(this.Ea));c.l && this.console.trace("SeamlessAudio: fragment end: " + g.Pb.ca() + ", splice " + e.ca() + ", next start " + (null === h || void 0 === h?void 0:h.ca()) + ", error " + k.add(this.Ea).ca() + ", error with frame drop " + k.ca() + ", is" + (this.yLa(k)?"":" not") + " within bounds of [" + this.Nsa.ca() + " and " + this.ysa.ca() + ")");return k;};f.prototype.dDc=function(g,e){var h;(0,n.assert)(this.JL);h=this.Qt.add(this.JL.ea(g.Tb)).ea(this.Ea);c.l && this.console.trace("SeamlessAudio: fragment start: " + g.Tb.ca() + ", splice " + e.ca() + ", last fragment end: " + this.JL.ca() + ", error " + h.add(this.Ea).ca() + ", error with frame drop " + h.ca() + ", is" + (this.yLa(h)?"":" not") + " within bounds of [" + this.Nsa.ca() + " and " + this.ysa.ca() + ")");return h;};f.prototype.yLa=function(g){return g.ln(this.ysa) && g.Wf(this.Nsa);};f.prototype.Fnb=function(g){return g.lessThan(this.ysa.add(d.I.Ey)) && g.Wf(this.Nsa.ea(d.I.Ey));};f.prototype.krc=function(g,e){return "object" === typeof this.config.r0a && void 0 !== this.config.r0a[g]?(g=new d.I(this.config.r0a[g],1E3).Kc(e.O).add(new d.I(1,e.O)),d.I.min(e,g)):e;};f.prototype.orc=function(g,e){var h;if("object" === typeof this.config.s0a && void 0 !== this.config.s0a[g]){h=e.rf(-2);g=new d.I(this.config.s0a[g],1E3).Kc(e.O).ea(new d.I(1,e.O));return d.I.max(h,g);}return new d.I(-12,1E3);};return f;})();b.Agb=t;},44646:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.qhb=void 0;d=a(91176);n=a(48170);t=(function(){function c(f){this.console=f;this.dua=d.I.ia;this.Gsb=!1;this.iE=d.I.ia;}c.prototype.Ys=function(f){var g;g=f.Th?f.Ae:d.I.ia;this.Gsb || (this.dua=g,this.Gsb=!0);this.iE=g.ea(this.dua);n.l && this.console.debug("StreamingProfileTimestampOffset initialized with profile timestamp offset:",{dua:this.dua.ca(),F5c:g.ca(),iE:this.iE.ca(),Ra:f.Ra});};c.prototype.append=function(f){var g,e,h;if(f.th)return f;g=f.hf;e=f.th;h=f.Eh;return {Ma:f.Ma,offset:f.offset.add(this.iE),hf:g,th:e,Eh:h};};return c;})();b.qhb=t;},41329:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.eib=void 0;d=a(91176);n=a(48170);t=(function(){function c(f,g){this.Ea=f;this.console=g;this.Ae=d.I.ia;}c.prototype.Ys=function(f){this.Ae=f.Th?f.Ae:d.I.ia;n.l && this.console.debug("TruncateEndOfStreamAudio initialized with profile timestamp offset:",{Ae:this.Ae.ca(),Ra:f.Ra});};c.prototype.append=function(f,g){var e,h,k,l,m,p;e=f.Ma;h=f.offset;k=f.hf;l=f.Eh;f=f.th;if(!f){m=g.endOfStream;g=g.d0;if(m && g){m=e.qa.ea(this.Ae).add(h);p=e.ta.ea(this.Ae).add(h);g=g.ea(d.I.Ey);n.l && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + m.ca() + "-" + p.ca() + " vs media splice point at " + g.ca());m.add(this.Ea).Wf(g)?(n.l && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),f=!0):p.Wf(g) && (g=Math.ceil(p.ea(g).rf(this.Ea)),e.na?(n.l && this.console.trace(("TruncateEndOfStreamAudio: drop ").concat(g," frames")),e.Tna(g)):(n.l && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),f=!0));}else m && n.l && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {Ma:e,offset:h,hf:k,th:f,Eh:l};};return c;})();b.eib=t;},15625:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Cib=void 0;d=a(22970);n=a(91562);c=a(52571);f=a(69575);g=a(45247);t=(function(e){function h(k,l){var m;m=e.call(this,k,g.u.U) || this;m.console=k;m.config=l;return m;}d.__extends(h,e);h.prototype.na=function(k){var l,m,p,q,r,u,v,w,x,y;(0,c.assert)(!k.MC,"AudioMediaFragmentEditor [${fragment.mediaType}]: Attempt to edit appended fragment");if(!k.na)return {success:!0};m=0 < k.na.start;p=null !== k.na.end && k.na.end < k.tf;if(!m && !p)return {success:!0};(0,c.assert)(k.BR,"AudioMediaFragmentEditor: fragment has missing responses");if(0 >= k.Wb.$)return {success:!1};q=k.Gu;r=this.tub(q,!0);u=r.TWa;v=r.eCc;w=r.fCc;r=r.ET;if(!u || !v || !w)return {success:!1};v=u.slice(0,v);q=!1 === k.Vna && !q.every(function(A){return A instanceof ArrayBuffer;});w=k.stream.rs();(0,c.assert)(w || "-1" === k.stream.Ra,"Should have a header for the stream that is being edited");if(m){m=new n.yz(this.eM,k.stream,u,{Yd:null === w || void 0 === w?void 0:w.vca});x=m.AKb({rl:k.na.start,O:k.O,Lna:q});}if(p && !1 !== x){m=new n.yz(this.eM,k.stream,x?(0,f.iA)(x.Ma):u,{Yd:null === w || void 0 === w?void 0:w.vca});y=m.KKb({rl:(null !== (l=k.na.end) && void 0 !== l?l:k.tf) - k.na.start,O:k.O,Lna:q});}k=(k=p?y:x)?[(0,f.iA)(k.Ma)]:[v];k.push.apply(k,d.__spreadArray([],d.__read(r),!1));return {success:!0,Gu:k};};return h;})(a(47267).JDa);b.Cib=t;},32412:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.$V=void 0;d=a(91176);n=a(52571);c=a(65161);t=(function(){function f(g){var e;void 0 === g && (g=[]);e=this;this.items=g;g.forEach(function(h){return e.y3a(h);});}Object.defineProperties(f.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Vq:{get:function(){var g;return null !== (g=this.video) && void 0 !== g?g:this.audio;},enumerable:!1,configurable:!0}});f.prototype.get=function(g){switch(g){case c.u.U:return this.video;case c.u.X:return this.audio;case c.u.Da:return this.text;}};f.prototype.mzb=function(g){return -1 !== this.items.indexOf(g);};f.prototype.every=function(g){return this.items.every(g);};f.prototype.some=function(g){return this.items.some(g);};f.prototype.forEach=function(g){this.items.forEach(g);};f.prototype.find=function(g){return (0,d.cc)(this.items,g);};f.prototype.reduce=function(g,e){return this.items.reduce(g,e);};f.prototype.filter=function(g){return new f(this.items.filter(g));};f.prototype.map=function(g){return this.items.map(g);};f.prototype.replace=function(g,e){var h;h=this.items.indexOf(g);(0,n.assert)(-1 < h);(0,n.assert)(g.mediaType === e.mediaType);this.items[h]=e;this.y3a(e);};f.prototype.add=function(g){this.items.push(g);this.y3a(g);};f.prototype.remove=function(g){var e;e=this.items.indexOf(g);if(-1 === e)return !1;this.items.splice(e,1);this.acc(g.mediaType);return !0;};f.prototype.clear=function(){this.items=[];this.text=this.audio=this.video=void 0;};f.prototype.y3a=function(g){switch(g.mediaType){case c.u.U:this.video=g;break;case c.u.X:this.audio=g;break;case c.u.Da:this.text=g;}};f.prototype.acc=function(g){switch(g){case c.u.U:this.video=void 0;break;case c.u.X:this.audio=void 0;break;case c.u.Da:this.text=void 0;}};return f;})();b.$V=t;},27255:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.u9a=void 0;d=a(52571);n=a(16146);t=(function(){function c(){this.global=new n.C5();this.jT={};}c.prototype.add=function(f,g){(0,d.assert)(void 0 === this.jT[f],"Cannot add new memory object for playgraph");this.jT[f]=g;this.global.add(g.Jv);this.global.add(g.q9);};return c;})();b.u9a=t;},16146:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.C5=void 0;d=a(65161);t=(function(){function n(){this[d.u.X]=0;this[d.u.U]=0;this[d.u.Da]=0;this[d.u.um]=0;}Object.defineProperties(n.prototype,{total:{get:function(){return this[d.u.X] + this[d.u.U] + this[d.u.Da];},enumerable:!1,configurable:!0}});n.prototype.add=function(c){this[d.u.X]+=Math.max(c[d.u.X] || 0,0);this[d.u.U]+=Math.max(c[d.u.U] || 0,0);this[d.u.Da]+=Math.max(c[d.u.Da] || 0,0);};n.prototype.DKa=function(c,f){this[c]+=Math.max(f || 0,0);};return n;})();b.C5=t;d.u.X;d.u.U;d.u.Da;d.u.um;},59839:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.bfb=void 0;d=a(16146);t=(function(){function n(){this.Jv=new d.C5();this.q9=new d.C5();}Object.defineProperties(n.prototype,{total:{get:function(){var c;c=new d.C5();c.add(this.Jv);c.add(this.q9);return c;},enumerable:!1,configurable:!0}});n.prototype.add=function(c){this.Jv.add(c.Jv);this.q9.add(c.q9);};n.prototype.DKa=function(c,f,g){(g?this.q9:this.Jv).DKa(c,f);};return n;})();b.bfb=t;},3033:function(t,b,a){var d,n,c,f,g,e,h,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.eO=void 0;t=a(22970);d=a(66164);n=a(45550);c=t.__importDefault(a(32838));f=t.__importDefault(a(95880));g=t.__importDefault(a(40497));e=a(52571);h=a(27977);k=t.__importDefault(a(66058));a=(function(){function m(p,q,r){var u;u=this;this.Xl=new c.default(p,r);this.hM=new f.default(p);this.eU=new k.default(p);this.bd=new g.default(this.hM,this.Xl,this.eU,p);this.bfa=new h.ihb(d.platform.ona,q);n.aO.Ycc(p);p.bda && (this.yzb=setInterval(function(){u.Xl.save();u.hM.save();},p.bda));}m.Hpa=function(p,q,r){void 0 === l?(m.config=p,m.J2a=r,l=new m(p,q,r)):((0,e.assert)(m.config === p),(0,e.assert)(m.J2a === r));return l;};m.instance=function(){(0,e.assert)(l,"CommonGlobals accessed too early");return l;};m.reset=function(){m.config=void 0;m.J2a=void 0;null === l || void 0 === l?void 0:l.reset();l=void 0;};m.prototype.reset=function(){this.bd.reset();this.yzb && clearInterval(this.yzb);};return m;})();b.eO=a;},29340:function(t,b){function a(d,n){var c;d.__proto__ && d.__proto__ !== Object.prototype && a(d.__proto__,n);Object.getOwnPropertyNames(d).forEach(function(f){c=Object.getOwnPropertyDescriptor(d,f);void 0 !== c && Object.defineProperty(n,f,c);});}Object.defineProperties(b,{__esModule:{value:!0}});b["default"]=a;},10561:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(58982),b);t.__exportStar(a(6152),b);t.__exportStar(a(85886),b);t.__exportStar(a(33421),b);t.__exportStar(a(76829),b);t.__exportStar(a(11528),b);t.__exportStar(a(65427),b);t.__exportStar(a(41535),b);t.__exportStar(a(41756),b);t.__exportStar(a(13520),b);t.__exportStar(a(67592),b);t.__exportStar(a(32984),b);t.__exportStar(a(57141),b);t.__exportStar(a(23612),b);t.__exportStar(a(90206),b);t.__exportStar(a(6198),b);t.__exportStar(a(56368),b);t.__exportStar(a(87959),b);t.__exportStar(a(84819),b);t.__exportStar(a(17479),b);t.__exportStar(a(38702),b);t.__exportStar(a(15065),b);t.__exportStar(a(80426),b);t.__exportStar(a(52741),b);t.__exportStar(a(2023),b);t.__exportStar(a(48244),b);t.__exportStar(a(9612),b);t.__exportStar(a(30030),b);t.__exportStar(a(60223),b);t.__exportStar(a(23530),b);t.__exportStar(a(77856),b);t.__exportStar(a(55025),b);t.__exportStar(a(49961),b);t.__exportStar(a(78909),b);t.__exportStar(a(34439),b);t.__exportStar(a(43102),b);t.__exportStar(a(53894),b);t.__exportStar(a(9273),b);t.__exportStar(a(66581),b);t.__exportStar(a(15869),b);t.__exportStar(a(44972),b);t.__exportStar(a(24109),b);t.__exportStar(a(6401),b);t.__exportStar(a(94480),b);},6152:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},85886:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},33421:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},76829:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},58982:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},11528:function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Sd=void 0;b.zs=function(d){return d === a.Sf || d === a.xm || d === a.Cja;};(function(d){d[d.Ct=0]="STOPPED";d[d.Sf=1]="BUFFERING";d[d.xm=2]="REBUFFERING";d[d.cq=3]="STREAMING";d[d.Cja=4]="TRACK_SWITCH";})(a || (b.Sd=a={}));},65427:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},41535:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},78909:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.dx=void 0;d=a(91176);Object.defineProperties(b,{dx:{enumerable:!0,get:function(){return d.dx;}}});},41756:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},13520:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},32984:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},24940:function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.jja=void 0;b.s$c=function(d){return d && d.OM === a.De;};b.kUa=function(d){return d && d.OM === a.De;};b.Jxc=function(d){return d && d.OM === a.De;};b.Jwc=function(d){return d && d.OM === a.De;};(function(d){d[d.De=0]="http";d[d.Fjc=1]="ella";})(a || (b.jja=a={}));},24109:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},15869:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},65161:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(22970).__exportStar(a(10561),b);},57141:function(t,b){function a(d){return "globalAudioMemoryLimit" === d || "globalVideoMemoryLimit" === d?"global":"staticAudioMemoryLimit" === d || "staticVideoMemoryLimit" === d?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.bKb=function(d){return "globalMemoryLimit" === d?"global":"staticMemoryLimit" === d?"static":a(d);};b.zLc=a;b.Udd=function(d){return ("IStreamable: ").concat(d.identifier," [").concat(d.mediaType,"] ").concat(d.groupId," ") + ("p:").concat(JSON.stringify(d.jh)," sp:").concat(d.Lw," ") + ("pssp:").concat(d.XH," ") + ("state:").concat(d.ke," path-complete:").concat(d.Du," ") + ("streaming:").concat(d.Eo," current:").concat(d.hp);};},23612:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},90206:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},56368:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},6198:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Esa=b.B5=b.Ega=b.u=void 0;b.JH=function(n){var c;return null !== (c=d.uS[n]) && void 0 !== c?c:"unknown";};d=a(26388);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return d.u;}}});Object.defineProperties(b,{Ega:{enumerable:!0,get:function(){return d.Ega;}}});b.B5=[d.u.X,d.u.U,d.u.Da];b.Esa=function(n,c,f){n=n || c?c?[d.u.U]:[d.u.X]:[d.u.X,d.u.U];f && n.push(d.u.Da);return n;};},87959:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(6198);},84819:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(6198);},17479:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});t=b.IO={};t[t.HAVE_NOTHING=0]="HAVE_NOTHING";t[t.HV=1]="HAVE_SOMETHING";t[t.GV=2]="HAVE_MINIMUM";t[t.p4=3]="HAVE_ENOUGH";},38702:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},15065:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},80426:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Ub=void 0;b.dZa=function(c){return c === d.Sd.Sf?n.Sf:c === d.Sd.xm?n.xm:c === d.Sd.Cja?n.Sf:c === d.Sd.cq?n.rg:n.Cl;};d=a(11528);(function(c){c[c.Cl=0]="STARTING";c[c.Sf=1]="BUFFERING";c[c.xm=2]="REBUFFERING";c[c.rg=3]="PLAYING";c[c.pja=4]="STOPPING";c[c.Ct=5]="STOPPED";c[c.Oi=6]="PAUSED";})(n || (b.Ub=n={}));},34439:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(58457),b);t.__exportStar(a(27066),b);t.__exportStar(a(92251),b);t.__exportStar(a(80094),b);t.__exportStar(a(87519),b);t.__exportStar(a(81451),b);t.__exportStar(a(60248),b);t.__exportStar(a(59638),b);},58457:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},60248:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},81451:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},27066:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},87519:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},92251:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},59638:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},80094:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},52741:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},2023:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},9612:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},48244:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},94480:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},30030:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},60223:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},67592:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},23530:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},77856:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},6401:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},44972:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},55025:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},49961:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},9273:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});t=b.kx={};t[t.l_b=0]="PLAYGRAPH_CHANGED";t[t.m_b=1]="PLAYGRAPH_UNCHANGED";t[t.jZb=2]="NO_MATCHING_SEGMENT_FOUND";t[t.C0b=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";t[t.sWb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";t[t.rWb=5]="EXISTING_BRANCH_UPDATE_ERROR";t[t.D0b=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";t[t.kTb=7]="APPENDED_PAST_TRUNCATION_POINT";t[t.UXb=8]="LOSS_OF_POSITION";},43102:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(85892),b);t.__exportStar(a(61555),b);},61555:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Pqa=function(a){return void 0 !== a.EQb;};b.dUa=function(a){return void 0 !== a.xml && void 0 !== a.images;};},85892:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},66581:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},53894:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},37268:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.yz=b.xz=b.vm=b.T_=b.vja=void 0;d=a(22970);n=a(66164);c=a(91562);Object.defineProperties(b,{xz:{enumerable:!0,get:function(){return c.xz;}}});Object.defineProperties(b,{yz:{enumerable:!0,get:function(){return c.yz;}}});Object.defineProperties(b,{T_:{enumerable:!0,get:function(){return c.T_;}}});Object.defineProperties(b,{vja:{enumerable:!0,get:function(){return c.vja;}}});t=(function(f){function g(e,h,k,l,m){return f.call(this,g.console,e,h,k,l,m) || this;}d.__extends(g,f);Object.defineProperties(g,{console:{get:function(){return this.sb || (this.sb=new n.platform.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return g;})(c.vm);b.vm=t;},64772:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.hBa=void 0;t=a(66164);d=a(56089);n=a(65161);new t.platform.Console("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var B1G;B1G=2;for(;B1G !== 7;){switch(B1G){case 8:return c;break;case 2:c.prototype.reset=function(){var z$C;z$C=2;for(;z$C !== 1;){switch(z$C){case 2:this.qN=new d.a7a();z$C=1;break;}}};c.prototype.uE=function(f,g){var i0i;i0i=2;for(;i0i !== 1;){switch(i0i){case 2:g.Sl && (this.HTa?this.qN.start(f,g.Sl,g.Lf):g.type === n.u.U && (this.JG[g.Sl]?this.JG[g.Sl].lga+=1:this.JG[g.Sl]={Sl:g.Sl,Lf:g.Lf,lga:1,Goa:!1},this.$Qb(f)));i0i=1;break;}}};c.prototype.vE=function(f,g){var w5V,e;w5V=2;for(;w5V !== 9;){switch(w5V){case 5:this.qN.stop(f,g.Sl,g.Lf);w5V=9;break;case 6:w5V=this.HTa?4:5;break;case 4:e=this.JG[g.Sl];g.type === n.u.U && e && (--e.lga,0 === e.lga && (e.Goa && this.qN.stop(f,g.Sl,g.Lf),e.Goa=!1,delete this.JG[g.Sl]),this.$Qb(f));w5V=9;break;case 1:w5V=this.HTa?5:4;break;case 7:w5V=g.Sl?7:6;break;case 2:w5V=g.Sl?1:9;break;}}};c.prototype.kX=function(f,g,e,h){var B60;B60=2;for(;B60 !== 1;){switch(B60){case 2:h.Sl && (this.HTa?this.qN.add(f,g,e,h.Sl,h.Lf):this.q7 === h.Sl && this.qN.add(f,g,e,h.Sl,h.Lf));B60=1;break;}}};c.prototype.jl=function(){var l8X;l8X=2;for(;l8X !== 1;){switch(l8X){case 2:return this.qN.get();break;}}};B1G=9;break;case 9:c.prototype.$Qb=function(f){var J3z,g,e;J3z=2;for(;J3z !== 5;){switch(J3z){case 2:(g=Object.keys(this.JG).map(function(h){var X51;X51=2;for(;X51 !== 1;){switch(X51){case 2:return parseInt(h);break;case 4:return parseInt(h);break;}}}),e=this.JG[g[0]]);1 === g.length && !1 === e.Goa?(this.qN.start(f,e.Sl,e.Lf),this.q7=e.Sl):1 < g.length && this.q7 && (g=this.JG[this.q7],this.qN.stop(f,this.q7,g.Lf),g.Goa=!1,this.q7=void 0);J3z=5;break;}}};B1G=8;break;}}function c(f){var D9w;D9w=2;for(;D9w !== 4;){switch(D9w){case 2:var x$3="1SIYbZ";x$3+="r";x$3+="N";x$3+="J";x$3+="Cp9";this.HTa=f;this.JG={};x$3;D9w=4;break;}}}})();b.hBa=a;},21506:function(t,b,a){var n;function d(){this.Or=void 0;this.HJ=0;}n=a(17267);d.prototype.start=function(){};d.prototype.stop=function(){};d.prototype.add=function(){};d.prototype.getState=function(){return 0 !== this.HJ && this.Or?{p25:this.Or.vw,p50:this.Or.Ks,p75:this.Or.ww,c:this.HJ}:null;};d.prototype.$i=function(c){if(!(!n.sd(c) && n.has(c,"p25") && n.has(c,"p50") && n.has(c,"p75") && n.has(c,"c") && n.isFinite(c.p25) && n.isFinite(c.p50) && n.isFinite(c.p75) && n.isFinite(c.c)))return (this.Or=void 0,this.HJ=0,!1);this.Or={vw:c.p25,Ks:c.p50,ww:c.p75};this.HJ=c.c;};d.prototype.get=function(){return {MYa:this.Or,sl:this.HJ,mta:void 0};};d.prototype.set=function(c,f){this.Or=c;this.HJ=f;};d.prototype.reset=function(){this.Or=void 0;this.HJ=0;};d.prototype.toString=function(){return "IQRHist(" + this.Or + "," + this.HJ + ")";};t.exports=d;},32838:function(t,b,a){var n,c,f,g,e,h,k,l;function d(m,p,q){return c.has(m,p)?m[p]:m[p]=q;}Object.defineProperties(b,{__esModule:{value:!0}});n=a(22970);c=n.__importStar(a(17267));f=a(66164);g=n.__importDefault(a(14282));e=a(97315);h=a(28600);new f.platform.Console("ASEJS_LOCATION_HISTORY","media|asejs");k={confidence:g.default.zr.HAVE_NOTHING,kb:{Fa:0},ay:{Fa:0},default:{Fa:0},Jh:{Fa:0},jn:{Fa:0},time:0};l=(function(){function m(p){var q;this.config=p;q=p.DIa;this.confidence=g.default.zr.HAVE_NOTHING;this.hOa=p.Cjb;p=new e.xBa(p);this.kb=p.create("throughput-location-history",q);this.ay=p.create("throughput-location-history",q);this.Bxa=p.create("throughput-location-history",q);this.Cxa=p.create("throughput-location-history",q);this.Axa=p.create("throughput-location-history",q);this.Jh=p.create("respconn-location-history",q);this.jn=p.create("respconn-location-history",q);this.xxa=p.create("throughput-tdigest-history",q);this.Oqa=p.create("throughput-iqr-history",q);this.yna=p.create("throughput-location-history",q);this.Ana=p.create("throughput-location-history",q);this.zna=p.create("throughput-location-history",q);this.Bna=p.create("throughput-location-history",q);this.time=null;}m.prototype.ola=function(p,q){this.confidence=q;this.kb.add(p);this.xxa.add(p);this.time=f.platform.time.ha();this.jI();};m.prototype.jla=function(p){this.ay.add(p);this.jI();};m.prototype.pla=function(p){this.Bxa.add(p.initial);this.Cxa.add(p.low);this.Axa.add(p.high);this.jI();};m.prototype.Rxa=function(p,q){this.Oqa.set(p,q);this.jI();};m.prototype.mX=function(p){this.Jh.add(p);this.jI();};m.prototype.lX=function(p){this.jn.add(p);this.jI();};m.prototype.hla=function(p){this.yna.add(p.Fa);this.Ana.add(p.ng);this.zna.add(p.GX);this.Bna.add(p.h3);this.jI();};m.prototype.getState=function(){var p;p={c:this.confidence,t:c.sd(this.time)?null:f.platform.time.Ssa(this.time),tp:this.kb.getState(),itp:this.ay.getState(),tcii:this.Bxa.getState(),tcil:this.Cxa.getState(),tcih:this.Axa.getState(),rt:this.Jh.getState(),hrt:this.jn.getState(),iqr:this.Oqa.getState(),td:this.xxa.getState(),dta:this.yna.getState(),dtv:this.Ana.getState(),dtta:this.zna.getState(),dttv:this.Bna.getState()};return c.sd(p.tp) && c.sd(p.rt) && c.sd(p.hrt)?null:p;};m.prototype.$i=function(p){var q;q=f.platform.time.now();if(!p || c.sd(p.c) || c.sd(p.t) || c.sd(p.tp) || !c.isFinite(p.c) || !c.isFinite(p.t) || c.sd(p.t) || 0 > p.c || p.c > g.default.zr.p4 || p.t > q || !this.kb.$i(p.tp))return (this.confidence=g.default.zr.HAVE_NOTHING,this.time=null,this.jI(),this.kb.$i(null),this.Jh.$i(null),this.jn.$i(null),!1);this.confidence=p.c;this.time=f.platform.time.Cta(p.t);this.Jh.$i(p.rt);this.jn.$i(p.hrt);this.ay.$i(p.itp);this.Bxa.$i(p.tcii);this.Cxa.$i(p.tcil);this.Axa.$i(p.tcih);this.yna.$i(p.dta);this.Ana.$i(p.dtv);this.zna.$i(p.dtta);this.Bna.$i(p.dttv);c.sd(p.iqr) || this.Oqa.$i(p.iqr);c.sd(p.td) || this.xxa.$i(p.td);return !0;};m.prototype.get=function(){var p,q,r,u,v,w,x,y,A,z,B;if(!c.ky(this.rZ)){if((f.platform.time.ha() - this.rZ) / 1E3 < this.config.U2b)return n.__assign(n.__assign({},k),{Vd:!0});this.jI();}p=this.config;if(c.sd(this.time))return k;q=(f.platform.time.ha() - this.time) / 1E3;q > p.k3b?this.confidence=g.default.zr.HAVE_NOTHING:q > p.V2b && (this.confidence=Math.min(this.confidence,g.default.zr.HV));r=this.kb.get();u=this.ay.get();p=this.Bxa.get().Fa;v=this.Cxa.get().Fa;w=this.Axa.get().Fa;x=this.Jh.get();y=this.jn.get();A=this.Oqa.get();z=this.xxa.get();B={Fa:this.yna.dSa().Fa,ng:this.Ana.dSa().Fa,GX:this.zna.get().Fa,h3:this.Bna.get().Fa};q={rX:q,confidence:this.confidence,kb:r,ay:u,default:r,Jh:x,jn:y,uL:A,vl:z,hs:B,time:0,Vd:!1};q["throughput-ci"]={initial:p,low:v,high:w};return q;};m.prototype.Yqc=function(){return {f:c.ky(this.rZ)?void 0:f.platform.time.Ssa(this.rZ),g:this.getState(),h:[null,null,null,null]};};m.prototype.qQc=function(p){this.rZ=c.ky(p.f)?void 0:f.platform.time.Cta(p.f);return this.$i(p.g);};m.prototype.fail=function(p){this.rZ=p;};m.prototype.debug=function(){this.get();c.sd(this.time) || f.platform.time.ha();};m.prototype.jI=function(){this.rZ=void 0;};return m;})();t=(function(){function m(p,q){var r;this.config=p;this.J2a=q;this.Hlc();this.tD=new l(this.config);this.load();if(p=p.nna){r=n.__assign(n.__assign({},k),{confidence:g.default.zr.p4,kb:{Fa:p,ng:0}});this.get=function(){return r;};}}m.prototype.wpa=function(p,q){var r;r=this.config;p=d(this.history,null !== p && void 0 !== p?p:"",{});return d(p,q?q:"",new l(r));};m.prototype.load=function(){var p,q;p=(0,h.OLb)("lh",this.rXc.bind(this));q=(0,h.OLb)("gh",this.dSb.bind(this));p && this.$i(p);q && this.fQc(q);};m.prototype.dSb=function(p){if(p && "object" === typeof p)return p;};m.prototype.rXc=function(p){var r,u;if(p && "object" === typeof p){for(var q in p){r=p[q];for(u in r)r[u].g=this.dSb(r[u].g) || null;}return p;}};m.prototype.getState=function(){var p,q,r,u,v;p={};for(q in this.history){r=this.history[q];for(u in r){v=r[u];d(p,q,{})[u]=v.Yqc();}}return p;};m.prototype.fQc=function(p){this.tD.$i(p);};m.prototype.$i=function(p){var q,r,u,v,w,x,y;q=!0;r=this.config;for(u in p){v=p[u];for(w in v){x=v[w];y=new l(r);y.qQc(x)?d(this.history,u,{})[w]=y:q=!1;}}return q;};m.prototype.save=function(){var p;p=this.getState();f.platform.storage.set("lh",p);f.platform.storage.set("gh",this.tD.getState());};m.prototype.Hlc=function(){this.history={};this.jna=this.Frb="";this.Xl=null;};m.prototype.Cwa=function(p){this.Frb=p;this.Xl=null;};m.prototype.TMb=function(p){this.jna=p;this.Xl=null;};m.prototype.dH=function(){c.sd(this.Xl) && (this.Xl=this.wpa(this.Frb,this.jna));return this.Xl;};m.prototype.ola=function(p,q){this.dH().ola(p,q);this.tD.ola(p,q);};m.prototype.jla=function(p){this.dH().jla(p);this.tD.jla(p);};m.prototype.pla=function(p){this.dH().pla(p);this.tD.pla(p);};m.prototype.Rxa=function(p,q){p && p.vw && p.Ks && p.ww && (this.dH().Rxa(p,q),this.tD.Rxa(p,q));};m.prototype.mX=function(p){this.dH().mX(p);this.tD.mX(p);};m.prototype.lX=function(p){this.dH().lX(p);this.tD.lX(p);};m.prototype.hla=function(p){this.dH().hla(p);this.tD.hla(p);};m.prototype.fail=function(p,q){this.wpa(p,this.jna).fail(q);};m.prototype.get=function(p){if(p=(p=this.history[p])?p[this.jna]:null)if((p=p.get(),p.confidence > g.default.zr.HAVE_NOTHING))return p;return this.tD.get();};m.prototype.debug=function(){var q,r;for(var p in this.history){q=this.history[p];for(r in q)q[r].debug(p);}};return m;})();b["default"]=t;},95880:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970).__importStar(a(17267));n=a(66164);new n.platform.Console("ASEJS_LOCATION_HISTORY","media|asejs");t=(function(){function c(f){this.config=f;this.load();}c.prototype.save=function(){var f;f=this.getState();n.platform.storage.set("nh",f);};c.prototype.yOb=function(){this.Yy || (this.Yy=!0,this.bI=n.platform.time.ha());};c.prototype.dxa=function(){var f;if(this.Yy){f=n.platform.time.ha();this.vI+=f - this.bI;this.bI=f;this.Yy=!1;this.kba=-1;}};c.prototype.zAb=function(f,g){this.Yy && (g > this.bI && (this.vI+=g - this.bI,this.bI=g),-1 === this.kba || f > this.kba) && (f=g - f,this.q_.push([this.vI - f,f]),this.trim(),this.kba=g);};c.prototype.trim=function(){var f;f=this.vI - this.config.FDc;this.q_=this.q_.filter(function(g){return g[0] > f;});};c.prototype.load=function(){var f;f=n.platform.storage.get("nh");this.$i(f) || (this.bI=n.platform.time.ha(),this.vI=0,this.Yy=!1,this.kba=-1,this.q_=[]);};c.prototype.$i=function(f){if(!(f && d.has(f,"t") && d.has(f,"s") && d.has(f,"i") && d.pc(f.t) && d.pc(f.s) && d.isArray(f.i)))return !1;this.bI=n.platform.time.Cta(1E3 * f.t);this.vI=1E3 * f.s;this.Yy=!1;this.q_=f.i.map(function(g){return [1E3 * g[0],g[1]];});this.kba=-1;return !0;};c.prototype.getState=function(){return this.Yy?{t:n.platform.time.now() / 1E3 | 0,s:(this.vI + (n.platform.time.ha() - this.bI)) / 1E3 | 0,i:this.q_.map(function(f){return [f[0] / 1E3 | 0,f[1]];})}:{t:n.platform.time.Ssa(this.bI) / 1E3 | 0,s:this.vI / 1E3 | 0,i:this.q_.map(function(f){return [f[0] / 1E3 | 0,f[1]];})};};return c;})();b["default"]=t;},40497:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=d.__importStar(a(17267));t=a(90745);c=a(66164);f=a(91176);g=a(72697);e=a(97315);h=a(96965);k=a(66917);l=a(64772);m=a(75640);p=new c.platform.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(r){function u(v,w,x,y){var A;A=r.call(this) || this;A.mt={};A.Eda=0;A.rM=0;A.r6=[];A.buffer=0;A.$j=!1;A.qCb=-Infinity;A.Srb=null;A.config=y;A.Nub=new e.xBa(y);A.G9=new l.hBa(!0);A.p7=new l.hBa(!1);y.Rkc && (A.W0=new m.Qdb(A.config));A.reset();A.hM=v;A.Rz=w;A.eU=x;A.wAb=c.platform.UD.name();A.Rz.TMb(A.wAb);c.platform.events.on("networkchange",A.RFc.bind(A));return q=A;}d.__extends(u,r);u.instance=function(){return q;};u.reset=function(){q && q.reset();};Object.defineProperties(u.prototype,{Gxc:{get:function(){return c.platform.time.now() - this.qCb < this.config.Uda;},enumerable:!1,configurable:!0}});u.prototype.RFc=function(v){this.wAb=v;this.Rz.TMb(v);};Object.defineProperties(u.prototype,{Xl:{get:function(){return this.Rz;},enumerable:!1,configurable:!0}});u.prototype.jRb=function(){var v;if(!this.x3a){v=this.yyb();this.Rz.ola(v.default.Fa,this.confidence);v["initial-throughput-ewma"] && v["initial-throughput-ewma"].Fa && this.Rz.jla(v["initial-throughput-ewma"].Fa);v["throughput-ci"] && this.Rz.pla(v["throughput-ci"]);v.deliverytime && this.Rz.hla(v.deliverytime);this.Rz.Rxa(v.uL?v.uL.MYa:void 0,v.uL?v.uL.wOc:void 0);n.sd(this.Rr) || (this.x3a=!0);}};Object.defineProperties(u.prototype,{startTime:{get:function(){return this.Wz;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{confidence:{get:function(){return this.mt.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Im:{get:function(){return this.nx;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{I5b:{get:function(){return this.r6;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{gCb:{get:function(){return this.$jb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{location:{get:function(){return this.kP;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{wFb:{get:function(){return this.skb;},enumerable:!1,configurable:!0}});u.prototype.z2b=function(){var v,w,x,y;v=this.config;w=v.K2b.concat(v.S2b).filter(Boolean);x=v.DIa;y=this.Nub;w=w.reduce(function(A,z){A[z]=y.create(z,x);return A;},{});w.confidence=new k.KO(v,new h.Qcb(v,this.Pta.bind(this)));return w;};u.prototype.reset=function(){var v,w,x,y;v=this.config.DIa;w=this.Nub;x=this.config;this.kP=null;this.skb=void 0;this.mt=this.z2b();if(this.config.Gtb){y=this.config.HPb;this.mt.CUc=new g.g4(y.numB * y.bSizeMs,y.bSizeMs);}this.G9.reset();this.p7.reset();this.Jh=w.create("respconn-ewma",v);this.jn=w.create("respconn-ewma",v);this.W0 && this.W0.reset();this.qWc=this.jRb.bind(this);n.ky(this.W2) || (clearInterval(this.W2),this.W2=void 0);this.Nd=this.Rr=this.Wz=null;this.Ixa=0;x.gLb && (this.rM=this.Eda=this.nx=0,this.r6=[]);};u.prototype.Cwa=function(v){var w;w=this.mt;if(v !== this.kP){n.ky(this.W2) || (clearInterval(this.W2),this.W2=void 0);n.sd(this.kP) && (this.Ixa=0,this.Wz=null);if(!n.sd(v)){for(var x in w)w[x] && w[x].reset && w[x].reset();this.Jh.reset();this.jn.reset();}n.sd(this.Wz) || (this.Ixa+=(n.sd(this.Rr)?c.platform.time.ha():this.Rr) - this.Wz);this.Rr=this.Wz=null;this.kP=v;this.Rz.Cwa(v);}};u.prototype.kX=function(v,w,x,y){var A,z,B;this.$jb=Math.max(this.$jb || 0,x);this.rM-=v;z=this.config;B=this.mt;if(!0 === y.n3)(y=B["throughput-wssl"]) && y.add(v,w,x,!0);else if(n.ky(w))p.warn("addDataReceived called with undefined start time");else if((this.W0 && this.W0.kX(v,w,x,y),!z.xqa || !(x - w < z.INb || y.ma <= z.HNb))){z.R2b && x - w < z.ZEb?w=x - z.ZEb:0 === x - w && (w=x - 1);this.G9.kX(v,w,x,y);this.p7.kX(v,w,x,y);for(var C in B)B[C] && B[C].add && B[C].add(v,w,x,y);n.sd(this.Wz) && (this.Wz=w,this.Rr=null,this.x3a=!1);n.sd(this.Rr) || (w > this.Rr && (this.Wz+=w - this.Rr),this.Rr=null,this.x3a=!1);n.sd(this.Nd) || (w - this.Nd > z.tkb?this.hM.zAb(this.Nd,w):x - w > z.tkb && this.hM.zAb(w,x));this.Nd=this.Nd?Math.max(x,this.Nd):x;null === (A=this.Srb) || void 0 === A?void 0:A.resolve();}};u.prototype.mX=function(v){isNaN(v) || n.sd(v) || (this.Jh.add(v),this.Rz.mX(v));};u.prototype.lX=function(v){isNaN(v) || n.sd(v) || (this.jn.add(v),this.Rz.lX(v));};u.prototype.start=function(v,w){var x;n.sd(this.Nd) && !n.sd(this.Rr) && (this.Nd=v);x=this.mt;if(this.config.Xwa)for(var y in x)x[y] && x[y].start && x[y].start(v,w);};u.prototype.stop=function(v,w){var x,y;x=this.mt;for(y in x)x[y] && x[y].stop && x[y].stop(v,w);this.Rr=n.sd(this.Rr)?v:Math.min(this.Rr,v);this.Nd=null;};u.prototype.flush=function(){var v,w;v=this.mt;for(w in v)v[w] && v[w].flush && v[w].flush();this.S$b();this.EOc();};u.prototype.EOc=function(){var v,w;v=this.wFb;w=0;v && ("uhd" in v) && (w=v.uhd);(v=this.get()) && v.avtp && v.avtp.Fa && (this.eU.l6b(v.avtp.Fa,w,v.avtp.FOa),this.eU.save());};u.prototype.S$b=function(){var v;v=this.mt.entropy;v && (this.skb=v.J$b(),v.reset());};u.prototype.yyb=function(){var v,w,x,y,A,z,B,C;v=c.platform.time.ha();w=this.mt;x=this.config;y=x.Bjb;A=x.F2b;z=x.Vkb;B={};for(C in w)w[C] && w[C].get && (B[C]=w[C].get(v,this.rM),"iqr" === w[C].type && (B.uL=B[C]),"tdigest" === w[C].type && (B.vl=B[C]),"wssl" === w[C].type && (B.n3=B[C]));B.cdnavtp=this.G9.jl();B.activecdnavtp=this.p7.jl();B.default=y && B[y] && A && void 0 !== B[y][A]?{Fa:B[y][A]}:y && B[y]?B[y]:B["throughput-ewma"];"none" !== x.mwa && "none" !== z && (B.fMb=z && B[z]?B[z]:B["throughput-sw"]);return B;};u.prototype.SRa=function(){return this.W0?this.W0.SRa():void 0;};u.prototype.get=function(){var v,w,x,y,A,z;v=this.yyb();w=v.default;x=this.Jh.get();y=this.jn.get();A=this.config;if(v.fMb){z=v.fMb;w=n.pc(w.Fa) && n.pc(z.Fa) && w.Fa > z.Fa && 0 < z.Fa?z:w;}v.kb=w;v.ay=v["initial-throughput-ewma"];!A.clc || !w || n.sd(w.Fa) || isNaN(w.Fa) || !v.n3 || n.sd(v.n3.Fa) || isNaN(v.n3.Fa) || ("max" === A.YSb?v.kb.Fa=Math.max(v.n3.Fa,w.Fa):"sum" === A.YSb && (v.kb.Fa+=v.n3.Fa));v.Jh=x;v.jn=y;this.config.Gtb && (w=this.config.HPb,v.zed=this.mt.CUc.get(w.fillS,w.fillHl));w=this.Ixa + (n.sd(this.Wz)?0:(n.sd(this.Rr)?c.platform.time.ha():this.Rr) - this.Wz);v.time=w;return v;};u.prototype.ptc=function(){var v,w,x;v={};w=this.get();if(w.confidence && w["throughput-ewma"]){v.aseavtp=Number(w["throughput-ewma"].Fa).toFixed(2);v.asevartp=Number(w["throughput-ewma"].ng).toFixed(2);if(w.uL){x=w.uL.MYa;!x || void 0 === x.ww || void 0 === x.vw || void 0 === x.Ks || isNaN(x.ww || 0) || isNaN(x.vw) || isNaN(x.Ks) || (v.aseniqr=0 < x.Ks?Number((x.ww - x.vw) / x.Ks).toFixed(2):-1,v.aseiqr=Number(x.ww - x.vw).toFixed(2),v.asemedtp=Number(x.Ks).toFixed(2));v.iqrsamples=w.uL.wOc;}w.vl && w.vl.RZ && (v.tdigest=w.vl.RZ());}return v;};u.prototype.lSa=function(){return this.eU.lSa();};u.prototype.uE=function(v,w){var x,y,A;x=w.requestId;1 === ++this.nx && this.emit("active",v);if(this.config.WY){y=this.mt;for(A in y)y[A] && y[A].uE && y[A].uE(v,w);}this.config.cxa && this.start(v,w);x && (this.config.cxa || this.start(v,w),this.r6.push(x));this.rM+=w.ma || 0;this.G9.uE(v,w);this.p7.uE(v,w);};u.prototype.tNc=function(){++this.Eda;};u.prototype.vE=function(v,w,x){var y,A,z;y=x.requestId;w && --this.Eda;--this.nx;this.rM=Math.max((this.rM || 0) - ((x.ma || 0) - (x.bytesReceived || 0)),0);this.config.gLb && (this.nx=Math.max(this.nx,0),this.Eda=Math.max(this.Eda,0));if(this.config.WY){A=this.mt;for(z in A)A[z] && A[z].vE && A[z].vE(v,w,x);}this.config.cxa && this.stop(v,x);0 === this.nx && (this.config.cxa || this.stop(v,x),this.emit("inactive",v));y && (w=this.r6.indexOf(y),0 <= w && this.r6.splice(w,1));this.G9.vE(v,x);this.p7.vE(v,x);};u.prototype.Pta=function(){this.jRb();this.W2=setInterval(this.qWc,this.config.F3b);};u.prototype.HNc=function(){return d.__awaiter(this,void 0,void 0,function(){var v,w,x,y,A,z,B,C,D,E,H;return d.__generator(this,function(F){switch(F.label){case 0:v=this.get();w=v.kb.Fa;x=v.Jh.Fa;if(this.Gxc)return [2,{CFb:w,gFc:w,qLb:x}];this.qCb=c.platform.time.now();y=this.config;A=y.Bjb;z=y.Vkb;return A.match(/ewma/)?[4,this.Srb=new f.Ko()]:[2,null];case 1:return (F.T(),B=this.get(),C=(null === (H=B["throughput-sw-fast"]) || void 0 === H?void 0:H.Fa) || 0,D=this.mt[A],E="none" !== z?this.mt[z]:null,null === D || void 0 === D?void 0:D.reset(),null === E || void 0 === E?void 0:E.reset(),[2,{CFb:C,gFc:w,qLb:x}]);}});});};return u;})(t.EventEmitter);b["default"]=a;},75539:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.nEa=b.oh=void 0;t=a(22970);d=a(90745);n=a(66164);a(97685);c=a(52571);f=a(45550);g=a(65161);e=t.__importDefault(a(40497));(function(k){k[k.gC=0]="CREATED";k[k.OPENED=1]="OPENED";k[k.QN=2]="ACTIVE";k[k.ym=3]="RECEIVING";k[k.Mn=4]="COMPLETE";k[k.Tw=5]="ABORTED";})(h || (b.oh=h={}));a=(function(){function k(l,m,p,q,r,u,v,w,x,y){this.stream=l;this.Hg=m;this.properties=r;this.listener=v;this.K=w;this.config=x;this.console=y;this.Ska=this.$O=0;this.$a=h.gC;this.Vd=!1;this.request=new n.platform.Bl(p,q,this.zsc(r,w));this.offset=u.offset;this.bf=u.ma;this.id=this.zqc();this.VNb=r.OB;this.PM=r.PM;this.Sy=r.Sy;this.responseType=void 0 === r.responseType?n.platform.Bl.vg && !n.platform.Bl.vg.V_a.FGa?0:1:r.responseType;this.Rj=this.l8b();this.mediaType === g.u.Da || !x.ila && r.gf || (this.bd=e.default.instance());}Object.defineProperties(k.prototype,{url:{get:function(){return this.Hg;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ma:{get:function(){return this.bf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mediaType:{get:function(){return this.stream.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bytesReceived:{get:function(){return this.$O;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{status:{get:function(){return this.request.status;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{nj:{get:function(){return this.request.nj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{response:{get:function(){return this.request.response;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bh:{get:function(){return this.request.bh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{jD:{get:function(){return this.request.jD;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Qg:{get:function(){return this.request.Qg;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{CK:{get:function(){return this.request.track;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{kI:{get:function(){return this.request.kI;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{uw:{get:function(){return this.$a >= h.OPENED && this.$a < h.Mn;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.$a >= h.QN && this.$a < h.Mn;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{g_a:{get:function(){return this.$a === h.ym;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.$a === h.Mn;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{aborted:{get:function(){return this.$a === h.Tw;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{state:{get:function(){return this.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{endOffset:{get:function(){return this.offset + this.bf - 1;},enumerable:!1,configurable:!0}});k.prototype.open=function(){if(this.$a !== h.gC || !this.request.open(this.Hg,{start:this.offset,end:this.endOffset},this.responseType,{},void 0,void 0,this.VNb,this.stream.Mw,this.stream.Ba?this.stream.M.Nq.LK:void 0))return !1;this.$a=h.OPENED;return !0;};k.prototype.E2=function(l){if(this.state < h.OPENED || this.state >= h.Mn)return (this.Hg=l,!0);if(this.Hg === l){if(this.Vd || this.state === h.QN && n.platform.time.ha() - this.nj > this.config.bDc)return this.MOc();}else return (this.LMa(),this.Ska=0,this.Hg=l,this.Vd=!1,this.request.E2(l));return !0;};k.prototype.MOc=function(){var l,m;l=this;if(void 0 === this.jea){m=this.request.nj?n.platform.time.ha() - this.request.nj:0;m=Math.max(0,this.config.gta - m);m+=Math.random() * Math.min(this.config.HDc * Math.pow(2,this.Ska),this.config.GDc);this.Ska+=1;this.jea=setTimeout(function(){l.jea=void 0;l.state < h.Mn && (l.Vd || l.state === h.QN) && (l.Vd=!1,l.request.E2(l.Hg) || l.listener.Fy(l));},m);}return !0;};k.prototype.abort=function(){var l;if(this.aborted)return !0;this.active && (null === (l=this.bd) || void 0 === l?void 0:l.vE(n.platform.time.ha(),this.g_a,this.ZZ()));this.$a=h.Tw;this.LMa();this.request.abort();return !0;};k.prototype.Se=function(){var l,m,p;if(7 !== this.request.readyState && 5 !== this.request.readyState){m=this.uw;p=this.active;this.abort();this.listener.Q0(this,p,m);}this.LMa();null === (l=this.Rj) || void 0 === l?void 0:l.clear();this.request.Se();};k.prototype.getResponseHeader=function(l,m){return this.request.getResponseHeader(l,m);};k.prototype.getAllResponseHeaders=function(l){return this.request.getAllResponseHeaders(l);};k.prototype.ywb=function(){var l,m;l=this.getResponseHeader("content-range",!1);if(l){m=l.indexOf("/");(0,c.assert)(-1 !== m,"unable to parse content-range: " + l);m=l.slice(m + 1);m=parseInt(m);(0,c.assert)(0 < m,"unable to parse content-range: " + l);return m;}};k.prototype.B1=function(){this.request.B1();};k.prototype.Ei=function(){return this.request.Ei();};k.prototype.H0=function(){var l,m;if(this.$a === h.OPENED){this.$a=h.QN;m=this.request.nj || this.request.loadTime;f.aO.instance().push(n.platform.time.ha() - m);!this.config.TDb && (null === (l=this.bd) || void 0 === l?void 0:l.uE(m,this.ZZ()));this.listener.OS(this);this.timestamp=m;}};k.prototype.Qta=function(){var l,m,p,q;if(!(this.$a >= h.ym)){this.$a=h.ym;q=this.request.nj || this.request.$Pa;f.aO.instance().push(n.platform.time.ha() - q);this.config.TDb && (null === (l=this.bd) || void 0 === l?void 0:l.uE(q,this.ZZ()));null === (m=this.bd) || void 0 === m?void 0:m.tNc();l=this.request.kI;this.request.connect && l.length && (null === (p=this.bd) || void 0 === p?void 0:p.mX(l[0]));this.timestamp=q;this.listener.mM(this);0 === this.bf && this.IWc(this.request.Ru);this.request.getAllResponseHeaders(!0);}};k.prototype.NS=function(){var l;if(!(this.$a > h.ym)){this.$a=h.ym;l=this.request.nj;f.aO.instance().push(n.platform.time.ha() - l);l=this.CXa(!0);this.listener.$D(this,l);}};k.prototype.YD=function(){var l,m,p;if(!this.aborted){m=this.request.nj;f.aO.instance().push(n.platform.time.ha() - m);p=this.CXa(!0);null === (l=this.bd) || void 0 === l?void 0:l.vE(m,this.g_a,this.ZZ());this.$a=h.Mn;this.listener.uo(this,p);this.Se();}};k.prototype.uFc=function(){this.listener.Zta(this);};k.prototype.Mca=function(){var l;if(!this.complete && !this.aborted && "number" === typeof this.request.bh){this.Vd=!0;l=this.request.nj;f.aO.instance().push(n.platform.time.ha() - l);this.CXa(this.config.Kva && void 0 === this.request.status);this.listener.Fy(this);}};k.prototype.CXa=function(l){var m,p,q,r;m=this;q=this.request.nj;r=this.request.bytesReceived - this.$O;l && this.bd && (void 0 !== this.timestamp && 0 < r && this.bd.kX(r,this.timestamp,q,this.ZZ()),null === (p=this.request.kI) || void 0 === p?void 0:p.forEach(function(u){return m.bd.lX(u);}));this.timestamp=q;this.$O=this.request.bytesReceived;return r;};k.prototype.IWc=function(l){var m;m=this.bf;this.bf=l;this.listener.PS(this,this.bf,m);};k.prototype.ZZ=function(){var l;return {requestId:this.id,Sl:this.stream.Ab,Lf:null === (l=this.stream.M.S.gA) || void 0 === l?void 0:l.Lf,type:this.mediaType,PM:this.PM,ma:this.bf,bytesReceived:this.request.bytesReceived,Sy:this.Sy};};k.prototype.zqc=function(){var l;l=(l=this.stream)?l.toString():this.url;this.bf && (l+=",range " + this.offset + "-" + (this.offset + this.bf - 1));return l;};k.prototype.l8b=function(){var l,m,p;l=this;m=new d.kf();p=n.platform.Bl.qm;m.on(this.request,p.gdb,function(){return l.H0();});m.on(this.request,p.fdb,function(){return l.Qta();});m.on(this.request,p.hdb,function(){return l.NS();});m.on(this.request,p.K5,function(){return l.YD();});m.on(this.request,p.M2c,function(){return l.uFc();});m.on(this.request,p.nJ,function(){return l.Mca();});return m;};k.prototype.zsc=function(l,m){return {mediaType:this.mediaType,Ra:this.stream.Ra,bitrate:this.stream.bitrate,dd:this.stream.Ab,SA:!l.gf,L:m.id,config:this.config,oQa:l.oQa};};k.prototype.LMa=function(){void 0 !== this.jea && (clearTimeout(this.jea),this.jea=void 0);};k.prototype.toString=function(){return "ID: " + this.request.Ei() + " " + this.id;};k.prototype.toJSON=function(){return {requestId:this.request.Ei(),id:this.id};};return k;})();b.nEa=a;},75640:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Qdb=void 0;d=a(65161);n=a(43276);t=(function(){var J02;J02=2;function c(f){var m2n;m2n=2;for(;m2n !== 7;){switch(m2n){case 3:this.Tca=f.Tca;this.sYa=[new n.XN(),new n.XN()];this.rHb=new n.XN();m2n=7;break;case 2:var Z31="1S";Z31+="IY";Z31+="bZrN";Z31+="J";Z31+="Cp9";this.$da=[0,0];this.Ru=[0,0];this.Sca=[0,0];Z31;m2n=3;break;}}}for(;J02 !== 3;){switch(J02){case 4:return c;break;case 2:c.prototype.reset=function(){var a$A;a$A=2;for(;a$A !== 4;){switch(a$A){case 2:this.$da=[0,0];this.Ru=[0,0];this.Sca=[0,0];a$A=4;break;}}};c.prototype.kX=function(f,g,e,h){var H5T,k,l;H5T=2;for(;H5T !== 8;){switch(H5T){case 2:this.Ru[h.type]+=f;H5T=5;break;case 4:(this.$da[h.type]+=f,this.rHb.add(f,g,e),this.sYa[h.type].add(f,g,e));H5T=3;break;case 9:this.Sca[h.type]+=f;H5T=8;break;case 3:H5T=(null === (l=h.PM) || void 0 === l?0:l.nWa(f,g,e,this.Tca))?9:8;break;case 5:H5T=(null === (k=h.PM) || void 0 === k?0:k.gra())?4:3;break;}}};c.prototype.SRa=function(){var f$F;f$F=2;for(;f$F !== 1;){switch(f$F){case 2:return {bytesRequestedPacingVideo:this.$da[d.u.U],bytesRequestedPacingAudio:this.$da[d.u.X],estimatedBytesPacedVideo:this.Sca[d.u.U],estimatedBytesPacedAudio:this.Sca[d.u.X],bytestotalVideo:this.Ru[d.u.U],bytestotalAudio:this.Ru[d.u.X],pacedAvtpVideo:this.sYa[d.u.U].get().Fa,pacedAvtpAudio:this.sYa[d.u.X].get().Fa,pacedAvtp:this.rHb.get().Fa};break;}}};J02=4;break;}}})();b.Qdb=t;},66058:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(66164);n=new d.platform.Console("ASEJS_SESSION_HISTORY","media|asejs");t=(function(){function c(f){this.config=f;this.dD={avtp:0,neuhd:0,d:0,t:0};this.load();}c.prototype.load=function(){var f;f=this;(this.cr=d.platform.storage.get("sth"))?(this.cr=this.cr.filter(function(g){return g.d >= f.config.pca && 0 <= g.neuhd && 0 < g.avtp;}),this.cr.sort(function(g,e){return g.t - e.t;}),n.log("session history list: ",this.cr)):this.cr=[];};c.prototype.save=function(){this.dD.d >= this.config.pca && 0 <= this.dD.neuhd && 0 < this.dD.avtp && (this.cr.push(this.dD),this.cr.length > this.config.Yba && (this.cr=this.cr.slice(this.cr.length - this.config.Yba)),this.cr.length && (n.log("saving state: ",JSON.stringify(this.cr)),d.platform.storage.set("sth",this.cr)));this.dD={avtp:0,neuhd:0,d:0,t:0};};c.prototype.reset=function(){this.cr=[];this.dD={avtp:0,neuhd:0,d:0,t:0};};c.prototype.lSa=function(){return this.cr;};c.prototype.l6b=function(f,g,e){this.dD.avtp=f;this.dD.neuhd=g;this.dD.d=e;this.dD.t=d.platform.time.ha();};return c;})();b["default"]=t;},88318:function(t,b,a){var n,c;function d(f){this.Bb={Xba:f.maxc || 25,YMa:f.c || .5,KLc:f.rc || "none",GA:f.hl || 7200};this.c7();this.G4b=this.Bb.KLc;this.f3b=this.Bb.GA;this.gIa=Math.exp(Math.log(2) / this.f3b);this.gIa=Math.max(this.gIa,1);this.cka=1;}n=a(17267);c=a(15913).TDigest;new (a(66164).platform.Console)("ASEJS_NETWORK_HISTORY","media|asejs");d.prototype.getState=function(){var f;if(0 === this.Gg.size())return null;f=this.Gg.Fk([.25,.75]);if(f[0] === f[1])return null;this.Gg.size() > this.Bb.Xba && this.Gg.ap();f=this.Gg.xj(!1).reduce((function(g,e){n.pc(e.Fh) && n.pc(e.n) && g.push({mean:e.Fh,n:e.n / this.cka});return g;}).bind(this),[]);return {tdigest:JSON.stringify(f)};};d.prototype.$i=function(f){var g;if(n.sd(f) || !n.has(f,"tdigest") || !n.Fi(f.tdigest))return !1;try{g=JSON.parse(f.tdigest);}catch(e){return !1;}g.forEach(function(e){n.isFinite(e.n) || (e.n=1);});f=g.map(function(e){return {Fh:e.mean,n:e.n};});this.cka=1;this.Gg.VZa(f);void 0 === this.Gg.Fk(0) && this.c7();};d.prototype.get=function(){var f,g;f=this.Gg;g=f.Fk([0,.1,.25,.5,.75,.9,1]);return {min:g[0],qYa:g[1],vw:g[2],Ks:g[3],ww:g[4],rYa:g[5],max:g[6],Rm:f.xj(!1)};};d.Urc=function(f){var g;g=new d({});n.sd(f) || n.ky(f) || !n.isArray(f.Rm) || (g.Gg.VZa(f.Rm),void 0 === g.Gg.Fk(0) && g.c7());f=g.Gg.Fk([.25,.75]);return f[0] === f[1]?null:function(e){return g.Gg.Fk(e);};};d.prototype.add=function(f){var g;g=1;"ewma" === this.G4b && (this.cka=g=this.cka * this.gIa);this.Gg.push(f,g);};d.prototype.toString=function(){return "TDigestHist(" + this.Gg.summary() + ")";};d.prototype.c7=function(){this.Gg=new c(this.Bb.YMa,this.Bb.Xba);};t.exports={Ghb:d};},36974:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.o9a=void 0;d=a(95316);n=a(91176);t=(function(){function c(){}c.prototype.xMb=function(f){var g,e,h,k;e=f.profile;h=f.frameRate;f=null !== (g=(0,n.cc)(d.NI,function(l){return d.jga[l].test(e);})) && void 0 !== g?g:"h264hpl";g=d.KN[f].some(function(l){return (0,d.yQa)(h,d.k$[l]);})?h:null;if(!g){k={$:h.$ / 2,O:h.O};g=d.KN[f].some(function(l){return (0,d.yQa)(k,d.k$[l]);})?k:null;}g || (g=d.k$[d.KN[f][0]]);return {profile:f,frameRate:g};};return c;})();b.o9a=t;},27259:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Tdb=void 0;d=a(52571);n=a(36974);c=a(603);t=(function(){function f(g){this.config=g;}f.prototype.create=function(){switch(this.config.US){case "strict":return new c.rhb();case "flexible":return new n.o9a();default:(0,d.assert)(!1,("Invalid padding codec selector: ").concat(this.config.US));}};return f;})();b.Tdb=t;},27977:function(t,b,a){var n,c,f,g,e,h,k,l,m,p;function d(q){return function(){return ("[").concat(q,":padding]");};}Object.defineProperties(b,{__esModule:{value:!0}});b.ihb=void 0;b.uwb=function(q){return -1 !== q.indexOf("xheaac")?"xheaac":-1 !== q.indexOf("heaac")?"heaac":"ddp";};n=a(95316);c=a(91176);f=a(26388);g=a(52571);e=a(48170);h=a(26279);k=a(79459);l=a(444);m=a(52629);t=(function(){function q(r,u){p=new n.hhb(r,u);}q.YLa=function(){(0,g.assert)(p,"expected StaticMediaCache to exist");return p;};q.prototype.AJb=function(r,u,v,w,x,y,A,z,B,C){var D,E,H,F,G,J,L,K,M;D=[];w=q.YLa().Wsc(v,w,x);E=new c.I(w.duration);H=new c.I(w.Ea);F=H.O;G=w.profile;J={EAb:!0,mediaType:f.u.X,QAb:!0,Uc:G,profile:G,O:F,Qj:[{Ve:0,data:w.Ob}],eh:!0,Ea:H,Ae:u,Th:B.Th,M:r,bitrate:w.bitrate,Ra:"-1",track:{trackId:"1",mediaType:f.u.X,np:!1,Ea:H,M:r,channels:w.channels,sampleRate:48E3,profile:G,sLa:"heaac" === v?"AAC":"DDP",Gd:[],Au:x,toString:d(f.u.X)},rs:function(){},toJSON:function(){return {mediaType:J.mediaType,Ra:J.Ra,bitrate:J.bitrate};}};J.ss=J.track.ss=h.F3.prototype.ss.bind(J.track);J.track.Gd.push(J);r=new c.I(w.Ea);v=B.Th?u:c.I.ia;x=v.add(E);e.l && C.trace(("StaticMedia: audio target duration is ").concat(y.ca()));G=c.I.ia;u=B.Th?-Math.ceil(u.rf(H)):0;B=v;for(H=!0;B.lessThan(y);){B=B.add(E);B.greaterThan(y) && (L=E.rf(r) - Math.floor(B.ea(y).rf(r)));K=B.Wf(y);M=H?0:K?y.ea(G).G:void 0;H=new k.qza(w.Ob,w.Ma,J,F,v.Kc(F).$,x.Kc(F).$,r,C,A,z.bind(void 0,F,G),M,H,K);H.yh({start:u,end:L});e.l && C.log(("PaddingBranch: enqueing request ").concat(H,", edit: ").concat(JSON.stringify({start:u,end:L}),", ") + ("offset ").concat(G.ca()));D.push(H);G=G.add(E);u=void 0;H=!1;}return D;};q.prototype.BJb=function(r,u,v,w,x,y,A,z,B,C){var D,E,H,F,G,J,L,K,M;D=[];u=q.YLa().Ysc(u,v,w,x,y);v=new c.I(u.duration);E=u.profile;H=u.bitrate;F=u.width;G=u.height;J=u.vYa;L=u.wYa;w=u.Ea.O;x=new c.I(u.Ea);K=new l.BF(w,u.Ea.$);M={EAb:!0,mediaType:f.u.U,Uc:E,profile:E,O:w,Qj:[{Ve:0,data:u.Ob}],eh:!0,Ra:"-1",Ea:x,M:r,bitrate:H,track:{trackId:"1",mediaType:f.u.U,np:!1,Ea:x,frameRate:K,rsa:K,zo:new m.DW({w:F,Wx:G},{w:J,Wx:L}),M:r,profile:E,Gd:[],Au:y,toString:d(f.u.U)},rs:function(){},toJSON:function(){return {mediaType:M.mediaType,Ra:M.Ra,bitrate:M.bitrate};}};M.ss=M.track.ss=h.F3.prototype.ss.bind(M.track);e.l && C.trace(("StaticMedia {").concat(z.id,"}: video queue"),M);M.track.Gd.push(M);E=Math.ceil(A.rf(v));A=v.hh(E);r=c.I.ia.Kc(w);y=r.add(A).Kc(w);e.l && C.trace(("PaddingBranch: ").concat(E," fragments of ").concat(v.ca(),", ") + ("duration ").concat(A.ca(),", ") + ("c: ").concat(r.ca(),"-").concat(y.ca(),", "));for(H=c.I.ia;H.lessThan(A);)(E=H.add(v),H=new k.qza(u.Ob,u.Ma,M,w,0,v.Kc(w).$,x,C,z,B.bind(void 0,w,H),void 0,H.equal(c.I.ia),E.Wf(A)),e.l && C.trace(("PaddingBranch: appended ").concat(H)),D.push(H),H=E);return {qa:r,ta:y,duration:A,Oa:D};};q.prototype.SKc=function(){return q.YLa().Xsc();};return q;})();b.ihb=t;},603:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.rhb=void 0;t=(function(){function a(){}a.prototype.xMb=function(d){return d;};return a;})();b.rhb=t;},73861:function(t,b,a){var d,n,c,f,g,e,h,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.teb=void 0;t=a(22970);d=a(91176);n=a(66164);c=a(26388);f=t.__importDefault(a(14282));g=f.default.Yp;e=f.default.Dz;h=a(65161);k=a(69575);l=t.__importDefault(a(40497));a=(function(){function m(p,q,r,u,v){this.Xe=p;this.ks=q;this.config=r;this.console=u;this.mediaType=v;}m.prototype.enabled=function(){return !this.Xe.pa.Zc;};m.prototype.zEc=function(p){var q;if(this.enabled()){q=p.K;p={type:"updateStreamingPts",mediaType:p.mediaType,position:{L:q.id,offset:d.I.Ca(this.Xe.WMa).ea(q.jb)},completePlayerStreamingTimestamp:d.I.Ca(this.Xe.E8),trackIndex:p.stream.track.SJ,bufferLevelMs:this.Xe.pa.en(p.mediaType)};(0,k.rq)(this.ks,p.type,p);}};m.prototype.ZFb=function(p,q,r){var u,v,w;if(this.enabled()){v=this.mediaType;w=this.Xe.Op.wk(v);w.gU(p);p.mediaType !== h.u.X && p.mediaType !== h.u.U || !this.config.nea || (void 0 === w.lVa?w.rNb(n.platform.time.ha()):n.platform.time.ha() - w.lVa > this.config.nea && (p.bitrate !== w.uCb && (p.mediaType === h.u.U?(n.platform.storage.set("vb",p.bitrate),w.qNb(p.bitrate)):p.mediaType === h.u.X && (n.platform.storage.set("ab",p.bitrate),w.qNb(p.bitrate))),w.rNb(n.platform.time.ha())));w.Dra && w.Dra === p || (this.Xe.Op.UOb(q,w.Dra,p),w.tQc(p),q=0,p.yb && p.yb.confidence && p.yb.kb && (q=p.yb.kb.Fa),r={L:this.Xe.pa.K.id,offset:d.I.Ca(r).ea(this.Xe.pa.K.jb)},p={type:"streamSelected",nativetime:n.platform.time.ha(),mediaType:v,streamId:p.id,trackIndex:p.track.SJ,streamIndex:p.Ow,bandwidth:q,longtermBw:q,rebuffer:0,position:r,stream:p,manifest:null === (u=p.M) || void 0 === u?void 0:u.S},(0,k.rq)(this.ks,p.type,p));}};m.prototype.mXa=function(p,q,r,u,v){this.enabled() && (p={type:"ellaChannelSwitch",moffms:r || 0,channel:q,vdlid:p,bw:u || 0,networkstat:v || ({qE:0,RD:0,TH:0,aI:0})},(0,k.rq)(this.ks,p.type,p));};m.prototype.oXa=function(p,q,r,u){this.enabled() && (p={type:"ellaRelaySwitch",moffms:r || 0,relayNode:p,channelName:q,reason:u || "unknown"},(0,k.rq)(this.ks,p.type,p));};m.prototype.iM=function(p,q,r,u){this.enabled() && (p={type:"ellaRelayFailure",moffms:r || 0,relayNode:p,channelName:q,reason:u || "unknown"},(0,k.rq)(this.ks,p.type,p));};m.prototype.nXa=function(p,q){this.enabled() && (p={type:"ellaFailure",mediaType:p,reason:q},(0,k.rq)(this.ks,p.type,p));};m.prototype.pXa=function(p,q,r,u,v){this.enabled() && (p={type:"ellaSuccess",mediaType:p,receivedsegmentcnt:q,relayNode:r,channelName:u,networkstat:v},(0,k.rq)(this.ks,p.type,p));};m.prototype.vEc=function(p,q,r){var u,v,w,x,y;if(this.enabled()){u=q.M;v=u.Vi;w=this.Xe.Op.wk(q.mediaType);x=u.gyc(q);y=x.RUa;x=x.hyc;r && q.Ab && !w.KL?(x=e.uC,q.Ku=e.name[x],this.YFb(p,q.Ab,q.Ku,q.location,q.bitrate),w.KL=q.Ab):!r && q.Ab && q.Ab !== w.KL && (x=x?void 0 === w.KL?e.uC:v.b2 === e.IEa?e.G0b:e.Aza:e.F0b,q.Ku=e.name[x],this.YFb(p,q.Ab,q.Ku,q.location,q.bitrate),w.KL=q.Ab);!w.H_ && q.location && (x={type:"logdata",target:"startplay",fields:{}},this.mediaType === g.X?x.fields.alocid=q.location:this.mediaType === g.U && (x.fields.locid=q.location),(0,k.rq)(this.ks,x.type,x));r && q.location && !w.H_?(x=e.uC,q.Ku=e.name[x],this.VFb(p,q.location,q.LVa,q.Ab,q.Cea,q.Ku,q.hE,u.S),w.H_=q.location):!r && q.location && q.location !== w.H_ && (x=y?void 0 === w.H_?e.uC:v.b2 === e.IEa?e.SXb:e.Aza:e.RXb,q.Ku=e.name[x],this.VFb(p,q.location,q.LVa,q.Ab,q.Cea,q.Ku,q.hE,u.S),q.hE=void 0,w.H_=q.location);this.config.ZH || (q.nCb=q.location,q.sCb=q.Ab);}};m.prototype.Ata=function(p){p={type:"requestsPruned",requests:p};(0,k.rq)(this.ks,p.type,p);};m.prototype.YFb=function(p,q,r,u,v){var w,x;if(this.enabled())if(this.mediaType === g.Da)this.console.warn("notifyServerSwitch ignored for MediaType.TEXT");else {w=c.uS[this.mediaType];x=l.default.instance().get();p={type:"serverSwitch",segmentId:p,mediatype:w,server:q,reason:r,location:u,bitrate:v,confidence:x.confidence};x.confidence && (p.throughput=x.kb.Fa);x=this.Xe.Op.wk(this.mediaType).KL;void 0 !== x && (p.oldserver=x);(0,k.rq)(this.ks,p.type,p);}};m.prototype.VFb=function(p,q,r,u,v,w,x,y){this.enabled() && (this.mediaType === g.Da?this.console.warn("notifyLocationSelected ignored for MediaType.TEXT"):(p={type:"locationSelected",segmentId:p,mediatype:c.uS[this.mediaType],location:q,locationlv:r,serverid:u,servername:v,selreason:w,seldetail:x,manifest:y},(0,k.rq)(this.ks,"locationSelected",p)));};m.prototype.Z3b=function(p,q){this.enabled() && (p={type:"lastSegmentPts",segmentId:p.id,pts:Math.floor(q)},(0,k.rq)(this.ks,p.type,p));};m.prototype.rQa=function(p){(0,k.rq)(this.ks,"transportReport",p);};m.prototype.Rnc=function(p){this.enabled() && (0,k.rq)(this.ks,"mediaRequestComplete",p);};return m;})();b.teb=a;},7611:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.K8a=void 0;d=a(66164);n=a(91176);c=new d.platform.Console("ASEJS_ELLA_MANAGER","media|asejs");a(97685);f=a(63292);g=a(37468);t=(function(){function e(h,k,l,m,p,q,r){this.config=h;this.Xe=k;this.track=l;this.Ah=p;this.rNa=r;this.vp=null;this.Yq=!1;this.hJa=void 0;this.ukb=0;this.LW=!1;this.Mt={Qw:0,Kfa:0,Jfa:0,Ifa:0,f8:new Map()};this.yY=void 0;this.RY=new f.I8a(h,l,this,this,p,q);this.he=m;this.Yq=!0;this.config.LD?this.FSc():this.qOb();c.trace("EllaFragmentManager constructor: ",this.config.fS);}Object.defineProperties(e.prototype,{GS:{get:function(){d.platform.time.ha() - this.ukb > this.track.al.G * this.config.Ozc && (this.GS=void 0);if(void 0 !== this.hJa)return this.hJa;try{return this.track.M.il(!0) - this.config.Mzc;}catch(h){}},set:function(h){this.hJa=h;this.ukb=d.platform.time.ha();},enumerable:!1,configurable:!0}});e.prototype.FSc=function(){var h;h=this;this.lva || (this.lva=setInterval(function(){h.qbc();},this.config.Nzc));};e.prototype.USc=function(){this.lva && (clearInterval(this.lva),this.lva=void 0);};e.prototype.qbc=function(){var h;if(this.config.LD){h={gp:this.Xe.Mk,Ql:this.GS};this.LW?this.rNa.yRc(h).dg && this.HOb():this.rNa.wRc(h).dg && this.qOb();}};e.prototype.qOb=function(){if(!this.LW && !this.RY.Vd)try{this.RY.yOb();this.LW=!0;this.BFc();}catch(h){throw (c.error("Failed to start ELLA streaming",h),h);}};e.prototype.HOb=function(){if(this.LW){try{this.RY.dxa();}catch(h){c.error("Failed to stop ELLA streaming",h);}this.LW=!1;this.FXa();this.GS=void 0;}};e.prototype.close=function(){this.LW && (this.RY.dxa(),this.FXa());this.GS=void 0;};e.prototype.EXa=function(h,k){this.Yq && (this.vp=this.Bfc(h,k)) && (this.GS=this.vp.ta.G,this.AFc(this.vp),this.rNa.dRc(this.vp,{gp:this.Xe.Mk,Ql:this.GS}).dg && (this.he.zx(this.vp),this.he.$D(this.vp,h.data.length),this.he.uo(this.vp,0),this.Xe.wQa(this.vp),this.Xe.Uy(this.vp.ta.G,this.vp.index + 1),c.trace("ELLA fragment added to request manager",this.vp)));};e.prototype.DXa=function(){};e.prototype.AGb=function(h){var k,l,m;if(this.Yq){m=(0,n.cc)(this.track.Gd,function(p){return p.Ra === h;});m?(c.trace("EllaFragmentManager: found stream matching streamId",h),this.Xe.pEc(m,null === (k=this.vp) || void 0 === k?void 0:k.Pb.G,null === (l=this.vp) || void 0 === l?void 0:l.ta.G)):c.trace("EllaFragmentManager: no stream found matching streamId",h);}};e.prototype.Jg=function(){this.Yq=!1;this.USc();this.RY.dxa();this.FXa();};e.prototype.Bfc=function(h,k){var l,m,p,q,r,u,v,w,x,y;(0,n.assert)(!0 === h.complete,"received an incomplete object from ella");if(!this.Xe.pa)return null;try{l=this.Xe.pa.M;}catch(A){return null;}m=h.Ac.Bp;c.trace("ella object: ",JSON.stringify(h.Ac),k);p=(function(A,z){var B,C,D,E;C=(0,n.cc)(A,function(H){var F,G;return null !== (G=null === (F=H.xu.Xna) || void 0 === F?void 0:F.some(function(J){return J.ee === z;})) && void 0 !== G?G:!1;});if(C)return C;if(-1 !== z.indexOf("/")){D=z.split("/");E=null === (B=D[D.length - 1]) || void 0 === B?void 0:B.split("?")[0];E && (C=(0,n.cc)(A,function(H){return H.Ra === E;}));}return C;})(this.track.Gd,k);if(!p)return (c.error("ELLA object received but no stream found matching channel name",{Bp:h.Ac.Bp,ee:k,Gd:this.track.Gd}),null);q=this.Xe.vob(p,m);k=q.ci;m=q.qa;r=q.ta;u=q.XG;v=q.UK;w=q.bn;x=q.Gi;y=q.na;q=q.Pu;if(l.St && !l.St.Ema(this.Xe.mediaType,0))return null;h=g.L8a.jQ(p,h,this.Xe.pa.K,{ci:k,index:k,ub:m.$,Lb:r.$,XG:u,UK:v,O:p.O,offset:0,ma:0,bn:w,Gi:x,Pu:q,na:y},!0);p.bC(this.Xe.pa.K);return h;};e.prototype.BFc=function(){this.yY=d.platform.time.ha();};e.prototype.FXa=function(){var h;if(void 0 !== this.yY){h=d.platform.time.ha() - this.yY;this.Mt.Qw+=h;this.yY=void 0;}};e.prototype.AFc=function(h){var k,l,m;this.Mt.Kfa++;k=h.ta.G - h.qa.G;if(h=h.stream){l=("").concat(h.Ra,"_").concat(h.bitrate);m=this.Mt.f8.get(l);m || (m={Ra:h.Ra,bitrate:h.bitrate,duration:0},this.Mt.f8.set(l,m));m.duration+=k;}};e.prototype.F0=function(h){this.Mt.Jfa+=h;};e.prototype.zGb=function(h){this.Mt.Ifa+=h;};e.prototype.Ota=function(h,k,l){var m,p,q;if(this.Yq){q=null === (m=this.vp) || void 0 === m?void 0:m.ta.G;m=(null === (p=this.Ah) || void 0 === p?void 0:p.Mx.jl()) || 0;this.Xe.mXa(h,k,q,m,l);}};e.prototype.yGb=function(h,k,l){var m,p;if(this.Yq){p=null === (m=this.vp) || void 0 === m?void 0:m.ta.G;this.Xe.oXa(h,k,p,l);}};e.prototype.MGb=function(h,k,l){var m,p;if(this.Yq){p=null === (m=this.vp) || void 0 === m?void 0:m.ta.G;this.Xe.iM(h,k,p,l);}};e.prototype.E0=function(h){this.Yq && (c.error(this.Xe.mediaType,"ELLA: All relay servers have failed. Client is in failed state. Fallback to HTTP required."),this.HOb(),this.Xe.nXa(h));};e.prototype.BGb=function(h,k,l,m){this.Yq && this.Xe.pXa(h,k,l,m);};e.prototype.Loc=function(){return {Qw:this.Mt.Qw + (this.yY?d.platform.time.ha() - this.yY:0),Kfa:this.Mt.Kfa,Jfa:this.Mt.Jfa,Ifa:this.Mt.Ifa,f8:Array.from(this.Mt.f8.values())};};e.prototype.bRa=function(){return this.RY;};return e;})();b.K8a=t;},98561:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Tab=void 0;d=a(22970);n=a(91176);c=a(48170);t=a(2415);f=a(99548);a=(function(g){function e(h){return g.call(this,h) || this;}d.__extends(e,g);e.prototype.SNb=function(){return this.splice?!0:this.K?0 !== this.K.Ta:!1;};e.prototype.LM=function(h,k){c.l && this.console.trace("LivePipelineNormalizer.renormalize:",this.ta);(0,n.assert)(this.nL,"expected to be called init() before renormalize");k=(0,f.mea)(this.console,this.config,this.M,k) || k;return g.prototype.LM.call(this,h,k);};e.prototype.kXa=function(){var h,k,l,m,p,q,r,w,x;c.l && this.console.trace(("LivePipelineNormalizer.normalizePipelines ").concat(this.qa.ca()," ") + ("- ").concat(null === (k=this.ta) || void 0 === k?void 0:k.ca()));this.config.lU && void 0 !== this.M.oj.endTime && (k=null === (l=this.fe.Vq) || void 0 === l?void 0:l.pa,(null === k || void 0 === k?0:k.parent) || this.M.f1a(this.qa.G));l=this.SNb()?n.I.dh:this.M.ho();this.qa=(0,f.hwa)(this.console,l,this.M,this.qa);this.ta=(0,f.mea)(this.console,this.config,this.M,this.ta);if((l=this.fe.Vq) && l.track.QA){l=l.track.QA;k=l.track.Co;q=l.track.al.Kc(l.O);k+=Math.floor(this.qa.rf(q));k=l.track.Yv(k);l=k.qa;k=k.ta;r=[];null === (m=this.M.fh) || void 0 === m?void 0:m.model.Ew.forEach(function(A){A.xn && r.push(A.xn.Ga);A.yo && r.push(A.yo.Ga);});null === (p=this.M.fh) || void 0 === p?void 0:p.model.lb.forEach(function(A){var z;z=A.Ga;A=A.duration;r.push(z);r.push(z.add(A));});r.sort(function(A,z){return A.Nl(z);});m=n.I.dh;p=void 0;try{for(var u=d.__values(r),v=u.next();!v.done;v=u.next()){w=v.value;if(w.equal(this.qa)){p=w;break;}if(w.Wf(k))break;if(w.Wf(l)){x=n.I.abs(w.ea(this.qa));x.lessThan(m) && (m=x,p=w);}}}catch(A){var y;y={error:A};}finally{try{v && !v.done && (h=u.return) && h.call(u);}finally{if(y)throw y.error;}}p?(c.l && this.console.trace("LivePipelineNormalizer.normalizePipelines normalize contentStartTimestamp to SCTE marker, " + ("original: ").concat(this.qa.ca(),", ") + ("SCTE marker: ").concat(p.ca())),this.qa=p):(c.l && this.console.trace("LivePipelineNormalizer.normalizePipelines normalize contentStartTimestamp to segmentContentStartTimestamp (no SCTE marker in the segment), " + ("original: ").concat(this.qa.ca(),", ") + ("segmentContentStartTimestamp: ").concat(l.ca())),this.qa=l);}return g.prototype.kXa.call(this);};e.prototype.lXa=function(){var h,k,l;c.l && this.console.trace("LivePipelineNormalizer.normalizeSegment");(0,n.assert)(this.K,"missing segment");k=this.SNb()?n.I.dh:this.M.ho();l=(0,f.hwa)(this.console,k,this.M,this.K.jb);c.l && this.console.trace("normalizeSegment, " + ("segment.startTimestamp: ").concat(null === (h=this.K) || void 0 === h?void 0:h.jb.ca(),", ") + ("liveEdgeConstraint: ").concat(k,", ") + ("segmentStartTimestamp: ").concat(l.ca()));return this.Ssb(l);};return e;})(t.rFa);b.Tab=a;},95324:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x;Object.defineProperties(b,{__esModule:{value:!0}});b.dia=void 0;d=a(22970);a(66164);n=a(91176);c=a(90745);f=a(65161);g=a(52571);e=a(48170);t=a(85254);h=a(71808);k=a(97757);l=a(85858);m=a(8149);p=a(45691);q=a(42431);r=a(27265);u=a(46512);v=a(71077);w=a(7611);x=a(25915);a=(function(y){var z;function A(B,C,D,E,H,F,G,J,L){var K;K=y.call(this,B,C,D,E,H,F,G,J,L) || this;K.parent=B;K.config=C;K.events=new c.EventEmitter();K.YIa=-1;K.hjb=!1;K.FIa=!1;K.QWa=new Set();K.TNa=0;K.iq=new r.dbb(K,C,K.console,K.pl,K.fv,K.mediaType,K.EJ,function(){return K.Kp;});K.Xwc() && K.config.fS && (K.J_a=new x.ebb(K.config,K.console),B=K.config.nYa?d.__spreadArray([],d.__read(K.config.kHb),!1):K.track.Uj.DT || [],K.SY=new w.K8a(K.config,K,K.track,K.iq,K.pa.Ah,B,K.J_a));K.aPc=new v.RCa(K.pa.M,C);return K;}d.__extends(A,y);z=A;Object.defineProperties(A.prototype,{track:{get:function(){return this.It;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{M0a:{get:function(){return this.track.M.Nq.M0a;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{YCb:{get:function(){return this.E3b;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{tVa:{get:function(){return this.FIa?this.YIa:-1;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Ioa:{get:function(){return !!this.Cc && (!this.Cc.na || 0 === this.Cc.na.start || this.tVa >= this.Cc.index);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Lyc:{get:function(){return !!this.zc && (!this.zc.na || !this.zc.na.end || this.tVa >= this.zc.index);},enumerable:!1,configurable:!0}});A.prototype.Xwc=function(){var B;return null !== (B=this.pa.Ah) && void 0 !== B && B.TOa?this.mediaType === f.u.X || this.mediaType === f.u.U:(e.l && this.trace("LivePipeline: not compatible with Ella due to incomplete information from manifest"),!1);};A.prototype.Jwb=function(){var B,C;C=null === (B=this.SY) || void 0 === B?void 0:B.Loc();C && this.console.error("ELLA summary: ",C);return C;};Object.defineProperties(A.prototype,{Z3a:{get:function(){return void 0 !== this.SY && this.config.fS;},enumerable:!1,configurable:!0}});A.prototype.bRa=function(){var B;return null === (B=this.SY) || void 0 === B?void 0:B.bRa();};A.prototype.Jg=function(B){var C;e.l && this.trace("pipeline.cancelStreaming");this.EF=!0;this.SY && this.SY.Jg();this.iq.Jg(B);null === (C=this.Op) || void 0 === C?void 0:C.wk(this.mediaType).La();this.Bd && (this.pa.M.dX(this.mediaType,this.Bd),q.XI.instance.m9(this.Bd),this.Bd.removeAllListeners(),this.Bd=void 0);};A.prototype.m3a=function(B,C,D){var E,H;if(this.J_a){H={gp:this.MJ,Ql:null === (E=this.SY) || void 0 === E?void 0:E.GS};E=this.J_a.eRc(B,H);e.l && this.console.trace("LivePipeline.tryIssueRequest: HTTP vs Ella request decision",E);if(!E.dg)return {Ef:!1,reason:"ellaRequestsOnlyAllowed"};}if(E=this.bC(B))return E;(0,g.assert)(B.Ba,"LivePipeline.tryIssueRequest: stream must be live");B=this.AVc(B,this.Bd,D,C);this.Yob();return B;};A.prototype.zpc=function(){var B;B=Array.from(this.QWa).reduce(function(C,D){return void 0 !== D.ci && (void 0 === (null === C || void 0 === C?void 0:C.ci) || C.ci < D.ci)?D:C;},void 0);if(B && void 0 !== B.ci)return ((0,g.assert)((0,m.zk)(B.stream),"LivePipeline: stream must be live"),B.stream.track.Yv(B.ci + 1).qa);};A.prototype.bmb=function(B,C){e.l && this.trace("Marking missing request: ",B.toString(),C);B.bn && (this.FIa=!0);C && (B.jWa(),B.Fwa(this.pa.K));this.QWa.add(B);this.TNa+=1;this.E3b=this.QWa.size;this.he.rNc(B);this.events.emit("liveMissingSegment",{type:"liveMissingSegment",L:B.index,mediaType:this.mediaType,pa:this.pa});this.config.FQ && this.qj === B.index && this.Uy(B.ta.G,this.qj + 1);};A.prototype.nRb=function(B,C){var D,E,H,F,G;D=this;if(C && this.config.Yra && B.Zac()){E=this.Gd.indexOf(B.stream);if(-1 === E)this.error("reissueLiveRequest: stream not found in stream list, falling back to first stream");else {H=0 < E?Math.max(E - 1,0):Math.min(1,this.Gd.length - 1);F=this.Gd[H];B.Yac(F);if(!F.eh){G=this.qk.G;this.pa.M.VMb(F,this.pa.K,function(){return {jh:D.jh,ke:f.Sd.cq,Du:G,Eo:G,hp:D.EJ.Na.currentTime.G};});}e.l && this.trace("reIssueLiveRequest: ",B.toString()," switchStream: ",C," from ",E," to ",H);}}else (e.l && this.trace("reIssueLiveRequest, request: ",B.toString()),this.st());};A.prototype.uo=function(B,C){this.TNa=0;y.prototype.uo.call(this,B,C);};A.prototype.Fy=function(B){var C,D;if(B.gf)this.Soa(B);else {C=B.Tb.ea(this.EJ.Na.currentTime);C=this.aPc.Fy(B,C,0 < this.Gd.indexOf(B.stream));switch(C){case v.Gr.nW:this.warn("onrequesterror: 4xx error for live request, retrying the same url",B.toString());this.nRb(B,!1);break;case v.Gr.xgb:this.warn("onrequesterror: switching stream for 410 or 4xx after retries",B.toString());this.nRb(B,!0);break;case v.Gr.nja:case v.Gr.CGa:this.warn("onrequesterror: declaring missing segment ",B.toString());this.bmb(B,!1);break;case v.Gr.k9a:this.Soa(B);break;case v.Gr.Z5:this.warn("onrequesterror: stopping live event ",B.toString());C=this.pa.M.oj;D=this.pa.M.Oc.lNa(B.ta);void 0 === C.startTime && (C.startTime=new Date(this.pa.M.Oc.K$(!1).G).toISOString());void 0 === C.endTime && (C.endTime=new Date(D.G).toISOString());this.pa.M.Sxa(C.startTime,C.endTime,!1,D.G);this.hjb || (this.bmb(B,!0),this.hjb=!0);break;case v.Gr.iGa:this.warn("onrequesterror: requesting seek to edge",B.toString());this.pa.events.emit("requestSeekToLiveEdge",{type:"requestSeekToLiveEdge"});break;default:(0,l.QG)(C);}}};A.prototype.S6b=function(B){var C,D;(0,g.assert)(this.Cc,"LivePipeline.adjustStartTime: firstFragment must be set");(0,g.assert)(this.track.Ea,"LivePipeline.adjustStartTime: frameDuration must be set");D=this.track.Ea;B=B.ea(this.Cc.Wv).Kc(D.O);D=Math.max(0,Math.floor(B.$ / D.$));D !== ((null === (C=this.Cc.na) || void 0 === C?void 0:C.start) || 0) && ((0,g.assert)(this.qj === this.Cc.index,"LivePipeline.adjustStartTime: nextFragmentIndex must be equal to firstFragment.index"),this.Cc.yh({start:D}));};A.prototype.R6b=function(B){var C,D,E,H;C=this;(0,g.assert)(this.zc,"LivePipeline.adjustEndTime: lastFragment must be set");(0,g.assert)(this.track.Ea,"LivePipeline.adjustEndTime: frameDuration must be set");H=this.track.Ea;B=B.ea(this.zc.Wv).Kc(H.O);H=Math.min(this.zc.tf,Math.ceil(B.$ / H.$));H !== (null !== (E=null === (D=this.zc.na) || void 0 === D?void 0:D.end) && void 0 !== E?E:this.zc.tf) && ((0,g.assert)(this.qj <= this.zc.index,"LivePipeline.adjustEndTime: nextFragmentIndex must be less than or equal to lastFragment.index"),this.zc.yh({end:H}),this.Bk && (this.he.R0a(),this.he.sMa(),Promise.resolve().then(function(){C.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:C.mediaType});})));};A.prototype.SU=function(){var B,C,D,E;(0,g.assert)(this.Cc,"LivePipeline.updateFragmentTimes: firstFragment must be set");B=this.Cc;C=this.zc;D=this.track.Yv(this.Cc.index);E=D.qa;D=D.ta;e.l && this.console.trace("LivePipeline: updateFragmentTimes: firstFragment " + ("c:").concat(B.Wv.G,"-").concat(B.DZ.G) + (" -> s:").concat(E.G,"-").concat(D.G));B.Ufa(E,D,!1);C && isFinite(C.index) && (B=this.track.Yv(C.index),E=B.qa,D=B.ta,e.l && this.console.trace("LivePipeline: updateFragmentTimes: lastFragment " + ("c:").concat(C.Wv.G,"-").concat(C.DZ.G) + (" -> s:").concat(E.G,"-").concat(D.G)),C.Ufa(E,D,!1));this.iq.SU();};A.prototype.Gac=function(B){return !this.Cc || !this.Ioa && this.Cc.Wv.G <= B;};A.prototype.CWc=function(B){var C;null === (C=this.Cc) || void 0 === C?void 0:C.yh(B.na);this.parent.lIc(this);};A.prototype.BWc=function(B){var C;null === (C=this.zc) || void 0 === C?void 0:C.yh(B.na);this.parent.kIc(this);};A.prototype.wQa=function(B){B.bn && (this.FIa=!0,this.parent.ovb(this));this.YIa=Math.max(this.YIa,B.index);};A.prototype.vob=function(B,C){var D,E,H,F,G,J,L,K,M,P,I,O,Q,T;K=C === (null === (D=this.zc) || void 0 === D?void 0:D.index);D=C === (null === (E=this.Cc) || void 0 === E?void 0:E.index);E=B.track.Yv(C);B=E.qa;M=E.ta;if(D && this.Cc && K && this.zc){E=this.Cc.qa;P=this.zc.ta;}else D && this.Cc?(E=this.Cc.qa,P=this.Cc.ta):K && this.zc?(E=this.zc.qa,P=this.zc.ta):(E=B,P=M);if(this.mediaType !== f.u.Da)if(D && K)I=d.__assign(d.__assign({},(null === (H=this.zc) || void 0 === H?void 0:H.na) || ({})),{start:null === (G=null === (F=this.Cc) || void 0 === F?void 0:F.na) || void 0 === G?void 0:G.start});else D?I=(null === (J=this.Cc) || void 0 === J?void 0:J.na) || ({}):K && (I=(null === (L=this.zc) || void 0 === L?void 0:L.na) || ({}));if(!B.equal(E) || !M.equal(P))(O=B.$,Q=M.$);if(this.mediaType === f.u.X && (D || K) && (H=this.pa.me(f.u.U),H instanceof z))if(K && H.Lyc){T=H.zc.ta.G;e.l && this.trace("last segment: " + C + ", targetSplicePts: " + T);}else D && H.Ioa && (T=H.Cc.qa.G,e.l && this.trace("first segment: " + C + ", targetSplicePts: " + T));return {ci:C,index:C,qa:E,ta:P,XG:O,UK:Q,bn:D,Gi:K,na:I,Pu:T};};A.prototype.pEc=function(B,C,D){this.pl.ZFb(B,C,D);};A.prototype.mXa=function(B,C,D,E,H){this.pl.mXa(B,C,D,E,H);};A.prototype.oXa=function(B,C,D,E){void 0 === E && (E="unknown");this.pl.oXa(B,C,D,E);};A.prototype.iM=function(B,C,D,E){void 0 === E && (E="unknown");this.pl.iM(B,C,D,E);};A.prototype.nXa=function(B){this.pl.nXa(this.mediaType,B);};A.prototype.pXa=function(B,C,D,E){this.pl.pXa(this.mediaType,B,C,D,E);};A.prototype.Uy=function(B,C){y.prototype.Uy.call(this,B,C);};A.prototype.AVc=function(B,C,D,E){var H,F,G,J,L,K,M,P,I,O,Q,T,U,X,Y;J=this.fv;L=J.M;K=this.qj;M=this.vob(B,K);P=M.qa;I=M.ta;O=M.XG;Q=M.UK;T=M.bn;U=M.Gi;X=M.na;M=M.Pu;Y=this.track.M.il(!0);e.l && this.trace("checkLiveDuration, stream:",B.bitrate,"contentEndPts:",I.G,"cushionedLiveEdgeMs:",Y,"serverTimeMs:",L.Qf);if(I.G > Y)return {Ef:!1,reason:"exceedsLiveEdge"};if(this.config.EQ && L.fh && this.mediaType !== f.u.Da && (Y=this.track.Ea || n.I.Ca(50),Y=I.ea(Y),!L.fh.dzb(Y)))return (e.l && this.trace("Waiting for media events",{Pcd:Y,ta:I,Syc:L.fh.ow}),{Ef:!1,reason:"waitingOnMediaEvents"});if(L.St && !L.St.Ema(this.mediaType,0))return (e.l && this.trace("existing buffer size limits already exceeded"),{Ef:!1,reason:this.mediaType === f.u.U?"globalVideoMemoryLimit":"globalAudioMemoryLimit"});if(this.mediaType === f.u.X && (T || U) && (Y=this.pa.me(f.u.U),Y instanceof z && Y.tVa < K && K <= (null !== (F=null === (H=Y.zc) || void 0 === H?void 0:H.index) && void 0 !== F?F:Infinity)))return (e.l && this.trace("waiting for video fragment timing to be confirmed"),{Ef:!1,reason:"waitingOnVideoFragmentTiming"});D={ci:K,index:K,ub:P.$,Lb:I.$,XG:O,UK:Q,O:B.O,offset:0,ma:0,Sy:D,bn:T,Gi:U,Pu:M,responseType:this.mediaType === f.u.Da || this.mediaType === f.u.X && X?0:void 0,na:X};this.Fwa(D,J.K);this.Hwa(D,{stream:B,sn:E,H1:I.ea(P)});B=this.he.jQ(D,C,B);e.l && this.trace("making mediaRequest (LIVE):",B.toString(),"fragmentIndex:",K,"contentStartTicks:",P.$,"contentEndTicks:",I.$,"timescale:",P.O,"firstRequestInSequence:",D.bn,"lastRequestInSequence:",D.Gi,"isTerminal",null === (G=D.Qy) || void 0 === G?void 0:G.rH,"edit",X);if(!B.open()){this.warn("MediaRequest.open error: " + B.bh + " native: " + B.Qg);if(B.aborted)return (e.l && this.trace("makeRequest aborted"),{Ef:!1,reason:"requestAborted"});this.warn("makeRequest caught:",B.bh);L.Yf({Ti:"MediaRequest open failed (3)",iD:"NFErr_MC_StreamingFailure"});return {Ef:!1,reason:"openAseMediaRequest"};}this.Uy(I.G,this.qj + 1);!T || B instanceof p.Lga || this.parent.ovb(this);return {Ef:!0,reason:"success"};};A.prototype.Qxa=function(){var B,C;B=this.track.Yv(this.qj).ta;C=this.pa.M.CRa().G;B=this.Cxb(B.G,C);C=B.bA;this.TW=B.qw;this.HW=C;};A.prototype.Hwa=function(B,C){this.config.JK?y.prototype.Hwa.call(this,B,C):"OPEN_CONNECT_APPLIANCE" === C.stream.Mw && (C=this.fv.M.j2) && (B.OB=C.Xt({}));};A.prototype.Fwa=function(B,C){B.Qy={$d:C.Dwb(),get rH() {return C.H2 && isFinite(C.cb);}};};return A=z=d.__decorate([k.GZ],A);})(u.qFa);b.dia=a;(0,t.wl)(h.nz,a);},27265:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.dbb=void 0;d=a(22970);n=a(26388);c=a(91176);f=a(48170);g=a(11758);e=a(8149);h=a(45691);t=(function(k){function l(m,p,q,r,u,v,w,x){p=k.call(this,m,p,q,r,u,v,w,x) || this;p.Xe=m;return p;}d.__extends(l,k);l.prototype.jQ=function(m,p,q){var r;r=this.config;f.l && this.console.trace("LiveRequestManager: createRequest, params:",m);(0,c.assert)(!m.header);if(q.mediaType === n.u.Da)return (m=new g.oza(q,this.pa.zI.track,m,this.Oa,this.pa.K,r,this.console,this.Gpa),f.l && this.console.trace("created AseLiveTextRequest object:",m && m.toJSON(),"downloadTrack:",p.toString(),"movieId:",m.R,"streamId:",m.Ra,"offset:",m.offset,"bytes:",m.ma,"contentStartTicks:",m.ub,"contentEndTicks:",m.Lb,"ptsOffsetTicks:",m.Kp,"liveSegmentId:",m.ci),this.zx(m),m);p=k.prototype.jQ.call(this,m,p,q);p instanceof h.Lga || this.Xe.wQa(p);return p;};l.prototype.eYa=function(m,p,q,r){(0,c.assert)((0,e.zk)(m.stream),"LiveRequestManager: onfragmenttimes: stream is not live");m.bn && m.stream.track.HXa(this.pa,m.index,p) && m.tf !== p.lI && (this.console.warn("LiveRequestManager: onfragmenttimes: predicted fragment sample count incorrect",("current = ").concat(m.tf,", actual = ").concat(p.lI)),m.w3a(p.lI),q=!0);r && ((0,c.assert)(this.mediaType === n.u.U,"LiveRequestManager: onfragmenttimes: fragmentEditChanged only expected for video"),(0,c.assert)(m.bn || m.Gi,"LiveRequestManager: onfragmenttimes: fragmentEditChanged only expected for first or last request"),m.bn?this.Xe.CWc(m):m.Gi && this.Xe.BWc(m));q && (p=this.Oa.indexOf(m),p + 1 < this.Oa.length && (p=this.Oa.get(p + 1)) && p.hRb(m.DZ),this.Oa.update());this.Xe.wQa(m);};l.prototype.SU=function(){var m,p;m=this;f.l && this.console.trace(("LiveRequestManager: updateFragmentTimes ").concat(this.Oa.length," fragments"));if(this.Oa.length){p=this.Oa.get(0).stream.track;(0,c.assert)((0,e.po)(p),"LiveRequestManager: updateFragmentTimes: stream is not live");this.Oa.forEach(function(q){var r,u;r=p.Yv(q.index);u=r.qa;r=r.ta;f.l && m.console.trace("LiveRequestManager: update timestamps:",q,("updating start ").concat(q.qa.ca()," to ").concat(u.ca()),("updating end ").concat(q.ta.ca()," to ").concat(r.ca()));q.Ufa(u,r,!1);});this.Oa.update();}};return l;})(a(99021).sGa);b.dbb=t;},25915:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.ebb=void 0;d=a(52571);t=(function(){function n(c,f){this.config=c;this.console=f;(0,d.assert)(this.config.fS,"Ella must be enabled to use the coordinator");}n.prototype.eRc=function(c,f){var g;if(!c.eh)return {dg:!0,reason:"headerNotReceived"};if(!this.config.LD)return {dg:!1,reason:"ellaNonMixingMode"};c=f.Ql;if(void 0 === c)return {dg:!0,reason:"noEllaPositionDefined"};g=c - f.gp;return f.gp < c?{dg:!0,reason:"httpCatchingUp",context:{dT:f.gp,Ql:c,Nv:g}}:{dg:!1,reason:"ellaCaughtUp",context:{dT:f.gp,Ql:c,Nv:g}};};n.prototype.dRc=function(c,f){var g,e,h,k,l,m;g=c.qa.G;e=c.ta.G;if(!this.config.LD)return {dg:!0,reason:"ellaNonMixingMode",context:{RWa:this.config.LD,Ve:c.index,vQa:e}};h=f.Ql;if(void 0 === h)return {dg:!0,reason:"establishingEllaPosition",context:{RWa:this.config.LD,Ve:c.index,vQa:e}};k=h - f.gp;l=f.gp < g;m=f.gp > g;return l || m?{dg:!1,reason:l?"pipelineBehindElla":"pipelineAheadOfElla",context:{RWa:this.config.LD,Ql:h,Ve:c.index,H8c:g,vQa:e,dT:f.gp,Nv:k}}:{dg:!0,reason:"pipelineCaughtUpToElla",context:{RWa:this.config.LD,Ql:h,Ve:c.index,vQa:e,dT:f.gp,Nv:k}};};n.prototype.wRc=function(c){var f,g;(0,d.assert)(this.config.LD,"coordinator should be consulted to start streaming only when mixing is enabled");if(void 0 === c.Ql)return {dg:!1,reason:"noEllaPosition"};f=c.Ql - c.gp;g=this.config.TCb;return f <= g?{dg:!0,reason:"proximityThresholdReached",context:{wq:f,threshold:g,dT:c.gp,Ql:c.Ql}}:{dg:!1,reason:"tooFarFromElla",context:{wq:f,threshold:g,dT:c.gp,Ql:c.Ql}};};n.prototype.yRc=function(c){var f,g;(0,d.assert)(this.config.LD,"coordinator should be consulted to stop streaming only when mixing is enabled");if(void 0 === c.Ql)return {dg:!1,reason:"noEllaPosition"};f=c.Ql - c.gp;g=2 * this.config.TCb;return f > g?{dg:!0,reason:"tooFarBehindElla",context:{wq:f,threshold:g,dT:c.gp,Ql:c.Ql}}:{dg:!1,reason:"withinStopThreshold",context:{wq:f,threshold:g,dT:c.gp,Ql:c.Ql}};};return n;})();b.ebb=t;},71077:function(t,b){var d;function a(n,c){var f;f=!1;400 <= n && 499 >= n && 420 !== n && 452 !== n?f=!0:c && 504 === n && (f=!0);return f;}Object.defineProperties(b,{__esModule:{value:!0}});b.RCa=b.Gr=void 0;b.v$c=a;(function(n){n[n.nW=0]="RETRY";n[n.xgb=1]="SWITCH_STREAM";n[n.CGa=2]="SKIP";n[n.k9a=3]="FORWARD";n[n.Z5=4]="STOP";n[n.iGa=5]="REQUEST_SEEK_TO_EDGE";n[n.nja=6]="SKIP_OR_FORWARD";})(d || (b.Gr=d={}));t=(function(){function n(c,f){this.M=c;this.config=f;}n.prototype.Fy=function(c,f,g){var e,h,k;e=c.status;h=c.qa;c=c.ta;if(!a(e,this.config.doa))return d.k9a;if(410 === e && this.M.zD && c.lessThan(this.M.o$()))return d.iGa;this.M.Nq.wLb();k=this.M.Oc.roa;if(k && 410 === e && h.Wf(k) || 454 === e)return d.Z5;if(f.G <= this.config.rca)return d.CGa;f=this.M.il() - this.config.Izc;return 410 !== e && c.G > f?d.nW:g?d.xgb:d.nja;};return n;})();b.RCa=t;},72117:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.rdb=void 0;d=a(22970);t=(function(n){function c(f){return n.call(this,f) || this;}d.__extends(c,n);return c;})(a(2415).rFa);b.rdb=t;},95052:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r;Object.defineProperties(b,{__esModule:{value:!0}});b.qdb=void 0;d=a(22970);n=a(66164);c=a(90745);f=a(65161);g=a(52571);e=a(48170);t=a(71808);h=a(85254);k=a(97757);l=a(42431);m=a(99021);p=a(46512);q=a(15908);r=a(75100);a=(function(u){function v(w,x,y,A,z,B,C,D,E){var H;H=u.call(this,w,x,y,A,z,B,C,D,E) || this;H.events=new c.EventEmitter();H.iq=new m.sGa(H,x,H.console,H.pl,H.fv,H.mediaType,H.EJ,function(){return H.Kp;});return H;}d.__extends(v,u);v.prototype.Jg=function(w){var x;e.l && this.trace("pipeline.cancelStreaming");this.EF=!0;this.iq.Jg(w);null === (x=this.Op) || void 0 === x?void 0:x.wk(this.mediaType).La();this.Bd && (this.pa.M.dX(this.mediaType,this.Bd),l.XI.instance.m9(this.Bd),this.Bd.removeAllListeners(),this.Bd=void 0);};v.prototype.m3a=function(w,x,y){var A;A=this.bC(w);if(A)return A;(0,g.assert)(!w.Ba,"OnDemandPipeline.tryIssueRequest: stream must not be live");A=w.wqc();(0,g.assert)(A,("initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:").concat(w.eh,", headerFragments:").concat(A));w=this.BVc(w,A,this.Bd,x,y);this.Yob();return w;};v.prototype.BVc=function(w,x,y,A,z){var B,C,D,E,H,F,G,J,L,K,M,P;F=this.fv;G=F.M;J=this.mediaType;e.l && this.trace("makeRequest on streamId:",w.Ra,"profile:",w.profile,"location:",w.location,"url:",w.url,"bufferLevelMs:",this.fY.G,"(ms)","nextFragmentIndex:",this.qj,"firstFragment:",JSON.stringify(this.Cc),"lastFragment:",JSON.stringify(this.zc),"fragments:",x.length,"stream.frameDuration:",w.Ea);L=this.qj;if(L >= x.length)return (this.warn("makeRequest nextFragmentIndex:",L,"past fragments length:",x.length),{Ef:!1,reason:"insufficientFragments"});if(!this.Cc || !this.zc)return (this.warn("makeRequest delayed, first or last fragment not set","first:",!!this.Cc,"last:",!!this.zc),{Ef:!1,reason:"noFirstOrLastFragment"});K=J === f.u.X && !!this.config.oI && this.pa.K.ns && this.Cc.Wb.G < this.config.oI && void 0 !== this.Cc.na;M=J === f.u.X && !!this.config.oI && this.pa.K.Aq && this.zc.Wb.G < this.config.oI && void 0 !== this.zc.na;L=this.YG.Qwb(w,L,K,M);if(J === f.u.X && this.config.oI){if(this.pa.K.ns)if(L.bn)(e.l && this.trace("makeRequest marking fragment for fade in"),L.$Mb());else if(L.index === this.Cc.index + 1 && this.Cc.Wb.G < this.config.oI && void 0 !== this.Cc.na){e.l && this.trace("makeRequest marking second fragment for fade in");P=null !== (B=this.Cc.na.end) && void 0 !== B?B:this.Cc.tf;L.$Mb(P - this.Cc.na.start);}this.pa.K.Aq && (L.Gi?(e.l && this.trace(("makeRequest marking last fragment ").concat(L.index," for fade out")),L.aNb()):L.index === this.zc.index - 1 && (this.zc.Wb.G < this.config.oI && void 0 !== this.zc.na?(e.l && this.trace(("makeRequest marking fragment ").concat(L.index," for fade out")),P=null !== (C=this.zc.na.end) && void 0 !== C?C:this.zc.tf,L.aNb(P - this.zc.na.start)):e.l && this.trace(("makeRequest marking fragment ").concat(L.index," not for fade out ") + (", ").concat(this.zc.Wb.G,", ").concat(JSON.stringify(this.zc.na)))));}if(G.St && !G.St.Ema(this.mediaType,L.ma))return (e.l && this.trace("makeRequest would go over buffer limits:",L.ma),{Ef:!1,reason:this.mediaType === f.u.U?"globalVideoMemoryLimit":"globalAudioMemoryLimit"});this.eVa=L.region;L.Sy=z;null === (D=this.En) || void 0 === D?void 0:D.Tvc(L,w);L.Gi && J === f.u.U && this.pl.Z3b(F.K,L.Pb.G);e.l && L.Gi && this.trace("marking last request in sequence, ptsEnd:",L.Pb.G,"branch.contentEndPts:",F.Pb.G,"fragments.endPts:",x.Lg,"fragmentIndex:",this.qj,"lastFragmentIndex:",x.length - 1);this.config.YL && (e.l && this.trace("request.bytes:",L.ma,"max request size:",this.config.YL),L.YL=this.config.YL);L.location=w.location;L.dd=w.Ab;L.ydd=w.Ku;this.Hwa(L,{stream:w,sn:A,H1:L.Wb});x=n.platform.time.ha();e.l && this.trace("calling createRequest with fragment " + JSON.stringify(L) + ", " + L.constructor && L.constructor.name + ", " + JSON.stringify(w));y=this.he.jQ(L,y,w);e.l && this.trace("making mediaRequest:",y.toString(),"branchOffset:",F.Ld.G,"offset:",L.offset,"bytes:",L.ma,"lastRequestInSequence:",L.Gi,"viewableId:",G.J,"frag:",L.qa.G + "-" + L.ta.G,"frag index:",L.index,"stream.frameDuration:",w.Ea,"fragment.movieDataOffset:",L.Tsa,"fragment.profile:",L.profile,"frameCount:",null === (E=this.En) || void 0 === E?void 0:E.yA(L,w),"edit:",JSON.stringify(y.na),"editSecondFragment:",K,"editLastButOneFragment:",M,"this.lastFragment.durationMs:",this.zc.Wb.G);if(!y.open()){this.warn("MediaRequest.open error: " + y.bh + " native: " + y.Qg);if(y.aborted)return (e.l && this.trace("makeRequest aborted"),{Ef:!1,reason:"requestAborted"});this.warn("makeRequest caught:",y.bh);G.Yf({Ti:"MediaRequest open failed (1)",iD:"NFErr_MC_StreamingFailure"});return {Ef:!1,reason:"openAseMediaRequest"};}null === (H=this.En) || void 0 === H?void 0:H.wlc(y,L,w);e.l && this.trace("mediaRequest created in",n.platform.time.ha() - x,"ms," + y.toString(),"offset:",L.offset,"bytes:",L.ma);this.Uy(y.ta.G,L.u0);e.l && this.trace("makeRequest done, mediaRequest:",y.toString(),"relative:",this.Mk,"branchOffset:",F.Ld.G,"nextFragmentIndex:",this.qj);return {Ef:!0,reason:"success"};};v.prototype.Uy=function(w,x){var y;e.l && this.trace("pipeline.setNextStreamingPts:",this.MJ + "->" + w,this.qj + "->" + x);y=w - this.MJ;this.MJ=w;this.qj=x;this.Qxa(y);};v.prototype.Qxa=function(w){var x,y;this.TW=-Infinity;this.HW="available";y=null === (x=this.kl) || void 0 === x?void 0:x.Oa;if(!(void 0 === y || this.qj >= y.length))if(this.pa.Daa && this.config.Gkc){if((w=this.pa.M.xba,y=(0,r.V$b)({pa:this.pa,cAc:w.CRa(),Oa:y,qj:this.qj,config:this.config})))(y=this.Cxb(y.ejc,y.Snc),w=y.bA,this.TW=y.qw,this.HW=w);}else this.config.F9 && (y={x0a:null !== w && void 0 !== w?w:y.fg(this.qj),PNa:this.pa.en(this.mediaType),KWa:this.config.l0,v2a:this.config.FH},this.TW=this.config.Zkc?(0,q.MRa)(q.ija.GCa,d.__assign(d.__assign({},y),{Jrb:this.config.YTc,Mrb:this.config.ZTc})):(0,q.MRa)(q.ija.LINEAR,d.__assign(d.__assign({},y),{$9b:this.config.C2})),this.HW="waitingOnPacedRequest");};return v=d.__decorate([k.GZ],v);})(p.qFa);b.qdb=a;(0,h.wl)(t.nz,a);},99548:function(t,b,a){var c,f,g,e,h;function d(k,l){var C,D;for(var m=[],p=0,q=k[p],r=null === q || void 0 === q?void 0:q[0],u=null === q || void 0 === q?void 0:q[1],v=l.zc.index,w=l.track.ek,x=0,y=l.Cc.qa,A=l.Cc.ta.G > q[0],z=A,B=l.Cc.index;B <= v;++B){C=!1;if(q){D=w.get(B);A && (D.qa.G >= u?(A=!1,++p >= k.length?u=r=q=void 0:(q=k[p],r=null === q || void 0 === q?void 0:q[0],u=null === q || void 0 === q?void 0:q[1])):z?z=!1:(m.push(new f.eja(x,y,D.qa)),y=D.qa,C=!0));!A && q && D.ta.G > r && (A=!0,C=D.qa,(D=l.track.QA.hu(B).gvb(r)) && 0 !== D.rl && (C=c.I.Ca(D.od)),m.push(new f.eja(x,y,C)),y=C,C=!0);}C && ++x;}m.push(new f.eja(x,y,l.zc.ta));return m;}function n(k,l,m){var p,q,r,u;(0,e.assert)(k.S && k.oj,"Unexpected sanitizeLiveEndTimestamp.");q=k.S.Ji;r=null === q || void 0 === q?void 0:q.QQ;q="none";if(null === (p=k.Oc) || void 0 === p?0:p.QQ)if(r){h && m.trace("PipelineNormalizer.sanitizeLiveEndTimestamp setting end timestamp:","manifestEndTime:",r);q="manifest";u=new Date(r).getTime();}else (p=k.oj.endTime,(k=k.oj.KK)?(q="oc",u=k,h && m.trace("PipelineNormalizer.sanitizeLiveEndTimestamp,","eventEndTime:",p,"encoderShutdownTime: ",k,"endTimeMs:",u)):p && (q="oc",h && m.trace("PipelineNormalizer.sanitizeLiveEndTimestamp setting end timestamp:","eventEndTime:",p),u=new Date(p).getTime() + l.UCb,h && m.trace("PipelineNormalizer.sanitizeLiveEndTimestamp,","eventEndTime:",p,"endTimeMs:",u)));u || (u=Infinity);return {cb:u,source:q};}Object.defineProperties(b,{__esModule:{value:!0}});b.PKb=function(k,l,m){var p,q;p=l.get(g.u.X);q=l.get(g.u.U);l=l.get(g.u.Da);q=null === q || void 0 === q?void 0:q.track.PK(k,m,q.En);p=null === p || void 0 === p?void 0:p.track.PK(k,(null === q || void 0 === q?void 0:q.ta) || m,p.En);k=null === l || void 0 === l?void 0:l.track.PK(k,(null === q || void 0 === q?void 0:q.ta) || (null === p || void 0 === p?void 0:p.ta) || m,l.En);return [p,q,k];};b.lEc=function(k,l){(0,e.assert)(l,"missing pipeline");return l.qa;};b.xBc=function(k,l,m){var p;if(!l.Ul || 0 === l.Ul.length)return (h && k.trace("markExitZones, no exit zones"),[]);p=l.Ul.map(function(q){return [l.Ta + q[0],l.Ta + q[1]];});m=d(p,m.Vq);h && k.trace("markExitZones found regions:",m);return m;};b.Fad=d;b.hwa=function(k,l,m,p){var q;q=p;p=m.yL?q:c.I.min(q,l);h && k.trace("PipelineNormalizer.sanitizeLiveStartTimestamp capping start timestamp to live:",q.ca(),"->",p.ca());return p;};b.m9c=n;b.mea=function(k,l,m,p){var q,r,u,v;(0,e.assert)(m.S && m.oj,"Unexpected sanitizeLiveEndTimestamp.");(0,e.assert)(m.Oc,"Expected live viewable with live position service");q=m.S.Ji;r=n(m,l,k);u=r.cb;r=r.source;if(isFinite(u) && ("oc" === r || null === p || void 0 === p || !p.isFinite())){r=m.Oc.lxa.G;v=u - r;0 > v && k.error("PipelineNormalizer.sanitizeLiveEndTimestamp negative pts. ","liveMetadata:",JSON.stringify(q),"eventEndTime:",m.oj.endTime);(0,e.assert)(0 <= v,"endPts is negative");p=(null === p || void 0 === p?0:p.isFinite())?c.I.min(p,c.I.Ca(v)):c.I.Ca(v);h && k.trace("PipelineNormalizer.sanitizeLiveEndTimestamp. ","new contentEndTimestamp:",p.G,"startTimeMs:",r,"endTimeMs:",u);}return l.lU && (l=m.Oc.il(!0),l=c.I.Ca(l + 1E4),null === p || void 0 === p?0:p.greaterThan(l))?(k.trace("PipelineNormalizer.sanitizeLiveEndTimestamp. ","performing simulated override:",p.G,"startTimeMs:",l,"endTimeMs:",u),c.I.dh):p;};c=a(91176);f=a(79048);g=a(65161);e=a(52571);h=!1;},2415:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.rFa=void 0;d=a(22970);n=a(65161);c=a(52571);f=a(99548);t=(function(){function g(e){var h,k,l,m,p,q,r;h=e.console;k=e.config;l=e.M;m=e.fe;p=e.K;q=e.qa;r=e.ta;e=e.splice;this.nL=this.cY=!1;this.console=h;this.config=k;this.fe=m;this.M=l;this.K=p;this.qa=q;this.ta=r;this.splice=e;this.console.trace("PipelineNormalizer ctor:",this.fe.map(function(u){return u.mediaType;}));}g.prototype.normalize=function(){var e,h;if(this.cY)throw Error("Cannot call normalize() after cleanup");if(this.nL)throw Error("Cannot call init() / normalize() twice");this.nL=!0;(0,c.assert)(this.h7b());e=this.kXa();h=!1;this.K && !this.K.Ly && (h=this.lXa());this.Se();return {Kna:e,tQ:h};};g.prototype.LM=function(e,h){(0,c.assert)(this.nL,"expected to be called init() before renormalize");this.K=e;this.ta=h;e=(0,f.PKb)(this.config,this.fe,this.ta);this.lXa();return e;};g.prototype.Se=function(){this.cY || (this.cY=!0);};g.prototype.h7b=function(){return this.fe.every(function(e){return e.track.eh;});};g.prototype.kXa=function(){var e,h,k,l,m,p,q,r,u,v,w,x;e=this.fe.get(n.u.X);h=this.fe.get(n.u.U);k=this.fe.get(n.u.Da);l=d.__read(h?this.jXa(h,this.qa,this.ta,this.splice):[!1],3);m=l[0];p=l[1];l=l[2];q=d.__read(e?this.jXa(e,m && void 0 !== (null === p || void 0 === p?void 0:p.qa)?p.qa:this.qa,void 0 !== (null === l || void 0 === l?void 0:l.ta)?l.ta:this.ta,this.splice):[!1],3);r=q[0];u=q[1];q=q[2];v=d.__read(k?this.jXa(k,this.qa,this.ta,this.splice):[!1],3);w=v[0];x=v[1];v=v[2];r && (null === e || void 0 === e?void 0:e.Haa(u,q));m && (null === h || void 0 === h?void 0:h.Haa(p,l));w && (null === k || void 0 === k?void 0:k.Haa(x,v));return m || void 0 === this.fe.get(n.u.U) && r;};g.prototype.jXa=function(e,h,k,l){var m,p;p=null === (m=e.pa.parent) || void 0 === m?void 0:m.me(e.mediaType);h=e.Cc || e.track.Rx(this.config,h,null === p || void 0 === p?void 0:p.zc,l);k=e.zc || e.track.PK(this.config,k,e.En);return [!e.Xf(),h,k];};g.prototype.lXa=function(){(0,c.assert)(this.K,"missing segment");return this.Ssb(this.K.jb);};g.prototype.Ssb=function(e){var h;(0,c.assert)(this.K,"missing segment");h=this.fe.Vq;if(void 0 === (0,f.lEc)(this.config,h,e) || void 0 === h.ta)return !1;e=this.config.aga && "lazy" === this.K.$d?(0,f.xBc)(this.console,this.K,this.fe):[];this.K.pNb(e);return !0;};return g;})();b.rFa=t;},46512:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u;Object.defineProperties(b,{__esModule:{value:!0}});b.qFa=void 0;d=a(22970);n=a(66164);c=a(91176);t=a(81392);f=a(8934);g=a(65161);e=a(65161);h=a(14242);k=a(69575);l=a(52571);m=a(78541);p=a(96652);q=a(73861);r=a(64141);u=a(15908);a=(function(v){function w(x,y,A,z,B,C,D,E,H){var F;F=v.call(this,x) || this;F.config=y;F.fv=B;F.It=C;F.m3b=D;F.EJ=E;F.connected=!1;F.XSa=!1;F.TW=-Infinity;F.HW="available";F.EF=!1;F.tJa=!1;F.aCb=-Infinity;F.YG=new f.adb(F.mediaType,y,A,F);x="[" + F.mediaType + "]";F.console=(0,k.Gf)(n.platform,A,x);F.error=F.console.error.bind(F.console);F.warn=F.console.warn.bind(F.console);F.trace=F.console.trace.bind(F.console);F.MJ=D.G;y.En && (F.En=new h.ehb(y.En,F.console));F.pl=new q.teb(F,z,F.config,F.console,F.mediaType);F.Bd=H || (0,m.bD)(F.mediaType,F.track.M,F.config,F.console,F.track.Eb,F.pl.rQa.bind(F.pl),F.pl.Rnc.bind(F.pl),function(){});F.Bd.on("created",function(){return F.events.emit("requestQueueCreated");});return F;}d.__extends(w,v);Object.defineProperties(w.prototype,{mediaType:{get:function(){return this.It.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{track:{get:function(){return this.It;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{pa:{get:function(){return this.fv;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{L:{get:function(){return this.fv.K.id;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{OYa:{get:function(){return ("").concat(this.L,"-").concat((0,g.JH)(this.mediaType));},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{he:{get:function(){return this.iq;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Gd:{get:function(){return this.It.Gd;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{fY:{get:function(){return this.iq.fY;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Pva:{get:function(){return this.iq.Pva;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Mk:{get:function(){return this.MJ;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Zwa:{get:function(){return this.Tb || this.pH;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{qk:{get:function(){return this.he.qk || this.Zwa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{E8:{get:function(){return this.he.E8;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{WMa:{get:function(){return this.he.WMa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{cCb:{get:function(){var x;x=this.he.dCb;return null === x || void 0 === x?void 0:x.ta;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Hna:{get:function(){return this.he.Hna;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{gQa:{get:function(){return !!this.Cc && this.qj > this.Cc.index;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Bk:{get:function(){return !!this.zc && (this.qj > this.zc.index || this.MJ >= this.zc.ta.G);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{k7b:{get:function(){return this.Bk && 0 === this.he.EN;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{mk:{get:function(){return this.Bk && 0 === this.iq.UHc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{FYa:{get:function(){var x;if(this.tJa)return !0;if(!this.mk)return !1;x=this.UZ();return this.tJa || (this.tJa=void 0 === x || x.FYa);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{r7b:{get:function(){return !!this.he.dCb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{$J:{get:function(){return this.he.$J;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ez:{get:function(){return this.Pb?c.I.max(this.Pb.ea(this.wI),c.I.ia):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{xZ:{get:function(){return this.pa.xZ;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Do:{get:function(){return this.Op.wk(this.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Z3a:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Xgc:{get:function(){return this.he.Oa.Wb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{kl:{get:function(){return this.Do.kl;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{qw:{get:function(){return this.TW;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{bA:{get:function(){return this.HW;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{O:{get:function(){var x,y;return null !== (y=null === (x=this.Cc) || void 0 === x?void 0:x.O) && void 0 !== y?y:1;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ub:{get:function(){var x;return null === (x=this.Cc) || void 0 === x?void 0:x.ub;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Lb:{get:function(){var x;return null === (x=this.zc) || void 0 === x?void 0:x.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Kp:{get:function(){return this.pa.Ld.Kc(this.O).$;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{$Sa:{get:function(){return this.he.$Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Xy:{get:function(){return this.he.Xy;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Q1a:{get:function(){return this.he.Q1a;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{pH:{get:function(){return this.m3b.add(this.pa.Ld);},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Cwc:{get:function(){return n.platform.time.now() - this.aCb < this.config.Uda;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Op:{get:function(){return this.pa.caa(this.mediaType);},enumerable:!1,configurable:!0}});w.prototype.QU=function(){this.he.QU();};w.prototype.eX=function(){var x;x=this;this.iq.eX(function(y){var A,z;z=y[0];y=null === (A=z.qa) || void 0 === A?void 0:A.G;A=z.index;A < x.qj && x.Uy(y,A);});};w.prototype.reset=function(){this.he.reset();this.Cc && this.Uy(this.Cc.qa.G,this.Cc.index);this.Bd && this.pa.M.dX(this.mediaType,this.Bd);};w.prototype.toJSON=function(){return {started:this.Xy,startOfSequence:this.Q1a,segmentId:this.L,requestedBufferLevel:this.Pva,viewableId:this.fv.M.J,hasFragments:this.$Sa};};w.prototype.st=function(){return this.he.st();};w.prototype.Uy=function(x,y){this.MJ=x;this.qj=y;this.Qxa();};w.prototype.aL=function(){return this.he.aL();};w.prototype.UZ=function(){return this.pa.Hxb(this.mediaType);};w.prototype.hY=function(x){return (x=this.he.hnc(x.G))?x.complete:!1;};Object.defineProperties(w.prototype,{jh:{get:function(){return this.fv.jh;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{wI:{get:function(){var x,y;return this.he.wI || (null === (y=null === (x=this.Cc) || void 0 === x?void 0:x.qa) || void 0 === y?void 0:y.add(this.pa.Ld)) || this.pH;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{mxa:{get:function(){return c.I.Ca(this.MJ);},enumerable:!1,configurable:!0}});w.prototype.Jwb=function(){};w.prototype.bC=function(x){(0,l.assert)(!this.EF,"pipeline.tryIssueRequest on disabled pipeline");(0,l.assert)(!this.qp(),"pipeline.tryIssueRequest on done pipeline");(0,l.assert)(!this.Bk);if(!x.eh)return (x=x.bC(this.pa.K,this.Bd))?{Ef:x,reason:"success"}:{Ef:x,reason:"pipelineTryIssueHeaderRequest"};};w.prototype.Hwa=function(x,y){var A,z,B,C,D,E;A=y.sn;z=y.H1;B=this.fv;C=this.mediaType;if("OPEN_CONNECT_APPLIANCE" === y.stream.Mw)if(this.config.JK && B.M.NB){y=B.M.NB;C=this.config.C9 || C === e.u.X && this.config.z9 || C === e.u.U && this.config.IG;D=this.config.Ftb && this.mediaType === e.u.U && this.config.Rq;B=(0,p.eLc)(B.en(this.mediaType),this.config.fW);E=C && A?(0,p.mmc)(A):void 0;z=d.__assign({b$b:B,hcc:n.platform.time.ha(),xIc:z.G},E);D && (z.x$b={start:x.offset,size:x.ma});x.PM=C?A:void 0;x.Ocd=z;x.OB=y.nrb(z);}else if(y=B.M.j2)(C=this.config.C9 || C === e.u.X && this.config.z9 || C === e.u.U && this.config.IG,D=this.config.Ftb && this.mediaType === e.u.U && this.config.Rq,x.PM=C?A:void 0,x.OB=y.Xt({UP:B.en(this.mediaType),Fca:this.config.Etb?this.config.Fca:void 0,U2a:String(n.platform.time.ha()),qHb:A,JLa:D?{start:x.offset,size:x.ma}:void 0,vIb:z.G}));};w.prototype.Haa=function(x,y){x && (this.Cc=x);y && (this.zc=y);(0,l.assert)(this.Cc);(0,l.assert)(this.zc);(0,l.assert)(void 0 === this.qj);this.Uy(this.Cc.qa.G,this.Cc.index);};w.prototype.truncate=function(x){var y,A;y=this;(0,l.assert)(this.Cc,"expected first fragment to exist on updateStreaming");if(this.qp() && (null === (A=this.zc) || void 0 === A?0:A.MC) || this.zc && x.index > this.zc.index)return !1;this.zc=x;if(!this.Bk)return !0;x=this.iq.x5b(x);if(!x)return !1;this.Uy(x[0],x[1]);this.Bk && (this.he.R0a(),this.he.sMa(),Promise.resolve().then(function(){y.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:y.mediaType});}));return !0;};w.prototype.iy=function(){return this.qp()?!1:this.Xf()?!0:this.track.xca;};w.prototype.Xf=function(){return void 0 !== this.Cc && void 0 !== this.zc;};w.prototype.qp=function(){return this.EF || this.k7b;};w.prototype.yUa=function(){var x,y,A;A=this.config.Rq;if(null === (x=this.Bd) || void 0 === x?0:x.track)A=null === (y=this.Bd) || void 0 === y?void 0:y.track.Rq;return A;};Object.defineProperties(w.prototype,{wZa:{get:function(){var x;x=!0;this.config.bea && (x=this.connected);this.config.aea && (x=x && this.XSa);return x;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{jHb:{get:function(){return void 0 !== this.En;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{fua:{get:function(){var x;return (null === (x=this.En) || void 0 === x?0:x.hA())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});w.prototype.uo=function(x,y){this.pl.zEc(x);"oncomplete" === this.config.Xzb && (this.XSa=!0);this.ZQ(x,y);};w.prototype.OS=function(x){var y,A;x.gf || this.pl.ZFb(x.stream,null === (y=x.Tb) || void 0 === y?void 0:y.G,null === (A=x.qa) || void 0 === A?void 0:A.G);this.pl.vEc(this.L,x.stream,x.gf);this.Toa(x);};w.prototype.mM=function(x){this.connected=!0;"onfirstbyte" === this.config.Xzb && (this.XSa=!0);this.h$(x);};w.prototype.Rwb=function(x){var y,A;y=this.he.Oa;if(0 === y.length)return {Oa:[],uua:0,xw:0,C1:0};A=y.V9(x.G);0 > A && (A=void 0 === y.Tb || x.G <= y.Tb.G?0:y.length);return {Oa:y.lPc(A),uua:Math.max(0,y.$pb - A),xw:y.xw,C1:y.C1};};w.prototype.v5b=function(x,y,A){var z,B,C,D,F,G,J,L,K;if(!this.Cwc){C=this.he.Orc();Array.prototype.sort.call(C,function(P,I){return P.index - I.index;});(0,g.JH)(this.mediaType);D=y / C.length;y=[];try{for(var E=d.__values(C),H=E.next();!H.done;H=E.next()){F=H.value;G=F.bitrate;J=F.Wb;L=F.MC;K=8 * ((F.ma || J.G * G / 8) - F.bytesReceived);if(void 0 !== F.Ma.qa)if(0 < y.length)y.push(F);else if(Math.ceil(K / D) + (F.active?0:A) > x){if(L)return;y.push(F);}}}catch(P){var M;M={error:P};}finally{try{H && !H.done && (z=E.return) && z.call(E);}finally{if(M)throw M.error;}}0 !== y.length && (x=d.__read(y,1)[0],this.he.w5b(y),this.Uy(null === (B=x.Ma.qa) || void 0 === B?void 0:B.G,x.index),this.aCb=n.platform.time.now());}};w.prototype.Yob=function(){this.Bk && (this.he.R0a(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));};w.prototype.Qxa=function(){this.TW=-Infinity;this.HW="available";};w.prototype.Cxb=function(x,y){var A,z,B,C,D,E;C=this.track.M.xba;(0,l.assert)(void 0 !== C,"Trying to get a live availability time without a live playback");D=C.Oc;C=C.Qf;E=D.il(!0);D=D.DRa(!0);return x <= E?this.config.aZ?(x=this.pa.Spa(),D=null !== (A=this.config.nl) && void 0 !== A?A:0,A=this.pa.en(this.mediaType),y=(0,u.MRa)(u.ija.GCa,{v2a:x,KWa:D,PNa:A,x0a:y,Jrb:null !== (z=this.config.Q_) && void 0 !== z?z:0,Mrb:null !== (B=this.config.R_) && void 0 !== B?B:1}),{qw:y,bA:"waitingOnPacedRequest"}):{qw:-Infinity,bA:"available"}:(y=(0,r.U$b)({Qf:C,YDc:x,QAc:D.G}),{qw:y,bA:"waitingOnLiveAvailability"});};return w;})(t.WN);b.qFa=a;},99021:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r;Object.defineProperties(b,{__esModule:{value:!0}});b.sGa=void 0;d=a(22970);n=d.__importStar(a(17267));c=a(91176);f=a(47743);g=a(21306);t=a(81392);e=a(65161);h=a(52571);k=a(89645);l=a(40666);m=a(97757);p=a(27977);q=a(3033);r=a(58418);a=(function(u){function v(w,x,y,A,z,B,C,D){var E;E=u.call(this,w) || this;E.config=x;E.console=y;E.pl=A;E.fv=z;E.mediaType=B;E.Gpa=D;E.Bd=new k.SI(E.console);E.error=E.console.error.bind(E.console);E.warn=E.console.warn.bind(E.console);E.trace=E.console.trace.bind(E.console);E.mLb();E.bm=null === C || void 0 === C?void 0:C.fs(function(){return E.sNc();},"pruner");return E;}d.__extends(v,u);Object.defineProperties(v.prototype,{pa:{get:function(){return this.fv;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Xy:{get:function(){return 0 < this.E_a;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Q1a:{get:function(){return !this.b$;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{E_a:{get:function(){return this.rb.length;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{EN:{get:function(){return this.rb.EN;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{uX:{get:function(){return this.Bd.qH;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{qk:{get:function(){return this.rb.complete.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{E8:{get:function(){return this.rb.Xpb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{WMa:{get:function(){return this.rb.Hcc;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{wI:{get:function(){return this.rb.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Pva:{get:function(){return void 0 === this.rb.Tb?0:this.rb.Pb.G - this.rb.Tb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{fY:{get:function(){return {ma:this.rb.Sma,G:this.rb.empty?0:Math.max(this.rb.Xpb - this.rb.Tb.G,0)};},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Sma:{get:function(){return this.rb.Sma;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{$J:{get:function(){return this.rb.ma;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{UHc:{get:function(){return this.Trc();},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{$Sa:{get:function(){return this.rb.length > this.rb.EN;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Im:{get:function(){return this.rb.Im;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{dCb:{get:function(){return this.XIa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Hna:{get:function(){return void 0 !== this.XIa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Oa:{get:function(){return this.rb;},enumerable:!1,configurable:!0}});v.prototype.Jg=function(w){var y,A,z;function x(){var B;B=z.map(function(C){return C;});0 < B.length && y.pl.Ata(B);z.forEach(function(C){C.abort();C.Se();});}y=this;z=this.rb;w?setTimeout(x,1):x();this.mLb();this.Bd.KQ();null === (A=this.bm) || void 0 === A?void 0:A.La();};v.prototype.reset=function(){this.Jg();this.Bd.kLb();};v.prototype.close=function(){this.Bd.KQ();};v.prototype.R0a=function(){this.Bmb=!0;};v.prototype.ayb=function(){return {endMarked:void 0 !== this.Bd.count,queueCount:this.Bd.count,isComplete:this.Bd.qH,itemCount:this.Bd.Ypb,continuousEndPts:this.Bd.xj().reduce(function(w,x){return x && !x.done && (x=x.value,100 > Math.abs(x.Wv.G - w) || -1 === w)?x.DZ.G:w;},-1),sentinelItemCount:this.Bd.xj().filter(function(w){return w && w.done;}).length,processedCount:this.Bd.iic,rc:this.E_a};};v.prototype.vpc=function(){return {completedRequests:this.rb.wpc()};};v.prototype.jQ=function(w,x,y){var A;A=this.config;(0,h.assert)(!w.header);w=f.lza.create(y,A,x.track,w,this.rb,this.pa.K,this.console,this.Gpa);this.rb.length && this.rb.ta && !w.qa.equal(this.rb.ta) && w.hRb(this.rb.ta);this.zx(w);return w;};v.prototype.zx=function(w){var x,y;this.rb.ru(w);(null === (x=this.bm) || void 0 === x?void 0:x.state) === l.zm.complete && (null === (y=this.bm) || void 0 === y?void 0:y.cd());this.ibc();w.Gi && (this.b$=!1);};v.prototype.aL=function(){return this.Bd.epa();};v.prototype.sMa=function(){this.VD === this.rb.length && this.Bmb && this.Bd.KQ();};v.prototype.QU=function(){var w,x,y,A;w=this;A=Promise.resolve();if(!this.fv.hQ(this.mediaType) || this.VD === this.rb.length)return A;for(var z=this.config.RBc,B=0,C=[];this.VD < this.rb.length;){if(y=this.rb.get(this.VD)){if(y.SD){if(this.config.FQ)C.push.apply(C,this.NKc(y));else break;}else {if(this.rb.vvb && this.rb.vvb.ub < y.ub)break;if(!y.by())break;C.push(y);}++B;n.pc(this.bZa) || (this.bZa=null === (x=y.Tb) || void 0 === x?void 0:x.G);}++this.VD;if(!n.ky(z) && B >= z)break;}C.length && (void 0 !== this.Bd.count && (this.error("tryToAtach() but requestQueue has sentinel:",this.Bd.count),this.Bd.kLb()),A=Promise.all(C.map(function(D){return w.Bd.enqueue(D).then(function(){return w.Vtc(D);});})),this.sMa());return A;};v.prototype.Vtc=function(w){this.XIa=w;};v.prototype.eX=function(w){var x,y,A;x=this;y=[];if(0 !== this.rb.EN){A=this.rb.SHb;this.rb.WQb.L1a(function(z){var B;if(z.Gi || A > (null === (B=z.Tb) || void 0 === B?void 0:B.G))return !0;z.bn && (x.b$=!1);if(!x.FP(z))return (x.warn("request abort failed:",z.toString()),!0);y.unshift(z);});this.wda();y.length && "function" === typeof w && w(y);}};v.prototype.rNc=function(w){w.SD=!0;w.abort();this.rb.wGc();this.QU();};v.prototype.sNc=function(){var w,x,y,A,z,B;return d.__generator(this,function(C){switch(C.label){case 0:C.label=1;case 1:if(!this.rb.length)return [3,3];w=this.rb.get(0);x=c.I.Ca(null !== (B=null === (z=this.config.QB) || void 0 === z?void 0:z.G) && void 0 !== B?B:0);y=x.add(w.Pb);return [4,l.ce.mm(y)];case 2:C.T();if(1 >= this.rb.complete.length && !w.Gi)return [3,3];(0,h.assert)(w === this.rb.get(0));w.MC || this.FP(w);A=this.rb.splice(0,1);0 < this.VD && this.VD--;this.pl.Ata(A);A=void 0;return [3,1];case 3:return [2];}});};v.prototype.hnc=function(w){if(this.rb.length && (w=this.rb.Wub(w)))return w;};v.prototype.x5b=function(w){var x,y,A,z,B,C,D;C=w.ta;w=this.rb.TPa(w.qa.G);if(!(0 > w)){D=this.rb.get(w);(0,h.assert)(D && void 0 !== (null === (x=D.qa) || void 0 === x?void 0:x.G) && void 0 !== (null === (y=D.ta) || void 0 === y?void 0:y.G) && void 0 !== D.index,"expected existing request to be defined with properties");if(null === (A=D.ta) || void 0 === A?0:A.equal(C))return (this.wlb(w),[null === (z=D.ta) || void 0 === z?void 0:z.G,D.index + 1]);this.wlb(w - 1);return [null === (B=D.qa) || void 0 === B?void 0:B.G,D.index];}};v.prototype.st=function(){var w,x;w=this;x=[];this.rb.forEach(function(y){var A,z;z=null === (A=y.F3a) || void 0 === A?void 0:A.call(y);1 === z?x.push(y):2 === z && w.pa.M.Yf({Ti:"swapUrl failure"});});return x;};v.prototype.mM=function(w){w.SA && w.by() && !this.config.HQ && this.QU();this.h$(w);};v.prototype.$D=function(w,x){var y,A;if(this.config.HQ && w.by() && !w.MC){y=w.stream;A=y.track;y=y.bitrate;A=(0,r.qyb)({B$b:w.ma,TAc:A.Gd[0].bitrate,Ygc:y,LCc:this.config.jxa,nNc:w.Wb.Zi,Ba:this.pa.M.Eb});w.bytesReceived >= A && this.QU();}this.CZ(w,x);};v.prototype.uo=function(w,x){var y,A;w.SA && !w.MC && this.QU();(null === (y=this.bm) || void 0 === y?void 0:y.state) === l.zm.complete && (null === (A=this.bm) || void 0 === A?void 0:A.cd());this.ZQ(w,x);};v.prototype.Orc=function(){return this.rb.active.concat(this.rb.WQb);};v.prototype.w5b=function(w){var x,y,A;x=this;y=!1;A=-1;w.map(function(z){(0,h.assert)(-1 === A || z.index === A + 1,"requests to abort must be contiguous");A=z.index;if(!x.FP(z))return !1;y=!0;x.Bd.remove(z);z.Se();return !0;});y && this.wda();};v.prototype.Trc=function(){return this.rb.Im + this.rb.EN;};v.prototype.mLb=function(){var w,x,y;x=void 0 !== this.rb && 0 < this.rb.length;y=this.rb;this.rb=new g.A5a(this.console,this);this.VD=0;this.Bd.clear();this.XIa=void 0;this.bZa=null;null === (w=this.bm) || void 0 === w?void 0:w.cd();this.Bmb=this.b$=!1;x && (w=y.map(function(A){return A;}),this.pl.Ata(w));};v.prototype.ibc=function(){this.b$ || (this.b$=!0);};v.prototype.wlb=function(w){var x;for(w+=1;w < this.E_a;w++){x=this.rb.get(w);(0,h.assert)(x,"expected request to exist");this.Bd.remove(x);x.aborted || (this.FP(x),x.Se());}this.wda();};v.prototype.FP=function(w){return w.abort()?!0:!1;};v.prototype.wda=function(){var w,x,y,A;w=this;if(0 !== this.rb.length){y=[];A=0;this.rb.wda(function(z,B){B < w.VD && ++A;y.push(z);});this.VD-=A;null === (x=this.bm) || void 0 === x?void 0:x.cd();this.pl.Ata(y);}};v.prototype.NKc=function(w){var x,y;y=[];switch(this.mediaType){case e.u.X:y=this.OKc(w);break;case e.u.U:y=this.QKc(w);break;case e.u.Da:y=this.PKc(w);break;case e.u.um:this.console.error("providePaddingFragments not implemented for MEDIA_EVENTS");}if(null === (x=w.Qy) || void 0 === x?0:x.rH)y[y.length - 1].Qy={rH:!0};return y;};v.prototype.OKc=function(w){return q.eO.instance().bfa.AJb(this.pa.M,w.stream.Ae,(0,p.uwb)(w.stream.profile),w.stream.bitrate,w.stream.track.Au,w.Wb,this.pa.K,function(x,y){return w.Tb.add(y).Kc(x).$;},this.config,this.console);};v.prototype.QKc=function(w){var x,y,A;A=null === (x=w.stream.track.Ea) || void 0 === x?void 0:x.h_a();(0,h.assert)(A,"Video streams must have a frame rate");return q.eO.instance().bfa.BJb(this.pa.M,"padding",w.stream.profile,A,null === (y=w.stream.track.zo) || void 0 === y?void 0:y.NC,w.stream.track.Au,w.Wb,this.pa.K,function(z,B){return w.Tb.add(B).Kc(z).$;},this.console).Oa;};v.prototype.PKc=function(w){w.rva(q.eO.instance().bfa.SKc(),!0);return [w];};return v=d.__decorate([m.GZ],v);})(t.WN);b.sGa=a;},64141:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.U$b=function(n){var c,f,g;c=n.Qf;f=n.YDc;g=n.QAc;n=n.ubd;n=void 0 === n?d.platform.time.ha():n;return f + g - (c - n);};d=a(66164);},75100:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.V$b=function(a){var d,n,c,f,g;d=a.pa;n=a.cAc;c=a.Oa;f=a.qj;a=a.config;if(void 0 !== d.NL){g=c.ht(f) - d.qa.G;c=c.fg(f);return {ejc:d.Tb.G + (g + Math.min(c,n.G)) / a.Tzc - d.NL.G,Snc:c};}};},99614:function(t,b){var a,d;Object.defineProperties(b,{__esModule:{value:!0}});b.jac=function(n){var c,f,g;c=n.x0a;f=n.PNa;g=n.Mrb;return f < n.KWa?Infinity:f >= n.v2a?1E3 / c:1E3 * (d / Math.pow(f / (n.Jrb / (Math.pow(2,1 / g) - a)) + a,g) + 1) / c;};b.iac=function(n){var c,f;c=n.x0a;f=n.PNa;return f < n.KWa?Infinity:f > n.v2a?1E3 / c:1E3 * (n.$9b + 1) / c;};a=.001;d=9;},15908:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ija=void 0;b.MRa=function(g,e,h){void 0 === h && (h=n.platform.time.ha());g=1E3 / (0,f[g])(e);return h + g;};n=a(66164);t=a(99614);(function(g){g[g.GCa=0]="LOGARITHMIC";g[g.LINEAR=1]="LINEAR";})(c || (b.ija=c={}));f=(d={},d[c.GCa]=t.jac,d[c.LINEAR]=t.iac,d);},58418:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qyb=void 0;b.qyb=function(a){var d,n,c,f,g;d=a.nNc;n=a.B$b;c=a.TAc;f=a.l8c;g=c / a.Ygc;return Math.min(n * a.LCc,n - (a.Ba?d * c * 1E3 / 8:n * g)) - (void 0 === f?150:f) / 1E3 * (n / d);};},95407:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.sC=void 0;d=a(22970);n=a(91176);t=(function(c){function f(g,e){g=c.call(this,g) || this;g.qA=e;g.name="PlaybackError";return g;}d.__extends(f,c);f.utc=function(g){var e,h,k;if(f.zUa(g))return null !== (h=null === (e=g.qA.context) || void 0 === e?void 0:e.type) && void 0 !== h?h:null === (k=g.qA.context) || void 0 === k?void 0:k.type;};f.D$=function(g){var e,h,k,l,m;if(f.zUa(g))return (g=null !== (h=null === (e=g.qA.context) || void 0 === e?void 0:e.error) && void 0 !== h?h:null === (k=g.qA.context) || void 0 === k?void 0:k.error,null !== (m=null !== (l=null === g || void 0 === g?void 0:g.edgeCode) && void 0 !== l?l:null === g || void 0 === g?void 0:g.code) && void 0 !== m?m:null === g || void 0 === g?void 0:g.code);};f.zUa=function(g){return g && g.message && g.stack && g.qA?"PlaybackError" === (null === g || void 0 === g?void 0:g.name):!1;};f.prototype.SK=function(){return {name:this.name,message:this.message,stack:this.stack,errorInformation:{category:this.qA.vd,subCategory:this.qA.oxa,errorCode:this.qA.errorCode,context:n.DV.SK(this.qA.context)}};};return f;})(Error);b.sC=t;},34434:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y;Object.defineProperties(b,{__esModule:{value:!0}});b.rza=void 0;d=a(22970);n=a(90745);c=a(91176);f=a(91176);a(97685);a(26388);g=a(69575);e=a(52571);h=a(65161);k=a(40666);t=a(75393);l=a(26012);m=a(97757);p=d.__importDefault(a(40497));d.__importDefault(a(40497));q=a(62234);r=a(74371);u=a(74504);v=a(82867);w=a(90111);x=a(85030);y=t.Hy.fOa;a=(function(A){function z(B,C,D){var E;E=A.call(this) || this;E.player=B;E.mkb=C;E.Q6=D;E.u9=[];E.kcc=void 0;E.df=void 0;E.O9=new n.kf();E.nba=void 0;E.xM=void 0;E.wMc=null;E.O9.on(E.player,"underflow",E.ol.bind(E));E.u6=new w.Peb(B);E.O9.on(E.player,"skipped",E.YXa.bind(E));E.O9.on(E.player,"playbackEnding",E.RXa.bind(E));E.O9.on(E.player,"paused",E.VFc.bind(E));E.EJ=new k.tJ(E.u6,E.sb,"player");E.n4a=new g.Vg();B.Ut && B.cd && (E.KB=new x.Bgb(E,B,E.sb));E.tT=new q.tfb({Wda:function(H){return "function" === typeof B.Wda?B.Wda(H):{dg:"APPROVED"};},Xqc:function(){var H,F;return null !== (F=null === (H=E.df) || void 0 === H?void 0:H.la.id) && void 0 !== F?F:-1;},mc:E.gd},E.Q6);E.Q6.hPa && E.gd.cna(function(){return E.cGc();},c.I.Ca(500));E.bT=(0,r.Zqb)({SAc:Math.min(D.Dua,D.nl - 2500),Vgc:D.Cua,lD:function(){return E.Md;},Vrc:function(){var H,F,G,J,L,P,Q;L=(null === (J=E.df) || void 0 === J?void 0:J.dn()) || [];J=[];try{for(var K=d.__values(L),M=K.next();!M.done;M=K.next()){P=M.value;try{for(var I=(F=void 0,d.__values([h.u.X,h.u.U,h.u.Da])),O=I.next();!O.done;O=I.next()){Q=P.me(O.value);Q && J.push(Q);}}catch(U){F={error:U};}finally{try{O && !O.done && (G=I.return) && G.call(I);}finally{if(F)throw F.error;}}}}catch(U){var T;T={error:U};}finally{try{M && !M.done && (H=K.return) && H.call(K);}finally{if(T)throw T.error;}}return J;},mc:E.gd,console:E.sb,jDc:500});E.I0=E.I0.bind(E);E.Tta=E.Tta.bind(E);E.bT.addListener("healthChange",E.Tta);E.player.addListener("playing",E.I0);return E;}d.__extends(z,A);Object.defineProperties(z.prototype,{Jk:{get:function(){return this.player.Jk;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Hh:{get:function(){return this.mkb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{sourceBuffers:{get:function(){var B;return (null === (B=this.df) || void 0 === B?void 0:B.Gj) || [];},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Up:{get:function(){var B;return null === (B=this.df) || void 0 === B?void 0:B.Up;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Bw:{get:function(){var B;return (null === (B=this.df) || void 0 === B?void 0:B.Bw) || new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ya:{get:function(){var B;return (null === (B=this.df) || void 0 === B?void 0:B.dn()) || [];},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{la:{get:function(){var B;return null === (B=this.df) || void 0 === B?void 0:B.la;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Na:{get:function(){return this.u6;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Umb:{get:function(){var B,C;return !!((null === (B=this.df) || void 0 === B?0:B.kU) && (null === (C=this.Ak) || void 0 === C?0:C.mk));},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{kU:{get:function(){var B,C;return null !== (C=null === (B=this.df) || void 0 === B?void 0:B.kU) && void 0 !== C?C:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{I_:{get:function(){return this.QW;},enumerable:!1,configurable:!0}});z.prototype.RXa=function(B){var C;if(this.Wd){B=this.un(B.od || this.player.Ed,!0);(0,e.assert)(B,"Playback ending at position outside playgraph");C=this.FA(B);(0,e.assert)(C,"Playback ending at clamped position outside playgraph");this.events.emit("playbackEnding",{type:"playbackEnding",playerTimestamp:C,position:B});}else this.console.warn(("Unexpected playback ending event at ").concat(B.od));};z.prototype.YMb=function(B){-1 === this.u9.indexOf(B) && this.u9.push(B);this.df && this.df.D0(B);this.events.emit("drmReady",{viewableId:B});};z.prototype.XMb=function(B){B=this.u9.indexOf(B);-1 !== B && this.u9.splice(B,1);};z.prototype.Raa=function(B){var C;return -1 !== this.u9.indexOf(B) || !(null === (C=(0,f.cc)(this.Ya,function(D){return D.Wl && D.M.J === B;})) || void 0 === C || !C.M.WC);};z.prototype.gN=function(B){var C;null === (C=this.df) || void 0 === C?void 0:C.gN(B);};z.prototype.Vfa=function(B){var C;null === (C=this.df) || void 0 === C?void 0:C.Vfa(B);this.mkb=B;};z.prototype.reset=function(){var B,C;this.n4a=new g.Vg();A.prototype.reset.call(this);this.xM=void 0;null === (B=this.df) || void 0 === B?void 0:B.reset();null === (C=this.KB) || void 0 === C?void 0:C.reset();};z.prototype.P_a=function(B){this.L1([B]);};z.prototype.L1=function(B){var C,D;C=this;B.forEach(function(E){var H;A.prototype.P_a.call(C,E);null === (H=C.KB) || void 0 === H?void 0:H.INc(E);});null === (D=this.df) || void 0 === D?void 0:D.L1(B);};z.prototype.pK=function(){var B;null === (B=this.df) || void 0 === B?void 0:B.pK();};z.prototype.pause=function(B){this.rU(B);A.prototype.pause.call(this,B || this.Hh);};z.prototype.resume=function(B){var C;null === (C=this.df) || void 0 === C?void 0:C.resume(B);A.prototype.resume.call(this,B || this.Hh);};z.prototype.La=function(){var B;this.bT.removeListener("healthChange",this.Tta);this.player.removeListener("playing",this.I0);this.nba=this.jqa()?this.ju():void 0;this.df && this.tOa(this.df.la);this.u6.La();this.EJ.La();this.O9.clear();null === (B=this.KB) || void 0 === B?void 0:B.La();A.prototype.La.call(this);this.bT.stop();clearInterval(this.wMc);};z.prototype.lD=function(){var B,C;if(null === (B=this.df) || void 0 === B?0:B.aKc){B=this.player.Ed;if(this.Na.mj){if(this.xM){if(this.xM.greaterThan(B))return (B=this.xM.ea(B),this.n4a.push(B.G),this.xM);if(this.Ya.length){C=this.df.$yc;if(C && C.lessThan(B))return (this.events.emit("logdata",{type:"logdata",target:"endplay",Nc:{clockdrift:{type:"count"}}}),this.xM);}}this.xM=B;}return B;}return A.prototype.lD.call(this);};z.prototype.VZ=function(){var B;B=this.player.playbackRate;void 0 === B && (B=A.prototype.VZ.call(this));return B;};z.prototype.jqa=function(){return !!this.nba || A.prototype.jqa.call(this);};z.prototype.ju=function(){return this.nba?this.nba:A.prototype.ju.call(this);};z.prototype.YK=function(){var B,C,D,E;E=null === (B=this.df) || void 0 === B?void 0:B.pCb;if(null === (C=this.df) || void 0 === C || !C.la || E && (null === (D=this.la) || void 0 === D?0:D.Z.ba[E.K.id]))return E;};z.prototype.tOa=function(B){var C,D;(0,e.assert)(B === this.la);null === (C=this.df) || void 0 === C?void 0:C.La();this.df=void 0;null === (D=this.la) || void 0 === D?void 0:D.events.removeListener("seeking",this.bT.Vta);this.tT.reset();};z.prototype.Tla=function(B,C){var D,E,H,F;this.nba=void 0;H=A.prototype.Tla.call(this,B,C);if(H){F=new u.U5a(B,this,this.sb,B.config,this.Q6,this.events,this.Hh,this.EJ,this.KB,this.nP,this.iP,this.vjb,null === C || void 0 === C?void 0:C.Up,null === C || void 0 === C?void 0:C.Bw);null === C || void 0 === C?void 0:C.P0();this.df=F;this.rU(this.a1);this.KB && (C=B.Ze.xsc(l.JGa),C || (C=new l.JGa(),B.Sc(C)),this.KB.sMc(C));null === (E=null === (D=this.la) || void 0 === D?void 0:D.events) || void 0 === E?void 0:E.addListener("seeking",this.bT.Vta);}return H;};z.prototype.P0=function(){var B,C;null === (B=this.df) || void 0 === B?void 0:B.P0();null === (C=this.kcc) || void 0 === C?void 0:C.La();};z.prototype.iZ=function(){var D;for(var B=[],C=0;C < arguments.length;C++)B[C]=arguments[C];D=this.df;(0,e.assert)(D);B.forEach(function(E){return D.tlc(E);});A.prototype.iZ.apply(this,d.__spreadArray([],d.__read(B),!1));};z.prototype.Oea=function(){var B;null === (B=this.df) || void 0 === B?void 0:B.Oea();};z.prototype.BSc=function(B,C,D){var E;null === (E=this.la) || void 0 === E?void 0:E.a3a(B.to,B.from,C,D,!0);};z.prototype.cl=function(B){var C,D,E,H;if(!this.df)return !1;E=this.q$(B);if(!E)return !1;H=c.I.ia;E === this.Ak && !E.K.H2 && (1 < E.K.DE || null !== (D=null === (C=E.K.Ul) || void 0 === C?void 0:C.length) && void 0 !== D && D) && (H=c.I.Ca(this.Q6.sca));return E.Pb.ea(H).lessThan(B) || !E.hY(B)?!1:this.df.cl(B);};z.prototype.Iea=function(B){this.tT.Iea(B);};z.prototype.XQa=function(){var B,C;return null !== (C=null === (B=this.la) || void 0 === B?void 0:B.kxb()) && void 0 !== C?C:Infinity;};z.prototype.ol=function(){var B,C,D;if(null === (B=this.la) || void 0 === B?0:B.oo)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {D=this.Md;(0,e.assert)(this.la);B=this.un(D,!0);(0,e.assert)(B);null === (C=this.df) || void 0 === C?void 0:C.ol(B);C=this.q$(D);null === C || void 0 === C?void 0:C.M.ol();this.la.ol(B);this.tT.B_a();}};z.prototype.YXa=function(B){this.xM=void 0;this.Gob(B);};z.prototype.VFc=function(B){this.tT.Bwa(!1);this.Gob(B);};z.prototype.Gob=function(B){var C,D;C=this;if(this.Ya.length && null !== B && void 0 !== B && B.od){B=B.iJb || B.od;D=this.QW={xo:B,position:this.un(B,!0)};this.gd.Yt(k.ce.jz(c.I.Ca(1E3)),function(){C.QW === D && (C.QW=void 0);},"cleanupLastPositionPriorToSkip");}};z.prototype.LQa=function(){var B;return null === (B=this.df) || void 0 === B?void 0:B.LQa();};z.prototype.ada=function(B){this.df?this.df.ada(B):A.prototype.ada.call(this,B);};z.prototype.rU=function(B){var C;null === (C=this.df) || void 0 === C?void 0:C.rU(B);};z.prototype.c3a=function(B){(0,e.assert)(this.la && this.df);return A.prototype.c3a.call(this,B);};z.prototype.I_a=function(){var B,C;null === (C=(B=this.player).I_a) || void 0 === C?void 0:C.call(B);};z.prototype.I0=function(){this.Q6.HQ && !this.bT.no && this.bT.start();this.tT.Ewa(this.XQa());this.tT.Bwa(!0);};z.prototype.cGc=function(){var B,C;B=this.la;(0,e.assert)(B,"expected playgraph while time updating");C=this.XQa();B.lxb();this.tT.Ewa(C);};z.prototype.Tta=function(B){var C;C=B.Cic;B.Xuc === r.seb.p5 && C && this.LFc(B);};z.prototype.LFc=function(B){d.__awaiter(this,arguments,void 0,function(C){var D,E,H,F,G,J;G=C.CLc;J=C.Xe;return d.__generator(this,function(L){switch(L.label){case 0:return [4,p.default.instance().HNc()];case 1:D=L.T();if(!D)return [2];E=D.CFb;H=D.qLb;F=Math.max(0,G - 500);J.v5b(F,E,H);return [2];}});});};d.__decorate([y.return.LLa(),y.return.fr],z.prototype,"ju",null);d.__decorate([y.return.LLa(),y.return.WD],z.prototype,"YK",null);return z=d.__decorate([m.GZ],z);})(v.KFa);b.rza=a;},74504:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y;Object.defineProperties(b,{__esModule:{value:!0}});b.U5a=void 0;d=a(22970);n=a(90745);c=a(91176);f=a(91176);g=a(66164);e=a(79048);h=a(74418);k=a(62614);l=a(89645);m=a(65161);p=a(78647);q=a(69575);r=a(40666);u=a(52571);v=a(67181);w=a(95324);x=a(16290);y=a(89527);t=(function(){function A(z,B,C,D,E,H,F,G,J,L,K,M,P,I){var O;O=this;this.la=z;this.player=B;this.console=C;this.config=D;this.zw=E;this.events=H;this.Hh=F;this.gd=G;this.KB=J;this.yp=L;this.WR=K;this.qk=M;this.S6=I;this.o1=[];this.lma=!1;this.pvb=new q.Rgb();this.kJa=this.AXa.bind(this);this.nJa=this.gGc.bind(this);this.mJa=this.IFc.bind(this);this.oJa=this.iGc.bind(this);this.kG=new l.SI(this.console);this.k7=P || new x.vHa(this.console,z);this.iJa=F.some(function(Q){return !(null === I || void 0 === I || !I.get(Q));});this.lgc();this.Gj && (this.$Jc=this.dpa(this.isc()),this.xjb());this.bm=G.fs(function(){return O.Q9b();},"branchPruner");this.Lj=new n.kf();this.Lj.on(this.events,"segmentPresenting",function(){return d.__awaiter(O,void 0,void 0,function(){var Q;return d.__generator(this,function(T){switch(T.label){case 0:return (this.A3b=this.player.ju(),null !== (Q=this.config.gnb) && void 0 !== Q && Q.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(T.T(),this.events.emit("requestGarbageCollection",{time:g.platform.time.ha(),type:"requestGarbageCollection"}),T.label=2);case 2:return [2];}});});});}Object.defineProperties(A.prototype,{Up:{get:function(){return this.k7;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Bw:{get:function(){var z;z=new Map();this.Gj.forEach(function(B){z.set(B.mediaType,B.eE);});return z;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{pCb:{get:function(){return this.A3b;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{kU:{get:function(){return this.Gj.every(function(z){return z.kU;});},enumerable:!1,configurable:!0}});A.prototype.Q9b=function(){var z,B,C,D,E,H;return d.__generator(this,function(F){switch(F.label){case 0:if(!this.kG.Ypb && !this.o1.length)return [3,2];z=d.__read(this.dn(),1);B=z[0];C=B.K.type === e.pd.content && (null === (H=this.zw.QB) || void 0 === H?void 0:H.G) || 0;D=B.Gra || B.Pb;E=D.add(c.I.Ca(C + 1E3));return [4,r.ce.mm(E)];case 1:return (F.T(),this.UKc(B),[3,0]);case 2:return [2];}});};Object.defineProperties(A.prototype,{aKc:{get:function(){var z;return !(null === (z=this.$Jc) || void 0 === z || !z.yp.value);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{$yc:{get:function(){return this.lma?c.I.max.apply(c.I,d.__spreadArray([],d.__read(this.Gj.map(function(z){var B;return null === (B=z.E8b) || void 0 === B?void 0:B.oCb;}).filter(f.SFb)),!1)):void 0;},enumerable:!1,configurable:!0}});A.prototype.gN=function(z){this.Gj.forEach(function(B){B.gN(z);});};A.prototype.AXa=function(){var z;this.bm.cd();z=this.Gj.filter(function(B){return B.DAb;}).map(function(B){return B.mediaType;});this.rU(z);this.resume(z);};A.prototype.gGc=function(z){this.sob(z.pa);};A.prototype.IFc=function(z){this.sob(z.pa);};A.prototype.iGc=function(){this.player.I_a();};A.prototype.sob=function(z){var B,C,D;B=this.dn();C=B.indexOf(z);if(-1 !== C && !B.slice(0,C).some(function(E){return !E.mk;})){D=z.qk;D && D.greaterThan(this.qk.value) && (z.mk && C < B.length - 1 && (D=c.I.max(D,B[C + 1].qk || c.I.OWa)),this.qk.set(D));}};A.prototype.tlc=function(z){(0,u.assert)(-1 === this.dn().indexOf(z),("Branch ").concat(z.K.id," is already in the collection, cannot re-queue"));z.events.on("branchEdited",this.kJa);z.events.on("requestComplete",this.nJa);z.events.on("liveMissingSegment",this.mJa);z.events.on("requestSeekToLiveEdge",this.oJa);z.qk && this.dn().every(function(B){return B.mk;}) && this.qk.set(z.qk);z.uX?((0,u.assert)(0 === this.kG.W2a().length,"Cannot append a completed branch after initial branches, "),this.o1.push(z)):(this.kG.enqueue(z),!z.K.H2 || z.M.Eb && !isFinite(z.K.cb) || this.kG.KQ(),this.lma || this.qnc(z));this.bm.state === r.zm.complete && this.bm.cd();};A.prototype.D0=function(z){this.Gj.forEach(function(B){B.D0(z);});};A.prototype.Vfa=function(z){var B,C,D,E;B=this;C=!1;D=this.Gj.map(function(H){return H.mediaType;});this.la.Vx().some(function(H){return H.Eb;}) || (D=D.filter(function(H){return H !== m.u.Da;}));E=(0,f.Zo)(D,z);E.forEach(function(H){var F;F=B.ei.sourceBuffers;F=(0,f.cc)(F,function(G){return G.mediaType === H;});(0,u.assert)(F);B.ei.removeSourceBuffer(F);F=B.dpa(H);(0,u.assert)(F);F.reset();F.La();(0,f.gLa)(B.Gj,F);(0,f.gLa)(E,H);C=!0;});z=(0,f.Zo)(z,D);if(!this.B7(this.ei,z))throw (this.uP({Ti:"error creating source buffers",iD:"NFErr_MC_StreamingInitFailure"}),this.ei.error);z.forEach(function(H){var F;F=B.ei.sourceBuffers;F=(0,f.cc)(F,function(G){return G.mediaType === H;});(0,u.assert)(F);F=B.brb(B.ei,F);B.Gj.push(F);C=!0;});C && this.xjb();};A.prototype.reset=function(){this.Gj.forEach(function(z){z.reset();});this.iJa=this.lma=!1;this.pvb.removeAllListeners();this.pK();};A.prototype.P_a=function(z){this.L1([z]);};A.prototype.L1=function(z){var B;B=this;z.forEach(function(C){C=B.dpa(C);null === C || void 0 === C?void 0:C.reset(!1,z);});};A.prototype.pK=function(){var z;z=this;this.dn().forEach(function(B){B.events.$l("branchEdited",z.kJa);B.events.$l("requestComplete",z.nJa);B.events.$l("liveMissingSegment",z.mJa);B.events.$l("requestSeekToLiveEdge",z.oJa);});this.o1=[];this.kG.clear();this.bm.cd();};A.prototype.resume=function(z){this.Gj.forEach(function(B){void 0 !== z && -1 === z.indexOf(B.mediaType) || B.resume();});};A.prototype.ada=function(z){var B;B=this.Gj.filter(function(C){return C.DAb;});B.forEach(function(C){return C.stop();});z();B.forEach(function(C){return C.resume();});};A.prototype.rU=function(z){this.Gj.forEach(function(B){return (void 0 === z || -1 !== z.indexOf(B.mediaType)) && B.stop();});};A.prototype.Oea=function(){this.Gj.forEach(function(z){return z.Oea();});};A.prototype.ol=function(z){var B,C,D;this.console.trace("attached-player: onUnderflow");B=this.pCb;if(B.Wl && B.M.Eb){C=B.BA();if(!this.config.FQ && C && 0 < C.length && C.every(function(E){return E instanceof w.dia;}) && (C=C.map(function(E){return E.zpc();}).filter(c.$c),C.length)){C=c.I.max.apply(c.I,d.__spreadArray([],d.__read(C),!1));D=(0,k.hrc)(B.M.S);C=C.add(c.I.Ca(D));z=this.la.ws(z);(0,u.assert)(z.Ga.G <= C.G);B=this.la.cs({J:B.M.J,Ga:C});(0,u.assert)(B);B={type:"fragmentsMissing",nextAvailableGraphPosition:B,nextAvailableContentTimestamp:C};this.events.emit(B.type,B);}}};A.prototype.Msc=function(){return this.kG.getIterator();};A.prototype.dn=function(){return d.__spreadArray(d.__spreadArray([],d.__read(this.o1),!1),d.__read(this.kG.W2a()),!1);};A.prototype.B7=function(z,B){var C,D;C=!0;D=z.sourceBuffers;B.forEach(function(E){(0,f.cc)(D,function(H){return H.mediaType === E;}) || z.addSourceBuffer(E) || (C=!1);});C || this.console.warn("Error adding sourceBuffer:",z.error);return C;};A.prototype.lgc=function(){var z,B;z=this;this.UW("createMediaSourceStart");if(this.zw.IRa)B=this.zw.IRa();else (B=new g.platform.MediaSource(this.player.player),B.vg || (B.vg=g.platform.MediaSource.vg));if(1 !== B.readyState)this.uP({Ti:"exception in init",iD:"NFErr_MC_StreamingInitFailure"});else {this.UW("createMediaSourceEnd");this.ei=B;if(!this.B7(B,this.Hh))throw (this.uP({Ti:"error creating source buffers",iD:"NFErr_MC_StreamingInitFailure"}),B.error);this.Kob={};this.la.Sc(new v.b7a(this.la,this.Kob,this.config));this.Gj=B.sourceBuffers.filter(function(C){return 0 <= z.Hh.indexOf(C.mediaType);}).map(function(C){return z.brb(B,C);});}};A.prototype.brb=function(z,B){var C,D,E,H;C=this;z=new p.C6a(B.mediaType,z,B,this.config,this.player,this.gd);z.addListener("error",function(F){return C.uP({Ti:F.errorstr});});z.addListener("logdata",function(F){return C.events.emit("logdata",F);});z.addListener("managerdebugevent",function(F){C.events.emit("managerdebugevent",F);});H=null === (D=this.S6) || void 0 === D?void 0:D.get(B.mediaType);D=new h.E5a(z,B.mediaType,this,this.config,this.console,this.player,this.zw,this.gd,this.Up,this.KB,H);if(B.mediaType === m.u.U)D.on("drmNeeded",function(F){return C.events.emit("drmNeeded",F);});H || (null === (E=D.eE) || void 0 === E?void 0:E.F6b(new y.vV(this.Kob[B.mediaType]={},this.console,this.player,z,this.player.events,this.zw,this.gd)));return D;};A.prototype.UKc=function(z){var B;(0,u.assert)(z.uX,"Attempted to prune branch that has not been fully appended");this.o1=this.o1.filter(function(C){return C !== z;});this.kG.remove(z);z.events.removeListener("branchEdited",this.kJa);z.events.removeListener("requestComplete",this.nJa);z.events.removeListener("liveMissingSegment",this.mJa);z.events.removeListener("requestSeekToLiveEdge",this.oJa);z.Jg("pruned");(null === (B=this.config.gnb) || void 0 === B?0:B.branchPruned) && this.events.emit("requestGarbageCollection",{time:g.platform.time.ha(),type:"requestGarbageCollection"});};A.prototype.La=function(){this.wWa.clear();this.OLa.clear();this.Gj.forEach(function(z){return z.La();});this.zw.IRa || this.ei.au();this.pK();this.bm.La();this.Lj.clear();};A.prototype.cl=function(z){return this.Gj.every(function(B){return B.cl(z);});};A.prototype.P0=function(){this.Gj.forEach(function(z){return z.Uqb();});this.k7=new x.vHa(this.console,this.la);};A.prototype.LQa=function(){return {iLc:this.dn(),DIc:this.Gj};};A.prototype.qnc=function(z){var B;B=this;this.lma=!0;z.ka.forEach(function(C){var D;D=B.dpa(C.mediaType);if(void 0 !== D)B.pvb.once(C.dQa,function(E){return D.tnc(E);});});if(z.qa)this.stb();else z.events.once("branchNormalized",function(){return B.stb();});};A.prototype.stb=function(){var z;z=this.kG.W2a()[0];z && ((0,u.assert)(z.Tb),this.events.emit("ptsChanged",{initialTimestamp:z.Tb,inNonSeamlessTransition:this.iJa}),this.iJa=!1);};A.prototype.dpa=function(z){return (0,f.cc)(this.Gj,function(B){return B.mediaType === z;});};A.prototype.isc=function(){return -1 !== this.Hh.indexOf(m.u.U)?m.u.U:m.u.X;};A.prototype.UW=function(z){z={type:"startEvent",event:z,time:g.platform.time.ha()};this.events.emit(z.type,z);};A.prototype.uP=function(z){this.la.Yf(z);};A.prototype.xjb=function(){var z;z=this;this.wWa && this.wWa.clear();this.wWa=c.At.ESb(this.Gj.map(function(B){return B.yp;}),function(B){return B.every(function(C){return C;});},function(B){return z.yp.set(B);});this.OLa && this.OLa.clear();this.OLa=new c.xEa(this.Gj.map(function(B){return B.WR;}),function(B){return c.I.min.apply(c.I,d.__spreadArray([],d.__read(B),!1));},function(B){z.WR.set(B);},c.I.Ca(-Infinity));};return A;})();b.U5a=t;},89527:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.vV=void 0;d=a(22970);n=a(90745);c=a(52571);f=a(48170);g=0;t=(function(e){function h(k,l,m,p,q,r,u,v){l=e.call(this,("cdnList").concat(g++),l,m,p,q,r,u,"cdnList",v) || this;l.Vh=k;l.Ob();return l;}d.__extends(h,e);h.prototype.Ob=function(){var k;k=this;this.jda=new n.kf();this.jda.on(this.Gb.player,"skipped",function(l){k.fE && ((null === l || void 0 === l?0:l.iJb) && k.B8(l.iJb),k.fE=void 0);});this.jda.on(this.Gb.player,"paused",function(){k.fE && k.Gb.Wd && k.B8(k.Gb.Md);});this.jda.on(this.Gb.player,"underflow",function(){k.fE && k.Gb.Wd && k.B8(k.Gb.Md);});};h.prototype.aA=function(k,l,m){this.jda.clear();e.prototype.aA.call(this,k,l,m);this.Ob();};h.prototype.close=function(){f.l && this.console.trace("close");e.prototype.close.call(this);this.jda.clear();};h.prototype.aSc=function(k,l){var m;m=this;this.fE && this.B8(k);return this.Zub(l).map(function(p){return m.Vh[p];});};h.prototype.wKb=function(k){var l;l=this;this.Zub(k).forEach(function(m){delete l.Vh[m];});};h.prototype.Zub=function(k){var l;l=this;return Object.keys(this.Vh).filter(function(m){return l.Vh[m].R === ("").concat(k);});};h.prototype.yp=function(k){var l,m,p;l=k.stream;m=k.dd;p=k.Tb;k=k.Pb;(0,c.assert)(void 0 !== p);(0,c.assert)(void 0 !== k);f.l && this.console.trace(("Media appended ").concat(p.ca(),"-").concat(k.ca()));this.EKa({stream:l,dd:m},p,k);};h.prototype.ora=function(k,l){return k.stream === l.stream && k.dd === l.dd;};h.prototype.sqc=function(k){var l,m;m=k.pt;k=m.dd;m=null === (l=m.stream.M.S.gA) || void 0 === l?void 0:l.Lf;return ("").concat(k,"::").concat(m);};h.prototype.$Oa=function(k,l){f.l && this.console.trace(("Presenting event for ( ").concat(k.pt.stream.id,", ").concat(k.pt.dd," )") + (" at ").concat(l.ca()));this.fE?this.B8(l):this.C8=l;this.fE=k;};h.prototype.B8=function(k){var l,m,p,q,r,u,v,w,x;(0,c.assert)(this.fE);if(null === (l=this.UNa) || void 0 === l?0:l.lessThan(k))k=this.UNa;r=this.fE;l=this.Vh;u=r.pt;v=u.stream;u=u.dd;w=null === (m=v.oS) || void 0 === m?void 0:m.$g;m=k.ea(this.C8 || r.timestamp).G;if(void 0 !== u && void 0 !== w){x=null === (p=v.M.S.gA) || void 0 === p?void 0:p.Lf;p=v.track.R;r=this.sqc(r);l=(q=(l[r] || (l[r]={Uh:u,Lf:x,R:p,ao:{}})).ao)[w] || (q[w]={bitrate:v.bitrate,ob:w,mediaType:v.mediaType,totalTime:0,Qb:v.Qb});l.totalTime=Math.max(l.totalTime + m,0);}this.C8=k;};h.prototype.clone=function(k,l){l=void 0 === l?{}:l;k=new (l.Vdd || h)(k,this.FGc,this.Gb,this.Gla,this.events,this.zw,this.mc,l.priority);this.mcc(k);k.fE=this.fE;k.C8=this.C8;f.l && k.console.trace("Cloning",{u5c:k.Vj.length});return k;};h.prototype.reset=function(){e.prototype.reset.call(this);this.C8=void 0;};h.prototype.DL=function(k){return ("(").concat(k.stream.Ra,", ").concat(k.dd,")");};return h;})(a(546).Ria);b.vV=t;},63002:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.b9a=void 0;d=a(22970);n=a(48170);c=a(40666);t=(function(){function f(g,e,h){this.mc=g;this.KCc=e;this.sb=h;}Object.defineProperties(f.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});f.prototype.waitUntil=function(g){var e;g=(0,c.j3)(this.mc,g,!0);e=g.promise;this.k4a=g.Ge;return e;};f.prototype.process=function(g){return d.__awaiter(this,void 0,void 0,function(){var e,h;return d.__generator(this,function(k){switch(k.label){case 0:if(g.done)return [3,2];e=g.value.value;if(!e.fQa)return [3,2];h=e.Tb.ea(this.KCc);n.l && this.sb.trace(("[").concat(e.mediaType,"] JIT: waiting until playertime >= ").concat(h.G),("to append next request ").concat(e.toString()));return [4,this.waitUntil(h)];case 1:(k.T(),n.l && this.sb.trace(("[").concat(e.mediaType,"] JIT: now appending request ").concat(e.toString())),k.label=2);case 2:return [2,g];}});});};f.prototype.reset=function(){var g;null === (g=this.k4a) || void 0 === g?void 0:g.La();};return f;})();b.b9a=t;},54540:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.cbb=void 0;d=a(22970);n=a(91562);c=a(91176);f=a(8149);t=(function(){function g(e){this.console=e;}Object.defineProperties(g.prototype,{name:{get:function(){return "LiveRequestLogger";},enumerable:!1,configurable:!0}});g.prototype.process=function(e){return d.__awaiter(this,void 0,void 0,function(){var h,k,l,m,p,q,r,u,v,w,x,y,A,z;return d.__generator(this,function(){e.done || (h=e.value.value,(0,f.zk)(h.stream) && (k=h.Y$(0),k instanceof ArrayBuffer && (l=new n.vm(this.console,h.stream,k,["moof"],!0,{CYa:!0}),m=l.parse(),m.oB && (p=l.$m("moof"),q=p.$m("traf"),r=q.$m("trun"),u=q.$m("tfdt"),v=h.stream.Gk,w=r.Od,x=u.iG,y=m.Oa.O,A=new c.I(x,y),z=this.Qs?A.ea(this.Qs.v9b):void 0,this.console.trace(("Live Request Logger: processing request [").concat(h.mediaType,"]"),{baseMediaDecodeTime:x,timescale:y,baseMediaDecodeMs:A.G,ptsOffsetMs:v.G,mediaTimestampMs:A.ea(v).G,offsetFromPriorMs:null === z || void 0 === z?void 0:z.G,sampleCount:w,url:h.url}),this.Qs={v9b:A}))));return [2,e];});});};g.prototype.reset=function(){this.Qs=void 0;};return g;})();b.cbb=t;},85030:function(t,b,a){var d,n,c,f,g,e,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Bgb=void 0;d=a(22970);n=a(91176);c=a(90745);f=a(66164);g=a(48170);e=a(65161);h=a(69575);k=a(52571);t=(function(){function l(m,p,q){var r;r=this;this.Gb=m;this.player=p;this.pending=new Map();this.listeners=new c.kf();this.hXa=!1;this.muc=function(u){r.sLb(!0,function(){g.l && r.console.debug("cancelling playback ending");u.cancel();});};this.listeners.addListener(p,"playbackEnding",this.muc);this.console=(0,h.Gf)(f.platform,q,"SEAMLESSMANAGER");g.l && this.console.debug("construct");}l.prototype.La=function(){g.l && this.console.debug("destruct");this.pending.clear();this.listeners.clear();};l.prototype.sMc=function(m){this.bMb=m;};l.prototype.BSb=function(m){var p,q;0 === this.pending.size && ((0,k.assert)(void 0 === this.Ym,"SeamlessManager: No pending transitions, but a wait is deferred"),this.Ym=new n.Ko());(0,k.assert)(this.Ym,"SeamlessManager: deferred is undefined");if(this.pending.has(m.mediaType)){q=this.pending.get(m.mediaType);if(q.mediaType === m.mediaType && q.Y9 === m.Y9 && q.from.L === m.from.L && q.to.L === m.to.L && q.timestamp.equal(m.timestamp) && q.oda.equal(m.oda) && q.to.stream === m.to.stream && q.from.stream === m.from.stream)return (g.l && this.console.trace(("duplicate waitTillAllowed request for media [").concat(m.mediaType,"]")),this.Ym.promise);}(0,k.assert)(!this.pending.has(m.mediaType),"SeamlessManager: There is already a pending transition for mediaType " + m.mediaType);this.pending.set(m.mediaType,m);g.l && this.console.trace(("got new transition [").concat(m.mediaType,"] --\x3e ").concat(null === (p=m.to.stream) || void 0 === p?void 0:p.id));p=this.Gb.Hh;g.l && this.console.debug("checking pending",{size:this.pending.size,R7c:p});if(this.pending.size === p.length && !this.hXa){p=this.Qxc();if(p.nZa)return (g.l && this.console.trace(("seamless transition possible at ").concat(m.timestamp.ca())),this.Ym.resolve(),this.reset(),Promise.resolve());g.l && this.console.trace(("starting non-seamless transition at ").concat(m.timestamp.ca()));this.zSc(p.info);}return this.Ym.promise;};l.prototype.INc=function(m){g.l && this.console.trace(("reset media [").concat(m,"]"));this.pending.delete(m);0 === this.pending.size && this.reset();};l.prototype.reset=function(){g.l && this.console.debug("resetting");this.hXa=!1;this.Ym=void 0;this.pending.clear();};l.prototype.Qxc=function(){var m,p,q,r,w,x,y,A,z,B,C,D,E,H,F;r={nZa:!0};try{for(var u=d.__values(this.pending.entries()),v=u.next();!v.done;v=u.next()){w=d.__read(v.value,2);x=w[0];y=w[1];if(y.from){A=y.from.stream;z=y.to.stream;if((null === A || void 0 === A?void 0:A.track) === (null === z || void 0 === z?void 0:z.track))g.l && this.console.debug("Seamless deemed possible due to same track",{mediaType:x});else {B=null === A || void 0 === A?void 0:A.ss();C=null === z || void 0 === z?void 0:z.ss();D=void 0;E=this.Gb.un(y.timestamp);D=y.from.L && 0 > this.Gb.WR.value.G?{L:y.from.L,offset:n.I.Ca(0)}:this.Gb.un(y.oda);H=void 0;H=x !== e.u.Da?this.player.Ut({mediaType:x,Y9:y.Y9,from:B,to:C,l$:D,Efa:E}):{Ut:!0,reason:"Text"};if(H.Ut)g.l && this.console.debug("Seamless deemed possible",{mediaType:x,from:B,to:C,l$:D,Efa:E});else {g.l && this.console.debug("Non-seamless transition; details:",{reason:H.reason,mediaType:x,from:B,to:C});F=r.nZa?[]:r.info.cKb;H.reason && (y.reason="string" !== typeof H.reason?H.reason:void 0,F.push(H.reason));r={nZa:!1,info:{tic:null !== (p=y.to.L) && void 0 !== p?p:"unk",hSc:null !== (q=y.from.L) && void 0 !== q?q:"unk",fZa:y.timestamp,cKb:F}};}}}}}catch(J){var G;G={error:J};}finally{try{v && !v.done && (m=u.return) && m.call(u);}finally{if(G)throw G.error;}}return r;};l.prototype.zSc=function(m){var p;null === (p=this.bMb) || void 0 === p?void 0:p.v6b(m);this.hXa=!0;this.Gb.yp.value?(g.l && this.console.trace("Signaling EOS for upcoming restart"),this.Gb.Oea()):(m=this.Gb,g.l && this.console.trace("Signaling immediate restart",{append:this.Gb.yp.value,v5c:m.sourceBuffers.map(function(q){return q.yp.value;})}),this.sLb(!1));};l.prototype.sLb=function(m,p){var q,r,u,v,w,x,y,B,C,D;u=this;if(this.pending.size){g.l && this.console.trace("playback ending, restarting player");w={};x=(q={},q[e.u.X]=void 0,q[e.u.U]=void 0,q[e.u.Da]=void 0,q[e.u.um]=void 0,q);q=void 0;y=[];try{for(var A=d.__values(this.pending.entries()),z=A.next();!z.done;z=A.next()){B=d.__read(z.value,2);C=B[0];D=B[1];w[C]=null === (v=D.to.stream) || void 0 === v?void 0:v.ss();q={to:{L:D.to.L,offset:D.timestamp}};D.reason && y.push(D.reason);D.from.L && (x[C]=D.from.L,q.from={L:D.from.L,offset:D.oda});}}catch(H){var E;E={error:H};}finally{try{z && !z.done && (r=A.return) && r.call(A);}finally{if(E)throw E.error;}}null === p || void 0 === p?void 0:p();this.Gb.BSc(q,m,y);g.l && this.console.debug("Restarting player",w);this.player.cd(w,x,q).then(function(){var H,F;null === (H=u.Ym) || void 0 === H?void 0:H.resolve();g.l && u.console.debug("Restart completed");null === (F=u.bMb) || void 0 === F?void 0:F.w6b();u.reset();});}};return l;})();b.Bgb=t;},33604:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Cgb=void 0;d=a(22970);n=a(79048);c=a(48170);f=a(58049);t=(function(){function g(e,h,k){this.KB=e;this.mediaType=h;this.console=k;this.zac=this.Waa=!0;}Object.defineProperties(g.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});g.prototype.process=function(e){return d.__awaiter(this,void 0,void 0,function(){var h,k,l;return d.__generator(this,function(m){switch(m.label){case 0:if(e.done)return [3,6];h=e.value.value;if(!(0,f.sUa)(h))return [3,3];if(!this.Qs || h.pa.M === this.Qs.M || h.pa.M.J === n.Br)return [3,2];c.l && this.console.trace("Seamless Throttler: waiting for other transitions to be ready",{request:h});return [4,this.KB.BSb({mediaType:this.mediaType,Y9:this.Waa,to:{stream:void 0,L:h.K.id},from:{stream:void 0,L:this.Qs.L},timestamp:h.pa.Tb,oda:null === (k=this.Qs) || void 0 === k?void 0:k.Tb})];case 1:(m.T(),m.label=2);case 2:return (this.Qs={qNc:0,stream:void 0,M:h.pa.M,Tb:h.pa.Tb,L:h.K.id},[3,6]);case 3:if(!this.Qs || !h.bn || h.stream.M === this.Qs.M || h.stream.M.J === n.Br)return [3,5];c.l && this.console.trace(("Seamless Throttler: Waiting on request [").concat(h.mediaType,"]"),h.index,"in",h.K.id);return [4,this.KB.BSb({mediaType:h.mediaType,Y9:this.Waa,to:{stream:h.stream,L:h.K.id},from:{stream:this.Qs.stream,L:this.Qs.L},timestamp:h.Tb,oda:null === (l=this.Qs) || void 0 === l?void 0:l.Tb})];case 4:(m.T(),m.label=5);case 5:(this.Waa=!1,this.Qs={qNc:h.index,stream:h.stream,Tb:h.Tb,L:h.K.id,M:h.stream.M},m.label=6);case 6:return [2,e];}});});};g.prototype.MXa=function(e,h){void 0 === e && (e=[]);void 0 === h && (h=[]);c.l && this.console.trace(("Seamless Throttler: onMediaSourceReset() ").concat(h));this.Waa || (this.Waa=-1 !== h.indexOf(this.mediaType));(null === e || void 0 === e?0:e.length) && e.length !== h.length && (this.Qs=void 0);};g.prototype.reset=function(){};return g;})();b.Cgb=t;},53693:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Rdb=void 0;d=a(22970);n=a(48170);c=a(52571);f=a(40666);t=(function(){function g(e,h,k,l){var m;m=this;this.mc=e;this.eHc=h;this.tYa=k;this.console=l;e.Na.on("stopStart",function(){return m.lcc();});n.l && this.console.trace(("PacingThrottler: pacingFactory=").concat(h,", pacingThreshold=").concat(k.ca()));}Object.defineProperties(g.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});g.prototype.lcc=function(){var e,h;h=this.mc.Na;this.dY=h.mj?h.currentTime:void 0;this.J7=this.Z9=void 0;n.l && this.console.trace(("PacingThrottler: clock reset ").concat(null === (e=this.dY) || void 0 === e?void 0:e.G));};g.prototype.waitUntil=function(e){var h;e=(0,f.j3)(this.mc,e,!0);h=e.promise;this.k4a=e.Ge;return h;};g.prototype.process=function(e){return d.__awaiter(this,void 0,void 0,function(){var h,k,l,m;return d.__generator(this,function(p){switch(p.label){case 0:if(e.done)return [3,11];h=e.value.value;(0,c.assert)(h.Tb);k=this.mc.Na;if(!this.Z9 || !this.J7)return [3,10];if(!this.J7.greaterThan(this.tYa))return [3,8];if(!this.dY)return [3,5];l=h.Tb.ea(this.dY).ea(this.tYa);m=this.dY.add(l.rf(this.eHc));if(!m.lessThan(h.Tb))return [3,3];if(!m.greaterThan(k.currentTime))return [3,2];n.l && this.console.trace(("PacingThrottler: waiting until ").concat(m.ca()," for mediaRequest @") + ("").concat(h.Tb.ca(),", ") + ("current time ").concat(k.currentTime.ca(),", ") + ("clock start time ").concat(this.dY.ca(),", ") + ("distance ").concat(l.ca()));return [4,this.waitUntil(m)];case 1:(p.T(),p.label=2);case 2:return [3,4];case 3:(n.l && this.console.warn("PacingThrottler: invalid schedule time " + ("").concat(m.ca()," for mediaRequest ") + ("@").concat(h.Tb.ca(),", ") + ("current time ").concat(k.currentTime.ca(),", ") + ("clock start time ").concat(this.dY.ca(),", ") + ("distance ").concat(l.ca())),p.label=4);case 4:return [3,7];case 5:l=h.Tb.ea(this.Z9);if(!l.greaterThan(this.tYa))return [3,7];n.l && this.console.trace(("PacingThrottler: (buffering) waiting until ").concat(this.Z9.G,"ms") + (" for mediaRequest @").concat(h.Tb.G,"ms, ") + ("current time ").concat(k.currentTime.G));return [4,this.waitUntil(this.Z9)];case 6:(p.T(),p.label=7);case 7:return [3,9];case 8:(this.J7=this.J7.add(h.Wb),p.label=9);case 9:return [3,11];case 10:(this.Z9=h.Tb,this.J7=h.Wb,p.label=11);case 11:return [2,e];}});});};g.prototype.reset=function(){var e;null === (e=this.k4a) || void 0 === e?void 0:e.La();};return g;})();b.Rdb=t;},74371:function(t,b,a){var n,c,f,g,e,h;function d(k,l){return k > l.SAc?e.P9a:k > l.Vgc?e.p5:0 < k?e.YUb:e.EMPTY;}Object.defineProperties(b,{__esModule:{value:!0}});b.Zqb=b.seb=void 0;n=a(22970);c=a(91176);f=a(90745);g=a(54520);(function(k){k[k.EMPTY=0]="EMPTY";k[k.YUb=1]="CRITICAL";k[k.p5=2]="LOW";k[k.P9a=3]="HEALTHY";})(e || (b.seb=e={}));h=(function(){function k(){this.oM=this.buffer=e.EMPTY;}Object.defineProperties(k.prototype,{cQ:{get:function(){return Math.min(this.buffer,this.oM);},enumerable:!1,configurable:!0}});return k;})();b.Zqb=function(k){var m,p,q,r,u;function l(){var v,w,A,z,B,C,D,E,H;w=k.Vrc();try{for(var x=n.__values(w),y=x.next();!y.done;y=x.next()){A=y.value;if(!A.mk){w=A;z=p[w.OYa] || new h();B=(0,g.B0)(new h(),p[w.OYa]);C=k.lD();D=w.qk.ea(C).G;B.oM=d(D,k);E=w.fY.G;H=d(E,k);B.buffer=H;r && B.cQ < e.P9a || (r && (r=!1),B.cQ !== z.cQ && (p[w.OYa]=B,m.emit("healthChange",{Xuc:B.cQ,Cic:B.cQ < z.cQ,Xe:w,CLc:Math.min(E,D)})));}}}catch(G){var F;F={error:G};}finally{try{y && !y.done && (v=x.return) && v.call(x);}finally{if(F)throw F.error;}}}m=new f.EventEmitter();p={};q=null;r=!1;u={get no() {return !(null === q || void 0 === q || !q.no);},start:function(){return n.__awaiter(void 0,void 0,void 0,function(){return n.__generator(this,function(){if(u.no)return [2];q=k.mc.cna(l,c.I.Ca(k.jDc));return [2];});});},stop:function(){return null === q || void 0 === q?void 0:q.La();},Vta:function(){r=!0;},addListener:m.addListener.bind(m),removeListener:m.removeListener.bind(m)};return u;};},61651:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Lia=void 0;d=a(22970);n=a(91176);c=a(52571);f=a(48170);g=a(17122);t=(function(e){function h(k){var l;l=e.call(this) || this;l.la=k;l.S6=new Map();l.Ya=[];l.Jk=Number.MAX_SAFE_INTEGER;l.u6=new g.wja({mj:!1,currentTime:function(){return l.Wd?l.Md:n.I.dh;},speed:1});return l;}d.__extends(h,e);Object.defineProperties(h.prototype,{Na:{get:function(){return this.u6;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{gd:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Up:{get:function(){return this.k7;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Bw:{get:function(){return this.S6;},enumerable:!1,configurable:!0}});h.prototype.Tla=function(k,l){var m;m=!this.la;m && (this.la=k,this.tIa=(null === l || void 0 === l?0:l.Wd)?l.Md:void 0,this.k7=null === l || void 0 === l?void 0:l.Up,this.S6=l?l.Bw:new Map(),null === l || void 0 === l?void 0:l.P0());return m;};h.prototype.P0=function(){this.S6=this.k7=void 0;};h.prototype.pK=function(){this.Ya=[];this.tIa=void 0;};h.prototype.tOa=function(k){f.l && (0,c.assert)(this.la === k);this.la=void 0;this.pK();};h.prototype.iZ=function(){for(var k,l=[],m=0;m < arguments.length;m++)l[m]=arguments[m];(k=this.Ya).push.apply(k,d.__spreadArray([],d.__read(l),!1));e.prototype.iZ.apply(this,d.__spreadArray([],d.__read(l),!1));};h.prototype.lD=function(){return this.tIa?this.tIa:e.prototype.lD.call(this);};h.prototype.Raa=function(){return !1;};h.prototype.gN=function(){};h.prototype.XQa=function(){return Infinity;};h.prototype.Iea=function(){};h.prototype.rU=function(){};h.prototype.La=function(){e.prototype.La.call(this);this.Bw.forEach(function(k){return k.close();});};return h;})(a(82867).KFa);b.Lia=t;},82867:function(t,b,a){var d,n,c,f,g,e,h,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.KFa=void 0;d=a(22970);n=a(90745);c=a(91176);f=a(66164);g=a(52571);e=a(65161);t=a(75393);h=a(48170);k=a(69575);l=t.Hy.fOa;a=(function(){function m(){this.a1=[];this.nP=new c.At(!1);this.iP=new c.At(c.I.Ca(-Infinity));this.vjb=new c.At(c.I.Ca(-Infinity));this.QW=void 0;this.events=new n.EventEmitter();this.sb=new f.platform.Console("ASEJS","media|asejs");}Object.defineProperties(m.prototype,{I_:{get:function(){return this.QW;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{console:{get:function(){return this.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{gd:{get:function(){return this.EJ;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Up:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Bw:{get:function(){return new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{playbackRate:{get:function(){return this.VZ();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Umb:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{yp:{get:function(){return this.nP;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{WR:{get:function(){return this.iP;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qk:{get:function(){return this.vjb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Wd:{get:function(){return this.cw;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Md:{get:function(){return this.lD();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Yg:{get:function(){var p,q;p=this.Md;q=this.un(p,!1);h.l && (0,g.assert)(q,("Could not find current branch for ").concat(p.G));return q;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fwc:{get:function(){return this.Ya[0];},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ak:{get:function(){return this.cw?this.Ya[this.Ya.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{yB:{get:function(){var p,q;p=this.Md;q=this.q$(p);(0,g.assert)(q,("Could not find presenting branch for ").concat(p.G));return q;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{cw:{get:function(){return 0 < this.Ya.length;},enumerable:!1,configurable:!0}});m.prototype.YMb=function(){};m.prototype.XMb=function(){};m.prototype.cl=function(){return !1;};m.prototype.jqa=function(){return 0 < this.Ya.length;};m.prototype.ju=function(){(0,g.assert)(0 < this.Ya.length,"Could not find presenting branch. Player has no branches.");return this.yB;};m.prototype.Vyb=function(p){return -1 !== this.Ya.indexOf(p);};m.prototype.Tla=function(){return void 0 !== this.la?!1:!0;};m.prototype.P0=function(){};m.prototype.La=function(){};m.prototype.FA=function(p){var q,r,u;q=this.Ya.filter(function(v){return v.K.id === p.L;});if(0 !== q.length){r=this.lD();u=new c.I(Infinity,1);q.forEach(function(v){v=v.Aw.add(p.offset);r.Nv(v).lessThan(r.Nv(u)) && (u=v);});return u;}};m.prototype.jaa=function(p){var q,r,u,v,w,x,y,A,z,B;return d.__generator(this,function(C){switch(C.label){case 0:q=this.Ya.filter(function(D){return D.K.id === p.L;});if(0 === q.length)return [2,void 0];r=this.lD();C.label=1;case 1:(C.tc.push([1,6,7,8]),u=d.__values(q),v=u.next(),C.label=2);case 2:if(v.done)return [3,5];w=v.value;x=w.Aw.add(p.offset);y=r.Nv(x);return [4,{xo:x,Nv:y}];case 3:(C.T(),C.label=4);case 4:return (v=u.next(),[3,2]);case 5:return [3,8];case 6:return (A=C.T(),z={error:A},[3,8]);case 7:try{v && !v.done && (B=u.return) && B.call(u);}finally{if(z)throw z.error;}return [7];case 8:return [2];}});};m.prototype.un=function(p,q){var r,u,v;void 0 === q && (q=!1);r=this.q$(p,q);if(r){u=r.K;q=u.id;v=u.Wb;p=c.I.min(p.ea(u.jb.add(r.Ld)),v);return {L:q,offset:p};}};m.prototype.Stc=function(p){var q,r,u,v;q=this.Ya.filter(function(w){return w.K.id === p.L;});if(0 !== q.length){r=this.lD();u=new c.I(Infinity,1);q.forEach(function(w){var x;x=w.Aw.add(p.offset);r.Nv(x).lessThan(r.Nv(u)) && (u=x,v=w);});return v;}};m.prototype.Vfa=function(){};m.prototype.reset=function(){this.pK();};m.prototype.P_a=function(){};m.prototype.L1=function(){};Object.defineProperties(m.prototype,{kU:{get:function(){return !1;},enumerable:!1,configurable:!0}});m.prototype.ada=function(p){p();};m.prototype.pause=function(p){void 0 === p && (p=e.B5);this.a1=null === p || void 0 === p?void 0:p.reduce(function(q,r){-1 === q.indexOf(r) && q.push(r);return q;},this.a1);};m.prototype.resume=function(p){var q;q=this;void 0 === p && (p=e.B5);p.forEach(function(r){r=q.a1.indexOf(r);-1 !== r && q.a1.splice(r,1);});};m.prototype.c3a=function(p){var q;(0,g.assert)(this.la);(0,g.assert)(p !== this);this.rU();q=p.Tla(this.la,this);q && (p.pause(this.a1),p.iZ.apply(p,d.__spreadArray([],d.__read(this.Ya),!1)),this.tOa(this.la));return q;};m.prototype.iZ=function(){for(var p,q,r=[],u=0;u < arguments.length;u++)r[u]=arguments[u];try{for(var v=d.__values(r),w=v.next();!w.done;w=v.next())this.events.emit("segmentAppended",{type:"segmentAppended",L:w.value.K.id});}catch(x){p={error:x};}finally{try{w && !w.done && (q=v.return) && q.call(v);}finally{if(p)throw p.error;}}};m.prototype.lD=function(){return this.Xwb();};m.prototype.Xwb=function(){var p;h.l && (0,g.assert)(this.cw,"Attempted to get initial time before any branches were queued");p=d.__read(this.Ya,1)[0];h.l && (0,g.assert)(p);return p.Tb || p.pH;};m.prototype.VZ=function(){return 1;};m.prototype.YK=function(){};m.prototype.q$=function(p,q){var r;void 0 === q && (q=!1);if(this.cw){r=this.Xwb();return p.lessThan(r)?this.Ya[0]:(0,k.hvb)(this.Ya,p) || (q?this.Ak:void 0);}};m.prototype.Apc=function(){var p,q,v,w,x,y,A,z;q={};try{for(var r=d.__values(this.Ya),u=r.next();!u.done;u=r.next()){v=u.value;w=void 0;x=void 0;y=v.iR();for(w in y){A=w;z=y[A];z && (q[A]=(null !== (x=q[A]) && void 0 !== x?x:0) + z);}if(!v.mk)break;}}catch(C){var B;B={error:C};}finally{try{u && !u.done && (p=r.return) && p.call(r);}finally{if(B)throw B.error;}}return q;};d.__decorate([l.return.Wd(),l.return.WD],m.prototype,"I_",null);d.__decorate([l.return.ai()],m.prototype,"Yg",null);d.__decorate([l.return.LLa(),l.return.fr],m.prototype,"ju",null);d.__decorate([d.__param(0,l.ai())],m.prototype,"FA",null);d.__decorate([d.__param(0,l.ai())],m.prototype,"jaa",null);d.__decorate([l.return.ai(),l.return.WD],m.prototype,"un",null);return m;})();b.KFa=a;},90111:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Peb=void 0;d=a(90745);n=a(91176);t=a(66164);c=a(65161);a=a(85254);f=new t.platform.Console("PLAYERCLOCK");t=(function(){function g(e){this.player=e;this.TIa=!1;this.rFb=new d.kf();this.pMc();}g.prototype.pMc=function(){var e,h;e=this;h=this.rFb;h.on(this.player,"paused",function(){return e.Wta();});h.on(this.player,"playing",function(){return e.Wta(!0);});h.on(this.player,"underflow",function(){return e.Wta();});h.on(this.player,"skipped",function(){return e.YXa();});h.on(this.player,"clockAdjusted",function(){return e.Lca();});h.on(this.player,"playbackRateChanged",function(){return e.YFc();});};Object.defineProperties(g.prototype,{currentTime:{get:function(){return this.LOb || this.player.Ed || n.I.ia;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{mj:{get:function(){return this.TIa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{speed:{get:function(){var e;return null !== (e=this.player.playbackRate) && void 0 !== e?e:1;},enumerable:!1,configurable:!0}});g.prototype.Wta=function(e){void 0 === e && (e=!1);e !== this.TIa && (this.LOb=(this.TIa=e)?void 0:this.player.Ed,e?f.log("PlayerClock: Player is running",this.player.Ed):f.log("PlayerClock: Player is stopping",this.player.Ed));this.emit("stopStart",{type:"stopStart"});};g.prototype.YXa=function(){this.LOb=void 0;this.Lca(c.dx.jN);};g.prototype.Lca=function(e){void 0 === e && (e=c.dx.cG);f.log("PlayerClock: clock adjusted",{ir:this.mj,time:this.player.Ed,reason:c.dx[e]});this.emit("clockAdjusted",{type:"clockAdjusted",reason:e});};g.prototype.YFc=function(){this.emit("speedChanged",{type:"speedChanged"});};g.prototype.La=function(){this.Wta();this.rFb.clear();};return g;})();b.Peb=t;(0,a.wl)(d.EventEmitter,t);},546:function(t,b,a){var d,n,c,f,g,e,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Ria=void 0;d=a(22970);n=a(90745);c=a(91176);f=a(66164);g=a(69575);e=a(48170);h=a(40666);k=c.I.Ca(1E3);t=(function(){function l(m,p,q,r,u,v,w,x,y,A){var z,B;this.BQa=m;this.FGc=p;this.Gla=r;this.events=u;this.zw=v;this.lQb=x;this.priority=y;this.Vj=[];this.console=(0,g.Gf)(f.platform,p,("PresentationTracker [").concat(this.BQa,"] [").concat(this.lQb,"]"));this.Xca=k.add(c.I.Ca(null !== (B=null === (z=v.QB) || void 0 === z?void 0:z.G) && void 0 !== B?B:0));e.l && this.console.debug("Constructed",{Xca:this.Xca.ca(),DTa:A});this.listeners=new n.kf();this.aZa=new n.kf();this.sI=!0;this.Rda=!A;this.Cgc(w);this.hNb(q,w,r);}l.prototype.hNb=function(m,p,q){var r;r=this;this.Gla=q;this.listeners.clear();this.aZa.clear();this.Gb=m;this.mc=p;this.aZa.on(m.player,"skipped",this.aGc.bind(this));this.listeners.on(q,"requestAppended",function(u){return r.yp(u.request);});this.events=m.events;this.BQ.Qob(p);this.bm.Qob(p);};l.prototype.Cgc=function(m){var p;p=this;this.BQ=m.fs(function(){return p.ekc();},("Presentation Emit [").concat(this.BQa,"]"),this.priority);this.bm=m.fs(function(){return p.VKc();},("Presentation Prune [").concat(this.BQa,"]"));};l.prototype.aGc=function(){this.trace(("skipped, scheduler clock ").concat(this.mc.Na.currentTime.ca()));this.Rda=this.sI=!0;this.BQ.cd();};l.prototype.ekc=function(){var m,p,q;return d.__generator(this,function(r){switch(r.label){case 0:(e.l && this.console.trace("Starting emit job",this.sI),this.zB=this.XDc(this.sI),m=this.FFb(),r.label=1);case 1:if(!m)return [3,3];this.trace(("queuing task for ").concat(this.DL(m.pt)) + (" at player time ").concat(m.timestamp.ca()) + (" scheduler clock is ").concat(this.mc.Na.currentTime.ca()));return [4,h.ce.mm(m.timestamp)];case 2:r.T();this.trace(("executing task for ").concat(this.DL(m.pt)) + (" for player time ").concat(m.timestamp.ca()) + (", scheduler clock: ").concat(this.mc.Na.currentTime.ca()) + (", actual player time: ").concat(this.Gb.Md) + (", first item: ").concat(this.sI),{nCc:this.Vj.length,zB:this.zB});p=this.Rda?this.Gb.Md:m.timestamp;q=this.sI && !this.iXa;this.iXa=this.Rda=this.sI=!1;this.Hrb=m;this.zB++;this.UNa=(m=this.FFb())?m.timestamp:this.XR;try{this.$Oa(this.Hrb,p,q);}catch(u){this.console.error(("Error in ").concat(this.lQb," emit, continuing"),u);}p=null === m || void 0 === m?void 0:m.timestamp;return [3,1];case 3:return (e.l && this.console.trace("Ending emit job"),[2]);}});};l.prototype.aYa=function(){};l.prototype.d3a=function(){e.l && this.console.trace("Marking transfered from");this.iXa=this.sI=!0;};l.prototype.FFb=function(){if(void 0 !== this.zB)return this.Vj[this.zB];};l.prototype.XDc=function(m){var p,q,u;void 0 === m && (m=!1);for(var r=m?0:null !== (p=this.zB) && void 0 !== p?p:0;r < this.Vj.length;r++){p=this.Vj[r];u=c.I.Ca(null !== (q=this.zw.KIc) && void 0 !== q?q:0);if(p.timestamp.greaterThan(this.Gb.Md.add(u)))return m && 0 < r?r - 1:r;}return Math.max(this.Vj.length - 1,0);};l.prototype.VKc=function(){var m,p;return d.__generator(this,function(q){switch(q.label){case 0:if(!(1 < this.Vj.length))return [3,2];m=d.__read(this.Vj,2);p=m[1];this.trace(("queuing pruning task for ").concat(this.DL(p.pt)) + (" at player time ").concat(this.Xca.add(p.timestamp).ca()) + (" scheduler clock is ").concat(this.mc.Na.currentTime.ca()));return [4,h.ce.mm(this.Xca.add(p.timestamp))];case 1:return (q.T(),this.trace(("executing pruning task for ").concat(this.DL(p.pt)) + (" at player time ").concat(this.Xca.add(p.timestamp).ca()) + (" scheduler clock is ").concat(this.mc.Na.currentTime.ca()),{nCc:this.Vj.length,zB:this.zB}),this.Vj.shift(),this.zB && this.zB--,[3,0]);case 2:return [2];}});};l.prototype.aA=function(m,p,q){this.hNb(m,p,q);};l.prototype.reset=function(){this.Vj=[];e.l && this.trace("reset");this.sI=!0;this.iXa=!1;this.Rda=!0;this.XR=void 0;this.zB=0;this.bm.cd();this.BQ.cd();};l.prototype.close=function(){e.l && this.trace("close()");this.Rda=this.sI=!0;this.aZa.clear();this.BQ.La();this.bm.La();this.listeners.clear();this.Vj=[];};l.prototype.cl=function(m){var p;e.l && this.trace(("canSkip() ").concat(m));if(0 === this.Vj.length)return (e.l && this.trace("canSkip false, no media sequence"),!1);p=this.Vj[0];return p.timestamp.greaterThan(m)?(e.l && this.trace(("canSkip false, before earliest item at ").concat(p.timestamp)),!1):void 0 === this.XR || this.XR.lessThan(m)?(e.l && this.trace(("canSkip false, later than last appended at ").concat(this.XR)),!1):!0;};l.prototype.trace=function(m){for(var p,q=[],r=1;r < arguments.length;r++)q[r - 1]=arguments[r];e.l && (p=this.console).trace.apply(p,d.__spreadArray([m],d.__read(q),!1));};l.prototype.EKa=function(m,p,q){var r,u;r=this;q && (this.XR=q);u=this.Vj.length?this.Vj[this.Vj.length - 1]:void 0;if(void 0 === u || !this.ora(u.pt,m))return (this.Vj.push({pt:m,timestamp:p}),e.l && this.console.log(("Added ").concat(this.DL(m)," to media sequence at"),{Yad:this.Vj.length,xed:this.Vj.slice(0,3).map(function(v){return r.DL(v.pt);}),Q7c:this.BQ.state,Dcd:this.bm.state}),this.BQ.state === h.zm.complete && this.BQ.cd(),this.bm.state === h.zm.complete && this.bm.cd(),!0);u === this.Hrb && (this.UNa=q);return !1;};l.prototype.ora=function(m,p){return m === p;};l.prototype.mcc=function(m){this.trace("Item cloned");m.Vj=d.__spreadArray([],d.__read(this.Vj),!1);m.XR=this.XR;};l.prototype.V$=function(){var m,p,q,v;if(this.Gb.Wd){p=this.Gb.Md;q=void 0;try{for(var r=d.__values(this.Vj),u=r.next();!u.done;u=r.next()){v=u.value;if(v.timestamp.ln(p))q=v;else break;}}catch(x){var w;w={error:x};}finally{try{u && !u.done && (m=r.return) && m.call(r);}finally{if(w)throw w.error;}}return null === q || void 0 === q?void 0:q.pt;}};return l;})();b.Ria=t;},55024:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.vfb=void 0;d=a(22970);n=a(91176);c=a(65161);f=a(6832);g=a(36640);t=(function(){function e(h,k,l,m,p,q,r,u){this.mediaType=h;this.console=k;this.Gb=l;this.Gla=m;this.du=p;this.zw=q;this.mc=r;this.NJ=[];this.mediaType === c.u.U && this.NJ.push(new g.Jgb(h,k,l,m,p,q,r,u,2));this.NJ.push(new f.Aja(h,k,l,m,p,q,r,1,null === u || void 0 === u?void 0:u.DTa()));}e.prototype.aA=function(h,k,l){this.Gb=h;this.mc=k;this.Gla=l;this.HE.forEach(function(m){return m.aA(h,k,l);});};e.prototype.F6b=function(h){this.NJ.push(h);};e.prototype.vZ=function(h){return (0,n.cc)(this.NJ,function(k){return k instanceof h;});};e.prototype.reset=function(){this.NJ.forEach(function(h){return h.reset();});};e.prototype.close=function(){this.NJ.forEach(function(h){return h.close();});};e.prototype.cl=function(h){return d.__read(this.NJ,1)[0].cl(h);};Object.defineProperties(e.prototype,{HE:{get:function(){return this.NJ;},enumerable:!1,configurable:!0}});e.prototype.aYa=function(){this.HE.forEach(function(h){return h.aYa();});};e.prototype.d3a=function(h){this.HE.forEach(function(k,l){var m;l=null === h || void 0 === h?void 0:h.HE[l];null === (m=k.d3a) || void 0 === m?void 0:m.call(k,l);});};return e;})();b.vfb=t;},36640:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Jgb=void 0;d=a(22970);n=a(91176);c=a(48170);f=a(52571);g=0;t=(function(e){function h(k,l,m,p,q,r,u,v,w){k=e.call(this,("segment").concat(g++,"-").concat(k),l,m,p,q,r,u,"segment",w,null === v || void 0 === v?void 0:v.DTa()) || this;k.Up=v;return k;}d.__extends(h,e);h.prototype.yp=function(k){var l,m,p,q,r,u,v,w,x,y,A,z,B;v=k.Tb;w=k.Pb;x=k.qa;y=k.ta;A=k.bitrate;z=k.Qb;(0,f.assert)(void 0 !== v);B=null === (l=this.Gb.un(v)) || void 0 === l?void 0:l.L;(0,f.assert)(B,"missing segment id");k={L:B,CB:k.K.CB,qvb:k.bn,qa:x,ta:y,eSb:A,ZU:k.stream.Ra,Qb:z,XJc:null === (m=this.J_) || void 0 === m?void 0:m.eSb,ZJc:null === (p=this.J_) || void 0 === p?void 0:p.Qb,YJc:null === (q=this.J_) || void 0 === q?void 0:q.ZU,TJc:null === (r=this.J_) || void 0 === r?void 0:r.ta,Zd:null === (u=k.stream.M.S) || void 0 === u?void 0:u.Zd};c.l && this.console.log("segmentTracker: mediaAppended",{item:k});this.J_=k;this.EKa(k,v,w) && c.l && this.trace(("segment ").concat(B," @ ").concat(v.G,"ms"),k);};h.prototype.ora=function(k,l){return k.L === l.L && !l.qvb;};h.prototype.$Oa=function(k,l,m){var p,q,r,u,v,w,x,y,A,z,B,C;p=k.pt;q=p.L;r=p.CB;u=p.eSb;v=p.XJc;w=p.Qb;x=p.ZJc;y=p.YJc;A=p.ZU;z=p.qa;p=p.TJc;B=this.Gb.un(l);C=B?this.Gb.Stc(B):void 0;(0,f.assert)(void 0 !== B,"segmentTracker::emitPresentingEvent: position should be defined");c.l && this.trace(("emitSegmentPresentingEvent @ ").concat(k.timestamp.G,"ms for segment ").concat(q));B.L !== q && (c.l && this.console.warn("player position:",B,"not equal to trackedElement:",q),B={L:q,offset:n.I.ia});k={type:"segmentPresenting",playerTimestamp:l,position:B,seek:m,playbackContextId:k.pt.Zd,branchId:null === C || void 0 === C?void 0:C.HX};void 0 !== r && (k.programId=r);if(this.Up){if(q=this.Up.KRa(q))(q.destvbitrate=u,q.destvmaf=w,q.destVdlid=A,q.srcvbitrate=v,q.srcvmaf=x,q.srcVdlid=y,q.srcMoffms=null === p || void 0 === p?void 0:p.G,q.destMoffms=z.G);k.metrics=q;}c.l && this.trace(("segmentPresenting: ").concat(JSON.stringify(k)));this.events.emit(k.type,k);};h.prototype.reset=function(){e.prototype.reset.call(this);this.J_=void 0;};h.prototype.close=function(){e.prototype.close.call(this);this.J_=void 0;};h.prototype.DL=function(k){return ("").concat(k.L," seqFirst:").concat(k.qvb);};return h;})(a(546).Ria);b.Jgb=t;},6832:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Aja=void 0;d=a(22970);n=a(97685);c=a(26388);f=a(48170);g=a(52571);e=0;t=(function(h){function k(l,m,p,q,r,u,v,w,x){return h.call(this,("stream").concat(e++,"-").concat(l),m,p,q,r,u,v,"stream",w,x) || this;}d.__extends(k,h);k.prototype.yp=function(l){var m,p,q;m=l.stream;p=l.Tb;q=l.Pb;l=l.qa;(0,g.assert)(void 0 !== p,"playerStartTimestamp undefined at media append");(0,g.assert)(void 0 !== l,"contentStartTimestamp undefined at media append");this.EKa({stream:m,qa:l},p,q) && f.l && this.trace(("stream ").concat(m.id,", ").concat(m.bitrate,"kbit/s @ ").concat(p.G,"ms"));};k.prototype.ora=function(l,m){return l.stream === m.stream;};k.prototype.$Oa=function(l,m){var p,q,r,u,v,w,x,y;u=l.pt.stream;v=this.Gb.un(m);(0,g.assert)(void 0 !== v);f.l && this.trace(("emitStreamPresentingEvent @ ").concat(l.timestamp.G,"ms for ").concat(null === u || void 0 === u?void 0:u.id,", ") + ("").concat(null === u || void 0 === u?void 0:u.bitrate,"kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:u.mediaType,playerTimestamp:m,position:v,trackIndex:null === (p=null === u || void 0 === u?void 0:u.track) || void 0 === p?void 0:p.SJ,streamIndex:null === u || void 0 === u?void 0:u.Ow,stream:u,manifest:null === (q=u.M) || void 0 === q?void 0:q.S,contentStartTimestamp:l.pt.qa});if(f.l && u)if((l=u.vn,u.mediaType === c.u.U)){m=u.track;p=u.Ab;q=u.Uc;w=u.QT;x=u.T_a;y=u.Qb;v=u.location;u=u.bitrate;n.VR.log({vn:l,type:"STREAM_RENDER",mediaType:"VIDEO",bitrate:(0,n.FL)(u),Uh:null !== (r=null === p || void 0 === p?void 0:p.toString()) && void 0 !== r?r:n.zh,Xc:q,framerate:m.frameRate?m.frameRate.Ay / m.frameRate.Mv:-1,height:null !== w && void 0 !== w?w:-1,width:null !== x && void 0 !== x?x:-1,iS:null !== v && void 0 !== v?v:n.zh,Qb:null !== y && void 0 !== y?y:-1});}else u.mediaType === c.u.X && (m=u.track,p=u.Ab,q=u.Uc,v=u.location,u=u.bitrate,n.VR.log({vn:l,type:"STREAM_RENDER",mediaType:"AUDIO",bitrate:(0,n.FL)(u),Uh:null !== (w=null === p || void 0 === p?void 0:p.toString()) && void 0 !== w?w:n.zh,Xc:q,iS:null !== v && void 0 !== v?v:n.zh,channels:null !== (x=m.channels) && void 0 !== x?x:n.zh,language:n.zh}));};k.prototype.DL=function(l){return ("").concat(l.stream.Ra,"@").concat(l.qa.ca());};return k;})(a(546).Ria);b.Aja=t;},16290:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.vHa=void 0;d=a(79048);n=a(91176);c=a(66164);f=a(65161);t=(function(){function g(e,h){this.console=e;this.Z=h;}g.prototype.$wa=function(e,h,k,l,m,p,q){var r,u;void 0 === m && (m=!1);void 0 === p && (p=void 0);void 0 === q && (q=!1);r=e.K;u=this.ppc(r);this.transition={startTime:c.platform.time.ha(),lSc:e,kSc:k.G,Una:h,$d:this.Tqc(l,h,q),kVc:this.stc(l,m),yLc:p,Xhc:m,hf:l,Ebc:u,RDc:this.yrc(r,k)};};g.prototype.DTa=function(){return !!this.transition;};Object.defineProperties(g.prototype,{Una:{get:function(){var e;return null === (e=this.transition) || void 0 === e?void 0:e.Una;},enumerable:!1,configurable:!0}});g.prototype.KRa=function(e){var h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J;if(this.transition && e === this.transition.Una){v=this.transition;w=v.Ebc;x=v.RDc;y=v.Xhc;A=v.hf;z=v.lSc;B=v.kSc;C=v.startTime;D=v.$d;E=v.kVc;v=v.yLc;this.transition=void 0;H=this.RQa(e).PLa;F=this.Ooc(z.K.id,e,w);H=this.ADb(F.weight,H);G={};for(J in w)J !== e && (G[J]=w[J].details);w=c.platform.time.ha() - C;C=A?0:w;J={offset:this.Ssc(z,B,A,y),L:z.K.id};B={offset:n.I.Ca(B),L:z.K.id};x={segment:e,destPosition:{L:e,offset:n.I.ia},srcsegment:z.K.id,srcTransitionPosition:J,srcStartPosition:B,srcsegmentduration:z.Nfa.G,srcoffset:J.offset.G,seamlessRequested:this.KUa(A,y),atRequest:F,atTransition:H,discard:G,transitionType:D,transitionTypeAtRequest:E,delayToTransition:this.Hpc(w,A,y),durationOfTransition:C,nextExitPositionAtRequest:x};v && (x.reasonCodes=v);y=null !== (k=null === (h=this.Z.Z.ba[e]) || void 0 === h?void 0:h.type) && void 0 !== k?k:d.pd.content;h=null !== (m=null === (l=this.Z.Z.ba[z.K.id]) || void 0 === l?void 0:l.type) && void 0 !== m?m:d.pd.content;e=null !== (q=null === (p=this.Z.Z.ba[e]) || void 0 === p?void 0:p.J) && void 0 !== q?q:void 0;p=null !== (u=null === (r=this.Z.Z.ba[z.K.id]) || void 0 === r?void 0:r.J) && void 0 !== u?u:void 0;e && p && (e !== p || -1 < [y,h].indexOf("adBreak") || -1 < [y,h].indexOf("ad")) && (x.auxMidType=y,x.auxSrcmidType=h,x.auxMid=e,x.auxSrcmid=p);return x;}};g.prototype.Ooc=function(e,h,k){var l,m,p,q;p={};k=k[h];q=this.Z.Z.ba[e];if(k)p=k.details;else {(0,n.assert)(this.Z);if(!q)return p;p.weight=null === (m=null === (l=this.Z.Z.ba[e].next) || void 0 === l?void 0:l[h]) || void 0 === m?void 0:m.weight;}return p;};g.prototype.Hpc=function(e,h,k){var l;k || (l=h?e:0);return l;};g.prototype.yrc=function(e,h){var k,l,m;l=e.jb.add(h);null === (k=e.Ly) || void 0 === k?void 0:k.some(function(p){l.lessThan(p.qa) && (m=p.qa.G);});return m;};g.prototype.Ssc=function(e,h,k,l){return this.KUa(k,l)?e.Nfa:n.I.Ca(h);};g.prototype.Tqc=function(e,h,k){return e?"perfect":k?"long":this.RQa(h).Wyb?"reset":"long";};g.prototype.KUa=function(e,h){return e || h;};g.prototype.stc=function(e,h){return this.KUa(e,h)?"lazy":"immediate";};g.prototype.ppc=function(e){var h,k;h=this;k={};e.lB.forEach(function(l){var m,p;m=e.$Dc[l];p=h.RQa(l).PLa;k[l]={details:h.ADb(m,p)};});return k;};g.prototype.RQa=function(e){var h,k;e=this.Z.IZ(e);h=0 < e.length?e[0]:void 0;e=null === h || void 0 === h?void 0:h.iR();if(!h || !e)return {Wyb:!1,PLa:{YU:0,HP:0,JN:0,TJ:0}};k=h.hqa(f.u.X) && !e.HP;h=h.hqa(f.u.U) && !e.YU;return {Wyb:!k && !h,PLa:e};};g.prototype.ADb=function(e,h){return {weight:e,vbuflmsec:h.YU,abuflmsec:h.HP,vbuflbytes:h.JN,abuflbytes:h.TJ};};return g;})();b.vHa=t;},62819:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L,K,M,P,I,O,Q,T,U,X,Y,W,Z,ba,ca,da,ia,S,N,V,aa,fa,ha,ka,pa,oa;function d(la){var R;R={};la.forEach(function(ea){ea.mediaType !== q.u.Da && (R[ea.mediaType]=ea.ss());});if(!(1 > Object.keys(R).length))return R;}Object.defineProperties(b,{__esModule:{value:!0}});b.sza=void 0;n=a(22970);c=a(90745);f=a(79048);g=a(91176);e=a(91176);h=a(66164);k=a(79048);l=a(91176);a(97685);m=a(16816);p=a(20271);q=a(65161);r=a(26286);u=a(70842);v=a(31485);w=a(52571);x=a(61651);y=a(40666);A=a(63576);z=a(91967);B=a(5653);C=a(17122);D=a(54366);E=a(63172);H=a(13580);F=a(61996);G=n.__importDefault(a(40497));J=a(46759);L=a(60028);K=a(73036);M=a(69575);P=a(6783);I=a(99548);O=a(8149);Q=a(29739);T=a(66412);U=a(94328);X=a(28696);Y=a(19455);W=a(25317);Z=a(86451);ba=a(88874);ca=a(25510);da=a(78538);ia=a(36472);S=a(54775);N=a(4489);V=a(35879);aa=a(56879);fa=a(86048);ha=a(70494);ka=a(31509);t=a(75393);pa=a(46262);oa=t.Hy.fOa;a=(function(){function la(R,ea,ja,sa,ta,qa,Aa,Ga,na,va){this.rlb=ea;this.config=ja;this.id=sa;this.sv=qa;this.el=Aa;this.Qbc=Ga;this.$r=va;this.yIa=!1;this.DF=void 0;this.xPa=[];this.FC=void 0;this.THb=!1;this.Wh=this.ya=void 0;this.u7b="2.0";this.cAb=this.LJa=this.tv=void 0;this.$a=p.vt.CLOSED;this.HIa=!0;this.L7=!1;this.WB=this.sr=this.Ot=void 0;this.bob=new c.kf();this.jVa={};this.FK=0;this.nxa=!1;this.$vc();this.console=new h.platform.Console("ASEJS_PLAYGRAPH","asejs",("").concat(this.id));this.re=new F.Am({xg:10,rj:this,source:"AsePlaygraph",console:this.console});this.events=new c.EventEmitter();this.Vr=f.Iz.create(R);this.jNb(this.Vr);this.Ya=new ba.Xeb();this.Xh=new ha.Yeb(this.console);this.ezc=new X.w9a(this.config,g.I.Ca(this.config.GH),{parent:function(xa){return xa.UZ();},next:this.Dxb.bind(this)},this.events,this.console);this.tyc=new Y.v9a(this.config,g.I.Ca(this.config.GH),{parent:function(xa){return xa.UZ();},next:this.Dxb.bind(this)},this.events,this.console);this.d2a=new v.phb(this.console,this.events);this.j8={lH:ja.rS || Infinity};this.player=new x.Lia(this);this.gd=new y.tJ(this.player.Na,this.console,"playgraph",1);this.ewc();this.bg=new ca.E6a(this.console,ja,ta,this.events,this.Lta.bind(this),this.id,this.Bj);this.QC=new S.v6a(this.gd,this.Bj,this.config,this.Dn.bind(this),this.ke,this.console,this);this.Mta=this.bg.Mta.bind(this.bg);this.N0=this.bg.N0.bind(this.bg);this.Xta=this.bg.Xta.bind(this.bg);this.Bta=this.Bta.bind(this);this.tta=this.tta.bind(this);this.xta=this.xta.bind(this);this.yta=this.yta.bind(this);this.zta=this.zta.bind(this);this.bN=this.bN.bind(this);this.Ze=new z.fja(ja,this.console);this.Xvc();this.Ze.Sc(new D.Qn(this.bg.re));this.Ze.Sc(new E.ueb(this.Kxb.bind(this)));this.Ze.Sc(new H.O8a(this.Kxb.bind(this)));this.Ze.Sc(new D.Qn(this.re));this.Ze.Sc(new J.Web(this.Ya,this));this.Ze.Sc(new K.Fhb(this.gd));this.nya=new Q.qGa("viewables");this.Ze.Sc(this.nya);this.XOb=new fa.ohb(this,this.console,na);this.O_=new L.qbb(this.Bj,this.console,this.events);this.qq=new ka.Zeb(this.k_a.bind(this));this.g1a((0,A.Q8)(),(0,A.S8)(this.console,this.config));}Object.defineProperties(la.prototype,{parent:{get:function(){return this.FC;},set:function(R){this.FC=R;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{state:{get:function(){return this.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{mo:{get:function(){return !(this.player instanceof x.Lia);},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{Ec:{get:function(){return this.DF;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{Wi:{get:function(){var R;return null === (R=this.DF) || void 0 === R?void 0:R.Wi;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{Fb:{get:function(){return this.Vr;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{JR:{get:function(){return this;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{Z:{get:function(){return this.Vr.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{weight:{get:function(){return this.rlb;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{hm:{get:function(){(0,w.assert)(this.Xx,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.tv.position;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{VOc:{get:function(){(0,w.assert)(this.Xx,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.ws(this.hm).Ga;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{ke:{get:function(){return this.bg.state;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{oo:{get:function(){return this.bg.oo;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{Xx:{get:function(){return void 0 !== this.tv;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{Yg:{get:function(){return this.player.Wd?this.player.Yg:this.hm;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{Md:{get:function(){return this.player.Wd?this.player.Md:this.VOc;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{T8b:{get:function(){return this.d2b;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{lya:{get:function(){return this.k5b;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{iI:{get:function(){return this.sv;},enumerable:!1,configurable:!0}});Object.defineProperties(la.prototype,{RSa:{get:function(){return this.Jea()?this.tyc:this.ezc;},enumerable:!1,configurable:!0}});la.prototype.ewc=function(){this.Bj=new y.tJ(new C.wja({mj:!0,currentTime:function(){return g.I.Ca(h.platform.time.ha());},speed:1}),this.console,"wallclock");};la.prototype.Xvc=function(){var R;R=this;(0,aa.efc)({bg:this.bg,Bj:this.Bj},y.ce.jz(g.I.Ca(this.config.j1)),function(){R.player.Wd && R.player.yB && (R.bg.state.value === q.Sd.xm || R.bg.state.value === q.Sd.Sf) && R.ykb(R.player.yB);},"buffering");};la.prototype.$vc=function(){var R;R=this;this.nB=function(ea){var ja,sa,ta,qa;sa=R.Fb.get(ea.position.L);(0,w.assert)(sa,"segment must exsts in workingPlaygraph");ta=R.ORa(sa);if(ta && R.player.Wd){qa=(0,M.hvb)(R.player.Ya.filter(function(Aa){return Aa.K.id === ea.position.L;}),ea.playerTimestamp,{Vpb:!0});qa && (null === (ja=R.player.Up) || void 0 === ja?void 0:ja.$wa({K:sa,get Nfa() {return qa.ta.ea(sa.jb);}},ta,R.Yg.offset,!0,!1,void 0));}R.qq.start();};this.D0=function(){R.el("onDrmReady");};this.JGb=function(ea){ea=ea.newValue;R.yIa || (R.yIa=ea);};this.QFc=function(){R.el("mediaEventsProgress");};};la.prototype.open=function(){this.HIa=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.$a !== p.vt.CLOSED)return !1;this.$a=p.vt.OPEN;return !0;};la.prototype.La=function(){var R;this.Bj.La();this.gd.La();this.$a !== p.vt.CLOSED && (this.Jg(m.cO.Gna),this.qq.La(),this.$a=p.vt.CLOSED,this.mo || this.player.La(),this.O_.La(),null === (R=this.Ec) || void 0 === R?void 0:R.La());};la.prototype.ebc=function(R,ea,ja){R=(0,da.Ztb)(this.Ya,this.bN.bind(this),R,ea,ja).Rob;return this.Dob(R);};la.prototype.Vy=function(R,ea,ja){var sa,ta,qa,Aa,Ga,na,va;sa=this;ta=this.Ot;qa=this.sr;Aa=this.WB;this.Ot=R;this.sr=ea;this.WB=ja;ea=(0,da.Ztb)(this.Ya,this.bN.bind(this));Ga=ea.Rob;R=ea.R9b;ea=ea.j7b;if(0 === Ga.length)return !0;if(!this.Dob(Ga))return (this.Ot=ta,this.sr=qa,this.WB=Aa,!1);na=this.Yg;this.player.L1(Ga);this.player.Vfa(ea);va=this.ws(na).Ga;R.forEach(function(xa){var ra,ya,Ca;ra=xa.pa;ya=xa.ka;Ca=na.L === ra.K.id?va:void 0;xa=sa.Ya.Jpa(ra);ra.Vy(ya,Ca,void 0 !== xa,Ga);ra.Wl && (ya=ra.M,ra.K.type === f.pd.padding && (ya={VL:[0,0]}),sa.qq.state === ka.eJ.OO && sa.jJa(ra,ya,!xa,ra.M.S));});this.bg.tGc(na,R[0].ka);return !0;};la.prototype.Q8=function(R){return (0,A.Q8)(this.config,R);};la.prototype.S8=function(R){return (0,A.S8)(this.console,this.config,R);};la.prototype.O$=function(R,ea){var ja,sa,ta;ja=this.Fb.get(R);sa=this.Fb.get(ea);(0,w.assert)(ja,"currentSement must exist in workingPlaygraph");(0,w.assert)(sa,"currentSement must exist in workingPlaygraph");ta=this.ORa(ja);return {lXc:ja.Huc(ea),k8:ea !== R && this.Ya.has(ea) && this.Ya.dn(ea)[0].Xf,Zma:sa.jb.G,bXa:ta};};la.prototype.Dn=function(R,ea,ja,sa){var ta,qa,Aa,Ga,na,va,xa;ta=this;void 0 === sa && (sa=!0);if(!ea)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(sa && this.Xh.get(R))ja || this.Xh.set(R,ea);else {na=this.IZ(R)[0];va=this.Fb.get(R);(0,w.assert)(va,"currentSegment must exist in workingPlaygraph");xa=1 === va.DE && 0 === (null !== (Aa=null === (qa=va.Ul) || void 0 === qa?void 0:qa.length) && void 0 !== Aa?Aa:0) && va.lB[0] === ea;this.Yg.L !== R || !na || xa && ja || (null === (Ga=this.player.Up) || void 0 === Ga?void 0:Ga.$wa({K:na.K,get Nfa() {return na.ta.ea(na.K.jb);}},ea,this.Yg.offset,sa,ja,void 0));sa || (R={offset:g.I.ia,L:ea},this.tv={position:R,Xf:!0,VQb:R});ja?this.Xh.ZPc(va.id,ea):this.Xh.set(va.id,ea);this.qq.start();sa && va.Ly && 0 < va.Ly.length && ((0,w.assert)(na),na.Nxa(va.Ly) && this.IZ(ea).forEach(function(ra){return ta.Sw(na,ra);}));sa || this.bg.K0(this.hm);}};la.prototype.Dob=function(R){var ea,ja;if(0 === R.length)return !0;if(this.player.kU && this.player.WR.value.ea(this.player.Md).lessThan(g.I.Ca(5E3)))return !1;R=this.player.Ya;if(!R.length)return !0;ja=null === (ea=R[0]) || void 0 === ea?void 0:ea.M.J;return !R.some(function(sa){return sa.M.J !== ja;});};la.prototype.Sw=function(R,ea){R=R.Pb.ea(ea.K.jb);ea.Sw(R,"from playgraph");this.dRb(ea);};la.prototype.dRb=function(R){var ea;ea=this;this.Ya.qpc(R).forEach(function(ja){return ea.Sw(R,ja);});};la.prototype.xl=function(R){var ea;ea=this;Object.keys(R).forEach(function(ja){return ea.Fb.xl(ja,R[ja]);});this.qq.start();};la.prototype.g1a=function(R,ea){this.d2b=R;this.k5b=ea;this.state === p.vt.cq && this.el("setStreamFilters");};la.prototype.Y5b=function(R){(0,w.assert)(-1 === this.xPa.indexOf(R),"Attempted to add the same evaluation hook twice");this.xPa.push(R);};la.prototype.EQc=function(R){return this.sv.SMc(R);};la.prototype.YM=function(R){this.owa(R);};la.prototype.owa=function(R,ea){var ja,sa,ta,qa,Aa,Ga,na,va;ta=this.Z;qa=(0,U.pXc)(ta,R);if(qa.B_){Aa=(0,U.TLb)(ta,R);if(void 0 === Aa){Ga=("Invalid seekPosition after sanitization to ").concat(R.L) + ("(").concat(R.offset.G,"ms)") + (", reason: ").concat(qa.reason);this.Yf({Ti:Ga,J:null === (ja=ta.ba[R.L]) || void 0 === ja?void 0:ja.J});}else if(void 0 === this.Ot || void 0 === this.sr)this.Yf({Ti:"No track selectors available"});else if((ja=!(this.mo && this.player.cw) && (0,U.PSa)(null === (sa=this.tv) || void 0 === sa?void 0:sa.VQb,Aa),this.events.emit("seeking",{type:"seeking",position:R,duplicate:ja}),!ja)){this.LJa=ea;this.Xx?(this.a3a(Aa),this.tpb(R)):this.Ya.empty && ea && (ea=this.player.YK()) && (this.a3a(Aa,{L:ea.K.id,offset:ea.Ld}),this.tpb(R));ea=this.ARa();try{na=ta.ba[Aa.L].J;va=this.Vx().filter(function(xa){return xa.J === na;})[0];this.Jg(m.cO.LBb);this.Vbc();this.tv={position:Aa,VQb:Aa,Xf:!1};this.cAb=g.I.ia;this.bg.K0();null === (Ga=this.Ec) || void 0 === Ga?void 0:Ga.Wi.K0(va,Aa);this.$a=p.vt.cq;this.qq.start();}finally{this.events.emit("seeked",{type:"seeked",position:R});ea.release();}}}else (Ga=("Invalid seekPosition to ").concat(null === R || void 0 === R?void 0:R.L) + ("(").concat(R.offset.G,"ms)") + (", reason: ").concat(qa.reason),this.Yf({Ti:Ga,J:null === (Aa=ta.ba[R.L]) || void 0 === Aa?void 0:Aa.J}));};la.prototype.a3a=function(R,ea,ja,sa,ta){var qa,Aa;void 0 === ja && (ja=!1);void 0 === ta && (ta=!1);Aa=this.Fb.get((null === ea || void 0 === ea?void 0:ea.L) || this.Yg.L);(0,w.assert)(Aa,"currentSegment must exist in workingPlaygraph");null === (qa=this.player.Up) || void 0 === qa?void 0:qa.$wa({K:Aa,Nfa:Aa.Wb},R.L,ea?ea.offset:this.Yg.offset,!1,ja,sa,ta);};la.prototype.tpb=function(R){var ea,ja;if((null === (ea=this.player.YK()) || void 0 === ea?void 0:ea.K.id) === R.L){if((this.Xh.Ybc(R.L),!this.Xh.get(R.L) && this.player.cw)){R=this.player.Ya;ja=this.player.YK();ja && (R=(0,e.cc)(R,function(sa){return sa.parent === ja;})) && this.Xh.set(ja.K.id,null === R || void 0 === R?void 0:R.K.id);}}else this.Xh.GMa();};la.prototype.ARa=function(){var R,ea;R=this;ea=this.Ya.filter(function(ja){return ja.K.J !== f.Br && !ja.ozb;}).map(function(ja){var sa;if(R.sv.lqa(ja.K.J)){sa=R.y$(ja.K.id,ja.K.J);return R.sv.Xq(ja.K.J,sa).ll;}}).filter(g.$c);return new l.SV({name:"playgraphLeases",Nca:function(){ea.forEach(function(ja){return ja.release();});},console:this.console}).Yz();};la.prototype.Jg=function(R){var ea,ja,sa;void 0 === R && (R=m.cO.Gna);this.events.emit("cancelingStreaming",{type:"cancelingStreaming",reason:R});this.bg.stop();sa=this.Vx();this.Ya.reset();if(R === m.cO.Gna && (this.Xh.GMa(),sa.length))try{for(var ta=n.__values(sa),qa=ta.next();!qa.done;qa=ta.next())qa.value.uKb();}catch(Ga){var Aa;Aa={error:Ga};}finally{try{qa && !qa.done && (ea=ta.return) && ea.call(ta);}finally{if(Aa)throw Aa.error;}}this.gd.cd();this.player.reset();this.tv=void 0;this.QC.reset();null === (ja=this.bob) || void 0 === ja?void 0:ja.clear();this.$a === p.vt.cq && (this.$a=p.vt.OPEN);this.events.emit("cancelStreaming",{type:"cancelStreaming",reason:R});};la.prototype.IZ=function(R){return this.Ya.dn(R);};la.prototype.ol=function(R){this.bg.ol(R);(0,w.assert)(this.player.Ak,"Must have an appended branch on underflow");this.player.Umb && this.bg.oo && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),R=this.en(this.Md),this.bg.Pm("complete",R.Q2,R.R2));this.QC.MU(this.player.Ak,this.Md,!0);this.el("onUnderflow");this.events.emit("underflow");};la.prototype.Sc=function(R){this.Ze.Sc(R);};la.prototype.KPc=function(R){(0,w.assert)(!this.Ec,"AdManager already set");this.DF=R;this.DF.Wi.events.addListener("mediaEventsProgress",this.QFc);};la.prototype.aA=function(R){this.Sc(new B.Yfb(R));this.bg.$Fc();return this.rnb(R);};la.prototype.rnb=function(R){var ea;ea=this.player;if(!this.player.c3a(R))return (this.Yf({Ti:"player in use"}),!1);this.player=R;this.gd.Pla(this.player.Na);this.player.events.on("segmentPresenting",this.nB);this.player.events.on("drmReady",this.D0);this.player.yp.addListener(this.JGb);R=this.Asc();0 < R.length && this.player.Vfa(R);this.events.emit("playerChanged",{type:"playerChanged",old:ea,"new":this.player});return !0;};la.prototype.vic=function(){this.mo && (this.player.events.$l("segmentPresenting",this.nB),this.player.events.$l("drmReady",this.D0),this.player.yp.removeListener(this.JGb),this.rnb(new x.Lia(void 0)));};la.prototype.ws=function(R){var ea,ja;ea=R.offset;ja=this.Fb.get(R.L);(0,w.assert)(ja,"segment must exist in workingPlaygraph");R=ja.J;ea=ja.jb.add(ea);return {J:R,Ga:ea};};la.prototype.un=function(R,ea){var ja;ja=this.player.un(R);if(void 0 !== ja)return ja;ja=this.player.Ak;return (0,U.un)(R,{la:this,gwc:ja && ({id:ja.K.id,ePc:ja.Aw})},ea);};la.prototype.FA=function(R,ea){void 0 === ea && (ea=!1);R=this.jaa(R,ea).next();if(!R.done)return (R=R.value,null === R || void 0 === R?void 0:R.xo);};la.prototype.jaa=function(R,ea){var ja,sa,ta,qa,Aa,Ga,na,va,xa,ra,ya,Ca,Ja,Ka;void 0 === ea && (ea=!1);return n.__generator(this,function(La){switch(La.label){case 0:(ja=this.player.jaa(R),sa=ja.next(),La.label=1);case 1:return sa.done?[3,3]:[4,sa.value];case 2:return (La.T(),sa=ja.next(),[3,1]);case 3:if(!ea)return [2];ta={};qa=this.Yg;this.mo && this.player.Wd && (na=this.player.Ak) && (Ga=this.Fb.get(na.K.id)) && (qa={offset:g.I.ia,L:na.K.id},Aa=na.Pb.ea(this.player.Md));Aa || (Ga=this.Fb.get(qa.L),(0,w.assert)(Ga,("currentSegment ").concat(qa.toString()," must exist in workingPlaygraph")),Aa=Ga.jb.add(qa.offset).ea(Ga.Xb));(0,w.assert)(Ga,"Current segment should be defined by here");va=this.Md;if(Ga.Hc && Ga.id !== R.L)return [3,6];if(Ga.id !== R.L)return [3,5];xa=R.offset.ea(qa.offset);return [4,{Nv:xa,xo:va.add(xa)}];case 4:(La.T(),La.label=5);case 5:return [2];case 6:(ra=this.Fb.get(Ga.Hc),(0,w.assert)(ra,("currentSegment.defaultNext must exist in workingPlaygraph ").concat(Ga.Hc," from ").concat(R.L)),ya=this.Fb,Ca=this.Fb.HBb(function(Oa,Na){Oa=ya.get(Na);(0,w.assert)(Oa,"nextSegment must exist in workingPlaygraph");return Oa.Hc;},ra.id),Ja=Ca.next(),La.label=7);case 7:if(Ja.done)return [3,11];Ka=Ja.value;if(ta[Ka.id])return [3,11];ta[Ka.id]=!0;if(Ka.id !== R.L)return [3,9];xa=R.offset.add(Aa);return [4,{Nv:xa,xo:va.add(xa)}];case 8:return (La.T(),[2]);case 9:(Aa=Aa.add(Ka.Wb),La.label=10);case 10:return (Ja=Ca.next(),[3,7]);case 11:return [2];}});};la.prototype.WLb=function(R){return (0,U.TLb)(this.Z,R);};la.prototype.cs=function(R){return (0,P.cs)(this.Z,R.J,R.Ga);};la.prototype.$ub=function(R){var ea,ja,sa,ta;ea=this.Yg;if(this.Z.ba[ea.L].J === R)return ea;if(this.player.Wd){ja=this.player.Ya;sa=ja.indexOf(this.player.yB);if(-1 !== sa)for(;sa < ja.length;sa++){ta=ja[sa];if(ta.K.J === R)return {L:ta.K.id,offset:ta.qa};}}for(ea=this.player.Ak?{L:this.player.Ak.K.id,offset:this.player.Ak.qa}:ea;;){ja=this.Z.ba[ea.L];if(ja.J === R)return ea;if(ja.Hc)ea={L:ja.Hc,offset:g.I.ia};else break;}};la.prototype.Rx=function(R,ea){var ja,sa,ta,qa;void 0 === ea && (ea={Cmb:!1});if(R.J !== f.Br){ta=this.cs(R);ta=this.y$(null === ta || void 0 === ta?void 0:ta.L,R.J);ta=this.sv.Xq(R.J,ta);try{qa=R.Ga;(null === (ja=ta.M) || void 0 === ja?0:ja.Eb) && !ea.Cmb && (qa=(0,I.hwa)(this.console,ta.M.ho(),ta.M,qa));if(void 0 === this.sr)this.Yf({Ti:"No track selectors available"});else return null === (sa=ta.M) || void 0 === sa?void 0:sa.Rx(this.config,qa,this.sr);}catch(Aa){this.console.error(Aa,Aa.stack);}finally{ta.ll.release();}}};la.prototype.fvb=function(R){var ea;ea=this.Rx(R);if(ea)return n.__assign(n.__assign({},R),{Ga:ea.qa});};la.prototype.Epa=function(){return (0,N.kwb)(this.Ya,this.Vqa.bind(this));};la.prototype.Vqa=function(R){R=this.Ya.Jpa(R);return void 0 === R || R.mk && this.Vqa(R);};la.prototype.Dpa=function(){return this.j8.lH;};la.prototype.Tpc=function(R){return (0,V.ryb)(this.Ya,R);};la.prototype.en=function(R){var ja,sa,ta,qa;function ea(Aa){return Aa?Math.max(Aa - R.G,0):0;}ja=this;this.Ya.QK(function(Aa){var Ga,na,va;Ga=Aa.LZ(q.u.X);na=Aa.LZ(q.u.U);va=Aa.LZ(q.u.Da);if(Aa.K.H2 || !ja.Ya.cqa(Aa) || !Aa.mk){if(!sa || Ga < sa)sa=Ga;if(!ta || na < ta)ta=na;if(!qa || va < qa)qa=va;}return Aa.mk;});return {Q2:ea(sa),R2:ea(ta),bQb:ea(qa)};};la.prototype.GSa=function(R){return (R=this.Vr.UL(R))?this.Vr.SH.get(R):void 0;};la.prototype.hR=function(){var R,ea,ja,sa;ja=this.Xx?this.en(this.Md):{Q2:0,R2:0,bQb:0};sa=G.default.instance().get();return {totalabuflmsecs:ja.Q2,totalvbuflmsecs:ja.R2,totaltbuflmsecs:ja.bQb,abuflbytes:0,vbuflbytes:0,tbuflbytes:0,currentBandwidth:null !== (ea=Number(0 < sa.confidence) && (null === (R=sa.kb) || void 0 === R?void 0:R.Fa)) && void 0 !== ea?ea:0};};la.prototype.d_=function(){var R,ea,ja,sa,ta,qa,Aa,Ga;R=this;if(this.jy())return (this.re.ug({isStreamingFailureReported:!0}),[]);ja=this.Ya.size;this.re.ug({branchCount:ja});if(!this.Xx || 0 === ja)return [];sa=this.Md;ta=this.Yg;qa=[];ja=this.Fb.get(this.Yg.L);(0,w.assert)(ja,"presentingSegment must exist in workingPlaygraph");Aa=ja.Wb;Ga=this.Xh.get(ja.id)?1:null !== (ea=ja.Lw) && void 0 !== ea?ea:1;ea=this.Ya.reduce(function(na,va,xa){var ra,ya,Ca,La,Oa,Na,Qa;Ca=va.Cpa();try{for(var Ja=n.__values(Ca),Ka=Ja.next();!Ka.done;Ka=Ja.next()){La=Ka.value;if(!La.qp()){Oa=("p").concat(R.id,"-").concat(xa,"-").concat(null === (ya=va.Tb) || void 0 === ya?void 0:ya.G);Na=R.dtc(La);Qa=new pa.gfb(R,La,Oa,Ga,Aa.G,Na.G,sa.G,ta);na.push(Qa);}!La.iy() && R.re.enabled && qa.push({segmentId:La.L,isDoneStreaming:La.qp(),isNormalized:La.Xf(),needsHeaderRequest:La.track.xca});}}catch(Sa){var Va;Va={error:Sa};}finally{try{Ka && !Ka.done && (ra=Ja.return) && ra.call(Ja);}finally{if(Va)throw Va.error;}}return na;},[]);this.re.ug({nonStreamables:qa});return ea;};la.prototype.dtc=function(R){var ea;ea=R.UZ();if(this.config.XY && ea && (0,k.nUa)(ea.pa.K.Vpa(R.L)))return R.qk;for(;ea && !ea.FYa;)(R=ea,ea=ea.UZ());return R.qk;};la.prototype.Dxb=function(R){var ea;if(!R.pa.Zc){ea=R.pa.K.Hc;if(ea)return (ea=n.__read(this.Ya.dn(ea),1)[0],null === ea || void 0 === ea?void 0:ea.eH(R.mediaType));}};la.prototype.Lta=function(R,ea,ja){var sa,ta,qa;if(!this.d2a.jy()){sa=void 0;try{ta=this.Yg;if(ta){qa=this.Fb.get(ta.L);(0,w.assert)(qa,"currentPosition segment must exist in workingPlaygraph");sa=qa.J;}}catch(Aa){this.console.error("Error getting viewableId for buffering timeout",Aa,"state:",this.bg.state.value,"hasPlayer:",this.mo,"hasPosition:",this.player.Wd,"branches:",JSON.stringify(this.player.Ya));}this.Yf({Ti:R,J:sa,iD:ea,PH:null === ja || void 0 === ja?void 0:ja.bh,xk:null === ja || void 0 === ja?void 0:ja.xk,Qg:null === ja || void 0 === ja?void 0:ja.Qg});}};la.prototype.Yf=function(R){this.d2a.Yf(R);return !0;};la.prototype.k3a=function(R,ea){ea=this.Bpa(ea,R);this.events.emit("logdata",{type:"logdata",target:R,fields:ea});};la.prototype.Bpa=function(R,ea){void 0 !== R && this.O_.nzc(R);ea=this.Ze.Ch(R,ea);R === z.Lc.Kj && (R=this.hR(),ea.vbuflmsec=R.totalvbuflmsecs,ea.abuflmsec=R.totalabuflmsecs,ea.vbuflbytes=R.vbuflbytes,ea.abuflbytes=R.abuflbytes,ea.audioSwitchability=this.Ltc());return ea;};la.prototype.Ltc=function(){var R;R=this;this.Vx().forEach(function(ea){var ja;ja=ea.J;-1 !== ja && void 0 !== ea.CX && (R.jVa[ja]=ea.CX);});return this.jVa;};la.prototype.URa=function(){return this.Ze.FQa();};la.prototype.cRb=function(R){this.j8=R;this.el("updateBudget");};la.prototype.jy=function(){return this.d2a.jy();};la.prototype.H3a=function(R){R !== this.weight && (this.rlb=R,this.events.emit("weightUpdated"));};la.prototype.TU=function(R){var ea,ja,sa;ea=this;ja=this.Fac(R.Z);if(ja.success){this.player.ada(function(){ea.jNb(R.pX(ea.Vr));});sa=this.player.Ak;sa && (this.Xh.upb(sa.K.id),this.QC.MU(sa,this.Md,!0));this.qq.start();}else this.re.ug({current:this.Fb.Z,target:R.Z,result:ja});return ja;};la.prototype.HN=function(R){R=f.Iz.update(this.Vr,R);return this.TU(R);};la.prototype.Fac=function(R){var ea,ja,sa,ta,qa,Aa,Ga,na,va,ya,Ca,Ja,Ka,La,Oa,Na,Qa,Va;Aa=(0,Z.gac)(this.Z,R);Ga=Aa.Ny;na=Aa.tq;va=Aa.LVc;if([Aa.oX,Ga,na].every(function(Xa){return !Xa.length;}))return {success:!0,reason:q.kx.m_b};if(0 === na.length && 0 === va.length && this.mo && this.player.Wd)return {success:!1,reason:q.kx.jZb,L:null === (ta=this.Yg) || void 0 === ta?void 0:ta.L};ta=this.player.Ya.filter(function(Xa){return -1 < Ga.indexOf(Xa.K.id);});if(0 < ta.length)return {success:!1,reason:q.kx.C0b,L:ta[0].K.id};if(this.Xx && !this.player.Wd && -1 < Ga.indexOf(this.hm.L))return {success:!1,reason:q.kx.UXb,L:this.hm.L};if(this.Xx)try{for(var xa=n.__values(na),ra=xa.next();!ra.done;ra=xa.next()){ya=ra.value;Ca=this.Z.ba[ya];Ja=R.ba[ya];Ka=Ca.cb;La=Ca.J;Oa=Ja.cb;Na=Ja.Ta;Qa=Ja.J;if(this.Yg.L === ya && Oa !== Ka){if(!Oa)return {success:!1,reason:q.kx.D0b,L:ya};Va=g.I.Ca(Oa - Na + 1);if(null === (qa=this.Yg.offset) || void 0 === qa?0:qa.greaterThan(Va))return {success:!1,reason:q.kx.kTb,L:ya};}if(La !== Qa)return {success:!1,reason:q.kx.sWb,L:ya};try{for(var Sa=(ja=void 0,n.__values(this.Ya.dn(ya))),Ta=Sa.next();!Ta.done;Ta=Sa.next())if(!Ta.value.VX(Ja))return {success:!1,reason:q.kx.rWb,L:ya};}catch(Xa){ja={error:Xa};}finally{try{Ta && !Ta.done && (sa=Sa.return) && sa.call(Sa);}finally{if(ja)throw ja.error;}}}}catch(Xa){var bb;bb={error:Xa};}finally{try{ra && !ra.done && (ea=xa.return) && ea.call(xa);}finally{if(bb)throw bb.error;}}return {success:!0,reason:q.kx.l_b};};la.prototype.ho=function(R){var ea;ea=n.__read(this.Vx().filter(function(ja){return ja.J === R;}),1)[0];if(ea)return ea.ho();};la.prototype.kxb=function(){var R,ea;ea=Infinity;try{for(var ja=n.__values(this.Ya),sa=ja.next();!sa.done;sa=ja.next())ea=Math.min(ea,sa.value.Yxb());}catch(qa){var ta;ta={error:qa};}finally{try{sa && !sa.done && (R=ja.return) && R.call(ja);}finally{if(ta)throw ta.error;}}return ea;};la.prototype.lxb=function(){var R,ea;ea=Infinity;try{for(var ja=n.__values(this.Ya),sa=ja.next();!sa.done;sa=ja.next())ea=Math.min(ea,sa.value.Spa());}catch(qa){var ta;ta={error:qa};}finally{try{sa && !sa.done && (R=ja.return) && R.call(ja);}finally{if(ta)throw ta.error;}}return ea;};la.prototype.jNb=function(R){var ea;ea={type:"playgraphUpdating",Hta:this.Fb.Z,hta:R.Z};this.Vr=R;this.PWc();this.events.emit("playgraphUpdating",ea);};la.prototype.PWc=function(){var R,ea,ja,sa,ta;ja=this.player && this.mo && this.player.Wd?this.Yg:void 0;if(ja){sa=this.Fb.get(ja.L);(0,w.assert)(sa,"currentPosition segment must exist in workingPlaygraph");ja=null === (R=this.player.Up) || void 0 === R?void 0:R.Una;if((R=this.ORa(sa)) && R !== ja && this.player.cw){ta=this.player.yB;null === (ea=this.player.Up) || void 0 === ea?void 0:ea.$wa({K:ta.K,get Nfa() {return ta.ta.ea(ta.K.jb);}},R,this.Yg.offset,!0,!1,void 0);}}};la.prototype.RH=function(R,ea){var ja;this.LKb(R);R.PQ.addListener("criticalNetworkError",this.Mta);R.PQ.addListener("temporaryNetworkError",this.N0);R.PQ.addListener("requestError",this.N0);R.PQ.addListener("updatingLastSuccessEvent",this.Xta);ja=1 >= this.Vx().filter(function(sa){return sa === R;}).length;R.events.addListener("logdata",this.Bta);R.events.addListener("asereportconfigoverrides",this.tta);R.events.addListener("liveEventTimesUpdated",this.xta);R.events.addListener("liveLoggingInfoUpdated",this.yta);R.events.addListener("livePostplayUpdated",this.zta);R.Eb && ja && (R.pJb(),R.OL && R.OL.Sc(this.Ze),this.nya.Lvc(R.Ze,R.R));ja=this.$r.ERa(R);ja.Av === this.config.Av && ja.$z === this.config.$z && ja.dK === this.config.dK || this.events.emit("asereportconfigoverrides",{type:"asereportconfigoverrides",Av:ja.Av,$z:ja.$z,dK:ja.dK});this.$a === p.vt.cq && ea && this.pea();};la.prototype.bYa=function(R){var ea;ea=0 === this.Ya.filter(function(ja){return ja.Wl && ja.M === R;}).length;this.jVa[R.J]=R.CX;ea && (this.LKb(R),this.nya.GKb(R.Ze));};la.prototype.LKb=function(R){R.PQ.removeListener("criticalNetworkError",this.Mta);R.PQ.removeListener("temporaryNetworkError",this.N0);R.PQ.removeListener("updatingLastSuccessEvent",this.Xta);R.events.removeListener("logdata",this.Bta);R.events.removeListener("asereportconfigoverrides",this.tta);R.events.removeListener("liveEventTimesUpdated",this.xta);R.events.removeListener("liveLoggingInfoUpdated",this.yta);R.events.removeListener("livePostplayUpdated",this.zta);this.nya.GKb(R.Ze);};la.prototype.Rlb=function(R){var ea;(0,w.assert)(R.Xf,"expected branch to be normalized on addBranchToPlayer");this.player.cw || (null === (ea=this.tv) || void 0 === ea?0:ea.Xf) || this.pnc(R);this.bg.Yfa(R.ka);this.player.cw && (ea=this.player.Ak) && this.Xh.clear(ea.K.id);this.player.iZ(R);this.events.emit("branchEnqueued",{pa:R,type:"branchEnqueued"});this.QC.MU(R,this.Md);};la.prototype.pnc=function(R){var ea,ja;(0,w.assert)(R.qa,"Normalized branch should have a defined content start timestamp");(0,w.assert)(this.tv,"AsePlaygraph should have a seek position on first branch normalization");(0,w.assert)(!this.tv.Xf,"Seek position should not already be normalized on first branch normalization");ea=R.M;ja=this.Fb.get(R.K.id);(0,w.assert)(ja,"WorkingSegment for a normalized branch must exist");if(!ja.qn)if(ea.Eb)this.ota(R);else {if(void 0 === this.Ot || void 0 === this.sr){this.Yf({Ti:"No track selectors available"});return;}this.Fb.normalize(ea.J,ea.pta.bind(ea,[this.Ot,this.sr,this.WB]));}this.tv=n.__assign(n.__assign({},this.tv),{position:{L:ja.id,offset:R.qa.ea(ja.jb)},Xf:!0});this.bg.PPc(this.tv.position,R.ka.filter(function(sa){return sa.mediaType === q.u.X;})[0]);};la.prototype.ota=function(R){var ea,ja;ea=n.__read(R.ka,1)[0];(0,w.assert)((0,O.po)(ea),"Expected primary track to be live");(0,w.assert)(R.M.Oc,"Expected live viewable with position service");ea=(0,I.mea)(this.console,this.config,R.M,R.K.Xb) || g.I.dh;ja=R.parent || R.K.jb.JS(g.I.ia)?g.I.dh:R.M.Oc.ho(!1);ja=(0,I.hwa)(this.console,ja,R.M,g.I.Ca(R.K.Ta));this.Fb.ota(R.K.id,ja,ea);this.pea();};la.prototype.Vbc=function(){var R;this.QC.reset();this.player.pK();this.tv=void 0;null === (R=this.bob) || void 0 === R?void 0:R.clear();};la.prototype.kyc=function(R,ea,ja){ea=this.XOb.oG(ea,R.ml.mediaType,1 > ja || !R.ml.pa.Zc && !this.Vqa(R.ml.pa));1 === ja && "global" === (0,q.bKb)(ea.reason) && this.bg.FFc(R.ml.mediaType,this.en(this.Md));return ea;};la.prototype.CL=function(R){var ea,ja,sa,ta,qa,Aa,Ga,na,va,xa,ra,ya;R=R.ml;ta=R.mediaType;qa=this.RSa.sMb(this.ke.value,this.Md,R.wI,R.mxa,this.player.playbackRate,R,this.bg.sY,this.T8b,this.lya,this.L7);Aa=qa.stream;Ga=qa.BE;na=qa.n_;va=qa.Sy;xa=qa.sn;ra=qa.reason;ya=qa.Pub;qa=qa.vMb;if(!Aa)return {Ef:!1,reason:ra || "selectLocationsAndStream"};if(void 0 === this.sr)return (this.Yf({Ti:"No track selectors available"}),{Ef:!1,reason:"noTrackSelectors"});if(R.qp())return {Ef:!1,reason:"pipelineDoneStreaming"};if(this.ke.value === q.Sd.cq && R.pa && R.pa.M.np && !R.pa.M.ZAb(this.sr) && !this.player.Raa(R.pa.M.J)){ra=R.wI.G - this.Md.G;if(!R.pa.M.Uv && ra > this.config.WDb)return {Ef:!1,reason:"maxBufferingCompleteBufferInMs"};if(!Aa.yk && Aa.mediaType === q.u.U && ra >= this.config.qsa)return {Ef:!1,reason:"maxFastPlayBufferInMs"};}ra=q.u.U;if(null === (ea=R.pa) || void 0 === ea?0:ea.ka.every(function(Ca){return Ca.mediaType === q.u.X;}))ra=q.u.X;this.bg.oo && ta === ra && this.bg.iQc(R.Op.uwa,Aa.bitrate,na);if(this.config.JCb && R.pa.M.zD && R.mxa.lessThan(R.pa.M.o$()))return (R.pa.events.emit("requestSeekToLiveEdge",{type:"requestSeekToLiveEdge"}),{Ef:!1,reason:"behindSegmentAvailabilityWindow"});this.$Pc(R.pa.K,Ga);ea=null === (ja=R.pa.ez) || void 0 === ja?void 0:ja.G;ja=R.m3a(Aa,xa,va);ja.Ef?(this.HIa && (this.UW("firstDriveStreaming"),this.HIa=!1),0 < this.FK && (Aa=null === (sa=R.pa.ez) || void 0 === sa?void 0:sa.G,ea && Aa && (this.FK-=ea - Aa,0 >= this.FK && this.pea())),this.events.emit("requestIssued",{type:"requestIssued",nativetime:h.platform.time.ha(),mediaType:ta,result:qa,streamList:ya,segmentId:R.pa.K.id})):"waitingOnMediaEvents" === ja.reason && ((0,w.assert)(this.Ec,"waitingOnMediaEvents requires adManager"),this.Ec.Wi.ADc(R.pa.M.J,R.wI,R.mxa));return ja;};la.prototype.wQc=function(R){this.config.enableCprVideo=R;};la.prototype.$Pc=function(R,ea){var ja;ja=this;ea.forEach(function(sa){sa.M.VMb(sa,R,function(){var ta,qa;(0,w.assert)(ja.Xx,"Speculative header callback after streaming is cancelled");ta=ja.Md.G;qa=ta + ja.config.i0;return {jh:[],ke:ja.bg.state.value,Du:qa,Eo:qa,hp:ta};});});};la.prototype.pea=function(){var R;R=this;return new Promise(function(ea){R.qq.rga(ka.eJ.dF,function(){R.qq.start();R.qq.rga(ka.eJ.OO,ea);});});};la.prototype.k_a=function(){var R,ea,ja,sa,ta;R=this;if(this.$a === p.vt.cq){ea=this.Yg;ja=this.player.Ya;sa=this.Ya.ztc();ta=n.__read(ja,1)[0];ea=ta?this.Fb.get(ta.K.id):this.Fb.get(ea.L);(0,w.assert)(ea,"startSegment must exist in workingPlaygraph");ja=ja.map(function(qa){return {id:qa.K.id,duration:qa.Pb.ea(qa.Tb).G};});sa=(0,W.k_a)(this.console,this.Fb.Kyb,ea,sa,this.Xh,ja,g.I.Ca(this.config.O9b),this.config.MWa,g.I.Ca(this.config.KLa));ja=sa.wE;this.FK=sa.FK || 0;sa=this.xPa.reduce(function(qa,Aa){var Ga;Ga=Aa(qa.wE);Aa=Ga.UU;Ga=Ga.wE;qa.UU || (qa.UU=Aa);qa.wE=Ga;return qa;},{UU:!1,wE:ja});this.THb=sa.UU;this.Ya.dWc(sa.wE,function(qa,Aa){var Ga,na;na=R.Fb.get(qa);(0,w.assert)(na,"segment must exist in workingPlaygraph");qa=qa === R.hm.L?R.hm.offset:qa === (null === (Ga=R.LJa) || void 0 === Ga?void 0:Ga.L)?R.LJa.offset:g.I.ia;Ga=na.jb.add(qa);return R.wVc(na,Ga,Aa);},this.console).Ny.forEach(function(qa){qa.Jg("aborted");});this.l_a();sa.UU || this.$ob();this.qq.rga(ka.eJ.dF,function(){var qa;(null === (qa=R.Ya.root()) || void 0 === qa?0:qa.Wl) && R.el("reevaluateBranches");R.qq.kca(ka.eJ.OO);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};la.prototype.Vx=function(){var R,ea,ta;ea=[];try{for(var ja=n.__values(this.Ya),sa=ja.next();!sa.done;sa=ja.next()){ta=sa.value;ta.Wl && (ea.push(ta.M),ta.M.Xj && ea.push(ta.M.Xj));}}catch(Aa){var qa;qa={error:Aa};}finally{try{sa && !sa.done && (R=ja.return) && R.call(ja);}finally{if(qa)throw qa.error;}}return (0,e.dLa)(ea);};la.prototype.toString=function(){return ("AsePlaygraph(state: ").concat(this.$a,", branches: ").concat(this.Ya.size,")");};la.prototype.toJSON=function(){return {state:this.$a,Ya:this.Ya.size};};la.prototype.l_a=function(){var R,ea;R=this;if(this.$a === p.vt.cq){if(!this.player.Ak){ea=n.__read(this.Ya.dn(this.hm.L),1)[0];(null === ea || void 0 === ea?0:ea.Xf) && this.Rlb(ea);}if(this.player.Ak){for(;;){ea=this.Swb(this.player.Ak.K);if(!ea)break;ea=n.__read(this.Ya.dn(ea).filter(function(ja){return ja.parent === R.player.Ak;}),1)[0];if(!ea)break;if(null === ea || void 0 === ea || !ea.Xf)break;else if(ea.M.Eb && !ea.hQ())break;else if(this.player.Vyb(ea))break;this.Rlb(ea);}this.QC.MU(this.player.Ak,this.Md);}}};la.prototype.p9=function(){return this.yIa;};la.prototype.ORa=function(R){var ea,ja,sa,ta;if(this.player.cw){ea=this.player.yB;ja=!1;sa=this.player.Ya.filter(function(qa){ja || (ja=qa === ea);return ja;});ta=(0,e.Mm)(sa,function(qa){return qa.K.id === R.id;});if(sa=sa[ta + 1])return sa.K.id;}return this.Swb(R,!1);};la.prototype.Swb=function(R,ea){var ja;void 0 === ea && (ea=!0);ja=this.Xh.get(R.id);if(ja)return ja;if(!ea && 1 === R.DE)return R.lB[0];};la.prototype.$ob=function(){var R;R=this.Ya.empty || 0 !== this.Boc();R || this.nxa?R && this.nxa && (this.nxa=!1):(this.bg.oo && (R=this.en(this.Md),this.bg.Pm("complete",R.Q2,R.R2)),this.b4b(),this.nxa=!0);};la.prototype.Boc=function(){return this.Ya.filter(function(R){return !R.mk;}).length;};la.prototype.ykb=function(R){this.Vqa(R) && this.bg.yMa(this.Md,this.player.playbackRate,R,{Fma:this.RSa.Fma.bind(this.RSa,this.XOb)});};la.prototype.pFc=function(R,ea){var ja,sa,ta;ja=this;if(ea.didNormalizeSegment){ea=R.M;sa=this.Fb.get(R.K.id);(0,w.assert)(sa,"WorkingSegment for a normalized branch must exist");if(ea.Eb)this.ota(R);else {if(void 0 === this.Ot || void 0 === this.sr){this.Yf({Ti:"No track selectors available"});return;}this.Fb.normalize(ea.J,ea.pta.bind(ea,[this.Ot,this.sr,this.WB]));}ta=ia.Ggb.Ntc(R,this.console,this.config);(0,w.assert)(ta,"Segment should be normalized");Promise.resolve().then(function(){return ja.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:sa.id,normalizedStart:sa.jb,normalizedEnd:sa.Xb,viewableContentEnd:ta.rSb,viewableEarliestContentEnd:ta.sSb,media:d(R.ka)});});}Promise.resolve().then(function(){ja.l_a();});this.el("branchNormalized");};la.prototype.qFc=function(){this.THb || this.$ob();};la.prototype.oFc=function(){this.qq.start();};la.prototype.AXa=function(R){this.dRb(R);};la.prototype.Kta=function(R,ea){var ja,sa,ta,qa;ta=ea.MGc;ea=ea.HGc;qa=R.M;ta.equal(R.K.jb) || (null === (ja=qa.fh) || void 0 === ja?void 0:ja.LGb(ta,R.K.jb));ea.equal(R.K.Xb) || (null === (sa=qa.fh) || void 0 === sa?void 0:sa.LGb(ea,R.K.Xb));};la.prototype.Ngc=function(R,ea){var ja;ja=this;return new r.y6a(R.J,this.sv,function(sa,ta,qa,Aa,Ga){ja.state !== p.vt.CLOSED && (ja.events.emit("branchViewableReceived",{type:"branchViewableReceived",K:R,M:ta,iw:qa,K_a:Aa,B8b:Ga}),ja.RH(ta,Ga),ja.qq.rga(ka.eJ.OO,function(){sa.Zc || ja.jJa(sa,ta,ea,ta.S);}));},function(sa,ta,qa,Aa){var Ga,na;ja.state !== p.vt.CLOSED && (sa=(null === (Ga=sa.parent) || void 0 === Ga?void 0:Ga.M.Xj) || (null === (na=sa.parent) || void 0 === na?void 0:na.M),ja.events.emit("branchViewableFailed",{type:"branchViewableFailed",K:R,Xj:sa,J:R.J,iw:qa,K_a:Aa,error:ta}));},this.bYa.bind(this),this.y$.bind(this,R.id,R.J));};la.prototype.wVc=function(R,ea,ja){var sa,ta,qa;if(this.Qbc(R,ea))throw Error("Not implemented");ta=this.Ngc(R,!ja);qa=ja?ja.Pb.ea(ea):this.cAb || g.I.ia;R=(0,u.cdc)({config:this.config,console:this.console,K:R,events:this.events,bN:this.bN,Iq:ea,Ld:qa,Cq:this.Zgc.bind(this),ke:this.ke,gd:this.gd,eC:ta,gZa:this.Ya,Bj:this.Bj});R.Wl && (null === (sa=R.M) || void 0 === sa?void 0:sa.J) === f.Br && this.jJa(R,(null === ja || void 0 === ja?0:ja.Wl)?ja.M:{VL:[0,0]},!ja);this.xTc(R,!!ja);return R;};la.prototype.Zgc=function(){return this.Md.G;};la.prototype.xTc=function(R,ea){var ja,sa;ja=this;R.ON.then(function(){var ta,qa;if(!R.Zc){ta=R.M;qa=ja.Fb.get(R.K.id);qa && !qa.qn && qa.type === f.pd.padding && (void 0 === ja.Ot || void 0 === ja.sr?ja.Yf({Ti:"No track selectors available"}):ja.Fb.normalize(ta.J,ta.pta.bind(ta,[ja.Ot,ja.sr,ja.WB])));}});sa=new c.kf();sa.addListener(R.events,"needsRequest",function(){var ta;ta=ja.Ya.root();ta && !ta.Wl || ja.el("branchNeedsHeader");});sa.addListener(R.events,"branchNormalized",this.pFc.bind(this,R));sa.addListener(R.events,"lastRequestIssued",this.oFc.bind(this,R));sa.addListener(R.events,"contentStartFinalized",function(){ja.l_a();});sa.addListener(R.events,"branchStreamingComplete",this.qFc.bind(this,R));sa.addListener(R.events,"checkBufferingProgress",this.ykb.bind(this,R));sa.addListener(R.events,"branchEdited",this.AXa.bind(this,R));sa.addListener(R.events,"branchOffsetUpdated",function(ta){var qa;R.Wl && R.M.Eb && R.M.fh && (null === (qa=ja.Ec) || void 0 === qa?void 0:qa.Wi.Mnc(R.M,ta.Ld));});sa.addListener(R.events,"branchTimestampsChanged",this.Kta.bind(this,R));sa.addListener(R.events,"branchDestroyed",function(ta){var qa;sa.clear();ja.Ya.contains(R) && (ja.Ya.DMc(R),ja.qq.start());qa=ja.player.Vyb(R);ja.qq.rga(ka.eJ.dF,function(){"aborted" !== ta.reason || qa || ja.a4b(R.K.id);ja.Y3b(R,ta.reason);});ta.M && ta.M.kn && ja.Fb.DKb(ta.M.J);});sa.addListener(R.events,"liveMissingSegment",function(ta){ja.events.emit("liveMissingSegment",ta);});sa.addListener(R.events,"requestSeekToLiveEdge",function(ta){ja.events.emit("requestSeekToLiveEdge",ta);});ea || (this.UW("createDlTracksStart"),R.events.once("requestQueuesCreated",function(){ja.UW("createDlTracksEnd");}));};la.prototype.Kxb=function(R){if(this.player.Wd)return this.player.yB.me(R);};la.prototype.bN=function(R,ea,ja,sa){ea=[[q.u.X,ea || this.Ot,"audio_tracks"],[q.u.U,ja || this.sr,"video_tracks"]].map(function(ta){var qa,Aa;qa=n.__read(ta,3);Aa=qa[0];ta=qa[1];qa=qa[2];if(R.S && ((0,w.assert)(ta,("Expected mediaType ").concat(Aa," track selector to be defined")),Aa=R.S[qa],ta=ta.cU(R.S,Aa),void 0 !== ta && 0 <= ta && ta < Aa.length))return R.getTrackById(Aa[ta].ot);}).filter(e.SFb);ja=sa || this.WB;R.S && ja && (sa=R.S.timedtexttracks,ja=ja.cU(R.S,sa),void 0 !== ja && 0 <= ja && ja < sa.length && (sa=R.getTrackById(sa[ja].id)) && ea.push(sa));return ea;};la.prototype.Asc=function(){var R,ea;R=this;ea=new Set();this.Vx().forEach(function(ja){R.bN(ja,R.Ot,R.sr,R.WB).forEach(function(sa){return ea.add(sa.mediaType);});});return Array.from(ea).sort();};la.prototype.Jea=function(){return this.config.iba && this.Vx().every(function(R){return !R.Eb;});};la.prototype.Bta=function(R){this.events.emit("logdata",R);};la.prototype.tta=function(R){this.events.emit("asereportconfigoverrides",R);};la.prototype.xta=function(R){var ea,ja,sa,ta;ea=this;ja=R.M;sa=R.startTime;ta=R.endTime;this.Ya.filter(function(qa){return qa.Wl && qa.M === ja;}).forEach(function(qa){qa={type:"liveEventTimesUpdated",L:qa.K.id,startTime:sa,endTime:ta};ea.events.emit(qa.type,qa);});};la.prototype.yta=function(R){var ea,ja,sa,ta;ea=this;ja=R.M;sa=R.mediaType;ta=R.info;this.Ya.filter(function(qa){return qa.Wl && qa.M === ja;}).forEach(function(qa){qa={type:"liveLoggingInfoUpdated",L:qa.K.id,mediaType:sa,info:ta};ea.events.emit(qa.type,qa);});};la.prototype.zta=function(R){R={type:"livePostplayUpdated",J:R.M.J,lda:R.lda,action:R.action};this.events.emit(R.type,R);};la.prototype.jJa=function(R,ea,ja,sa){var ta,qa;ta=R.ka.filter(function(Aa){return Aa.mediaType === q.u.X;});if(ta.length)qa=ta[0].trackId;R={type:"segmentStarting",segmentId:R.K.id,contentOffset:R.Ld.G,contentStartPts:R.qa.G,maxBitrates:{audio:ea.VL[q.u.X],video:ea.VL[q.u.U]},media:d(R.ka),initial:ja,manifest:sa,audioTrackId:qa,branchId:R.HX};(0,T.N7b)(R,["manifest"]);this.events.emit(R.type,R);};la.prototype.a4b=function(R){R={type:"segmentAborted",segmentId:R};this.events.emit(R.type,R);};la.prototype.Y3b=function(R,ea){R={type:"branchDestroyed",branchId:R.HX,segmentId:R.K.id,allMediaAppended:R.uX,reason:ea};this.events.emit(R.type,R);};la.prototype.b4b=function(){var R;R={type:"streamerEnd",time:h.platform.time.ha()};this.events.emit(R.type,R);};la.prototype.UW=function(R){R={type:"startEvent",event:R,time:h.platform.time.ha()};this.events.emit(R.type,R);};la.prototype.y$=function(R,ea){if(R && (R=this.JR.Fb.UL(R)))return (R=this.JR.Fb.SH.get(R),(R=null === R || void 0 === R?void 0:R.J) && String(R) !== String(ea)?{Uf:{fd:R}}:void 0);};n.__decorate([oa.return.ai()],la.prototype,"hm",null);n.__decorate([oa.return.ai()],la.prototype,"Yg",null);n.__decorate([(0,F.gb)({methodName:"checkCanSetTracks",return:!0})],la.prototype,"ebc",null);n.__decorate([(0,F.gb)({methodName:"setTracks",return:!0})],la.prototype,"Vy",null);n.__decorate([(0,F.gb)({methodName:"setNextSegment",Lm:!0})],la.prototype,"Dn",null);n.__decorate([(0,F.gb)({methodName:"seekStreaming"}),n.__param(0,oa.ai())],la.prototype,"YM",null);n.__decorate([(0,F.gb)({methodName:"seekStreamingWithEntryPoint"}),n.__param(0,oa.ai()),n.__param(1,oa.ai()),n.__param(1,oa.WD)],la.prototype,"owa",null);n.__decorate([oa.L()],la.prototype,"IZ",null);n.__decorate([oa.return.L8(),n.__param(0,oa.ai())],la.prototype,"ws",null);n.__decorate([oa.return.ai(),oa.return.WD],la.prototype,"un",null);n.__decorate([n.__param(0,oa.ai())],la.prototype,"FA",null);n.__decorate([n.__param(0,oa.ai())],la.prototype,"jaa",null);n.__decorate([oa.return.ai(),oa.return.WD,n.__param(0,oa.ai())],la.prototype,"WLb",null);n.__decorate([oa.return.ai(),oa.return.WD,n.__param(0,oa.L8())],la.prototype,"cs",null);n.__decorate([oa.return.ai(),oa.return.WD],la.prototype,"$ub",null);n.__decorate([n.__param(0,oa.L8())],la.prototype,"Rx",null);n.__decorate([oa.return.L8(),oa.return.WD,n.__param(0,oa.L8())],la.prototype,"fvb",null);n.__decorate([(0,F.gb)({methodName:"getStreamables",Te:!0})],la.prototype,"d_",null);n.__decorate([(0,F.gb)({methodName:"updateWorkingPlaygraph",return:!0})],la.prototype,"TU",null);n.__decorate([(0,F.gb)({methodName:"updatePlaygraphMap",return:!0})],la.prototype,"HN",null);return la;})();b.sza=a;},14430:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.M4a=void 0;d=a(57966);b.M4a=(function(){return function(n,c,f,g,e,h,k){this.config=n;this.console=c;this.ya=f;this.Dd=g;this.Vn=e;this.Sh=h;this.Clb=new d.P4a(this.config,this.console,this.ya,this.Dd,this.Vn,this.Sh,k);this.ya.Y5b(this.Clb.Qlc.bind(this.Clb));};})();},14314:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.N4a=void 0;d=a(91176);t=(function(){function n(c,f){this.console=c;this.config=f;}n.prototype.H9=function(c,f){var g,e;g=this;if(!c.Eb || null === (e=c.Jd) || void 0 === e || !e.Ij)return f;f.lb=f.lb.map(function(h,k){var l,m,p,q,r;if(!h.Kb)return h;p=null === (l=h.Hk) || void 0 === l?void 0:l.add(d.I.Ca(g.config.X6b));l=0 < h.Kb.length?h.Kb.reduce(function(u,v){return u.add(d.I.Ca(v.cb - v.Ta));},d.I.ia):h.duration;if(p && p.lessThan(l)){h.B2a=!0;q=p.G;r=!1;null === (m=h.Kb) || void 0 === m?void 0:m.forEach(function(u){var v,w,x;w=u.$o;if(r)u.$o=!0;else {x=u.cb - u.Ta;q >= x?q-=x:r=u.$o=!0;}w !== u.$o && g.console.log("Ad skipped due to early termination",{Mlb:u.id,Yb:k,fb:h.fb,Hk:null === (v=h.Hk) || void 0 === v?void 0:v.ca()});});}return h;});return f;};return n;})();b.N4a=t;},57966:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.P4a=void 0;d=a(79048);n=a(66164);c=a(91176);f=a(48170);g=a(52571);t=(function(){function e(h,k,l,m,p,q,r){this.config=h;this.console=k;this.ya=l;this.Dd=m;this.Vn=p;this.Sh=q;this.RXc=r;this.console=(0,c.Gf)(n.platform,this.console,"ADBREAKHYDRATIONPOLICY");}e.prototype.Qlc=function(h){var k,l,m,p,q,r,u,v;k=this;l=!1;if(!this.Dd.aw())return {UU:l,wE:h};m=!0;p=[];q=[];u=this.ya.JR.Fb;h.QK(function(w,x){var y,A,z,B,C,D;if(!(x || !w.K.wxc || k.Rxc() && k.Dd.JNb(k.ya.hm)))return (k.console.trace("Hydration: Not checking root segment"),!0);A=u.get(w.K.id);(0,g.assert)(A,"Hydration: Segment must be present in innermost playgraph");z=A.J;B=!1;if(A.type && -1 < [d.pd.Rc,d.pd.padding].indexOf(A.type))B=!0;else {C=u.DH(A.id);C && (C=k.ya.Fb.get(C)) && C.J !== A.J && (k.console.trace("Hydration: segment evaluated is a content playgraph modification, get viewableId from equivalent segment. " + ("auxiliary viewableId: ").concat(A.J,", ") + ("main content viewableId: ").concat(C.J)),z=C.J);}if(B){if((B=k.GSa(A),C=k.ya.Fb.hWa({offset:c.I.ia,L:A.id}),f.l && k.console.log("Checking Parent location for adBreak",{L:A.id,startTime:A.Ta,bfd:null === B || void 0 === B?void 0:B.id,Red:null === C || void 0 === C?void 0:C.offset.ca()}),B && C)){z=B.J;D=k.Sh.$oa(z,C.offset.add(B.jb));}}else (f.l && k.console.log("Checking current location for adbreak",{L:A.id,startTime:A.Ta}),D=k.Sh.$oa(z,A.jb));D && f.l && k.console.log("Found adbreak at location",{startTime:A.Ta,L:A.id,Qm:D.Qm,ff:D.ff,bi:D.bi});if(D && !D.bi){f.l && k.console.log("Found adbreak at location",{startTime:A.Ta,L:A.id,Qm:D.Qm,ff:D.ff});B=k.xqc(D,A);C=B.dM;f.l && k.console.log("Got hydration context",{L:A.id,context:B});if(B.Qm)if(D.k2)k.console.trace("Hydration: Ignore skippable unhydrated ad break");else if((A=null === (y=null === x || void 0 === x?void 0:x.pa) || void 0 === y?void 0:y.duration,k.Dd.Uyc && A && 5E3 > A))(k.console.trace("Hydration: Skipping unhydrated ad break too close to previous"),C=!0);else {if(m && 0 === q.length || r === x)(q.push({J:z,Sa:D,Naa:B.Naa}),r=x);if(B.Naa)return (p.push(w),!1);}C && (f.l && k.console.log("marking MissedOpportunity"),D.dM=!0);f.l && k.console.log("Not Blocking branch progression");m=!1;if(B.Naa)return (f.l && k.console.log("Hydration: Blocking further branches"),!1);}else f.l && k.console.log("Could not find adbreak for segment",{startTime:A.Ta,L:A.id});return !0;});l || (l=0 < p.length);p.forEach(function(w){return h.remove(w);});this.Vn.j0a(q);if(this.config.xMc && h.root){v=u.get(h.root.K.id);(0,g.assert)(v,"root segment must exist in innermost playgraph");(v=this.Sh.$oa(v.J,v.jb)) && v.k2 && (v.k2=!1);}return {UU:l,wE:h};};e.prototype.GSa=function(h){h=this.ya.Fb.UL(h.id);return this.ya.Fb.SH.get(h);};e.prototype.xqc=function(h,k){var l,m,p,q,r,u;p=this.ya.oo;q=h.LNb;r=h.LNb;u=!1;(k=this.GSa(k)) && q && (k=this.RXc.get(k.J),(0,g.assert)(k,"AdBreakHydrationPolicy::getHydratableContext: main aseViewable should exist"),k.Eb && (null === (m=null === (l=k.S) || void 0 === l?void 0:l.Jd) || void 0 === m?0:m.Ij) && (r && (r=p),this.config.Aac || r || (m=k.Oc,l=c.I.Ca(m.il(!0)),m=m.lNa(l),p=l.G - h.Ga.G,p < this.config.Rzc && (r=q=!1,u=!0,f.l && this.console.log("Hydration: Too close to live edge",{WVa:new Date(m.G),dad:p,mad:l.ca(),Sa:h.Ga.ca()})))));return {Qm:q,Naa:r,dM:u};};e.prototype.Rxc=function(){return !this.ya.player.cw && this.ya.oo;};return e;})();b.P4a=t;},31300:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.Q4a=b.Dlb=void 0;d=a(22970);n=a(90745);c=a(91176);f=a(91176);g=a(91176);e=a(66164);h=a(91176);a(51308);k=a(65161);l=a(95407);m=a(6783);p=a(40666);q=a(48170);r=a(69575);u=a(61996);v=a(54366);b.Dlb=["AD_BREAK_UNAVAILABLE"];w=(function(){function x(y,A){this.J=y;this.Sa=A;this.Nva=this.Vda=!1;this.ar=-1;this.Rh=new c.AbortController();this.Akb=new c.Ko();}x.isEqual=function(y,A){return A.J === y.J && A.Sa === y.Sa;};x.prototype.zBc=function(){this.Akb.resolve();};return x;})();t=(function(){function x(y,A,z,B,C){var D;this.sv=y;this.la=A;this.dV=z;this.config=B;this.console=C;this.items=[];this.kH=new Map();this.kKa=1;this.wac=!1;this.events=new n.EventEmitter();D=this;this.la.gd.fs(function(){return d.__generator(this,function(E){switch(E.label){case 0:return [4,p.ce.uya];case 1:return (E.T(),D.wac=!0,[2]);}});},"playerStartedHydrator");this.console=(0,r.Gf)(e.platform,C,"ADBREAKHYDRATOR");this.dk=new u.Am({rj:this,source:"AdBreakHydrator",console:this.console});this.la.Ze.Sc(new v.Qn(this.dk));this.HUc=this.dV.Na.currentTime;}x.prototype.apa=function(y,A){var z,B;return void 0 !== (null === y || void 0 === y?void 0:y.gu)?("").concat(y.Yb,":").concat(null !== (z=y.gu()) && void 0 !== z?z:""):("").concat(A,":").concat(null !== (B=y.fb) && void 0 !== B?B:"");};x.prototype.Hea=function(y,A){y=this.apa(y);this.dk.ug({id:y,j8c:A.type});q.l && this.console.log("Setting hydration event",{id:y,event:d.__assign(d.__assign({},A),{Nm:void 0})});this.kH.set(y,A);};x.prototype.$bc=function(){var y;y=this;this.dk.ug({a$c:Array.from(this.kH.values()).map(function(A){return y.apa(A.DN);})});this.console.log("Clearing adBreak hydrator events on seek");this.kH.clear();};x.prototype.jMa=function(y){var A;A=this;this.items=this.items.filter(function(z){var B;return y.length && z.Sa.gu() === y && !z.Nva?(q.l && A.console.log("Cancelling adBreak hydrations for",{J:z.J,Yb:z.Sa.Yb,fb:y}),null === (B=z.Rh) || void 0 === B?void 0:B.abort(),A.Hea(z.Sa,{type:"tooLate",M:void 0,ar:-1,DN:z.Sa}),!1):!0;});};x.prototype.H9=function(y){var A;A=this;if(!this.kH.size)return y;y.lb=y.lb.map(function(z,B){var C,D,E,H,F,G,J,L,K,M,P;if((B=A.apa(z,B)) && A.kH.has(B)){B=A.kH.get(B);if("tooLate" === (null === B || void 0 === B?void 0:B.type))return d.__assign(d.__assign({},z),{Qm:!1,dM:!0});if("dehydration" === (null === B || void 0 === B?void 0:B.type))return d.__assign(d.__assign({},z),{Kb:B.gMa?void 0:[],VJ:{},ey:!B.gMa,Zx:null === B || void 0 === B?void 0:B.ar,Qm:B.gMa,bi:B.bi,source:"hydration"});E=B.Nm;E=E.Eb && !(null === (C=E.S.Jd) || void 0 === C || !C.Ij);if("adBreakHydrated" === B.type){C=B.u7;E=B.Yk;H=B.fb;F=z.kw;G=z.yj;J=z.location;L=z.Ga;K=z.Hk;M=z.duration;P=z.Yb;return d.__assign(d.__assign({},C),{yj:G,kw:F,location:J,duration:C.TY?K || M:(null === (D=C.Kb) || void 0 === D?0:D.length)?C.Kb.reduce(function(I,O){return I.add(f.I.Ca(O.cb - O.Ta));},f.I.ia):f.I.ia,Hk:void 0 !== K?K:"embedded" !== z.type || C.TY?void 0:M,Ga:L,Yk:E,fb:H,Yb:P,ey:!0,Qm:!1,Zx:null === B || void 0 === B?void 0:B.ar,y_:!1,source:"hydration",type:C.TY?"embedded":"dynamic"});}if(E)return d.__assign(d.__assign({},z),{ey:!0,Zx:null === B || void 0 === B?void 0:B.ar});if("adBreakHydrationSkipped" === B.type)return d.__assign(d.__assign({},z),{ey:!1,Qm:!1,y_:!0,Zx:null === B || void 0 === B?void 0:B.ar});}return z;});return y;};x.prototype.msb=function(y,A){var z;z=this;y=y.map(function(B){return [z.Yhc(B,A),{index:B.Yb,Ied:B.fb}];}).filter(function(B){return (0,c.$c)(B[0]);});this.dk.ug({dehydrated:y});};x.prototype.Yhc=function(y,A){var z,B,C,D,E;if(y.ff){B=this.apa(y);this.kH.has(B) && (C=null === (z=this.kH.get(B)) || void 0 === z?void 0:z.type);if(y.gu() || y.bpa()){D=y.bpa();E=y.gu();this.kH.set(B,{type:"dehydration",M:void 0,ar:this.kKa++,gMa:A || !y.bi,bi:A?!1:y.bi,DN:{Yb:y.Yb,bpa:function(){return D;},gu:function(){return E;},bi:y.bi,ff:y.ff,yj:y.yj}});return "dehydration" !== C?C:void 0;}}};x.prototype.j0a=function(y){d.__awaiter(this,void 0,void 0,function(){var A,z,B,C,D,E;E=this;return d.__generator(this,function(H){switch(H.label){case 0:A=y.map(function(F){return [new w(F.J,F.Sa),F.Naa];});z=A.map(function(F){return d.__read(F,1)[0];});B=(0,g.zcc)(this.items,z,w.isEqual);this.items=B.result;B.Jda.forEach(function(F){var G;F.Nva || (null === (G=F.Rh) || void 0 === G?void 0:G.abort());});A.filter(function(F){return d.__read(F,2)[1];}).forEach(function(F){var G;G=d.__read(F,1)[0];F=(0,c.cc)(E.items,function(J){return w.isEqual(J,G);});null === F || void 0 === F?void 0:F.zBc();});q.l && this.console.log("Evaluated schedule",{Q6b:B.smb.length,Jda:B.Jda.length,$ua:B.$ua.length,LDc:B.result.length});this.dk.ug({Q6b:B.smb.length,Jda:B.Jda.length,$ua:B.$ua.length,LDc:B.result.length});C=this.items.filter(function(F){return !F.Vda;}).map(function(F){return E.ig(F);});if(!(0,k.zs)(this.la.ke.value))return [3,5];D=this.items.map(function(F){return E.sv.Xq(F.J).ll;});H.label=1;case 1:return (H.tc.push([1,,3,4]),[4,Promise.race(C)]);case 2:return (H.T(),[3,4]);case 3:return (D.forEach(function(F){return F.release();}),[7]);case 4:return [3,7];case 5:return [4,Promise.all(C)];case 6:(H.T(),H.label=7);case 7:return [2];}});});};x.prototype.ig=function(y){return d.__awaiter(this,void 0,void 0,function(){var A,z,B,C,D,E,H,F,G;H=this;return d.__generator(this,function(J){switch(J.label){case 0:(q.l && this.console.log("Start scheduling for adbreak",{cfd:y.J,Z5c:y.Sa.Yb}),A=("").concat(y.Sa.Yb,":").concat(null !== (F=y.Sa.gu()) && void 0 !== F?F:""),this.dk.ug({id:A}),null === (G=y.Rh) || void 0 === G?void 0:G.abort(),z=new c.AbortController(),y.Rh=z,B=(0,m.cs)(this.la.Z,y.J,y.Sa.Ga),C=(0,c.Jla)(z.signal),J.label=1);case 1:return (J.tc.push([1,,5,6]),[4,Promise.race([(function(){return d.__awaiter(H,void 0,void 0,function(){return d.__generator(this,function(L){switch(L.label){case 0:return [4,this.TXa(z.signal)];case 1:return (L.T(),q.l && this.console.log("Rebuffering detected, expediting hydration"),[2,"rebuffer"]);}});});})(),Promise.all([this.ZXc(C),this.cYc(B,C)]).then(function(){return "gatesPassed";}),C.then(function(){return "cleanup";})])]);case 2:D=J.T();q.l && this.console.log("Schedule completed for reason",D);if(z.aborted)return [3,4];q.l && this.console.log("Making Item Fetch",{$5c:y.Sa.Yb,kw:y.Sa.location.G});y.Vda=!0;return [4,this.KJb(y,D,z.signal)];case 3:(J.T(),J.label=4);case 4:return [3,6];case 5:return (y.Rh === z && (E=this.items.indexOf(y),-1 !== E && (q.l && this.console.log(("Removing item ").concat(E,", ").concat(this.items.length - 1," left")),this.items.splice(E,1))),[7]);case 6:return [2];}});});};x.prototype.TXa=function(y){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){return (0,k.zs)(this.la.ke.value)?(q.l && this.console.log("Buffering detected, expediting hydration"),[2]):[2,f.At.fYc([this.la.ke],function(A){A=d.__read(A,1)[0];return (0,k.zs)(A);},y)];});});};x.prototype.ZXc=function(y){var A;A=this;return new Promise(function(z){var B,C;B=A.HUc.add(f.I.Ca(A.config.svc));C=A.dV.Yt(p.ce.mm(B),z,"hydratorWaitTask");y.then(function(){return C.La();});});};x.prototype.cYc=function(y,A){return d.__awaiter(this,void 0,void 0,function(){var z,B,C;C=this;return d.__generator(this,function(D){switch(D.label){case 0:if(!this.config.gEb)return [2,Promise.resolve()];z=f.I.Ca(this.config.gEb);D.label=1;case 1:return (D.tc.push([1,3,,4]),[4,new Promise(function(E){var H,F;H=C.la.FA(y,!0);F=C.la.gd.Yt(p.ce.mm(H.ea(z)),E,"waitJitHydrateAdBreak");A.then(function(){return F.La();});})]);case 2:return (D.T(),[3,4]);case 3:return (B=D.T(),q.l && this.console.warn("waitJitHydrateAdBreak failed",c.DV.SK(B)),[3,4]);case 4:return [2];}});});};x.prototype.T$b=function(y,A){var z,B,C,D,E,H;if(y.Lq && this.config.aHc){C=y.Oc.ho(!0);D=f.I.max(f.I.ia,C.ea(A.Sa.Ga));E=D.ln(f.I.Ca(this.config.Qzc));H=null !== (B=null === (z=y.S.Jd) || void 0 === z?void 0:z.gsb) && void 0 !== B?B:this.config.Pzc;z=Math.floor(Math.random() * H);q.l && this.console.log("Checking schedule for live jitter and adbreak hydration",{Lxa:A.Sa.gu(),Icd:z,n7c:H,RCb:C.ca(),wq:D.ca(),p$c:E});if(E)return (C=this.la.ws(this.la.Yg).Ga,{Msb:D.G,Nsb:A.Sa.Ga.ea(C).G,uga:H,G2:z,UB:y.Qf + z,FE:y.Qf});}};x.prototype.l9b=function(y,A,z){return d.__awaiter(this,void 0,void 0,function(){var B;B=this;return d.__generator(this,function(C){switch(C.label){case 0:return [4,new Promise(function(D,E){var H;H=B.dV.Yt(p.ce.jz(f.I.Ca(y.G2)),D,"hydrationLiveJitterTask");z.addEventListener("abort",function(){H.La();E();});})];case 1:return (C.T(),q.l && this.console.log("Live jitter completed",{Lxa:A.Sa.gu()}),[2]);}});});};x.prototype.KJb=function(y,A,z){return d.__awaiter(this,void 0,void 0,function(){var B,C,D,E,H,F,G,J,L,K,M,P,I,O,Q,T,U,X,Y,W,Z,ba,ca,da,ia,S,N,V;return d.__generator(this,function(aa){switch(aa.label){case 0:(B=y.Sa,C=y.J,D=("").concat(B.Yb,":").concat(null !== (S=B.gu()) && void 0 !== S?S:""),this.dk.ug({id:D,reason:A}),E=B.bpa(),H=B.gu(),F=null !== H && void 0 !== H?H:E,(0,c.assert)(F,"adBreakToken or adBreakTriggerId must exist if adBreak hydration was queued"),G=this.kKa++,y.ar=G,J=this.sv.Xq(C),L=J.ll,K=!1,P=d.__read((0,h.fFb)(this.sv.KT.bind(this.sv)),2),I=P[0],O=P[1],aa.label=1);case 1:return (aa.tc.push([1,6,9,12]),[4,J.ur]);case 2:return (Q=aa.T(),Q.Lq?(M=this.T$b(Q,y))?[4,Promise.race([this.l9b(M,y,z),y.Akb.promise])]:[3,4]:[3,4]);case 3:(aa.T(),aa.label=4);case 4:return (null === (N=y.Rh) || void 0 === N?0:N.signal.aborted)?[2]:[4,I({Yk:E,fb:H,J:C})];case 5:return (T=aa.T(),y.Nva=!0,z.aborted || (U=T.u7,X=T.Nm,q.l && this.console.log("Hydrated response " + ("with ").concat(null === (V=T.u7.Kb) || void 0 === V?void 0:V.length," ads")),q.l && this.console.debug("Hydrated complete response ",{response:U}),Y={type:"adBreakHydrated",Yk:E,fb:H,u7:U,Nm:X,DN:y.Sa,ar:G,BI:{GB:O.start,IB:O.end},iw:M},this.Hea(y.Sa,d.__assign({},Y)),this.events.emit("adBreakHydrated",Y),K=!0),[3,12]);case 6:W=aa.T();if(z.aborted)return [3,8];Z=l.sC.utc(W);ba=l.sC.D$(W);return [4,J.ur];case 7:ca=aa.T();(0,c.assert)(ca,"parentAseViewable must exist");if("adBreakHydration" === Z && ba && -1 !== b.Dlb.indexOf(ba))return (q.l && this.console.log("AdBreak hydration failed with recoverable error, playback can continue. Hydration will be attempted again if user revisits the adBreak location. " + ("errorCode: ").concat(ba,", ") + ("parentViewableId: ").concat(C,", ") + ("adBreakToken: ").concat(E)),da={type:"adBreakHydrationSkipped",Yk:E,fb:H,error:W,errorCode:ba,Nm:ca,DN:y.Sa,ar:this.kKa++,BI:{GB:O.start,IB:O.end},iw:M},this.Hea(y.Sa,da),B.k2=!0,this.events.emit("adBreakHydrationSkipped",da),K=!0,[2]);ia={type:"adBreakHydrationFailed",Yk:E,fb:H,error:W,errorCode:ba,Nm:ca,DN:y.Sa,ar:G,BI:{GB:O.start,IB:O.end},iw:M};this.Hea(y.Sa,ia);this.events.emit("adBreakHydrationFailed",ia);K=!0;aa.label=8;case 8:return [3,12];case 9:return K?[3,11]:[4,J.ur];case 10:(ca=aa.T(),(0,c.assert)(ca,"parentAseViewable must exist"),this.events.emit("adBreakHydrationSkipped",{type:"adBreakHydrationSkipped",Yk:E,fb:H,Nm:ca,DN:y.Sa,ar:G,BI:{GB:O.start,IB:O.end},iw:M}),aa.label=11);case 11:return (y.Nva=!0,L.release(),this.la.pea(),[7]);case 12:return [2];}});});};d.__decorate([(0,u.gb)({methodName:"setHydration"})],x.prototype,"Hea",null);d.__decorate([(0,u.gb)({methodName:"clearHydrations"})],x.prototype,"$bc",null);d.__decorate([(0,u.gb)({methodName:"cancelAndSkipHydration",Lm:!0,Te:!0})],x.prototype,"jMa",null);d.__decorate([(0,u.gb)({methodName:"dehydrateAdBreaks",Te:!0})],x.prototype,"msb",null);d.__decorate([(0,u.gb)({methodName:"scheduleHydration",Te:!0})],x.prototype,"j0a",null);d.__decorate([(0,u.gb)({methodName:"schedule",return:!0})],x.prototype,"ig",null);d.__decorate([(0,u.gb)({methodName:"queueAdBreakHydration"})],x.prototype,"KJb",null);return x;})();b.Q4a=t;},71398:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.R4a=void 0;d=a(22970);n=a(91176);c=a(66164);f=a(31413);t=(function(){function g(e,h,k,l,m,p,q,r,u){this.M=e;this.la=h;this.gd=k;this.events=l;this.Sa=m;this.zDc=p;this.tj=q;this.Rrb=r;this.console=u;this.JC=0;m.EX && c.platform.ping && c.platform.ping(m.EX);!1;}Object.defineProperties(g.prototype,{HI:{get:function(){return this.JC;},enumerable:!1,configurable:!0}});g.prototype.zXa=function(e,h,k,l,m){this.vv && (this.vv.La(),this.vv=void 0);this.vv=new f.Wgb(this.la,this.gd,this.events,this.Sa,e,h,k,l,m,this.Zm,this.o8.bind(this),this.console);};Object.defineProperties(g.prototype,{Kt:{get:function(){return void 0 !== this.Boa?"embedded":this.Sa.type;},enumerable:!1,configurable:!0}});g.prototype.Goc=function(){var e;e=this.M;(0,n.assert)(e.Oc,"livePositionService must be defined");return e.Oc.lNa(this.Sa.Ga).G;};g.prototype.VQa=function(e){var h,k;k=this.Goc();return {ai:e,uv:null !== (h=this.Boa) && void 0 !== h?h:this.Sa.yj,Yb:this.Sa.Yb,fb:this.Sa.gu(),mKa:k,lKa:this.Iyc,bSb:this.M.J};};g.prototype.Ita=function(e){var h,k,l,m;this.vv && (this.vv.La(),this.vv=void 0);!1;try{h=this.o8(e);k={ai:e,uv:this.Sa.yj,Yb:this.Sa.Yb,Kt:this.Kt,OG:h};if(this.M.Eb || "embedded" === this.Kt){if(this.la.config.DQ){l=this.VQa(e);m=d.__assign(d.__assign(d.__assign(d.__assign({type:"adBreakEvent"},this.Sa.VJ.complete || ({event:"adBreakComplete"})),k),l),{fda:this.Sa.duration.G,Zm:this.Zm});!1;this.events.emit(m.type,m);}}else (m=d.__assign(d.__assign(d.__assign({type:"adBreakEvent"},this.Sa.VJ.complete || ({event:"adBreakComplete"})),k),{bSb:this.M.J}),!1,this.events.emit(m.type,m));this.Sa.h_=!0;}catch(p){this.console.error("Impression error event",p);this.JC++;}};g.prototype.uGb=function(e,h){var k,l,m;!1;this.Iyc=e.offset.G;this.bCb=h;if((this.M.Eb || "embedded" === this.Kt) && this.la.config.DQ)try{k=this.Sa.VJ.start || ({event:"adBreakStart"});l=this.VQa(e);this.Zm=this.xic();m=d.__assign(d.__assign(d.__assign({type:"adBreakEvent"},k),l),{fda:e.offset.G,Kt:this.Kt,OG:l.uv,Zm:this.Zm});!1;this.events.emit(m.type,m);this.E_=l.uv;}catch(p){this.console.error("Impression error event",p);this.JC++;}};g.prototype.vGb=function(e,h){var k,l,m,p,q,r;!1;if((this.M.Eb || "embedded" === this.Kt) && this.la.config.DQ)try{l=h || this.la.player.Md;m=this.bCb?l.ea(this.bCb).G:0;p=this.Sa.VJ.stop || ({event:"adBreakStop"});q=this.E_?this.E_ + m:this.o8(e);r=d.__assign(d.__assign(d.__assign({type:"adBreakEvent"},p),this.VQa(e)),{fda:m,Kt:this.Kt,OG:q,Zm:this.Zm});null === (k=this.vv) || void 0 === k?void 0:k.La();!1;this.events.emit(r.type,r);}catch(u){this.console.error("Impression error event",u);this.JC++;}return q;};g.prototype.xXa=function(e,h){var k;!1;void 0 !== this.Boa?!1:(this.E_=this.Boa=null !== (k=this.vGb(e)) && void 0 !== k?k:0,this.uGb(e,h));};g.prototype.La=function(){var e;null === (e=this.vv) || void 0 === e?void 0:e.La();};g.prototype.Bq=function(){var e;return {ad:null === (e=this.vv) || void 0 === e?void 0:e.Bq(),errors:this.JC};};g.prototype.o8=function(e){var h,k,l,q;k=this.tj.sD(e);if(!k){!1;if(this.E_){e=this.zDc || this.Sa;if(void 0 !== this.Boa){l=e.Kb[e.Kb.length - 1];return this.E_ + ((null === l || void 0 === l?void 0:l.duration) || n.I.ia).G;}k=e.duration;try{for(var m=d.__values(e.Kb.reverse()),p=m.next();!p.done;p=m.next()){q=p.value;if(q.bi)break;else k=k.ea(q.duration);}}catch(r){l={error:r};}finally{try{p && !p.done && (h=m.return) && h.call(m);}finally{if(l)throw l.error;}}!1;return this.E_ + k.G;}l=this.la.ws(e).Ga.ea(this.Sa.Ga);l=this.Sa.location.add(l);!1;return l.G;}return this.Sa.location.add(k.progress.Flb).G;};g.prototype.xic=function(){var e,h;if("embedded" === this.Kt)return null !== (h=null === (e=this.M.S) || void 0 === e?void 0:e.Jd) && void 0 !== h && h.Ij?this.Rrb && this.Rrb.obc(this.Sa.Yb)?"Failed":this.Sa.dM?"MissedOpportunity":"daiPrefetch" === this.Sa.source || "hydration" === this.Sa.source?"ServerRespondedWithEmbedded":"Failed":"DAINotSupported";};return g;})();b.R4a=t;},40345:function(t,b,a){var c,f,g,e,h,k,l,m,p,q,r,u,v,w;function d(x,y,A){return x && x.eoc === y && x.to.L === A.L && x.to.offset.G === A.offset.G;}function n(x){return null === x || void 0 === x?void 0:x.lb.map(function(y){var A,z;z=(y.Kb || []).map(function(B){return ("").concat(B.id);}).join(",");return ("[").concat(null !== (A=y.fb) && void 0 !== A?A:"",":").concat(y.source,":[").concat(z,"]");}).join(",");}Object.defineProperties(b,{__esModule:{value:!0}});b.S4a=void 0;c=a(22970);f=a(90745);g=a(79048);e=a(91176);h=a(66164);k=a(48170);l=a(52571);m=a(61996);p=a(54366);q=a(94328);r=a(45991);u=a(8707);v=a(14314);w=a(14103);t=(function(){function x(y,A,z,B,C,D,E){var H;H=this;this.config=y;this.console=A;this.ya=z;this.zd=B;this.Wi=C;this.kBb=D;this.iz=E;this.wv={};this.yla=this.Dka=!1;this.Gjb=new WeakMap();this.events=new f.EventEmitter();this.console=(0,e.Gf)(h.platform,this.console,"ADCOMPOSER");C.events.on("adsUpdated",function(F){return H.lCc(F.M);});this.dk=new m.Am({rj:this,source:"ad-composer",xg:10,console:A});this.K5b=new v.N4a(this.console,this.config);this.ya.Ze.Sc(new p.Qn(this.dk));this.ya.QC.events.on("onDeciding",function(F){k.l && H.console.trace("Handling branch decision event",{id:F.ga.id});(F=c.__read(H.ya.Ya.dn(F.ga.id).filter(function(G){return G.Wl;}),1)[0]) && H.dI(F.M);});this.ya.events.on("branchEnqueued",function(F){var G,J,L;k.l && H.console.trace("Handling branch enqueued event",{id:F.pa.K.id});G=H.tj.dR(F.pa.K.id);if(null === G || void 0 === G?0:G.fb)(H.Vn.jMa(G.fb),H.dI(F.pa.M));else if(void 0 !== (null === G || void 0 === G?void 0:G.Yb) && F.pa.M.Eb){J=void 0;L=H.Sh.xx[F.pa.M.J];L && (J=L[G.Yb],J.fb && (H.Vn.jMa(J.fb),H.dI(F.pa.M)));k.l && H.console.log("Handled branch enqueued event for embedded ad break",{index:G.Yb,Lxa:null === J || void 0 === J?void 0:J.fb});}});this.ya.QC.E6b(function(F,G){var J;J=F.pa;if(H.ya.Ya.cqa(J))return G(F);k.l && H.console.trace("Disallowing tracking due to no children",{K:J.K.id});return {result:!1};});this.ya.events.on("segmentNormalized",function(F){var G;G=H.ya.Fb.RDb(F.segmentId);k.l && H.console.trace("Handling segment normalized event",{id:F.segmentId},("mapped to ").concat(G));G && H.kGc(G,F);});}Object.defineProperties(x.prototype,{Uyc:{get:function(){return this.Dka;},enumerable:!1,configurable:!0}});x.prototype.lCc=function(y){k.l && this.console.trace("Media events updated for viewable");this.dI(y);};x.prototype.dI=function(y,A){void 0 === A && (A=!1);(this.X6(y) || A) && this.events.emit("adsUpdated",{type:"adsUpdated"});};x.prototype.X6=function(y){var A,z,B,C,D;z=this.GNc(y);B=z.gub;C=z.wv;D=(0,u.qX)(B,C);z=D.tq;D=D.reason;if(z){if((k.l && this.console.trace("Updating metadata",{M:y.R,reason:D,Nlb:n(C)}),this.dk.ug({c:z,ab:null === C || void 0 === C?void 0:C.lb.length}),null === C || void 0 === C?0:C.lb))(this.Sh.Q0a(y.R,C.lb),this.jX.lNb(),k.l && this.console.trace("Received ad metadata for",{M:y.R,Nlb:n(C)}));}else if(C && B && (D=null === (A=this.Gjb.get(B)) || void 0 === A?void 0:A.map(function(E){return E.Kx || E.Lx;}),y=this.tob(y.J,C,y).map(function(E){return E.Kx || E.Lx;}),void 0 !== D && (A=(0,e.bnb)(D,y,function(E,H){var F,G;F=Array.isArray(E);G=Array.isArray(H);return F && G?0 === (0,e.bnb)(E,H).length:F || G?!1:E === H;}),k.l && this.console.trace("Dropped ads diff",{IDc:y,Obd:D,Nv:A}),0 !== A.length)))return (k.l && this.console.trace("Dropped ads changed",{gub:B,IDc:y}),!0);return z;};x.prototype.GNc=function(y){var A,z;A=this.Hoc(y);z=this.wv[y.R];this.wv[y.R]=A;return {gub:z,wv:A};};Object.defineProperties(x.prototype,{Mqa:{get:function(){return this.ya.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{lb:{get:function(){return this.Sh.xx;},enumerable:!1,configurable:!0}});x.prototype.Ob=function(y,A,z){var B;B=this;this.Sh=y;this.tj=A;this.Vn=z;this.jX=new r.c5a(this.Sh,this.console,this.ya,this.config,this.iz,this.ela);this.Vn.events.on("adBreakHydrationSkipped",function(C){return B.dI(C.Nm);});this.Vn.events.on("adBreakHydrationFailed",function(C){B.dI(C.Nm);});this.Vn.events.on("adBreakHydrated",function(C){return B.X6(C.Nm);});this.ya.events.on("branchDestroyed",function(C){return B.nFc(C);});};x.prototype.nFc=function(y){var A,z,B,C,D,E,H,F,L,M;z=this;C=y.segmentId;if("pruned" === y.reason){y=this.tj.eR(C);if(!y){D=this.ya.Z.ba[C];if(D){E=this.lb[D.J];H=(0,w.WQa)(C);H && E && H.jY >= E.length && (y=E[H.jY - 1],k.l && this.console.log("Inferring empty adbreak information for segment",{L:C}),y={Df:y,fd:D.J});}else k.l && this.console.log("Could not find segment in inner playgraph",{L:C});}if(y){k.l && this.console.log("cleaning up ad metadata for adinfo",{index:null === y || void 0 === y?void 0:y.Df.Yb,Lxa:null === y || void 0 === y?void 0:y.Df.fb});E=y.fd;C=y.Df;D=this.Sh.xx[E];F=new Set();try{for(var G=c.__values(D),J=G.next();!J.done;J=G.next()){L=J.value;if(L.Yb < C.Yb)L.ff && F.add(L);else break;}}catch(P){var K;K={error:P};}finally{try{J && !J.done && (A=G.return) && A.call(G);}finally{if(K)throw K.error;}}K=this.iz.get(E);0 < F.size && (A=Array.from(F),G=this.Wi.kR(K),null === G || void 0 === G?void 0:G.Tbc(A));if(!K.Lq && y){A=Array.from(this.ya.Ya.values());G=Array.from(this.ya.player.Ya);A=(0,e.yX)(A,G);M=(0,e.dLa)(A.map(function(P){var I;return null === (I=z.tj.eR(P.K.id)) || void 0 === I?void 0:I.Df;}).filter(e.$c));D.filter(function(P){return -1 === M.indexOf(P);}).forEach(function(P){P.ey && F.add(P);});}0 < F.size && (C.bi || F.delete(y.Df),A=Array.from(F),y=K.Lq && (null === (B=K.Jd) || void 0 === B?void 0:B.Ij),this.Vn.msb(A,!!y),this.dI(K));}}};x.prototype.aw=function(){var y;y=this;return !!(0,e.cc)(Object.keys(this.lb),function(A){return 0 < y.lb[A].length;});};x.prototype.K0=function(y,A){var z,B,C,D,E;z=this.zd.lj;(0,l.assert)(z,"Could not get graph location service");B=this.zd.Z.ba[y.L].J;C=this.ya.Vx().filter(function(H){return H.J === B;})[0];if(null === C || void 0 === C?0:C.Eb){D=this.ULb(C,y);!(0,q.PSa)(y,D) && A && (A=this.zd.ws(D),(0,l.assert)(A,"Could not get initial content position from seek position"),(0,l.assert)(A.J === C.J,"Initial content position should be in the same viewable"),A=A.Ga);y=D;}if(0 < this.Sh.I3a || (null === C || void 0 === C?0:C.Eb)){E=this.jA(this.zd.Fb);z=z.XU(E);this.Sh.reset();}C=null === E || void 0 === E?void 0:E.Z;D=this.jX.Vmb(y,z,E);z=D.hm;y=D.pA;this.rCb=D.jZa;k.l && this.console.trace(("ads::seekStreaming: returning ").concat(JSON.stringify(z)));C=(C || this.ya.Z).ba[z.L];this.Dka=!!C.type && -1 < [g.pd.Rc,g.pd.padding].indexOf(C.type);return {hm:z,xo:A,pA:y,ita:E};};x.prototype.RH=function(y,A,z){var B,C,D;B=!1;D=z;if(!A)return {qX:!1,lZa:!1,Zfa:D};this.Wi.RH(y);y.Eb && D && (D=this.ULb(y,D),(B=!(0,q.PSa)(D,z)) && (C=D));if((A=this.X6(y)) && D && this.izb(D)){if(this.JNb(D,y))return c.__assign({qX:A,lZa:B,pA:C},this.oRb(D,"viewableReceived"));k.l && this.console.trace(("ads::onViewableReceived: should NOT consider preroll on seek:\n                        seekPosition (unchanged): ").concat(D,",\n                        didAppendData: ").concat(this.ya.p9(),",\n                        enablePrerollForInitialSeek ").concat(this.ya.config.dZ));}return {qX:A,lZa:B,pA:C,Zfa:D};};x.prototype.ULb=function(y,A){var z,B,C,D;z=this.zd.Fb.get(A.L);if((null === z || void 0 === z?void 0:z.J) === y.J){B=y.ho();C=B.ea(z.jb);(0,l.assert)(0 <= C.G,"Seek segment should not begin after live edge");y=y.Oc.roa;z=(null === y || void 0 === y?void 0:y.ea(z.jb)) || e.I.dh;D=e.I.min(A.offset,C,z);k.l && this.console.trace(("ads::sanitizeLiveSeekPosition: ").concat(JSON.stringify(A),", ") + ("live edge target ").concat(B.ca(),", ") + ("live edge offset: ").concat(C.ca(),", ") + ("event end ").concat(null === y || void 0 === y?void 0:y.ca(),", event end offset: ").concat(z.ca()) + (" -> adjusted offset ").concat(D.ca()));return {L:A.L,offset:D};}return A;};x.prototype.Jta=function(y,A){var z,B;this.X6(y);z=this.wv[y.R];(0,l.assert)(z,("adMetadata for viewable ").concat(y.J," should exist if an adBreak hydration was requested"));k.l && this.console.trace("ads::onAdBreakHydrated: Resetting branch decisions");B=this.ya.player;B.Ak && this.ya.mo && this.ya.QC.MU(B.Ak,B.Md,!0);this.jX.lNb();k.l && this.console.trace("ads::onAdBreakHydrated: Received new ad metadata after adBreakHydration for",{M:y.R,Nlb:n(z)});if(A)return this.oRb(A,"adBreakHydration");};x.prototype.oRb=function(y,A){var z,B,C,D,E;k.l && this.console.trace(("ads::updatePendingSeekPosition: ").concat(JSON.stringify(y)));z=this.zd.lj;(0,l.assert)(z,"Could not get graph location service");B=this.jA(this.zd.Fb);z=z.XU(B);C=B.Z;D=this.jX.Vmb(y,z,B);E=D.hm;D=D.pA;this.Dka=!1;(C=C.ba[E.L]) || (C=this.ya.Z.ba[E.L]);this.Dka=!!C.type && -1 < [g.pd.Rc,g.pd.padding].indexOf(C.type);z=null === z || void 0 === z?void 0:z.JI(E);k.l && this.console.trace("ads::updatePendingSeekPosition: should consider preroll on seek",{Vbd:y,Zfa:z,pA:D,p9:this.ya.p9(),dZ:this.ya.config.dZ,reason:A});return {Zfa:z,pA:D,ita:B};};x.prototype.tob=function(y,A,z){var B,C;B=this;C=A.lb.map(function(D,E){return B.jX.bH(B.lb[y][E],E,Number(y),B.kBb(),z);});k.l && this.console.debug("Calculated dropped ads",{context:{seeking:this.kBb()},result:C});this.Gjb.set(A,C);return C;};x.prototype.jA=function(y){var A,z,B,C;A=this;z=y;B=y.Z;C=Object.keys(B.ba).map(function(D){return ("").concat(B.ba[D].J);});Object.keys(this.wv).forEach(function(D){var E,H,F;if(-1 !== C.indexOf(D)){E=parseInt(D);H=A.wv[D];if(H){F=A.iz.get(E);(0,l.assert)(F,"AdComposer::createInnerWorkingPlaygraph: viewable should exist");F=A.tob(E,H,F);A.dk.ug({droppedAds:F.map(function(G,J){return {dga:G,tTa:J};}).slice(-5),viewableId:D});D=F.map(function(G){return G.Kx || G.Lx;});H.lb.forEach(function(G){var J;if("dynamic" === G.type){J=A.Sh.$oa(E,G.Ga);G.Kbd=(null === J || void 0 === J?void 0:J.duration) || e.I.ia;}});F=new Set();H=(0,g.Yec)(E,H.lb,F,D,A.config.iua,!1);D=g.Iz.create(H);D=g.Iz.nn(y,D);k.l && A.console.trace("Creating new ads playgraph",{o5c:H,wbd:D.f0.Z});z=D.f0;}}});z.pX(this.ya.Fb);return z;};x.prototype.izb=function(y){return !!this.wv[this.zd.Z.ba[y.L].J];};x.prototype.Hoc=function(y){var A,z,B,C;A=this;z=this.Wi.$G(y);if(y.Jd){C=y.Jd;C.lb.length && (B=z?this.wCc(C,z,y):{lb:c.__spreadArray([],c.__read(C.lb),!1)});}!B && z && (B={lb:z});B && (B=this.Vn.H9(B),B=this.ela.H9(y,B),B.lb.forEach(function(D){var E,H;"dynamic" === D.type && y.Lq && D.Kb && (null === (E=D.Hk) || void 0 === E?0:E.ea(D.duration).greaterThan(e.I.Ca(A.config.NBc))) && (E=D.Ga.add(D.duration),E=(null === (H=A.ya.JR.Rx({Ga:E,J:y.J},{Cmb:!0})) || void 0 === H?void 0:H.qa) || E,D.Kb.push({id:y.J,Ta:E.G,cb:D.Ga.add(D.Hk).G,r_:!1,$o:!0}),D.duration=D.Hk,k.l && A.console.trace("ads::getAdMetadata: adding additional embedded ad",{fb:D.fb,J:y.J,Kb:D.Kb.length}));}),B=this.K5b.H9(y,B));return B;};x.prototype.wCc=function(y,A,z){var B,C,D,E,H,F,G;if(y.zLb)return {lb:A};E={};y.lb.forEach(function(J){E[J.location.G]=J;});H={};A.forEach(function(J){H[J.location.G]=J;});k.l && this.console.trace("ads::mergeReplacedAds viewableRecords",{ifd:y.lb.map(function(J){return J.location.G;}),Xad:A.map(function(J){return J.location.G;}),hdd:null === (D=null === (C=null === (B=z.fh.model.ny) || void 0 === B?void 0:B.xn) || void 0 === C?void 0:C.Ga) || void 0 === D?void 0:D.ca()});F=(0,e.fLa)(Object.keys(E),Object.keys(H));G=[];E["0"] && -1 === F.indexOf("0") && G.push(E["0"]);F.forEach(function(J){var L;L=H[J];J=c.__assign(c.__assign({},E[J]),{Hk:L.duration,location:L.location,Ga:L.Ga,kw:L.kw,yj:L.yj,fb:L.fb,Qm:!0});G.push(J);});this.yla || (y=Object.keys(E).filter(function(J){return 0 !== Number(J) && -1 === F.indexOf(J);}).map(function(J){return Number(J);}),A=Object.keys(H).filter(function(J){return -1 === F.indexOf(J);}).map(function(J){return Number(J);}),(y.length || A.length) && this.$Mc(y,A),this.yla=!0);return {lb:G};};x.prototype.MOa=function(y){var A,z,B,C;A=this;k.l && this.console.log("ads::dropErroredAd",{Mlb:y});z=Array.from(this.iz.keys()).filter(function(D){var E;return null === (E=A.Sh.xx[D]) || void 0 === E?void 0:E.some(function(H){var F;return null === (F=H.Kb) || void 0 === F?void 0:F.some(function(G){return G.id === y;});});});this.Sh.MOa(y);B=this.ya.player;B.Ak && this.ya.mo && this.ya.QC.MU(B.Ak,B.Md,!0);z.length && this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:y});z.map(function(D){D=A.iz.get(Number(D));C || (C=D);D && A.dI(D);});C && this.dI(C,!0);k.l && this.console.log("ads::dropErroredAd",{Mlb:y,f$c:z,F9c:!!C});};x.prototype.$Mc=function(y,A){this.yla || (this.events.emit("advertsMismatch",{type:"advertsMismatch",manifestUnmatchedAdBreakLocations:y,mediaEventsUnmatchedAdBreakLocations:A,sev:y.length?"warn":"info"}),this.yla=!0);};x.prototype.s1a=function(y,A,z){var B;return this.jX.s1a(y,A,z,null === (B=this.Mqa) || void 0 === B?void 0:B.uf);};x.prototype.JNb=function(y,A){var z,B,C,D,E,H;C=this.ya.config.dZ;D=y.L;E=this.ya.Z.ba[D] || this.zd.Z.ba[D];H=e.I.ia;E?(A=A || this.ya.Vx().filter(function(F){return F.J === E.J;})[0],H=(null === A || void 0 === A?0:A.Eb) && (null === (z=A.oj) || void 0 === z?0:z.startTime)?A.Oc.vqb(e.I.ia):e.I.ia,k.l && this.console.warn(("ads::shouldConsiderPrerollOnSeek Inferring offset ").concat(H.G," as origin"))):k.l && this.console.warn("ads::shouldConsiderPrerollOnSeek: segment not found",{L:D});z=y.offset.G === H.G;A=this.ya.p9();return z || (A?d(this.rCb,null === (B=this.ya.player.YK()) || void 0 === B?void 0:B.K.id,y)?this.rCb.vuc:!0:C);};x.prototype.HQa=function(y,A){var z,D;(0,l.assert)(void 0 !== A.Yb || void 0 !== A.fb,"adInfo must have adBreakIndex or adBreakTriggerId");y=this.Sh.xx[y];k.l && this.console.trace("Searching adBreak by index",{Yb:A.Yb});if(void 0 !== A.Yb && y)return y[A.Yb];k.l && this.console.trace("Searching adBreak by triggerId",{fb:A.fb,lb:null === y || void 0 === y?void 0:y.map(function(H){return H.fb;})});if(void 0 !== A.fb && y)try{for(var B=c.__values(y),C=B.next();!C.done;C=B.next()){D=C.value;if(D.fb === A.fb)return D;}}catch(H){var E;E={error:H};}finally{try{C && !C.done && (z=B.return) && z.call(B);}finally{if(E)throw E.error;}}k.l && this.console.trace("Could not find ad-break");};x.prototype.kGc=function(y,A){var z,B,C;B=this.tj.dwb({L:y,offset:e.I.ia});if(B && B.Rc){y=B.Sa;C=B.Rc;B=B.WJ;this.console.trace(("ads::onSegmentNormalized ").concat(A.segmentId,": ").concat(A.normalizedStart.ca()," - ").concat(A.normalizedEnd.ca()));C.normalize(A.normalizedStart,A.normalizedEnd);B === (null === (z=y.Kb) || void 0 === z?NaN:z.length) - 1 && this.events.emit("adBreakNormalized",{type:"adBreakNormalized",Sa:y});}};c.__decorate([(0,m.gb)({methodName:"_refreshAds",Te:!0})],x.prototype,"X6",null);c.__decorate([(0,m.gb)({methodName:"onAdBreakHydrated"})],x.prototype,"Jta",null);c.__decorate([(0,m.gb)({methodName:"createInnerWorkingPlaygraph"})],x.prototype,"jA",null);return x;})();b.S4a=t;},13303:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.T4a=void 0;d=a(22970);n=a(91176);c=a(48170);t=(function(){function f(g,e,h,k,l){this.Jm=g;this.Dd=e;this.Wi=h;this.iz=k;this.console=l;this.yva=[];this.Dd.ela=this;}f.prototype.Muc=function(g){return this.yva.some(function(e){return e.vKa === g;});};f.prototype.USa=function(g){var e,h,k,l,m,r,u,v,w,A;if(this.Jm.player.Ya.some(function(B){return B.K.J === g && B.ZKa;}))return !1;if(this.yva.some(function(B){return B.vKa === g;}))return !0;try{for(var p=d.__values(Object.keys(this.Dd.wv)),q=p.next();!q.done;q=p.next()){r=q.value;u=this.Dd.wv[r];u && (m=u.lb.some(function(B){var C;return null === (C=B.Kb) || void 0 === C?void 0:C.some(function(D){return D.id === g;});}));if(!m){v=this.iz.get(Number(r));if(v){w=this.Wi.kR(v);if(w)try{for(var x=(h=void 0,d.__values(w.iSc)),y=x.next();!y.done;y=x.next()){A=y.value[0];if(m=null === (l=null === A || void 0 === A?void 0:A.Kb) || void 0 === l?void 0:l.some(function(B){return B.id === g;}))break;}}catch(B){h={error:B};}finally{try{y && !y.done && (k=x.return) && k.call(x);}finally{if(h)throw h.error;}}}}if(m)break;}}catch(B){var z;z={error:B};}finally{try{q && !q.done && (e=p.return) && e.call(p);}finally{if(z)throw z.error;}}return m?(this.yva.push({vKa:g}),this.Jm.Ya.filter(function(B){return !B.Xf && B.K.J !== g;}).forEach(function(B){return B.ozb=!0;}),this.Dd.MOa(g),!0):!1;};f.prototype.H9=function(g,e){var h;h=this;if(!g.Eb)return e;e.lb=e.lb.map(function(k,l){var m,p,q,r,u;if(!k.Kb)return k;p=g.Eb && (null === (m=g.Jd) || void 0 === m?void 0:m.Ij);q=!1;r=[];u=0;k.Kb.forEach(function(v){p && q || h.yva.some(function(w){return w.vKa === v.id;})?(q=!0,u++):r.push(v);});if(q)c.l && h.console.log("Dropping ads due to error",{Yb:l,j5c:k.fb,J7c:u});else return k;l=r.reduce(function(v,w){return v.add(n.I.Ca(w.cb - w.Ta));},n.I.ia);return d.__assign(d.__assign({},k),{Kb:r,D1:void 0,duration:l});});return e;};return f;})();b.T4a=t;},53787:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.U4a=void 0;d=a(90745);n=a(91967);t=(function(){function c(f,g,e){var h;h=this;this.Dd=g;this.Lj=new d.kf();this.Zl="adHydratorAudit";this.dc="adHydratorAuditor";this.enabled=!0;this.Lj.on(f.events,"adBreakPresenting",function(k){h.state.Jlb.push(k.presentingInfo.Sa.Df.ar);});this.Lj.on(e.events,"adBreakHydrated",function(){h.state.Hlb++;});this.Lj.on(e.events,"adBreakHydrationFailed",function(){h.state.Glb++;});this.Lj.on(e.events,"adBreakHydrationSkipped",function(){h.state.Klb++;});this.state={Hlb:0,Glb:0,Klb:0,Jlb:[]};}c.prototype.Ch=function(f){f=f.Ii;if(this.Dd.aw() && f === n.Lc.Kj)return {adBreaksPresentedSequence:this.state.Jlb,adBreaksHydratedCount:this.state.Hlb,adBreaksFailedHydratedCount:this.state.Glb,adBreaksSkippedCount:this.state.Klb};};c.prototype.La=function(){this.Lj.clear();};return c;})();b.U4a=t;},60575:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.V4a=void 0;d=a(90745);n=a(91967);t=(function(){function c(f,g,e){var k;function h(l){var m,p;(m=k.state.qKa)[p=l.event] || (m[p]=0);k.state.qKa[l.event]++;}k=this;this.Dd=g;this.FR=e;this.Lj=new d.kf();this.Zl="adImpressionAudit";this.dc="adImpressionAuditor";this.enabled=!0;this.Lj.on(f.events,"adPresenting",function(){k.state.ymb++;});this.Lj.on(f.events,"adBreakPresenting",function(l){var m,p,q,r;k.state.Ilb++;l=l.presentingInfo;l.Sa.Df.empty || k.state.Llb++;l.Sa.w_ || k.state.FCc++;(m=k.state.oKa)[p=l.Sa.type] || (m[p]=0);k.state.oKa[l.Sa.type]++;(q=k.state.nKa)[r=l.Sa.Df.source] || (q[r]=0);k.state.nKa[l.Sa.Df.source]++;});this.Lj.on(e.events,"adEvent",h);this.Lj.on(e.events,"adBreakEvent",h);this.state={Ilb:0,Llb:0,FCc:0,qKa:{},ymb:0,oKa:{},nKa:{}};}c.prototype.Ch=function(f){f=f.Ii;if(this.Dd.aw() && f === n.Lc.Kj)return {presented:{breaks:this.state.Ilb,breaksWithAds:this.state.Llb,ads:this.state.ymb,adBreaksPresentedByType:this.state.oKa,adBreaksPresentedBySource:this.state.nKa},events:this.state.qKa,logger:this.FR.Bq()};};c.prototype.La=function(){this.Lj.clear();};return c;})();b.V4a=t;},28143:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.X4a=void 0;d=a(90745);n=a(66164);c=a(69575);f=a(52571);g=a(48170);e=a(67288);h=a(71398);t=(function(){function k(l,m,p,q,r,u,v){this.zf=l;this.Os=m;this.tj=p;this.Wi=q;this.ya=r;this.gd=u;this.HI=0;this.events=new d.EventEmitter();this.console=(0,c.Gf)(n.platform,v,"IMPRESSION");m.events.addListener("adBreakPresenting",this.tGb.bind(this));m.events.addListener("adBreakComplete",this.Ita.bind(this));m.events.addListener("adBreakFallback",this.xXa.bind(this));m.events.addListener("adPresenting",this.zXa.bind(this));this.ya.events.addListener("seeking",this.Vta.bind(this));this.ya.events.addListener("cancelingStreaming",this.CGb.bind(this));}Object.defineProperties(k.prototype,{Caa:{get:function(){return !!this.Si;},enumerable:!1,configurable:!0}});k.prototype.uob=function(){var l,m;l=this.ya.player.I_;if(!l && this.ya.mo && this.ya.player.Wd){m=this.ya.player;l || (l={xo:m.Md,position:m.Yg});}return l;};k.prototype.CGb=function(){var l;if(this.Si){l=this.uob();l && this.Si.vGb(l.position,l.xo);this.Si=void 0;}};k.prototype.tGb=function(l){var m,p,q,r,u,v;g.l && this.console.trace("onAdBreakPresenting:",l);p="adBreakPresenting" === l.type || (0,e.Vaa)(l)?l.presentingInfo.Sa.Df:l.$na;(0,f.assert)(p,"Ad break must be defined for ad break presenting");q="adBreakPresenting" === l.type || (0,e.Vaa)(l)?l.presentingInfo.position:l.position;this.Si && (this.Si.Ita(q),"dynamic" === this.Si.Sa.type && (g.l && this.console.warn("Unexpected back-to-back dynamic ad breaks"),this.HI+=this.Si.HI,this.Si=void 0));r=this.Os.tj.HSa(q);(0,f.assert)(r,"uxViewableId must be defined for ad break presenting");r=this.zf.get(r);(0,f.assert)(r,"uxViewable must be defined for ad break presenting");u=this.Wi.kR(r);v="adBreakPresenting" === l.type?null === (m=l.eventInfo) || void 0 === m?void 0:m.Sa:void 0;this.Si=new h.R4a(r,this.ya,this.gd,this.events,p,v,this.tj,u,this.console);this.Si.uGb(q,l.xo);};k.prototype.Ita=function(l){var m,p;p=(0,e.Vaa)(l)?l.presentingInfo.Sa.Df:(0,e.RAb)(l)?l.$na:null === (m=this.Si) || void 0 === m?void 0:m.Sa;g.l && this.console.trace(("adBreakComplete event, ").concat(this.Si?"have":"no"," impression logger, ") + (p?("ad break ").concat(p.Yb," is ") + ("").concat(p.Kb.length?"not ":"","empty, ") + ("has ").concat(p.bi?"":"not ","played"):"no ad break"));if(((0,e.Vaa)(l) || (0,e.RAb)(l)) && 0 === p.Kb.length)((0,f.assert)(!this.Si,"Received ad break complete for empty ad break during ad break"),p.AQc(),this.tGb(l));else if(!this.Si)return;l=(0,e.Vaa)(l)?l.presentingInfo.position:l.position;this.Si.Ita(l);this.HI+=this.Si.HI;this.Si=void 0;};k.prototype.xXa=function(l){var m;if(this.Si){m=this.uob();m?this.Si.xXa(m.position,l.xo):g.l && this.console.warn("Recevied ad break fallback but unable to calculate lastPosition",l);}};k.prototype.zXa=function(l){var m,p,q,r,u;(0,f.assert)(this.Si,"Expect to be in ad break when ad presenting is received");(0,f.assert)(this.Si.Sa.Yb === (null === (m=l.presentingInfo) || void 0 === m?void 0:m.Sa.Df.Yb),"Expect to be in correct ad break when ad presenting is received");m=l.presentingInfo.position;q=this.ya.IZ(m.L)[0];r=l.xo;u=r.ea(m.offset);this.Si.zXa(null === (p=l.presentingInfo.XJ) || void 0 === p?void 0:p.Rc,null === q || void 0 === q?void 0:q.M,m,r,u);};k.prototype.Vta=function(l){!l.duplicate && this.Si && "embedded" === this.Si.Sa.type && this.CGb();};k.prototype.Bq=function(){var l;return {"break":null === (l=this.Si) || void 0 === l?void 0:l.Bq(),errors:this.HI};};return k;})();b.X4a=t;},13060:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y;Object.defineProperties(b,{__esModule:{value:!0}});b.Y4a=void 0;d=a(90745);n=a(91176);c=a(66164);f=a(41456);g=a(54366);e=a(75462);h=a(10940);k=a(63026);l=a(40345);m=a(14103);p=a(67288);q=a(28143);r=a(13303);u=a(60575);v=a(31300);w=a(53787);x=a(14430);y=a(54953);t=(function(){function A(z,B,C,D,E,H,F){this.console=z;this.fla=H;this.zf=new Map();this.xD=new WeakMap();z=(0,n.Gf)(c.platform,z,"ADS");this.Wi=new f.Zbb(D,this.zf,B,z);this.Dd=new l.S4a(B,z,C,D,this.Wi,F,this.zf);this.tj=new m.d5a(z,C,D,this.Dd);this.Os=new p.Oeb(this,C,z,this.zf);this.FR=new q.X4a(this.zf,this.Os,this.tj,this.Wi,C,C.gd,z);this.Vn=new v.Q4a(E,D,D.Bj,B,z,this.FR.events);C.Ze.Sc(new u.V4a(this.Os,this.Dd,this.FR));C.Ze.Sc(new w.U4a(this.Os,this.Dd,this.Vn));C.Ze.Sc(new g.Qn(this.Wi.dk));C.Ze.Sc(new k.Pcb(this.Wi.yca));this.Sh=new y.e5a(B,this.FR.events);new x.M4a(B,z,C,this.Dd,this.Vn,this.Sh,this.zf);C.O_.Sc(new e.Jab(C,this.zf,this.FR.events,this.Sh,this.tj,z));C.O_.Sc(new h.Kab(C,this.Vn.events,this.Wi.events));this.ela=new r.T4a(C,this.Dd,this.Wi,this.zf,this.console);this.Dd.Ob(this.Sh,this.tj,this.Vn);}A.prototype.RH=function(z){var B,C;B=this;if(this.zf.get(z.J) === z || z.kn)return !1;this.qOa(z.J);C=new d.kf();this.xD.set(z,C);this.zf.set(z.J,z);C.addListener(z.events,"destructed",function(){!1;B.zf.get(z.J) === z && B.qOa(z.J);});return !0;};A.prototype.qOa=function(z){var B,C;B=this.zf.get(z);if(B){!1;C=this.xD.get(B);null === C || void 0 === C?void 0:C.clear();this.xD.delete(B);this.zf.delete(z);}};A.prototype.La=function(){var z;z=this;this.Wi.La();this.zf.forEach(function(B){z.qOa(B.J);});this.zf.clear();};A.prototype.cl=function(z){return this.Os.cl(z);};return A;})();b.Y4a=t;},86681:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.sK=void 0;d=a(22970);n=a(40981);c=a(17774);f=a(75393);g=a(23855);b.sK=function(e,h,k){var l,m,p,q;e=d.__assign({o4:n.Eha},e).o4;l=h.iT[5];m=(0,c.VXa)(function(){return q;});l.kla(m.Xq);p={lj:void 0,zd:void 0,ya:void 0,uVa:"ads"};p.lj=new e(function(){return p.zd.Fb;},function(){return p.ya;},h.iT[2],"Ads:");q=new g.a5a(p,m.k2a,f.Hy.Zva.WT,l);e=h.vX;h.vX=d.__spreadArray(d.__spreadArray([],d.__read(e),!1),[q],!1);p.ya=k(h);p.zd=f.Hy.mva(p.ya,q,function(){return p;},e);q.Ob();return p.zd;};},23855:function(t,b,a){var d,n,c,f,g,e,h,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.a5a=void 0;d=a(22970);n=a(90745);c=a(91176);f=a(48170);g=a(35331);e=a(61996);h=a(52571);t=a(14739);k=a(40666);l=a(13060);a=(function(m){function p(q,r,u,v){var w;w=m.call(this,q,r,u,"AdsPlaygraphHost") || this;w.sv=v;w.DF=void 0;w.kDb=new c.T5();w.fla=new n.EventEmitter();v.kla(function(x,y){return w.vlc(x,y);});return w;}d.__extends(p,m);Object.defineProperties(p.prototype,{zd:{get:function(){return this.Jp.zd;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Jm:{get:function(){if(this.Z !== this.ya.Z)return this.ya.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ec:{get:function(){return this.DF;},enumerable:!1,configurable:!0}});p.prototype.vlc=function(q,r){var u,v,w,x,y,A,z;A=q.J;z=null === (v=null === (u=null === q || void 0 === q?void 0:q.dm) || void 0 === u?void 0:u.Uf) || void 0 === v?void 0:v.fd;u=this.Ec.Dd.lb[z];u=null !== (y=null !== (x=null === (w=q.dm) || void 0 === w?void 0:w.ys) && void 0 !== x?x:null === u || void 0 === u?void 0:u.some(function(B){return B.Kb.some(function(C){return C.id === A;});})) && void 0 !== y?y:!1;q=d.__assign(d.__assign({},q),{dm:d.__assign(d.__assign({},q.dm),{ys:u})});return r(q);};p.prototype.Ob=function(){var q;q=this;m.prototype.Ob.call(this);this.Jp.ya.Sc(new g.b5a(this.Jp));this.DF=new l.Y4a(this.sb,this.Bb,this.ya,this.zd,this.sv,this.fla,function(){return !!q.GR;});this.Jp.ya.KPc(this.DF);this.Ec.Vn.events.on("adBreakHydrated",function(r){return q.lJb(r);});this.Ec.Vn.events.on("adBreakHydrationFailed",function(r){var u,v,w;(null === (u=r.Nm) || void 0 === u?0:u.Eb) && (null === (w=null === (v=r.Nm) || void 0 === v?void 0:v.Jd) || void 0 === w?0:w.Ij) || q.Yf({Ti:r.error.message,UYa:r.error});});this.DF.Dd.events.on("adsUpdated",function(){f.l && q.sb.log("AdPlaygraphHost::adsUpdated");q.z1();});this.ya.events.on("seeked",function(){q.GR && q.zd.gd.Yt(k.ce.uya,function(){q.GR=void 0;},"clear in progress seek request");});};p.prototype.AB=function(q){var r,u,v,w,x;r=m.prototype.AB.call(this,q);if(r){(0,h.assert)(this.Ec,"missing manager");u=this.Ec.RH(q);q=this.Ec.Dd.RH(q,u,this.GR);u=q.lZa;v=q.Zfa;w=q.pA;x=q.ita;(q.qX || u) && this.jva(x,v,w);}return r;};p.prototype.lJb=function(q){q=q.Nm;f.l && this.sb.log("AdPlaygraphHost::processAdBreakHydrationResponse");(0,h.assert)(this.Ec,"missing manager");(q=this.Ec.Dd.Jta(q,this.GR))?this.jva(q.ita,q.Zfa,q.pA):this.jva();};p.prototype.Yf=function(q){var r,u;r=!1;u=!1;q.J && !q.z2a && (r=this.Ec.ela.USa(q.J));r?f.l && this.sb.log("AdPlaygraphHost::reportStreamingFailure streaming failure is recoverable"):u=this.Jp.ya.Yf(q);return u;};p.prototype.YM=function(q){var r,u,v,w;r=this;f.l && this.sb.log("Top level seek streaming call to ",q);this.d1a(q);this.zd.gd.Yt(k.ce.uya,function(){r.GR=void 0;},"clear in progress seek request");if(this.Ec.Dd.izb(q)){f.l && this.sb.trace(("ads::seekStreaming: ").concat(JSON.stringify(q)));u=this.Ec.Dd.K0(q);v=u.hm;w=u.pA;if(u=u.ita)(f.l && this.sb.trace("ads::seekStreaming: ads playgraph was updated"),this.jva(u,q));f.l && this.sb.trace(("ads::seekStreaming: forwarding seek to ").concat(JSON.stringify(v),", ") + ("entryPoint: ").concat(JSON.stringify(w)));this.ya.owa(v,w);}else this.ya.YM(q);};p.prototype.jva=function(q,r,u){var v;v=this;this.kDb.Ela || this.kDb.QSb(function(){v.z1(q,v.zd.Fb,r,u);v.fla.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};p.prototype.jA=function(q){return this.Ec.Dd.jA(q);};p.prototype.Jg=function(q){m.prototype.Jg.call(this,q);this.GR=void 0;};p.prototype.d1a=function(q){this.GR=q;};d.__decorate([(0,e.gb)({methodName:"ads::processViewableResponse"})],p.prototype,"AB",null);d.__decorate([(0,e.gb)({methodName:"ads::processAdBreakHydrationResponse"})],p.prototype,"lJb",null);d.__decorate([(0,e.gb)({methodName:"ads::reportStreamingFailure"})],p.prototype,"Yf",null);d.__decorate([(0,e.gb)({methodName:"ads::seekStreaming"})],p.prototype,"YM",null);d.__decorate([(0,e.gb)({methodName:"ads::cancelStreaming"})],p.prototype,"Jg",null);return p;})(t.Nia);b.a5a=a;},45991:function(t,b,a){var n,c,f,g,e,h,k,l,m,p,q,r;function d(u,v){var w;w=v && u.ba[v];if(w)return w.type !== c.pd.content?d(u,w.Hc):v;}Object.defineProperties(b,{__esModule:{value:!0}});b.c5a=void 0;n=a(91176);c=a(79048);f=a(48170);g=a(52571);e=a(14103);h=a(3758);k=a(88700);l=a(15905);m=a(73803);p=a(70778);q=a(45496);r=a(77184);t=(function(){function u(v,w,x,y,A,z){this.Sh=v;this.console=w;this.ya=x;this.config=y;this.iz=A;this.mjc=[new r.xfb(w),new h.wfb(w),new q.yfb(),new k.Nab(y,w),new l.m8a(),new m.l8a(z),new p.cdb()].filter(n.$c);}u.prototype.lNb=function(){this.Oka=void 0;};u.prototype.bH=function(v,w,x,y,A){var z,B,C;B=(null === A || void 0 === A?void 0:A.J) === x?A:this.ya.Vx().filter(function(D){return D.J === x;})[0];A=Array.from(this.ya.player.Ya).map(function(D){return D.K;});C=null === (z=this.ya.Ec) || void 0 === z?void 0:z.tj;z=this.ya.player.YK();v={wDb:B,Sa:v,vjc:y,Yb:w,aK:A.map(function(D){return null === C || void 0 === C?void 0:C.eR(D.id);}).filter(n.$c),Qyc:z && (null === C || void 0 === C?void 0:C.eR(z.K.id))};y=this.mjc.map(function(D){return D.bH.bind(D);});v=n.$E.tL(v,y);f.l && this.console.info("Evaluated ad-break drop",{Yb:w,w5c:A.map(function(D){return D.id;}),result:v});return v;};u.prototype.Sxc=function(v,w){var x;return v.offset.equal(n.I.ia)?!0:w.Eb && (null === (x=w.oj) || void 0 === x?0:x.startTime)?(w=w.Oc.vqb(n.I.ia),this.console.trace(("Checking ").concat(v.offset.G," against ").concat(w.G," for live seek")),v.offset.G === w.G):!1;};u.prototype.Vmb=function(v,w,x){var y,A,z,B,C,D,E,H,F,G,J,L;void 0 === x && (x=this.ya.Fb);B=x.Z;C=null === (y=x.SH.get(v.L)) || void 0 === y?void 0:y.J;(0,g.assert)(void 0 !== C,"AdPolicies::applyAdPoliciesToSeekPosition: viewableId must exist in outermost playgraph");D=this.Sh.xx[C];E=y=w.EG(v);H=B.ba[y.L];f.l && this.console.debug("AdPolicies::applyAdPoliciesToSeekPosition",{hm:v,GOa:y});C=this.iz.get(C);(0,g.assert)(C,"AdPolicies::applyAdPoliciesToSeekPosition: viewable must exist");if(this.Sxc(y,C))F=this.bSa(B,D,y);else {H.type === c.pd.padding && (y={L:H.Hc,offset:n.I.ia});G=null === (A=this.ya.player.YK()) || void 0 === A?void 0:A.K.id;if(G)J=G;else (A=d(B,B.uf),this.ya.mo && this.ya.player.cw || this.ya.p9() || A !== y.L || !this.config.dZ?J=A:F=this.bSa(B,D,w.EG({L:v.L,offset:n.I.ia})));!F && J && (f.l && this.console.trace(("ads::seekStreaming: seek from segment ").concat(J)),F=this.gsc(J,y,x));}v=!(null === (z=C.Jd) || void 0 === z || !z.Ij);if(F && !v)if(F.L){E={L:F.L,offset:n.I.ia};f.l && this.console.debug("AdPolicies::applyAdPoliciesToSeekPosition adjusting entrypoint",{GOa:y});H.type === c.pd.Rc && (y={L:y.L,offset:n.I.ia},f.l && this.console.debug("AdPolicies::applyAdPoliciesToSeekPosition snapping entrypoint to beginning of ad",{GOa:y}));L=y;}else H.type !== c.pd.Rc && (this.Oka=F.Sa);z={vuc:v?H.type === c.pd.Rc:!!F,eoc:J,to:y};L || H.type !== c.pd.Rc || v || (f.l && this.console.debug("AdPolicies::applyAdPoliciesToSeekPosition seeking to an ad, defaulting entryPoint",{pA:L,GOa:y}),y.offset.greaterThan(n.I.ia) && (f.l && this.console.debug("AdPolicies::resetting seek position to beginning of ad"),y={L:y.L,offset:n.I.ia}),E=L=y);f.l && this.console.debug("AdPolicies::applyAdPoliciesToSeekPosition returning: ",("{ seekPosition: ").concat(E,", entryPoint: ").concat(L,", policy: ").concat(z));return {hm:E,pA:L,jZa:z};};u.prototype.s1a=function(v,w,x,y){if(this.Oka)return (w=this.Oka,this.Oka=void 0,w);if((v=this.Sh.xx[v]) && v.length)if(x && w.L === y && w.offset.equal(n.I.ia)){if((w=v[0],0 === w.location.G && w.empty && !w.bi && !w.h_))return w;}else if(!x)return this.cRa(w.L,v);};u.prototype.gsc=function(v,w,x){var y,A,z,B,C,D,E;f.l && this.console.trace("AdPoliciesManager: getPrerollAdOnSeek: " + ("from ").concat(v," to ").concat(JSON.stringify(w)));if(x){A=x.UL(w.L);(0,g.assert)(A,"inner WorkingPlaygraph segmentId should map correctly to outermost");z=this.Sh.xx[x.SH.Z.ba[A].J];B=x.Z.ba;C=null === (y=B[v]) || void 0 === y?void 0:y.Hc;B[v] || (C=this.ya.Z.ba[v].Hc);D=void 0;E=void 0;v=function(){var F,G,J;F=B[C];if(!F)return (H.console.warn(("AdPoliciesManager: getPrerollOnSeek: segment ").concat(C," not found")),"break");if(F.type === c.pd.content && (D === c.pd.content || void 0 === D) && z){G=H.cRa(C,z);G && (E={Sa:G});}if(C === w.L)return (G=(F=E && !E.L) || D && D !== c.pd.content?E:void 0,f.l && H.console.trace("AdPoliciesManager: getPrerollOnSeek: returning",{result:G,W$c:E,F8c:F}),{value:G});if(F.type === c.pd.Rc && D !== c.pd.Rc){f.l && H.console.trace(("AdPoliciesManager: getPrerollOnSeek: found start of ad break: ").concat(C));J=(0,e.dR)(C);(0,g.assert)(J,"AdPoliciesManager: getPrerollOnSeek: Unable to find ad from ad segmentId");(G=void 0 !== J.Yb?z[J.Yb]:(0,n.cc)(z,function(L){return L.fb === J.fb;})) && (E={L:C,Sa:G});}D=F.type;C=F.Hc;};for(var H=this;C;){x=v();if("object" === typeof x)return x.value;if("break" === x)break;}}f.l && this.console.trace("AdPoliciesManager: getPrerollOnSeek: returning undefined");};u.prototype.bSa=function(v,w,x){var y,A,z;y=v.ba;x=x.L;A=y[x];if(A){A=A.type;if(A === c.pd.padding)return this.bSa(v,w,{L:y[x].Hc,offset:n.I.ia});f.l && this.console.trace("AdPoliciesManager: getPrerollAdBreakForPlaygraph",x);if(A === c.pd.Rc){z=(0,e.dR)(x);(0,g.assert)(z,"getPrerollAdBreakForPlaygraph: getPrerollSegmentId: Unable to find ad from ad segmentId");w=void 0 !== z.Yb?w[z.Yb]:(0,n.cc)(w,function(B){return B.fb === z.fb;});(0,g.assert)(w,"getPrerollAdBreakForPlaygraph: Unable to find ad break");return {L:x,Sa:w};}if(A === c.pd.content){if(v=this.cRa(x,w))return {Sa:v};w=this.Crc(x,w);if("dynamic" === (null === w || void 0 === w?void 0:w.type))return {L:x,Sa:w};}else f.l && (0,g.assert)(!0,"Can't get preroll; initial segment was padding and it had no default next segment");}else f.l && this.console.warn(("AdPoliciesManager: getPrerollAdBreakForPlaygraph: segment ").concat(x," not found"));};u.prototype.cRa=function(v,w){v=(0,e.WQa)(v);(0,g.assert)(v,"Should have contentInfo from segment name");if(0 < v.jY)if((w=w[v.jY - 1],f.l && this.console.trace("getEmptyAdForSegment",{E9c:!!w,Sa:w && ({index:w.Yb,empty:w.empty,bi:w.bi,h_:w.h_,source:w.source})}),!w))f.l && this.console.warn("AdPoliciesManager: getNonEmptyAdForSegment: adBreak not found");else if(w.empty && !w.bi && !w.h_)return w;};u.prototype.Crc=function(v,w){v=(0,e.WQa)(v);(0,g.assert)(v,"Should have contentInfo from segment name");if(0 < v.jY)if((w=w[v.jY - 1],!w))f.l && this.console.warn("AdPoliciesManager: getNonEmptyAdForSegment: adBreak not found");else if(!w.empty && !w.bi && !w.h_)return w;};return u;})();b.c5a=t;},14103:function(t,b,a){var n,c,f,g,e,h,k;function d(l){var m;m=(/^.+:ad\-(\d+)\-(\d+)(-F)?$/).exec(l);if(m)return {WJ:parseInt(m[2]),Yb:parseInt(m[1]),zL:!1};if(m=(/^.+:q\-\[(.+)\]\-(\d+)(-F)?$/).exec(l))return {WJ:parseInt(m[2]),fb:m[1],zL:!1};if(l=(/^.+:pad((end)|(start))-(\d+)(-F)?$/).exec(l))return {Yb:parseInt(l[4]),zL:!0,X0:l[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.d5a=void 0;b.dR=d;b.WQa=function(l){if(l=(/^.+-(\d+)(-F)?$/).exec(l))return {jY:parseInt(l[1])};};n=a(22970);c=a(66164);f=a(91176);g=a(79048);e=a(48170);h=a(51308);k=a(81749);t=(function(){function l(m,p,q,r){this.console=m;this.Jm=p;this.zd=q;this.Dd=r;this.console=(0,f.Gf)(c.platform,this.console,"ADPOSITIONSERVICE");}l.prototype.Ioc=function(m){var p,q,r,u,v,w,x,y,A,z;r=d(null === m || void 0 === m?void 0:m.L);u=this.Jm.Fb;u.get(m.L);x=u.DH(m.L);y=[m.L];if(x){A=u.tH.TK(m.L);for(w=A.next();!w.done;){w=w.value;z=u.DH(w.id);if(!w || z !== x || w.type === g.pd.content)break;y.push(w.id);w=A.next();}}u=null !== (v=y.pop()) && void 0 !== v?v:m.L;v=d(u);m=this.Jm.Z.ba[m.L];u=this.Jm.Z.ba[u];m=(null !== (p=m.cb) && void 0 !== p?p:Infinity) - m.Ta;p=(null !== (q=u.cb) && void 0 !== q?q:Infinity) - u.Ta;return {start:(null === r || void 0 === r?0:r.zL)?new k.pza(h.Mga.start,m):void 0,end:(null === v || void 0 === v?0:v.zL)?new k.pza(h.Mga.end,p):void 0};};Object.defineProperties(l.prototype,{BM:{get:function(){if(this.Jm.player.Wd)return this.sD(this.Jm.player.Yg);},enumerable:!1,configurable:!0}});l.prototype.sD=function(m){var p,q,r,u,v,w,x,y,A,z,B,C,D;p=this.dwb(m);e.l && this.console.debug("getPresentingAdBreak",m,p);if(p){q=p.Sa;r=p.Yb;u=p.Rc;v=p.WJ;w=p.X0;if(q){(0,f.assert)(void 0 !== r,"adBreakIndex should be defined");x=this.Ioc(m);x=new k.w5a(q,x.start,x.end);y=this.Jm.Fb;y.get(m.L);z=-m.offset.G;B=y.DH(m.L);if(B){C=y.tH.TK(m.L);for(A=C.next();!A.done;){A=A.value;D=y.DH(A.id);if(!A || D !== B || A.type === g.pd.content)break;z+=A.cb - A.Ta;A=C.next();}}y=f.I.Ca(z);z=y.ea(x.gZ.duration);"end" === p.X0?z=f.I.ia:"start" === p.X0 && (B=x.Xea.duration.ea(m.offset),z=z.ea(B));q={Sa:x,progress:{Flb:q.duration.ea(z),O5b:1 - Math.max(0,z.G) / q.duration.G,P5b:x.duration.ea(y),Q5b:1 - Math.max(0,y.G) / x.duration.G},position:m,index:r};r=this.Jm.Z.ba[m.L];r=r.cb - r.Ta;m=m.offset.G / r;w?q.uYa={hHc:m,kua:p.X0,hua:f.I.Ca(r)}:u && ((0,f.assert)(void 0 !== v,"adIndex should be defined"),q.XJ={Rc:u,Olb:m,index:v});return q;}this.console.error("getPresentingAdBreak unable to find adBreak,","position:",m,"adInfo:",p);}else e.l && this.console.debug("getPresentingAdBreak could not find ad data for position",m);};l.prototype.dwb=function(m){var p,q,r;q=m.L;e.l && this.console.debug("getAdDataForSegment",q,m);m=this.HSa(m);if(void 0 === m)e.l && this.console.debug("getAdDataForSegment could not find viewable for position");else {if(q=d(q)){m=this.Dd.HQa(m,q);(0,f.assert)(m,"adBreak should be defined");if(q.zL)return {Sa:m,Yb:q.Yb,X0:q.X0};r=q.WJ;q=null !== (p=q.Yb) && void 0 !== p?p:m.Yb;return {Sa:m,Yb:q,Rc:m.Kb[r],WJ:r};}e.l && this.console.debug("Could not get ad info for segment name");}};l.prototype.Ypc=function(m,p){var q;q=this.HSa(m);if(void 0 !== q)return this.Dd.s1a(q,m,p);};l.prototype.dR=function(m){return d(m);};l.prototype.eR=function(m){var p,q,r,u;p=d(m);if(p){q=void 0;q=this.Jm.Z.ba[m]?this.Jm.Fb.DH(m):this.Jm.JR.Fb.UL(m);r=m=void 0;if(q)if((r=this.zd.Z.ba[q].J,q=this.Dd.lb[r],(0,f.assert)(q,"viewableAds should be defined"),void 0 !== p.Yb))m=q[p.Yb];else if(p.fb){u=p.fb;m=q.filter(function(v){return v.fb === u;})[0];}(0,f.assert)(m,"adBreakInfo should be defined");p=n.__rest(p,["adBreakIndex","adBreakTriggerId"]);return {Df:m,mZa:p,fd:r};}};l.prototype.HSa=function(m){var p,q;q=this.zd;if(m=null === (p=q.lj) || void 0 === p?void 0:p.JI(m))if(p=q.Z.ba[m.L])return p.J;};return l;})();b.d5a=t;},54953:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.e5a=void 0;d=a(91176);n=a(52571);c=a(59034);t=(function(){function f(g,e){var h;h=this;this.config=g;this.I3a=0;this.EW={};e.on("adEvent",function(k){return h.yXa(k);});}Object.defineProperties(f.prototype,{xx:{get:function(){var g,e;g=this;e={};Object.keys(this.EW).forEach(function(h){e[h]=g.EW[h].state;});return e;},enumerable:!1,configurable:!0}});f.prototype.Q0a=function(g,e){var h;h=this.EW[g];h || (h=new c.Kib(this.config),this.EW[g]=h);h.Q0a(e);};f.prototype.reset=function(){this.I3a=0;};f.prototype.yXa=function(g){var e;e=this;"adComplete" === g.event && Object.keys(this.EW).some(function(h){var k,l,m;h=null !== (k=(m=e.xx)[h]) && void 0 !== k?k:m[h]=[];(0,n.assert)(void 0 !== g.Yb,"complete event should have an adBreakIndex");return null === (l=h[g.Yb].Kb) || void 0 === l?void 0:l.some(function(p){return p.id == g.S.R?(p.bi=!0,e.I3a++,!0):!1;});});};f.prototype.MOa=function(g){var e;e=this;Object.keys(this.EW).forEach(function(h){e.xx[h].forEach(function(k){k.Kb.forEach(function(l){l.id == g && (l.wL=!0);});});});};f.prototype.$oa=function(g,e){return (g=this.xx[g]) && (0,d.cc)(g,function(h){return new d.zW(h.Ga,h.Ga.add(h.Hk || d.I.ia)).iY(e,"ms");});};f.prototype.Eoc=function(g,e){return (g=this.xx[g]) && (0,d.cc)(g,function(h){return h.yj === e;});};return f;})();b.e5a=t;},14847:function(t,b,a){var f,g,e,h,k;function d(l){switch(l){case "AD_BREAK":case "AD_BREAK_ENUMERATED_ADS":return 52;case "NON_AD_BREAK":return 34;case "NO_INDICATION":return 60;default:return 60;}}function n(l){switch(l){case "ENABLED_AS_NORMAL":return {nI:!0,WH:!0,uH:!0};case "DISABLED_EXCEPT_FOR_PAUSE_EXIT":return {nI:!1,WH:!0,uH:!0};case "DISABLED_EXCEPT_FOR_PAUSE_EXIT_LIVE_EDGE":return {nI:!1,WH:!0,uH:!0};default:return {nI:void 0,WH:void 0,uH:void 0};}}function c(l,m,p){var q;if(3 <= (null === l || void 0 === l?void 0:l.length)){q=0;l=l.toLowerCase().substring(0,3).split("").map(function(r){return "t" === r?!0:"f" === r?!1:"*" === r?0 === (1 << q++ & p):void 0;});m.nI=l[0];m.WH=l[1];m.uH=l[2];}else (m.nI=void 0,m.WH=void 0,m.uH=void 0);}Object.defineProperties(b,{__esModule:{value:!0}});b.w5a=b.pza=b.x5a=void 0;f=a(91176);g=a(35963);e=a(8707);h=a(88E3);t=(function(){function l(m,p,q,r){void 0 === r && (r=NaN);this.config=m;this.Bg=p;this.dIa=q;this.e7=r;this.WSa=this.Ujb=this.MIa=!1;this.uJa={nI:void 0,WH:void 0,uH:void 0};this.w_=this.k2=!1;this.WO=[];this.aRb(p,q);}Object.defineProperties(l.prototype,{$o:{get:function(){return this.Bg.$o;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Yb:{get:function(){return this.dIa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ey:{get:function(){return !!this.Bg.ey;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{dM:{get:function(){return !!this.Bg.dM;},set:function(m){this.Bg.dM=m;},enumerable:!1,configurable:!0}});l.prototype.bRb=function(m){var p;p=this;void 0 === m && (m=[]);this.WO=m.map(function(q,r){r=p.WO[r];return (null === r || void 0 === r?void 0:r.id) === q.id?r:new h.v5a(q);});};l.prototype.aRb=function(m,p){var q,r,u,v;v=this.Bg;this.Bg=m;v=m.Zx !== v.Zx;if(this.WO.length !== (null === (q=m.Kb) || void 0 === q?void 0:q.length) || v)(this.bRb(m.Kb),"hydration" === m.source && void 0 !== m.bi && (this.MIa=m.bi));this.dIa=p;c(this.config.pfa,this.uJa,p);q=this.config.pfa;4 < (null === q || void 0 === q?void 0:q.length) && (q=q.substring(4),p%=q.length / 2,m.Ao=parseInt(q.substring(2 * p,2 * p + 2),16));m.f3 && (m.f3.aSb && (this.Bg.Ao=d(m.f3.aSb)),m.f3.cya && (this.uJa=n(m.f3.cya)));this.Bg.ey && "viewable" !== this.Bg.source && (this.pvc(m,null !== (r=m.Zx) && void 0 !== r?r:-1),this.k2=this.Bg.y_ || !1);this.e7=null !== (u=m.Zx) && void 0 !== u?u:-1;};Object.defineProperties(l.prototype,{location:{get:function(){return this.Bg.location;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ga:{get:function(){return this.Bg.Ga;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{yj:{get:function(){return this.Bg.yj;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{EX:{get:function(){return this.Bg.EX;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ao:{get:function(){var m;return null === (m=this.Bg) || void 0 === m?void 0:m.Ao;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ar:{get:function(){return this.e7;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{FIc:{get:function(){return this.uJa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{VJ:{get:function(){return this.Bg.VJ;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Kb:{get:function(){return this.WO;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{empty:{get:function(){return this.duration.equal(f.I.ia);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{source:{get:function(){return this.Bg.source;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{duration:{get:function(){return (0,e.Yqa)(this.Bg)?this.Bg.duration:this.Kb.reduce(function(m,p){return m.add(p.endTime.ea(p.startTime));},f.I.ia);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{type:{get:function(){return this.Bg.type;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{fb:{get:function(){return this.Bg.fb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{VAb:{get:function(){return this.bi || !this.Qm && !this.WSa?this.WO.every(function(m){return m.bi;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{bi:{get:function(){return this.MIa?!0:this.WO.length?this.WO.every(function(m){return m.bi;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Qm:{get:function(){return !!this.Bg.Qm;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{LNb:{get:function(){var m;m="viewable" === this.Bg.source && this.ff;return !!this.Bg.Qm && !this.ff && !m;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ff:{get:function(){return !!this.Bg.ey;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Hk:{get:function(){var m;return null === (m=this.Bg) || void 0 === m?void 0:m.Hk;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{h_:{get:function(){return this.Ujb;},set:function(m){m && (this.Ujb=!0);},enumerable:!1,configurable:!0}});l.prototype.bpa=function(){return this.Bg.Yk;};l.prototype.gu=function(){return this.Bg.fb;};Object.defineProperties(l.prototype,{B2a:{get:function(){var m;return null !== (m=this.Bg.B2a) && void 0 !== m?m:!1;},enumerable:!1,configurable:!0}});l.prototype.AQc=function(){this.Kb.length || (this.MIa=!0);};l.prototype.vBc=function(){this.w_=!0;};l.prototype.pvc=function(m,p){this.WSa && p === this.e7 || (this.Bg=m,this.bRb(m.Kb),this.WSa=!0,this.e7=p,this.k2=m.y_);};l.prototype.clone=function(){return new l(this.config,this.Bg,this.dIa,this.e7);};return l;})();b.x5a=t;k=(function(){function l(m,p){this.kua=m;this.J2b=p;}Object.defineProperties(l.prototype,{duration:{get:function(){return f.I.Ca(this.J2b);},enumerable:!1,configurable:!0}});Object.defineProperties(l,{uXa:{get:function(){return this.d4b || (this.d4b=new l(g.Mga.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(l,{FEc:{get:function(){return this.c4b || (this.c4b=new l(g.Mga.end,0));},enumerable:!1,configurable:!0}});return l;})();b.pza=k;t=(function(){function l(m,p,q){this.Df=m;this.blb=p || k.uXa;this.N2b=q || k.uXa;}Object.defineProperties(l.prototype,{Xea:{get:function(){return this.blb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{gZ:{get:function(){return this.N2b;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Iuc:{get:function(){return this.blb !== k.uXa || this.gZ !== k.FEc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{duration:{get:function(){return this.Df.duration.add(this.Xea.duration).add(this.gZ.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{hua:{get:function(){return this.Xea.duration.add(this.gZ.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{type:{get:function(){return this.Df.type;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ao:{get:function(){return this.Df.Ao;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{w_:{get:function(){return this.Df.w_;},enumerable:!1,configurable:!0}});l.prototype.clone=function(){return new l(this.Df.clone(),this.Xea,this.gZ);};return l;})();b.w5a=t;},88E3:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.v5a=void 0;d=a(91176);t=(function(){function n(c){this.Rc=c;this.vkb=this.wL=this.bi=!1;this.jb=d.I.Ca(this.Rc.Ta);this.Xb=d.I.Ca(this.Rc.cb);}Object.defineProperties(n.prototype,{id:{get:function(){return this.Rc.id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{qn:{get:function(){return this.vkb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{startTime:{get:function(){return this.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{endTime:{get:function(){return this.Xb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{duration:{get:function(){return this.Xb.ea(this.jb);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{aG:{get:function(){return this.Rc.aG;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Dxa:{get:function(){return this.Rc.Dxa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{$o:{get:function(){return this.Rc.$o;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{r_:{get:function(){return this.Rc.r_;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{I2:{get:function(){return this.Rc.I2;},enumerable:!1,configurable:!0}});n.prototype.normalize=function(c,f){this.jb=c;this.Xb=f;this.vkb=!0;};Object.defineProperties(n.prototype,{p3a:{get:function(){return this.Rc.p3a;},enumerable:!1,configurable:!0}});return n;})();b.v5a=t;},81749:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(88E3),b);t.__exportStar(a(14847),b);t.__exportStar(a(46062),b);},67288:function(t,b,a){var n,c,f,g,e,h,k,l,m;function d(p,q){return n.__assign(n.__assign({},{xo:q || g.I.ia,position:p.position,Sa:p.Sa.Df}),{Sa:p.Sa.Df});}Object.defineProperties(b,{__esModule:{value:!0}});b.Oeb=void 0;b.RAb=function(p){return !!p.$na;};b.Vaa=function(p){return !!p.presentingInfo;};b.m$c=function(p){return !p.$na && !p.presentingInfo;};n=a(22970);c=a(90745);f=a(79048);g=a(91176);e=a(91176);h=a(66164);k=a(48170);l=a(69575);m=a(52571);t=(function(){function p(q,r,u,v){var w;w=this;this.Ec=q;this.ya=r;this.iz=v;this.SQ=new c.kf();this.lMb=this.wnb=!1;this.console=(0,l.Gf)(h.platform,u,"PLAYERADMANAGER");this.events=new c.EventEmitter();this.ya.events.on("playerChanged",this.CIb.bind(this));this.CIb();this.ya.events.on("cancelingStreaming",function(){var x;k.l && w.console.trace("PlayerAdManager received cancelStreaming");if(w.lQ){x=w.ya.player.I_;x?w.jKa(x.position):(k.l && w.console.error("Missing last position for cancel streaming call"),w.lQ=void 0);}});this.Ec.fla.on("adPlaygraphUpdated",function(x){return w.events.emit("adPlaygraphUpdated",x);});this.Dd.events.on("adSegmentDropped",function(x){w.jFc(x);});this.Dd.events.on("advertsMismatch",function(x){return w.events.emit("advertsMismatch",x);});}Object.defineProperties(p.prototype,{Caa:{get:function(){return !!this.lQ;},enumerable:!1,configurable:!0}});p.prototype.cl=function(q){var r;if(!this.ya.mo)return (k.l && this.console.trace("PlayerAdManager.canSkip(): no player"),!1);r=this.ya.player;if(!r.q$(q))return (k.l && this.console.trace("PlayerAdManager.canSkip() false, no branch spanning playerTimestamp:",q),!1);k.l && this.console.trace(("PlayerAdManager.canSkip(): ").concat(r.Md.ca()," -> ").concat(q.ca()));q=q.greaterThan(r.Md)?(0,l.Sub)(r.Ya,r.Md,q):(0,l.Sub)(r.Ya,q,r.Md);r=!q.some(function(u){return u.K.type !== f.pd.content;});k.l && this.console.trace(("PlayerAdManager.canSkip(): ").concat(r,"; ").concat(q.map(function(u){return ("").concat(u.K.id," ").concat(u.K.type," ").concat(u.Tb.G,"..").concat(u.Tb.G);})));return r;};p.prototype.T$=function(){var q;return (null === (q=this.lQ) || void 0 === q?void 0:q.FIc) || ({nI:void 0,WH:void 0,uH:void 0});};Object.defineProperties(p.prototype,{Dd:{get:function(){return this.Ec.Dd;},enumerable:!1,configurable:!0}});p.prototype.CIb=function(){var q,r;q=this;this.console.trace("Player changed",this.ya.mo);this.SQ.clear();if(this.ya.mo){r=this.ya.player;this.SQ.addListener(r.events,"segmentPresenting",function(u){return q.nB(u);});this.SQ.addListener(r.events,"playbackEnding",function(u){return q.RXa(u);});}};p.prototype.nB=function(q){var r,u,v,w,x,y,A,z,B,C,D;k.l && this.console.trace("Got Segment presenting",{K:q.position.L,position:q.position.offset.ca(),seek:q.seek});z=q.o_?q.o_.position.L:q.position.L;B=this.ya.IZ(z)[0];C=(B=(null === (C=null === B || void 0 === B?void 0:B.M) || void 0 === C?void 0:C.Xj) || (null === B || void 0 === B?void 0:B.M))?null === (u=null === (r=B.S) || void 0 === r?void 0:r.Jd) || void 0 === u?void 0:u.EX:void 0;!this.wnb && C && h.platform.ping && (h.platform.ping(C),this.wnb=!0);r=this.tj.sD(q.position);k.l && this.console.trace("Checked segment presenting",{Yb:null === r || void 0 === r?void 0:r.index,xcd:r});if(u=(null === r || void 0 === r?void 0:r.Sa.Df) || this.tj.Ypc(q.position,!!q.seek))if((C=null === (v=null === r || void 0 === r?void 0:r.XJ) || void 0 === v?void 0:v.Rc,this.lMb || (null === B || void 0 === B?0:B.qUa) || u.vBc(),k.l && this.console.trace(("Got segment presenting event: adBreak: ").concat(u.Yb),{Rc:C,L:z,M:B.J}),(0,m.assert)(r || u.empty,"Should have presenting info for event corresponding to ad break, or ad break should be empty"),r)){D=!1;this.iz.forEach(function(E){var H;E.Eb && (null === (H=E.S.Jd) || void 0 === H?0:H.Ij) && (D=!0);});if(!this.Caa || "embedded" === (null === (w=this.lQ) || void 0 === w?void 0:w.type) || D && q.seek)u.empty?u.ff || C?(k.l && this.console.trace("We are no longer in an adbreak or past an embedded ad (1)"),this.amc(r,q.playerTimestamp)):k.l && this.console.trace("Passed an unhydrated ad break; assume it was skipped intentionally"):this.N5b(r,q.playerTimestamp);C && (C.id === B.J && "dynamic" === (null === (x=this.lQ) || void 0 === x?void 0:x.type) && (k.l && this.console.trace("Detected fallback from dynamic to embedded ad, forcing new ad break"),this.M5b(r,q.playerTimestamp)),(0,m.assert)((null === (y=r.XJ) || void 0 === y?void 0:y.Rc) === C,"Presenting Info should point to same ad as adInfo"),this.Yo(r,q.playerTimestamp));}else (k.l && this.console.trace("We are no longer in an adbreak or past an embedded ad (2)"),u.ff && this.fkc(u,q.position,q.playerTimestamp));!this.Caa || r && "end" !== (null === (A=r.uYa) || void 0 === A?void 0:A.kua) || (k.l && this.console.trace("We are in end padding / next segment"),this.Kmb(q.position));this.Caa && !r && (k.l && this.console.trace("onSegmentPresenting calling adBreakEnding"),this.jKa(q.position));this.lMb=!0;};p.prototype.RXa=function(q){this.Caa && this.Zwc(q.position) && (this.Kmb(q.position),k.l && this.console.trace("onPlaybackEnding calling adBreakEnding"),this.jKa(q.position));};p.prototype.J1a=function(q){q.Sa=q.Sa.clone();return q;};p.prototype.N5b=function(q,r){(0,m.assert)(q,"Should have presenting info for event corresponding to ad break");k.l && this.console.trace("Emitting adBreakPresenting:",q);this.lQ=q.Sa.Df;this.events.emit("adBreakPresenting",{type:"adBreakPresenting",eventInfo:d(q,r),presentingInfo:this.J1a(q),playerControlState:this.T$(),xo:r});};p.prototype.Yo=function(q,r){var u,v,w;k.l && this.console.trace("Emitting adPresenting:",q);u=this.events;v=u.emit;w=this.J1a(q);q=n.__assign(n.__assign({},d(q,r)),{Rc:q.XJ.Rc});v.call(u,"adPresenting",{type:"adPresenting",presentingInfo:w,f8c:q,xo:r});};p.prototype.M5b=function(q,r){q={type:"adBreakFallback",presentingInfo:this.J1a(q),xo:r};k.l && this.console.trace("Emitting adBreakFallback:",q);this.events.emit(q.type,q);};p.prototype.amc=function(q,r){k.l && this.console.trace("Emitting explicit adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",presentingInfo:q,xo:r});};p.prototype.fkc=function(q,r,u){k.l && this.console.trace("Emitting empty adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",$na:q,position:r,xo:u});};p.prototype.Kmb=function(q){k.l && this.console.trace("Emitting anonymous adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",position:q});};p.prototype.jKa=function(q){this.lQ=void 0;k.l && this.console.trace("Emitting adBreakEnded");this.events.emit("adBreakEnded",{type:"adBreakEnded",eventInfo:{position:q},playerControlState:this.T$()});};p.prototype.aw=function(q){var r,u,v;r=this;u={aLa:[],result:{}};v=Object.keys(this.Dd.lb).filter(function(w){return r.Dd.wv[w];});if(null === q || void 0 === q?0:q.hz)v=v.filter(function(w){var x;return -1 !== (null === (x=q.hz) || void 0 === x?void 0:x.indexOf(w));});u.aLa=v;v.forEach(function(w){var x;u.result[w]=0 < (null === (x=r.Dd.lb[w]) || void 0 === x?void 0:x.length);});return u;};p.prototype.$G=function(q){var r,u,v,w;r=this;u={aLa:[],result:{}};v=this.Dd.wv;w=Object.keys(v).filter(function(x){return v[x];});if(null === q || void 0 === q?0:q.hz)w=w.filter(function(x){var y;return -1 !== (null === (y=q.hz) || void 0 === y?void 0:y.indexOf(x));});u.aLa=w;w.forEach(function(x){var y,A,z,B,C;z=null === (y=v[x]) || void 0 === y?void 0:y.lb;if(z){y=r.iz.get(Number(x));B=!(null === y || void 0 === y || !y.Eb) && !(null === (A=null === y || void 0 === y?void 0:y.S.Jd) || void 0 === A || !A.Ij);A=r.Kmc(x,z);C=r.Dd.lb[x];u.result[("").concat(x)]=A.map(function(D,E){return n.__assign(n.__assign({},D),{hasCompletedPlayback:C[E].VAb || B,isHiddenFromUser:C[E].VAb || B,unnormalizedLocationMs:D.yj,locationMs:D.kw,location:D.location,adBreakToken:D.Yk,contentTimestamp:D.Ga,type:D.type});});}});return u;};Object.defineProperties(p.prototype,{tj:{get:function(){return this.Ec.tj;},enumerable:!1,configurable:!0}});p.prototype.Kmc=function(q,r){var u,v;u=[];v=[];this.Dd.lb[q].forEach(function(w){return w.Kb.forEach(function(x){x.wL && -1 === v.indexOf(x.id) && v.push(x.id);});});r.forEach(function(w){var x,y;w=n.__assign({},w);y=null === (x=w.ads) || void 0 === x?void 0:x.filter(function(A){return -1 === v.indexOf(A.id);});w.ads=y;u.push(w);});return u;};p.prototype.jFc=function(q){var r,u,v,w;r=this;u=q.adId;v=this.Dd.wv;q=Object.keys(v).filter(function(x){return v[x];});w=this.ya.Z.ba;q.forEach(function(x){var y,A;null === (A=null === (y=v[x]) || void 0 === y?void 0:y.lb) || void 0 === A?void 0:A.forEach(function(z,B){var C;null === (C=z.Kb) || void 0 === C?void 0:C.forEach(function(D,E){D.id === u && (D=(0,e.cc)(Object.keys(w),function(H){H=r.tj.dR(H);return !H || H.zL?!1:E === H.WJ && B === H.Yb;})) && r.events.emit("segmentDropped",{type:"segmentDropped",auxMid:u,auxMidType:f.pd.Rc,adBreakLocationMs:z.yj,reason:"network_error",sev:"error",segmentId:D});});});});};p.prototype.Zwc=function(q){q=this.ya.Fb.get(q.L);return !(!q || 0 < q.DE);};return p;})();b.Oeb=t;},73803:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.l8a=void 0;t=(function(){function a(d){this.uPa=d;}a.prototype.bH=function(d,n){var c,f,g;c=this;f=d.Sa;g=n(d);g.Kx || f.Kb.forEach(function(e,h){if(e.wL || c.uPa.Muc(e.id))(g.Lx.push(h),g.reason="error");});return g;};return a;})();b.l8a=t;},15905:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.m8a=void 0;t=(function(){function a(){}a.prototype.bH=function(d,n){var c,f;f=d.Sa;return (null === (c=d.wDb) || void 0 === c?0:c.Lq) || !f.bi?n(d):{Kx:!0,Lx:[],reason:"played"};};return a;})();b.m8a=t;},88700:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Nab=void 0;d=a(22970);n=a(91176);t=(function(){function c(f,g){this.config=f;this.console=g;}c.prototype.bH=function(f,g){var e,h,k,l,m,p,q,v,w,x,y,A;if(this.config.G7)return g(f);k=f.wDb;l=null === k || void 0 === k?void 0:k.Jd;m=l && l.zLb;if((null === k || void 0 === k?0:k.Eb) && l){l=k.ho(!0);k=null === (h=k.fh) || void 0 === h?void 0:h.ow;h=f.Sa;p=f.Sa.Ga.add(h.Hk || h.duration);m=!m && h.$o;if(l && p.lessThan(l) && m)return (!1,{Kx:!0,Lx:[],reason:"live-drop"});if(l && h.Kb){g=g(f);if(g.Kx)return g;q=n.I.ia;m=h.Kb.map(function(B,C){q=q.add(B.duration);return {Rc:B,index:C,ujc:q};}).reverse();g=g.Lx || [];try{for(var r=d.__values(m),u=r.next();!u.done;u=r.next()){v=u.value;w=v.index;if(-1 === g.indexOf(w)){if(!v.Rc.$o)break;x=f.Sa.Ga.add(v.ujc);y=f.Sa.Ga.add(f.Sa.Hk || f.Sa.duration);A=(k || l).add(n.I.Ca(this.config.Fzc));if(x.lessThan(l) || y.lessThan(A))(!1,g.push(w));else break;}}}catch(B){var z;z={error:B};}finally{try{u && !u.done && (e=r.return) && e.call(r);}finally{if(z)throw z.error;}}return {Kx:!1,Lx:g,reason:"live-drop"};}}return g(f);};return c;})();b.Nab=t;},70778:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.cdb=void 0;t=(function(){function a(){}a.prototype.bH=function(){return {Lx:[],Kx:!1,reason:"none"};};return a;})();b.cdb=t;},3758:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wfb=void 0;t=(function(){function a(d){this.console=d;}a.prototype.bH=function(d,n){n=n(d);if(n.Kx && !d.vjc && d.aK.filter(function(c){return c.Df.Yb === d.Yb;}).length)return (n.Kx=!1,n.reason="in buffer",this.console.log("PreserveAppendedAdsPolicy: preserving ad break",{Yb:d.Yb,fb:d.Sa.fb,aK:d.aK}),n);this.console.log("PreserveAppendedAdsPolicy: not preserving ad break",{Yb:d.Yb,fb:d.Sa.fb,aK:d.aK});return n;};return a;})();b.wfb=t;},77184:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xfb=void 0;t=(function(){function a(d){this.console=d;}a.prototype.bH=function(d,n){var c,f;n=n(d);c=d.aK.reduce(function(g,e){e.mZa.zL || g.add(e.mZa.WJ);return g;},new Set());f=n.Lx.filter(function(g){return !c.has(g);});n.Lx.length !== f.length && (n.Lx=f,n.reason="ad in buffer",this.console.log("PreserveIndividualAppendedAdsPolicy: preserving ads inad break",{Yb:d.Yb,fb:d.Sa.fb,aK:d.aK,Fbd:n.Lx}));return n;};return a;})();b.xfb=t;},45496:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yfb=void 0;t=(function(){function a(){}a.prototype.bH=function(d,n){var c;n=n(d);c=d.Qyc;n.Kx && c && c.Df.Yb === d.Yb && (n.Kx=!1,n.reason="last appended");return n;};return a;})();b.yfb=t;},31413:function(t,b,a){var d,n,c,f,g,e,h,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Wgb=void 0;d=a(22970);n=a(91176);c=a(91176);f=a(66164);g=a(65161);e=a(48170);h=a(89527);k=a(52571);l=a(40666);t=(function(){function m(p,q,r,u,v,w,x,y,A,z,B,C){var D;D=this;this.la=p;this.gd=q;this.events=r;this.Sa=u;this.Rc=v;this.uKa=w;this.Uea=x;this.pSc=y;this.x7=A;this.Zm=z;this.o8=B;this.console=C;this.Jk=f.platform.time.now();this.HE=new Map();this.JC=0;(0,k.assert)(w.S,"Presenting ad should have a manifest");this.Plb=q.fs(function(){return D.eVc();},"impressionLogging");this.la.player.Bw.forEach(function(E,H){(E=E.vZ(h.vV)) && D.HE.set(H,E);});}Object.defineProperties(m.prototype,{HI:{get:function(){return this.JC;},enumerable:!1,configurable:!0}});m.prototype.La=function(){this.Plb.La();};m.prototype.eVc=function(){var p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F;return d.__generator(this,function(G){switch(G.label){case 0:e.l && this.console.trace("AdImpressionLogger: starting at",this.x7.ca());p=this.Rc;this.wpb();if(!p.aG)return (this.console.error(("AdImpressionLogger: no actionAdEvents for ad ").concat(p.id)),[2]);q=this.Uea.offset.G;r=this.x7;u=this.x7.add(p.duration);v=this.pSc;G.label=1;case 1:(G.tc.push([1,12,13,14]),(0,k.assert)(null === (E=p.aG) || void 0 === E?void 0:E.start,"Start event info should be defined"),this.emit(p.aG.start,q,v,!1,q),(0,k.assert)(p.Dxa,"Timed event info should be defined"),G.label=2);case 2:(G.tc.push([2,7,8,9]),w=d.__values(p.Dxa),x=w.next(),G.label=3);case 3:if(x.done)return [3,6];y=x.value;r=this.x7.add(n.I.Ca(y.Qp));if(r.lessThan(v))return [3,5];e.l && this.console.trace(("AdImpressionLogger[").concat(this.Uea.L,"]: waiting for ").concat(y.Qp,"ms timed event") + (" at ").concat(r.ca()));return [4,l.ce.mm(r)];case 4:(G.T(),v=r,this.emit(y,y.Qp,r,!1,q),G.label=5);case 5:return (x=w.next(),[3,3]);case 6:return [3,9];case 7:return (A=G.T(),C={error:A},[3,9]);case 8:try{x && !x.done && (D=w.return) && D.call(w);}finally{if(C)throw C.error;}return [7];case 9:if(!u.greaterThan(r))return [3,11];r=u;e.l && this.console.trace(("AdImpressionLogger[").concat(this.Uea.L,"]: waiting for end of ad at ").concat(r.ca()));return [4,l.ce.mm(r)];case 10:(G.T(),v=r,G.label=11);case 11:return [3,14];case 12:return (z=G.T(),this.console.error("AdImpressionLogger: error",z),this.JC++,[3,14]);case 13:v=this.la.player.I_?this.la.player.I_.xo:this.la.player.Wd?this.la.player.Md:v;if(v.Wf(u))((0,k.assert)(null === (H=p.aG) || void 0 === H?void 0:H.complete,"Complete event should be defined"),this.emit(p.aG.complete,p.endTime.G,u,!0,q));else if(null === (F=p.aG) || void 0 === F?0:F.stop)(B=v.ea(this.x7).G,this.emit(p.aG.stop,B,v,!0,q));this.wpb();return [7];case 14:return [2];}});};m.prototype.emit=function(p,q,r,u,v){var w,x,y;e.l && this.console.trace(("AdImpressionLogger[").concat(this.Uea.L,"]: emitting ").concat(p.event," event at ").concat(q,"ms") + (" for player time ").concat(r.ca()));q={L:this.Uea.L,offset:n.I.Ca(q)};w=this.WRa(r);try{x=this.o8(q);y=d.__assign(d.__assign({type:"adEvent"},p),{ai:q,sB:w,S:this.uKa.S,Jk:this.Jk,zdd:u?f.platform.time.now():-1,uv:this.Sa.yj,Yb:this.Sa.Yb,I2:this.Rc.I2,r_:this.Rc.r_,Kt:this.Sa.type,fb:this.Sa.gu(),tKa:v,OG:x,fZa:r});this.Zm && (y.Zm=this.Zm);this.events.emit("adEvent",y);}catch(A){this.console.error("Impression error event",A);this.JC++;}};m.prototype.WRa=function(p){var q,r,u;q=this.uKa.S.R;r=d.__read(this.Qxb(p,this.HE.get(g.u.X),q),2);u=r[0];r=r[1];p=d.__read(this.Qxb(p,this.HE.get(g.u.U),q),2);return {audio:u,video:p[0],text:[],total:Math.max(r,p[1])};};m.prototype.Qxb=function(p,q,r){p=(null === q || void 0 === q?void 0:q.aSc(p,r)) || [];p=(0,c.flatten)(p.map(function(u){return Object.keys(u.ao).map(function(v){v=u.ao[v];return {ob:v.ob,duration:v.totalTime,Uh:u.Uh};});}));q=p.reduce(function(u,v){return u + v.duration;},0);e.l && this.console.trace("Getting playtime journal",{R:r,jcd:p.length,totalTime:q});return [p,q];};m.prototype.wpb=function(){var p,q,r;r=this.uKa.S.R;null === (p=this.HE.get(g.u.X)) || void 0 === p?void 0:p.wKb(r);null === (q=this.HE.get(g.u.U)) || void 0 === q?void 0:q.wKb(r);};m.prototype.Bq=function(){return {ad:this.Plb.Bq(),errors:this.JC};};return m;})();b.Wgb=t;},8707:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Yqa=b.qX=void 0;b.qX=function(a,d){var n,c,e;if(!(a && d || a === d))return {tq:!0,reason:"one of the ads is undefined"};if(a && d){if(a.lb.length !== d.lb.length)return {tq:!0,reason:"ad break count mismatch"};for(var f=function(h){var k,l;k=a.lb[h];l=d.lb[h];if(!k.Ga.equal(l.Ga))return {value:{tq:!0,reason:"ad break content timestamp mismatch"}};if(k.source !== l.source)return {value:{tq:!0,reason:"ad break source mismatch"}};if((0,b.Yqa)(k) && (0,b.Yqa)(l) && !k.duration.equal(l.duration))return {value:{tq:!0,reason:"ad break duration mismatch"}};if(void 0 !== k.Hk && void 0 !== l.Hk && !k.Hk.equal(l.Hk))return {value:{tq:!0,reason:"ad break replaced duration mismatch"}};if((null === (n=k.Kb) || void 0 === n?void 0:n.length) !== (null === (c=l.Kb) || void 0 === c?void 0:c.length))return {value:{tq:!0,reason:"ad break ads length mismatch"}};if(k.Kb && l.Kb && k.Kb.some(function(m,p){if(m.id !== l.Kb[p].id)return !0;}))return {value:{tq:!0,reason:"ad break ads mismatch"}};if((k.Zx || l.Zx) && k.Zx !== l.Zx)return {value:{tq:!0,reason:"ad break hydration sequence id mismatch"}};if(k.ey !== l.ey)return {value:{tq:!0,reason:"is hydrated state mismatch"}};if(k.Qm !== l.Qm)return {value:{tq:!0,reason:"can hydrate state mismatch"}};},g=0;g < a.lb.length;g++){e=f(g);if("object" === typeof e)return e.value;}}return {tq:!1,reason:""};};b.Yqa=function(a){return "embedded" === a.type;};},59034:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Kib=void 0;d=a(81749);t=(function(){function n(c){this.config=c;this.pKa=[];}Object.defineProperties(n.prototype,{state:{get:function(){return this.pKa;},enumerable:!1,configurable:!0}});n.prototype.Q0a=function(c){var f,g;f=this;g=[];c.forEach(function(e,h){var k;k=f.pKa[h];k?(g.push(k),k.aRb(e,h)):(e=f.hgc(e,h),g.push(e));});this.pKa=g;};n.prototype.hgc=function(c,f){return new d.x5a(this.config,c,f,c.Zx);};return n;})();b.Kib=t;},25750:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.sK=void 0;d=a(22970);n=a(40981);c=a(75393);f=a(17774);b.sK=function(g,e,h){var k,l,m,p,q;k=e.iT;l=e.vX;g=d.__assign({o4:n.Eha},g).o4;m=k[5];k=(0,f.VXa)(function(){return q;});m.kla(k.Xq);h=h(e);p={lj:void 0,zd:void 0,ya:h,uVa:"content"};p.lj=new g(function(){return p.zd.Fb;},function(){return p.ya;},e.iT[2],"content:");q=new f.v7a(p,k.k2a,c.Hy.Zva.WT);p.zd=c.Hy.mva(h,q,function(){return p;},l);q.Ob();return p.zd;};},17774:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.v7a=void 0;b.VXa=function(g){var e;e=[];return {Xq:function(h,k){var l,m,p,q,r,u;m=h.J;p=h.dm;q=g();r=null === (l=null === p || void 0 === p?void 0:p.Uf) || void 0 === l?void 0:l.fd;r && r !== m && (p={Uf:{Ib:q.Woc(r),fd:r},ys:null === p || void 0 === p?void 0:p.ys});q.ya.console.trace("In wrapped request viewable",m,p);u=k(d.__assign(d.__assign({},h),{dm:p}));e.forEach(function(v){return v({J:m,ur:u.ur});});return u;},k2a:function(h){e.push(h);}};};d=a(22970);n=a(79048);c=a(5479);f=a(61996);t=(function(g){function e(h,k,l,m){void 0 === m && (m="CphAsePlaygraph");k=g.call(this,h,k,l,m) || this;k.Jp=h;k.b0a=l;h.ya.Sc(new c.w7a(k));return k;}d.__extends(e,g);e.prototype.AB=function(h){var k,l;k=g.prototype.AB.call(this,h);if(k){l=h.S.$C;l && !this.Yja && (this.uNa.ug({applyingContentPlaygraph:!0}),this.Yja=l,this.h3b=this.jdc(h.S),this.z1());}return k;};Object.defineProperties(e.prototype,{fzb:{get:function(){return this.h3b;},enumerable:!1,configurable:!0}});e.prototype.jA=function(h){if(this.Yja)return (h=n.Iz.nn(h,n.Iz.create(this.Yja.Z)).f0,h.pX(this.ya.Fb),h);};e.prototype.jdc=function(h){var k,l;k=h.oq;l=h.gL;return !(!k || !k.some(function(m){return m.gL !== l;}));};Object.defineProperties(e.prototype,{$C:{get:function(){var h;return null === (h=this.Yja) || void 0 === h?void 0:h.Z;},enumerable:!1,configurable:!0}});d.__decorate([(0,f.gb)({methodName:"processViewableResponse"})],e.prototype,"AB",null);return e;})(a(14739).Nia);b.v7a=t;},79:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.jqb=void 0;d=a(75393);n=a(4515);b.jqb=function(c,f){var g;c=f(c);g=new n.Seb(c,d.Hy.Zva.WT);return d.Hy.mva(c,g,function(){return g.Jp;});};},80068:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.$ab=void 0;d=a(22970);n=a(61996);t=a(14739);c=a(94972);a=(function(f){function g(e,h,k,l){void 0 === l && (l="CphAsePlaygraph");h=f.call(this,e,h,k,l) || this;h.Jp=e;h.b0a=k;return h;}d.__extends(g,f);g.prototype.Ob=function(){f.prototype.Ob.call(this);};g.prototype.AB=function(e){var h,k;h=this;k=f.prototype.AB.call(this,e);k && e.zD && !this.MZa && (this.MZa=new c.Efb(this.sb,e,this.ya),this.MZa.events.on("programsUpdated",function(){!1;h.z1();}),this.z1());return k;};g.prototype.jA=function(e){var h;return (null === (h=this.MZa) || void 0 === h?void 0:h.jA(e)) || e;};d.__decorate([(0,n.gb)({methodName:"processViewableResponse"})],g.prototype,"AB",null);return g;})(t.Nia);b.$ab=a;},19921:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.sK=void 0;d=a(22970);n=a(40981);c=a(75393);f=a(17774);g=a(80068);b.sK=function(e,h,k){var l,m,p,q,r;l=h.iT;m=h.vX;e=d.__assign({o4:n.Eha},e).o4;l=l[5];p=(0,f.VXa)(function(){return r;});l.kla(p.Xq);q={lj:void 0,zd:void 0,ya:void 0,uVa:"live-program"};q.lj=new e(function(){return q.zd.Fb;},function(){return q.ya;},h.iT[2],"live-program:");r=new g.$ab(q,p.k2a,c.Hy.Zva.WT);h.vX=d.__spreadArray(d.__spreadArray([],d.__read(h.vX),!1),[r],!1);q.ya=k(h);q.zd=c.Hy.mva(q.ya,r,function(){return q;},m);r.Ob();return q.zd;};},94972:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Efb=void 0;d=a(79048);n=a(90745);c=a(79048);t=(function(){function f(g,e,h){var k;k=this;this.console=g;this.M=e;this.ya=h;this.Ew=[];this.events=new n.EventEmitter();this.M.fh.events.on("modelUpdated",function(){k.RLc();});}f.prototype.RLc=function(){var g;g=this.M.fh.model.Ew;this.HKc(this.Ew,g) && (this.Ew=g.map(function(e){return {id:e.id,xn:e.xn?{Ga:e.xn.Ga}:void 0,yo:e.yo?{Ga:e.yo.Ga}:void 0};}),!1,this.events.emit("programsUpdated",{type:"programsUpdated"}));};f.prototype.HKc=function(g,e){var h,k,l,m,q,r;if(g.length !== e.length)return !0;for(var p=0;p < g.length;p++){if(g[p].id !== e[p].id)return !0;q=null === (h=g[p].xn) || void 0 === h?void 0:h.Ga;r=null === (k=e[p].xn) || void 0 === k?void 0:k.Ga;if(q !== r || q && r && q.JS(r))return !0;q=null === (l=g[p].yo) || void 0 === l?void 0:l.Ga;r=null === (m=e[p].yo) || void 0 === m?void 0:m.Ga;if(q !== r || q && r && q.JS(r))return !0;}return !1;};f.prototype.jA=function(g){var e;e=(0,c.ogc)(parseInt(this.M.R),this.M.fh.model.Ew);g=d.Iz.nn(g,d.Iz.create(e)).f0;g.pX(this.ya.Fb);return g;};return f;})();b.Efb=t;},64281:function(t,b,a){var n,c,f,g;function d(e,h){return h && !Array.isArray(h) && -1 === h.bub.indexOf(e)?h.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.yNa=void 0;n=a(22970);t=a(90745);c=a(49165);f=a(87561);g=(function(e){function h(k,l){var m;m=e.call(this) || this;m.jBc=k;m.nAb=l;m.BIa={};return m;}n.__extends(h,e);h.prototype.emit=function(k){for(var l=[],m=1;m < arguments.length;m++)l[m - 1]=arguments[m];return e.prototype.emit.call(this,k,this.jBc(k,l[0]));};h.prototype.subscribe=function(k){var l,m;l=this;if(!this.listeners(k).length){m=function(){for(var p=[],q=0;q < arguments.length;q++)p[q]=arguments[q];return l.emit.apply(l,n.__spreadArray([k],n.__read(p),!1));};this.BIa[k]=m;this.nAb.addListener(k,m);}};h.prototype.addListener=function(k,l){this.subscribe(k);e.prototype.addListener.call(this,k,l);return this;};h.prototype.removeListener=function(k,l){e.prototype.removeListener.call(this,k,l);l=this.BIa[k];!this.listeners(k).length && l && (this.nAb.removeListener(k,l),this.BIa[k]=void 0);return this;};h.prototype.on=function(k,l){this.addListener(k,l);return this;};h.prototype.$l=function(k,l){this.removeListener(k,l);return this;};h.prototype.once=function(k,l){var p;function m(){for(var q=[],r=0;r < arguments.length;r++)q[r]=arguments[r];p.removeListener(k,m);l.apply(void 0,n.__spreadArray([],n.__read(q),!1));}p=this;this.addListener(k,m);return this;};h.prototype.Uua=function(k,l){this.subscribe(k);e.prototype.Uua.call(this,k,l);};h.prototype.cJb=function(k,l){var p;function m(){for(var q=[],r=0;r < arguments.length;r++)q[r]=arguments[r];p.removeListener(k,m);l.apply(void 0,n.__spreadArray([],n.__read(q),!1));}p=this;this.Uua(k,m);};return h;})(t.EventEmitter);b.yNa=function(e,h,k,l){return new g(function(m,p){var q;q=d(m,l["*"]);m=l[m] || [];q=q.concat(m).filter(function(r){return "object" === typeof r;});m=n.__read(m.filter(function(r){return "function" === typeof r;}),1)[0];return q.length?(0,f.$va)(e,p,k,{rules:q,fr:!1,UKa:!0},c.lF.II,m):p;},h);};},40981:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Eha=void 0;d=a(22970);n=a(66164);c=a(61996);f=a(94328);g=a(52571);e=a(48170);h=a(35779);t=(function(){function k(l,m,p,q){var u,v;function r(w,x){return w.L === x.L && w.offset.equal(x.offset);}this.Vca=l;this.ya=m;this.config=p;this.qmb=q;this.l3=new WeakMap();this.k3=new WeakMap();this.console=new n.platform.Console(("GRAPHLOCATIONSERVICE ").concat(null !== (v=null === (u=this.qmb) || void 0 === u?void 0:u.replace(":","")) && void 0 !== v?v:""));this.re=new c.Am({rj:this,source:(q || "") + "GraphLocation",console:this.console});(0,h.m_a)(this,"d",new h.VV(p,r));(0,h.m_a)(this,"u",new h.VV(p,r));}k.prototype.Ob=function(){var l,m,p;l=this;"temp" !== this.qmb && (null === (m=this.ya().events) || void 0 === m?void 0:m.on("segmentNormalized",function(){(0,h.TQa)(l).forEach(function(q){return q.clear();});l.l3=new WeakMap();l.k3=new WeakMap();}),null === (p=this.ya().events) || void 0 === p?void 0:p.on("playgraphUpdating",function(){(0,h.TQa)(l).forEach(function(q){return q.clear();});l.l3=new WeakMap();l.k3=new WeakMap();}));};k.prototype.XU=function(l){return new k(function(){return l.U0;},function(){return {Fb:l};},this.config,"temp");};k.prototype.EG=function(l){var m,p,q,r,u;e.l && this.console.trace("downConverting",l);if(this.l3.has(l))return this.l3.get(l);try{p=this.Vca().Z;q=this.ya().Fb.Z;if(p === q)return m=l;if(q.ba[l.L])return (p.ba[l.L] || e.l && this.console.warn("Received a down converted position unexpectedly",l,Error().stack),m=l);r=(0,f.opb)(l,this.Vca());u=this.Vca().oBc({offset:r.ppb,L:l.L});(0,g.assert)(!!u,"mapPositionDown on uxPlaygraph should return a value");m={offset:r.Lv.add(u.offset),L:u.L};e.l && this.console.trace("downConverting ret:",m,this.Vca().identifier);return m;}finally{m && (this.l3.set(l,m),this.k3.set(m,l));}};k.prototype.JI=function(l){var m,p,q,r,u,v;e.l && this.console.trace("upConverting",l);if(this.k3.has(l))return this.k3.get(l);try{m=this.Vca().Z;p=this.ya().Fb.Z;if(m === p)return l;if(m.ba[l.L])return (p.ba[l.L] || e.l && this.console.warn("Received a up converted position unexpectedly",l,Error().stack),l);q=this.ya().Fb;r=(0,f.opb)(l,q);u=q.hWa({offset:r.ppb,L:l.L});(0,g.assert)(!!u,"mapPositionUp on combinedPlaygraph should return a value");v={offset:r.Lv.add(u.offset),L:u.L};e.l && this.console.trace("upConverting ret:",v,q.identifier);return v;}finally{v && (this.k3.set(l,v),this.l3.set(v,l));}};k.prototype.Qqc=function(l){var m;m=this.EG(l);(0,g.assert)(!!m,"mapPositionDown on uxPlaygraph should return a value");for(var p=m.L,q=this.ya().Fb,r=q.tH.TK(p),u=r.next();!u.done;){u=u.value;if(q.DH(u.id) !== l.L && p !== m.L)break;p=u.id;u=r.next();}(0,g.assert)(p,("Could not find any segments in the path of ").concat(l));return p;};d.__decorate([(0,c.gb)({methodName:"downConvertPosition",Te:!0,Lm:!0,return:!0}),(0,h.ZLa)("d")],k.prototype,"EG",null);d.__decorate([(0,c.gb)({methodName:"upConvertPosition",Te:!0,Lm:!0,return:!0}),(0,h.ZLa)("u")],k.prototype,"JI",null);return k;})();b.Eha=t;},75393:function(t,b,a){var f,g,e,h,k,l,m,p,q;function d(r,u){var v,w;if(r.zd.Z.ba[u] && r.zd.Ec){w=r.zd.Fb.UL(u);w && (w=r.zd.Fb.SH.Z.ba[w].J,(u=(0,m.dR)(u)) && (v=r.zd.Ec.Dd.HQa(w,u)));}return v;}function n(r,u,v,w){var x;return u === k.lF.vQ?(u=g.I.ia,(null === w || void 0 === w?void 0:w.odd) === q.end && (u=g.I.Ca(null !== (x=v.zd.Z.ba[r].cb) && void 0 !== x?x:0),(0,e.assert)(0 < u.G,"EndTime must be non null")),v.lj.EG({offset:u,L:r}).L):v.lj.JI({offset:g.I.ia,L:r}).L;}function c(r,u,v){return u === k.lF.II?v.lj.JI(r):v.lj.EG(r);}Object.defineProperties(b,{__esModule:{value:!0}});b.Hy=b.BZb=void 0;f=a(22970);g=a(91176);e=a(52571);t=a(42194);h=a(50599);k=a(49165);l=a(6783);m=a(14103);p=a(57722);a=(0,h.KLb)();a=(0,t.mob)()({SDb:"combinedPlaygraph",WT:{ai:a()({map:c,pG:p.Exc}),Wd:a()({map:function(r,u,v,w){var x,y;x=(null === w || void 0 === w?0:w.Ws)?(0,p.kRa)(r,w.Ws):r.position;(null === w || void 0 === w?0:w.Cob) && u === k.lF.II && (v.ya.Z.ba[x.L] || (y=null));null !== y && (y=c(x,u,v));r=(0,p.OMa)(r,null === w || void 0 === w?void 0:w.Ws);(null === w || void 0 === w?0:w.Ws)?(0,p.eQc)(r,w.Ws,y):r.position=y;return r;},pG:function(r,u,v){return (null === v || void 0 === v?0:v.Ws)?(0,p.kRa)(r,v.Ws):(0,p.Wd)(r);}}),QE:a()({map:function(r,u,v,w){var x;if(u === k.lF.vQ)return null !== (x=r.inner) && void 0 !== x?x:r;u=(0,p.OMa)(r,null === w || void 0 === w?void 0:w.Ws);null !== w && void 0 !== w && w.Ws || (u.inner=r,"gctag" === ({NODE_ENV:"production",PLATFORM:"cadmium",ASEBUILD:"release",OBFUSCATE:"obfuscate"}).EWb && (u.gctag=void 0));return u;},pG:function(r,u,v){return (null === v || void 0 === v?0:v.Ws)?"object" === typeof (0,p.kRa)(r,v.Ws):"object" === typeof r;}}),L:a()({map:n,pG:p.Txc}),uea:a()({map:function(r,u,v,w){var x,y;y=null !== (x=r.L) && void 0 !== x?x:r.segmentId;u=n(y,u,v,w);return r.L?f.__assign(f.__assign({},r),{L:u}):f.__assign(f.__assign({},r),{segmentId:u});},pG:p.Ouc}),L8:a()({map:function(r,u,v){u === k.lF.vQ?(r=(0,l.cs)(v.zd.Z,r.J,r.Ga,{dMb:!0}),(0,e.assert)(void 0 !== r,"Graph position must exist in ux playgraph"),r=v.lj.EG(r),u=r.L,r=r.offset,u=v.ya.Z.ba[u],v=u.J,u=u.Ta,r=g.I.Ca(u).add(r)):(r=(0,l.cs)(v.ya.Z,r.J,r.Ga,{dMb:!0}),(0,e.assert)(void 0 !== r,"Graph position must exist in combined playgraph"),r=v.lj.JI(r),u=r.L,r=r.offset,u=v.zd.Z.ba[u],v=u.J,u=u.Ta,r=g.I.Ca(u).add(r));return {Ga:r,J:v};},pG:p.Twc}),LLa:a()({pG:p.Mwc,map:function(r,u,v){var w,x,y,A,z;w=v.ya.Fb;x=v.zd.Fb;if(u === k.lF.vQ){y={L:r.K.id,offset:g.I.ia};A=v.lj.EG(y);u=w.get(A.L);(0,e.assert)(u,"workingSegment on inner playgraph must exist");x=x.get(y.L);(0,e.assert)(x,"equivalent workingSegment on outer playgraph must exist");y=u.Wb;v=r.Ld.add(u.jb.ea(x.jb));w=u.jb;u=u.Xb;return {Ld:v,hT:r.Aw.add(y),Aw:r.Aw,K:{id:A.L,jb:w,Xb:u}};}A={L:r.K.id,offset:g.I.ia};y=v.lj.JI(A);u=w.get(A.L);(0,e.assert)(u,"workingSegment on inner playgraph must exist");x=x.get(y.L);(0,e.assert)(x,"equivalent workingSegment on outer playgraph must exist");A=x.Wb;if(!A.isFinite()){z=v.lj.Qqc(y);(w=w.get(z)) && w.Wb.isFinite() && (A=v.lj.JI({L:z,offset:w.Wb}).offset);}y=r.Aw.ea(y.offset);z=y.add(A);v=r.Ld.add(x.jb.ea(u.jb));w=x.jb;u=A.add(w);return {Ld:v,hT:z,Aw:y,K:{id:x.id,jb:w,Xb:u}};}}),$8b:a()({pG:function(r){return "segmentPresenting" === r.type;},map:function(r,u,v){var w,x;r=(0,p.OMa)(r);if((u=r.metrics) && void 0 === u.adBreakLocationMs){w=d(v,u.destPosition.L);void 0 !== w && (u.adBreakLocationMs=w.yj,void 0 !== w.fb && (u.adBreakTriggerId=w.fb));x=u.srcStartPosition;x && v.ya.Z.ba[x.L] && (w=d(v,x.L));void 0 !== w && (u.srcadBreakLocationMs=w.yj,void 0 !== w.fb && (u.srcadBreakTriggerId=w.fb));}return r;}})}});(function(r){r[r.T5c=0]="beginning";r[r.end=1]="end";})(q || (b.BZb=q={}));b.Hy=a;},5472:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.DIb=void 0;b.DIb={"*":{bub:["logdata"],rules:[{ak:function(a){return a.QE;}}]},segmentPresenting:[{ak:function(a){return a.QE;},config:{Ws:["metrics"]}},{ak:function(a){return a.Wd;}},{ak:function(a){return a.Wd;},config:{Ws:["metrics","srcStartPosition"],Cob:!0}},{ak:function(a){return a.Wd;},config:{Ws:["metrics","srcTransitionPosition"],Cob:!0}},{ak:function(a){return a.Wd;},config:{Ws:["metrics","destPosition"]}},{ak:function(a){return a.$8b;}}],streamPresenting:[{ak:function(a){return a.Wd;}}],segmentAppended:[{ak:function(a){return a.uea;}}],fragmentsMissing:[{ak:function(a){return a.Wd;},config:{Ws:["nextAvailableGraphPosition"]}}]};},4515:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Seb=void 0;d=a(22970);n=a(66164);c=a(61996);f=a(69575);g=a(64281);e=a(5472);t=(function(){function h(k,l){var m;m=this;this.Iaa=k;this.events=(0,g.yNa)(function(){return m.Jp;},this.Iaa.events,l,e.DIb);this.evc=(0,f.Gf)(n.platform,this.Iaa.console,"PLAYERHOST");new c.Am({xg:10,rj:this,source:"PlayerHost",console:this.evc});}h.prototype.KMa=function(){this.Jp=void 0;};h.prototype.$0a=function(k){this.Jp=k;};d.__decorate([(0,c.gb)({methodName:"clearProxyPlaygraphContext"})],h.prototype,"KMa",null);d.__decorate([(0,c.gb)({methodName:"setProxyPlaygraphContext"})],h.prototype,"$0a",null);return h;})();b.Seb=t;},94152:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GIb=void 0;b.GIb={"*":{bub:["logdata"],rules:[{ak:function(a){return a.QE;}}]},locationSelected:[{ak:function(a){return a.uea;}}],segmentComplete:[{ak:function(a){return a.uea;}}],segmentStarting:[{ak:function(a){return a.uea;}}],serverSwitch:[{ak:function(a){return a.uea;}}],streamSelected:[{ak:function(a){return a.Wd;}}],ellaChannelSwitch:[{ak:function(a){return a.QE;}}],ellaRelaySwitch:[{ak:function(a){return a.QE;}}],seeked:[{ak:function(a){return a.Wd;}}]};},14739:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u;Object.defineProperties(b,{__esModule:{value:!0}});b.Nia=void 0;d=a(22970);n=a(79048);c=a(91176);f=a(66164);g=a(51308);e=a(54366);h=a(61996);k=a(65161);l=a(52571);m=a(48170);p=a(29254);q=a(36414);r=a(64281);u=a(94152);t=(function(){function v(w,x,y,A){var z;void 0 === A && (A="CphAsePlaygraph");z=this;this.Jp=w;this.b0a=y;this.eQb=A;this.Suc=new p.fGa();this.klb=new Map();x(function(B){return d.__awaiter(z,[B],void 0,function(C){var D,E;E=C.ur;return d.__generator(this,function(H){switch(H.label){case 0:return [4,E];case 1:return (D=H.T(),this.AB(D),[2]);}});});});}Object.defineProperties(v.prototype,{ya:{get:function(){return this.Jp.ya;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Wh:{get:function(){return this.ya;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Z:{get:function(){return this.Vr.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Fb:{get:function(){return this.Vr;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{parent:{get:function(){return this.FC;},set:function(w){this.FC=w;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{lj:{get:function(){return this.Jp.lj;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{sb:{get:function(){void 0 === this.ejb && (this.ejb=(0,c.Gf)(f.platform,this.ya.JR.console,this.eQb));return this.ejb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Bb:{get:function(){return this.ya.config;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{fzb:{get:function(){return !1;},enumerable:!1,configurable:!0}});v.prototype.Ob=function(){var w,x;w=this.Jp;this.uNa=new h.Am({xg:10,rj:this,source:this.eQb,console:this.sb});this.events=(0,r.yNa)(function(){return w;},w.ya.events,this.b0a,u.GIb);this.Vr=w.ya.Fb;x=w.lj;x.Ob();w.ya.Sc(new e.Qn(this.uNa));w.ya.Sc(new e.Qn(w.lj.re));w.ya.Sc(new q.Z6a(("").concat(w.uVa,"::gls"),x));w.ya.parent=w.zd;};v.prototype.aA=function(w){var x,y;x=this.player || this.ya.player;this.player=w;w.$0a && w.$0a(this.Jp);y=this.Jp.ya.aA(w.Iaa || w);y?(this.player=w,x !== w && x.KMa && x.KMa()):this.player=x;return y;};v.prototype.z1=function(w,x,y,A){(w=w || this.jA(x || this.Fb)) && this.SFc(w,this.fzb,y,A);};v.prototype.SFc=function(w,x,y,A){var z,B,C,D,E,H,F,G,J;z=w.Z;B=this.Jp.zd;C=B.player;E=B.Z;if(D=y?y:B.mo && C.Wd?C.Yg:B.Xx?B.hm:void 0){H=this.ya.Fb.get(D.L);F=w.get(D.L);H && !F && (D=this.lj.JI(D));}B.config.YXc && x && C.gN(!0);x=B.ARa();m.l && this.sb.log(("onNewInnerPlaygraph: outer: ").concat(JSON.stringify(E)),{RSb:w.identifier});m.l && this.sb.log(("onNewInnerPlaygraph: combined: ").concat(JSON.stringify(z)));this.Suc.set(z,!0);E=this.ya.TU(w);try{if(!E.success || D && !C.Wd && !B.Xx || y && A){C.Na.mj && (this.sb.error(("Playgraph update failed: ").concat(JSON.stringify(E))),(0,l.assert)(!1,"Update failed but player is not paused:" + k.kx[E.reason]));B.Jg(g.cO.LBb);E=this.ya.TU(w);if(D){G=this.lj.EG(D);J=z.ba[G.L];(null === J || void 0 === J?void 0:J.type) === n.pd.padding && (G={L:J.Hc,offset:c.I.ia});this.d1a(D);this.ya.owa(G,A);C.resume();}m.l && this.sb.log("onNewInnerPlaygraph: result",{KDc:w.identifier,result:k.kx[E.reason],success:E.success,RSb:this.Fb.identifier,J5b:this.ya.Fb.identifier});}else m.l && this.sb.log("onNewInnerPlaygraph: result (in-flight)",{KDc:w.identifier,result:k.kx[E.reason],success:E.success,RSb:this.Fb.identifier,J5b:this.ya.Fb.identifier});}catch(L){this.sb.error(("onNewInnerPlaygraph: error: ").concat(L));}finally{x.release();}};v.prototype.TU=function(w){var y,A;function x(){var z;z=w.pX(y.Vr);m.l && y.sb.trace("updateWorkingPlaygraph:successHandler",{Hta:y.Vr.identifier,hta:z.identifier});y.Vr=z;}y=this;A=this.jA(w) || w;try{return (this.ya.events.cJb("playgraphUpdating",x),m.l && this.sb.trace("updateWorkingPlaygraph:Starting update",{Hta:this.Vr.identifier,Ibd:w.identifier,Dbd:A.identifier}),this.ya.TU(A));}finally{this.ya.events.removeListener("playgraphUpdating",x);}};v.prototype.HN=function(w){w=n.Iz.update(this.Fb,w);m.l && this.sb.log("updatePlaygraphMap:Attempt to update playgraph",{hta:w.identifier});return this.TU(w);};v.prototype.AB=function(w){var x;x=this.Bb.Q9 || [];if(w.S.$C && x.some(function(y){return y == w.R;}))return (x=("").concat(w.R," was excluded from content playgraph"),this.uNa.ug(x),m.l && this.sb.trace(x),!1);w.S.Ib && this.klb.set(w.J,w.S.Ib);return !0;};v.prototype.Jg=function(w){this.ya.Jg(w);};v.prototype.Woc=function(w){return this.klb.get(w);};v.prototype.d1a=function(){};d.__decorate([(0,h.gb)({methodName:"attachPlayer"})],v.prototype,"aA",null);d.__decorate([(0,h.gb)({methodName:"reevaluateInnerPlaygraph"})],v.prototype,"z1",null);d.__decorate([(0,h.gb)({methodName:"processViewableResponse"})],v.prototype,"AB",null);d.__decorate([(0,h.gb)({methodName:"cancelStreaming"})],v.prototype,"Jg",null);return v;})();b.Nia=t;},57722:function(t,b,a){var n;function d(c,f){var g,e;g=n.__assign({},c);e=n.__read(f || [],1)[0];e && c[e] && (c=c[e],"object" === typeof c?(f=f.concat(),f.shift(),g[e]=d(c,f)):g[e]=c);return g;}Object.defineProperties(b,{__esModule:{value:!0}});b.Wd=function(c){return !(null === c || void 0 === c || !c.position);};b.Exc=function(c){return !(null === c || void 0 === c || !c.L) && !(null === c || void 0 === c || !c.offset);};b.Ouc=function(c){return !(null === c || void 0 === c || !c.L) || !(null === c || void 0 === c || !c.segmentId);};b.Txc=function(c,f){return "string" === typeof c && !(!f.zd.Z.ba[c] && !f.ya.Z.ba[c]);};b.Twc=function(c){return !(null === c || void 0 === c || !c.J) && !(null === c || void 0 === c || !c.Ga);};b.Mwc=function(c){return !(null === c || void 0 === c || !c.Ld);};b.kRa=function(c,f){var g;g=c;f.forEach(function(e){g=null === g || void 0 === g?void 0:g[e];});return g;};b.OMa=d;b.eQc=function(c,f,g){for(var e=0;e < f.length - 1 && c;e++)c=c[f[e]];return c?(c[f[f.length - 1]]=g,!0):!1;};n=a(22970);},54775:function(t,b,a){var d,n,c,f,g,e,h,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.v6a=void 0;d=a(22970);n=a(90745);c=a(91176);f=a(66164);g=a(69575);e=a(40666);h=a(48170);k=a(65161);l=a(49870);t=(function(){function m(p,q,r,u,v,w,x){var y;y=this;this.mc=p;this.Bj=q;this.config=r;this.mFc=u;this.ke=v;this.console=w;this.zPa=new n.kf();this.events=new n.EventEmitter();this.console=(0,g.Gf)(f.platform,w,"BranchDecisionMaker");this.fQb=[function(A,z){var B;B=A.pa;return B.K.H2?(h.l && y.console.trace(("").concat(B.K.id," does not need tracking")),{result:!1}):z(A);},function(){return {result:!0};}];this.Vzc=new l.Sab(x,w);}m.epc=function(p){return p.Pb || p.hT;};m.nqc=function(p){var q,r;q=p.Hc;r=p.w0;return q?q:r.length?r[0]:p.lB[0];};m.prototype.E6b=function(p){this.fQb.unshift(p);};m.prototype.MU=function(p,q,r){var u,v,w;u=this;void 0 === r && (r=!1);v=p.K;r=c.$E.tL({pa:p,Md:q,force:r},this.fQb);h.l && this.console.trace(("tracking ").concat(p.K.id),{Edd:r});if(!1 === r.result)this.kQb !== p && this.reset();else {this.reset();this.kQb=p;w=this.M$b(p);r=w.jwa;q=q.lessThan(w.xTa);h.l && this.console.trace(("tracking ").concat(p.K.id),{L:v.id,d7c:q,fdd:null === r || void 0 === r?void 0:r.G});this.IOc(v,q?r:void 0);if(q)this.zPa.on(p.events,"branchEdited",function(){u.MU(p,u.mc.Na.currentTime,!0);});}};m.prototype.spb=function(){var p;null === (p=this.Yrb) || void 0 === p?void 0:p.La();this.Yrb=void 0;};m.prototype.reset=function(){this.spb();this.zPa.clear();this.kQb=void 0;};m.prototype.M$b=function(p){var q,r,u,v,w;v=1 < p.K.lB.length || 0 < (null !== (r=null === (q=p.K.Ul) || void 0 === q?void 0:q.length) && void 0 !== r?r:0);r=m.epc(p);q=c.I.Ca(v?this.config.sca:this.config.KBb);w=c.I.Ca(this.config.XCc + this.config.rca);q=r.ea(q);r=(0,k.zs)(this.ke.value)?r.ea(w):q;if(p=this.N$b(p,v))if((h.l && this.console.log("Calculated live decision",{reason:p.reason,type:null === (u=p.dg) || void 0 === u?void 0:u.type}),p.dg)){if("immediate" === p.dg.type)return {xTa:c.I.ia};u=p.dg.when;h.l && (0,c.assert)(u.type === e.QO.absolute,"we only support abs times");h.l && this.console.log("Calculated live decision for time",{e5c:u.timestamp});return {xTa:r,jwa:u.timestamp};}return {xTa:r,jwa:q};};m.prototype.N$b=function(p,q){if(this.config.Kkc)return this.Vzc.XAc(p,q);};m.prototype.IOc=function(p,q){var r,u;this.spb();r=this;u=this.Bj;q && (u=this.mc);this.Yrb=u.fs(function(){return d.__generator(this,function(v){switch(v.label){case 0:return q?[4,e.ce.mm(q)]:[3,2];case 1:(v.T(),v.label=2);case 2:return (r.events.emit("onDeciding",{type:"onDeciding",dg:r.Cwb(p),ga:p}),[4,e.ce.uya]);case 3:return (v.T(),r.WAc(p),[2]);}});},"branch decision");};m.prototype.Cwb=function(p){return m.nqc(p);};m.prototype.WAc=function(p){var q;this.zPa.clear();q=this.Cwb(p);h.l && this.console.trace(("BranchDecisionMaker making decision for ").concat(p.id,", decision is ").concat(q));this.mFc(p.id,q,!0);};return m;})();b.v6a=t;},25510:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.E6a=void 0;d=a(22970);n=a(91176);c=a(66164);a(97685);f=a(65161);g=a(52571);e=a(61996);h=a(40666);t=(function(){function k(l,m,p,q,r,u,v,w){var x;void 0 === w && (w=500);x=this;this.console=l;this.config=m;this.bd=p;this.events=q;this.Lta=r;this.vn=u;this.mc=v;this.e$b=w;this.AZa=this.cZa=this.RLa=0;this.Fsa=[];this.rA={sY:0};this.state=new n.At(f.Sd.Ct);this.re=new e.Am({xg:10,rj:this,source:"BufferStateTracker",omb:function(){return {isBuffering:x.oo};}});}Object.defineProperties(k.prototype,{sY:{get:function(){return this.rA.sY;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{oo:{get:function(){return (0,f.zs)(this.state.value);},enumerable:!1,configurable:!0}});k.prototype.Yfa=function(l){var m;m=this;Array.isArray(l) || (l=[l]);l.forEach(function(p){p.mediaType === f.u.X && (m.gob=d.__assign(d.__assign({},m.gob),{audio:{trackId:p.trackId,trackIndex:p.BN}}));});};k.prototype.$Fc=function(){this.cZa=c.platform.time.ha();};k.prototype.K0=function(l){this.set(f.Sd.Ct);this.N1a(l,f.Sd.Sf);};k.prototype.Mta=function(){this.rA.sY++;};k.prototype.N0=function(l){this.IL={xk:l.xk,bh:l.errorCode,Qg:l.Qg};"temporaryNetworkError" === l.type && this.state.value === f.Sd.Sf && (l=this.bd.gCb || 0,c.platform.time.ha() - l >= this.config.ata && this.Lta("BufferingStateTracker: Temporary failure while buffering","NFErr_MC_StreamingFailure",this.IL));};k.prototype.Xta=function(){this.IL=void 0;};k.prototype.ol=function(l){this.oo || this.N1a(l,f.Sd.xm);};k.prototype.tGc=function(l,m){this.state.value !== f.Sd.Sf && this.N1a(l,f.Sd.Cja);this.Yfa(m);};k.prototype.FFc=function(l,m){var p;p=this;this.config.c$b && this.oo && (-1 === this.Fsa.indexOf(l) && this.Fsa.push(l),2 === this.Fsa.length && Promise.resolve().then(function(){p.oo && void 0 !== p.RB && p.Pm("memoryLimit",m.Q2,m.R2);}));};k.prototype.PPc=function(l,m){(0,g.assert)(this.state.value === f.Sd.Sf && void 0 === this.RB);this.RB=l;m && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:m.trackId,trackIndex:m.BN}),this.Yfa(m));};k.prototype.iQc=function(l,m,p){(0,g.assert)(this.oo);this.UTa=null !== l && void 0 !== l?l:this.UTa;this.Gaa=null !== m && void 0 !== m?m:this.Gaa;this.n_=p || this.n_;};k.prototype.Pm=function(l,m,p){var q;(0,g.assert)(this.oo && void 0 !== this.RB && void 0 === this.pma && void 0 === this.dya && void 0 === this.$ka);this.pma=l;this.dya=m;this.$ka=p;this.Hv=100;this.JMa();this.rOa();null === (q=this.zMa) || void 0 === q?void 0:q.La();this.state.value === f.Sd.xm && (this.AZa=c.platform.time.ha());this.Zjc();this.set(f.Sd.cq);this.$ka=this.dya=this.pma=this.n_=this.Gaa=this.UTa=this.RB=void 0;};k.prototype.stop=function(){var l;this.set(f.Sd.Ct);this.JMa();this.rOa();null === (l=this.zMa) || void 0 === l?void 0:l.La();};k.prototype.yMa=function(l,m,p,q){var r,u,v,w,x,y,A,z,B,C;r=this;(0,g.assert)(this.oo);null === (u=this.zMa) || void 0 === u?void 0:u.La();if(this.state.value === f.Sd.xm && c.platform.time.ha() < this.AZa + this.config.XEb){x=this.config.XEb - (c.platform.time.ha() - this.AZa);this.zMa=this.mc.Yt(h.ce.jz(n.I.Ca(x)),function(){r.yMa(l,m,p,q);});}else {u=p.eH(f.u.X);y=p.eH(f.u.U);A=c.platform.time.ha() - Math.max(this.RLa,this.cZa);if(u || y){z=function(D){return D?D.iy() || D.qp()?q.Fma(r.state.value,l,A >= r.config.j1,m,D,r.sY):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};B=z(u);z=z(y);C=function(D){var E;return {reason:D.reason,complete:D.complete,bl:null !== (E=D.Gv) && void 0 !== E?E:0};};this.re.ug({as:C(B),vs:C(z),bt:A});C=y?z:B;C.DXc=y && z.Gv || 0;C.H8b=u && B.Gv || 0;B.complete && z.complete?(C.complete=!0,this.Pm(null !== (x=C.reason) && void 0 !== x?x:"unknown",null !== (v=C.DXc) && void 0 !== v?v:0,null !== (w=C.H8b) && void 0 !== w?w:0)):(C.complete=!1,this.L$b(C),this.re.ug({bp:this.Hv}));}}};k.prototype.L$b=function(l){var m,p,q;q=l.progress;l.Iba?q=(c.platform.time.ha() - Math.max(this.RLa,this.cZa)) / this.config.j1:q || (q=(null !== (m=l.Gv) && void 0 !== m?m:0) / this.config.Ap);l=Math.min(Math.max(Math.round(100 * q),null !== (p=this.Hv) && void 0 !== p?p:0),99);l != this.Hv && (this.Hv=l);};k.prototype.N1a=function(l,m){(0,g.assert)(m === f.Sd.Sf || void 0 !== l);this.RB=l;this.Hv=0;this.qta=void 0;this.rA.sY=0;this.Fsa=[];l=this.state.value === f.Sd.Sf || this.state.value === f.Sd.xm;this.RLa=c.platform.time.ha();this.set(m);l || this.akc();this.oo && (this.OQc(),(m === f.Sd.xm || this.config.VMc) && this.Dqb());};k.prototype.set=function(l){this.state.set(l);};k.prototype.akc=function(){(0,g.assert)(this.events && void 0 !== this.Hv);this.qta=this.Hv;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:c.platform.time.ha(),percentage:this.Hv});};k.prototype.OQc=function(){var l;l=this;this.JMa();this.mEc=this.mc.cna(function(){return l.$jc();},n.I.Ca(this.e$b),"buffering-notification");};k.prototype.JMa=function(){var l;null === (l=this.mEc) || void 0 === l?void 0:l.La();};k.prototype.$jc=function(){this.oo && this.events && void 0 !== this.Hv && this.Hv !== this.qta && this.events.emit("buffering",{type:"buffering",time:c.platform.time.ha(),percentage:this.Hv}) && (this.qta=this.Hv);};k.prototype.Zjc=function(){var l;(0,g.assert)(this.events && this.RB && void 0 !== this.pma && void 0 !== this.$ka && void 0 !== this.dya);this.qta=this.Hv;l=d.__assign({type:"bufferingComplete",time:c.platform.time.ha(),actualStartPosition:this.RB,reason:this.pma,aBufferLevelMs:this.$ka,vBufferLevelMs:this.dya,selector:this.UTa,initBitrate:this.Gaa,initSelReason:this.n_},this.gob);this.events.emit("bufferingComplete",l);};k.prototype.Dqb=function(){var l;l=this;!this.mG || this.mG.state !== h.zm.complete && this.mG.state !== h.zm.rQ?void 0 === this.mG && (this.mG=this.mc.fs(function(){return l.job();},"bufferingTimeoutTask")):this.mG.cd();};k.prototype.rOa=function(){this.mG && (this.mG.state !== h.zm.rQ && this.mG.La(),this.mG=void 0);};k.prototype.job=function(){var l,m,p;return d.__generator(this,function(q){switch(q.label){case 0:return (l=this.config.Uba,this.console.trace(("BufferingStateTracker: starting buffering timer: ").concat(l,"ms")),[4,h.ce.jz(n.I.Ca(l))]);case 1:(q.T(),q.label=2);case 2:if(!this.oo)return [3,4];m=this.bd.gCb || 0;p=c.platform.time.ha() - m;if(p >= l)return (this.console.trace(("Forcing streaming failure, ").concat(p,"ms since data received")),this.Lta("BufferingStateTracker: Temporary failure while buffering","NFErr_MC_StreamingFailure",this.IL),[2]);this.console.trace(("BufferingStateTracker: network activity, wait ").concat(l - p,"ms"));return [4,h.ce.jz(n.I.Ca(l - p))];case 3:return (q.T(),[3,2]);case 4:return [2];}});};d.__decorate([(0,e.gb)({methodName:"onTemporaryNetworkError",Te:!0})],k.prototype,"N0",null);d.__decorate([(0,e.gb)({methodName:"onUnderflow",Te:!0})],k.prototype,"ol",null);d.__decorate([(0,e.gb)({methodName:"bufferingComplete",Te:!0})],k.prototype,"Pm",null);d.__decorate([(0,e.gb)({methodName:"stop",Te:!0})],k.prototype,"stop",null);d.__decorate([(0,e.gb)({methodName:"checkStreamingBufferingComplete",Te:!0})],k.prototype,"yMa",null);d.__decorate([(0,e.gb)({methodName:"createBufferingTimeoutTask",Te:!0})],k.prototype,"Dqb",null);d.__decorate([(0,e.gb)({methodName:"destroyBufferingTimeoutTask",Te:!0})],k.prototype,"rOa",null);d.__decorate([(0,e.gb)({methodName:"bufferingTimeoutTaskRunner",Te:!0})],k.prototype,"job",null);return k;})();b.E6a=t;},56879:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.efc=function(c){var h,k;function f(l){(0,n.zs)(l.newValue) && !(0,n.zs)(l.oldValue)?(null === k || void 0 === k?void 0:k.La(),k=h.Yt.apply(h,d.__spreadArray([],d.__read(g),!1))):null === k || void 0 === k?void 0:k.La();}for(var g=[],e=1;e < arguments.length;e++)g[e - 1]=arguments[e];e=c.bg;h=c.Bj;e.state.addListener(f);f({oldValue:n.Sd.Ct,newValue:e.state.value});};d=a(22970);n=a(65161);},78538:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Ztb=function(n,c,f,g,e){var h,k;h=[];k=[];n=n.nr.values.filter(function(l){return l.Wl;}).map(function(l){var m,p;m=c(l.M,f,g,e);p=m.map(function(q){return q.mediaType;});h=(0,d.yX)(h,p);p=(0,d.Zo)(m,l.ka).map(function(q){return q.mediaType;});k=(0,d.yX)(k,p);p=(0,d.Zo)(l.ka,m).map(function(q){return q.mediaType;});k=(0,d.yX)(k,p);return {pa:l,ka:m};});return {Rob:k,R9b:n,j7b:h};};d=a(91176);},19455:function(t,b,a){var d,n,c,f,g,e,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.v9a=void 0;d=a(22970);n=a(45247);c=a(52571);f=a(65161);g=a(44284);e=a(14246);h=a(56841);k=a(8149);t=(function(l){function m(p,q,r,u,v){p=l.call(this,p,q,r,u,v) || this;q=(0,e.aSa)(p.config);p.Rua=q.k1.bind(q);p.OBb=new h.h5();return p;}d.__extends(m,l);m.prototype.sMb=function(p,q,r,u,v,w,x,y,A,z){var B,C,D,E,H,F,G,J,L,K,M,P;C=[];D=w.track;if(!this.Aua(D,(0,k.po)(D)?D.Apa(u):void 0))return {stream:M,BE:C,reason:"locationSelectionFailure"};E=w.Op;H=w.YG;u=E.ypa();F=w.mediaType;G=F === n.u.X;J=F === n.u.Da;L=w;if((J || G) && !u){K=w.pa.eH(n.u.U);L=K?K:L;}v=this.crb(p,q,v,L,!!z);q=this.Hqc(w,q,p,v.state,r,y,A,u);p=q.first;y=(null === y || void 0 === y?void 0:y.Ama) || (null === A || void 0 === A?void 0:A.Ama);if(0 === p.length && y)return {stream:void 0,BE:C,reason:"allStreamsFiltered"};!u || (null === (B=u.zR(D.mediaType)) || void 0 === B?0:B.equals(w.track)) || (u=this.dnc(u,p));if((J || G) && u){M=u.Ui(F);C=this.myb(p,u);return {stream:M,BE:C};}x=E.a2(v,q,0,this.Rua,L.yUa(),x,H);if(!x)return {stream:M,BE:C,reason:"streamSelectionFailure"};w={xh:x.xh,yM:x.yM};if(x.reason){P=x.reason;this.apb(F,p,r);}this.bkc(x,p);u=x.ud || p[0];E.wk(n.u.X).gU(u.Ui(n.u.X));E.wk(n.u.U).gU(u.Ui(n.u.U));C=this.myb(p,u);M=u.Ui(F);r=x.sn;u=Array.from(new Set(p.map(function(I){return I.Ui(F);}).filter(function(I){return void 0 !== I;})));E=d.__assign(d.__assign({},x),{ud:M});return {stream:M,BE:C,n_:P,Sy:w,sn:r,Pub:u,vMb:E};};m.prototype.myb=function(p,q){var r;r=this.nyb(p,q,n.u.X);p=this.nyb(p,q,n.u.U);return d.__spreadArray(d.__spreadArray([],d.__read(r),!1),d.__read(p),!1);};m.prototype.nyb=function(p,q,r){var u;p=p.map(function(v){return v.Ui(r);});u=q.Ui(r);return p.filter(function(v){var w;return void 0 !== v && v !== u && v.Pw && !v.Ba && !(null === (w=v.Oa) || void 0 === w?0:w.length);});};m.prototype.Hqc=function(p,q,r,u,v,w,x,y){var A,z,B,C,D,E;A=new g.sCa();z=this.Bh(p.pa.wR(n.u.U),r,v,p.pa.Ld,p.pa.Xf,x);B=this.Bh(p.pa.wR(n.u.X),r,v,p.pa.Ld,p.pa.Xf,w);C=p.pa.wR(n.u.Da);D=this.fpa(p,q);z=this.OBb.Kqb(this.config,this.Rua,D,u,B,z,C,y);A.JP(z);q=p.pa.Pb.ea(q);q=this.config.wsa - q.G;for(z=p;0 < q;){E=this.navigator.next(z);if(null === E || void 0 === E || !E.Xf)break;z=this.Bh(E.pa.wR(n.u.U),r,v,E.pa.Ld,E.pa.Xf,x);B=this.Bh(p.pa.wR(n.u.X),r,v,p.pa.Ld,p.pa.Xf,w);z=this.OBb.Kqb(this.config,this.Rua,D,u,B,z,C,y);A.JP(z);q-=E.pa.K.Wb.G;z=E;}return A;};m.prototype.dnc=function(p,q){var r;r=q[0];q.filter(function(u){return u.Mq;}).every(function(u){return u.Bv && u.tt && p.Bv && p.tt && u.Bv <= p.Bv && u.tt <= p.tt?(r=u,!0):!1;});return r;};m.prototype.Fma=function(p,q,r,u,v,w,x){var y,A,z;if(!(0,f.zs)(q))return {complete:!0,reason:"playing"};if(!w.wZa)return {complete:!1,reason:"unknown"};if(w.jHb)return ((0,c.assert)(w.fua),w.fua);y=w.Op;A=this.fpa(w,r);z=y.ypa();r=A.fl - A.Ed;if(r < this.config.Ap || void 0 === z)return {complete:!1,Gv:r,reason:"preBuf"};if(w.mediaType === n.u.X)return {complete:!0,Gv:r,reason:"audio"};if(p=p.xMa(w.mediaType))return {complete:!0,Gv:r,reason:p};this.Aua(w.track);w=new g.sCa();w.JP([z]);y.mda(w,(0,f.dZa)(q),A,this.Rua);q=y.hA(A,q,v,z,x);if(!q.complete && u)return {complete:!0,reason:"prebufferTimeLimit",Gv:r};q.Gv=r;return q;};m.prototype.Dsc=function(p,q){var r;return d.__assign(d.__assign({},q),{ud:null === (r=q.ud) || void 0 === r?void 0:r.Ui(p)});};m.prototype.btc=function(p,q){return Array.from(new Set(q.map(function(r){return r.Ui(p);}).filter(function(r){return void 0 !== r;})));};m.prototype.bkc=function(p,q){var r;r=this;q[0].e$(function(u){var v,w;v=r.btc(u.mediaType,q);w=r.Dsc(u.mediaType,p);r.events.emit("streamSelection",{type:"streamSelection",mediaType:u.mediaType,result:w,streamList:v});});this.events.emit("jointStreamSelection",{type:"jointStreamSelection",result:p,streamList:q});};return m;})(a(54477).GBa);b.v9a=t;},94328:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.pXc=function(g,e){g=g.ba[e.L];if(void 0 === g)return {B_:!1,reason:("Segment ").concat(e.L," was not found")};if(0 > e.offset.G)return {B_:!1,reason:("Offset ").concat(e.offset.G," was negative")};if(void 0 === g.cb || null === g.cb || Infinity === g.cb)return {B_:!0};g=g.cb - g.Ta;return e.offset.G >= g?{B_:!1,reason:("Offset ").concat(e.offset.G," was greater than segment duration ").concat(g)}:{B_:!0};};b.PSa=function(g,e){if(g === e)return !0;if(g && e && g.L === e.L){if(g.offset === e.offset)return !0;g=d.I.abs(g.offset.ea(e.offset));if(f.greaterThan(g))return !0;}return !1;};b.un=function(g,e,h){var k,l,p;k=e.la;e=e.gwc;void 0 === h && (h={});k=k.Fb;l=(null === e || void 0 === e?0:e.id)?k.get(null === e || void 0 === e?void 0:e.id):k.initial;(0,n.assert)(l,"initialSegment must be found in workingPlaygraph");e=(null === e || void 0 === e?void 0:e.ePc) || (null === l || void 0 === l?void 0:l.jb);if(e.greaterThan(g))return h.ZRc?{offset:g.ea(e),L:l.id}:void 0;l=k.tH.TK(l.id);for(var m=l.next();!m.done;){k=m.value;p=e;e=p.add(k.Wb);if(e.greaterThan(g))return (g=g.ea(p),c.l && (0,n.assert)(g.Wf(d.I.ia) && g.lessThan(k.Wb)),{L:k.id,offset:g});m=l.next();if(m.done && h.$Rc)return {L:k.id,offset:g.ea(p)};}};b.opb=function(g,e){e=e.get(g.L);(0,n.assert)(e,"workingSegment must exist in workingPlaygraph for the position to clamp");e=e.npb(g.offset);return {ppb:e,Lv:g.offset.ea(e)};};b.TLb=function(g,e){g=g.ba[e.L];if(void 0 !== g)return null === g.cb || void 0 === g.cb?{L:e.L,offset:d.I.max(d.I.ia,e.offset)}:{L:e.L,offset:d.I.max(d.I.ia,d.I.min(e.offset,d.I.Ca(g.cb - g.Ta)))};};d=a(91176);n=a(52571);c=a(48170);f=d.I.Ca(100);},54477:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.GBa=void 0;t=a(22970);d=a(66164);n=a(65161);c=t.__importDefault(a(40497));f=a(8149);a=(function(){function g(e,h,k,l,m){this.config=e;this.QRc=h;this.navigator=k;this.events=l;this.console=m;}g.prototype.Bh=function(e,h,k,l,m,p){return p?p.Bh(e,h,k.ea(l),m):e;};g.prototype.dkc=function(e,h,k){this.events.emit("streamSelection",{type:"streamSelection",mediaType:e,result:h,streamList:k});};g.prototype.ckc=function(e,h,k,l){e={type:"maxVideoBitrateChanged",time:d.platform.time.ha(),streaming:l,maxvb_old:e,maxvb:h,reason:k};this.events.emit(e.type,e);};g.prototype.Aua=function(e,h){return e.M.Vi.Wxa(e.M.J,e.Gd,h);};g.prototype.fpa=function(e,h){var A;for(var k,l=h.ea(this.QRc),m=[],p=e,q=h,r,u,v=0,w=0,x=(0,f.po)(e.track),y=!0;p;){A=p.Rwb(l);if(!y && !p.mk && !x)break;0 < A.Oa.length && (q=A.Oa[0].Tb,void 0 === r && (r=A.Oa[A.Oa.length - 1].Pb,u=A.uua >= A.Oa.length?r:A.Oa[A.uua].Tb),m=A.Oa.concat(m),v+=0 < A.xw?A.xw:0,w+=A.C1);p=this.navigator.parent(p);y=!1;}return {Vt:d.platform.SZ()[e.mediaType],Hb:Math.floor(q.G),Ed:h.G,Mk:Math.floor(null !== (k=null === r || void 0 === r?void 0:r.G) && void 0 !== k?k:h.G),fl:Math.floor(u?u.G:h.G),Ru:m.reduce(function(z,B){return z + B.ma;},0),xw:v,C1:w,G8c:m.length,Oa:m};};g.prototype.crb=function(e,h,k,l,m){var p,q,r;e=(0,n.dZa)(e);p=this.fpa(l,h);q=l.mediaType === n.u.U?this.config.hga:this.config.P7;r=c.default.instance();h={state:e,hy:e === n.Ub.rg,Ve:l.qj,playbackRate:k,buffer:p,Sna:q,VY:m,Im:null === r || void 0 === r?void 0:r.Im,mediaType:l.mediaType,Ed:h.G,f_a:0};this.DWc(h,void 0 !== l.Op.Do.kl);return h;};g.prototype.apb=function(e,h,k){var p,q;if(e === n.u.U){e="manifest";for(var l=0,m=h.length - 1;0 <= m;--m){p=h[m];q=p.bitrate;if(p.sH){l=Math.max(l,q);break;}else p.pp?p.lo && (e="hf"):e="av";}this.oEb !== l && (this.ckc(this.oEb,l,e,k),this.oEb=l);}};g.prototype.DWc=function(e,h){switch(e.state){case n.Ub.Sf:case n.Ub.xm:case n.Ub.rg:case n.Ub.Oi:if(h)break;e.state=n.Ub.Cl;case n.Ub.Cl:h && (e.state=n.Ub.Sf);}};return g;})();b.GBa=a;},28696:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.w9a=void 0;d=a(22970);n=a(45247);c=a(65161);f=a(14246);g=a(44284);e=a(52571);h=a(8149);t=(function(k){function l(m,p,q,r,u){m=k.call(this,m,p,q,r,u) || this;p=(0,f.aSa)(m.config);m.Awa=p.Awa.bind(p);m.o1a=p.o1a.bind(p);m.KQa=p.KQa.bind(p);m.ISa=p.ISa.bind(p);m.VIb=[p.UIb.bind(p),p.k1.bind(p)];return m;}d.__extends(l,k);l.prototype.sMb=function(m,p,q,r,u,v,w,x,y,A){var z,B,C,D,E,H;z=[];y=v.mediaType === n.u.X?x:y;B=v.track;if(!this.Aua(B,(0,h.po)(B)?B.Apa(r):void 0))return {stream:C,BE:z,reason:"locationSelectionFailure"};u=this.crb(m,p,u,v,!!A);A=v.Op;r=A.Do;x=v.YG;C=r.kl;D=this.rtc(v,p,m,q,y);m=D.first;if(0 === m.length && (null === y || void 0 === y?0:y.Ama))return {stream:void 0,BE:z,reason:"allStreamsFiltered"};C && !C.track.equals(B) && (C=this.fnc(C,m));y=v.mediaType;if((p=y === n.u.X) && C && !this.qRc(r,C))return (this.config.Myb && this.Awa(C.bitrate),{stream:C,BE:z});B=this.VIb[y];E=p?this.ISa():this.KQa();v=A.a2(u,D,E,B,v.yUa(),w,x);if(!v)return {stream:C,BE:z,reason:"streamSelectionFailure"};w={xh:v.xh,yM:v.yM};if(v.reason){H=v.reason;this.apb(y,m,q);}this.dkc(y,v,m);C=v.ud || m[0];q=C.bitrate;p?this.config.Myb && this.Awa(q):this.o1a(q);r.gU(C);z=m.filter(function(F){var G;return F !== C && F.Pw && !F.Ba && !(null === (G=F.Oa) || void 0 === G?0:G.length);});return {stream:C,BE:z,n_:H,Sy:w,sn:v.sn,Pub:m,vMb:v};};l.prototype.rtc=function(m,p,q,r,u){var v;v=new g.tHa();v.JP(this.Bh(m.track.Gd,q,r,m.pa.Ld,m.Xf(),u));p=m.pa.Pb.ea(p);for(p=this.config.wsa - p.G;0 < p;){m=this.navigator.next(m);if(null === m || void 0 === m || !m.Xf)break;v.JP(this.Bh(m.track.Gd,q,r,m.pa.Ld,m.Xf(),u));p-=m.pa.K.Wb.G;}return v;};l.prototype.qRc=function(m,p){return 0 < this.config.Pp.length?!0:(m=m.H_) && m === p.location?!1:!0;};l.prototype.fnc=function(m,p){var q;q=p[0];p.filter(function(r){return r.Mq;}).every(function(r){return r.bitrate <= m.bitrate?q=r:!1;});return q;};l.prototype.Fma=function(m,p,q,r,u,v,w){var x,y,A;if(!(0,c.zs)(p))return {complete:!0,reason:"playing"};if(!v.wZa)return {complete:!1,reason:"unknown"};if(v.jHb)return ((0,e.assert)(v.fua),v.fua);x=v.Op;y=x.Do;q=this.fpa(v,q);A=y.kl;y=q.fl - q.Ed;if(y < this.config.Ap || void 0 === A)return {complete:!1,Gv:y,reason:"preBuf"};if(v.mediaType === n.u.X)return {complete:!0,Gv:y,reason:"audio"};if(m=m.xMa(v.mediaType))return {complete:!0,Gv:y,reason:m};this.Aua(v.track);m=new g.tHa();m.JP([A]);x.mda(m,(0,c.dZa)(p),q,this.VIb[v.mediaType]);p=x.hA(q,p,u,A,w);if(!p.complete && r)return {complete:!0,reason:"prebufferTimeLimit",Gv:y};p.Gv=y;return p;};return l;})(a(54477).GBa);b.w9a=t;},49870:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Sab=void 0;d=a(22970);n=a(91176);c=a(40666);t=(function(){function f(g,e){this.la=g;this.console=e;}f.prototype.Gxb=function(g){return g.lessThan(n.I.ia)?{dg:{type:"immediate"},reason:"Invoking Panic"}:{dg:{type:"player",when:c.ce.mm(g)},reason:"Panic"};};f.prototype.XAc=function(g,e){var h,k,l,m;k=g.M;if(!k.Eb || e)return {reason:"not live or multi-choice"};if(!k.fh)return {reason:"no media events store",dg:{type:"immediate"}};e=k.Oc.Erb;k=null === (h=this.la.Fb.get(g.K.id)) || void 0 === h?void 0:h.Hc;h=this.la.Fb.get(k);k=n.I.dh;h && (k=h.Xb.ea(g.ta).add(g.Pb));e=k.ea(e.Jzc);k=g.K.type;l=this.la.config;m=this.la.Md.add(e);l=g.Pb.ea(n.I.Ca(l.KBb));!1;return h?g.K.type !== h.type && "adBreak" === k?{dg:{type:"immediate"},reason:"transition from adBreak"}:g.K.type === h.type && "adBreak" !== k?{dg:{type:"immediate"},reason:"transition to like segments"}:h.Wb.isFinite()?e.lessThan(n.I.ia)?{dg:{type:"immediate"},reason:"successor end beyond live edge end"}:l.lessThan(m)?this.Gxb(l):{dg:{type:"player",when:c.ce.mm(m)},reason:"waiting till live edge beyond successor end"}:d.__assign(d.__assign({},this.Gxb(l)),{reason:"successor not finite"}):{reason:"successor not found"};};return f;})();b.Sab=t;},95650:function(t,b,a){var d,n,c,f,g,e,h,k,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.N7a=b.dAa=void 0;d=a(22970);n=a(91176);c=a(91176);f=a(66164);g=a(90745);e=a(91176);h=a(95407);k=a(62442);(function(p){p[p.No=0]="INITIAL";p[p.Bdb=1]="PENDING";p[p.Ph=2]="SUCCESS";p[p.lO=3]="FAILED";})(l || (l={}));(function(p){p[p.Ph=0]="SUCCESS";p[p.Cbb=1]="MISSED_OPPORTUNITY";})(m || (b.dAa=m={}));t=(function(){function p(q,r,u,v,w,x,y){var z,B;function A(){z.M.Oc.PG && (z.pT.cd(),z.M.events.$l("liveEventTimesUpdated",A));}z=this;this.M=q;this.events=r;this.Bj=u;this.iI=v;this.Os=w;this.la=x;this.Jma=new Map();this.mba=l.No;this.GF=!0;this.Jra=new n.JCa({Cva:n.nGa.all});this.Zn={lb:new Map(),v7:[]};this.console=(0,n.Gf)(f.platform,y,"DAIPREFETCHER");!1;this.SQ=new g.kf();this.pT=this.Bj.fs(function(){return z.LOc();},"DaiPrefetcher.schedulePrefetchAds");this.SQ.addListener(w.events,"adBreakComplete",function(){return z.pT.cd();});this.SQ.addListener(w.events,"adBreakPresenting",function(){return z.pT.cd();});this.M.events.on("liveEventTimesUpdated",A);this.bKc(this.M.S);q=(null === (B=this.M.S.$_) || void 0 === B?void 0:B.qo.filter(function(C){return "adbreak" === C.type;})) || [];this.gVa=Math.min(this.$Ec.length,q.length);0 === this.Zn.lb.size && (!1,this.gVa=0);}Object.defineProperties(p.prototype,{enabled:{get:function(){return this.GF;},set:function(q){!1;this.GF !== q && (this.GF=q,this.pT.cd());},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{By:{get:function(){var q,r;r=null === (q=this.M.fh) || void 0 === q?void 0:q.model;return r?r.lb.map(function(u){return u.fb;}).filter(n.$c):[];},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{$Ec:{get:function(){var q,r,u;q=this;u=null === (r=this.M.fh) || void 0 === r?void 0:r.model;return u?u.lb.filter(function(v){return v.Ga.add(v.duration).lessThan(q.M.fh.ow);}).map(function(v){return v.fb;}).filter(n.$c):[];},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Hyc:{get:function(){var q;q=this.Os.$G().result[this.M.J] || [];return q[q.length - 1];},enumerable:!1,configurable:!0}});p.prototype.obc=function(q){return this.By.length === q + 1?this.mba === l.lO:!1;};Object.defineProperties(p.prototype,{iSc:{get:function(){var q,r,u,v,y,A,C,D;v=new Set();try{for(var w=d.__values(this.Zn.v7),x=w.next();!x.done;x=w.next()){y=x.value;A=[];try{for(var z=(r=void 0,d.__values(y)),B=z.next();!B.done;B=z.next()){C=B.value;D=this.Zn.lb.get(C);D?A.push(D):this.console.error("DaiPrefetcher::getSpeculativeAdBreakQueues: ad break not found for trigger",{fb:C,lb:Array.from(this.Zn.lb.keys())});}}catch(H){r={error:H};}finally{try{B && !B.done && (u=z.return) && u.call(z);}finally{if(r)throw r.error;}}A.length && v.add(A);}}catch(H){var E;E={error:H};}finally{try{x && !x.done && (q=w.return) && q.call(w);}finally{if(E)throw E.error;}}return v;},enumerable:!1,configurable:!0}});p.prototype.bKc=function(q){var r;if(null === (r=q.Jd) || void 0 === r?0:r.Ij)(q=q.Jd,q.t7 && (!1,this.Qyb(q,new c.AbortController())));};p.prototype.j0a=function(){d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){this.pT.no || this.pT.cd();return [2];});});};p.prototype.Tbc=function(q){var r;r=this;q.forEach(function(u){if(u=u.gu())(!1,r.Jma.delete(u));});};p.prototype.Oqb=function(q,r){var u,v,w;if(!r.has(q)){w=null === (v=null === (u=q.Kb) || void 0 === u?void 0:u[0]) || void 0 === v?void 0:v.id;w && (u=this.iI.Xq(w,{Uf:{Ib:this.M.S.Ib,fd:this.M.J},ys:!0}),u.ur.then(function(){!1;}),r.g6b(q,u.ll));}};p.prototype.Emc=function(q){d.__awaiter(this,void 0,void 0,function(){var r,u,v,w,x,y,A,z,B,C,D,E;return d.__generator(this,function(H){switch(H.label){case 0:(null === (D=this.cla) || void 0 === D?void 0:D.Rh.abort(),r=new c.AbortController(),this.cla={Rh:r},v=this.By,w=d.__read((0,e.fFb)(this.iI.LT.bind(this.iI)),2),x=w[0],y=w[1],H.label=1);case 1:return (H.tc.push([1,3,,4]),A=Array.from(this.Zn.lb.keys()).filter(function(F){return -1 === v.indexOf(F);}),[4,x({Uf:{Ib:this.M.S.Ib,fd:this.M.J},By:v,m8:A},r.signal)]);case 2:return (u=H.T(),z={M:this.M,WIb:u,iw:q,BI:{GB:y.start,IB:y.end}},this.events.emit("daiPrefetchComplete",z),[3,4]);case 3:return (B=H.T(),this.console.error("DaiPrefetcher: error fetching prefetch ads",n.DV.SK(B)),C=h.sC.D$(B),z={M:this.M,iw:q,BI:{GB:y.start,IB:y.end},error:B,errorCode:C},this.events.emit("daiPrefetchFailed",z),this.eNb(r,l.lO),[2]);case 4:if(r.signal.aborted)return ((null === (E=this.cla) || void 0 === E?void 0:E.Rh) === r && (this.mba=l.No),[2]);!1;this.Qyb(u,r);this.gVa=v.length;this.eNb(r,l.Ph);return [2];}});});};p.prototype.Qyb=function(q,r){var u,v,w,A,z;w=new n.JCa({Cva:n.nGa.all});this.xCc(q);try{for(var x=d.__values(this.Zn.v7),y=x.next();!y.done;y=x.next()){A=y.value[0];if(A){z=this.Zn.lb.get(A);z?this.Oqb(z,w):this.console.error("DaiPrefetcher: ad break not found for trigger",{fb:A,lb:Array.from(this.Zn.lb.keys())});}}}catch(C){var B;B={error:C};}finally{try{y && !y.done && (u=x.return) && u.call(x);}finally{if(B)throw B.error;}}r.signal.addEventListener("abort",function(){!1;w.clear();});null === (v=this.$gc) || void 0 === v?void 0:v.Rh.abort();this.$gc={Rh:r};this.Jra=w;this.cla=void 0;};p.prototype.xCc=function(q){var r,u,v,y,A;v=this.By;try{for(var w=d.__values(Object.keys(q.t7)),x=w.next();!x.done;x=w.next()){y=x.value;A=q.t7[y];"" === y?this.console.error("Empty ad break trigger id in prefetch data"):"REMOVE" === A.action || -1 !== v.indexOf(y)?(!1,this.Zn.lb.delete(y)):"UPSERT" === A.action && (A.Sa.TY || null !== (u=A.Sa.Kb) && void 0 !== u && u.length?(!1,this.Zn.lb.set(y,A.Sa)):this.console.error("Empty dynamic ad break in prefetch data",{Lxa:y,Sa:A.Sa}));}}catch(B){var z;z={error:B};}finally{try{x && !x.done && (r=w.return) && r.call(w);}finally{if(z)throw z.error;}}this.Zn.v7=q.CGc.map(function(B){return B.filter(function(C){C=-1 !== v.indexOf(C);!1;return !C;});}).filter(function(B){return B.length;});};p.prototype.$G=function(){return this.Jma;};p.prototype.Lbc=function(q,r){var u,v,w,x,y,A;v=this;!1;w=this.Zn.lb.has(q);x=this.Zn.v7.some(function(D){return D[0] === q;});if(w && x){y=this.Zn.lb.get(q);this.Bj.Yt(n.ce.jz(n.I.Ca(1E3)),function(){return d.__awaiter(v,void 0,void 0,function(){return d.__generator(this,function(D){switch(D.label){case 0:return [4,this.la.pea()];case 1:return (D.T(),this.Jra.delete(y),[2]);}});});},"delayedLeaseCleanup");w=function(D){var E,H,F;E=D.indexOf(q);-1 !== E && D.splice(E,1);H=y.Kb || [];F=r.duration.G;H=H.filter(function(G){G=G.cb - G.Ta;if(F >= G - 1E4)return (F=Math.max(F,0),F-=G,!0);!1;F=-Infinity;return !1;});0 === E && 0 < D.length && ((E=A.Zn.lb.get(D[0]))?A.drc(0 < F?r.duration.G - F:r.duration.G,r,E,D):A.console.error("Invalid state detected, did not have adbreak metadata for ad break trigger",{triggerId:D[0]}));A.Jma.set(q,{status:m.Ph,Sa:d.__assign(d.__assign({},y),{Kb:H})});A.Zn.lb.delete(q);};A=this;try{for(var z=d.__values(this.Zn.v7),B=z.next();!B.done;B=z.next())w(B.value);}catch(D){var C;C={error:D};}finally{try{B && !B.done && (u=z.return) && u.call(z);}finally{if(C)throw C.error;}}}else (!1,this.mba === l.Bdb && this.Jma.set(q,{status:m.Cbb}));};p.prototype.drc=function(q,r,u,v){var w,x;w=this;x=this.M.config;q=r.Ga.add(n.I.Ca(q));x=(0,k.wob)(q,this.M.Oc,x).sIb;!1;this.MBb=this.Bj.Yt(n.ce.mm(n.I.Ca(x)),function(){return d.__awaiter(w,void 0,void 0,function(){return d.__generator(this,function(){v[0] === u.fb?this.Oqb(u,this.Jra):!1;return [2];});});},"liveNextAdBreakManifestWindow");};p.prototype.LOc=function(){var q;return d.__generator(this,function(r){switch(r.label){case 0:q=this.xrc();if(!q.FX)return [3,2];this.mba=l.Bdb;return [4,n.ce.mm(n.I.Ca(q.lDc))];case 1:(r.T(),this.Emc(q),r.label=2);case 2:return [2];}});};p.prototype.xrc=function(){var r,u,v,w,x,y,A,z;function q(B,C){var D;B=null !== (D=null !== B && void 0 !== B?B:x) && void 0 !== D?D:0;C=null !== C && void 0 !== C?C:w;D=void 0 === C?B:Math.floor(Math.random() * C) + B;!1;return {vya:B,OSb:C,UB:D};}if(!this.enabled)return (!1,{FX:!1});u=this.M.S.Jd;v=this.Hyc;if(this.Zn.lb.size && (null === (r=this.M.fh) || void 0 === r || !r.GLc) || this.By.length && this.By.length === this.gVa || !this.M.Oc.PG)return (!1,{FX:!1});w=u.gsb;x=u.Ihc;r=u.hwc;y=u.iwc;if(v){u="lastAdBreak";A=v.Ga.add(v.duration);}else (u="programStart",A=this.M.Oc.PG);if(v){if(!v.pKb && "mediaEvents" !== v.source)return (!1,{FX:!1});v=q(v.rJc,v.qJc);}else v=q(y,r);r=this.M.Oc.sqb(A);A=this.M.Oc.f9b(r);y=A.ea(r).G;z=A.add(n.I.Ca(v.UB));z=this.M.Oc.wwa(z.G);u=d.__assign(d.__assign({FX:!0},v),{Xua:y,MP:r,Jmb:u,FE:this.M.Qf,lDc:z,rcd:A.G});!1;return u;};p.prototype.La=function(){!1;this.Jra.La();this.pT.La();this.SQ.clear();this.MBb && this.MBb.La();};p.prototype.eNb=function(q,r){var u;q === (null === (u=this.cla) || void 0 === u?void 0:u.Rh) && (this.mba=r);};return p;})();b.N7a=t;},40385:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Iab=void 0;t=(function(){function a(){}a.prototype.RNb=function(){return !0;};a.prototype.Uaa=function(){return !1;};a.prototype.Aob=function(){return !0;};a.prototype.Bob=function(){return !0;};return a;})();b.Iab=t;},20349:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Qab=void 0;t=(function(){function a(d){this.model=d;}a.prototype.RNb=function(){var d;return void 0 === (null === (d=this.model.ny) || void 0 === d?void 0:d.yo);};a.prototype.Uaa=function(){var d;return !(null === (d=this.model.ny) || void 0 === d || !d.yo);};a.prototype.Aob=function(){var d;return void 0 !== (null === (d=this.model.Koa) || void 0 === d?void 0:d.xn);};a.prototype.Bob=function(d){var n;return void 0 !== (null === (n=this.model.Koa) || void 0 === n?void 0:n.xn) || "programstart" === d.type;};return a;})();b.Qab=t;},41456:function(t,b,a){var d,n,c,f,g,e,h,k,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Zbb=void 0;d=a(22970);n=a(90745);c=a(66164);f=a(91176);g=a(91562);e=a(61996);h=a(48170);k=a(40666);l=a(12548);m=a(95650);t=(function(){function p(q,r,u,v){this.la=q;this.zf=r;this.config=u;this.console=v;this.xD=new n.kf();this.ZNa=new WeakMap();this.ZYa=new n.kf();this.uIa=!0;this.events=new n.EventEmitter();this.console=(0,f.Gf)(c.platform,v,"MEDIAEVENTSMANAGER");h.l && this.console.trace("MediaEventsManager ctor");this.dk=new e.Am({rj:this,source:"media-events-manager",xg:10,console:v});this.Lua=this.la.gd;this.yca=new l.Ocb();}Object.defineProperties(p.prototype,{Qrb:{get:function(){return this.uIa;},set:function(q){var r;r=this;h.l && this.console.debug(("Setting daiPrefetchEnabled to ").concat(q));this.uIa=q;this.zf.forEach(function(u){if(u=r.kR(u))u.enabled=q;});},enumerable:!1,configurable:!0}});p.prototype.baa=function(q){return q.fh;};Object.defineProperties(p.prototype,{enabled:{get:function(){return this.config.EQ;},enumerable:!1,configurable:!0}});p.prototype.RH=function(q){var r,u,v,w,x,y;r=this;if(this.enabled && q.Eb){x=this.baa(q);if(x){h.l && this.console.trace("MediaEventsManager","onViewableReceived",q.J);y=function(A){A={id:A.id,Fj:A.Fj,bE:A.bE,payload:A.payload};h.l && r.console.trace("emitting mediaEventReceived:",A);r.events.emit("mediaEventReceived",A);};x.model.kB.forEach(y);this.xD.addListener(x.events,"netflixEventReceived",y);this.xD.addListener(x.events,"netflixEventCancelled",function(A){var z;A={id:A.id,Fj:A.Fj,UWc:A.duration.G,bE:A.bE,payload:A.payload,timestamp:c.platform.time.ha()};h.l && r.console.trace("emitting mediaEventCancelled:",A);r.events.emit("mediaEventCancelled",A);r.yca.euc(A);null === (z=r.Bsa) || void 0 === z?void 0:z.cd();});this.xD.addListener(x.events,"modelUpdated",function(A){var z;h.l && r.console.trace("modelUpdated",{id:q.J,ERb:Array.from(A.a3.values())});if(A.a3.has("breakstart") || A.a3.has("adbreak") || A.a3.has("breakend"))(r.Nbc(q,A.VWa),r.events.emit("adsUpdated",{M:q}));A.a3.has("netflix") && (h.l && r.console.trace("restarting mediaEventsTask - netflix updates"),null === (z=r.Bsa) || void 0 === z?void 0:z.cd());});this.xD.addListener(x.events,"progress",function(A){var z;if(r.uI){z={M:q,ta:A.ta};h.l && r.console.trace("emitting mediaEventsProgress:",{J:q.J,ta:A.ta.ca()});r.events.emit("mediaEventsProgress",z);}});q.Eb && (h.l && this.console.trace("Received media events",{J:q.J,a7c:null === (v=null === (u=q.S) || void 0 === u?void 0:u.Jd) || void 0 === v?void 0:v.Ij}),(null === (w=q.Jd) || void 0 === w?0:w.Ij) && !this.ZNa.has(q) && (h.l && this.console.trace("Constructing dai prefetcher for viewable",q.J),u=new m.N7a(q,this.events,this.la.Bj,this.la.iI,this.la.Ec.Os,this.la,this.console),u.enabled=this.uIa,this.ZNa.set(q,u)));this.xD.on(this.Lua,"clockChanged",function(){var A;r.ZYa.clear();r.ZYa.on(r.Lua.Na,"clockAdjusted",function(z){var B;z.reason === f.dx.jN && (h.l && r.console.trace("restarting mediaEventsTask - clockAdjusted"),null === (B=r.Bsa) || void 0 === B?void 0:B.cd());});h.l && r.console.trace("restarting mediaEventsTask - clockChanged");null === (A=r.Bsa) || void 0 === A?void 0:A.cd();});this.Bsa=this.Lua.fs(function(){return r.KOc(q);},"media-events-scheduler");}}};p.prototype.Nbc=function(q,r){var u,v;u=this;h.l && this.console.debug("Checking claimed ad-breaks",{VWa:r.map(function(w){return w.ca();})});v=this.kR(q);v && (q=this.baa(q),h.l && this.console.debug("Claiming... Checking dai ads",{Kb:q.model.lb.map(function(w){return {location:w.Ga.ca(),fb:w.fb};})}),q.model.lb.filter(function(w){return r.filter(function(x){return x.equal(w.Ga);}).length;}).forEach(function(w){w.fb?v.Lbc(w.fb,w):h.l && u.console.debug("Missing adBreakTriggerId for ad break");}));};p.prototype.kR=function(q){return this.ZNa.get(q);};p.prototype.K0=function(q,r){this.uI && this.Fna();this.qcc(q,r);};p.prototype.$G=function(q){var r,u,v;if(this.enabled){r=this.baa(q);if(r){r=r.model.lb || [];u=this.kR(q);v=(null === u || void 0 === u?void 0:u.$G()) || new Map();r=r.map(function(w){var x,y,A,z,B,C,D,E,H,F,G;y=w.location;A=w.Ao;z=w.fb;B=w.duration;C=y.G;if(z && v.has(z)){D=v.get(z);switch(D.status){case m.dAa.Cbb:E=!0;break;case m.dAa.Ph:(H=D.Sa,F=H.Kb?null === (x=H.Kb) || void 0 === x?void 0:x.reduce(function(J,L){return J.add(f.I.Ca(L.cb - L.Ta));},f.I.ia):f.I.ia);return d.__assign(d.__assign({},H),{Ga:w.Ga,location:y,kw:y.G,yj:C,duration:H.TY?B:F,type:H.TY?"embedded":"dynamic",Ao:A,Hk:B,fb:z,ey:!0,Qm:!0,y_:!1,source:"daiPrefetch"});}}x=q.Lq?A === g.a6.vUb:!0;q.Lq?G={cya:"ENABLED_AS_NORMAL"}:q.Eb && (G={cya:"DISABLED_EXCEPT_FOR_PAUSE_EXIT"});return {Ga:w.Ga,location:y,kw:C,$o:x,yj:C,Kb:[],VJ:{},duration:B,Hk:B,pKb:!0,type:"embedded",Ao:A,fb:z,Qm:!(null === (F=null === (H=q.S) || void 0 === H?void 0:H.Jd) || void 0 === F || !F.Ij),y_:!1,source:"mediaEvents",f3:G,dM:E};});this.dk.ug({ads:r.slice(-5)});return r;}h.l && this.console.debug("No store found for viewable - not returning ads",q.R);}else h.l && this.console.debug("MediaEventsManager disabled - not returning ads");};p.prototype.ADc=function(q,r,u){var v,w;v=this.zf.get(q);if(v){w=r.ea(f.I.Ca(this.config.XCb)).ea(u);if(this.uI){(0,f.assert)(this.H1a,"Skip offset must be set if skip task is set");if(this.H1a.ln(w))return;this.Fna();}h.l && this.console.trace("MediaEventsManager: needsMediaEvents starting skip task",q,r,u,w);this.jrb(v,w);}};p.prototype.Mnc=function(q,r){this.uI && this.Fna();r=r.ea(f.I.Ca(this.config.XCb));h.l && this.console.trace("MediaEventsManager: forceRestartSkipTask, starting skip task",q.J,r);this.jrb(q,r);};p.prototype.jrb=function(q,r){var u;u=this;(0,f.assert)(!this.uI,"Skip task must not be set when creating a new one");this.uI=this.Lua.fs(function(){return u.SRc(q,r);},"media-events-skipper");this.H1a=r;};p.prototype.Fna=function(){var q;(0,f.assert)(this.uI,"Skip task  must be set when destructing it");null === (q=this.uI) || void 0 === q?void 0:q.La();this.H1a=this.uI=void 0;};p.prototype.La=function(){var q;q=this;this.uI && this.Fna();this.ZYa.clear();this.xD.clear();this.zf.forEach(function(r){var u;null === (u=q.kR(r)) || void 0 === u?void 0:u.La();});this.zf.clear();this.yca.reset();};p.prototype.SRc=function(q,r){var u,v,w;return d.__generator(this,function(x){switch(x.label){case 0:(u=this.baa(q),(0,f.assert)(u,"Store must be present"),h.l && this.console.trace(("MediaEventsManager: starting skip task for viewable ").concat(q.J," ") + ("with skip offset ").concat(r.ca())),x.label=1);case 1:if(u.complete)return [3,3];v=u.ow;w=v.add(r);h.l && this.console.trace(("MediaEventsManager: waiting until ").concat(w.ca()," ") + ("to skip media events at ").concat(v.ca()));return [4,k.ce.mm(w)];case 2:return (x.T(),u.dzb(v) || (h.l && this.console.trace(("MediaEventsManager: skipping at ").concat(v.ca()),{skip:r.ca(),target:v.ca(),Orb:u.ow.ca(),RCb:q.ho().ca()}),u.aOb(v)),[3,1]);case 3:return [2];}});};p.prototype.KOc=function(q){var r,u,v,w,x,y,A,z,B,C,D,E,H;return d.__generator(this,function(F){switch(F.label){case 0:(F.tc.push([0,7,8,9]),r=d.__values(this.zrc(q)),u=r.next(),F.label=1);case 1:if(u.done)return [3,6];v=u.value;w=v.event;x=v.no;h.l && this.console.trace("MediaEventsManager - Checking event schedule - ",{Bu:this.Bu,event:w,no:x});if((null === (H=this.Bu) || void 0 === H?void 0:H.id) === w.id && x)return [3,3];this.Bu && (h.l && this.console.trace("MediaEventsManager - Closing this.openedMediaEvent",{Bu:this.Bu}),this.PMa(q,this.Bu));y=this.la.cs({J:q.J,Ga:w.Ga});if(!y)return [3,3];A=this.la.FA(y);if(!A)return [3,3];h.l && this.console.trace("MediaEventsManager - Waiting for media event to begin:",{event:w});return [4,k.ce.mm(A)];case 2:(F.T(),h.l && this.console.trace("MediaEventsManager - Opening media event:",{event:w}),this.yGc(q,w),F.label=3);case 3:z=this.la.cs({J:q.J,Ga:w.Ga.add(w.duration)});if(!z)return [3,5];B=this.la.FA(z);if(!B)return [3,5];h.l && this.console.trace("MediaEventsManager - Waiting for event to elapse:",{event:w});return [4,k.ce.mm(B)];case 4:(F.T(),h.l && this.console.trace("MediaEventsManager - Closing event:",{event:w}),this.PMa(q,w),F.label=5);case 5:return (u=r.next(),[3,1]);case 6:return [3,9];case 7:return (C=F.T(),D={error:C},[3,9]);case 8:try{u && !u.done && (E=r.return) && E.call(r);}finally{if(D)throw D.error;}return [7];case 9:return [2];}});};p.prototype.zrc=function(q){var r,u,v,w,x,y,A,z,B,C,D,E,H;return d.__generator(this,function(F){switch(F.label){case 0:r=this.baa(q);(0,f.assert)(r,"Store must be present");u=this.la;v=r.model.kB;w=u.$ub(q.J);if(!w)return [3,8];x=u.ws(w);y=!1;F.label=1;case 1:(F.tc.push([1,6,7,8]),A=d.__values(v),z=A.next(),F.label=2);case 2:if(z.done)return [3,5];B=z.value;C=!1;!y && x.Ga.lessThan(B.Ga.add(B.duration)) && (y=!0,C=x.Ga.Wf(B.Ga));return y?[4,{event:B,no:C}]:[3,4];case 3:(F.T(),F.label=4);case 4:return (z=A.next(),[3,2]);case 5:return [3,8];case 6:return (D=F.T(),E={error:D},[3,8]);case 7:try{z && !z.done && (H=A.return) && H.call(A);}finally{if(E)throw E.error;}return [7];case 8:return [2];}});};p.prototype.yGc=function(q,r){var u;this.Bu=r;u=r.Ga;q=f.I.Ca(q.il()).ea(u).G;u=this.la.ws(this.la.Yg).Ga.ea(u);r={id:r.id,Fj:r.Fj,mZ:q,duration:r.duration.G,bE:r.bE,payload:r.payload,L2a:u.G,timestamp:c.platform.time.ha()};h.l && this.console.trace("emitting mediaEventTriggered:",r);this.events.emit("mediaEventTriggered",r);this.yca.guc(r);};p.prototype.qcc=function(q,r){var u,v;if(r && this.Bu && q){r=this.la.ws(r);u=this.Bu.Ga;v=u.add(this.Bu.duration);if(r.Ga.lessThan(u) || r.Ga.greaterThan(v))(h.l && this.console.trace("MediaEventsManager - Seek position not in window closing media event - ",{Bu:this.Bu}),this.PMa(q,this.Bu));}};p.prototype.PMa=function(q,r){var u;this.Bu=void 0;u=r.Ga.add(r.duration);q=f.I.Ca(q.il()).ea(u).G;r={id:r.id,Fj:r.Fj,mZ:q,timestamp:c.platform.time.ha()};h.l && this.console.trace("emitting mediaEventElapsed:",r);this.events.emit("mediaEventElapsed",r);this.yca.fuc(r);};d.__decorate([(0,e.gb)({methodName:"getAds",Te:!0})],p.prototype,"$G",null);return p;})();b.Zbb=t;},4786:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Zfc=function(c,f){return c.zD?new n.Iab():new d.Qab(f);};d=a(20349);n=a(40385);},76452:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r;Object.defineProperties(b,{__esModule:{value:!0}});b.ccb=void 0;d=a(22970);n=a(90745);c=a(91176);f=a(91562);g=a(66164);e=a(48170);h=a(8149);k=a(61996);l=a(54366);m=a(45173);p=a(89025);q=a(12381);r=a(4786);t=(function(){function u(v,w,x,y){var A,z,B,C,D,E,H,F,G;A=this;this.M=w;this.config=x;this.$L=y;this.model={Ew:[],get ny() {return 0 < this.Ew.length?this.Ew[this.Ew.length - 1]:void 0;},get Koa() {return 0 < this.Ew.length?this.Ew[0]:void 0;},kB:[],lb:[],aVc:function(){return {last5NetflixMediaEvents:this.kB.map(function(J){return {id:J.id,contentTimestamp:new c.zW(J.Ga,J.Ga.add(J.duration)).toString()};}).slice(-5),netflixMediaEventsCount:this.kB.length,last5adBreaks:this.lb.map(function(J){return {id:J.id,contentTimestamp:new c.zW(J.Ga,J.Ga.add(J.duration)).toString()};}).slice(-5),adBreaksCount:this.lb.length,last5Programs:this.Ew.map(function(J){var L,K;return {id:J.id,programStart:null === (L=J.xn) || void 0 === L?void 0:L.Ga.toString(),programEnd:null === (K=J.yo) || void 0 === K?void 0:K.Ga.toString()};}).slice(-5)};}};this.CJa=!1;this.kB=new Map();this.lb=new Map();this.Qq=new c.FO([],function(J,L){return J.Rg - L.Rg;});this.MF=c.I.OWa;this.$n=new q.Wbb();(0,c.assert)(w.Eb,"MediaEventsStore requires live Viewable");this.events=new n.EventEmitter();y=c.I.ia;this.behavior=(0,r.Zfc)(this.M,this.model);this.console=new g.platform.Console("MEDIAEVENTSSTORE","asejs",("[").concat(this.M.R,"]"));e.l && this.console.log(("Creating MediaEventsStore: synthesizeLiveIdrMismatch=").concat(this.config.F2));this.dk=new k.Am({rj:this,source:"media-events-store",xg:10,console:this.console});this.M.Ze.Sc(new l.Qn(this.dk));H=x.D9;if(this.$L && H){F=this.$L;H=F.ahc;G=F.w9b;(F=F.O) && H >= G && (y=c.I.Ca(H - G).Kc(F));F=c.I.Ca(this.M.il(!0));this.tFb(y,F) && (e.l && this.console.log("needs events from media event history, adjusting startContentTimestamp","startContentTimestamp",null === y || void 0 === y?void 0:y.ca(),"logicalLiveEdge",null === F || void 0 === F?void 0:F.ca(),"new startContentTimestamp",null === (z=c.I.min(y,F)) || void 0 === z?void 0:z.ca()),y=c.I.min(y,F));this.rJb(y);e.l && this.console.log("processed history: cutoffTimeMs",H,"baseTimeMs",G,"startContentTimestamp",y.ca());}else e.l && this.console.log("no media events history");this.behavior.RNb() && (this.Vs=new m.Xbb(v,w,x,this.Uaa.bind(this),this.$n),this.Vs.events.on("mediaEventsReceived",function(J){var L;A.Qq.push(J);e.l && A.console.info("Received media events",{Rg:J.Rg,yed:A.Qq.xj().slice(0,5).map(function(K){return K.Rg;})});A.process();A.complete && (null === (L=A.Vs) || void 0 === L?void 0:L.La());}),this.Vs.events.on("eosReceived",function(){var J;null === (J=A.Vs) || void 0 === J?void 0:J.La();}),this.events.on("modelUpdated",function(){A.CJa=!0;}));null !== (B=this.M.Oc.roa) && void 0 !== B && B.isFinite()?void 0 === (null === (C=this.model.ny) || void 0 === C?void 0:C.yo) && (v=this.M.Oc.PG,void 0 !== v && (y=c.I.max(y,v))):y=c.I.max(y,c.I.Ca(this.M.il(!0) - x.WCb));this.M.events.on("urlsUpdated",function(){var J;null === (J=A.Vs) || void 0 === J?void 0:J.$fa(A.pn);});this.start(y);e.l && this.Vs && this.console.log(("starting retrieval at segment ").concat(this.pn,", ") + ("startSegmentNumber: ").concat(this.stream.track.Co,", ") + ("startContentTimestamp: ").concat(y.ca(),", ") + "eventStartContentTimestamp: " + ("").concat(null === (D=this.M.Oc.PG) || void 0 === D?void 0:D.ca(),", ") + "eventEndContentTimestamp: " + ("").concat(null === (E=this.M.Oc.roa) || void 0 === E?void 0:E.ca(),", ") + ("logicalLiveEdge: ").concat(this.M.il(!0),", ") + ("averageSegmentDuration: ").concat(this.stream.track.al.ca()));}Object.defineProperties(u.prototype,{ow:{get:function(){return this.MF;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{GLc:{get:function(){return this.CJa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{complete:{get:function(){return this.Uaa(this.ow);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{track:{get:function(){var v;v=this.M.getTracks(f.u.um)[0];(0,c.assert)((0,h.po)(v),"MediaEventsStore: track is not live");return v;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{stream:{get:function(){return this.track.Gd[0];},enumerable:!1,configurable:!0}});u.prototype.Lnc=function(){var v;v=c.I.Ca(this.M.il(!0) - this.config.WCb);this.pn=0;this.Qq.clear();this.CJa=!1;this.MF=v;this.cd(v);};u.prototype.dzb=function(v){var w;if(this.complete || this.ow.greaterThan(v))return (e.l && this.console.trace("" + ("hasMediaEvents ").concat(v.ca()," returns true")),!0);w=v.ea(c.I.Ca(this.config.Uzc));e.l && this.console.trace(("hasMediaEvents ").concat(v.ca()," returns false,") + (" cutoff (").concat(this.ow.ca(),")") + (" catchup (").concat(w.ca(),")"));this.ow.lessThan(w) && (e.l && this.console.trace(("catchup to ").concat(w.ca())),this.cd(w));return !1;};u.prototype.aOb=function(v){!this.complete && this.ow.ln(v) && (v=v.add(this.track.al),e.l && this.console.trace(("skip to ").concat(v.ca())),this.cd(v));};u.prototype.LGb=function(v,w){var A;e.l && this.console.trace(("POI changed from ").concat(v.ca()," to ").concat(w.ca()));for(var x=!1,y=0;y < this.model.lb.length;y++){A=this.model.lb[y];if(A.Ga.G === v.G){e.l && this.console.trace(("Updating adBreak ").concat(y,", id:").concat(A.id," location: ").concat(A.Ga.ca()) + (" to location ").concat(w.ca()," ") + ("from ").concat(A.Ga.ca()," and duration from ").concat(A.duration.ca()," ") + ("to ").concat(A.duration.add(A.Ga.ea(w)).ca()));A.duration=A.duration.add(A.Ga.ea(w));A.Ga=w;x=!0;break;}if(A.Ga.add(A.duration).G === v.G){e.l && this.console.trace(("Updating adBreak ").concat(y,", id:").concat(A.id," location: ").concat(A.Ga.ca()) + (" duration to ").concat(w.ea(A.Ga).ca()," ") + ("from ").concat(A.duration.ca()));A.duration=w.ea(A.Ga);x=!0;break;}}e.l && !x && this.console.warn(("POI changed from ").concat(v.ca()," to ").concat(w.ca()," but no adBreak found"));};u.prototype.start=function(v){v=Math.floor(v.rf(this.stream.track.al));this.pn=v + this.stream.track.Co;this.MF=this.stream.track.al.hh(v);this.Vs && ((0,c.assert)(!this.Vs.mj,"retrieval service should not be running at start"),this.Vs.start(this.pn));};u.prototype.cd=function(v){var w,x,y;w=Math.floor(v.rf(this.stream.track.al));x=this.pn;y=w + this.stream.track.Co;y > x && (this.pn=y,this.MF=this.stream.track.al.hh(w));this.Vs && ((e.l && this.console.trace("Restarting retrieval",{start:v.ca(),u0:y}),this.Vs.maa)?y > x && (this.Qq.clear(),this.Vs.cd(this.pn)):this.Vs.start(this.pn));this.process();};u.prototype.Uaa=function(v){var w,x;if(this.behavior.Uaa())return (e.l && this.console.trace("isEventsModelComplete ending because the model is complete"),!0);w=this.M.Oc.SOb;x=v.Wf(w);x && e.l && this.console.trace("isEventsModelComplete ending at time:",{Ga:v,SOb:w});return x;};u.prototype.process=function(){var v,w,x,y,A,z,B,C,D,E,G,J;D=new Set();E=[];null !== (x=this.pn) && void 0 !== x?x:this.pn=this.stream.track.Co;x=!1;for(e.l && this.console.log("Starting process loop",{Rg:this.pn,unc:null === (y=this.Qq.Pq()) || void 0 === y?void 0:y.Rg,bIc:this.Qq.length,Orb:this.MF.toString()});0 < this.Qq.length;)if((y=this.Qq.Pq(),(null === y || void 0 === y?void 0:y.Rg) === this.pn)){y.events.length?e.l && this.console.log("Adding media events",{Rg:this.pn,next:y}):e.l && this.console.debug("Empty media events",{Rg:this.pn,next:y});try{for(var H=(v=void 0,d.__values(null === y || void 0 === y?void 0:y.events)),F=H.next();!F.done;F=H.next()){G=F.value;if(this.$L){J=this.$L.O;G.presentationTime=G.presentationTime.Kc(J);G.NG=G.NG?G.NG.Kc(J):void 0;}this.yKa(G) && (D.add(G.type),E.push(G.presentationTime),e.l && this.console.debug("Adding event updated model",{g8c:G.presentationTime,ta:y.ta}));}}catch(L){v={error:L};}finally{try{F && !F.done && (w=H.return) && w.call(H);}finally{if(v)throw v.error;}}this.MF=c.I.max(this.ow,y.ta);x=!0;this.pn++;this.Qq.pop();}else if((null !== (A=null === y || void 0 === y?void 0:y.Rg) && void 0 !== A?A:0) < this.pn)(e.l && this.console.warn("Dropping old media event",{ZDc:this.pn,h8c:null === y || void 0 === y?void 0:y.Rg}),this.Qq.pop(),null === (z=this.$n) || void 0 === z?void 0:z.DFc(null !== (B=null === y || void 0 === y?void 0:y.Rg) && void 0 !== B?B:0));else {e.l && e.l && this.console.info("First item in queue is later... waiting",{ZDc:this.pn,y8c:null === y || void 0 === y?void 0:y.Rg});break;}0 < D.size && this.events.emit("modelUpdated",{type:"modelUpdated",a3:D,VWa:E});x && (e.l && this.console.trace("" + ("progress to ").concat(this.MF.ca())),this.events.emit("progress",{type:"progress",ta:this.MF}));e.l && this.console.log("Exiting process loop",{Rg:this.pn,unc:null === (C=this.Qq.Pq()) || void 0 === C?void 0:C.Rg,Orb:this.MF.toString(),Wad:x,hcd:this.Qq.xj().map(function(L){return L.Rg;})});};u.prototype.rJb=function(v){var w,x,y,A,z,B;w=this;x=[];if(this.$L){y=this.$L;A=y.qo;z=y.O;if(A.length){B=new Set();A.forEach(function(C){var D,E,H,F,G,J;D=new c.I(C.timestamp,z);E=void 0 !== C.duration?new c.I(C.duration,z):void 0;if("netflix" === C.type){F=C.type;G=C.id;C=C.Fj;v.Wf(D.add(E || c.I.ia))?H={type:F,id:G,presentationTime:D,NG:E,Fj:C}:e.l && w.console.trace("skipping in-progress event id:",G);}else {F=C.type;H=C.Ao;J=C.fb;G=C.id;H={type:F,id:G,presentationTime:D,NG:E,Ao:H,fb:J};}H && (w.yKa(H),x.push(H.presentationTime),B.add(H.type));});B.size && this.events.emit("modelUpdated",{type:"modelUpdated",a3:B,VWa:x});this.dk.ug({store:this.model.aVc()});}}};u.prototype.yKa=function(v){var w,x;x=(0,p.Tqa)(v)?this.k6b(v):this.x6b(v);this.dk.ug({lb:this.model.lb.length,v7c:x,type:v.type});null === (w=this.$n) || void 0 === w?void 0:w.kFc(v,x,v.presentationTime);return x;};u.prototype.k6b=function(v){var w,x,y,A;w=!1;x=v.Qwc;y=("").concat(v.id,"-").concat(v.Fj);A=this.kB.get(y);A || x?A && x?(x=v.presentationTime.ea(A.Ga),w=this.e1(v,A,x),v=d.__assign(d.__assign({},A),{duration:x,bE:v.bE,payload:v.payload}),e.l && this.console.trace("emitting netflixEventCancelled:",v),this.events.emit("netflixEventCancelled",v)):e.l && this.console.trace("Duplicate NetflixMediaEvent ignored:",{BPa:y,m8c:A,event:v}):(v={key:y,id:v.id,duration:v.NG || c.I.ia,Ga:v.presentationTime,Fj:v.Fj,bE:v.bE,payload:v.payload},this.kB.set(v.key,v),w=!0,e.l && this.console.trace("emitting netflixEventReceived:",v),this.events.emit("netflixEventReceived",v));w && (this.model.kB=Array.from(this.kB.values()));return w;};u.prototype.x6b=function(v){var w,x,y,A,z,B,C,D;z=!1;B=v.SOc;C=(null === B || void 0 === B?void 0:B.xea) || v.Ao;if(this.config.F2){D=null === (w=this.M.getTracks(f.u.U)[0].Ea) || void 0 === w?void 0:w.hh(this.config.F2);D && (this.console.log(("Adjusting event timestamp ").concat(v.presentationTime.ca()," by ").concat(D.ca())),v.presentationTime=v.presentationTime.add(D));}w=v.presentationTime.$;this.console.debug("Processing event",{id:w,Syc:this.ow,event:v});if(this.behavior.Bob(v))switch(v.type){case "breakstart":case "adbreak":if(v.presentationTime.lessThan(this.ow))break;if((x=this.lb.get(w)) && x.Ga.equal(v.presentationTime) && x.duration.equal(v.NG || c.I.ia) && x.Ao === C)break;this.behavior.Aob() && (this.Qlb(w,v,B),z=!0);break;case "cancel":x=this.model.lb.filter(function(E){return E.aMb === (null === B || void 0 === B?void 0:B.id) && E.Ao === C;}).sort(function(E,H){return E.Ga.Nl(H.Ga);});if(0 === x.length)break;x=x[x.length - 1];if(x.Ga.add(x.duration).lessThan(v.presentationTime))break;z=this.e1(v,x,v.presentationTime.ea(x.Ga));break;case "breakend":x=this.model.lb.filter(function(E){var H;H=new c.zW(E.Ga,E.Ga.add(E.duration));return E.aMb === (null === B || void 0 === B?void 0:B.id) && H.iY(v.presentationTime);}).sort(function(E,H){return E.Ga.Nl(H.Ga);});if(0 === x.length)break;x=x[x.length - 1];if(x.Ga.add(x.duration).lessThan(v.presentationTime))break;z=this.Oyb(x,v);break;case "programend":!this.model.ny || null !== (x=this.model.ny.yo) && void 0 !== x && x.Ga.equal(v.presentationTime) || (this.console.debug("Setting program end",v.presentationTime),this.model.ny.yo={Ga:v.presentationTime},z=!0);break;case "programstart":null !== (A=null === (y=this.model.ny) || void 0 === y?void 0:y.xn) && void 0 !== A && A.Ga.equal(v.presentationTime) || (this.model.ny && !this.model.ny.yo && (this.console.debug("Received a new program start while program end is not set, setting program end automatically",v.presentationTime),this.model.ny.yo={Ga:v.presentationTime},z=!0),this.console.debug("Setting program start",v.presentationTime),(0,c.assert)(void 0 !== v.id,"Program start event must have an id"),this.model.Ew.push({id:v.id,xn:{Ga:v.presentationTime}}),z=!0);}z && (this.model.lb=Array.from(this.lb.values()));return z;};u.prototype.Qlb=function(v,w,x){var y,A,z;z=null === (A=null === (y=this.model.ny) || void 0 === y?void 0:y.xn) || void 0 === A?void 0:A.Ga;y=(null === x || void 0 === x?void 0:x.xea) || w.Ao;this.lb.set(v,{id:v,duration:w.NG || c.I.ia,Ga:w.presentationTime,location:z?w.presentationTime.ea(z):c.I.ia,Ao:y,fb:w.fb,aMb:null === x || void 0 === x?void 0:x.id});e.l && this.console.debug("Upserting event",{id:v,Sa:this.lb.get(v)});};u.prototype.e1=function(v,w,x){var y;y=!1;x.equal(c.I.ia)?(this.console.debug("Deleting event",w.id),this.dk.ug({deleting:!0}),(0,p.Tqa)(v)?this.kB.delete(w.key):this.lb.delete(w.id),y=!0):x.JS(w.duration) && (this.console.debug("Updating event",{id:w.id,JDc:x}),this.dk.ug({adjusting:x}),(0,p.Tqa)(v)?this.kB.set(w.key,d.__assign(d.__assign({},w),{duration:x})):this.lb.set(w.id,d.__assign(d.__assign({},w),{duration:x})),y=!0);return y;};u.prototype.Oyb=function(v,w){var x;x=!1;w=w.presentationTime.ea(v.Ga);w.equal(c.I.ia)?this.console.error("Unexpected zero-length adBreak after breakend media event (early terminated adbreak)",v.fb):w.JS(v.duration) && (this.console.debug("Updating event",{id:v.id,JDc:w}),this.dk.ug({adjusting:w}),this.lb.set(v.id,d.__assign(d.__assign({},v),{duration:w})),x=!0);return x;};u.prototype.tFb=function(v,w){var x,y,A;if(this.$L && this.config.xjc){x=this.$L;y=x.qo;A=x.O;if(y.length)return y.some(function(z){var B,C;B=new c.I(z.timestamp,A);C=void 0 !== z.duration?new c.I(z.duration,A):void 0;C=B.add(C || c.I.ia);return "netflix" === z.type && B.lessThan(v) && C.greaterThan(w);});}return !1;};u.prototype.La=function(){var v;null === (v=this.Vs) || void 0 === v?void 0:v.La();};u.prototype.disable=function(){var v;this.La();v=c.I.Ca(72E6);this.aOb(v);};d.__decorate([(0,k.gb)({methodName:"processMediaEventsHistory",Te:!0})],u.prototype,"rJb",null);d.__decorate([(0,k.gb)({methodName:"addEvent",Te:!0})],u.prototype,"yKa",null);d.__decorate([(0,k.gb)({methodName:"addAdBreak",Lm:!0})],u.prototype,"Qlb",null);d.__decorate([(0,k.gb)({methodName:"performCancel",Te:!0,Lm:!0})],u.prototype,"e1",null);d.__decorate([(0,k.gb)({methodName:"handleBreakEnd",Te:!0,Lm:!0})],u.prototype,"Oyb",null);d.__decorate([(0,k.gb)({methodName:"needsMediaEventsFromHistory"})],u.prototype,"tFb",null);d.__decorate([(0,k.gb)({methodName:"destruct"})],u.prototype,"La",null);d.__decorate([(0,k.gb)({methodName:"disable"})],u.prototype,"disable",null);return u;})();b.ccb=t;},28057:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.acb=void 0;d=a(91967);t=(function(){function n(c){this.$n=c;this.dc=this.Zl=n.dc;}Object.defineProperties(n.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});n.prototype.Ch=function(c){c=c.Ds;if(c === d.Ud.Np || c === d.Ud.yH || c === d.Ud.Qv)return this.$n.wsc();};n.dc="media-events";return n;})();b.acb=t;},12381:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Wbb=b.BWb=void 0;d=a(22970);n=a(91176);c=a(35536);f=a(94258);g=a(89025);e=[50,100,150,200,250,300,500,1E3,2E3,1E4];h=(function(){function k(l){this.size=l;this.Zz=[];}k.prototype.push=function(l){for(this.Zz.push(l);this.Zz.length >= this.size;)this.Zz.shift();};k.prototype.xj=function(){return this.Zz;};return k;})();b.BWb=h;t=(function(){function k(){this.state={vlb:new n.Vg(),xlb:0,Ytb:new n.Vg(),qTa:{},Czb:new f.wF(e),ZLb:new n.Vg(),q0a:{},zWa:{},jPb:new n.Vg(),RQb:0,$fa:0,jMb:0,oMb:new h(10),iCb:new h(10)};}k.prototype.OFc=function(l){this.state.jPb.push(l);};k.prototype.NFc=function(l){this.state.Ytb.push(l);};k.prototype.MFc=function(l){this.state.vlb.push(l);};k.prototype.fVc=function(l){d.__awaiter(this,void 0,void 0,function(){var m,p,q,r,u;return d.__generator(this,function(v){switch(v.label){case 0:(m=new c.qJ(),m.start(),v.label=1);case 1:return (v.tc.push([1,3,,4]),[4,l]);case 2:return (p=v.T(),m.stop(),this.state.Czb.push(m.duration),[3,4]);case 3:return (q=v.T(),(0,n.Qqa)(q)?this.state.xlb++:this.state.RQb++,[2]);case 4:return (p.ok || (r=null !== (u=this.state.qTa[p.status]) && void 0 !== u?u:0,this.state.qTa[p.status]=r + 1),[2]);}});});};k.prototype.uGc=function(){this.state.$fa++;};k.prototype.DFc=function(l){this.state.jMb++;this.state.oMb.push(l);};k.prototype.kFc=function(l,m,p){var q,r;if((0,g.Tqa)(l)){r=null !== (q=this.state.zWa[l.Fj]) && void 0 !== q?q:0;this.state.zWa[l.Fj]=r + 1;}else (q=null !== (r=this.state.q0a[l.type]) && void 0 !== r?r:0,this.state.q0a[l.type]=q + 1);m && this.state.iCb.push({eventType:l.type,presentationTimeS:p.Zi});};k.prototype.PFc=function(l){this.state.ZLb.push(l);};k.prototype.wsc=function(){return {httpLatencyBuckets:this.state.Czb,unhandledExceptions:this.state.RQb,abortsCount:this.state.xlb,httpErrorCounts:this.state.qTa,successAttemptsCounts:this.state.jPb,scheduledDelay:this.state.ZLb,errorAttemptsCounts:this.state.Ytb,abortAttemptsCounts:this.state.vlb,scteEventsReceivedCounts:this.state.q0a,mediaEventsReceivedCounts:this.state.zWa,urlsChanged:this.state.$fa,segmentDroppedEvents:this.state.jMb,segmentsDropped:this.state.oMb.xj(),lastEventsAdded:this.state.iCb.xj()};};return k;})();b.Wbb=t;},45173:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Xbb=void 0;d=a(22970);a(97685);n=a(65161);c=a(61996);f=a(44053);t=(function(g){function e(h,k,l,m,p){var q;q=g.call(this,h,k,m,p) || this;q.requestId=-1;q.gca=new f.bcb(k,l,q.console,fetch,p);q.gca.events.on("eosReceived",function(r){q.events.emit("eosReceived",r);});q.gca.events.on("errorReceived",function(r){!1;0 !== r.xub.status && q.xLb(r.xub);});q.Bmc=q.gca.eqc();return q;}d.__extends(e,g);e.prototype.xLb=function(h){(h=h.headers.get("X-TCP-Info"))?this.M.NB?this.M.NB.mJb(h,{mediaType:n.u.um,jn:this.gca.mCb || 0,yxa:!1}):this.M.OL && (h=this.M.OL.decode(n.u.um,h,!1)) && (void 0 === h.Qf || isNaN(h.Qf) || this.M.Wfa(h.Qf,this.gca.mCb || 0)):!1;};e.prototype.eub=function(h,k){return d.__awaiter(this,void 0,void 0,function(){var l,m,p,q,r,u;return d.__generator(this,function(v){switch(v.label){case 0:l=this.stream;m=this.M.Vi;p=m.Wxa(this.track.M.J,this.track.Gd,this.track.Apa(k.qa));this.KL=this.stream.Ab;if(!p)throw Error("Unable to perform location selection");q=l.a_(k.gf,k.Rg);++this.requestId;return [4,this.Bmc(k)(q,{headers:{"Cache-Control":"no-cache, no-store","X-Gibbon-Cache-Control":"no-cache, no-store"},signal:h})];case 1:r=v.T();this.xLb(r);if(!r.ok)throw Error(("Failed to fetch media events: ").concat(r.status));return [4,r.arrayBuffer()];case 2:return (u=v.T(),[2,u]);}});});};e.prototype.$fa=function(h){var k;null === (k=this.$n) || void 0 === k?void 0:k.uGc();k=this.stream.track.Yv(h).qa;this.M.Vi.Wxa(this.track.M.J,this.track.Gd,this.track.Apa(k));this.stream.Ab !== this.KL && (this.VJa.ug({url:this.stream.Ab,out:this.oM,segmentIndex:this.Rg}),this.cd(h));};d.__decorate([(0,c.gb)({methodName:"urlsChanged",Te:!0})],e.prototype,"$fa",null);return e;})(a(85981).Ybb);b.Xbb=t;},85981:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Ybb=void 0;d=a(22970);n=a(90745);c=a(91176);f=a(91562);g=a(66164);e=a(91176);h=a(91562);k=a(40666);l=a(8149);m=a(61996);p=a(54366);t=(function(){function q(r,u,v,w){this.dV=r;this.M=u;this.sUc=v;this.$n=w;this.events=new n.EventEmitter();this.Rg=0;this.ta=c.I.ia;this.As=!1;this.console=new g.platform.Console("MEDIAEVENTS_FETCHER","asejs",("[").concat(this.M.R,"]"));this.gE=new e.AbortController();this.XB=new c.yBa(this.console,{xg:10,wLa:!0});this.VJa=new m.Am({rj:this,source:"media-events-provider",xg:10,console:this.console});this.M.Ze.Sc(new p.Qn(this.VJa));}Object.defineProperties(q.prototype,{mj:{get:function(){var r;return !(null === (r=this.uZ) || void 0 === r || !r.no);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{maa:{get:function(){return void 0 !== this.uZ;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{track:{get:function(){var r;r=this.M.getTracks(f.u.um)[0];(0,c.assert)((0,l.po)(r),"MediaEventsFetchProviderBase: track is not live");return r;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{stream:{get:function(){return this.track.Gd[0];},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oM:{get:function(){return this.XB.lE;},enumerable:!1,configurable:!0}});q.prototype.iqa=function(){return !this.As && !this.sUc(this.ta);};q.prototype.zmc=function(){var r,u,v,w,x,y,A,z;return d.__generator(this,function(B){switch(B.label){case 0:((0,c.assert)((0,l.zk)(this.stream),"MediaEventsFetchProviderBase: stream is not live"),this.console.log("Fetch task: starting",{H9c:this.iqa(),Xbd:this.oM}),void 0 === this.szb && (this.console.log("Fetch task: queuing header request"),this.szb=this.imb(!0).item),r=20,B.label=1);case 1:if(!(this.iqa() && this.oM < r))return [3,3];u=this.stream.track.Yv(this.Rg);v=u.ta;w=u.qa;x=this.M.il(!0);y=Math.max(0,v.G - x);this.console.log("Fetch task: waitRelative",{mfd:y,ta:v,WVa:x,oM:this.oM});return [4,k.ce.jz(c.I.Ca(y))];case 2:return (B.T(),A=v.G - x,null === (z=this.$n) || void 0 === z?void 0:z.PFc(A),this.imb(!1,this.Rg,w,v),this.ta=v,this.Rg++,[3,1]);case 3:return (this.iqa() || this.console.log("Fetch task: complete"),this.console.log("Fetch task: exiting"),[2]);}});};q.prototype.imb=function(r,u,v,w){var x,y,A;x=this;this.console.log("Fetch task: addRequestToQueue",{header:r,Rg:u,qa:v,ta:w});(0,c.assert)(r || void 0 !== u && void 0 !== w && void 0 !== v,"segmentIndex must be defined if not a header request");y=new c.Rja();y.j2a(this.gE.signal);A=y.Rh.signal;return this.XB.add({RJ:A,BAb:function(){return d.__awaiter(x,void 0,void 0,function(){var z,B;return d.__generator(this,function(C){switch(C.label){case 0:return (C.tc.push([0,,5,6]),r?[4,this.BDb(A)]:[3,2]);case 1:return [2,C.T()];case 2:return [4,this.DDb(A,u,v,w)];case 3:return [2,C.T()];case 4:return [3,6];case 5:return (y.La(),(!(null === (z=this.uZ) || void 0 === z?0:z.no) && this.iqa() && !this.As || r) && (null === (B=this.uZ) || void 0 === B?void 0:B.cd()),[7]);case 6:return [2];}});});},UXa:function(){y.La();},priority:u || 0});};q.prototype.BDb=function(r){return d.__awaiter(this,void 0,void 0,function(){var u,v,w,x;return d.__generator(this,function(y){switch(y.label){case 0:return (this.console.log("Making header request"),[4,this.eub(r,{Rg:void 0,gf:!0,stream:this.stream,qa:c.I.ia,ta:c.I.ia})]);case 1:u=y.T();v=new f.vm(this.console,{},u,["moov"],!1,{Sdd:!0});w=v.parse();if(!w.oB)throw Error(w.parseError);x=f.vm.path(v,["moov","trak","mdia","mdhd"]);(0,c.assert)(void 0 !== x,"mdhd should be defined");this.O=x.O;return [2];}});});};q.prototype.DDb=function(r,u,v,w){return d.__awaiter(this,void 0,void 0,function(){var x,y,A,z,B,C;return d.__generator(this,function(D){switch(D.label){case 0:(x=this.M.Oc.PG || c.I.dh,v.ea(x),this.VJa.ug({si:u,cst:v.ca(),cet:w.ca()}),D.label=1);case 1:return (D.tc.push([1,3,,4]),[4,this.eub(r,{gf:!1,ta:w,qa:v,stream:this.stream,Rg:u})]);case 2:return (y=D.T(),[3,4]);case 3:return (A=D.T(),(0,c.Qqa)(A) || this.events.emit("mediaEventsReceived",{type:"mediaEventsReceived",events:[],ta:w,Rg:u,y$c:!0}),[2]);case 4:return void 0 !== this.O?[3,6]:[4,this.szb];case 5:(D.T(),D.label=6);case 6:(0,c.assert)(void 0 !== this.O,"timescale should be defined once header request resolves");z=new f.E5(this.console,{},y);B={events:[]};C=z.parse(B);this.console.debug("Parsed media events: ",C.done);if(C.error)throw Error(C.error);this.console.debug("Received media events",{events:B.events,Ol:w,Rg:u});this.events.emit("mediaEventsReceived",{type:"mediaEventsReceived",events:this.mBc(B.events),ta:w,Rg:u});return [2,B.events];}});});};q.prototype.mBc=function(r){var u;u=this;return (null === r || void 0 === r?void 0:r.reduce(function(v,w){(w=u.AHc(w)) && v.push(w);return v;},[])) || [];};q.prototype.AHc=function(r){var u,v,w,x,y;if(r.KH){u=new c.I(r.AM,this.O).ea(this.track.Gk);v=void 0 !== r.nZ?new c.I(r.nZ,this.O):void 0;if(r.WM === h.eW.WM){w=new h.eW(new DataView(r.KH.buffer,r.KH.byteOffset,r.KH.byteLength),g.platform.xK,this.console);if(w=w.parse()){x=w.header;return {type:"netflix",presentationTime:u,NG:v,id:x.s5c,Fj:r.value,Qwc:x.cancel || !1,bE:x.hbd || "application/json",payload:w.body};}}else if(r.WM === h.uW.WM && (w=new h.uW(new DataView(r.KH.buffer,r.KH.byteOffset,r.KH.byteLength),this.console),r=w.parse())){w=r.id;x=r.event;a:{if(12 === r.yea && r.Z1 && 4 < r.Z1.byteLength){y=g.platform.xK(new Uint8Array(r.Z1));if("NFLX" === y.slice(0,4)){y=y.slice(4);break a;}}y=void 0;}return {id:w,type:x,presentationTime:u,NG:v,SOc:r,fb:y};}}};q.prototype.start=function(r){var u;u=this;(0,c.assert)(!this.mj,"MediaEventsFetchProviderBase: start called while running");this.As?this.console.warn("MediaEventsFetchProviderBase: start called after destruct"):(this.Rg=Math.max(r,this.stream.track.Co),this.uZ=this.dV.fs(function(){return u.zmc();},"media-events-fetcher"));};q.prototype.cd=function(r){this.As?this.console.warn("MediaEventsFetchProviderBase: restart called after destruct"):(this.La(),this.As=!1,this.gE=new e.AbortController(),this.start(r));};q.prototype.La=function(){var r;this.As=!0;null === (r=this.uZ) || void 0 === r?void 0:r.La();this.uZ=void 0;this.gE.abort();this.XB.clear();this.ta=c.I.ia;};d.__decorate([(0,m.gb)({methodName:"makeHeaderRequest",Te:!0})],q.prototype,"BDb",null);d.__decorate([(0,m.gb)({methodName:"makeMediaSegmentRequest",Te:!0})],q.prototype,"DDb",null);d.__decorate([(0,m.gb)({methodName:"start",Te:!0})],q.prototype,"start",null);d.__decorate([(0,m.gb)({methodName:"restart",Te:!0})],q.prototype,"cd",null);d.__decorate([(0,m.gb)({methodName:"destruct",Te:!0})],q.prototype,"La",null);return q;})();b.Ybb=t;},89025:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Tqa=function(a){return "netflix" === a.type;};},81621:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Lub=void 0;d=a(22970);n=a(91176);b.Lub=function(c,f){return function(g,e){return d.__awaiter(void 0,void 0,void 0,function(){var h,k,l,m,p;return d.__generator(this,function(q){switch(q.label){case 0:if(0 >= f)return [2,c(g,e)];k=(h=g instanceof Request)?g.signal:null === e || void 0 === e?void 0:e.signal;l=new n.Rja();k && l.j2a(k);m=setTimeout(function(){l.abort();},f);q.label=1;case 1:return (q.tc.push([1,,6,7]),p=void 0,h?[4,Promise.race([(0,n.Jla)(l.signal,!0).then(function(){return Response.error();}),c(g,e)])]:[3,3]);case 2:return (p=q.T(),[3,5]);case 3:return [4,c(g,d.__assign(d.__assign({},e),{signal:l.signal}))];case 4:(p=q.T(),q.label=5);case 5:return [2,p];case 6:return (clearTimeout(m),[7]);case 7:return [2];}});});};};},58487:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Pab=void 0;d=a(91176);n=a(66164);c=a(71077);t=(function(){function f(g,e){this.dAc=g;this.gta=e;}f.prototype.AL=function(g,e){var h,k;k=this.hxb(g);g=e(g);switch(k){case c.Gr.iGa:case c.Gr.CGa:return {MM:!1,Zs:!1};case c.Gr.Z5:return {MM:!1,Zs:!1,axc:!0};case c.Gr.nja:case c.Gr.nW:return {MM:!1,Zs:null !== (h=g.Zs) && void 0 !== h?h:!0};default:return g;}};f.prototype.hxb=function(g){var e;e=g.dm;return this.dAc.Fy({ta:e.ta,qa:e.qa,status:g.response.status},d.I.dh,!1);};f.prototype.TX=function(g,e){var h,k;e=e(g);h=this.hxb(g);if(h === c.Gr.nW || h === c.Gr.nja){h=g.response;k=g.Jyc;if(404 === h.status || 500 <= h.status)(h=k?n.platform.time.ha() - k:0,e.j9=Math.max(0,this.gta - h));}h=g.dm.ta;g=g.dm.stream.M.il(!0);h.G > g && (e.j9=Math.max(e.j9,h.G - g));return e;};return f;})();b.Pab=t;},78203:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Tbb=void 0;t=(function(){function a(d){this.X_=d;}a.prototype.AL=function(d,n){var c;c=d.attempt < this.X_;return c?n(d):{Zs:c};};return a;})();b.Tbb=t;},44053:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.bcb=void 0;d=a(22970);n=a(91176);c=a(66164);f=a(90745);g=a(71077);e=a(53914);h=a(87887);k=a(58487);l=a(79122);m=a(63206);p=a(81621);q=a(78203);t=(function(){function r(u,v,w,x,y){this.M=u;this.console=w;this.Iub=x;this.$n=y;this.events=new f.EventEmitter();this.wJa=[];u=new g.RCa(u,v);this.wJa=[new k.Pab(u,v.gta),new m.Uhb(),new h.Yhb(),new q.Tbb(v.kCc),new e.$bb()];this.Iub=(0,p.Lub)(x,v.Nhc);}Object.defineProperties(r.prototype,{mCb:{get:function(){return this.z3b;},enumerable:!1,configurable:!0}});r.prototype.eqc=function(){var u;u=this;return function(v){return function(w,x){return u.xOb(w,x,v,0);};};};r.prototype.xOb=function(u){return d.__awaiter(this,arguments,void 0,function(v,w,x,y){var A,z,B,C,D,E,H,F,G,J,L,K,M,P,I,O,Q,T,U;void 0 === w && (w={});return d.__generator(this,function(X){switch(X.label){case 0:(A=x.qa,z=x.ta,B=new n.Rja(),w.signal && B.j2a(w.signal),(0,n.JPb)(B.signal),C=new Request(v,d.__assign(d.__assign({},w),{signal:B.signal})),E=c.platform.time.ha(),X.label=1);case 1:return (X.tc.push([1,3,,4]),!1,H=this.Iub(C),this.z3b=c.platform.time.ha() - E,null === (O=this.$n) || void 0 === O?void 0:O.fVc(H),[4,H]);case 2:return (D=X.T(),D.ok?(null === (Q=this.$n) || void 0 === Q?void 0:Q.OFc(y),[2,D]):[3,4]);case 3:F=X.T();!1;if((0,n.Qqa)(F) && (!1,null === (T=this.$n) || void 0 === T?void 0:T.MFc(y),B.signal.aborted))throw F;D=Response.error(C.url,{headers:new Headers(),status:0,statusText:"Unhandled error in fetch"});return [3,4];case 4:G={request:C,attempt:y,response:D,dm:x,Jyc:E};this.events.emit("errorReceived",{xub:D,attempt:y});J=this.AL(G);L=J.Zs;K=J.MM;M=J.axc;!1;K && this.MM(G);M && this.events.emit("eosReceived",{qa:A,ta:z});if(!L)return [3,7];P=this.TX(G);if(!(0 < P))return [3,6];I=(0,n.Jla)(B.signal,!0);!1;return [4,Promise.race([I,new Promise(function(Y){return setTimeout(Y,P);})])];case 5:(X.T(),X.label=6);case 6:return [2,this.xOb(v,w,x,y + 1)];case 7:return (!1,null === (U=this.$n) || void 0 === U?void 0:U.NFc(y),[2,D]);}});});};r.prototype.MM=function(u){u=new l.ocb(u);this.M.Fy(u);};r.prototype.TX=function(u){var v;v=this.wJa.filter(function(w){return w.TX;}).map(function(w){return w.TX.bind(w);});return n.$E.tL(u,v).j9;};r.prototype.AL=function(u){var v;v=this.wJa.filter(function(w){return w.AL;}).map(function(w){return w.AL.bind(w);});return n.$E.tL(u,v);};return r;})();b.bcb=t;},79122:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.ocb=void 0;d=a(66164);n=a(26388);c=a(24940);t=(function(){function f(g){this.context=g;this.OM=c.jja.De;}Object.defineProperties(f.prototype,{response:{get:function(){return this.context.response;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{bh:{get:function(){var g;g=this.response.status;return 0 === g || 900 === g?d.platform.Bl.cF.RBa:500 <= g && 600 > g?d.platform.Bl.cF.a5:400 <= g && 500 > g?d.platform.Bl.cF.Mha:d.platform.Bl.cF.zh;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{jD:{get:function(){return this.response.statusText;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{status:{get:function(){return this.response.status;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Qg:{get:function(){return this.status;},enumerable:!1,configurable:!0}});f.prototype.Ei=function(){return ("ME:").concat(this.context.attempt,"::").concat(this.context.dm.Rg);};Object.defineProperties(f.prototype,{url:{get:function(){return this.context.request.url;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ci:{get:function(){return this.context.dm.Rg;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{stream:{get:function(){return this.context.dm.stream;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{mediaType:{get:function(){return n.u.um;},enumerable:!1,configurable:!0}});return f;})();b.ocb=t;},53914:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$bb=void 0;t=(function(){function a(){}a.prototype.TX=function(){return {j9:0};};a.prototype.AL=function(){return {MM:!0};};return a;})();b.$bb=t;},63206:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Uhb=void 0;t=(function(){function a(){}a.prototype.AL=function(d,n){var c;n=n(d);this.kra(d) && (n.Zs=null !== (c=n.Zs) && void 0 !== c?c:!0);return n;};a.prototype.TX=function(d,n){n=n(d);this.kra(d) && (n.j9=0);return n;};a.prototype.kra=function(d){d=d.response;if(!d.ok && (0 === d.status || 900 === d.status))return !0;};return a;})();b.Uhb=t;},87887:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Yhb=void 0;d=a(91176);t=(function(){function n(){this.bOc=[400,404,408,409,410];}n.prototype.AL=function(c,f){var g;f=f(c);if(void 0 === f.Zs){g=c.response;g.ok || (600 > g.status && 500 <= g.status && (f.Zs=!0),(0,d.cc)(this.bOc,function(e){return e === g.status;}) && (f.Zs=!0));}return f;};return n;})();b.Yhb=t;},93747:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.qcb=void 0;d=a(22970);n=a(48170);c=a(62629);f=a(65161);g=a(61996);t=(function(){function e(h,k,l){this.lRa=h;this.qqc=k;this.console=l;this.re=new g.Am({rj:this,console:l,source:"MemoryDeadlockProtector",xg:5});}e.prototype.$nc=function(h){var k,l,m,p;m=h.config;p=m.Ap + (null !== (l=null === (k=m.QB) || void 0 === k?void 0:k.G) && void 0 !== l?l:0);k=this.Auc(p,h);n.l && this.console.debug(("MDP: has prebuf: ").concat(k));return k?{Ina:!0}:(l=this.fac(m),k=l.UGc,l=l.iXc,k && l?(n.l && this.console.debug(("MDP: utilizing ").concat(Math.round(100 * l),"%")),l >= m.rCc?this.iLb(h,k):{Ina:!0}):{Ina:!1});};e.prototype.iLb=function(h,k){var l,m,p,q,r,v,y,A;this.re.ug({o:k});q=h.player;h=h.Ya;r=q.Ya;q=q.Ak;for(var u=0;u < r.length;u++)if(!r[u].mk){q=r[u];r=r.slice(0,u + 1);break;}u=!1;v=[{mediaType:f.u.X,nG:0},{mediaType:f.u.U,nG:0},{mediaType:f.u.Da,nG:0}];if(null === q || void 0 === q || !q.mk){h=h.map(function(B){return B;}).filter(function(B){return -1 === r.indexOf(B);}).sort(function(B,C){return (0,c.zob)(B) - (0,c.zob)(C);});try{for(var w=d.__values(h),x=w.next();!x.done;x=w.next()){y=x.value;A=y.iR();v[f.u.X].nG+=null !== (m=A.TJ) && void 0 !== m?m:0;v[f.u.U].nG+=null !== (p=A.JN) && void 0 !== p?p:0;n.l && this.console.debug(("Resetting discontiguous branch ").concat(y.K.id),A);y.reset();if(u=v.every(function(B){return B.nG >= k[B.mediaType].nG;}))break;}}catch(B){var z;z={error:B};}finally{try{x && !x.done && (l=w.return) && l.call(w);}finally{if(z)throw z.error;}}}return {Ina:u,L8c:v};};e.prototype.fac=function(h){var k,l,m,p,q;k=[f.u.X,f.u.U,f.u.Da];if(!h.sCc)return {};l=this.qqc();m=this.lRa().total;p=h.qCc;q=0;h=k.map(function(r){var u;u=l[r] - m[r] * p;q=Math.max(0 < m[r]?l[r] / m[r]:0,q);return {nG:Math.max(0,u),mediaType:r};});return {iXc:q,UGc:h};};e.prototype.Auc=function(h,k){var l,m,p;l=this;m=!1;k=k.mo?k.player:void 0;if(null === k || void 0 === k?0:k.fwc){m=k.yB.BA().map(function(q){return q.mediaType;});p=k.Apc();m=m.every(function(q){var r,u;if(q === f.u.X)q=null !== (r=p.HP) && void 0 !== r?r:0;else if(q === f.u.U)q=null !== (u=p.YU) && void 0 !== u?u:0;else return (n.l && l.console.trace("hasEnoughBuffer ignoring mediaType:",q),!0);return q >= h;});}return m;};d.__decorate([(0,g.gb)({methodName:"resetDiscontiguousBranches",return:!0,Te:!0})],e.prototype,"iLb",null);return e;})();b.qcb=t;},88874:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Xeb=void 0;d=a(22970);n=a(91176);c=a(69575);f=a(52571);g=a(61520);t=(function(){function e(){this.Ya=new c.Dcb();this.nr=new g.Jja();}Object.defineProperties(e.prototype,{empty:{get:function(){return this.Ya.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{size:{get:function(){return this.Ya.size;},enumerable:!1,configurable:!0}});e.prototype.reset=function(){var h;h=this.Ya.values();this.Ya.clear();this.nr.clear();h.forEach(function(k){return k.Jg();});};e.prototype.dn=function(h,k,l){var m,p;m=this.Ya.get(h);if(k){p=null === m || void 0 === m?void 0:m.filter(function(q){return q.K.Ta === k;});0 === (null === p || void 0 === p?void 0:p.length) && (null === l || void 0 === l?void 0:l.trace(("getBranches ").concat(h," startTimeMs: ").concat(k," no matches, have ").concat(null === m || void 0 === m?void 0:m.map(function(q){return q.K.Ta;}))));return p;}return m;};e.prototype.has=function(h){return this.Ya.has(h);};e.prototype.root=function(){return this.nr.root;};e.prototype.contains=function(h){var k;k=h.K.id;if(this.has(k))return -1 !== this.dn(k).indexOf(h);};e.prototype.QK=function(h){this.nr.QK(h);};e.prototype.Jpa=function(h){return this.nr.parent(h);};e.prototype.qpc=function(h){return this.nr.children(h);};e.prototype.cqa=function(h){return this.nr.cqa(h);};e.prototype.DMc=function(h){var k;if(this.Ya.delete(h.K.id,h)){k=this.nr.children(h);this.nr.root === h?0 === k.length?this.nr.clear():((0,f.assert)(1 === k.length,"cannot remove the root branch with multiple successors"),this.nr.TMc(k[0])):((0,f.assert)(0 === k.length,"cannot remove non-root branch with successors"),this.nr.remove(h));}};e.prototype.forEach=function(h){var k;k=this;this.Ya.forEach(function(l,m){return h(l,m,k);});};e.prototype.values=function(){return this.Ya.values();};e.prototype.reduce=function(h,k){var l;l=this;return this.Ya.reduce(function(m,p,q){return h(m,p,q,l);},k);};e.prototype.map=function(h){var k;k=this;return this.Ya.map(function(l,m){return h(l,m,k);});};e.prototype.filter=function(h){var k;k=this;return this.Ya.filter(function(l,m){return h(l,m,k);});};e.prototype.ztc=function(){var h;h={};this.forEach(function(k,l){(k=k.ez) && (h[l] || (h[l]=[])).push(k.G);});return h;};e.prototype.dWc=function(h,k,l){var m,p;m=this;h=this.ggc(h,k,l);p=h.Hsb(this.nr);k=p.oX;l=p.Ny;p=p.x_a;this.nr.clear();this.nr=h;k.forEach(function(q){return m.Ya.set(q.K.id,q);});k.forEach(function(q){return q.Ob();});l.forEach(function(q){return m.Ya.delete(q.K.id,q);});p.forEach(function(q){q.Uta();});return {Ny:l,x_a:p};};e.prototype[Symbol.iterator]=function(){return d.__generator(this,function(h){switch(h.label){case 0:return [5,d.__values(this.Ya)];case 1:return (h.T(),[2]);}});};e.prototype.ggc=function(h,k,l){var m,p,q;m=this;p=new Map();q=new g.Jja();h.QK(function(r,u){var v,w,x;if(u){v=p.get(u);if(!v)return !0;}w=(0,n.cc)(m.dn(r.K.id,r.K.Ta,l),function(y){return m.nr.parent(y) === v || !u;});null === l || void 0 === l?void 0:l.trace(("createNewBranchTree ").concat(r.K.id," reusableBranch: ").concat(!!w));x=w || k(r.K.id,v);x.jh=r.jh;p.set(r,x);q.add(x,v);w && x.update(r.K);return !0;});return q;};return e;})();b.Xeb=t;},70494:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Yeb=void 0;t=(function(){function a(d){this.console=d;this.GMa();}a.prototype.get=function(d){return this.GY[d] || this.Xh[d];};a.prototype.set=function(d,n){void 0 === this.Xh[d] && (this.Xh[d]=n);};a.prototype.ZPc=function(d,n){void 0 === this.get(d) && (this.GY[d]=n);};a.prototype.clear=function(d){this.upb(d);this.Xh[d]=void 0;};a.prototype.upb=function(d){this.GY[d]=void 0;};a.prototype.Ybc=function(d){var n;this.Xh=(n={},n[d]=this.Xh[d],n);this.GY={};};a.prototype.GMa=function(){this.Xh={};this.GY={};};a.prototype.toJSON=function(){return {Xh:this.Xh,GY:this.GY};};return a;})();b.Yeb=t;},86451:function(t,b,a){var c,f;function d(g,e){var h,k;h=Object.keys(g);if(h.some(function(l){var m,p,q,r;return (null === (m=g[l]) || void 0 === m?void 0:m.$d) !== (null === (p=e[l]) || void 0 === p?void 0:p.$d) || (null === (q=g[l]) || void 0 === q?void 0:q.weight) !== (null === (r=e[l]) || void 0 === r?void 0:r.weight);}))return !0;k=Object.keys(e);return 0 !== c.__spreadArray(c.__spreadArray([],c.__read((0,f.Zo)(h,k)),!1),c.__read((0,f.Zo)(k,h)),!1).length?!0:!1;}function n(g,e){return g.some(function(h,k){return 0 !== (0,f.Zo)(h,e[k] || []).length;}) || g.length !== e.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.gac=function(g,e){var h,k,l,m,p,q;h=Object.keys(g.ba);k=Object.keys(e.ba);l=k.filter(function(r){return -1 === h.indexOf(r);});m=h.filter(function(r){return -1 === k.indexOf(r);});p=h.filter(function(r){var u;if(-1 === k.indexOf(r))u=!1;else (u=g.ba[r],r=e.ba[r],u=u.Hc !== r.Hc || u.cb !== r.cb || u.Ta !== r.Ta || u.$d !== r.$d || u.J !== r.J || u.CB !== r.CB || n(u.Ul || [],r.Ul || []) || d(u.next || ({}),r.next || ({}))?!0:!1);return u;});q=(0,f.Zo)(h,c.__spreadArray(c.__spreadArray(c.__spreadArray([],c.__read(p),!1),c.__read(l),!1),c.__read(m),!1));return {oX:l,Ny:m,tq:p,LVc:q};};c=a(22970);f=a(91176);},31509:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Zeb=b.eJ=void 0;d=a(22970);n=a(52571);(function(f){f[f.gC=0]="CREATED";f[f.tW=1]="STARTED";f[f.OO=2]="REQUEST_ISSUED";f[f.dF=3]="EVALUATED";f[f.F7a=4]="DESTRUCTED";})(c || (b.eJ=c={}));t=(function(){function f(g,e,h){this.UM=g;this.console=e;this.name=h;this.$a=c.gC;this.lN={};this.$ea={};}Object.defineProperties(f.prototype,{state:{get:function(){return this.$a;},enumerable:!1,configurable:!0}});f.prototype.start=function(){var g;g=this;this.$a !== c.tW && (this.kca(c.tW),[c.dF,c.OO].forEach(function(e){var h;h=new Promise(function(k){(0,n.assert)(g.$ea && g.lN,"state promises should be defined");g.$ea[e]=k;g.lN[e]=h;});}),this.UM(),this.kca(c.dF));};f.prototype.kca=function(g){this.$a=g;this.$ea && (g=this.$ea[g],null === g || void 0 === g?void 0:g());};f.prototype.La=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(g){switch(g.label){case 0:if(this.$a !== c.tW)return [3,2];(0,n.assert)(this.lN,"state resolves should be defined");return [4,this.lN[c.dF]];case 1:(g.T(),g.label=2);case 2:return (this.$ea=this.lN=void 0,this.$a=c.F7a,[2]);}});});};f.prototype.rga=function(g,e){d.__awaiter(this,void 0,void 0,function(){var h;return d.__generator(this,function(k){switch(k.label){case 0:if(this.$a === c.F7a)return [2];if(this.$a === c.dF)return [3,6];(0,n.assert)(this.lN,"state promises should be defined");h=g;switch(h){case c.dF:return [3,1];case c.OO:return [3,3];}return [3,5];case 1:return [4,this.lN[c.dF]];case 2:return (k.T(),[3,6]);case 3:return [4,this.lN[c.OO]];case 4:return (k.T(),[3,6]);case 5:return [3,6];case 6:return (null === e || void 0 === e?void 0:e(),[2]);}});});};return f;})();b.Zeb=t;},46262:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.gfb=void 0;t=(function(){function a(d,n,c,f,g,e,h,k){var l,m;this.Z=d;this.ml=n;this.groupId=c;this.XH=f;this.uT=g;this.Du=e;this.hp=h;c=null !== (m=null === (l=this.ml.pa.Tb) || void 0 === l?void 0:l.G) && void 0 !== m?m:n.pa.pH.G;this.Lw=d.Xh.get(n.L)?1:this.ml.pa.K.Lw;this.vT=k.offset.G;this.v2=Math.max(this.Eo - c,0);}Object.defineProperties(a.prototype,{identifier:{get:function(){return this.ml.L;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mediaType:{get:function(){return this.ml.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jh:{get:function(){return this.ml.jh;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ke:{get:function(){return this.Z.ke.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Eo:{get:function(){return this.ml.wI.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{yZ:{get:function(){return this.ml.xZ.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ah:{get:function(){return this.ml.pa.Wb.G;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{iy:{get:function(){return this.ml.iy();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qp:{get:function(){return this.ml.qp();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Bk:{get:function(){return this.ml.Bk;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qw:{get:function(){return this.ml.qw;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bA:{get:function(){return this.ml.bA;},enumerable:!1,configurable:!0}});a.prototype.oG=function(d,n){var c;c=this.ml.pa.oG(this.mediaType);return c.$S?this.Z.kyc(this,d,n):c;};a.prototype.CL=function(){return this.Z.CL(this);};a.prototype.toJSON=function(){return {mediaType:this.mediaType,EA:this.EA,jh:this.jh,ke:this.ke,Du:this.Du,Eo:this.Eo,hp:this.hp,yZ:this.yZ,vT:this.vT,XH:this.XH,uT:this.uT,Lw:this.Lw,ah:this.ah,v2:this.v2,groupId:this.groupId,iy:this.iy,qp:this.qp,Bk:this.Bk,identifier:this.identifier,Z:"playgraph Object",ml:this.ml};};return a;})();b.gfb=t;},25317:function(t,b,a){var n,c,f;function d(g,e,h,k,l){var m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L,K,M;v=g.console;w=g.WVc;x=g.Xh;y=g.ENc;A=g.Qic;z=g.MWa;B=g.KLa;g=g.SS;C=l || ({complete:!0,ez:0});D=C.root;E=C.complete;H=C.H5b;F=C.bLb;F=void 0 === F?0:F;C=C.ez;G=F < y.length && y[F].id === e.id;J=F < y.length?y[F].id:k && x.get(k.id);L=l && k && J !== e.id?void 0 !== J?{hf:0}:k.$$b(e.id):{hf:1};x=L.hf;L=L.iL;K=void 0 === L?0:L;L=(x + K) * (null !== (m=null === l || void 0 === l?void 0:l.YH) && void 0 !== m?m:1);f && v.trace(("reevaluateBranches: visiting ").concat(e.id,", ") + ("distance: ").concat(h,", ") + ("probability: ").concat(L,", ") + ("predecessor: ").concat(null === k || void 0 === k?void 0:k.id,", ") + ("decision: ").concat(J,", ") + ("predecessorComplete: ").concat(E,", ") + ("isOnRequiredPath: ").concat(G,", ") + ("requiredPathIndex: ").concat(F,", ") + ("activeDistance: ").concat(H,", ") + ("seamless ").concat(x,", ") + ("immediate ").concat(K,", ") + ("predecessor sum of: successor weights=").concat(null === k || void 0 === k?void 0:k.l2a,", ") + ("immediate weights= ").concat(null === k || void 0 === k?void 0:k.qxa));m=null !== (q=null === (p=w[e.id]) || void 0 === p?void 0:p.shift()) && void 0 !== q?q:e.Wb.G;p=0 === m;if(!G){if(0 === L)return {cV:!1,Bla:!0};if(!E && 0 === K && C > B)return (g.FK=Math.min(g.FK || Infinity,C - B),{cV:!1,Bla:!0});if(!p && h >= A && 1 > L || !1 === D && L < z)return {cV:!1,Bla:!0};}if(F < y.length){(0,n.assert)(y[F].id === e.id,"");M={duration:y[F].duration};}l=(null === l || void 0 === l?void 0:l.jh) || [];k && 1 > x && (0 === K?l=l.concat([{hf:x}]):(y=(null === (u=null === (r=k.Ul) || void 0 === r?void 0:r[0]) || void 0 === u?void 0:u[0]) || 0,r=Math.max(0,k.Wb.G - y),f && v.trace(("reevaluateBranches: immediate: ").concat(k.Wb.G,",\n                ").concat(y,", ").concat(r)),l=l.concat([{hf:x,iL:K,duration:r}])));r=g.wE.dvb(function(P){return P.K === k;});g.wE.add({K:e,jh:l,pa:M},r);h=E?h + e.Wb.G:H;f && v.trace(("reevaluateBranches: added ").concat(e.id,", visiting successors, ") + ("active distance: ").concat(h," ") + ("probabilities: ").concat(JSON.stringify(l)));return {cV:!0,Bla:G,state:{root:!k,complete:p,YH:L,jh:l,H5b:h,bLb:F + 1,ez:C + m}};}Object.defineProperties(b,{__esModule:{value:!0}});b.k_a=function(g,e,h,k,l,m,p,q,r){var u,v,w,x;v={wE:new c.Jja()};w=(null === (u=h.Xb) || void 0 === u?void 0:u.ea(h.jb).G) || 0;0 < m.length && (0,n.assert)(h.id === m[0].id,"First segment of required path (if it exists) must equal reevaluateBranches start segment.");f && g.trace(("reevaluateBranches: starting at ").concat(h.id," ") + ("requiredPath: ").concat(JSON.stringify(m)));x={console:g,WVc:k,Xh:l,ENc:m,Qic:p.G + w,MWa:q,KLa:r.G,SS:v};e.tSb(h,function(y,A,z,B){return d(x,y,A,z,B);},{root:!1,complete:!0,bLb:0,ez:0});return v;};b.kfd=d;b.Aed=function(g,e,h){var k;k=(0,c.cKc)(e,function(l){return ("").concat(l.K.id);});h(("requiredBranches(").concat(g,")"),k.replace(/\n/g,"<>"));h(("requiredBranches(").concat(g,")"),e.values.map(function(l){var m;return ("").concat(l.K.id,"::").concat(null === (m=e.parent(l)) || void 0 === m?void 0:m.K.id);}).join(", "));};n=a(52571);t=a(48170);c=a(61520);f=t.l && !1;},33143:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.$fb=void 0;d=a(22970);n=a(91176);c=a(91176);t=(function(){function f(g,e,h){this.Be=e;this.j3b=h;this.Yda=[];this.Yda.push(g);}f.prototype.lqa=function(g){return this.j3b({J:g,dm:void 0},this.Be);};f.prototype.Xq=function(g,e){return c.$E.tL({J:g,dm:e},this.Yda);};f.prototype.KT=function(g){return d.__awaiter(this,void 0,void 0,function(){var e,h,k,l,m,p,q,r;return d.__generator(this,function(u){switch(u.label){case 0:(e=g.Yk,h=g.fb,k=g.J,l=this.Xq(g.J),u.label=1);case 1:return (u.tc.push([1,,4,5]),[4,l.ur]);case 2:return (m=u.T(),p=m.S.Ib,(0,n.assert)(p,"Manifest must have aux manifest token to request ad break hydration"),q={Yk:e,fb:h,Uf:{Ib:p,fd:k}},[4,this.Be.KT(e || "",q)]);case 3:return (r=u.T(),[2,{u7:r,Nm:m}]);case 4:return (l.ll.release(),[7]);case 5:return [2];}});});};f.prototype.LT=function(g,e){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){return [2,this.Be.LT(g,e)];});});};f.prototype.SMc=function(g){var e;e=this.Yda.pop();this.Yda.push(g);return e;};f.prototype.kla=function(g){this.Yda.unshift(g);};return f;})();b.$fb=t;},36472:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Ggb=void 0;d=a(22970);n=a(91176);c=a(99548);f=a(52571);g=a(8149);b.Ggb=(function(){function e(){}e.Ntc=function(h,k,l){var m,p;if(h.Xf){m=d.__read(h.ka,1)[0];if(h.ka.some(function(q){return (0,g.po)(q);})){(0,f.assert)((0,g.po)(m),"expected live primary track");(0,f.assert)(h.M.Oc,"Expected live viewable with position service");p=(0,c.mea)(k,l,h.M,n.I.dh) || n.I.dh;h=(0,c.mea)(k,l,h.M,n.I.dh) || n.I.dh;return {rSb:p,sSb:h};}k=null === (p=m.ek) || void 0 === p?void 0:p.Xb;(0,f.assert)(k);h=h.ka.reduce(function(q,r){var u;return (null === (u=r.ek) || void 0 === u?0:u.Xb)?n.I.min(q,r.ek.Xb):q;},k);return {rSb:k,sSb:h};}};return e;})();},35879:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ryb=void 0;b.ryb=function(a,d){return a.reduce(function(n,c){return n + c.mpa(d).G;},0);};},4489:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.kwb=void 0;d=a(59839);b.kwb=function(n,c){return n.reduce(function(f,g){var e;e=c(g);g.BA().forEach(function(h){return f.DKa(h.mediaType,h.$J,!e);});return f;},new d.bfb());};},86048:function(t,b,a){var n,c;function d(f,g){return g === n.u.um?0:Object.keys(f.jT).map(function(e){return f.jT[e];}).filter(function(e){return void 0 === e.EA || 1 === e.EA;}).reduce(function(e,h){return e + h.Jv[g];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.ohb=void 0;n=a(65161);c=a(48170);t=(function(){function f(g,e,h){this.Z=g;this.console=e;this.lRa=h;}f.prototype.oG=function(g,e,h){var k,l,m,p;k=h && this.Z.config.eXc;l=this.Z.config.MI || k;m=this.lRa();if(k){k=g.global;k=(p={},p[n.u.X]=k[n.u.X] - d(g,n.u.X),p[n.u.U]=k[n.u.U] - d(g,n.u.U),p[n.u.Da]=k[n.u.Da] - d(g,n.u.Da),p);}p=k;m=this.xMa(e) || this.tbc(g) || this.rbc(g,m,p) || this.sbc(g,m,p,e);p=(0,n.bKb)(m);if(m && (!p || l))return (c.l && this.console.log(("canIssueRequest ").concat(this.Z.id," [").concat(e,"] static limit: ") + ("").concat(h,", usage: ").concat(JSON.stringify(g),", failed ").concat(m)),{$S:!1,reason:m});c.l && this.console.log(("canIssueRequest ").concat(this.Z.id," [").concat(e,"] static limit: ") + ("").concat(h,", usage: ").concat(JSON.stringify(g),", success ").concat(m));return {$S:!0,reason:m};};f.prototype.xMa=function(g){var e;e=this.Z.config.FH;if(this.Z.Tpc(g) >= (e || Infinity))return "mediaDurationLimit";};f.prototype.tbc=function(g){return g.jT[this.Z.id].total.total > (this.Z.Dpa() || Infinity)?"playgraphMemoryLimit":void 0;};f.prototype.rbc=function(g,e,h){g=g.global;return h?h[n.u.X] + h[n.u.U] > (e.U1a.total || Infinity)?"staticMemoryLimit":void 0:g.total > (e.total.total || Infinity)?"globalMemoryLimit":void 0;};f.prototype.sbc=function(g,e,h,k){var l;l=g.global;if(k !== n.u.um)return h?(c.l && this.console.log(("checkRequestByMediaTypeMemory [").concat(k,"]:") + (" using static limit ").concat(e.U1a[k],", usage: ").concat(h) + (" (global: ").concat(l[k]," ") + (" - certain contiguous: ").concat(d(g,k),")")),h[k] > (e.U1a[k] || Infinity)?k === n.u.U?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):l[k] > (e.total[k] || Infinity)?k === n.u.U?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return f;})();b.ohb=t;},50612:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.UI=void 0;d=a(65161);n=a(65167);c=a(28847);t=(function(){var H9E;function f(g){var Q9S,e;Q9S=2;for(;Q9S !== 9;){switch(Q9S){case 2:e=this;this.config=g;this.oSb=this.Xla=null;Q9S=4;break;case 4:var c52="1S";c52+="IYbZ";c52+="rNJ";c52+="C";c52+="p9";this.UIb=function(h,k,l){var K$q;K$q=2;for(;K$q !== 5;){switch(K$q){case 2:h=e.jl(h,l);return e.config.Onb?(k=(0,n.wPa)(e.config.Nnb,k.fl - k.Ed,1),{lower:h * (1 - k),upper:void 0}):{lower:h * e.config.BU / 100,upper:void 0};break;}}};c52;Q9S=9;break;}}}H9E=2;for(;H9E !== 6;){switch(H9E){case 7:return f;break;case 5:f.prototype.jl=function(g,e){var v9r,h,k,l;v9r=2;for(;v9r !== 5;){switch(v9r){case 2:return this.x1a(e)?(null === (h=g.ay) || void 0 === h?void 0:h.Fa) || (null === (k=g.kb) || void 0 === k?void 0:k.Fa) || 0:(null === (l=g.kb) || void 0 === l?void 0:l.Fa) || 0;break;}}};f.prototype.Awa=function(g){var t7e;t7e=2;for(;t7e !== 1;){switch(t7e){case 4:this.Xla=g;t7e=2;break;case 2:this.Xla=g;t7e=1;break;}}};f.prototype.KQa=function(){var b6x;b6x=2;for(;b6x !== 1;){switch(b6x){case 2:return this.Xla;break;}}};f.prototype.o1a=function(g){var M0L;M0L=2;for(;M0L !== 1;){switch(M0L){case 2:this.oSb=g;M0L=1;break;case 4:this.oSb=g;M0L=8;break;}}};f.prototype.ISa=function(){var b1x;b1x=2;for(;b1x !== 1;){switch(b1x){case 2:return this.oSb;break;case 4:return this.oSb;break;}}};H9E=7;break;case 2:f.prototype.Lsb=function(g,e){var K7j,h;K7j=2;for(;K7j !== 4;){switch(K7j){case 2:h=null === this.Xla?g * (100 - this.config.BU) / 100:(0,c.Wmb)(g,this.Xla);this.config.Mra && e?(g=(0,c.Wmb)(g,e),g=Math.max(g,h)):g=h;return g;break;}}};f.prototype.x1a=function(g){var u05;u05=2;for(;u05 !== 1;){switch(u05){case 2:return this.config.YY && (g === d.Ub.Cl || g === d.Ub.Sf);break;}}};H9E=5;break;}}})();b.UI=t;},53809:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.o7a=void 0;d=a(22970);n=a(65161);t=a(50612);c=a(93731);a=(function(f){var I40;I40=2;for(;I40 !== 5;){switch(I40){case 3:d.__extends(g,f);return g;break;case 2:d.__extends(g,f);return g;break;}}function g(e){var e7W,h;e7W=2;for(;e7W !== 9;){switch(e7W){case 12:return h;break;case 3:return h;break;case 2:var i2K="1S";i2K+="I";i2K+="Y";i2K+="bZrNJC";i2K+="p9";h=f.call(this,e) || this;h.k1=function(k,l,m,p,q){var Y_P,L9Y;Y_P=2;for(;Y_P !== 10;){switch(Y_P){case 14:Y_P=m === n.Ub.Sf?7:13;break;case 5:return h.iBc.k1(k,l,m,p,q);break;case 4:var F3r="del";F3r+="ive";F3r+="ry";F3r+="time-ci";L9Y=h.config.Hma;Y_P=L9Y === F3r?3:12;break;case 1:Y_P=h.x1a(m)?5:4;break;case 9:p=h.config.M3a * k.kb.Fa;Y_P=8;break;case 12:Y_P=11;break;case 13:Y_P=6;break;case 3:var n4i="de";n4i+="liver";n4i+="ytim";n4i+="e";n4i+="-ci";l=k[n4i];Y_P=9;break;case 7:return {lower:(null === l || void 0 === l?void 0:l.initial) || k.kb.Fa,upper:(null === l || void 0 === l?void 0:l.high) || p};break;case 6:return {lower:(null === l || void 0 === l?void 0:l.low) || k.kb.Fa,upper:(null === l || void 0 === l?void 0:l.high) || p};break;case 2:void 0 === q && (q=!0);Y_P=1;break;case 8:Y_P=m === n.Ub.Cl?7:14;break;case 11:var n8j="throu";n8j+="ghp";n8j+="ut-c";n8j+="i";l=k[n8j];Y_P=9;break;}}};h.iBc=new c.FDa(e);i2K;e7W=3;break;}}}})(t.UI);b.o7a=a;},14246:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.aSa=b.UI=void 0;d=a(93731);n=a(8367);c=a(93928);f=a(53809);g=a(50612);Object.defineProperties(b,{UI:{enumerable:!0,get:function(){return g.UI;}}});b.aSa=function(e){switch(e.lsa){case "manifold":return new d.FDa(e);case "stddev":return new c.jhb(e);case "ci":return new f.o7a(e);default:return new n.Ugb(e);}};},93731:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.FDa=void 0;d=a(22970);t=a(66164);n=d.__importStar(a(65167));a=a(50612);c=n.Kma;f=n.Rbc;g=n.wPa;e=n.Plc;h=n.FOc;new t.platform.Console("ASEJS_PREDICTOR","media|asejs");a=(function(k){function l(m){var z_k,p;z_k=2;for(;z_k !== 13;){switch(z_k){case 2:p=k.call(this,m) || this;p.k1=function(q,r,u,v,w){var B_p,x,y,A;B_p=2;for(;B_p !== 11;){switch(B_p){case 3:x=Math.pow(Math.max(1 - u / p.r9b,0),p.o9b);u=r.fl - r.Ed;p.KRc?(r=g(p.Lrb,u,1),u=g(p.Krb,u,1),r=r * x + u * (1 - x)):r=g(h(p.Lrb,p.Krb,x),u,1);q=p.KFb && (null === (y=q[p.KFb]) || void 0 === y?void 0:y.mta);void 0 !== q && (y=e(p.cEc,q),r=Math.min(r * y,1));B_p=14;break;case 14:r2gzX.u5O(0);A*=r2gzX.l2Z(r,1);B_p=13;break;case 2:void 0 === w && (w=!0);A=p.jl(q,u);u=p.x1a(u)?A:(null === (x=q[p.filter]) || void 0 === x?void 0:x.Fa) || A;B_p=3;break;case 13:v=w?p.Lsb(A,v):A;return {lower:v,upper:v * p.config.M3a};break;}}};z_k=5;break;case 5:Array.isArray(m.cA.curves) && (p.Lrb=f(m.cA.curves[0],0,0,1),p.Krb=f(m.cA.curves[1],0,0,1));p.r9b=c(m.cA.threshold || 6E3,1,1E5);p.o9b=c(m.cA.gamma || 1,.1,10);z_k=9;break;case 9:var E11="1SIYb";E11+="ZrN";E11+="JC";E11+="p";E11+="9";p.filter=m.cA.filter;p.KRc=!!m.cA.simpleScaling;m.cA.niqrfilter && m.cA.niqrcurve && (p.KFb=m.cA.niqrfilter,p.cEc=f(m.cA.niqrcurve,1,0,4));E11;return p;break;}}}var G$1;G$1=2;for(;G$1 !== 5;){switch(G$1){case 2:d.__extends(l,k);return l;break;}}})(a.UI);b.FDa=a;},8367:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ugb=void 0;d=a(22970);t=a(66164);n=a(50612);c=a(28847);new t.platform.Console("ASEJS_PREDICTOR","media|asejs");a=(function(f){function g(e){var l8P,h;l8P=2;for(;l8P !== 3;){switch(l8P){case 2:var q93="1";q93+="SIYb";q93+="ZrN";q93+="JC";q93+="p9";h=f.call(this,e) || this;h.k1=function(k,l,m,p,q){var x_B,r;x_B=2;for(;x_B !== 8;){switch(x_B){case 2:void 0 === q && (q=!0);r=h.jl(k,m);k=h.ARc(k,m);l=r?r * (100 - h.Yoc(l,k)) / 100 | 0:0;p=q?h.Lsb(l,p):l;return {lower:p,upper:p * h.config.M3a};break;}}};q93;l8P=4;break;case 4:return h;break;}}}var V$E;V$E=2;for(;V$E !== 3;){switch(V$E){case 2:d.__extends(g,f);g.prototype.Yoc=function(e,h){var D3Y,k,l;D3Y=2;for(;D3Y !== 3;){switch(D3Y){case 14:return l;break;case 2:(k=this.config,l=h?k.G8:k.b8);h=h?k.H8:k.d8;Array.isArray(h) && (l=(0,c.Olc)(h,e.fl - e.Ed,k.c8));D3Y=4;break;case 4:return l;break;}}};g.prototype.ARc=function(e,h){var s77;s77=2;for(;s77 !== 5;){switch(s77){case 2:e=this.jl(e,h);return this.config.nfa && e < this.config.I8;break;}}};return g;break;}}})(n.UI);b.Ugb=a;},93928:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.jhb=void 0;d=a(22970);t=a(50612);t=(function(n){var S91;S91=2;for(;S91 !== 5;){switch(S91){case 2:d.__extends(c,n);return c;break;}}function c(f){var M9R,g;M9R=2;for(;M9R !== 3;){switch(M9R){case 2:var D0t="1";D0t+="SI";D0t+="YbZrNJC";D0t+="p";D0t+="9";g=n.call(this,f) || this;g.k1=function(e){var j1y,h,k3S;j1y=2;for(;j1y !== 10;){switch(j1y){case 13:return (h=Math.sqrt(e.hs.h3 || 0),{lower:e.kb.Fa + g.config.V1a * h,upper:e.kb.Fa + g.config.W1a * h});break;case 4:return h;break;case 2:h={lower:e.kb.Fa,upper:void 0};j1y=1;break;case 7:h=Math.sqrt(e.hs.h3 || 0);j1y=6;break;case 9:return {lower:8 / (e.hs.Fa + g.config.V1a * h),upper:8 / (e.hs.Fa - g.config.W1a * h)};break;case 12:var Z_5="av";Z_5+="e";Z_5+="raget";Z_5+="p";j1y=k3S === Z_5?8:11;break;case 3:h=Math.sqrt(e.hs.ng || 0);j1y=9;break;case 1:var B65="del";B65+="i";B65+="v";B65+="eryt";B65+="ime";k3S=g.config.OSc;j1y=k3S === B65?5:12;break;case 5:j1y=!e.hs || !e.hs.Fa?4:3;break;case 8:j1y=!e.hs || !e.hs.GX?4:7;break;case 6:return {lower:e.hs.GX + g.config.V1a * h,upper:e.hs.GX + g.config.W1a * h};break;case 11:var G2_="e";G2_+="w";G2_+="m";G2_+="a";j1y=k3S === G2_?14:4;break;case 14:j1y=e.hs && e.hs.h3?13:4;break;}}};D0t;return g;break;}}}})(t.UI);b.jhb=t;},28847:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Olc=function(n,c,f){var g,e,h;g=0;if(f){n.some(function(k){var l;l=k.b;k=k.m;if(c <= l)return (g=h && l !== e?h + (k - h) / (l - e) * (c - e):k,!0);e=l;g=h=k;return !1;});}else n.some(function(k){g=k.m;return c <= k.b;});return g;};b.UIb=function(n,c,f){var g;c=(null === (g=c.kb) || void 0 === g?void 0:g.Fa) || 0;return n.Onb?(n=(0,d.wPa)(n.Nnb,f.fl - f.Ed,1),c * (1 - n)):c * n.BU / 100;};b.Wmb=function(n,c){return n < 2 * c?n / 2:n - c;};d=a(65167);},43071:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.z7a=b.B7a=void 0;d=a(63576);n=a(47233);c=a(76753);b.B7a=625E3;t=(function(){function f(g,e){this.console=g;this.config=e;}f.prototype.eMa=function(g){var e,h,k,l,m,p;e=this;h=this.config.una;k=this.config.Vad || this.config.tna;l=0 < g.MSa.lH && Infinity !== g.MSa.lH;m=l?k * b.B7a / 1E3:this.config.rS || Infinity;p=l?Math.floor(g.MSa.lH / m):h;return {Hp:g.qYc.sort(function(q,r){return q.priority - r.priority;}).slice(0,h).map(function(q,r){var u;u=q.key.config;return {yBb:{lH:r > p - 1?0:m},Hd:q,Pua:1,ql:u,TOb:{audio:[(0,d.Q8)(u),new n.dHa(),new c.gCa()],video:[(0,d.S8)(e.console,u),new n.dHa(),new c.gCa()]}};})};};return f;})();b.z7a=t;},76753:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.gCa=void 0;t=(function(){function a(){}a.prototype.Bh=function(d){return d.filter(function(n){return !n.Ba;});};return a;})();b.gCa=t;},68766:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.T7a=void 0;d=a(22970);n=a(79048);c=a(28871);t=(function(){function f(){}f.prototype.PDb=function(g){return d.__awaiter(this,void 0,void 0,function(){var e,h,k,l,m;return d.__generator(this,function(p){switch(p.label){case 0:e=g.Hd.key;if(!(0,c.SUa)(e) && !(0,c.MUa)(e))return [3,2];h=(0,c.Vf)(e);k=g.Hd.Be.qs(h);return [4,Promise.resolve(k.Tu)];case 1:return (l=p.T(),m=l.S,m.Yr?[2,(0,n.CMa)(m.Yr,{config:l.config})]:[2,(0,n.F1a)(h,"ps0")]);case 2:return [2,e.Z];}});});};return f;})();b.T7a=t;},34297:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.lfb=void 0;d=a(48170);n=a(82475);b.lfb=(function(){function c(){}c.UMc=function(f,g,e,h){f.events.once("seeking",function(k){var l,m;l=k.position;m=e.length;k.duplicate || (e.Kda(function(p){return "segmentNormalized" !== p.Sv;}),d.l && h.log(("Discarding ").concat(m - e.length," events from prefetched playgraph") + (" for original seek postition ").concat((0,n.QSa)(g)) + (" due to seek to ").concat((0,n.QSa)(l))));d.l && h.log(("Replaying ").concat(e.length," events from prefetched playgraph") + ("for seek postition ").concat((0,n.QSa)(l)));e.y_a();e.La();});};return c;})();},91961:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z;Object.defineProperties(b,{__esModule:{value:!0}});b.nfb=void 0;d=a(22970);n=a(90745);c=a(91176);f=a(66164);g=a(65161);e=a(51308);h=a(69575);k=a(52571);l=a(70764);m=a(48170);p=a(61996);q=a(63576);r=a(30285);u=a(7520);v=a(68766);w=a(81307);x=a(43071);y=a(28871);A=a(34297);z=a(2948);t=(function(){function B(C,D,E,H,F){void 0 === H && (H=new w.U7a());void 0 === F && (F=new v.T7a());this.Rtb=C;this.config=D;this.mKb=H;this.Hp=[];this.ZIb=[];this.Xz=[];this.vJb=new c.T5();this.stats={CBb:0,DBb:0,zBb:0,WLa:0,ABb:0,BBb:0,XLa:0};this.events=new n.EventEmitter();this.console=(0,h.Gf)(f.platform,E,"PREFETCH");this.re=new p.Am({xg:10,rj:this,source:"Prefetcher"});this.JKa(new x.z7a(E,D));this.JKa(new z.Ngb(D));this.SMb({lH:D.kJc});this.Z0a(F);this.dwc();}Object.defineProperties(B.prototype,{lJc:{get:function(){return this.Hp.map(function(C){return C.context;});},enumerable:!1,configurable:!0}});Object.defineProperties(B.prototype,{pYc:{get:function(){return this.Xz;},enumerable:!1,configurable:!0}});B.prototype.oNb=function(C){m.l && (0,k.assert)(C,"Reconciliation strategy is undefined");this.mKb=C;return this;};B.prototype.JKa=function(C){this.ZIb.unshift(C);return this;};B.prototype.r1a=function(C){var D;m.l && this.console.debug("Wish list changed",{Gbd:C.length});D=(0,c.Zo)(this.pYc,C);this.re.ug({dropped:D.map(function(E){return (0,y.Vf)(E.key);}),wishlist:C.map(function(E){return (0,y.Vf)(E.key);})});D.forEach(function(E){var H;return null === (H=E.La) || void 0 === H?void 0:H.call(E);});this.Xz=C;this.kva();};B.prototype.reset=function(C){var D;D=this;void 0 === C && (C=this.config);C.wJc?this.Hp.forEach(function(E){return D.Skb(E);}):this.r1a([]);};B.prototype.Skb=function(C,D){var E,H,F;E=C.Z;H=C.jba;F=C.context;void 0 === D && (D=!1);E && (C=void 0,D && (C=E.ARa()),E.Jg(D?e.cO.mJc:e.cO.Gna),H.Kda(function(G){return "segmentNormalized" !== G.Sv;}),D=(0,y.Npa)(F.Hd,E.Z),E.YM(D),null === C || void 0 === C?void 0:C.release());};B.prototype.SMb=function(C){m.l && this.console.debug("Budget changed",{Hta:this.j8,hta:C});this.j8=C;this.kva();};B.prototype.Pbc=function(C,D){var E,H,F,G;m.l && this.console.debug("Looking for playgraph to claim");if(C=this.mKb.cvb(this.Hp,{Z:C,ql:D})){H=this.Xz.indexOf(C.context.Hd);m.l && this.console.debug(("Claiming item: ").concat((0,y.Vf)(C.context.Hd.key)),{rX:f.platform.time.ha() - C.K2a,buffer:null === (E=C.Z) || void 0 === E?void 0:E.en(c.I.ia)});this.DK(C.context,{ura:!!C.Z,mpb:!!C.Z});C.Ba && this.Skb(C,!0);if(C.Z){E=C.Z;F=C.JT;G=E.hm;A.lfb.UMc(E,G,C.jba,this.console);E.Wi && (E.Wi.Qrb=!0);F.DOc(E.FA(G) || c.I.ia,H);E.cRb({lH:this.config.rS || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:C.context.Hd,videoBytesBuffered:C.Z.hR().JN,audioBytesBuffered:C.Z.hR().TJ});}}D.l7b || this.reset(D);return null === C || void 0 === C?void 0:C.Z;};B.prototype.Mbc=function(){};B.prototype.getStats=function(){var C;C=f.platform.time.ha();return {wishListLength:this.Xz.length,prefetchList:this.lJc.length,contents:this.Hp.map(function(D){var E,H,F,G,J;if(D.Z){J=(0,y.Npa)(D.context.Hd,D.Z.Z);J=D.Z.FA(J);J=D.Z.en(J || c.I.ia);}return {id:(0,y.Vf)(D.context.Hd.key),buffer:J,pId:null === (E=D.Z) || void 0 === E?void 0:E.id,budget:{inMemoryBytes:D.context.yBb.lH},weight:D.context.Pua,age:C - D.K2a,timeOpened:C - (null !== (H=D.IUc) && void 0 !== H?H:0),state:g.Sd[null !== (G=null === (F=D.Z) || void 0 === F?void 0:F.ke.value) && void 0 !== G?G:g.Sd.Ct]};}),aggregated:{itemsRequested:this.stats.CBb,itemsStarted:this.stats.DBb,itemsClaimed:this.stats.zBb,bytesClaimed:this.stats.WLa,itemsCompleted:this.stats.ABb,itemsDiscarded:this.stats.BBb,bytesDiscarded:this.stats.XLa}};};B.prototype.DK=function(C){d.__awaiter(this,arguments,void 0,function(D,E){var H,F,G,J,L,K,M,P,I,O;void 0 === E && (E={});return d.__generator(this,function(Q){switch(Q.label){case 0:H=d.__assign({ura:!1,RBb:!1,mpb:!1},E);F=H.ura;G=H.RBb;J=H.mpb;L=(0,c.cc)(this.Hp,function(T){return T.context === D;});G || J || (null === (I=(P=D.Hd).La) || void 0 === I?void 0:I.call(P));if(!L)return [3,3];this.re.ug({prefetchItem:(0,y.Vf)(D.Hd.key)});this.Hp.splice(this.Hp.indexOf(L),1);G || (K=this.Xz.length,this.Xz=this.Xz.filter(function(T){return T !== D.Hd;}),m.l && this.console.info("Dropping items from wishlist",K - this.Xz.length),this.Xz.length >= K && m.l && this.console.warn("Unable to filter out wishlist item",this.Xz.map(function(T){return T.key;}),D.Hd.key));m.l && this.console.debug("Dropping playgraph",{rX:f.platform.time.ha() - L.K2a,buffer:null === (O=L.Z) || void 0 === O?void 0:O.en(c.I.ia),J:(0,y.Vf)(D.Hd.key),Kcd:!F,k8c:!G});L.Lj.clear();if(F)return [3,2];M=this.sE(L);return L.Z?[4,M]:[3,2];case 1:(Q.T(),Q.label=2);case 2:(this.kva(),Q.label=3);case 3:return [2];}});});};B.prototype.Z0a=function(C){(0,k.assert)(C,"Playgraph resolver is undefined");this.hZa=C;return this;};B.prototype.dwc=function(){var C;C=this;this.events.on("prefetchComplete",function(){return C.stats.ABb++;});this.events.on("prefetchStarted",function(){return C.stats.DBb++;});this.events.on("itemQueued",function(){return C.stats.CBb++;});this.events.on("itemClaimed",function(D){var E,H;C.stats.zBb++;C.stats.WLa+=(null !== (E=D.EXc) && void 0 !== E?E:0) + (null !== (H=D.I8b) && void 0 !== H?H:0);});this.events.on("itemDropped",function(D){var E,H;C.stats.BBb++;C.stats.XLa+=(null !== (E=D.EXc) && void 0 !== E?E:0) + (null !== (H=D.I8b) && void 0 !== H?H:0);});};B.prototype.kva=function(){var C;C=this;this.vJb.Ela?Promise.resolve():this.vJb.vYc(function(){var D,E,H,F,G;D=c.$E.tL({qYc:C.Xz,MSa:C.j8},C.ZIb.map(function(J){return J.eMa.bind(J);})).Hp;E=(0,c.Zo)(D,C.Hp,function(J,L){return (0,y.isEqual)(J.Hd.key,L.context.Hd.key);});H=(0,c.Zo)(C.Hp,D,function(J,L){return (0,y.isEqual)(J.context.Hd.key,L.Hd.key);});F=(0,c.Zo)(C.Hp,H);m.l && C.console.debug(("Re-evaluated prefetch items. new:").concat(E.length,", evict: ").concat(H.length,", update: ").concat(E.length));C.re.ug({toKeep:F.map(function(J){return (0,y.Vf)(J.context.Hd.key);}),toEvict:H.map(function(J){return (0,y.Vf)(J.context.Hd.key);}),newContexts:E.map(function(J){return (0,y.Vf)(J.Hd.key);})});H=H.map(function(J){return d.__awaiter(C,void 0,void 0,function(){var L,K,M;return d.__generator(this,function(P){switch(P.label){case 0:(L=J.context.Hd.key,m.l && this.console.debug("Releasing playgraph",(0,y.Vf)(L)),P.label=1);case 1:return (P.tc.push([1,,3,4]),[4,this.sE(J)]);case 2:return (P.T(),[3,4]);case 3:return (this.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:J.context.Hd}),null === (M=(K=J.context.Hd.Be).La) || void 0 === M?void 0:M.call(K),[7]);case 4:return [2];}});});});G=F.map(function(J){return d.__awaiter(C,void 0,void 0,function(){var L,K;return d.__generator(this,function(M){switch(M.label){case 0:(L=(0,c.cc)(D,function(P){return (0,y.isEqual)(P.Hd.key,J.context.Hd.key);}),(0,k.assert)(L,"Couldn't find the requested item context"),J.context=L,M.label=1);case 1:return (M.tc.push([1,3,,4]),[4,J.Nua]);case 2:return (K=M.T(),[3,4]);case 3:return (M.T(),[2]);case 4:return ((0,c.cc)(this.Hp,function(P){return P === J;}) && (this.$mb(J.context,K),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:J.context.Hd})),[2]);}});});});E=E.map(function(J){var L;L=C.ngc(J);C.events.emit("itemQueued",{type:"itemQueued",wishListItem:J.Hd});return L;});C.Hp=d.__spreadArray(d.__spreadArray([],d.__read(F),!1),d.__read(E),!1);F=E.map(function(J){return J.Nua.catch(function(){});});F=H.concat(G).concat(F);return Promise.all(F);});};B.prototype.sE=function(C){return d.__awaiter(this,void 0,void 0,function(){var D,E,H;return d.__generator(this,function(F){switch(F.label){case 0:return (F.tc.push([0,3,,4]),[4,C.Nua]);case 1:return (D=F.T(),m.l && this.console.debug("Removing prefetch playgraph",{size:D.en(c.I.ia)}),C.Lj.clear(),[4,this.Rtb()]);case 2:return (E=F.T(),E.sE(D),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:C.context.Hd,videoBytesBuffered:D.hR().JN,audioBytesBuffered:D.hR().TJ}),[3,4]);case 3:return (H=F.T(),m.l && this.console.trace("Non fatal error in removing playgraph",H),[3,4]);case 4:return [2];}});});};B.prototype.FNa=function(C){return d.__awaiter(this,void 0,void 0,function(){var D,E,H,F,G,J,L,K,M,P,I,O,Q,T,U,X;T=this;return d.__generator(this,function(Y){switch(Y.label){case 0:return (D=C.context,E=(0,y.Vf)(D.Hd.key),m.l && this.console.debug("Creating playgraph",E),[4,this.hZa.PDb(D)]);case 1:return (H=Y.T(),[4,D.Hd.Be.qs(E).Tu]);case 2:F=Y.T();G=F.S;if(G.$C)return (this.DK(D,{ura:!0}),[2,Promise.reject(("contentPlaygraph viewable:").concat(E) + " is not supported with prefetching")]);if((0,c.RA)(G.yf))if((J=this.config.Vra,L=!(null === (X=null === (U=G.CE) || void 0 === U?void 0:U.mN) || void 0 === X || !X.UA),J || (J=L && this.config.Wra),J))C.Ba=!0;else return (this.DK(D,{ura:!0}),[2,Promise.reject(("live title encountered viewable:").concat(E) + " disabling header fetch / normalization")]);K=D.ql;M=K.hD && (G.Yr?K.jkc:!0);P=K.oA || "LINEAR" === G.yf && K.$Y;I=Object.create(K,{hD:{value:M},oA:{value:P}});return [4,this.Rtb()];case 3:return (O=Y.T(),Q=O.z7(H,D.Pua,I,D.Hd.Be,!1),C.Lj.addListener(Q.events,"error",function(W){m.l && T.console.debug("Prefetch playgraph resulted in error",W.Ti);T.DK(D);}),[2,Q]);}});});};B.prototype.zGc=function(C,D){return d.__awaiter(this,void 0,void 0,function(){var E,H,F,G;return d.__generator(this,function(J){switch(J.label){case 0:return (E=C.context,H=(0,y.Vf)(E.Hd.key),F=E.Hd.Be.qs(H),[4,F.Tu]);case 1:return (G=J.T(),this.$mb(E,D),this.O7b(E,D,!!G.Uv),D.Wi && (D.Wi.Qrb=!1),D.open(),D.Vy({cU:function(L,K){var M,P;M=L.recommendedMedia;P=M?(0,c.Mm)(K,function(I){return I.new_track_id === M.Dv;}):(0,c.Mm)(K,function(I){return I.track_id === L.defaultTrackOrderList[0].audioTrackId;});return 0 <= P && P < K.length?P:void 0;}},{cU:function(L,K){var M,P;M=L.recommendedMedia;P=M?(0,c.Mm)(K,function(I){return I.new_track_id === M.Vp;}):(0,c.Mm)(K,function(I){return I.track_id === L.defaultTrackOrderList[0].videoTrackId;});return 0 <= P && P < K.length?P:void 0;}}),m.l && this.console.trace("Open Playgraph/seekstreaming",{J:(0,y.Vf)(C.context.Hd.key)}),D.YM((0,y.Npa)(E.Hd,D.Z)),this.tMc(C,F),F.Qx && (m.l && this.console.warn("Viewable churn encountered during prefetcher (expired on initialization)",H),this.DK(C.context)),[2]);}});});};B.prototype.tMc=function(C,D){var H;function E(F){m.l && H.console.debug(("Viewable ").concat(F?"superseded":"expired"),(0,y.Vf)(C.context.Hd.key));C.Aad=!0;H.DK(C.context,{RBb:!F && H.config.zyc});}H=this;D.events && (C.Lj.addListener(D.events,"viewableEvicted",function(){E(!0);}),C.Lj.addListener(D.events,"viewableExpired",function(){E(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:C.context.Hd});};B.prototype.$mb=function(C,D){D.H3a(C.Pua);D.cRb(C.yBb);};B.prototype.O7b=function(C,D,E){var H;H=C.TOb;C=H.audio;H=H.video;E && H.push(new u.y5(this.console,D.config));D.g1a(new q.Ez(C,!0),new q.Ez(H,!0));};B.prototype.ngc=function(C){var D,E,H;D=this;E=new l.mfb();H={context:C,K2a:f.platform.time.ha(),Lj:new n.kf(),JT:E};H.Nua=this.FNa(H).then(function(F){return d.__awaiter(D,void 0,void 0,function(){var G,J;J=this;return d.__generator(this,function(L){switch(L.label){case 0:for(G=F;G.ya;)G=G.ya;F.Sc(E);E.D8b(F);H.jba=new r.a9a(G.events,{tRc:function(K){var M,P;M=K.Sv;switch(M){case "buffering":return !1;case "segmentStarting":P=K.Lm[0];H.jba.Kda(function(I){if("segmentStarting" === I.Sv)return I.Lm[0].L === P.L;if(P.initial && "initialAudioTrack" === I.Sv)return !0;});return !0;case "bufferingStarted":H.jba.Kda(function(I){return "bufferingComplete" === I.Sv || "updateStreamingPts" === I.Sv;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":H.jba.Kda(function(I){return I.Sv === M;});default:return !0;}}});G.events.on("bufferingComplete",function(){J.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:C.Hd});});return [4,this.zGc(H,F)];case 1:return (L.T(),H.IUc=f.platform.time.ha(),H.Z=F,[2,F]);}});});});H.Nua.catch(function(F){var G;G=(0,y.Vf)(H.context.Hd.key);m.l && D.console.error(("Exception occurred creating playgraph ").concat(G),F);D.DK(H.context);});return H;};d.__decorate([(0,p.gb)({methodName:"setWishList",Te:!0})],B.prototype,"r1a",null);d.__decorate([(0,p.gb)({methodName:"reset",Te:!0})],B.prototype,"reset",null);d.__decorate([(0,p.gb)({methodName:"dropPrefetchItem",Te:!0})],B.prototype,"DK",null);d.__decorate([(0,p.gb)({methodName:"processWishList",Te:!0})],B.prototype,"kva",null);return B;})();b.nfb=t;},81307:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.U7a=void 0;d=a(22970);n=a(52571);c=a(28871);t=(function(){function f(){}f.Vf=function(g){var e,h;e=g.ba;g=g.uf;h=e[g].J;Object.keys(e).forEach(function(k){return (0,n.assert)(e[k].J === h);});return e[g].J;};f.prototype.cvb=function(g,e){var h;h=Object.keys(e.Z.ba).length;return d.__read(g.filter(function(k){var l;return f.Vf(e.Z) === (0,c.Vf)(k.context.Hd.key) && (1 === h || h === Object.keys((null === (l=k.Z) || void 0 === l?void 0:l.Z.ba) || ({})).length);}),1)[0];};return f;})();b.U7a=t;},2948:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ngb=void 0;t=(function(){function a(d){this.config=d;}a.prototype.eMa=function(d,n){var c,f;c=this;d=n(d);f=d.Hp.map(function(g){return g.Hd.priority;}).sort();d.Hp.forEach(function(g){g.Pua=c.config.oJc / (2 << f.lastIndexOf(g.Hd.priority));});return d;};return a;})();b.Ngb=t;},47233:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.dHa=void 0;d=a(65161);t=(function(){function n(){}n.prototype.Bh=function(c,f){return f === d.Sd.cq?[]:c;};return n;})();b.dHa=t;},28871:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Npa=b.Vf=b.isEqual=b.CUa=b.MUa=b.SUa=void 0;d=a(91176);n=a(6783);b.SUa=function(c){return !!c.J;};b.MUa=function(c){return !!c.N7;};b.CUa=function(c){return !!c.Z;};b.isEqual=function(c,f){var g,e;g=(0,b.CUa)(c);e=(0,b.CUa)(f);return g && e?c.Z === f.Z:g || e?!1:"" + (0,b.Vf)(c) === "" + (0,b.Vf)(f);};b.Vf=function(c){if((0,b.SUa)(c))return c.J;if((0,b.MUa)(c))return c.N7;c=c.Z;return c.ba[c.uf].J;};b.Npa=function(c,f){var g;return c.jma?c.jma instanceof d.I?(c=(0,n.cs)(f,(0,b.Vf)(c.key),c.jma),(null === c || void 0 === c?0:c.offset.greaterThan(d.I.ia))?c:{offset:d.I.ia,L:null !== (g=null === c || void 0 === c?void 0:c.L) && void 0 !== g?g:f.uf}):c.jma:{offset:d.I.ia,L:f.uf};};},56820:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(23093),b);t.__exportStar(a(82010),b);t.__exportStar(a(19588),b);t.__exportStar(a(39833),b);},23093:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ufb=void 0;t=(function(){function a(){this.cG="NONE";this.Zt=this.Fn=-1;this.hy=this.lu=!1;this.r1=0;}Object.defineProperties(a.prototype,{cba:{get:function(){return 0 === this.r1;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bTa:{get:function(){return -1 !== this.Fn;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{yuc:{get:function(){return -1 !== this.Zt;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{no:{get:function(){return this.lu && this.yuc && this.bTa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{OAb:{get:function(){return "DECREASING" === this.cG;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{nxc:{get:function(){return "INCREASING" === this.cG;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Wxc:{get:function(){return "NONE" === this.cG;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{PAb:{get:function(){return "DISABLED" === this.cG;},enumerable:!1,configurable:!0}});return a;})();b.ufb=t;},62234:function(t,b,a){var r,u,v,w,x,y,A;function d(z,B){return B.PAb;}function n(z,B){return (0,v.pfc)({Scc:k,ghc:z,wwc:h,mc:B});}function c(z,B){B=B.bTa;return z.bTa && !B;}function f(z,B,C){var D;z=B.Zt;D=B.Fn;C=C.tfa;return B.no && z < D - C;}function g(z,B,C){var D;z=B.Zt;D=B.Fn;C=C.tfa;return B.no && z > D + C;}function e(z,B,C){var D,E;z=B.Zt;D=B.cG;E=B.Fn;C=C.tfa;return B.no?"DECREASING" === D && z <= E || "INCREASING" === D && z >= E || "NONE" === D && Math.abs(z - E) <= C?!0:!1:!1;}function h(z,B){z=z.r1;B=B.r1;return 0 < z && z < B;}function k(z,B){B=B.cba;return z.cba && !B;}function l(z,B){B=B.cba;return !z.cba && B;}function m(z,B){B=B.hy;return !z.hy && B;}function p(z,B){B=B.lu;return z.lu && !B;}function q(z,B){B=B.lu;return !z.lu && B;}Object.defineProperties(b,{__esModule:{value:!0}});b.tfb=void 0;r=a(22970);u=a(66164);v=a(91176);w=a(97685);x=a(48170);y=a(23093);A=a(19250);t=(function(){function z(B,C){var D;D=this;this.Cb=B;this.config=C;this.console=new u.platform.Console("ASEJS_PRESENTATION_DELAY_CONTROLLER","asejs");this.state=new v.mhb({model:y.ufb});this.Qvc=function(E,H){var F,G;F=E.Fn;E=E.Zt;if(!D.state.value.nxc){G=D.Cb.Wda({type:"INCREASE",Fn:F});x.l && D.QVa({reason:H,request:"INCREASE",Fn:F,Zt:E,response:G});H=D.sda(G);return {zy:D.PRa(H?"INCREASE":"DISABLE")};}};this.xhc=function(E,H){var F,G;F=E.Fn;E=E.Zt;if(!D.state.value.OAb && D.state.value.cba){G=D.Cb.Wda({type:"DECREASE",Fn:F});x.l && D.QVa({reason:H,request:"DECREASE",Fn:F,Zt:E,response:G});H=D.sda(G);return {zy:D.PRa(H?"DECREASE":"DISABLE")};}};this.zDb=function(E,H){var F,G;F=E.Fn;E=E.Zt;if(!D.state.value.Wxc){G=D.Cb.Wda({type:"MAINTAIN",Fn:F});x.l && D.QVa({reason:H,request:"MAINTAIN",Fn:F,Zt:E,response:G});H=D.sda(G);return {zy:D.PRa(H?"MAINTAIN":"DISABLE")};}};this.sda=function(E){if("APPROVED" === E.dg)return (x.l && D.console.log("The platform approved the request"),!0);x.l && D.console.log(('The platform rejected the request with reason "').concat(E.reason,'"'));switch(E.reason){case "NOT_SUPPORTED":return !1;case "TARGET_ACHIEVED":return !0;case "NO_LIVE_INTENT":return (x.l && D.state.value.lu && D.console.warn("Request requested due to NO_LIVE_INTENT, but ASE has intent"),!0);default:if(x.l)throw Error(("Unexpected rejection: ").concat(E.reason));return !1;}};this.tNb=function(E,H){if(D.state.value.Fn !== D.config.nl)return (x.l && D.console.log(("Setting target to configured minimum at ").concat(D.config.nl,'ms due to "').concat(H,'"')),{zy:{Fn:D.config.nl}});};this.VVc=function(E,H){x.l && D.console.log(('Unsetting target due to "').concat(H,'"'));return {zy:{Fn:-1}};};this.Utc=function(E,H){if(D.state.value.OAb)return (x.l && D.console.log(("Halting decrease to ").concat(D.state.value.Fn,'ms due to "').concat(H,'". ') + ("Setting new target to ").concat(D.state.value.Zt,"ms.")),{zy:{Fn:D.state.value.Zt}});};this.JPc=function(E,H){x.l && D.console.log(("No negative QoE signals have been received for ").concat(D.config.Wua,"ms, ") + ('setting QoE to "acceptable" due to "').concat(H,'"'));return {zy:{r1:0}};};this.Iea=this.Iea.bind(this);this.Ewa=this.Ewa.bind(this);this.Bwa=this.Bwa.bind(this);this.B_a=this.B_a.bind(this);this.reset=this.reset.bind(this);this.algorithm=new v.Algorithm([[d,function(){return {S9b:!0};}],[(0,v.Gqb)([q,m],p),this.tNb],[(0,v.Gqb)([p,m],q),this.VVc],[n(this.config.Wua,this.Cb.mc),this.JPc],[l,this.tNb],[k,this.Utc],[c,this.zDb],[e,this.zDb],[g,this.xhc],[f,this.Qvc]],{store:this.state,TRa:function(){return [D.config];}});}z.prototype.Iea=function(B){this.Vxa({lu:B});};z.prototype.Ewa=function(B){this.Vxa({Zt:B});};z.prototype.B_a=function(){this.Vxa({r1:this.state.value.r1 + 1});};z.prototype.Bwa=function(B){this.Vxa({hy:B});};z.prototype.reset=function(){this.algorithm.reset();this.state.value.PAb || this.state.reset();};z.prototype.PRa=function(B){B=(0,v.jVc)(A.JJc,this.state.value.cG,B);x.l && B.tq && this.console.log(('Transitioned from "').concat(B.UJc,'" to "').concat(B.zy,'" due to ') + ('event "').concat(B.event,'"'));return {cG:B.zy};};z.prototype.Vxa=function(B){this.state.next(r.__assign({},B));};z.prototype.QVa=function(B){var C,D,E,H;C=B.reason;D=B.request;E=B.Fn;H=B.Zt;B=B.response;H="MAINTAIN" === D?("Requesting ").concat(D).concat(-1 !== E?(" at ").concat(E,"ms"):""):("Requesting ").concat(D," from ").concat(H,"ms to ").concat(E,"ms");H+=(' due to "').concat(C,'"');w.VR.log({vn:this.Cb.Xqc(),type:"PRESENTATION_DELAY_CHANGE_REQUEST",g5c:"APPROVED" === B.dg,reason:C,request:D,source:"AUTOMATIC",eed:E / 1E3});this.console.log(H);};return z;})();b.tfb=t;},19250:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JJc={initial:"NONE",EOb:{NONE:{on:{j1c:"INCREASING",z_c:"DECREASING"}},A_c:{on:{YXb:"NONE"}},k1c:{on:{YXb:"NONE"}},F_c:{}},on:{E_c:"DISABLED"}};},82010:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},19588:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},39833:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},53800:function(t){function b(d,n){this.u4b=d.ZS && d.ZS.enabled;this.Wka=void 0;this.O3b=n;this.PJa=[];this.cKa=[];this.sJa=[];d=d.GJa || [];n=d.map(function(c){return c.w7c;});n.unshift(0);this.x4b=d;this.y4b=n;this.yJa=[];this.de=[];}function a(d,n){var l,m,p,q;for(var c=[],f=[],g=0;g < d.length;g++){for(var e=d[g],h=[],k=0;k < e.length;k++){l=e[k] - (f[k] || 0);m=n && n[k];p=h;q=p.push;1 <= m && (m=Math.pow(10,m || 0),l=Math.round(l * m) / m);q.call(p,l);}c.push(h);f=e;}return c;}b.prototype.reset=function(d){this.Wka=void 0;this.PJa=[];this.cKa=[];this.sJa=[];this.yJa=[];d && (this.de=[]);};b.prototype.add=function(d,n){var c,f,g,e;c=n.filter(function(h){return h.sH || h === d.ud;});f=c.map(function(h){return h.bitrate;});n=d.ud;c=c.indexOf(n);g=this.Wka;if(g && (g.length !== f.length || g.some(function(h,k){return h !== f[k];}))){e=this.zwb();e && (this.de.push(e),this.reset(!1));}void 0 === g && (this.Wka=f);this.PJa.push([c,d.bz,d.Mk,d.kob,d.g$b,d.yM,d.QEc,d.xh,d.Im,d.Ol,d.pN - d.bz,d.MIc]);void 0 !== d.sn && this.sJa.push([d.bz,d.sn.AE,d.sn.ZC,d.sn.rE]);c=n && n.Oa;this.u4b && void 0 !== c && (g=c.VG(d.Ol),-1 != g && (c=c.get(g),g=c.duration,n=c.Qb || n.Qb,void 0 !== n && this.cKa.push({Hb:c.Hb,duration:g,Qb:n})));(n=d.iJc) && n.length && (n=n.slice(0),n.unshift(d.bz),this.yJa.push(n));};b.prototype.zwb=function(){var d,n;d=a(this.PJa);if(0 !== d.length){d={dltype:this.O3b,bitrates:this.Wka,seltrace:d,vmaftrace:this.cKa,paceratetrace:a(this.sJa)};n=a(this.yJa,this.y4b);n && n.length && (d.predtrace={config:this.x4b,data:n});return d;}};b.prototype.get=function(){var d,n;d=this.zwb();n=this.de;d && n.push(d);if(0 !== n.length)return n;};t.exports=b;},35331:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.b5a=void 0;d=a(79048);n=a(14103);c=a(91967);t=(function(){function f(g){var e;e=this;this.context=g;this.Jm=void 0;this.dc="ad-playgraph";this.enabled=!0;g.zd.events.on("playgraphUpdating",function(){return e.sRb();});g.zd.events.on("segmentNormalized",function(){return e.sRb();});}f.prototype.sRb=function(){this.Jm=this.context.zd.Jm || this.Jm;};f.prototype.Ch=function(g){var e,h,k,l,m,p;h=g.Ii;g=g.Ds;if(h === c.Lc.im || h === c.Lc.pr || h === c.Lc.Kj || g === c.Ud.Hu || void 0 === h && void 0 === g){g=this.context;h=g.ya;if(null === (e=g.zd.Ec) || void 0 === e?0:e.Dd.aw()){e=h.player;g=e.Wd?e.Yg:h.Xx?h.hm:void 0;k=this.Jm;l=void 0;e=void 0;if(g){m=h.Z.ba[g.L];p=h.Fb.UL(g.L);p && (h=h.Fb.SH.Z.ba[p],h.J != m.J && (l=m.J),"content" !== m.type && (e=this.Foc(g.L,h.J)));}h={adPlaygraph:k?d.OFa.decode(k):void 0,adMid:l,manifestHasAds:!0};void 0 !== e && (h.adBreakLocationMs=e);return h;}return {manifestHasAds:!1};}};f.prototype.Foc=function(g,e){var h,k,l;if(g=(0,n.dR)(g))l=null === (k=null === (h=this.context.zd.Ec) || void 0 === h?void 0:h.Dd.HQa(e,g)) || void 0 === k?void 0:k.yj;return l;};return f;})();b.b5a=t;},75402:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.H5a=void 0;t=a(22970);d=a(90745);n=a(91176);c=a(91176);f=t.__importDefault(a(14282));g=t.__importDefault(a(53800));e=a(91967);h=a(60028);a=(function(){function k(l){this.Z=l;this.Sv="aseReport";this.dB="asereport";this.TC=n.I.dh;this.events=new d.EventEmitter();this.y8=h.U5.y7a;this.Nka=!1;this.VOb=0;this.M0=this.M0.bind(this);this.CNb({type:"asereportconfigoverrides",Av:this.Z.config.Av,$z:this.Z.config.$z,dK:this.Z.config.dK});}k.prototype.CNb=function(l){var m,p,q,r,u;r=this.Z.config.D8c;u=null !== (m=l.Av) && void 0 !== m?m:this.Z.config.Av;0 === Math.floor(1E6 * Math.random()) % u || r?(m=null !== (p=l.$z) && void 0 !== p?p:this.Z.config.$z,this.TC=n.I.Ca(m),this.UBc=null !== (q=l.dK) && void 0 !== q?q:this.Z.config.dK,this.Z.L7=!0,this.open()):(this.TC=n.I.dh,this.Nka=this.Z.L7=!1,this.Z.events.$l("requestIssued",this.M0));};k.prototype.open=function(){var l,m;l=this;if(this.Z.L7 && !this.Nka){m=[];m[f.default.Yp.U]=new g.default(this.Z.config,f.default.Yp.U);m[f.default.Yp.X]=new g.default(this.Z.config,f.default.Yp.X);m[f.default.Yp.Da]=new g.default(this.Z.config,f.default.Yp.Da);this.Z1a=m;this.Nka=!0;this.Z.events.on("openComplete",function(){return l.WFb();});this.WFb();this.Z.events.on("requestIssued",this.M0);}};k.prototype.WFb=function(){this.Z.events.emit("aseReportEnabled",{type:"asereportenabled"});};k.prototype.M0=function(l){l.result && l.streamList && (this.Z1a[l.mediaType].add(l.result,l.streamList),++this.VOb >= this.UBc && this.events.emit("collectionRequested"));};k.prototype.ctc=function(){var l;l=(0,c.flatten)(this.Z1a.map(function(m){return m.get();}).filter(function(m){return void 0 !== m;}));this.Z1a.forEach(function(m){return m.reset(!0);});this.VOb=0;return l;};k.prototype.Ue=function(l){var m,p;m=l.Ii;p=l.Acc;l=l.KAb || p || m === e.Lc.Kj;return this.Z.L7 && this.Nka && l && (l=this.ctc()) && l.length?{hN:!0,event:{type:"asereport",strmsel:l}}:{hN:!1};};return k;})();b.H5a=a;},36414:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Z6a=void 0;d=a(35779);n=a(48170);c=a(91967);t=(function(){function f(g,e){this.gSc=g;this.rj=e;}Object.defineProperties(f.prototype,{Zl:{get:function(){return ("cache-").concat(this.gSc);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{dc:{get:function(){return this.Zl;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return n.l;},enumerable:!1,configurable:!0}});f.prototype.Ch=function(g){var e,h,k;e=g.Ii;g=g.Ds;if(e === c.Lc.im || e === c.Lc.pr || e === c.Lc.Kj || void 0 === e && void 0 === g){h=(0,d.pwb)(this.rj);e=Object.keys(h).filter(function(l){return h[l].isEnabled;});if(e.length){k={};e.forEach(function(l){k[l]={hit:h[l].PX,idx:h[l].uma};});return {e6c:k};}}};return f;})();b.Z6a=t;},67181:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.b7a=void 0;d=a(91176);n=a(65161);c=a(89527);f=a(91967);t=(function(){function g(e,h,k){this.la=e;this.Vh=h;this.config=k;this.dc="CdnReporter";}Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.Ch=function(e){var h,k,l;h=this;k=e.Ii;l=e.Ds;e={};(l === f.Ud.Qv || l === f.Ud.MR || l === f.Ud.yH || l === f.Ud.vM || l === f.Ud.Hu || l === f.Ud.Np) && (l=this.t$()) && (e.cdnidinfo={audio:{streaming_cdn_id:l.YOb,streaming_cdn_name:l.iTc,presenting_cdn_id:l.eJb,presenting_cdn_name:l.OJc},video:{streaming_cdn_id:l.bPb,streaming_cdn_name:l.lTc,presenting_cdn_id:l.gJb,presenting_cdn_name:l.RJc},text:{streaming_cdn_id:l.aPb,streaming_cdn_name:l.kTc,presenting_cdn_id:l.fJb,presenting_cdn_name:l.QJc},mediaevents:{streaming_cdn_id:l.ZOb,streaming_cdn_name:l.jTc}});this.config.Tac && k === f.Lc.Kj && (e.cdndldist=JSON.stringify((0,d.Q7b)(Object.keys(this.Vh).map(function(m){var p;p=h.Vh[m];return Object.keys(p).map(function(q){var r;r=p[q];return {cdnid:r.Uh,pbcid:r.Lf,dls:Object.keys(r.ao).map(function(u){var v,w;u=r.ao[u];w=u.mediaType === n.u.X?"adlid":"dlid";return (v={tm:u.totalTime,bitrate:u.bitrate},v[w]=u.ob,v.vf=u.Qb,v);})};});}))));return e;};g.prototype.FQa=function(){var e;e=this.t$();if(e)return {v8:{audio:{efa:e.YOb,Zua:e.eJb},video:{efa:e.bPb,Zua:e.gJb},N2:{efa:e.aPb,Zua:e.fJb},vEb:{efa:e.ZOb}}};};g.prototype.t$=function(){var e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L,K,M,P,I,O;K=this.la.player;if(K.Wd){M=K.yB;P=M.M;I=P.Vi;O=null === (h=null === (e=M.me(n.u.X)) || void 0 === e?void 0:e.kl) || void 0 === h?void 0:h.Ab;e=null === (l=null === (k=M.me(n.u.U)) || void 0 === k?void 0:k.kl) || void 0 === l?void 0:l.Ab;k=null === (p=null === (m=M.me(n.u.Da)) || void 0 === m?void 0:m.kl) || void 0 === p?void 0:p.Ab;m=null === (r=null === (q=P.fh) || void 0 === q?void 0:q.Vs) || void 0 === r?void 0:r.KL;q=null === (w=null === (v=null === (u=K.Bw.get(n.u.X)) || void 0 === u?void 0:u.vZ(c.vV)) || void 0 === v?void 0:v.V$()) || void 0 === w?void 0:w.dd;u=null === (A=null === (y=null === (x=K.Bw.get(n.u.U)) || void 0 === x?void 0:x.vZ(c.vV)) || void 0 === y?void 0:y.V$()) || void 0 === A?void 0:A.dd;x=null === (C=null === (B=null === (z=K.Bw.get(n.u.Da)) || void 0 === z?void 0:z.vZ(c.vV)) || void 0 === B?void 0:B.V$()) || void 0 === C?void 0:C.dd;return {YOb:O,iTc:O?null === (D=null === I || void 0 === I?void 0:I.hH(O)) || void 0 === D?void 0:D.name:void 0,eJb:q,OJc:q?null === (E=null === I || void 0 === I?void 0:I.hH(q)) || void 0 === E?void 0:E.name:void 0,bPb:e,lTc:e?null === (H=null === I || void 0 === I?void 0:I.hH(e)) || void 0 === H?void 0:H.name:void 0,gJb:u,RJc:u?null === (F=null === I || void 0 === I?void 0:I.hH(u)) || void 0 === F?void 0:F.name:void 0,aPb:k,kTc:k?null === (G=null === I || void 0 === I?void 0:I.hH(k)) || void 0 === G?void 0:G.name:void 0,fJb:x,QJc:x?null === (J=null === I || void 0 === I?void 0:I.hH(x)) || void 0 === J?void 0:J.name:void 0,ZOb:m,jTc:m?null === (L=null === I || void 0 === I?void 0:I.hH(m)) || void 0 === L?void 0:L.name:void 0};}};return g;})();b.b7a=t;},5479:function(t,b,a){var n,c;function d(f,g){return g.U0?(f=g.hWa(f)) && d(f,g.U0):f;}Object.defineProperties(b,{__esModule:{value:!0}});b.w7a=void 0;n=a(79048);c=a(91967);t=(function(){function f(g){this.$C=g;this.dc="content-playgraph";this.enabled=!0;}f.prototype.Ch=function(g){var e,h,k,l,m,p,q,r;k=g.Ii;g=g.Ds;if(k === c.Lc.im || k === c.Lc.pr || k === c.Lc.Kj || g === c.Ud.Hu || g === c.Ud.yH || void 0 === k && void 0 === g){k=this.$C;l=k.ya.JR || k.ya;k=l.player.Wd?l.player.Yg:l.Xx?l.hm:void 0;m=g=void 0;p=void 0;if(k){q=d(k,l.Fb);r=l.Z.ba[k.L];l=q?l.Fb.SH.Z.ba[q.L]:r;m=null !== (e=l.type) && void 0 !== e?e:n.pd.content;l && l.xp && l.J !== l.xp && (g=l.J,m=l.type || "content",p=q.offset.G + l.Ta);l && (null === l || void 0 === l?void 0:l.J) != r.J && (g=r.J,m=null !== (h=r.type) && void 0 !== h?h:m,p=k.offset.G + r.Ta);"adBreak" === r.type && (m=r.type);}return {contentPlaygraph:this.$C.$C,auxMid:g,auxMidType:m,auxOffsetms:p};}};return f;})();b.w7a=t;},61996:function(t,b,a){var n,c,f,g;function d(e,h,k){var l,m,r;h=n.__assign({},null === (m=null === e || void 0 === e?void 0:e.context) || void 0 === m?void 0:m.call(e,{nGb:h,Lm:k}));if((null === e || void 0 === e?0:e.Lm) && k)if(!0 === e.Lm)h.args=k;else {m={};h.args=m;try{for(var p=n.__values(e.Lm),q=p.next();!q.done;q=p.next()){r=q.value;m[r]=k[r];}}catch(v){var u;u={error:v};}finally{try{q && !q.done && (l=p.return) && l.call(p);}finally{if(u)throw u.error;}}}return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.Am=b.CSa=b.gb=void 0;n=a(22970);c=a(66164);f=a(91176);g=a(48170);b.gb=function(e){return function(h,k,l){var m;m=l.value;l.value=function(){var p,q,r,u,v,w;q=(0,b.CSa)(this);if(q)(r=d(e,this,arguments),u=null !== (p=null === e || void 0 === e?void 0:e.methodName) && void 0 !== p?p:String(k),v=q.C7(u,r,null === e || void 0 === e?void 0:e.Te,null === e || void 0 === e?void 0:e.U9c));p=null === q || void 0 === q?void 0:q.SNa;q && (q.SNa=v);try{w=null === m || void 0 === m?void 0:m.apply(this,arguments);(0,f.GUa)(w) && (w=w.then(function(y){v && (null === e || void 0 === e?0:e.return) && (v.data.resolve=y);return y;},function(y){v && (v.data.reject=("").concat(y));return Promise.reject(y);}));return w;}catch(y){var x;x=y;throw y;}finally{q && (q.SNa=p);v && (v.data || (v.data={}),x?(v.data.error=("").concat(x),null === q || void 0 === q?void 0:q.Zcc(v)):(null === e || void 0 === e?0:e.return) && !(0,f.GUa)(w) && (v.data.lRet=w));}};};};b.CSa=function(e){if(null === e || void 0 === e?0:e.aIa)return e.aIa;};t=(function(){function e(h){this.jw=[];this.xka=!1;this.PIa={};this.Bb=n.__assign({xg:10},h);Object.defineProperties(h.rj,{aIa:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(e.prototype,{source:{get:function(){return this.Bb.source;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{enabled:{get:function(){return !this.xka;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{wyc:{get:function(){return n.__spreadArray([],n.__read(this.jw),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{avc:{get:function(){return this.PIa;},enumerable:!1,configurable:!0}});e.prototype.ug=function(h){var k,l,m;if(!this.xka){l=(0,b.CSa)(this.Bb.rj);m=null === l || void 0 === l?void 0:l.SNa;l && (null === (k=l.Bb.console) || void 0 === k?void 0:k.trace(("Adding additional item to ").concat(null === m || void 0 === m?void 0:m.methodName),h));m && (m.data=n.__assign(n.__assign({},m.data),h));}};e.prototype.C7=function(h,k,l,m){var p,q,r,u;if(!this.xka){r=!1;u=null === (q=(p=this.Bb).omb) || void 0 === q?void 0:q.call(p,this.Bb.rj);p=d({},this.Bb.rj);k=n.__assign(n.__assign(n.__assign({},u),p),k);u=0 < Object.keys(k).length;k={methodName:h,data:u?k:void 0,time:c.platform.time.ha()};m && this.PIa[h]++;l && this.jw.length && (l=this.jw[this.jw.length - 1],l.methodName === h && (l.data=l.data || ({}),l.data.dedup=l.data.dedup || ({hitCount:1}),l.data.dedup.hitCount++,l.data.dedup.lJournal=k,r=!0));this.$cc(k);r || this.jw.push(k);this.jw.length > this.Bb.xg && this.jw.shift();return k;}};e.prototype.$cc=function(h){var k;g.l && (null === (k=this.Bb.console) || void 0 === k?void 0:k.trace(("").concat(this.Bb.source,"::").concat(h.methodName),h.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.Bb,h);};e.prototype.Zcc=function(h){var k;g.l && (null === (k=this.Bb.console) || void 0 === k?void 0:k.error(("").concat(this.Bb.source,"::").concat(h.methodName),h.data));};e.prototype.La=function(){Object.defineProperties(this.Bb.rj,{aIa:{enumerable:!1,value:null,configurable:!0}});this.xka=!0;this.clear();};e.prototype.clear=function(){this.jw=[];this.PIa={};};return e;})();b.Am=t;},13580:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.O8a=void 0;d=a(65161);n=a(91967);t=(function(){function c(f){this.Jxb=f;}Object.defineProperties(c.prototype,{dc:{get:function(){return "EllaReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});c.prototype.Ch=function(f){var g,e;if(f.Ii === n.Lc.Kj){f={};g=this.Jxb(d.u.X);e=this.Jxb(d.u.U);g && (g=this.Xvb(g,d.u.X)) && (f.H5c=g);e && (e=this.Xvb(e,d.u.U)) && (f.hfd=e);return 0 < Object.keys(f).length?f:void 0;}};c.prototype.Xvb=function(f,g){var e;if((f=f.Jwb()) && (0 !== f.Qw || 0 !== f.Kfa)){e=f.f8.map(function(h){var k;k={bitrate:h.bitrate,U2a:h.duration};g === d.u.U?k.z7c=h.Ra:k.E7=h.Ra;return k;});return {duration:f.Qw,Jcd:f.Kfa,sbd:f.Jfa,K7c:f.Ifa,W5c:e};}};return c;})();b.O8a=t;},7470:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.T8a=void 0;d=a(91967);t=(function(){function n(c){this.bd=c;}Object.defineProperties(n.prototype,{dc:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});n.prototype.Ch=function(c){var f;if(c.Ii === d.Lc.Kj && this.bd){c={};f=this.bd.get();f && f.avtp && f.avtp.Fa && (c.avtp=f.avtp.Fa,c.dltm=f.avtp.FOa);f && f.initialThroughput && f.initialThroughput.Fa && (c.initial_avtp=f.initialThroughput.Fa);f && f.cdnavtp && (c.cdnavtp=f.cdnavtp,c.activecdnavtp=f.activecdnavtp);if(f=this.bd.SRa())(f.bytesRequestedPacingVideo && (c.bytesRequestedPacingVideo=f.bytesRequestedPacingVideo,c.estimatedBytesPacedVideo=f.estimatedBytesPacedVideo,c.bytestotalVideo=f.bytestotalVideo,c.pacedAvtpVideo=f.pacedAvtpVideo),f.bytesRequestedPacingAudio && (c.bytesRequestedPacingAudio=f.bytesRequestedPacingAudio,c.estimatedBytesPacedAudio=f.estimatedBytesPacedAudio,c.bytestotalAudio=f.bytestotalAudio,c.pacedAvtpAudio=f.pacedAvtpAudio),f.pacedAvtp && (c.pacedAvtp=f.pacedAvtp));this.bd.flush();if(f=this.bd.wFb)for(var g in f)f.hasOwnProperty(g) && (c["ne" + g]=Number(f[g]).toFixed(6));return c;}};return n;})();b.T8a=t;},8478:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.V8a=void 0;d=a(97967);n=a(91967);t=(function(){function c(f){this.moa=f;this.Zl="engine";this.enabled=!0;}Object.defineProperties(c.prototype,{dc:{get:function(){return this.Zl;},enumerable:!1,configurable:!0}});c.prototype.Ch=function(f){var g;g=f.Ii;f=f.Ds;if(g === n.Lc.im || g === n.Lc.pr || g === n.Lc.Kj || void 0 === g && void 0 === f)return (g=this.moa.PIc.map(function(e){var h;h=e.Z;return {id:h.id,weight:h.weight,relativeWeight:e.Hda};}),g={prefetcher:this.moa.xB.getStats(),playgraphs:g,viewables:this.moa.QXc,players:this.moa.NIc.length},d.vDa.instance && (g.mfCache=d.vDa.instance.dWa.getStats()),g);};return c;})();b.V8a=t;},75462:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Jab=void 0;d=a(22970);n=a(90745);c=a(91176);f=a(66164);g=a(65161);e=a(60028);t=(function(){function h(k,l,m,p,q,r){this.Z=k;this.zf=l;this.Sh=p;this.tj=q;this.dB="liveadbreak";this.TC=c.I.dh;this.events=new n.EventEmitter();this.y8=e.U5.zja;this.wla=[];this.LC=new Map();this.console=(0,c.Gf)(f.platform,r,"LiveAdBreakGenerationReporter");m.addListener("adBreakEvent",this.iFc.bind(this));m.addListener("adEvent",this.yXa.bind(this));k.events.addListener("streamSelected",this.pGc.bind(this));k.events.addListener("locationSelected",this.KFc.bind(this));}h.prototype.pGc=function(k){var l,m;l=Number(k.manifest.R);m={};this.LC.has(l) && (m=this.LC.get(l));switch(k.mediaType){case g.u.X:m.E7 || (m.E7=new Set());m.E7.add(Number(k.streamId));break;case g.u.U:(m.ZU || (m.ZU=new Set()),m.ZU.add(Number(k.streamId)));}this.LC.set(l,m);!1;};h.prototype.KFc=function(k){var l,m;l=this.tj.eR(k.L);if(l){!1;m=l.mZa;if(!m.zL && (l=l.Df.Kb[m.WJ])){l=l.id;m={L:k.segmentId};this.LC.has(l) && (m=this.LC.get(l),m.L=k.segmentId);switch(k.abd){case "audio":void 0 === m.nvb && (m.nvb=k.serverid);break;case "video":void 0 === m.wvb && (m.wvb=k.serverid);}this.LC.set(l,m);!1;}}};h.prototype.yXa=function(k){var l,m,p,q,r,u,v;if("adStart" === k.event){m=Number(k.S.R);p=this.LC.get(m);if(p && p.L){q=0;r=0;u=0;v=0;this.Z.Ya.dn(p.L).forEach(function(w){var x,y,A,z;w=w.iR();q+=null !== (x=w.HP) && void 0 !== x?x:0;r+=null !== (y=w.YU) && void 0 !== y?y:0;u+=null !== (A=w.TJ) && void 0 !== A?A:0;v+=null !== (z=w.JN) && void 0 !== z?z:0;});p.HP=q;p.YU=r;p.TJ=u;p.JN=v;this.LC.set(m,p);!1;}}else if("adComplete" === k.event || "adStop" === k.event){m=Number(k.S.R);(p=this.LC.get(m))?this.LC.delete(m):!1;m=this.Z.player;k={liveAdInsertionType:k.Kt,auxMid:k.S.R,duration:k.sB.total,auxSoffms:f.platform.time.ha() - m.Jk,auxMoffms:k.fZa.G,auxPlaybackcontextid:k.S.Zd,pbcid:null === (l=k.S.gA) || void 0 === l?void 0:l.Lf,firstAudioCdnId:null === p || void 0 === p?void 0:p.nvb,firstVideoCdnId:null === p || void 0 === p?void 0:p.wvb,abuflmsec:null === p || void 0 === p?void 0:p.HP,vbuflmsec:null === p || void 0 === p?void 0:p.YU,abuflbytes:null === p || void 0 === p?void 0:p.TJ,vbuflbytes:null === p || void 0 === p?void 0:p.JN};if(null === p || void 0 === p?0:p.E7)k.adlid=d.__spreadArray([],d.__read(p.E7),!1);if(null === p || void 0 === p?0:p.ZU)k.vdlid=d.__spreadArray([],d.__read(p.ZU),!1);this.wla.push(k);!1;}};h.prototype.iFc=function(k){var l,m;if("adBreakComplete" === k.event || "adBreakStop" === k.event){m=this.zf.get(k.bSb);m && m.Eb && ((m=this.Sh.Eoc(m.J,k.uv))?(this.wu={adBreakTriggerId:k.fb,adBreakLocationMs:k.uv,wasPrefetched:"daiPrefetch" === m.source,wasHydrated:"hydration" === m.source,lastEvent:k.event,isAutoskip:m.$o,plannedAdBreakDuration:m.Kb.reduce(function(p,q){return p.add(q.endTime.ea(q.startTime));},c.I.ia).G,adBreakDurationSCTE:null === (l=m.Hk) || void 0 === l?void 0:l.G,scteCancellationTriggered:m.B2a,fallbackAuxMidType:"content",plannedAdCount:m.Kb.length},k.Zm && (this.wu.embeddedReason=k.Zm),0 < this.wla.length && (this.wu.adsRendered=this.wla,this.wla=[]),!1,this.events.emit("collectionRequested")):this.console.warn("Missing adBreakData for impression event",{graphPosition:k.ai,adBreakLocationMs:k.uv}));}};h.prototype.Ue=function(){var k;if(this.wu){k=this.wu;this.wu=void 0;return {hN:!0,event:d.__assign({type:"logblob",dB:"liveadbreak"},k)};}return {hN:!1};};return h;})();b.Jab=t;},10940:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Kab=void 0;d=a(22970);n=a(90745);c=a(91176);f=a(95407);g=a(60028);t=(function(){function e(h,k,l){this.Z=h;this.dB="liveadbreakprep";this.TC=c.I.dh;this.events=new n.EventEmitter();this.y8=g.U5.zja;k.addListener("adBreakHydrated",this.Jta.bind(this));k.addListener("adBreakHydrationFailed",this.sGb.bind(this));k.addListener("adBreakHydrationSkipped",this.sGb.bind(this));l.addListener("daiPrefetchComplete",this.xFc.bind(this));l.addListener("daiPrefetchFailed",this.yFc.bind(this));h.events.addListener("branchViewableReceived",this.sFc.bind(this));h.events.addListener("branchViewableFailed",this.rFc.bind(this));}e.prototype.$Z=function(h,k){var l,m;m=this.Z.player.Jk;return {requestTime:(null === k || void 0 === k?0:k.GB)?null === (l=h.Oc) || void 0 === l?void 0:l.RYa(k.GB):void 0,requestSoffms:(null === k || void 0 === k?0:k.GB)?k.GB - m:void 0,responseSoffms:(null === k || void 0 === k?0:k.IB)?k.IB - m:void 0};};e.prototype.sFc=function(h){var k,l,m,p,q,r,u,v,w,x;if(h.B8b && h.M.Xj && h.M.Xj.Eb && (null === (l=null === (k=h.M.Xj.S) || void 0 === k?void 0:k.Jd) || void 0 === l?0:l.Ij)){k=h.K_a;r=h.iw;l=h.K;l=null === (p=null === (m=this.Z.Ec) || void 0 === m?void 0:m.tj) || void 0 === p?void 0:p.eR(l.id);l=(null === l || void 0 === l?void 0:l.Df) || ({});m=l.fb;p=l.$o;l=l.yj;u=r || ({});r=u.uga;v=u.MP;w=u.G2;x=u.UB;u=u.FE;this.wu=d.__assign(d.__assign({prep:"auxManifest",auxMid:h.M.J.toString(),auxPlaybackcontextid:null === (q=h.M.S) || void 0 === q?void 0:q.Zd},this.$Z(h.M.Xj,k)),{windowDurationMs:r,anchorTime:v,targetOffsetMs:w,targetTime:x,timeRandomizationWasCalculated:u,adBreakTriggerId:m,autoskip:p,adBreakLocationMs:l});this.events.emit("collectionRequested");}};e.prototype.rFc=function(h){var k,l,m,p,q,r,u,v,w,x,y;if(h.Xj && h.Xj.Eb && (null === (l=null === (k=h.Xj.S) || void 0 === k?void 0:k.Jd) || void 0 === l?0:l.Ij)){k=h.K_a;r=h.iw;u=h.K;l=h.error;u=null === (p=null === (m=this.Z.Ec) || void 0 === m?void 0:m.tj) || void 0 === p?void 0:p.eR(u.id);u=(null === u || void 0 === u?void 0:u.Df) || ({});m=u.fb;p=u.$o;u=u.yj;v=r || ({});r=v.uga;w=v.MP;x=v.G2;y=v.UB;v=v.FE;l=null !== (q=f.sC.D$(l)) && void 0 !== q?q:"failed";this.wu=d.__assign(d.__assign({prep:"auxManifest",auxMid:h.J.toString()},this.$Z(h.Xj,k)),{windowDurationMs:r,anchorTime:w,targetOffsetMs:x,targetTime:y,timeRandomizationWasCalculated:v,adBreakTriggerId:m,autoskip:p,adBreakLocationMs:u,errorCode:l});this.events.emit("collectionRequested");}};e.prototype.Jta=function(h){var k,l,m,p,q,r,u,v,w,x;if(h.Nm.Eb && null !== (k=h.Nm.S.Jd) && void 0 !== k && k.Ij){k=h.fb;l=h.u7;m=h.iw || ({});p=m.Msb;q=m.Nsb;r=m.uga;u=m.G2;v=m.UB;m=m.FE;w=l.$o;l=l.Kb;x=h.DN.yj;this.wu=d.__assign(d.__assign({prep:"hydration"},this.$Z(h.Nm,h.BI)),{adBreakTriggerId:k,autoskip:w,adBreakLocationMs:x,adBreakDurationPlanned:null === l || void 0 === l?void 0:l.reduce(function(y,A){return y + A.cb - A.Ta;},0),distanceFromLiveEdgeMs:p,distanceToAdBreakMs:q,windowDurationMs:r,targetOffsetMs:u,targetTime:v,timeRandomizationWasCalculated:m});this.events.emit("collectionRequested");}};e.prototype.sGb=function(h){var k,l,m,p,q,r,u,v,w,x;if(h.Nm.Eb && null !== (k=h.Nm.S.Jd) && void 0 !== k && k.Ij){k=h.BI;l=h.fb;m=h.iw || ({});p=m.Msb;q=m.Nsb;r=m.uga;u=m.G2;v=m.UB;m=m.FE;w=h.DN.yj;x=h.errorCode;x || (x="adBreakHydrationSkipped" === h.type?"skipped":"failed");this.wu=d.__assign(d.__assign({prep:"hydration"},this.$Z(h.Nm,k)),{adBreakTriggerId:l,autoskip:void 0,adBreakLocationMs:w,errorCode:x,distanceFromLiveEdgeMs:p,distanceToAdBreakMs:q,windowDurationMs:r,targetOffsetMs:u,targetTime:v,timeRandomizationWasCalculated:m});this.events.emit("collectionRequested");}};e.prototype.xFc=function(h){var k,l,m;if(h.M.Eb){k=h.BI;l=h.iw;m=Object.keys(h.WIb.t7).filter(function(p){return "UPSERT" === h.WIb.t7[p].action;});this.wu=d.__assign(d.__assign({prep:"prefetch"},this.$Z(h.M,k)),{adBreakTriggerIds:m,windowOffsetMs:l.vya,windowDurationMs:l.OSb,presentationOffsetMs:l.Xua,anchorSource:l.Jmb,anchorTime:l.MP.G,targetOffsetMs:l.UB - l.vya,targetTime:l.MP.G + l.Xua + l.UB,timeRandomizationWasCalculated:l.FE});this.events.emit("collectionRequested");}};e.prototype.yFc=function(h){var k,l,m,p;if(h.M.Eb){l=h.BI;m=h.iw;p=null !== (k=h.errorCode) && void 0 !== k?k:"failed";this.wu=d.__assign(d.__assign({prep:"prefetch"},this.$Z(h.M,l)),{adBreakTriggerIds:void 0,windowOffsetMs:m.vya,windowDurationMs:m.OSb,presentationOffsetMs:m.Xua,anchorSource:m.Jmb,anchorTime:m.MP.G,targetOffsetMs:m.UB - m.vya,targetTime:m.MP.G + m.Xua + m.UB,timeRandomizationWasCalculated:m.FE,errorCode:p});this.events.emit("collectionRequested");}};e.prototype.Ue=function(){var h;if(this.wu){h=this.wu;this.wu=void 0;return {hN:!0,event:d.__assign({type:"logblob",dB:"liveadbreakprep"},h)};}return {hN:!1};};return e;})();b.Kab=t;},29688:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.abb=void 0;d=a(22970);n=a(90745);c=a(91176);f=a(65161);g=a(60028);e=a(91967);t=(function(){function h(k){this.Z=k;this.Sv="liveReport";this.dB="livereport";this.TC=c.I.dh;this.events=new n.EventEmitter();this.y8=g.U5.zja;this.GF=!1;this.trace=[];this.XOa=[];this.dQb=1;0 < k.config.$Cb && 0 < k.config.FVa && (this.TC=c.I.Ca(k.config.FVa),this.dQb=Math.max(Math.floor(k.config.$Cb / k.config.FVa),1),this.GF=!0);}h.prototype.xcc=function(){var k,l,m,p;l=this.Z.player;if(l.Wd){m=l.yB;p=m.M;if(p=p.Eb?p:(null === (k=p.Xj) || void 0 === k?0:k.Eb)?p.Xj:void 0){if(((0,c.assert)(p.Oc,"Expected live viewable with presenting service"),k=p.Oc.K$(!0).G,l=this.Z.un(l.Md)))(l=this.Z.ws(l).Ga,p=p.Qf,k+=l.G,l=this.Z.hR(),this.trace.push([p,k,l.totalabuflmsecs,l.totalvbuflmsecs]),this.wcc(m));}else this.GF=!1;}};h.prototype.wcc=function(k){var l,m,p,q,r;try{l=k.me(f.u.U);if(l){m=l.bRa();if(m){p=k.Ah;if(null !== p && void 0 !== p && p.TOa){q=p.Mx.jl();r=m.LL;this.XOa.push([q.toFixed(2),r.qE,r.RD,r.TH.toFixed(3),r.aI.toFixed(3)]);}}}}catch(u){}};h.prototype.Ue=function(k){var l,m,p;l=k.KAb;k=k.Ii;this.GF && (l || k === e.Lc.im) && this.xcc();if(this.trace.length === this.dQb || 0 < this.trace.length && k === e.Lc.Kj){l=this.trace;k=this.XOa;m=d.__read(l[l.length - 1],2);p=m[0];m=m[1];this.trace=[];this.XOa=[];return {hN:!0,event:{type:"livereport",samplinginterval:this.TC.G,trace:l,ellastat:k,encodingpipelinetime:p,devicepts:m}};}return {hN:!1};};return h;})();b.abb=t;},27288:function(t,b,a){var d,n,c,f,g,e,h,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.bbb=void 0;t=a(22970);d=a(26388);n=a(91176);c=a(6832);f=a(71460);g=t.__importDefault(a(40497));e=a(8149);h=a(13550);k=a(65161);l=a(91967);a=(function(){function m(p,q){this.$r=p;this.la=q;this.enabled=!0;this.IY={};this.yN={};q.events.on("liveMissingSegment",this.MLc.bind(this));}m.prototype.MLc=function(p){var q,r;p=p.mediaType;p=(0,k.JH)(p);(q=this.IY)[p] || (q[p]=0);(r=this.yN)[p] || (r[p]=0);this.IY[p]+=1;this.yN[p]+=1;};Object.defineProperties(m.prototype,{dc:{get:function(){return "live-reporter";},enumerable:!1,configurable:!0}});m.prototype.Ch=function(p){var q,r,u,v,w,x,y,A,z,B,C;p=p.Ds;if(p === l.Ud.Np || p === l.Ud.MR || p === l.Ud.Qv || p === l.Ud.Hu || p === l.Ud.afa || p === l.Ud.sG || p === l.Ud.Nda || p === l.Ud.yH){x=this.la.player;if(x.Wd){y=x.yB;A=y.M;z=A.Xj || A;B=null === (q=y.me(d.u.U)) || void 0 === q?void 0:q.kl;if(z.Eb && B){(0,n.assert)(z.Oc,"Expected live viewable with position service");q=z.Oc.K$(!0).G;C=this.la.un(x.Md);if(C){C=this.la.ws(C).Ga;q={encodingpipelinetime:z.Qf,devicepts:q + C.G};if(p === l.Ud.yH){(C=null === (r=x.Bw.get(d.u.U)) || void 0 === r?void 0:r.vZ(c.Aja)) && (q.vbitrate=null === (u=C.V$()) || void 0 === u?void 0:u.stream.bitrate);(r=null === (v=x.Bw.get(d.u.X)) || void 0 === v?void 0:v.vZ(c.Aja)) && (q.abitrate=null === (w=r.V$()) || void 0 === w?void 0:w.stream.bitrate);0 < Object.keys(this.yN).length && (q.liveMissingFragments=this.yN);0 < Object.keys(this.IY).length && (q.missingFragmentsDelta=this.IY,this.IY={});if(v=y.me(d.u.U))(v=v.track.Kwb(),q.minvencodingbitrate=v.RCc,q.maxvencodingbitrate=v.osa);q.edgecushion=z.Oc.SCb;}p === l.Ud.Np && (0,e.zk)(B) && (q.presentationtimeoffset=B.Gk.G);if(p === l.Ud.Np || p === l.Ud.Hu)(v=g.default.instance().lSa(),u=this.$r.ERa(A),w=this.la.kxb(),r=new f.l$a(v,this.la.config,this.la.console),B=(0,h.Mwa)(B.M,u.hS),q.presentationdelay=w,q.sessionStats=v,q.ishighandstable=r.lxc(),q.isSlowBufferFilling=B,q.requestOffsetMs=z.Oc.YKb,q.edgecushion=z.Oc.SCb);if(p === l.Ud.Np || p === l.Ud.Hu || p === l.Ud.yH)(z=this.la.lxb(),q.targetbufferduration=z);p === l.Ud.Qv && (q.livePostplayEvents=A.aAc,0 < Object.keys(this.yN).length && (q.missingFragments=this.yN,this.yN={}));q.usingElla=this.Gwc();return q;}}}}};m.prototype.Gwc=function(){var p,q;p=this.me(d.u.U);q=this.me(d.u.X);return (null === q || void 0 === q?void 0:q.Z3a) || (null === p || void 0 === p?void 0:p.Z3a) || !1;};m.prototype.me=function(p){var q,r;return null === (r=(q=this.la).getPipelineForPresentingBranch) || void 0 === r?void 0:r.call(q,p);};return m;})();b.bbb=a;},60028:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.qbb=b.U5=void 0;d=a(22970);n=a(90745);c=a(91967);(function(g){g[g.y7a=1]="Creation";g[g.zja=2]="StartPlayback";})(f || (b.U5=f={}));t=(function(){function g(e,h,k){this.mc=e;this.console=h;this.events=k;this.tE={};this.Rj=new n.kf();}g.prototype.Sc=function(e){var h;h={JT:e,aMa:void 0};this.tE[e.dB]=h;e.y8 === f.y7a && this.k0a(h);this.Rj.on(e.events,"collectionRequested",this.wFc.bind(this,h));this.events.on("asereportconfigoverrides",this.aWc.bind(this));};g.prototype.La=function(){this.Rj.clear();};g.prototype.nzc=function(e){var h,k;h=this;k={Ii:e};Object.keys(this.tE).forEach(function(l){l=h.tE[l];h.l3a(l.JT,k);e === c.Lc.im && l.JT.y8 === f.zja && h.k0a(l);});};g.prototype.wFc=function(e){var h;this.l3a(e.JT,{Acc:!0});null === (h=e.aMa) || void 0 === h?void 0:h.cd();};g.prototype.k0a=function(e){var h,k,l,m;h=this;l=e.JT;m=this.mc.cna(function(){h.l3a(l,{KAb:!0});},l.TC,l.dB);null === (k=e.aMa) || void 0 === k?void 0:k.La();e.aMa=m;};g.prototype.l3a=function(e,h){var k;try{k=e.Ue(h);k.hN && (e.Sv && this.events.emit(e.Sv,k.event),this.events.emit("logblob",d.__assign({dB:e.dB},k.event)));}catch(l){this.console.error(("Error generating event for ").concat(e.dB),l);}};g.prototype.aWc=function(e){var h,k,l;h=this.tE.aseReport;if(void 0 !== h){k=h.JT;l=k.TC.G;k.CNb(e);l !== k.TC.G && this.k0a(h);}};return g;})();b.qbb=t;},12548:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Ocb=void 0;d=a(22970);t=(function(){function n(){this.qo={uw:0,closed:0,Zc:0,events:[]};}Object.defineProperties(n.prototype,{dc:{get:function(){return "NetflixMediaEventsDataCollector";},enumerable:!1,configurable:!0}});n.prototype.guc=function(c){this.qo.uw++;this.qo.events.push({id:c.id,Fj:c.Fj,action:"opened",timestamp:c.timestamp,duration:c.duration,mZ:c.mZ,L2a:c.L2a});};n.prototype.fuc=function(c){this.qo.closed++;this.qo.events.push({id:c.id,Fj:c.Fj,action:"closed",timestamp:c.timestamp,mZ:c.mZ});};n.prototype.euc=function(c){this.qo.Zc++;this.qo.events.push({id:c.id,Fj:c.Fj,action:"cancelled",timestamp:c.timestamp,duration:c.UWc});};n.prototype.Koc=function(){if(this.Cuc())return {uw:this.qo.uw,closed:this.qo.closed,Zc:this.qo.Zc,events:d.__spreadArray([],d.__read(this.qo.events),!1)};};n.prototype.Cuc=function(){return 0 < this.qo.uw || 0 < this.qo.closed || 0 < this.qo.Zc;};n.prototype.reset=function(){this.qo={uw:0,closed:0,Zc:0,events:[]};};return n;})();b.Ocb=t;},63026:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Pcb=void 0;d=a(91967);t=(function(){function n(c){this.$n=c;}Object.defineProperties(n.prototype,{dc:{get:function(){return "NetflixMediaEventsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{enabled:{get:function(){return !!this.$n;},enumerable:!1,configurable:!0}});n.prototype.Ch=function(c){return c.Ii === d.Lc.Kj && this.$n && (c=this.$n.Koc())?{netflixMediaEvents:{opened:c.uw,closed:c.closed,cancelled:c.Zc,events:c.events.map(function(f){return {id:f.id,applicationScope:f.Fj,action:f.action,timestamp:f.timestamp,duration:f.duration,eventDelay:f.mZ,timeSinceTriggeredMs:f.L2a};})}}:{};};n.prototype.La=function(){};return n;})();b.Pcb=t;},63172:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.ueb=void 0;d=a(65161);n=a(95324);c=a(91967);t=(function(){function f(g){this.me=g;}Object.defineProperties(f.prototype,{dc:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});f.prototype.Ch=function(g){var e,h,k;g=g.Ii;if(g === c.Lc.pr || g === c.Lc.Kj){g={};e=this.me(d.u.U);h=this.me(d.u.X);k=this.me(d.u.Da);e && (g.videoPipelineSummary=this.o2a(e));h && (g.audioPipelineSummary=this.o2a(h));k && (g.textPipelineSummary=this.o2a(k));return g;}};f.prototype.o2a=function(g){var e,h,k,l,m;m=g.he.Oa;m={actualStartPlayerTimestamp:null === (e=m.Tb) || void 0 === e?void 0:e.G,actualPartialPlayerTimestamp:m.SHb,completePlayerTimestamp:null === (h=g.qk) || void 0 === h?void 0:h.G,segmentId:g.L,contentStartMs:null === (k=g.qa) || void 0 === k?void 0:k.G,contentEndMs:null === (l=g.ta) || void 0 === l?void 0:l.G,streamingPlayerMs:g.wI.G,isStreamable:g.iy(),isNormalized:g.Xf(),isDoneStreaming:g.qp(),trackNeedsHeaderRequest:g.track.xca,completedRequests:m.$pb,activeRequests:g.he.Im,unsentRequests:g.he.EN,bytes:{current:m.ma,received:m.Dda,partial:m.xw,completed:m.Sma,unsent:m.UVc}};g instanceof n.dia && (g.YCb && (m.liveMissingFragments=g.YCb),g=g.M0a,m.serverTimeDeltaUpdateStat={max:g.max,min:g.min,trace:g.trace,serverTime:g.L0a,count:g.count});return m;};return f;})();b.ueb=t;},46759:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Web=void 0;d=a(22970);n=a(48170);c=a(69575);f=a(91967);g=a(5653);t=(function(){function e(h,k){var l;l=this;this.gZa=h;this.la=k;this.HIb=new c.Vg();k.events.on("branchesReevaluated",function(){l.HIb.push(h.size);});}Object.defineProperties(e.prototype,{dc:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Zl:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{enabled:{get:function(){return n.l;},enumerable:!1,configurable:!0}});e.prototype.Ch=function(h){var k;h=h.Ii;if(h === f.Lc.pr || h === f.Lc.Kj){k={branchCountStats:this.HIb.toJSON(),decisions:this.la.Xh.toJSON(),player:this.la.player.cw?this.la.player.Ya.map(function(l){return l.K.id;}):[]};this.gZa.forEach(function(l,m){var p,q;q=(0,g.QQa)(l);k[m]=d.__assign({probabilities:l.jh.map(function(r){return {duration:r.duration,immediate:r.iL,seamless:r.hf};}),parent:null === (p=l.parent) || void 0 === p?void 0:p.K.id,normalized:l.Xf,hasViewable:l.Wl,headerRequested:l.Wl && l.M.uzb},q);});return k;}};return e;})();b.Web=t;},14609:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.kfb=void 0;d=a(22970);n=a(91967);t=(function(){function c(f){this.Nc=f;d.__assign(d.__assign({},f),{failed:!0});}Object.defineProperties(c.prototype,{dc:{get:function(){return "PrefetchFailureReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Zl:{get:function(){return "prefetch";},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});c.prototype.Ch=function(f){if(f.Ii === n.Lc.im)return this.Nc;};return c;})();b.kfb=t;},70764:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.mfb=void 0;d=a(66164);n=a(91967);t=(function(){function c(){this.creationTime=d.platform.time.ha();this.Nc={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}c.prototype.D8b=function(f){this.Z=f;};c.prototype.DOc=function(f,g){var e;f=null === (e=this.Z) || void 0 === e?void 0:e.en(f);this.Nc={isPrefetchItem:!0,prefetchedVideoMs:f.R2,prefetchedAudioMs:f.Q2,prefetchClaimDurationMs:d.platform.time.ha() - this.creationTime,prefetchRank:g};};Object.defineProperties(c,{dc:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{dc:{get:function(){return c.dc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});c.prototype.Ch=function(f){if(f.Ii === n.Lc.im)return this.Nc;};return c;})();b.mfb=t;},29739:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.qGa=void 0;d=a(22970);t=(function(){function n(c){this.Zl=c;this.dc=n.dc;this.enabled=!0;this.AMa=new Map();}n.prototype.Lvc=function(c,f){this.AMa.set(c,{id:f || "",xwa:c});};n.prototype.Ch=function(c){var f;f=Array.from(this.AMa.values()).map(function(g){var e;e=g.id;g=g.xwa.Ch(c.Ii,c.Ds);return [e,g];}).filter(function(g){return (g=d.__read(g,2)[1]) && Object.keys(g).length;});if(f.length)return {eNc:f.map(function(g){return {id:g[0],report:g[1]};})};};n.prototype.GKb=function(c){this.AMa.delete(c);};n.dc="wrapped-reporter";return n;})();b.qGa=t;},91967:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.fja=b.SO=b.Ud=b.Lc=b.l=void 0;d=a(22970);n=a(91176);c=a(67164);f=a(29739);b.l=!1;(function(e){e[e.im=0]="startPlayback";e[e.Kj=1]="endPlayback";e[e.pr=2]="underflow";})(g || (b.Lc=g={}));b.Ud={Np:"startplay",LH:"midplay",Qv:"endplay",MR:"intrplay",sG:"chgstrm",vM:"playbackaborted",Nda:"renderstrmswitch",yH:"livereport",NM:"repos",Hu:"resumeplay",afa:"statechanged",A5c:"aseReport",gad:"liveerrorrestart",transition:"transition"};b.SO={UD:"network",client:"client",S:"manifest",WNb:"oc_sc"};t=(function(){function e(h,k){this.config=h;this.console=k;this.tE=[new f.qGa("child")];}e.prototype.Sc=function(h){var k,l,m;m=d.__read((this.config.W7b || []).filter(function(p){return p.dc === h.dc;}),1)[0];(null !== (k=this.config.kkc) && void 0 !== k?k:1) && (null !== (l=null === m || void 0 === m?void 0:m.enabled) && void 0 !== l?l:h.enabled)?this.tE.push(h):h.La && h.La();};e.prototype.xsc=function(h){return (0,n.cc)(this.tE,function(k){return k.dc === h.dc;});};e.prototype.Ch=function(h,k){var l,m,p,u,v;m={};p=[];try{for(var q=d.__values(this.tE),r=q.next();!r.done;r=q.next()){u=r.value;try{v=u.Ch({Ii:h,Ds:k});v && (u.Zl?m[u.Zl]=v:m=d.__assign(d.__assign({},m),v));}catch(x){p.push(Error(("").concat(u.dc,"::").concat(x)));}}}catch(x){var w;w={error:x};}finally{try{r && !r.done && (l=q.return) && l.call(q);}finally{if(w)throw w.error;}}p.length && (m["rpt-error"]=c.B3.stringify(new c.B3("Reporting error",p)));b.l && (w=d.__read(n.cAa.stringify(m),2),l=w[0],w[1].YNa && this.console.error("Cycles found in report generation",{payload:l,Ii:h,Ds:k}));return m;};e.prototype.FQa=function(){var h,k,l,m,r,u;l={};m=[];try{for(var p=d.__values(this.tE),q=p.next();!q.done;q=p.next()){r=q.value;try{u=null === (k=r.FQa) || void 0 === k?void 0:k.call(r);u && (r.Zl?l[r.Zl]=u:l=d.__assign(d.__assign({},l),u));}catch(w){m.push(Error(("").concat(r.dc,"::").concat(w)));}}}catch(w){var v;v={error:w};}finally{try{q && !q.done && (h=p.return) && h.call(p);}finally{if(v)throw v.error;}}m.length && (l["rpt-error"]=c.B3.stringify(new c.B3("Reporting error",m)));b.l && (v=d.__read(n.cAa.stringify(l),2),h=v[0],v[1].YNa && this.console.error("Cycles found in PDS report generation",{payload:h}));return l;};return e;})();b.fja=t;},5653:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.mwb=b.Ixb=b.QQa=b.Yfb=void 0;d=a(22970);n=a(48170);c=a(91967);t=(function(){function f(g){this.Gb=g;}Object.defineProperties(f.prototype,{dc:{get:function(){return f.dc;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Zl:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return n.l;},enumerable:!1,configurable:!0}});f.prototype.Ch=function(g){var e,h,k,p;h=g.Ii;k=g.Ds;g=h === c.Lc.pr;if(h === c.Lc.Kj || g || "transition" === k)if(h=this.Gb.LQa()){k={};try{for(var l=d.__values(h.DIc),m=l.next();!m.done;m=l.next()){p=m.value;k[p.mediaType]=this.nBc(p);}}catch(r){var q;q={error:r};}finally{try{m && !m.done && (e=l.return) && e.call(l);}finally{if(q)throw q.error;}}return {branchQueue:(0,b.mwb)(h.iLc,g),playerIterator:k,driftStats:this.Gb.n4a};}};f.prototype.nBc=function(g){return null === g || void 0 === g?void 0:g.$wb();};f.dc="queue-audit";return f;})();b.Yfb=t;b.QQa=function(f,g){var e,h;if(f){e=f.K;h={};f.BA().forEach(function(k){h[k.mediaType]=(0,b.Ixb)(k,g);});return {sId:null === e || void 0 === e?void 0:e.id,cancelled:f.Zc,RM:h};}return f;};b.Ixb=function(f,g){var e,h,k,l;if(f && f.he)return (g=g?f.he.vpc():{},d.__assign(d.__assign(d.__assign({},f.he.ayb()),{unsentRequests:f.he.EN,lastFragmentContentEndPts:null === (e=f.zc) || void 0 === e?void 0:e.ta.G,trackAttributes:null === (h=f.track) || void 0 === h?void 0:h.ss(),bitrate:null === (k=f.zc) || void 0 === k?void 0:k.bitrate,lastAppendedTimestamp:null === (l=f.cCb) || void 0 === l?void 0:l.G}),g));};b.mwb=function(f,g){return f.map(function(e){return (0,b.QQa)(e,g);});};},650:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.agb=void 0;d=a(91967);t=(function(){function n(c,f){this.bd=c;this.Ss=f;}Object.defineProperties(n.prototype,{dc:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});n.prototype.Ch=function(c){var f,g;f=c.Ii;g=c.Ds;c={};if(f === d.Lc.Kj || f === d.Lc.pr || void 0 === f && void 0 === g)(c.numOutstandingRequests=this.Ss.eGb,c.requestOpportunityDelayStats=this.Ss.ZKb,(f=this.bd.I5b) && f.length && (c.activeRequests=JSON.stringify(f)));return c;};return n;})();b.agb=t;},26012:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.JGa=void 0;d=a(91967);t=(function(){function n(){this.Zl=this.dc=n.dc;this.enabled=!0;this.gea=[];this.uLb=0;}n.prototype.v6b=function(c){this.gea.push(c);5 < this.gea.length && this.gea.shift();};n.prototype.w6b=function(){this.uLb++;};n.prototype.Ch=function(c){var f;f=c.Ii;c=c.Ds;if((f === d.Lc.im || f === d.Lc.pr || f === d.Lc.Kj || void 0 === f && void 0 === c) && this.gea.length)return {restarts:this.gea.map(function(g){return {s:g.hSc,d:g.tic,r:g.cKb,atMs:g.fZa.G};}),restartsCompleted:this.uLb};};n.dc="seamlessManager";return n;})();b.JGa=t;},35438:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ghb=void 0;d=a(22970);n=a(90745);c=a(65161);f=a(91967);t=(function(){function g(e){this.la=e;this.Djb=!1;this.Lj=new n.kf();this.Lj.addListener(this.la.events,"streamSelection",this.M0.bind(this));}g.prototype.M0=function(e){this.Djb || (e.mediaType === c.u.X && void 0 === this.TTa?this.TTa=e:e.mediaType === c.u.U && void 0 === this.VTa && (this.VTa=e));};g.prototype.La=function(){this.VTa=this.TTa=void 0;this.Lj.clear();this.Djb=!0;};Object.defineProperties(g.prototype,{dc:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.Ch=function(e){var h,k,l,m,p,q,r;if(e.Ii === f.Lc.im){q=d.__read(this.la.Vx().filter(function(u){var v,w;return !(null === (w=null === (v=u.S) || void 0 === v?void 0:v.Jd) || void 0 === w || !w.Ij);}),1)[0];e=this.VTa || this.TTa;r=null === e || void 0 === e?void 0:e.result;q={histbw:null === (k=null === (h=null === r || void 0 === r?void 0:r.yb) || void 0 === h?void 0:h.kb) || void 0 === k?void 0:k.Fa,histinitbw:null === (m=null === (l=null === r || void 0 === r?void 0:r.yb) || void 0 === l?void 0:l.ay) || void 0 === m?void 0:m.Fa,histdiscbw:null === r || void 0 === r?void 0:r.ou,histage:null === (p=null === r || void 0 === r?void 0:r.yb) || void 0 === p?void 0:p.rX,daiSupported:!!q};h=null === e || void 0 === e?void 0:e.streamList.map(function(u){return void 0 !== u.poa?{vmaf:u.poa,streamIndex:u.Ow,streamId:u.Ra}:void 0;}).filter(function(u){return void 0 !== u;});0 < (null === h || void 0 === h?void 0:h.length) && (q.vmafEstimates=h);this.La();return q;}this.La();};return g;})();b.ghb=t;},37058:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Ehb=void 0;d=a(66164);n=a(90745);c=a(48170);f=a(91967);t=(function(){function g(e){this.mc=e;this.jK=[];this.reset();}Object.defineProperties(g.prototype,{dc:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Zl:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return c.l;},enumerable:!1,configurable:!0}});g.prototype.reset=function(){var e,h;e=this;null === (h=this.ls) || void 0 === h?void 0:h.clear();this.ls=new n.kf();this.ls.on(this.mc,"clockChanged",function(){e.reset();e.m$("initial");});this.ls.on(this.mc,"stopping",function(){e.m$("stopping");});this.ls.on(this.mc.Na,"clockAdjusted",function(){e.m$("clockAdjusted");});this.ls.on(this.mc.Na,"stopStart",function(){e.m$("stopStart");});this.ls.on(this.mc.Na,"speedChanged",function(){e.m$("speedChanged");});};g.prototype.m$=function(e){this.jK.push({reason:e,audit:this.mc.Bq(),time:d.platform.time.ha()});5 < this.jK.length && this.jK.shift();};g.prototype.Ch=function(e){var h;h=e.Ii;e=e.Ds;if(h === f.Lc.im || h === f.Lc.pr || h === f.Lc.Kj || void 0 === h && void 0 === e)return this.jK;};return g;})();b.Ehb=t;},73036:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Fhb=void 0;d=a(48170);n=a(40666);c=a(91967);t=(function(){function f(g){var h;function e(){var k;if(g.R1){k=g.R1.ukc();h.jK.add(k.Bq());}}h=this;this.mc=g;this.jK=new Set();g.on("clockChanged",e);g.on("rootSchedulerReleasing",function(k){k.R1.eya && h.jK.add(k.R1.eya.Bq());});e();}Object.defineProperties(f.prototype,{dc:{get:function(){return "task-verbose-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Zl:{get:function(){return "tsch-verbose";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return d.l;},enumerable:!1,configurable:!0}});f.prototype.Ch=function(g){var e,h,k;if(g.Ii === c.Lc.Kj){null === (h=null === (e=this.mc) || void 0 === e?void 0:e.R1.eya) || void 0 === h?void 0:h.Bq();this.jK.forEach(function(l){k=k?n.BW.reduce(k,l):l;});return k;}};return f;})();b.Fhb=t;},54366:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Qn=void 0;d=a(22970);n=a(48170);c=a(69575);f=a(91967);t=(function(){function g(e,h){this.re=e;this.options=d.__assign({vpb:!0},h);}Object.defineProperties(g.prototype,{Zl:{get:function(){return ("trace-").concat(this.re.source);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{dc:{get:function(){return this.Zl;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return n.l;},enumerable:!1,configurable:!0}});g.prototype.Ch=function(e){var h,k,l;h=e.Ii;k=e.Ds;if(h === f.Lc.Kj || h === f.Lc.pr){e=(0,c.Chc)(this.re.wyc);l=this.re.avc;h === f.Lc.Kj && this.options.vpb && "liveerrorrestart" !== k && this.re.clear();h=e;Object.keys(l).length && (h=d.__spreadArray(d.__spreadArray([],d.__read(e),!1),[l],!1));if(h.length)return h;}};g.prototype.La=function(){var e;null === (e=this.re) || void 0 === e?void 0:e.La();};return g;})();b.Qn=t;},19089:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Zfb=void 0;d=a(22970);n=a(66164);c=a(91176);a(97685);f=a(52571);g=a(61996);e=a(69575);t=(function(){function h(k,l,m){var e19,p;e19=2;for(;e19 !== 12;){switch(e19){case 2:var v37="m";v37+="e";v37+="dia|ase";v37+="j";v37+="s";var H$M="ASEJS_RE";H$M+="QUEST_PACE";H$M+="R";p=this;this.nra=k;this.Bj=l;this.config=m;this.pP=0;this.console=new n.platform.Console(H$M,v37);this.m0a=!1;e19=7;break;case 7:var J9E="Re";J9E+="qu";J9E+="estP";J9E+="acer";var D3m="1";D3m+="S";D3m+="IYb";D3m+="ZrN";D3m+="JCp9";this.mOa=-Infinity;D3m;this.jw=new g.Am({rj:this,source:J9E,omb:function(){var E0W;E0W=2;for(;E0W !== 1;){switch(E0W){case 4:return {numOutstanding:p.pP};break;case 2:return {numOutstanding:p.pP};break;}}},xg:10});this.ZKb=new e.Vg();e19=12;break;}}}var D_M;D_M=2;for(;D_M !== 12;){switch(D_M){case 9:var W6p="e";W6p+="p";W6p+="b";var p3L="checkRequest";p3L+="Opportunity";p3L+="Runner";var k3A="M";k3A+="y";var N0Q="r";N0Q+="emov";N0Q+="e";N0Q+="Reque";N0Q+="st";var n7v="z";n7v+="x";var h7H="addRe";h7H+="que";h7H+="st";var r3p="e";r3p+="l";var A3e="che";A3e+="ckRequestOpp";A3e+="or";A3e+="t";A3e+="unity";h.prototype.Xtc=function(k){var h4l;h4l=2;for(;h4l !== 1;){switch(h4l){case 2:d.__awaiter(this,void 0,void 0,function(){var w1y,l,m;w1y=2;for(;w1y !== 5;){switch(w1y){case 2:m=this;return d.__generator(this,function(){var o84;o84=2;for(;o84 !== 6;){switch(o84){case 4:var V9e="defer";V9e+="redAv";V9e+="ailabilityTa";V9e+="sk";this.wna=this.Bj.Yt(c.ce.mm(c.I.Ca(l)),function(){var H_D;H_D=2;for(;H_D !== 4;){switch(H_D){case 2:var f95="defer";f95+="redAvai";f95+="lab";f95+="ilityDelay";m.el(f95);m.wna=void 0;H_D=5;break;case 7:m.mOa=+Infinity;H_D=9;break;case 5:m.mOa=-Infinity;H_D=4;break;}}},V9e);this.mOa=l;o84=9;break;case 2:l=k.PY;o84=1;break;case 9:return [2];break;case 7:return [2];break;case 1:o84=this.wna && l < this.mOa?5:8;break;case 8:o84=this.wna?7:4;break;case 5:this.wna.La();o84=4;break;}}});break;}}});h4l=1;break;}}};d.__decorate([(0,g.gb)({methodName:A3e,Te:!0,Lm:!0})],h.prototype,r3p,null);d.__decorate([(0,g.gb)({methodName:h7H,Te:!0})],h.prototype,n7v,null);d.__decorate([(0,g.gb)({methodName:N0Q,Te:!0})],h.prototype,k3A,null);d.__decorate([(0,g.gb)({methodName:p3L,Te:!0})],h.prototype,W6p,null);return h;break;case 2:Object.defineProperties(h.prototype,{eGb:{get:function(){var Q5_;Q5_=2;for(;Q5_ !== 1;){switch(Q5_){case 2:return this.pP;break;case 4:return this.pP;break;}}},enumerable:!1,configurable:!0}});h.prototype.el=function(){var H6u,k,l;H6u=2;for(;H6u !== 9;){switch(H6u){case 7:k=this;H6u=8;break;case 3:return Promise.resolve().then(function(){var h_n;h_n=2;for(;h_n !== 5;){switch(h_n){case 2:k.m0a=!1;k.epb(l);h_n=5;break;}}});break;case 1:H6u=!this.m0a?5:9;break;case 5:this.m0a=!0;l=n.platform.time.ha();H6u=3;break;case 2:k=this;H6u=1;break;}}};h.prototype.zx=function(k){var m5f,l,m;m5f=2;for(;m5f !== 3;){switch(m5f){case 4:var q9n="More ";q9n+="than maxAllo";q9n+="wedOutstandingReques";q9n+="ts are outstanding";(0,f.assert)(this.pP <= this.config.V_,q9n);m5f=3;break;case 2:this.jw.ug({mediaType:k.mediaType,contentStartPts:null === (l=k.qa) || void 0 === l?void 0:l.G,contentEndPts:null === (m=k.ta) || void 0 === m?void 0:m.G});this.pP++;m5f=4;break;}}};h.prototype.My=function(k){var l5x,l,m;l5x=2;for(;l5x !== 9;){switch(l5x){case 2:var g9F="pru";g9F+="nedR";g9F+="eque";g9F+="st";var I2x="Received remove requ";I2x+="est when there are no requests outs";I2x+="tand";I2x+="ing";this.jw.ug({mediaType:k.mediaType,contentStartPts:null === (l=k.qa) || void 0 === l?void 0:l.G,contentEndPts:null === (m=k.ta) || void 0 === m?void 0:m.G});this.pP--;(0,f.assert)(0 <= this.pP,I2x);this.el(g9F);l5x=9;break;}}};h.prototype.epb=function(k){var y1A,l,m,p,q;y1A=2;for(;y1A !== 6;){switch(y1A){case 2:(l=this.config.V_,m=n.platform.time.ha() - k,p=0);y1A=1;break;case 9:y1A=!q.Ef?7:8;break;case 8:p++;y1A=5;break;case 1:this.ZKb.push(m);y1A=5;break;case 5:y1A=this.pP < l?4:7;break;case 4:var q3H="n";q3H+="um";q3H+="be";q3H+="r";q=this.nra();!q.Ef && q3H === typeof q.PY && this.Xtc(q);y1A=9;break;case 7:var L_J="requestOpp";L_J+="or";L_J+="tunityRunnerC";L_J+="omplete";this.jw.C7(L_J,{requestsIssued:p,scheduledMs:k,timeSinceScheduled:m},!0);y1A=6;break;}}};D_M=9;break;}}})();b.Zfb=t;},62333:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Bgc=function(k,l,m,p){k={direction:f.jO.Sk,transport:{Yxa:new n.QBa({Lf:k})},ul:l,HRb:d.__spreadArray([],d.__read(g),!1),OXa:m,console:p,Lf:k};return new f.PGa(k);};b.Rfc=function(k,l,m,p,q){k={direction:f.jO.Pga,transport:{Yxa:new n.QBa({Lf:k}),JOa:new c.W9a({Lf:k})},ul:l,HRb:d.__spreadArray([],d.__read(e),!1),ijc:d.__spreadArray([],d.__read(h),!1),OXa:m,Ahc:p || 1E3,console:q,Lf:k};return new f.PGa(k);};d=a(22970);n=a(43522);c=a(96309);f=a(24606);g=("bufferScore clientTimestamp playPositionMs ccspSlowStart ccspCongestionAvoidance ccspRecovery hybridMode hybridPaceRate hybridCatchUp hybridRequestLogging hybridMaxsegHint byteRangeHint blackBoxReason").split(" ");e=["blackBoxReason"];h=("serverTimeMs encoderTag encoderRegion liveEventStart liveEventEnd maxBitrate prefetchStart prefetchDuration postplayStart postplayDuration").split(" ");},9842:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Aha=b.Sg=b.qg=void 0;b.qg={tBa:"fragment",Dr:"request_response",sJ:"title",W5:"session"};b.Sg={Sk:"upstream",Xu:"downstream",Pga:"both"};b.Aha={b$b:{Nh:"bs",vd:b.qg.Dr,direction:b.Sg.Sk,validate:function(a){return 1 <= a && 5 >= a;}},hcc:{Nh:"tm",vd:b.qg.Dr,direction:b.Sg.Sk,encode:function(a){return String(a);}},xIc:{Nh:"play_ms",vd:b.qg.Dr,direction:b.Sg.Sk},Mac:{Nh:"cpr_ss",vd:b.qg.Dr,direction:b.Sg.Sk},Kac:{Nh:"cpr_ca",vd:b.qg.Dr,direction:b.Sg.Sk},Lac:{Nh:"cpr_rec",vd:b.qg.Dr,direction:b.Sg.Sk},mvc:{Nh:"hybrid",vd:b.qg.Dr,direction:b.Sg.Sk},nvc:{Nh:"cspr",vd:b.qg.Dr,direction:b.Sg.Sk},kvc:{Nh:"cu",vd:b.qg.Dr,direction:b.Sg.Sk},ovc:{Nh:"cldl",vd:b.qg.Dr,direction:b.Sg.Sk},lvc:{Nh:"h_ms",vd:b.qg.Dr,direction:b.Sg.Sk},x$b:{Nh:"br",vd:b.qg.Dr,direction:b.Sg.Sk,encode:function(a){return ("").concat(a.start,"+").concat(a.size);}},h8:{Nh:"bb_reason",vd:b.qg.Dr,direction:b.Sg.Sk},sessionId:{Nh:"s_xid",vd:b.qg.W5,direction:b.Sg.Sk},KY:{Nh:"dl",vd:b.qg.W5,direction:b.Sg.Sk,encode:function(a){return a?1:0;}},bEc:{Nh:"limit_rate",vd:b.qg.W5,direction:b.Sg.Sk},SNc:{Nh:"r_pad",vd:b.qg.W5,direction:b.Sg.Sk,encode:function(a){return a?1:0;}},Qf:{Nh:"time",vd:b.qg.Dr,direction:b.Sg.Xu,decode:function(a){return Number(a);},validate:function(a){return !isNaN(a);}},co:{Nh:"encoder-tag",vd:b.qg.tBa,direction:b.Sg.Xu},bo:{Nh:"encoder-region",vd:b.qg.tBa,direction:b.Sg.Xu},Rra:{Nh:"live-msg-start",vd:b.qg.sJ,direction:b.Sg.Xu,decode:function(a){var d;a=String(a);d=new Date(a).getTime();return {time:a,Qp:isNaN(d)?void 0:d};}},Qra:{Nh:"live-msg-end",vd:b.qg.sJ,direction:b.Sg.Xu,decode:function(a){var d;a=String(a);d=new Date(a).getTime();return {time:a,Qp:isNaN(d)?void 0:d};}},maxBitrate:{Nh:"maxBitrate",vd:b.qg.sJ,direction:b.Sg.Xu,decode:function(a){return Number(a);},validate:function(a){return !isNaN(a) && 0 <= a;}},qT:{Nh:"live-msg-prefetch-start",vd:b.qg.sJ,direction:b.Sg.Xu,decode:function(a){var d;a=String(a);d=new Date(a).getTime();return {time:a,Qp:isNaN(d)?void 0:d};}},oT:{Nh:"live-msg-prefetch-dur",vd:b.qg.sJ,direction:b.Sg.Xu,decode:function(a){return Number(a);},validate:function(a){return !isNaN(a);}},lT:{Nh:"live-msg-pp-start",vd:b.qg.sJ,direction:b.Sg.Xu,decode:function(a){var d;a=String(a);d=new Date(a).getTime();return {time:a,Qp:isNaN(d)?void 0:d};}},kT:{Nh:"live-msg-pp-dur",vd:b.qg.sJ,direction:b.Sg.Xu,decode:function(a){return Number(a);},validate:function(a){return !isNaN(a);}}};},24606:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.PGa=b.jO=void 0;d=a(22970);n=a(61996);c=a(54366);f=a(9842);b.jO={Sk:"upstream",Xu:"downstream",Pga:"both"};t=(function(){function g(e){this.hCb={};this.Sda=!1;this.config=e;this.nXc();e.console && (this.re=new n.Am({xg:10,rj:this,source:"SideChannelCoordinator",console:e.console}));}g.prototype.Sc=function(e){!this.Sda && this.re && (e.Sc(new c.Qn(this.re)),this.Sda=!0);};g.prototype.nrb=function(e){var h,k,l,q,r,u,v;if(this.config.transport.Yxa){k={};e=d.__assign(d.__assign({},this.config.ul),e);l=this.config.HRb || [];l=d.__spreadArray(d.__spreadArray([],d.__read(["sessionId","dlreportEnabled","nginxRateLimit","responsePadding"]),!1),d.__read(l),!1);try{for(var m=d.__values(l),p=m.next();!p.done;p=m.next()){q=p.value;r=f.Aha[q];if(r && r.direction !== f.Sg.Xu){u=e[q];if(void 0 !== u){v=r.encode?r.encode(u):u;k[r.Nh]=v;}}}}catch(x){var w;w={error:x};}finally{try{p && !p.done && (h=m.return) && h.call(m);}finally{if(w)throw w.error;}}return this.config.transport.Yxa.encode(k);}};g.prototype.mJb=function(e,h){var k,l,m,p,q,r,u,v,w,x,y,A,z,B,C,D,E,G,J,L,K,M;void 0 === h && (h={});if(this.config.transport.JOa && (!h.yxa || this.nRc(h.mediaType || "default"))){D=this.config.transport.JOa.decode(e);if(D){e={};E=this.config.ijc || Object.keys(f.Aha);try{for(var H=d.__values(E),F=H.next();!F.done;F=H.next()){G=F.value;J=f.Aha[G];if(J && J.direction !== f.Sg.Sk){L=D[J.Nh];if(void 0 !== L){K=J.decode?J.decode(L):L;if(!J.validate || J.validate(K)){M=J.vd;if(M !== f.qg.W5)switch(M){case f.qg.tBa:e.Ma || (e.Ma={});e.Ma[G]=K;break;case f.qg.Dr:e.response || (e.response={});e.response[G]=K;break;case f.qg.sJ:(e.title || (e.title={}),e.title[G]=K);}}}}}}catch(I){var P;P={error:I};}finally{try{F && !F.done && (k=H.return) && k.call(H);}finally{if(P)throw P.error;}}h.mediaType && (this.hCb[h.mediaType]=Date.now());this.re && (P=this.re,k=P.C7,h.url?(H=h.url,F=H.indexOf("?"),H=-1 !== F?H.slice(0,F):H):H=void 0,k.call(P,"processDownstreamMessage",{parsed:!0,url:H,Lf:this.config.Lf,time:Date.now(),co:null === (l=e.Ma) || void 0 === l?void 0:l.co,bo:null === (m=e.Ma) || void 0 === m?void 0:m.bo,maxBitrate:null === (p=e.title) || void 0 === p?void 0:p.maxBitrate,Qf:null === (q=e.response) || void 0 === q?void 0:q.Qf,Rra:null === (u=null === (r=e.title) || void 0 === r?void 0:r.Rra) || void 0 === u?void 0:u.time,Qra:null === (w=null === (v=e.title) || void 0 === v?void 0:v.Qra) || void 0 === w?void 0:w.time,qT:null === (y=null === (x=e.title) || void 0 === x?void 0:x.qT) || void 0 === y?void 0:y.time,oT:null === (A=e.title) || void 0 === A?void 0:A.oT,lT:null === (B=null === (z=e.title) || void 0 === z?void 0:z.lT) || void 0 === B?void 0:B.time,kT:null === (C=e.title) || void 0 === C?void 0:C.kT}));this.config.OXa && this.config.OXa(e,h);}}};g.prototype.nRc=function(e){var h;h=this.config.Ahc || 0;if(0 === h)return !0;e=this.hCb[e] || 0;return Date.now() - e >= h;};g.prototype.nXc=function(){if((this.config.direction === b.jO.Sk || this.config.direction === b.jO.Pga) && !this.config.transport.Yxa)throw Error("Upstream transport required for upstream or both directions");if((this.config.direction === b.jO.Xu || this.config.direction === b.jO.Pga) && !this.config.transport.JOa)throw Error("Downstream transport required for downstream or both directions");};return g;})();b.PGa=t;},96652:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.eLc=function(a,d){return Math.max(1,Math.min(5,Math.floor(a / (1E3 * d.Abd / d.rad)) + 1));};b.mmc=function(a){if(a){if("HYBRID" === a.Ls)return {mvc:a.LA.Ezb,nvc:a.LA.sn,kvc:a.LA.Cma,ovc:a.LA.Ova,lvc:a.LA.pEb};if("CCSP" === a.Ls)return {Mac:a.AE,Kac:a.ZC,Lac:a.rE};}};},96309:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.W9a=void 0;d=a(22970);n=a(91176);t=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.encode=function(){throw Error("HTTPHeaderTransport does not support encoding (downstream only)");};f.prototype.decode=function(g){var e,h;if(g && (g=null === (e=(0,n.cc)(g.split(";"),function(k){return 0 === k.indexOf("sc=");})) || void 0 === e?void 0:e.slice(3))){try{h=this.Ima.decrypt(g,!0);}catch(k){return;}try{return JSON.parse(h);}catch(k){}}};return f;})(a(66026).QGa);b.W9a=t;},43522:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.QBa=void 0;d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.encode=function(f){f=this.BPc(f);return this.Ima.encrypt(f);};c.prototype.decode=function(){throw Error("HTTPQueryTransport does not support decoding (upstream only)");};c.prototype.BPc=function(f){return Object.keys(f).map(function(g){return encodeURIComponent(g) + "=" + encodeURIComponent(JSON.stringify(f[g]));}).join("&");};return c;})(a(66026).QGa);b.QBa=t;},66026:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.QGa=void 0;d=a(48912);b.QGa=(function(){return function(n){this.config=n;this.Ima=new d.Sja(n.Lf);};})();},14242:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.ehb=void 0;d=a(91176);n=a(7559);c=a(65161);t=(function(){function f(g,e){this.En=g;this.console=e;this.Ysa=Infinity;this.Zpb=this.M_a=0;this.NVc=!1;}f.prototype.Xmc=function(g,e,h,k,l){var m;if(this.En){m=g.Oa;if(m){if(h === c.u.U)(h=m.VG(Math.ceil(this.En * g.Ea.wB),void 0,!0),m=g.hu(h),g=m.Wb.rf(g.Ea),m.yh({start:0,end:this.En - h * g}),this.Ysa=this.En);else {void 0 !== k.mOb?(e=k.mOb,h=e * g.Ea.G):(h=(0,n.yxb)(k,l) + Math.ceil(k.R8b * g.Ea.wB),d.I.Ca(h).rf(g.Ea),h=e + h,e=Math.ceil(h / g.Ea.wB));h=m.VG(h,void 0,!0);for(l=k=0;l < h;++l)(m=g.hu(l),k+=m.Wb.rf(g.Ea));k=e - k;m=g.hu(h);m.yh({end:k});this.Ysa=e;}m.jWa();return m;}}};f.prototype.Buc=function(){return this.Zpb >= this.Ysa;};f.prototype.Tvc=function(g,e){this.M_a+=this.yA(g,e);};f.prototype.wlc=function(g,e,h){g.M_a=this.yA(e,h);};f.prototype.yA=function(g,e){return g.Wb.rf(e.Ea);};f.prototype.hA=function(){if(!this.Buc())return !1;if(this.NVc)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",("").concat(this.Zpb," >= ").concat(this.Ysa));return !0;};return f;})();b.ehb=t;},2983:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.H7b=function(c,f,g,e,h){var k,l;k=!0;e.forEach(function(m){var p;if(k && c === m.profile){p=m.ranges;k=void 0 === p?f >= m.min && f <= m.max:p.some(function(q){return f >= q.min && f <= q.max;});!k && m.disallowed && m.disallowed.some(function(q){if(q.stream.bitrate === f)return (l=q.disallowedBy,g.g2(d.SO.client,p?p[0].max:m.max,p?p[0].min:m.min),!0);});}});n && h.trace("applyFilters: profile:" + c + ", bitrate:" + f + ", inRange:" + k + ", disallowed by:" + l);return {inRange:k,Mna:l};};d=a(91967);n=!1;},72793:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.y5a=void 0;d=a(66164);n=a(65161);c=a(7559);t=(function(){function f(g){this.config=g;}f.prototype.Bh=function(g,e,h,k,l){var m,p;m=this.config;p=d.platform.SZ()[n.u.X];return g.filter(function(q){var r,u;r=(0,c.Qoc)(q,m);u=q.bitrate * r.k0 / 8 > p;return (l === n.Ub.Cl?q.bitrate >= r.ty && q.bitrate <= r.yu:q.bitrate >= r.MCc && q.bitrate <= r.BBc) && !u;});};return f;})();b.y5a=t;},86450:function(t,b,a){var n;function d(c,f){f=Math.max(c,f);return isNaN(f)?c || -Infinity:f;}Object.defineProperties(b,{__esModule:{value:!0}});b.z5a=void 0;n=a(65161);t=(function(){function c(f){this.config=f;this.f_a=0;this.state=n.Sd.Ct;this.aFb=d(f.zS,f.yS);this.NWa=d(f.MH,f.xS);}c.prototype.Bh=function(f,g){var e;e=this;if(g !== this.state){this.state=g;if(g === n.Sd.Sf || g === n.Sd.Cja)return f;g === n.Sd.xm && this.BLc();}return f.filter(function(h){return !(void 0 !== h.Qb && h.Qb < e.NWa || (void 0 === h.Qb || 0 > e.NWa) && h.bitrate < e.aFb);});};c.prototype.BLc=function(){++this.f_a;this.NWa=d(this.config.MH,this.config.xS - this.config.JCc * this.f_a);this.aFb=this.config.zS || -Infinity;};return c;})();b.z5a=t;},84909:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.J5a=void 0;d=a(91176);t=(function(){function n(c){this.config=c;}n.prototype.gRc=function(c){return c % 100 + 1 <= this.config.$ca;};n.prototype.Bh=function(c){var f,g,e,h,k,l,m,p,q,r,u;m=Number(null === (f=c[0]) || void 0 === f?void 0:f.R);if(!(this.config.eZ && this.gRc(m) && 0 < this.config.N1.length))return c;f=c.length;p=null !== (g=c[f - 1].QT) && void 0 !== g?g:0;if(g=(0,d.cc)(this.config.N1,function(v){return v.Ucd >= p && v.nLb <= p;})){for(m=0;m < f;m++){q=c[Math.max(m - 1,0)];r=c[m];if(!((null !== (e=r.QT) && void 0 !== e?e:0) < g.nLb || (null !== (h=q.QT) && void 0 !== h?h:0) < g.nLb)){u=null !== (k=r.Qb) && void 0 !== k?k:Infinity;q=null !== (l=q.Qb) && void 0 !== l?l:Infinity;if(!(q < g.pbd || q < g.obd && r.bitrate < g.maxBitrate || !u && r.bitrate < g.Kad))break;}}return c.slice(0,m);}return c;};return n;})();b.J5a=t;},58844:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.K5a=void 0;t=(function(){function a(d){this.config=d;}a.prototype.Bh=function(d){var n;n=this.config;return d.filter(function(c){return !(void 0 !== c.Qb && (c.Qb < n.MH || c.Qb > n.VDb) || (void 0 === c.Qb || 0 >= n.MH) && c.bitrate < n.zS || (void 0 === c.Qb || Infinity === n.VDb) && c.bitrate > n.Tba);});};return a;})();b.K5a=t;},72351:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Q8=function(f,g){g && (null === f || void 0 === f?0:f.Izb) && (g=new c.Ez(g).or(c.JO));return new c.Ez(c.yza).and(g || c.JO).or(c.lDa,d.f6.XQ).or(c.mDa,d.f6.XQ);};b.S8=function(f,g,e){e && g.Izb && (e=new c.Ez(e).or(c.JO));return g.IPa && Object.keys(g.IPa).length?new c.Ez(new n.d9a(g,f)):new c.Ez(c.yza).and(new c.L5a()).and(new c.K5a(g)).and(new c.z5a(g)).and(new c.P5a(g)).and(new c.Mab(f,g)).and(g.eZ?new c.J5a(g):c.JO).and(e || c.JO).or(c.lDa,d.f6.XQ).or(c.mDa,d.f6.XQ);};d=a(12986);n=a(84132);c=a(63576);},96077:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.L5a=void 0;d=a(65161);t=(function(){function n(){}n.prototype.Bh=function(c,f){return f !== d.Sd.cq?c.filter(function(g){return g.Vv;}):c;};return n;})();b.L5a=t;},48867:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.p6=void 0;d=a(66164);n=a(48170);c=a(2983);t=(function(){function f(g){this.console=g;this.csb=[];this.Xnb={};this.Fsb=!1;}f.prototype.Kwa=function(g,e){this.csb=g;void 0 !== e?this.Xnb[e]=g:this.Fsb || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.Fsb=!0);};f.prototype.Bh=function(g){var e,h,k,l;e=this;if(0 === g.length)return g;k=g[0].J;if(void 0 === k)return (this.console.error("StreamFilters: Stream has undefined viewable id"),g);try{null === (h=d.platform.aD) || void 0 === h?void 0:h.call(d.platform,k);}catch(m){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + m),g);}l=this.Xnb[k] || this.csb;n.l && this.console.trace(("VideoBitrateRangesFilter: filtering ").concat(g.length," streams with ").concat(JSON.stringify(l)));g=g.filter(function(m){return (0,c.H7b)(m.profile,m.bitrate,m.track,l,e.console).inRange;});n.l && this.console.trace(("VideoBitrateRangesFilter: ... ").concat(g.length," streams in range"));return g;};return f;})();b.p6=t;},19092:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.P5a=void 0;t=(function(){function a(d){var n;n=this;d.u2 && d.u2.enabled && d.u2.profiles && d.u2.profiles.length && "keepLowest" === d.u2.action && (this.SBb={},d.u2.profiles.forEach(function(c){return n.SBb[c]=!0;}));}a.prototype.Bh=function(d){var n,c;n={};c=this.SBb;return void 0 === c?d:d.filter(function(f){return !c[f.profile] || (n[f.profile]?!1:n[f.profile]=!0);});};return a;})();b.P5a=t;},13904:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.lDa=b.yza=void 0;d=a(91176);b.yza={Bh:function(n){return n.filter(function(c){return c.pp && !c.lo;});}};b.lDa={Bh:function(n){return (n=(0,d.cc)(n,function(c){return !!c.pp && !c.lo;}))?[n]:[];}};},84132:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.d9a=void 0;t=(function(){function a(d,n){this.config=d;this.console=n;}a.prototype.Bh=function(d){var n;if(0 === d.length)return d;n=this.config.IPa[d[0].R];return void 0 !== n?(!1,d=d.filter(function(c){return ("").concat(c.id) === ("").concat(n);}),0 === d.length && !1,d):d;};return a;})();b.d9a=t;},63576:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(62964),b);t.__exportStar(a(96077),b);t.__exportStar(a(48867),b);t.__exportStar(a(19092),b);t.__exportStar(a(58844),b);t.__exportStar(a(86450),b);t.__exportStar(a(84909),b);t.__exportStar(a(13904),b);t.__exportStar(a(25320),b);t.__exportStar(a(12986),b);t.__exportStar(a(86543),b);t.__exportStar(a(72351),b);t.__exportStar(a(7520),b);t.__exportStar(a(77154),b);t.__exportStar(a(72793),b);},77154:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Mab=void 0;d=a(8149);t=(function(){function n(c,f){this.console=c;this.config=f;}n.prototype.Bh=function(c){var f,g;if(!this.config.ZWc || 0 === c.length)return c;if((0,d.po)(c[0].track))f=c[0].track.dS;if(void 0 === f || 0 === f)return c;g=c.filter(function(e){return e.bitrate > f?!1:!0;});return 0 < g.length?g:[c[0]];};return n;})();b.Mab=t;},86543:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mDa=void 0;b.mDa={Bh:function(a){return a.length?[a[0]]:[];}};},7520:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.y5=void 0;d=a(91176);n=a(48170);t=(function(){function c(f,g){this.console=f;this.config=g;this.P3a=!1;}c.prototype.Bh=function(f,g,e,h){void 0 === e && (e=d.I.ia);void 0 === h && (h=!1);n.l && this.console.trace("Filtering streams for fastplay",{P3a:this.P3a,Ga:e.G,F$c:h});if(this.P3a || e.G >= this.config.HBc || !1 === h){g=f.filter(this.ljc);if(g.length)return g;n.l && this.console.trace("No drm streams to return");}g=f.filter(this.dcc);if(g.length)return g;n.l && this.console.trace("No clear streams to return");return f;};c.prototype.ljc=function(f){return f.yk;};c.prototype.dcc=function(f){return !f.yk;};return c;})();b.y5=t;},25320:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JO=void 0;b.JO={Bh:function(a){return a;}};},12986:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Ez=b.f6=void 0;d=a(25320);(function(c){c[c.gE=0]="primary";c[c.XQ=1]="fallback";})(n || (b.f6=n={}));t=(function(){function c(f,g){var e,h;void 0 === g && (g=!1);h=this;this.Ama=g;this.filters=(e={},e[n.gE]=[],e[n.XQ]=[],e);Array.isArray(f)?f.forEach(function(k){return h.and(k,n.gE);}):this.and(f);}c.prototype.and=function(f,g){void 0 === g && (g=n.gE);f !== d.JO && this.filters[g].push({filter:f,hqb:!0});return this;};c.prototype.or=function(f,g){void 0 === g && (g=n.gE);this.filters[g].push({filter:f,hqb:!1});return this;};c.prototype.filter=function(f){var g;g=this;[n.gE,n.XQ].forEach(function(e){g.filters[e]=g.filters[e].filter(function(h){return f(e,h.filter);});});};c.prototype.Bh=function(f,g,e,h){var k;k=this;return [n.gE,n.XQ].reduce(function(l,m){return k.filters[m].reduce(function(p,q){q.hqb?p=q.filter.Bh(p,g,e,h):0 === p.length && (p=q.filter.Bh(f,g,e,h));return p;},l);},f);};return c;})();b.Ez=t;},62964:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},89613:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.nhb=b.f1b=void 0;d=a(22970);t=a(66164);n=a(52571);c=a(95591);a=a(82149);f=new t.platform.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);g=!0;}catch(h){g=!1;}e=(function(h){function k(l,m){m=h.call(this,l.ek,m) || this;m.uU=l;return m;}d.__extends(k,h);Object.defineProperties(k.prototype,{ma:{get:function(){return this.uU.ZNb(this.ti);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{offset:{get:function(){return this.uU.Kf(this.ti);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Tsa:{get:function(){return this.uU.q0 && this.uU.q0[this.ti];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Km:{get:function(){return this.uU.Joc(this.ti);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Qb:{get:function(){return this.uU.PE && this.uU.PE[this.ti];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{GLa:{get:function(){return 8 * this.ma / (1E3 * this.EK / this.O);},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.ub,contentEndTicks:this.Lb,durationTicks:this.EK,timescale:this.O,startPts:this.qa.G,endPts:this.ta.G,duration:this.Wb.G,additionalSAPs:this.Km};};return k;})(a.Vhb);b.f1b=e;t=(function(){function h(k,l,m,p,q,r,u){this.C0=128;this.Je=l;this.offset=m.offset;this.sizes=m.sizes;this.Ow=k;this.SX=this.n8=this.Mka=this.Ur=this.SJa=void 0;this.S3b=p;this.eIa=q && q.Kf;this.bKa=r;this.BJ=Math.min(this.Je.length,this.sizes.length);k=this.X$b();this.L3b=k.maxBitrate;this.M3b=k.xg;this.ek.Lz.length !== this.sizes.length && f.trace("Mis-matched stream duration (" + this.ek.Lz.length + "," + this.sizes.length + ") for movie id " + u);this.ek.ula && !this.eIa && f.error("Mis-matched additional SAPs information for movie id " + u);}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.Je.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{length:{get:function(){return this.BJ;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ou:{get:function(){return this.Je.Ou;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{oPa:{get:function(){return this.Je.oPa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Hb:{get:function(){return this.Je.Hb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Lg:{get:function(){return this.Je.Lg;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{jb:{get:function(){return this.Je.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Xb:{get:function(){return this.Je.Xb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ry:{get:function(){return this.L3b;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{xg:{get:function(){return this.M3b;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ea:{get:function(){return this.Je.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{O:{get:function(){return this.Je.O;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ru:{get:function(){return this.Ur || this.rac();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{q0:{get:function(){return this.S3b;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{MKa:{get:function(){return this.eIa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{PE:{get:function(){return this.bKa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ek:{get:function(){return this.Je;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{PB:{get:function(){return this.SJa || this.hna();},enumerable:!1,configurable:!0}});h.prototype.ZNb=function(k){if(this.sizes)return this.sizes[k];f.error("sizesByIndex _sizes is undefined");return -1;};h.prototype.ht=function(k){return this.Je.ht(k);};h.prototype.koa=function(k){return this.Je.ht(k) + this.Je.fg(k);};h.prototype.Kf=function(k){var l,m,p;if(this.n8 !== k || void 0 === this.SX){if(0 === k)return this.offset;if(this.n8 === k - 1 && void 0 !== this.SX)(this.SX+=this.sizes[this.n8],++this.n8);else {l=this.Mka || this.eac();m=Math.floor(k / this.C0);p=m * this.C0;for(l=l[m];p < k;++p)l+=this.sizes[p];this.n8=k;this.SX=l;}}return this.SX;};h.prototype.fg=function(k){return this.Je.fg(k);};h.prototype.get=function(k){return new e(this,k);};h.prototype.Joc=function(k){var l,m,p,q,r;(0,n.assert)(0 <= k);l=this.ek.ula;m=this.ek.pmb;p=this.eIa;if(!p || !l || !m || k >= l.length)return [];q=[];r=k === l.length - 1?m.length:l[k + 1];for(l=l[k];l < r;++l)q.push({rl:m[l],od:this.ht(k) + this.Ea.hh(m[l]).G,offset:p[l]});return q;};h.prototype.VG=function(k,l,m){return this.Je.VG(k,l,m);};h.prototype.SPa=function(k,l,m){return this.Je.SPa(k,l,m);};h.prototype.bna=function(k,l){return this.Je.bna(k,l);};h.prototype.vma=function(k,l,m,p,q){var r,u,v,w,x,y,A,z,B;r=!0;u=0;v=this.Je.Lz;w=this.sizes;k=Math.floor(k * this.O / 1E3);x=Math.floor(m * this.O / 1E3);y=0;A=0;z=0;if(this.Je.s3a && this.Je.r3a)for(u=this.Je.s3a;u <= this.Je.r3a;++u)(y+=v[u],A+=w[u]);if(A > l)r=!1;else for(;u < this.length && (!q || u < q);){B=w[u];m=v[u];if(A + B > l){for(;1 < u - z && A + B > l && (y - v[z] >= x || A - w[z] > p);)(y-=v[z],A-=w[z],++z);if(y < k || A + B > l){r=!1;this.Je.s3a=z;this.Je.r3a=u;break;}}y+=m;A+=B;++u;}return r;};h.prototype.subarray=function(k,l){(0,n.assert)(void 0 === k || 0 <= k && k < this.length);(0,n.assert)(void 0 === l || l > k && l <= this.length);return new h(this.Ow,this.Je.subarray(k,l),{offset:this.Kf(k),sizes:this.sizes.subarray(k,l)},this.q0 && this.q0.subarray(k,l),this.MKa && ({Kf:this.MKa}),this.bKa && this.bKa.subarray(k,l));};h.prototype.forEach=function(k){for(var l=0;l < this.length;++l)k(this.get(l),l,this);};h.prototype.map=function(k){for(var l=[],m=0;m < this.length;++m)l.push(k(this.get(m),m,this));return l;};h.prototype.reduce=function(k,l){for(var m=0;m < this.length;++m)l=k(l,this.get(m),m,this);return l;};h.prototype.toJSON=function(){return {length:this.length};};h.prototype.dump=function(){var l;f.trace("StreamFragments: " + this.length);for(var k=0;k < this.length;++k){l=this.get(k);f.trace(("StreamFragments: ").concat(k,": [").concat(l.qa.G,"-").concat(l.ta.G,"]") + (" @ ").concat(l.offset,", ").concat(l.ma," bytes"));}};h.prototype.X$b=function(){var k,l,m,p,q,r,w;k=0;l=0;m=this.Je.ZDb;p=this.Je.$Db;q=this.Je.Lz;r=this.sizes;if(void 0 === m || m >= this.length || void 0 === p || p >= this.length){for(var u=0,v=this.length;u < v;++u){w=r[u];w > l && (l=w,p=u);w/=q[u];w > k && (k=w,m=u);}void 0 === this.Je.ZDb && (this.Je.ZDb=m);void 0 === this.Je.$Db && (this.Je.$Db=p);}else (k=r[m] / q[m],l=r[p]);return {maxBitrate:Math.floor(k * this.O / 125),xg:l};};h.prototype.rac=function(){for(var k=0,l=0;l < this.length;++l)k+=this.sizes[l];return this.Ur=k;};h.prototype.hna=function(){return this.SJa=new c.RGa(this.Je.Lz,this.sizes,this.Je.O);};h.prototype.eac=function(){if(!this.Mka){for(var k=g?new Float64Array(Math.ceil(this.length / this.C0)):Array(Math.ceil(this.length / this.C0)),l=this.offset,m=0;m < k.length;++m){k[m]=l;for(var p=0;p < this.C0;++p)l+=this.sizes[m * this.C0 + p];}this.Mka=k;}return this.Mka;};return h;})();b.nhb=t;(0,a.SL)(t.prototype.ht);(0,a.SL)(t.prototype.koa);t.prototype.htb=(0,a.SL)(t.prototype.fg);(0,a.SL)(t.prototype.Kf);t.prototype.PRc=(0,a.SL)(t.prototype.ZNb);(0,a.SL)(t.prototype.get);},19595:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.g6=void 0;d=a(91176);t=(function(){function n(c){this.FC=c;this.tvb=new d.Ko();}Object.defineProperties(n.prototype,{Dra:{get:function(){var c;return this.nEc || (null === (c=this.parent) || void 0 === c?void 0:c.Dra);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{kl:{get:function(){var c;return this.ud || (null === (c=this.parent) || void 0 === c?void 0:c.kl);},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{uCb:{get:function(){var c,f;return null !== (c=this.aTc) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.uCb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{lVa:{get:function(){var c,f;return null !== (c=this.bTc) && void 0 !== c?c:null === (f=this.parent) || void 0 === f?void 0:f.lVa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{track:{get:function(){return this.nPc;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{zSb:{get:function(){return this.tvb.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{parent:{get:function(){var c;return null === (c=this.FC) || void 0 === c?void 0:c.call(this);},enumerable:!1,configurable:!0}});n.prototype.La=function(){this.FC=void 0;};n.prototype.tQc=function(c){this.nEc=c;};n.prototype.gU=function(c){this.ud=c;this.tvb.resolve();};n.prototype.qNb=function(c){this.aTc=c;};n.prototype.rNb=function(c){this.bTc=c;};n.prototype.m1a=function(c){this.nPc=c;};return n;})();b.g6=t;},32966:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.hA=void 0;d=a(65161);a(13550);b.hA=(function(){var a7V;a7V=2;for(;a7V !== 1;){switch(a7V){case 2:return {n2b:function(n,c,f,g,e,h){var l1C=r2gzX;var K10,l,m,p,q,r,u,v;K10=2;for(;K10 !== 54;){switch(K10){case 3:var S7y="m";S7y+="a";S7y+="xs";S7y+="i";S7y+="ze";return {complete:!0,reason:S7y};break;case 27:e=g.Oa.VG(n.Mk);K10=26;break;case 8:var j_G="low";j_G+="T";j_G+="hroughp";j_G+="u";j_G+="t";return {complete:!1,Iba:!0,reason:j_G};break;case 41:v=m.offset;K10=40;break;case 18:K10=g.Ba?17:16;break;case 7:l1C.t$V(9);var n9y=l1C.l2Z(1,1,2);p=h.Ap * (m?h.Cda:n9y);!g.Ba && h.Tkc && g.yb && g.yb.Jh && g.yb.Jh.Fa > h.csa && (p+=h.rla + g.yb.Jh.Fa * h.xua);K10=14;break;case 2:(l=n.fl - n.Ed,m=c === d.Sd.xm);c=g.kb || 0;(p=0,q=Math.min(h.FH,h.bga && !m?h.OD:h.Zba));K10=4;break;case 17:var H27="l";H27+="owLive";H27+="Buff";H27+="er";var w6h="liveBuff";w6h+="er";w6h+="Lev";w6h+="el";return c > m && l > p?{complete:!0,reason:w6h}:{complete:!1,QM:p,kb:c,bitrate:m,reason:H27};break;case 9:K10=c <= h.dsa && (0 < c || !h.soa)?8:7;break;case 42:return (p=Math.min(q,l + v),{complete:!1,QM:p,progress:k(p)});break;case 15:return (c < m && (p=Math.min(q,Math.max(h.x1 * (m / c - 1),p))),{complete:!1,QM:p,progress:0});break;case 16:K10=!g.Oa || !g.Oa.length?15:27;break;case 25:var I$$="o";I$$+="ut";I$$+="ofrang";I$$+="e";return {complete:!0,reason:I$$};break;case 38:var P0w="1SIY";P0w+="b";P0w+="Z";P0w+="rN";P0w+="JCp9";0 < c && c < m && (p=Math.min(q,Math.max(h.x1 * (m / c - 1),p)));P0w;return {complete:!1,QM:p,progress:k(p)};break;case 4:K10=l >= q?3:9;break;case 14:e && !g.Ba && (p+=e * h.sla);p=q?Math.min(q,p):p;K10=12;break;case 39:var M4l="no";M4l+="r";M4l+="eb";M4l+="uff";return {complete:!0,reason:M4l};break;case 29:K10=h > e?28:39;break;case 10:r=n.Oa.reduce(function(w,x){var y74;y74=2;for(;y74 !== 1;){switch(y74){case 2:return w + (x.Pb.G > n.Ed?x.ma:0);break;}}},0);f=Math.max(f,1);K10=19;break;case 19:m=f * g.bitrate;K10=18;break;case 24:u=g.Oa.Kf(e);K10=23;break;case 35:p=g.Oa.fg(e);h=Math.min(e + Math.floor(h.x1 / p),g.Oa.length - 1);v=g.Oa.Kf(h);l1C.t$V(10);var b3M=l1C.g4d(4,1,15,18);p=b3M * u * f / c - n.Ed;m=void 0;K10=30;break;case 12:K10=!c?11:10;break;case 43:K10=0 < v?42:41;break;case 28:m=g.Oa.get(h);l1C.t$V(8);var E5e=l1C.l2Z(6,2);v=E5e * v * f / c - m.qa.G - p;K10=43;break;case 21:var j5p="h";j5p+="ig";j5p+="ht";j5p+="p";return {complete:!0,reason:j5p};break;case 11:var U9E="no";U9E+="th";U9E+="ro";U9E+="ughput";return {complete:!1,QM:p,reason:U9E};break;case 40:--h;K10=29;break;case 22:K10=c > m * h.tZ?21:35;break;case 30:--h;K10=29;break;case 23:K10=l >= p?22:38;break;case 26:K10=-1 === e?25:24;break;}}function k(w){var V2J;V2J=2;for(;V2J !== 7;){switch(V2J){case 3:return 0;break;case 4:V2J=void 0 === w?3:9;break;case 5:w=g.Oa.SPa(n.Ed + w,void 0,!0);V2J=4;break;case 9:w=g.Oa.get(w.index);return (r - n.xw) / (r + (w.offset + w.ma) - u);break;case 1:return 0;break;case 2:V2J=!g.Oa?1:5;break;}}}}};break;}}})().n2b;},13550:function(t,b,a){var c,f;function d(g,e){return g && g.Mq && (e || !1 !== g.Vv);}function n(g,e,h){return "number" === typeof g?Math.min(Math.max(g,e),h):e;}Object.defineProperties(b,{__esModule:{value:!0}});b.Ug=b.console=void 0;b.E$c=d;b.r$c=function(g,e){return !g.slice(e + 1).some(function(h){return d(h);});};b.Kma=n;b.wZ=function(g,e,h){var l,m,p,q;function k(r){var u;u=g[r];if(!u.Mq)return (f && !u.pp && b.console.log("Stream [" + r + "] " + u.id + " (" + u.bitrate + " Kbps): Not available"),f && u.lo && b.console.log("Stream [" + r + "] " + u.id + " (" + u.bitrate + " Kbps): Failed"),!1);if(h && !h(u,r))return !1;f && b.console.log("Stream [" + r + "] " + u.id + " (" + u.bitrate + " Kbps): Available");return !0;}m=g.length;p=0;q=m;Array.isArray(e) && (p=n(e[0],0,m),q=n(e[1],0,m),e=null !== (l=e[2]) && void 0 !== l?l:p + 1);e=n(e || 0,p + 1,q);for(l=e - 1;l >= p;--l)if(k(l))return l;for(l=e + 1;l < q;++l)if(k(l))return l;f && b.console.log("Found no available streams");return -1;};b.jFb=function(g,e){return Math.floor(g / (125 * e) * 1E3);};b.nob=function(g,e){return Math.ceil(g / 1E3 * e * 125);};b.fw=function(g,e,h,k){e=g.buffer.fl - g.buffer.Ed >= h - (null !== e && void 0 !== e?e:0);return g.state === c.Ub.Cl || g.state === c.Ub.xm?!0:g.state === c.Ub.rg && e?!1:k;};b.Mwa=function(g,e){g=g.hAc;return void 0 === g?e:g;};t=a(66164);c=a(65161);b.console=new t.platform.Console("ASEJS_STREAM_SELECTOR","media|asejs");f=!1;b.Ug=(function(){function g(e){if(!(this instanceof g))return new g(e);this.ud=e;this.LEc=this.CNc=0;}return g;})();},42556:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.h5=b.i5=b.jW=b.kW=b.h6=void 0;d=a(16096);Object.defineProperties(b,{h6:{enumerable:!0,get:function(){return d.h6;}}});n=a(35479);Object.defineProperties(b,{kW:{enumerable:!0,get:function(){return n.kW;}}});c=a(29217);Object.defineProperties(b,{jW:{enumerable:!0,get:function(){return c.jW;}}});f=a(56556);Object.defineProperties(b,{i5:{enumerable:!0,get:function(){return f.i5;}}});g=a(56841);Object.defineProperties(b,{h5:{enumerable:!0,get:function(){return g.h5;}}});},56841:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.h5=void 0;d=a(22970);n=a(26388);c=a(33923);f=a(72793);g=a(52571);e=a(45247);h=a(7559);t=(function(){function k(){}k.prototype.Kqb=function(l,m,p,q,r,u,v,w){void 0 === v && (v=[]);m=this.gqc(l,m,p,r,u,q,w);switch(l.uyc){case "videofirst":return this.Kfc(m,u,v);default:return this.Jfc(m,u,v);}};k.prototype.Jfc=function(l,m,p){var u,v,w;function q(x,y){return Math.exp((y.Qb?Math.log(y.Qb):0) + (x.Swa?.13 * Math.log(25 * (x.Swa - 1)):0));}function r(x,y,A,z){var B,C;B=q(x,y);C=q(A,z);x=A.bitrate - x.bitrate + (z.bitrate - y.bitrate);return 0 !== x?(C - B) / x:0;}p=0 < p.length?p[0]:void 0;u=[];v=0;w=0;for(u.push(new c.RI({audio:l[v],video:m[w],text:p}));v + 1 < l.length && w + 1 < m.length;)(v=[{Rwa:r(l[v],m[w],l[v],m[w + 1]),QTa:[v,w + 1]},{Rwa:r(l[v],m[w],l[v + 1],m[w]),QTa:[v + 1,w]},{Rwa:r(l[v],m[w],l[v + 1],m[w + 1]),QTa:[v + 1,w + 1]}],v.sort(function(x,y){return x.Rwa - y.Rwa;}),w=d.__read(v[v.length - 1].QTa,2),v=w[0],w=w[1],u.push(new c.RI({audio:l[v],video:m[w],text:p})));if(w + 1 < m.length)for(w++;w < m.length;w++)u.push(new c.RI({audio:l[v],video:m[w],text:p}));if(v + 1 < l.length)for(v++;v < l.length;v++)u.push(new c.RI({audio:l[v],video:m[w],text:p}));return u;};k.prototype.Kfc=function(l,m,p){var q,r,u;r=[];p=0 < p.length?p[0]:void 0;(0,g.assert)(0 < l.length && 0 < m.length,"We should have at least one video stream and one audio stream");if(0 < l.length){u=l[0];try{for(var v=d.__values(m),w=v.next();!w.done;w=v.next())r.push(new c.RI({audio:u,video:w.value,text:p}));}catch(y){var x;x={error:y};}finally{try{w && !w.done && (q=v.return) && q.call(v);}finally{if(x)throw x.error;}}if(1 < l.length && 0 < m.length)for((m=m[m.length - 1],x=1);x < l.length;x++)r.push(new c.RI({audio:l[x],video:m,text:p}));}return r;};k.prototype.xRc=function(l,m,p,q){var r,u;r=m && m.Ui(n.u.X);if(q === e.Ub.Cl || !r)return !1;u=m.Ui(n.u.X);if(!p.some(function(v){return v === u;}))return !1;m=u.profile;return l.Pp && 0 <= l.Pp.indexOf(m)?!1:!0;};k.prototype.gqc=function(l,m,p,q,r,u,v){if(this.xRc(l,v,q,u))q=[v.Ui(n.u.X)];else if((q=new f.y5a(l).Bh(q,void 0,void 0,void 0,u),v=q[0],r=r[0],!(0,h.FAb)(v.profile,l))){l=0;v && v.Mq && v.yb && v.yb.confidence?(m=m(v.yb,p,u,0,!1),l=Math.floor(m.lower) || 1):r && r.Mq && r.yb && r.yb.confidence && (m=m(r.yb,p,u,0,!1),l=Math.floor(m.lower) || 1);m=q.length - 1;for(m;0 < m && !(l && q[m].bitrate < .15 * l);--m);q=[q[m]];}return q;};return k;})();b.h5=t;},56556:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.i5=void 0;t=a(22970);d=a(66164);n=a(91176);c=a(91176);f=a(65161);g=a(62156);e=t.__importDefault(a(29340));h=a(33923);a(52571);k=a(8149);l=a(3082);m=a(35479);p=a(44284);q=a(13550);a(87775);a(15050);r=a(94320);u=a(18048);a(71915);v=a(86268);a(79321);a(79257);w=a(32966);new d.platform.Console("ASEJS_JOINT_STREAM_SELECTOR","media|asejs");a=(function(){var N7_;N7_=2;function x(y,A,z,B,C){var k3j;k3j=2;for(;k3j !== 6;){switch(k3j){case 3:var v1x="d";v1x+="e";v1x+="fa";v1x+="ult";var w_5="1SIYbZr";w_5+="N";w_5+="J";w_5+="Cp9";w_5;y || (y=A.kxa);this.yv=new ((l.zea[y] || l.zea[v1x])())();C && (this.OXc=new m.kW(A,f.u.U));k3j=6;break;case 2:this.uwa=y;this.config=A;this.V7=z;this.LN=B;k3j=3;break;}}}for(;N7_ !== 12;){switch(N7_){case 14:x.prototype.kWa=function(y,A,z){var l3X;l3X=2;for(;l3X !== 7;){switch(l3X){case 2:l3X=this.config.vtb?1:5;break;case 1:y.forEach(function(B){var P1d;P1d=2;for(;P1d !== 1;){switch(P1d){case 2:return B.Pw=!B.Oa || !B.Oa.length;break;}}});l3X=7;break;case 3:l3X=0 <= z?9:7;break;case 5:l3X=this.config.fOb && z > this.config.i0 && !A.Ba && y.every(function(B){var t2G;t2G=2;for(;t2G !== 1;){switch(t2G){case 2:return !B.Pw;break;case 4:return ~B.Pw;break;}}})?4:7;break;case 9:(y[z - 1] && y[z - 1].isEqual(A) && y[z].e$(function(B){var I5M,C;I5M=2;for(;I5M !== 5;){switch(I5M){case 2:null !== (C=B.Oa) && void 0 !== C && C.length || (B.Pw=!0);I5M=5;break;}}}),y[z + 1] && y[z + 1].isEqual(A) && y[z].e$(function(B){var Y$8,C;Y$8=2;for(;Y$8 !== 5;){switch(Y$8){case 2:null !== (C=B.Oa) && void 0 !== C && C.length || (B.Pw=!0);Y$8=5;break;}}}));l3X=8;break;case 4:r2gzX.t$V(0);var b_U=r2gzX.l2Z(2,3);z=y.length - b_U;l3X=3;break;case 8:--z;l3X=3;break;}}};return x;break;case 4:x.prototype.UOb=function(y,A,z){var N4R;N4R=2;for(;N4R !== 1;){switch(N4R){case 2:var v_k="un";v_k+="d";v_k+="efi";v_k+="n";v_k+="ed";v_k !== typeof A?A.bitrate < z.bitrate && (this.LF=y):this.KF=this.LF=void 0;N4R=1;break;}}};x.prototype.mda=function(y,A,z,B){var F1$,C,D;F1$=2;for(;F1$ !== 5;){switch(F1$){case 2:y.RK(function(E){var A41;A41=2;for(;A41 !== 1;){switch(A41){case 2:(0,c.AZ)(E,function(H){var O3m;O3m=2;for(;O3m !== 1;){switch(O3m){case 2:H.Mq && H.yb && H.yb.confidence?(C !== H.yb && (C=H.yb,D=B(H.yb,z,A,0,!1)),H.kb=Math.floor(D.lower) || 1,H.wfa=void 0 !== D.upper?Math.floor(D.upper):1):H.kb=void 0;O3m=1;break;}}});A41=1;break;}}});F1$=5;break;}}};x.prototype.vWa=function(y,A){var H6H,D,E,z,B,C;H6H=2;for(;H6H !== 8;){switch(H6H){case 4:D || (z=(0,p.oyb)(A,z.bitrate,z.Qb),C=!0,y && B && E && (C=!1));H6H=3;break;case 3:return {Wm:z,zZ:C};break;case 5:(D=(0,n.cc)(A,function(H){var S3z;S3z=2;for(;S3z !== 1;){switch(S3z){case 4:return H.isEqual(z);break;case 2:return H.isEqual(z);break;}}}),E=(0,n.cc)(A,function(H){var N2l;N2l=2;for(;N2l !== 1;){switch(N2l){case 2:return H.isEqual(B);break;}}}));H6H=4;break;case 9:C=!0;H6H=3;break;case 1:H6H=(z=this.ypa())?5:9;break;case 2:(B=this.ypa(),C=!1);H6H=1;break;}}};x.prototype.ypa=function(){var z9q;z9q=2;for(;z9q !== 5;){switch(z9q){case 2:z9q=this.V7.kl || this.LN.kl?1:5;break;case 1:return new h.RI({audio:this.V7.kl,video:this.LN.kl});break;}}};x.prototype.wk=function(y){var O2d;O2d=2;for(;O2d !== 1;){switch(O2d){case 2:return y === f.u.X?this.V7:this.LN;break;}}};x.prototype.sNb=function(y){var V5F,A,z;V5F=2;for(;V5F !== 4;){switch(V5F){case 2:(null === (A=y.track) || void 0 === A?void 0:A.mediaType) === f.u.X && (this.V7=y);(null === (z=y.track) || void 0 === z?void 0:z.mediaType) === f.u.U && (this.LN=y);V5F=4;break;}}};N7_=14;break;case 2:Object.defineProperties(x.prototype,{V0:{get:function(){var q2o;q2o=2;for(;q2o !== 1;){switch(q2o){case 2:return this.OXc;break;case 4:return this.OXc;break;}}},enumerable:!1,configurable:!0}});x.prototype.a2=function(y,A,z,B,C,D,E){var z9u,Q,K0m,H,F,G,J,L,K,M,P,I,O;z9u=2;for(;z9u !== 23;){switch(z9u){case 24:B=this.yv.Of;z9u=6;break;case 27:z9u=K0m === f.Ub.Oi?26:25;break;case 18:z9u=K0m === f.Ub.Sf?17:16;break;case 11:z9u=(H=z.ud)?10:20;break;case 6:Q=P[0].Ui(f.u.U);(0,k.zk)(Q) && (this.LN.fw=(0,q.fw)(y,Q.track.al.G,M.nl,this.LN.fw));z=B.call(this.yv,{config:M,player:y,Lk:A,Wm:O,xaa:!!C,zZ:I,RGc:z,fw:this.LN.fw,Ara:this.KF,qVa:this.LF,xCb:Math.max(null !== (H=this.KF) && void 0 !== H?H:0,null !== (F=this.LF) && void 0 !== F?F:0)});z.xh=y.state;z9u=11;break;case 16:z9u=K0m === f.Ub.xm?15:27;break;case 7:B=this.yv.Ry;z9u=6;break;case 25:z9u=24;break;case 8:K0m=y.state;z9u=K0m === f.Ub.Cl?7:18;break;case 17:B=this.yv.$q;z9u=6;break;case 26:B=this.yv.tMb;z9u=6;break;case 2:(L=null === y || void 0 === y?void 0:y.buffer,K=d.platform.time.ha(),M=this.config,P=A.first);(0,r.ypb)(A.first);(I=this.vWa(M.NFb,A.first),O=I.Wm);I=I.zZ;y.state === f.Ub.Cl && (this.LF=this.KF=void 0);void 0 !== B && this.mda(A,y.state,y.buffer,B);z9u=8;break;case 10:var S1G="p";S1G+="l";S1G+="a";S1G+="y";S1G+="ing";var k02="min";k02+="_fr";k02+="agment_v";k02+="maf";(this.V7.gU(H.Ui(f.u.X)),this.LN.gU(H.Ui(f.u.U)),this.kWa(A.first,H,L.fl - L.Ed),z.yM=H.kb || 0,z.yb=H.yb,z.reason && (H.Ku=z.reason,k02 !== z.reason && (H.A0a=z.ou,H.m_=z.m_,H.iTa=null === (G=z.yb) || void 0 === G?void 0:G.rX,H.jTa=null === (J=z.yb) || void 0 === J?void 0:J.vl)),A=(0,v.qEb)({buffer:L,player:y,YG:E,xaa:C,esa:P[0].Mf,ud:H.Mf,Zxa:(0,v.Btc)(P,H),Hxa:P[P.length - 1].Mf,V0:this.V0}),z.sn=A || z.sn,O && !I && H.bitrate < O.bitrate && (this.KF=L.Mk),y.state !== f.Ub.rg && y.state !== f.Ub.Oi?(O=(0,g.EIb)(y.state),D=this.hA(y.buffer,O,y.playbackRate,H,D),(z.Pm=D.complete)?z.NLa=D.reason:(z.Pm=!1,z.QM=D.QM,z.Iba=D.Iba,z.progress=D.progress)):(z.Pm=!0,z.NLa=S1G));z9u=20;break;case 15:B=this.yv.uMb;z9u=6;break;case 20:y.VY && H && (0,e.default)((0,u.PIb)(H,L,y,K,this.config.GJa),z);return z;break;}}};x.prototype.hA=function(y,A,z,B,C){var j32;j32=2;for(;j32 !== 1;){switch(j32){case 2:return (0,w.hA)(y,A,z,B,C,this.config);break;}}};N7_=4;break;}}})();b.i5=a;},29217:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.jW=void 0;d=a(22970);t=(function(){function n(c,f,g){var e,h,k;this.Ls=c;"HYBRID" === c?this.LA=g:"CCSP" === c && (this.AE=null !== (e=f.AE) && void 0 !== e?e:0,this.ZC=null !== (h=f.ZC) && void 0 !== h?h:0,this.rE=null !== (k=f.rE) && void 0 !== k?k:0);}Object.defineProperties(n.prototype,{SJb:{get:function(){var c;return "HYBRID" === this.Ls?[null !== (c=this.LA.sn) && void 0 !== c?c:0]:"CCSP" === this.Ls?[this.AE,this.ZC,this.rE]:[];},enumerable:!1,configurable:!0}});n.prototype.SEb=function(){return Math.min(this.AE,this.ZC,this.rE);};n.prototype.gra=function(){return this.SJb.some(function(c){return 0 < c;});};n.prototype.h0a=function(c){return new n(this.Ls,{AE:c * this.AE,ZC:c * this.ZC,rE:c * this.rE});};n.prototype.nWa=function(c,f,g,e){var h;h=8 * c / Math.max(g - f,1);if(!this.gra())return !1;c=this.SJb.map(function(k){return Math.abs(h - k) / k;});return Math.min.apply(Math,d.__spreadArray([],d.__read(c),!1)) < e;};return n;})();b.jW=t;},35479:function(t,b,a){var q,r,u;function d(v){return c(v.ud);}function n(v,w){var x,y,A,z,B;A=f(w.vMc,v.xh,null !== (y=null === (x=v.ud.yb) || void 0 === x?void 0:x.confidence) && void 0 !== y?y:q.IO.HAVE_NOTHING);if(0 === A.length)return 0;a:switch(w.fHc){case "implicit":w=p(w,v.ud);w=v.UP / w;break a;case "capacityPercentage":w=Math.max(v.a$b / v.Z9b || 0,v.UP / w.FH);break a;default:w=0;}y=-1;for(x=0;x < A.length;x++)if(A[x].mma >= w){y=x;break;}if(-1 === y)return g(v,A[A.length - 1].RMa);if(0 === y)return g(v,A[0].RMa);z=A[y - 1].mma;x=g(v,A[y - 1].RMa);B=A[y].mma;v=g(v,A[y].RMa);A=Math.min((w - z) / (B - z),1);return (1 - A) * x + A * v;}function c(v){var w,x;x=null === (w=null === v || void 0 === v?void 0:v.M) || void 0 === w?void 0:w.VL;return x?x[v.mediaType] || 0:0;}function f(v,w,x){var A;function y(z,B){return void 0 !== z && 0 < z.filter(function(C){return C === B;}).length;}A=v.filter(function(z){return y(z.Mua,w);});0 === A.length && (A=v.filter(function(z){return !z.Mua || 0 === z.Mua.length;}));v=A.filter(function(z){return y(z.vFb,x);});0 === v.length && (v=A.filter(function(z){return !z.vFb || 0 === z.vFb.length;}));return v.sort(function(z,B){return z.mma - B.mma;});}function g(v,w){var x,y,A,z;if(!w || "object" !== typeof w)return 0;x=v.ud;y=v.Zxa;A=v.Hxa;z={selectedFragmentBitrate:e(v.YG,x,v.Ve) * v.playbackRate,selectedPeakBitrate:(x.ry || h(x) || 0) * v.playbackRate,upswitchPeakBitrate:(y.ry || h(y) || 0) * v.playbackRate,maxPeakBitrate:(A.ry || h(A) || 0) * v.playbackRate,selectedAverageBitrate:h(x) * v.playbackRate,upswitchAverageBitrate:h(y) * v.playbackRate,maxAverageBitrate:c(x) * v.playbackRate,bufferLevelMs:v.UP,observedThroughput:k(v.ud) || 0,averagetp:l(v.ud) || 0,stddevtp:m(v.ud) || 0};v=w.offset || 0;return Object.keys(z).reduce(function(B,C){return B + (w[C] || 0) * z[C];},v);}function e(v,w,x){var y;return w?void 0 !== x && w.Oa?(void 0 === v?null === (y=w.Oa) || void 0 === y?void 0:y.get(x).GLa:v.Qwb(w,x).GLa) || w.ry || 0:w.ry || 0:0;}function h(v){return (null === v || void 0 === v?void 0:v.bitrate) || 0;}function k(v){var w;v=v.yb;return (null === (w=null === v || void 0 === v?void 0:v.kb) || void 0 === w?void 0:w.Fa) || 0;}function l(v){var w;v=v.yb;return (null === (w=null === v || void 0 === v?void 0:v.hs) || void 0 === w?void 0:w.GX) || 0;}function m(v){var w;v=v.yb;return Math.sqrt((null === (w=null === v || void 0 === v?void 0:v.hs) || void 0 === w?void 0:w.h3) || 0);}function p(v,w){var x,y;x=v.kUc;x=l(w) + x * m(w);w=w.kb || 0;y=0;0 < w && (y=x / w - 1);return v.UCc + v.jUc * Math.max(0,y);}Object.defineProperties(b,{__esModule:{value:!0}});b.kW=void 0;b.b9c=f;b.q9c=k;b.h9c=p;t=a(66164);q=a(65161);r=a(29217);new t.platform.Console("ASEJS_PACERATE_SELECTOR","media|asejs");u={maxStreamBitrate:d,"static":function(v,w){return w.FOb;},none:function(){return 0;},regression:n,epsGreedy:function(v,w){return Math.min(n(v,w) || 0,k(v.ud));},"default":d};a=(function(){var R85;R85=2;for(;R85 !== 9;){switch(R85){case 12:return v;break;case 3:return v;break;case 2:v.prototype.Yvb=function(w,x){var k4h,B,y,A,z;k4h=2;for(;k4h !== 14;){switch(k4h){case 3:B=w;this.Bb.Oma && (B=this.qpa(w,A.ZZa[0],z,x,y[0]));k4h=8;break;case 7:return B;break;case 5:y=(null === A || void 0 === A?void 0:A.oad) || [0,0,0];k4h=4;break;case 2:(A=this.Bb.Oma,z=null === (y=x.esa) || void 0 === y?void 0:y.ry);x=e(x.YG,x.ud,x.Ve) * x.playbackRate;k4h=5;break;case 4:var S9Z="H";S9Z+="Y";S9Z+="BR";S9Z+="I";S9Z+="D";k4h=S9Z === this.Ls?3:6;break;case 6:var K86="C";K86+="C";K86+="S";K86+="P";K86 === this.Ls && (B=new r.jW(this.Ls,A?{AE:this.qpa(w,A.ZZa[0],z,x,y[0]),ZC:this.qpa(w,A.ZZa[1],z,x,y[1]),rE:this.qpa(w,A.ZZa[2],z,x,y[2])}:{AE:0,ZC:0,rE:0},void 0));k4h=7;break;case 8:B=new r.jW(this.Ls,void 0,{Ezb:1,sn:B,Cma:Number(this.Bb.Cma),pEb:this.Bb.TBc,Ova:Number(this.Bb.Ova)});k4h=7;break;}}};v.prototype.Qrc=function(w){var o91,x,y;o91=2;for(;o91 !== 5;){switch(o91){case 2:var b7f="stat";b7f+="i";b7f+="c";var E4G="C";E4G+="C";E4G+="S";E4G+="P";var a2B="H";a2B+="YB";a2B+="RI";a2B+="D";y=null === (x=w.ud) || void 0 === x?void 0:x.mediaType;return a2B !== this.Ls || this.Bb.skc?E4G === this.Ls && (y === q.u.X && !this.Bb.pkc || y === q.u.U && !this.Bb.A9)?0:b7f === this.Bb.dHc?this.Bb.FOb:c(w.ud):0;break;}}};v.prototype.qpa=function(w,x,y,A,z){var w9w;w9w=2;for(;w9w !== 9;){switch(w9w){case 2:w9w=!x || 0 === w?1:5;break;case 1:return 0;break;case 5:r2gzX.t$V(11);w=Math.ceil(r2gzX.g4d(x,w));w=Math.max(w,Math.ceil(A * z));return w < (this.Bb.Oma.pad || 0) * (y || 0)?0:w;break;case 6:return 6;break;}}};v.prototype.Rrc=function(w){var X7n,x,y,A;X7n=2;for(;X7n !== 7;){switch(X7n){case 4:X7n=!this.Ls || !A || !y || (A=this.Bb.QVc) && w.Ve && 0 === w.Ve % A || w.UP < y.vy?3:9;break;case 9:x=w.Rq?this.algorithm(w,this.Bb):this.Qrc(w);return this.Yvb(x,w);break;case 2:(y=null === (x=w.ud) || void 0 === x?void 0:x.mediaType,A=this.Bb.C9 || y === q.u.X && this.Bb.z9 || y === q.u.U && this.Bb.IG);x=this.Yvb(0,w);y=this.Bb.Oma;X7n=4;break;case 3:return x;break;}}};R85=3;break;}}function v(w,x){var d2A;d2A=2;for(;d2A !== 7;){switch(d2A){case 9:d2A=w.IG || w.z9 || w.bPa?8:7;break;case 3:var E7o="HY";E7o+="BRI";E7o+="D";this.Ls=E7o;d2A=7;break;case 8:var n8t="C";n8t+="C";n8t+="S";n8t+="P";this.Ls=n8t;d2A=7;break;case 4:d2A=w.C9?3:9;break;case 2:var b7U="defa";b7U+="u";b7U+="l";b7U+="t";var Q$T="1SIYbZr";Q$T+="NJCp";Q$T+="9";this.Bb=w;Q$T;this.algorithm=(u[x === q.u.X?this.Bb.cHc:this.Bb.bHc] || u[b7U]).bind(this);d2A=4;break;}}}})();b.kW=a;},70753:function(t,b,a){var n,c,f,g;function d(e,h){var k;h.some(function(l){var m;m=l.profiles;(m=m && 0 <= m.indexOf(e)) && (k=l.override);return m;});return k;}Object.defineProperties(b,{__esModule:{value:!0}});n=a(22970);c=a(91176);f=a(13550);t=n.__importDefault(a(32028));g=a(24653);a=(function(e){var X94;X94=2;function h(){var i1R,k;i1R=2;for(;i1R !== 4;){switch(i1R){case 5:return k;break;case 2:var f3j="1SIYbZrNJ";f3j+="Cp";f3j+="9";k=e.call(this) || this;f3j;i1R=5;break;}}}for(;X94 !== 3;){switch(X94){case 2:n.__extends(h,e);h.prototype.Ry=function(k){var d78,l,m,p,q,r,u;d78=2;for(;d78 !== 3;){switch(d78){case 2:(r=k.config,u=k.Lk.first);u=(k.Wm || u[0]).Uc;u=r && r.Pp && 0 <= r.Pp.indexOf(u)?d(u,r.yI):d(u,r.Wla);return (0,g.rMb)({player:k.player,Lk:k.Lk,config:u?{oLa:null !== (l=u.audioBwFactor) && void 0 !== l?l:r.oLa,ty:null !== (m=u.minInitAudioBitrate) && void 0 !== m?m:r.ty,yu:null !== (p=u.maxInitAudioBitrate) && void 0 !== p?p:r.yu,k0:null !== (q=u.minRequiredAudioBuffer) && void 0 !== q?q:r.k0}:r});break;}}};X94=5;break;case 5:h.prototype.Of=function(k){var V4Y,y,A,z,B,l,m,p,q,r,u,v,w,x,C;V4Y=2;for(;V4Y !== 33;){switch(V4Y){case 21:V4Y=(q=x[z],q.sH && A > k.ZVc * q.bitrate * m.playbackRate)?35:22;break;case 14:(y=p.bitrate,A=k=void 0);w?(k=l.X8b,A=Math.max(.1,1 - l.FPb) * Math.pow(Math.min(1,(m.buffer.fl - m.buffer.Ed) / l.nl),l.EPb),A=p.yb?p.yb.kb.Fa * A:0):(k=l.W8b,A=p.kb || 0);(z=(0,c.Mm)(x,function(D){var V4C;V4C=2;for(;V4C !== 1;){switch(V4C){case 4:return D.isEqual(p);break;case 2:return D.isEqual(p);break;}}}),B=z);V4Y=11;break;case 27:q--;V4Y=17;break;case 15:B=q;V4Y=20;break;case 17:V4Y=0 <= q?16:20;break;case 2:var d5Z="Must have a";d5Z+="t";d5Z+=" lea";d5Z+="st one selected stream";(l=k.config,m=k.player,p=k.Wm,q=k.Ara,r=k.qVa,u=k.Lk.first);(0,c.assert)(p,d5Z);(v=p.Uc,w=p.Ba);V4Y=4;break;case 18:r2gzX.u5O(0);q=r2gzX.g4d(1,z);V4Y=17;break;case 19:V4Y=z && A < k.Xic * y * m.playbackRate?18:26;break;case 4:V4Y=!(l && l.Pp && 0 <= l.Pp.indexOf(v))?3:9;break;case 3:return new f.Ug(p);break;case 10:B=0;V4Y=20;break;case 35:B=z;V4Y=20;break;case 6:V4Y=x && 1 < x.length?14:34;break;case 20:k=x[B];V4Y=34;break;case 26:V4Y=z < x.length - 1 && A > k.ZVc * y * m.playbackRate?25:20;break;case 34:return new f.Ug(k);break;case 9:l.yI.some(function(D){var o0Y,E,H,F,G,J,L;o0Y=2;for(;o0Y !== 9;){switch(o0Y){case 4:x=u.filter(function(K){var i1V,M;i1V=2;for(;i1V !== 5;){switch(i1V){case 2:M=K.bitrate;return M >= G && M <= J && 0 <= E.indexOf(K.Uc) && M * F / 8 < L;break;}}});o0Y=3;break;case 2:(E=D.profiles,H=E && 0 <= E.indexOf(v));o0Y=1;break;case 3:return H;break;case 1:o0Y=H?5:3;break;case 5:(F=(D=D.override) && D.minRequiredAudioBuffer || l.k0,G=D && D.minAudioBitrate || -Infinity,J=D && D.maxAudioBitrate || Infinity,L=m.buffer.Vt || Infinity);o0Y=4;break;}}});k=p;V4Y=6;break;case 11:V4Y=0 > z?10:19;break;case 22:V4Y=++z < x.length?21:20;break;case 23:V4Y=(p.Oa && p.Oa.length || w) && m.hy && C > k.eB && (void 0 === q || Number(r) > q || y.Mk - q > k.jS)?22:20;break;case 16:V4Y=(r=x[q],r.sH && (0 === q || r.bitrate * m.playbackRate * k.Xic < A))?15:27;break;case 25:y=m.buffer;C=y.fl - y.Ed;V4Y=23;break;}}};return h;break;}}})(t.default);b["default"]=a;},32028:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(91176);c=a(13550);t=a(75498);f=a(24653);a=(function(g){function e(){return null !== g && g.apply(this,arguments) || this;}d.__extends(e,g);e.prototype.Ry=function(h){var k,l;k=h.config;l=h.player;h=h.Lk;return (0,f.rMb)({config:k,player:l,Lk:h});};e.prototype.$q=function(h){h=h.Wm;(0,n.assert)(h,"Must have at least one selected stream");return new c.Ug(h);};e.prototype.Of=function(h){h=h.Wm;(0,n.assert)(h,"Must have at least one selected stream");return new c.Ug(h);};return e;})(t.Fz);b["default"]=a;},24653:function(t,b,a){var n,c;function d(f){var g,e,h,k,l,m,p,q,r;e=f.stream;h=f.index;k=f.config;l=f.player;f=f.v$b;m=e.id;p=e.bitrate;q=e.kb || 0;r=!!q;c && n.console.log("Checking feasibility of [" + h + "] " + m + " (" + p + " Kbps)");if(!e.Mq)return (c && !e.pp && n.console.log("  Not available"),c && e.lo && n.console.log("  Failed"),!1);e=null !== (g=k.yu) && void 0 !== g?g:Infinity;if(p > e)return (c && n.console.log("  Above maxInitAudioBitrate (" + e + " Kbps)"),!1);if(!(p * k.k0 / 8 < (l.buffer.Vt || Infinity)))return (c && n.console.log("  audio buffer too small to handle this stream"),!1);if(r){c && n.console.log(("  Have throughput history = ").concat(r," : available throughput = ").concat(q," Kbps"));if(p * l.playbackRate < q / f)return (c && n.console.log(" +FEASIBLE: bitrate less than available throughput"),!0);c && n.console.log(" bitrate requires more than available throughput");return !1;}if(p <= k.ty)return (c && n.console.log("  Bitrate is less than max of minInitAudioBitrate (" + k.ty + " Kbps) "),c && n.console.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);c && n.console.log("  No throughput history");return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.rMb=function(f){var g,e,h,k,m;g=f.config;e=f.player;h=f.Lk;f=new n.Ug();k=g.oLa || 1;h=h.first;for(var l=h.length - 1;0 <= l;--l){m=h[l];if(d({stream:m,index:l,config:g,player:e,v$b:k})){f.ud=m;break;}m.sH && (f.ud=m);}return f;};n=a(13550);c=!1;},58223:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(91176);c=a(13550);t=(function(f){function g(){return null !== f && f.apply(this,arguments) || this;}d.__extends(g,f);g.prototype.Of=function(e){var h,k;h=e.Wm;e=e.Lk.first;if(void 0 === h)h=e[(0,c.wZ)(e)];else if(!h.sH){k=(0,n.Mm)(e,function(l){return l.isEqual(h);});h=e[(0,c.wZ)(e,k)];if(void 0 === h)return new c.Ug();}return new c.Ug(h);};return g;})(a(75498).Fz);b["default"]=t;},52255:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=d.__importDefault(a(80588));n=a(4620);a=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.Of=function(g){return (0,n.Of)(g);};return f;})(t.default);b["default"]=a;},4620:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Of=void 0;t=a(22970);d=t.__importStar(a(17267));n=a(66164);c=a(91176);f=a(13550);g=a(50468);e=t.__importDefault(a(80588));b.Of=(function(){var f6x;f6x=2;for(;f6x !== 5;){switch(f6x){case 2:var Y79="1";Y79+="SIY";Y79+="bZrNJ";Y79+="Cp";Y79+="9";Y79;return {Of:function(h){var L7l,u,v,w,E,k,l,m,p,q,r,J,L,B,C,D,y,A,z,H,F,G,x;L7l=2;for(;L7l !== 66;){switch(L7l){case 63:B === h && (w=!1);L7l=62;break;case 74:w++;L7l=55;break;case 42:D.push(E.ww);D.push(E.rYa);L7l=40;break;case 9:(u=new f.Ug(q),v=null !== (k=m.Ve) && void 0 !== k?k:-1);k=r[0].f;w=r[r.length - 1].f;L7l=6;break;case 55:L7l=w < r.length?77:73;break;case 34:L7l=x < p.length?33:61;break;case 30:E=B.yb.tdigest;D.push(E.min);D.push(E.qYa);D.push(E.vw);D.push(E.Ks);L7l=42;break;case 50:J++;L7l=53;break;case 2:var A$V="player miss";A$V+="ing f";A$V+="ragmentIndex";var L1$="Must have a selected stream";L1$+=" for ";L1$+="sel";L1$+="ectPlaying";(l=h.config,m=h.player,p=h.Lk,q=h.Wm);(0,c.assert)(q,L1$);(0,c.assert)(d.pc(m.Ve),A$V);r=l.gTc;p=p.first;L7l=9;break;case 47:G+=F.get(J).Wb.G;L7l=46;break;case 40:D.push(E.max);L7l=39;break;case 76:k=w;L7l=73;break;case 75:L7l=r[w].f > v?73:74;break;case 67:w--;L7l=71;break;case 39:E=void 0;L7l=38;break;case 62:x++;L7l=34;break;case 25:v=m.buffer;v=v.fl - v.Ed;k=g.Io.hna(m.buffer.Oa);k=m.buffer.Vt - k.ma;w=!0;L7l=35;break;case 54:J=m.Ve;L7l=53;break;case 71:L7l=0 <= w?70:73;break;case 53:L7l=J < Math.min(J + l.Z8b,F.length)?52:49;break;case 17:u.ud=p[r[v].$cd];L7l=16;break;case 70:L7l=r[w].f === v?69:68;break;case 45:F=void 0;m.d$b && (F=n.platform.time.ha() - m.d$b);r.push({Ve:m.Ve,yfa:F,Qad:G,P5c:C,led:D,med:E,kob:v,Ovb:k,w6c:H,U$c:q.bitrate,V$c:null !== (y=q.Qb) && void 0 !== y?y:0,Y6c:B.bitrate,Z6c:null !== (A=B.Qb) && void 0 !== A?A:0,sdd:h.bitrate,tdd:null !== (z=h.Qb) && void 0 !== z?z:0,$qa:w});L7l=63;break;case 35:x=0;L7l=34;break;case 48:L7l=J < F.length?47:45;break;case 52:L=F.get(J);H.push({d:L.Wb.G,b:L.ma});L7l=50;break;case 56:w+=1;L7l=55;break;case 33:(B=p[x],C=void 0,D=[]);B.yb && B.yb.throughput && (C=B.yb.throughput.Fa);L7l=31;break;case 19:v=w;L7l=18;break;case 13:r2gzX.t$V(0);w=r2gzX.g4d(k,v);0 > w && (w=0);w >= r.length && (w=r.length - 1);L7l=10;break;case 46:J++;L7l=48;break;case 73:v=k;L7l=18;break;case 49:J=m.Ve;L7l=48;break;case 77:L7l=r[w].f === v?76:75;break;case 14:return e.default.prototype.Of(h);break;case 72:--w;L7l=71;break;case 6:L7l=v < k || v > w?14:13;break;case 31:L7l=B.yb && B.yb.tdigest?30:39;break;case 61:u.K5c=r;L7l=60;break;case 20:L7l=x === v?19:58;break;case 18:L7l=void 0 !== v?17:59;break;case 36:L7l=void 0 !== F?54:45;break;case 68:L7l=r[w].f < v?73:67;break;case 16:L7l=l.Xkc?15:60;break;case 60:return u;break;case 57:L7l=x < v?56:72;break;case 15:h=u.ud;r=[];L7l=25;break;case 58:k=void 0;L7l=57;break;case 69:k=w;L7l=73;break;case 38:B.yb && B.yb.tputTrace && (E=B.yb.tputTrace);(H=[],F=B.Oa,G=0);L7l=36;break;case 10:x=r[w].f;L7l=20;break;case 59:return e.default.prototype.Of(h);break;}}}};break;}}})().Of;},63499:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(13550);t=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.Of=function(g){g=g.Lk.first;return new n.Ug(g[g.length - 1]);};return f;})(a(75498).Fz);b["default"]=t;},65114:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=a(75498);n=a(57862);c=a(26502);f=a(41379);a=(function(g){function e(){var h;h=g.apply(this,d.__spreadArray([],d.__read(arguments),!1)) || this;h.Of=n.Of;h.Ry=c.Ry;h.$q=f.$q;return h;}d.__extends(e,g);return e;})(t.Fz);b["default"]=a;},41379:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.$q=void 0;d=a(91176);n=a(13550);c=a(57862);f=a(19188);b.$q=(function(){function g(e){function h(y){var l9e,A;l9e=2;for(;l9e !== 8;){switch(l9e){case 4:var c$O="b";c$O+="uff_l";c$O+="t";c$O+="_";c$O+="hist";w=c$O;x=A;return !0;break;case 5:return !1;break;case 1:l9e=!A || (y.bitrate > r?k.IRb:1) * y.bitrate * l.playbackRate > A?5:4;break;case 2:A=y.kb;l9e=1;break;}}}var Q4v,v,u,x,r,k,l,m,p,q,w;Q4v=2;for(;Q4v !== 26;){switch(Q4v){case 14:u=Math.min(u + (k.Fmb?2:1),m.length);v=(0,n.Mwa)(m[0].M,k.hS) && p?(0,f.lyb)(m,k):Infinity;q=(0,d.cc)(m.slice(0,u).filter(function(y){var b04;b04=2;for(;b04 !== 1;){switch(b04){case 2:return y.tt && y.tt <= v;break;}}}).reverse(),h);Q4v=11;break;case 8:u=void 0;u=(0,d.Mm)(m,function(y){var L3v;L3v=2;for(;L3v !== 1;){switch(L3v){case 2:return y.isEqual(q);break;}}});u=Math.max(u,0);Q4v=14;break;case 18:var C8P="select";C8P+="_";C8P+="f";C8P+="easible_buffering";w=C8P;Q4v=19;break;case 11:Q4v=void 0 === q?10:18;break;case 19:x=null === q || void 0 === q?void 0:q.kb;Q4v=17;break;case 4:r=q.bitrate;Q4v=3;break;case 2:var H0v="Must ha";H0v+="ve at least one sel";H0v+="ec";H0v+="t";H0v+="ed stream";(k=e.config,l=e.player,m=e.Lk,p=e.fw,q=e.Wm);(0,d.assert)(q,H0v);m=m.first;Q4v=4;break;case 3:e=q;Q4v=9;break;case 10:q=m[0];Q4v=20;break;case 20:var y2D="fallback_lowes";y2D+="t_a";y2D+="c";y2D+="ceptable_stre";y2D+="am";w=y2D;Q4v=19;break;case 9:Q4v=q.kb?8:17;break;case 17:p=new n.Ug();p.ud=q;e.Ra !== q.Ra && (p.reason=w,p.ou=x);return p;break;}}}var L0u;L0u=2;for(;L0u !== 5;){switch(L0u){case 2:var E$D="1SIY";E$D+="bZ";E$D+="rNJCp9";E$D;return {$q:function(e){var C7R;C7R=2;for(;C7R !== 1;){switch(C7R){case 2:var q5n="p";q5n+="l";q5n+="ayi";q5n+="ng";return q5n === e.config.l8?(0,c.Of)(e):g(e);break;}}}};break;}}})().$q;},57862:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Of=void 0;d=a(91176);a(13550);n=a(13550);c=a(55891);f=a(88502);b.Of=(function(){var N12;N12=2;for(;N12 !== 5;){switch(N12){case 2:var p8R="1S";p8R+="I";p8R+="YbZ";p8R+="rN";p8R+="JCp9";p8R;return {Of:function(g){var j3Q,r,u,v,e,h,k,l,m,p,q;j3Q=2;for(;j3Q !== 14;){switch(j3Q){case 3:r=(0,f.fpc)(g,e.nl,l,e.Nra);k=k.first;(u=(0,d.Mm)(k,function(w){var U8K;U8K=2;for(;U8K !== 1;){switch(U8K){case 4:return w.isEqual(l);break;case 2:return w.isEqual(l);break;}}}),v=(0,n.Mwa)(k[0].M,e.hS));j3Q=7;break;case 7:m=k.slice(0,(!(void 0 === p || q - p > e.jS) || v && m?(k.length + u) % k.length:Math.min(k.length - 1,u + e.Tra)) + 1);return (0,c.a2)(m,r,g,e,h.playbackRate,h.Ve);break;case 2:var p3f="Must have at le";p3f+="ast one sel";p3f+="ec";p3f+="ted stream";(e=g.config,h=g.player,k=g.Lk,l=g.Wm,m=g.fw,p=g.Ara);(0,d.assert)(l,p3f);q=h.buffer.Mk;g=h.buffer.fl - h.buffer.Ed;j3Q=3;break;}}}};break;}}})().Of;},26502:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Ry=void 0;d=a(91176);n=a(65161);c=a(13550);f=a(19188);t=(function(){var q68;function e(h,k){var n06,l;n06=2;for(;n06 !== 4;){switch(n06){case 2:k.some(function(m){var d_f,p;d_f=2;for(;d_f !== 4;){switch(d_f){case 2:p=m.profiles;(p=p && 0 <= p.indexOf(h)) && (l=m.override);return p;break;}}});return l;break;}}}q68=2;for(;q68 !== 5;){switch(q68){case 2:var f0G="1SIYb";f0G+="ZrNJ";f0G+="Cp9";f0G;return {OJa:function(h){var Y3u,k,l,m,p,q,r;Y3u=2;for(;Y3u !== 9;){switch(Y3u){case 2:(k=h.config,l=h.player,m=h.fw);h=h.Lk.first;Y3u=5;break;case 5:(p=new c.Ug(),q=Math.max(k.uy,k.yS),r=(0,c.Mwa)(h[0].M,k.hS) && m?(0,f.lyb)(h,k):Infinity);p.ud=(0,d.cc)(h.filter(function(u){var P94,v,w;P94=2;for(;P94 !== 9;){switch(P94){case 2:(v=u.Ui(n.u.X))?(v=v.Uc,v=k && k.Pp && 0 <= k.Pp.indexOf(v)?e(v,k.yI):e(v,k.Wla)):v=void 0;v=v?null !== (w=v.maxInitAudioBitrate) && void 0 !== w?w:k.yu:k.yu;w=u.tt?u.tt <= k.gB:!0;P94=3;break;case 3:return (u.Bv?u.Bv <= v:!0) && w;break;}}}).filter(function(u){var Y69;Y69=2;for(;Y69 !== 1;){switch(Y69){case 2:return u.tt && u.tt <= r;break;}}}).reverse(),function(u){var j1w,w,v;j1w=2;for(;j1w !== 8;){switch(j1w){case 9:var V4A="no_";V4A+="histor";V4A+="ic";V4A+="a";V4A+="l_lte_minbitrate";var P0O="hist_tp";P0O+="ut_lt_minbit";P0O+="rat";P0O+="e";var U7t="lt_hist_lte_minbit";U7t+="rat";U7t+="e";v && u.bitrate * l.playbackRate <= v?(p.ou=v,p.reason=U7t,v=!0):v?(p.ou=v,p.reason=P0O,v=!1):(p.reason=V4A,v=!0);j1w=3;break;case 3:return v;break;case 4:var b5N="h";b5N+="ist";b5N+="_bufftime";v?(u=g(k,w),w=(0,c.nob)(k.Ap,w * k.tS),(0,c.jFb)(w,v) <= u?(p.ou=v,p.reason=b5N,v=!0):v=!1):v=!1;j1w=3;break;case 5:w=u.bitrate * l.playbackRate;j1w=4;break;case 1:j1w=u.bitrate > q?5:9;break;case 2:v=u.kb;j1w=1;break;}}}) || h[0];return p;break;}}}};break;}}function g(h,k){var h54,l,m;h54=2;for(;h54 !== 13;){switch(h54){case 1:(l=h.oL,m=(0,d.Mm)(l,function(p){var x5w;x5w=2;for(;x5w !== 1;){switch(x5w){case 2:return k <= p.r;break;}}}));h54=5;break;case 14:return h.Gs;break;case 3:h54=-1 === m?9:8;break;case 4:return l[0].d;break;case 5:h54=0 === m?4:3;break;case 8:r2gzX.u5O(0);h=l[r2gzX.g4d(1,m)];l=l[m];h54=6;break;case 2:h54=h.oL?1:14;break;case 6:return Math.floor(h.d + (l.d - h.d) * (k - h.r) / (l.r - h.r));break;case 9:return l[l.length - 1].d;break;}}}})().OJa;b.Ry=t;},55891:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.a2=function(f,g,e,h,k,l){var m,q,r,u,v,w;m=new n.Ug();g=h.FPb * Math.pow(g,h.EPb);m.ud=f[0];for(var p=f.length - 1;-1 < p;--p){q=f[p];if(q.yb && q.yb.kb){r=q.yb.kb.Fa;u=q.bitrate;v=h.wba?(0,c.grc)(h,q,q.yb,e):void 0;w=u * k < (h.wba?v || r:r) * g;h.Sra && u <= h.uba && (d.l && n.console.log("liveLowQualityAvoidance: ",w,u,r,h.uba,h.L_,u * k * h.L_),r > u * k * h.L_ && (w=!0),d.l && n.console.log(("Stream ").concat(p,": throughput=").concat(r,", bitrate=").concat(u,", playbackRate=").concat(k,", feasible=").concat(w,", live segment ID=").concat(l)));d.l && n.console.log(("Stream ").concat(p,": throughput=").concat(r,", throughput discount=").concat(g,", maxAchievableBitrateWithLatency=").concat(v,", bitrate=").concat(u,", playbackRate=").concat(k,", feasible=").concat(w,", live segment ID=").concat(l));if(w){d.l && n.console.log(("Threshold policy selected stream ").concat(p));m.ud=q;break;}}else n.console.warn("Stream has no throughput statistics");}return m;};d=a(48170);n=a(13550);c=a(61342);},88502:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.fpc=function(c,f,g,e){var h;h=1;g=g.Ui(d.u.U);if((0,n.zk)(g))switch(e){case "loose":h=Math.min(1,c / Math.max(f - g.track.al.G,g.track.al.G));break;default:h=Math.min(1,c / f);}return h;};d=a(65161);n=a(8149);},61342:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.grc=function(c,f,g,e){var h;h=g.kb.Fa;g=g.jn;f=f.Ui(d.u.U);if((0,n.zk)(f) && (f=f.track.al.G,void 0 !== f))return (e=Math.min(e,f) - c.Yyc * g.Fa,void 0 !== g.ng && (e-=c.Fra * Math.sqrt(g.ng)),e=Math.max(0,e),h * e / f);};d=a(65161);n=a(8149);},19188:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.lyb=function(f,g){var e,h;f=null === (e=f[f.length - 1]) || void 0 === e?void 0:e.Ui(n.u.U);if(!f)return Infinity;(0,d.assert)((0,c.zk)(f),"Max rate stream must be a live stream");e=null !== (h=f.bitrate) && void 0 !== h?h:Infinity;return Math.max(e / (g.nl / f.track.al.G),g.gAc);};d=a(91176);n=a(65161);c=a(8149);},4272:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(13550);t=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.Of=function(g){return new n.Ug(g.Lk.first[0]);};return f;})(a(75498).Fz);b["default"]=t;},80588:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=a(75498);n=a(4969);c=a(98301);f=a(71406);a=(function(g){function e(){return null !== g && g.apply(this,arguments) || this;}d.__extends(e,g);e.prototype.Ry=function(h){return (0,f.Ry)(h);};e.prototype.$q=function(h){return (0,n.$q)(h);};e.prototype.Of=function(h){return (0,c.Of)(h);};return e;})(t.Fz);b["default"]=a;},4969:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.$q=void 0;d=a(91176);n=a(13550);c=a(98301);b.$q=(function(){var s7o;function f(g){var J2Q,r,h,k,l,m,p,q,u;J2Q=2;function e(v){var L37,w;L37=2;for(;L37 !== 8;){switch(L37){case 4:var q$3="b";q$3+="uff_lt_";q$3+="h";q$3+="i";q$3+="st";r=q$3;u=w;return !0;break;case 5:return !1;break;case 1:L37=!w || (v.bitrate > p?h.IRb:1) * v.bitrate * k.playbackRate > w?5:4;break;case 2:w=v.kb;L37=1;break;}}}for(;J2Q !== 27;){switch(J2Q){case 10:var N1H="fa";N1H+="llback_low";N1H+="est_ac";N1H+="ceptable_stream";r=N1H;J2Q=20;break;case 15:return l;break;case 12:J2Q=void 0 === m?11:19;break;case 2:var k3r="Must have a";k3r+="t";k3r+=" least one selected strea";k3r+="m";(h=g.config,k=g.player,l=g.Lk,m=g.Wm);(0,d.assert)(m,k3r);l=l.first;J2Q=4;break;case 4:p=m.bitrate;g=m;J2Q=9;break;case 9:J2Q=m.kb?8:18;break;case 19:var z4L="selec";z4L+="t_";z4L+="f";z4L+="easible_buffering";r=z4L;J2Q=20;break;case 8:q=void 0;q=(0,d.Mm)(l,function(v){var Y8M;Y8M=2;for(;Y8M !== 1;){switch(Y8M){case 2:return v.isEqual(m);break;case 4:return v.isEqual(m);break;}}});q=Math.max(q,0);q=Math.min(q + (h.Fmb?2:1),l.length);m=(0,d.cc)(l.slice(0,q).reverse(),e);J2Q=12;break;case 18:l=new n.Ug();l.ud=m;g.Ra !== m.Ra && (l.reason=r,l.ou=u);J2Q=15;break;case 11:m=l[0];J2Q=10;break;case 20:u=null === m || void 0 === m?void 0:m.kb;J2Q=18;break;}}}s7o=2;for(;s7o !== 5;){switch(s7o){case 2:var I1R="1";I1R+="SIY";I1R+="bZr";I1R+="NJCp9";I1R;return {$q:function(g){var P9M;P9M=2;for(;P9M !== 1;){switch(P9M){case 2:var R6d="pl";R6d+="a";R6d+="yin";R6d+="g";return R6d === g.config.l8?(0,c.Of)(g):f(g);break;}}}};break;}}})().$q;},98301:function(t,b,a){var d,n,c,f,g,e,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.QOa=b.$qa=b.Of=void 0;t=a(22970);n=t.__importStar(a(17267));c=a(91176);f=a(50468);g=a(13550);e=t.__importDefault(a(62737));h=a(65161);k=a(20880);b.Of=(d=(function(){function l(p,q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L){var m33,P,I,O,Q,K,M,T;m33=2;for(;m33 !== 16;){switch(m33){case 18:u.forEach(function(U){var W4J,X,Y;W4J=2;for(;W4J !== 4;){switch(W4J){case 2:(X=U.stream,Y=U.blocks);U=U.Ve;0 < H && n.pc(U) && X.Oa && T.add(X.Oa.PB.subarray(U,U + Y));W4J=4;break;}}});return 0 < E || 0 < H?(0,e.default)({Vnc:T,blocks:B + E + H,Ed:w,fl:y,RRc:x,xw:C,Mk:A,Ve:B,rnc:B + E,Sna:G,Ovb:D,kb:(K - L) / J,OCc:F,vy:p.vy,nkc:!1}):K > q.ry?{result:!0,Kba:0,Vv:!0}:{result:!1,Kba:0,Vv:!0};break;case 14:m33=!K || K < q.bitrate * J * p.qaa || !O?13:12;break;case 7:r2gzX.t$V(5);(0,c.assert)(r2gzX.l2Z(I,B));p.Lba && (F=Math.min(F,P));m33=14;break;case 3:var j46="Fi";j46+="r";j46+="st";j46+=" stream un";j46+="defined";(0,c.assert)(q,j46);K=q.kb;(P=y - w,I=v.length,O=q.Oa && q.Oa.length,Q=(null === M || void 0 === M?void 0:M.Oa) && (null === M || void 0 === M?void 0:M.Oa.length));m33=7;break;case 2:void 0 === L && (L=0);q=r[0].stream;M=null === (K=u[0]) || void 0 === K?void 0:K.stream;m33=3;break;case 13:return !1;break;case 12:Q || (M=q);T=new k.Vgb(v);E=Math.max(0,Math.min(E,q.Oa.length - z));H=Math.max(0,Math.min(H,M.Oa.length - z - E));r.forEach(function(U){var a4F,X,Y;a4F=2;for(;a4F !== 4;){switch(a4F){case 2:(X=U.stream,Y=U.blocks);U=U.Ve;n.pc(U) && X.Oa && T.add(X.Oa.PB.subarray(U,U + Y));a4F=4;break;}}});m33=18;break;}}}function m(p,q,r){var w$7,u;w$7=2;for(;w$7 !== 3;){switch(w$7){case 5:u=(r.wfa || r.kb) / r.kb;return 1 >= u?p.wsa:Math.min(Math.max((p.MRc * Math.min(8 * q / r.bitrate,p.FH) - p.fB) / (u - 1),p.TEb),p.wsa);break;case 1:return p.TEb;break;case 2:w$7=!r.kb?1:5;break;case 7:return p.TEb;break;}}}var Y99;Y99=2;for(;Y99 !== 5;){switch(Y99){case 2:var N4g="1";N4g+="SI";N4g+="Y";N4g+="bZrNJC";N4g+="p9";N4g;return {$qa:l,Of:function(p){var I_f,O,Q,T,U,z,B,C,D,E,H,F,G,J,L,K,M,P,I,q,r,u,v,w,x,y,A;I_f=2;for(;I_f !== 16;){switch(I_f){case 17:return B;break;case 13:v.RK(function(X,Y,W){var J6o,Z;J6o=2;for(;J6o !== 5;){switch(J6o){case 2:void 0 !== W && (X=X[W],null !== (Z=X.Oa) && void 0 !== Z && Z.length || (X.Pw=!0));J6o=5;break;}}});(O=f.Io.hna(u.buffer.Oa),Q=u.buffer.Vt - O.ma);q=(r.Sea || x) && L >= r.sga?z.length:D + 2;(T=(function(X){var H1k,t1P;H1k=2;for(;H1k !== 4;){switch(H1k){case 2:var v7Y="varia";v7Y+="bl";v7Y+="e";t1P=r.Qwa;H1k=t1P === v7Y?1:3;break;case 3:H1k=5;break;case 5:return z.slice(0,X).map(function(Y,W){var Y3D;Y3D=2;for(;Y3D !== 1;){switch(Y3D){case 2:return W < D?[r.saa,r.Gba]:W === D?[r.raa,r.Fba]:[r.taa,r.Hba];break;}}});break;case 1:return z.slice(0,X).map(function(Y){var y6y;y6y=2;for(;y6y !== 1;){switch(y6y){case 2:return [m(r,u.buffer.Vt,Y),0];break;case 4:return [m(r,u.buffer.Vt,Y),5];break;}}});break;}}})(q),U=z.slice(0,q).map(function(X,Y){var K5C=r2gzX;var U_X,W;U_X=2;for(;U_X !== 5;){switch(U_X){case 2:K5C.t$V(12);W=K5C.g4d(D,Y);return function(){var N8O,Z,ba,ca,da,ia,S,N,V,aa,fa,ha,ka,pa,oa;N8O=2;for(;N8O !== 5;){switch(N8O){case 2:a:{K5C.u5O(0);Z=Math.max(K5C.g4d(1,Y),0);ba=T[Y][0];ca=T[Y][1];da=u.playbackRate;N=v.pSa(Y,J,ba);V=N.Y2a;N=N.Y1a;K5C.u5O(8);aa=v.pSa(Z,K5C.l2Z(V,J),ca);Z=aa.Y2a;fa=aa.Y1a;aa=N[0].stream;ha=null === (ia=fa[0]) || void 0 === ia?void 0:ia.stream;ia=aa.kb || 0;ka=aa.Oa && aa.Oa.length;pa=x?r.tmc:ka?r.tZ:r.umc;pa=W?r.S9:pa;if(I && !I.Coa && I.kb >= ia && I.bitrate <= aa.bitrate || Infinity !== r.tWa && 0 < r.tWa && aa.Oa && J < aa.Oa.length && 8 * aa.Oa.PRc()[J] / aa.Oa.htb()[J] > r.tWa){oa=!1;}else {W || ka || (aa.Pw=!0);if(!W || !ka)if(ka){if(ia >= Math.max(aa.ry * da,aa.bitrate * da * pa) && aa.Vv){oa=!0;break a;}}else if(ia >= aa.bitrate * da * pa){oa=!0;break a;}da=!r.J8 || aa === C || aa.Ab === C.Ab && w?0:(da=aa.yb) && da.Jh && da.Jh.Fa?da.Jh.Fa + r.F8 * (da.Jh.ng?Math.sqrt(da.Jh.ng):0):0;K5C.t$V(8);ka=K5C.g4d(ca,ba);ba=(null !== (oa=aa.Bv) && void 0 !== oa?oa:0) * ba / ka + (null !== (S=null === ha || void 0 === ha?void 0:ha.Bv) && void 0 !== S?S:0) * ca / ka;(oa=l(r,z,N,fa,O,H + da - E,M,G - E,F - E,J,O.length,K,Q,V,Z,P,u.Sna,u.playbackRate,ba)) && oa.result && (B.qad=oa.Kba);I={Coa:oa && oa.result,kb:ia,bitrate:aa.bitrate};oa=oa && oa.result;}}return oa;break;}}};break;}}}));(0,c.assert)(U.length === T.length);U[D]()?D + 1 < z.length && L > r.eB && (void 0 === A || p && p > A || F - A > r.jS && L > r.Jba) && (y=(0,c.eLa)(z.slice(D + 1,q),function(X,Y){var c2D;c2D=2;for(;c2D !== 1;){switch(c2D){case 2:return U[D + 1 + Y]();break;}}})):y.Oa && y.Oa.length && ((y=(0,c.eLa)(z.slice(0,D),function(X,Y){var k8p;k8p=2;for(;k8p !== 1;){switch(k8p){case 4:return U[Y]();break;case 2:return U[Y]();break;}}})) || (y=z[0]));B.ud=y || C;I_f=17;break;case 4:var J$o="Se";J$o+="lected strea";J$o+="m not ";J$o+="found in stream list";var z5K="n";z5K+="u";z5K+="mb";z5K+="e";z5K+="r";var q9w="numb";q9w+="e";q9w+="r";var r5u="invali";r5u+="d player fragm";r5u+="entI";r5u+="ndex";void 0 === u.Ve && (u.Ve=0);(0,c.assert)(n.pc(u.Ve),r5u);(0,c.assert)(q9w === typeof u.buffer.Vt);(0,c.assert)(z5K === typeof u.Sna);(z=v.first,B=new g.Ug(),C=y,D=(0,c.Mm)(z,function(X){var U2p;U2p=2;for(;U2p !== 1;){switch(U2p){case 2:return X.isEqual(y);break;}}}));r2gzX.u5O(13);(0,c.assert)(r2gzX.l2Z(D,0),J$o);(E=u.buffer.Hb,H=u.buffer.Ed,F=u.buffer.Mk,G=u.buffer.fl,J=u.Ve,L=G - H,K=u.state === h.Ub.rg || u.state === h.Ub.Oi?u.buffer.xw:0,M=r.GH,P=null !== (q=r.fB) && void 0 !== q?q:1E3);I_f=13;break;case 2:var Q$z="Must h";Q$z+="ave a selected";Q$z+=" ";Q$z+="s";Q$z+="tream";(r=p.config,u=p.player,v=p.Lk,w=p.xaa,x=p.zZ,y=p.Wm,A=p.Ara);p=p.qVa;(0,c.assert)(y,Q$z);I_f=4;break;}}},QOa:m};break;}}})(),d.Of);b.$qa=d.$qa;b.QOa=d.QOa;},71406:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.fxc=b.Ry=void 0;t=a(22970);d=t.__importStar(a(17267));n=a(91176);c=a(65161);f=a(88318);t=t.__importStar(a(65167));g=a(13550);e=t.HRc;a=(function(){function u(x,y,A,z,B,C){var k0A;k0A=2;for(;k0A !== 4;){switch(k0A){case 2:var a$D="no_valid";a$D+="_Bi";a$D+="tr";a$D+="a";a$D+="te";var J_0="no_v";J_0+="alid";J_0+="_V";J_0+="M";J_0+="AF";var a9y="no_val";a9y+="id";a9y+="_DelayTarg";a9y+="et";r2gzX.t$V(12);y=r2gzX.g4d(B,z);x=A?x.Qb >= C.pw && x.Qb <= C.mEb:q(x,C) && r(x,C);return (C=y && x)?{Coa:C}:{Coa:C,reason:x?a9y:A?J_0:a$D};break;}}}var W1K;function r(x,y){var T9l,A,z;T9l=2;for(;T9l !== 9;){switch(T9l){case 5:A=A?null !== (z=A.maxInitAudioBitrate) && void 0 !== z?z:y.yu:y.yu;y=x.tt?x.tt <= y.gB:!0;return (x.Bv?x.Bv <= A:!0) && y;break;case 2:(A=x.Ui(c.u.X))?(A=A.Uc,A=y && y.Pp && 0 <= y.Pp.indexOf(A)?w(A,y.yI):w(A,y.Wla)):A=void 0;T9l=5;break;}}}function k(x,y,A){var e_o;e_o=2;for(;e_o !== 5;){switch(e_o){case 2:x=(0,g.nob)(A.Ap,x * A.tS);return (0,g.jFb)(x,y);break;}}}function m(x,y){var E6j=r2gzX;var T4m,A;T4m=2;for(;T4m !== 9;){switch(T4m){case 3:var C9E="s";C9E+="i";C9E+="gm";C9E+="oi";C9E+="d";return 0 === y.aN.lastIndexOf(C9E,0)?(A=y.aN,(A=y.wMb[A]) && 2 === A.length?1E3 * (A[0] + A[1] * e(x)):y.Gs):y.Gs;break;case 4:return (A=y.wMb[A]) && 2 === A.length?1E3 * (A[0] + A[1] * Math.log(1 + x)):y.Gs;break;case 5:A=y.aN;T4m=4;break;case 1:var L3x="l";L3x+="o";L3x+="g";T4m=0 === y.aN.lastIndexOf(L3x,0)?5:3;break;case 2:E6j.t$V(14);var C7t=E6j.l2Z(5882,19,94087,6,18);E6j.t$V(15);var o4X=E6j.l2Z(11,1,1,9978,998);x=(0,g.Kma)(x,0,C7t) / o4X;T4m=1;break;}}}W1K=2;function p(x,y,A){var k2r,z,B,C,D,E,H;k2r=2;for(;k2r !== 19;){switch(k2r){case 9:H=u(D,B.ou,z,E,H,x);D=H.Coa;H=H.reason;B.m_=E;k2r=14;break;case 13:B.reason=H;k2r=12;break;case 12:C--;k2r=1;break;case 1:k2r=0 <= C && (z?A[C].Qb >= x.pw:q(A[C],x))?5:11;break;case 11:var g3C="fa";g3C+="llback";g3C+="_no";g3C+="_acceptable_strea";g3C+="m";var y2P="below_minInit";y2P+="Vi";y2P+="deoBitrate";d.sd(B) && !q(A[C],x) && (B=h(A[C],x),B.reason=y2P);d.sd(B) && (B=h(A[0],x),B.reason=g3C);return B;break;case 2:(z=!!x.pw && !!x.mEb && A.every(function(F){var T06;T06=2;for(;T06 !== 1;){switch(T06){case 2:return F.Qb && 110 >= F.Qb;break;}}}),B=null,C=A.length - 1);k2r=1;break;case 5:D=A[C];B=h(D,x);(E=k(D.bitrate * y.playbackRate,B.ou,x),H=m(B.ou,x));k2r=9;break;case 14:k2r=D?11:13;break;}}}function l(x,y){var z7p,A,z;z7p=2;for(;z7p !== 13;){switch(z7p){case 5:z7p=0 === z?4:3;break;case 3:z7p=-1 === z?9:8;break;case 2:z7p=x.oL?1:14;break;case 6:return Math.floor(x.d + (A.d - x.d) * (y - x.r) / (A.r - x.r));break;case 9:return A[A.length - 1].d;break;case 1:(A=x.oL,z=(0,n.Mm)(A,function(B){var o5h;o5h=2;for(;o5h !== 1;){switch(o5h){case 2:return y <= B.r;break;case 4:return y < B.r;break;}}}));z7p=5;break;case 4:return A[0].d;break;case 8:r2gzX.t$V(0);x=A[r2gzX.l2Z(1,z)];A=A[z];z7p=6;break;case 14:return x.Gs;break;}}}function q(x,y){var B6W,A;B6W=2;for(;B6W !== 5;){switch(B6W){case 2:A=x.tt?x.tt >= y.uy:!0;return (x.Bv?x.Bv >= y.ty:!0) && A;break;}}}function h(x,y){var B8q,A,z,B;B8q=2;for(;B8q !== 11;){switch(B8q){case 14:var p2j="hi";p2j+="st";p2j+="_th";p2j+="rough";p2j+="put";var l1i="his";l1i+="t_";l1i+="tdig";l1i+="est";B && z.Fk?(x=z.Fk(y.twa / 100) || A.ud.kb,A.reason=l1i):A.ud.kb && (x=A.ud.kb,A.reason=p2j);A.ou=x;return A;break;case 7:B8q=(B=d.pc(y.twa) && 0 <= y.twa && 100 >= y.twa && z)?6:14;break;case 2:A=new g.Ug();A.ud=x;z=A.ud.yb;B8q=4;break;case 4:A.yb=z;x=0;z=null === z || void 0 === z?void 0:z.vl;B8q=8;break;case 6:(B=f.Ghb.Urc(z),d.dy(B)?(z.Fk=B,B=!0):B=!1);B8q=14;break;case 8:B8q=7;break;}}}for(;W1K !== 5;){switch(W1K){case 2:var e26="1SI";e26+="YbZr";e26+="N";e26+="J";e26+="Cp9";e26;return {OJa:function(x){var S87,y,A,z;S87=2;for(;S87 !== 4;){switch(S87){case 2:(y=x.config,A=x.player,z=x.Wm);x=x.Lk.first;return y.gX?p(y,A,x,z):v(y,A,x,z);break;}}},s3b:u};break;}}function w(x,y){var f9U,A;f9U=2;for(;f9U !== 4;){switch(f9U){case 2:y.some(function(z){var G6E,B;G6E=2;for(;G6E !== 4;){switch(G6E){case 2:B=z.profiles;(B=B && 0 <= B.indexOf(x)) && (A=z.override);return B;break;}}});return A;break;}}}function v(x,y,A){var v58,z,B;v58=2;for(;v58 !== 4;){switch(v58){case 2:(z=new g.Ug(),B=Math.max(x.uy,x.yS));z.ud=(0,n.cc)(A.filter(function(C){var Z6j;Z6j=2;for(;Z6j !== 1;){switch(Z6j){case 4:return r(C,x);break;case 2:return r(C,x);break;}}}).reverse(),function(C){var j_r,E,D;j_r=2;for(;j_r !== 6;){switch(j_r){case 8:D=!1;j_r=9;break;case 4:E=l(x,C);j_r=3;break;case 2:D=C.kb;j_r=1;break;case 9:return D;break;case 1:j_r=C.bitrate > B?5:7;break;case 7:var z5J="n";z5J+="o_histor";z5J+="ical_lt";z5J+="e_minb";z5J+="itrate";var M0h="his";M0h+="t_tput_lt_m";M0h+="inbi";M0h+="trate";var L4G="l";L4G+="t_hist_";L4G+="lte_minbitrate";D && C.bitrate * y.playbackRate <= D?(z.ou=D,z.reason=L4G,D=!0):D?(z.ou=D,z.reason=M0h,D=!1):(z.reason=z5J,D=!0);j_r=9;break;case 5:j_r=(C=C.bitrate * y.playbackRate,D)?4:8;break;case 3:var S6x="hi";S6x+="st_bu";S6x+="ff";S6x+="ti";S6x+="me";k(C,D,x) <= E?(z.ou=D,z.reason=S6x,D=!0):D=!1;j_r=9;break;}}}) || A[0];return z;break;}}}})();t=a.s3b;b.Ry=a.OJa;b.fxc=t;},62737:function(t,b,a){var W7k="d";W7k+="e";W7k+="f";W7k+="ault";var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);a(91176);n=a(13550);b[W7k]=(function(){var j6y;j6y=2;for(;j6y !== 1;){switch(j6y){case 2:return {T4b:function(c){var v1O=r2gzX;var e3X,H,F,G,J,L,K,M,C,D,E,f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B;e3X=2;for(;e3X !== 50;){switch(e3X){case 32:(e=k,u+=L[g],++g,g >= L.length && ++J < f.length && (L=f.aaa(J),K=f.OZ(J),g=0),D=K[g],k+=D);e3X=33;break;case 41:(u+=L[g],++g,g >= L.length && ++J < f.length && (L=f.aaa(J),K=f.OZ(J),g=0));e3X=42;break;case 38:H >= F.length && ++B < f.length && (q-=F.length,F=f.aaa(B),G=f.OZ(B),H=0);c && l.push(D / (y / 1E3));C=D;e3X=54;break;case 40:++H;e3X=39;break;case 39:e3X=H >= q && D > z?51:38;break;case 35:e3X=u < p?34:53;break;case 34:C=Math.max(p,r);e3X=33;break;case 30:e3X=D < x?29:28;break;case 29:return (c && l.push(D / (y / 1E3)),d.__assign({result:!1,Kba:D / (y / 1E3),Vv:!1},c && ({nma:l})));break;case 52:return (c && l.push(D / (y / 1E3)),d.__assign({result:!1,Kba:Math.min(D,h) / (y / 1E3),Vv:!0},c && ({nma:l})));break;case 23:M--;p=F[H];A=G[H];e3X=35;break;case 28:v1O.t$V(16);e+=v1O.g4d(0,E,v,p);m+=A;e3X=43;break;case 51:return d.__assign({result:!0,Kba:h / (y / 1E3),Vv:!0},c && ({nma:l}));break;case 25:(H=D[1],F=f.aaa(B),G=f.OZ(B),J=0,L=f.aaa(J),K=f.OZ(J),M=A - p);e3X=24;break;case 24:e3X=M?23:51;break;case 11:var S3R=" >= fr";S3R+="ag";S3R+="mentsLeng";S3R+="th: ";var Z1n="Stre";Z1n+="amingInd";Z1n+="ex: ";p >= A && n.console.error(Z1n + p + S3R + A);e+=B;0 === m && (e=0);v1O.t$V(3);e*=v1O.l2Z(y,1E3);v1O.t$V(3);m*=v1O.l2Z(y,1E3);v1O.u5O(3);x*=v1O.g4d(y,1E3);v1O.u5O(3);w*=v1O.g4d(y,1E3);e3X=15;break;case 54:h=Math.min(D,h);e3X=24;break;case 53:e3X=(D=Math.max(m - e,0),D < w && D < C)?52:28;break;case 9:h=Infinity;C=0;g=0;D=f.OZ(0)[0];v1O.t$V(17);k=v1O.g4d(k,1E3,D,y);v1O.t$V(18);v=v1O.l2Z(0,8,v);v1O.u5O(3);E=v1O.g4d(y,1E3);e3X=11;break;case 3:l=[];e3X=9;break;case 33:e3X=u < C?32:31;break;case 15:v1O.u5O(3);z*=v1O.l2Z(y,1E3);D=d.__read(f.Grc(p),2);B=D[0];e3X=25;break;case 31:v1O.u5O(0);D=v1O.l2Z(e,m);e3X=30;break;case 2:var c20="1SIYb";c20+="ZrN";c20+="JC";c20+="p9";(f=c.Vnc,g=c.blocks,e=c.Ed,h=c.fl,k=c.RRc,l=c.xw,m=c.Mk,p=c.Ve,q=c.rnc,r=c.Sna,u=c.Ovb,v=c.kb,w=c.OCc,x=c.vy);c=c.nkc;c20;(y=f.O,A=Math.min(f.Wnc,g),z=h - e,B=8 * l / v | 0);e3X=3;break;case 43:u-=p;e3X=42;break;case 42:e3X=k < e && g < H?41:40;break;}}}};break;}}})().T4b;},14087:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(13550);t=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.Of=function(g){g=g.Lk.first.filter(function(e){return e.Mq;});return g.length?new n.Ug(g[Math.floor(Math.random() * g.length)]):new n.Ug();};return f;})(a(75498).Fz);b["default"]=t;},3447:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(91176);c=a(13550);t=(function(f){function g(){return null !== f && f.apply(this,arguments) || this;}d.__extends(g,f);g.prototype.Of=function(e){var h,k,l,m,p,q;h=e.config;k=e.Wm;l=e.xCb;m=e.Lk.first;p=e.player.buffer.Mk;e="forward" === h.mOc;if(void 0 === k)return (k=e?m[(0,c.wZ)(m)]:m[(0,c.wZ)(m,m.length)],new c.Ug(k));if(!k.sH){q=(0,n.Mm)(m,function(r){return r.isEqual(k);});q=(0,c.wZ)(m,q);k=m[q];}if(!k)return new c.Ug();if(void 0 === l || p > l + h.FUc){l=m.filter(function(r){return r.Mq;});if(!l.length)return new c.Ug();h=(0,n.Mm)(l,function(r){return r.isEqual(k);});h=(l.length + h + (e?1:-1)) % l.length;return new c.Ug(l[h]);}return new c.Ug(k);};return g;})(a(75498).Fz);b["default"]=t;},21875:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=a(66164);n=a(91176);c=a(13550);a=a(75498);g=[];e=[];t.platform.Vac && (t.platform.Vac.Op={Ob:function(){f=void 0;g=[];e=[];},a2:function(h){f=h;},x9c:function(){return {all:g,KRb:e};}});a=(function(h){function k(){return null !== h && h.apply(this,arguments) || this;}d.__extends(k,h);k.prototype.Of=function(l){var m;m=l.Wm;g=l=l.Lk.first;if(void 0 === f)return (m=(0,c.wZ)(l),f=l[m].bitrate,new c.Ug(l[m]));if(!l.length)return new c.Ug();m=(0,n.cc)(l,function(p){return p.bitrate === f;});return void 0 === m?(c.console.log("Defaulting to first stream due to unvalid bitrate requested: " + f),new c.Ug(l[0])):new c.Ug(m);};return k;})(a.Fz);b["default"]=a;},19787:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(91176);c=a(48170);f=a(13550);t=a(75498);t=(function(g){function e(){var p64,h;p64=2;for(;p64 !== 4;){switch(p64){case 9:h=g.call(this) && this;"";return h;break;case 2:var Q8m="1SIYbZrNJC";Q8m+="p";Q8m+="9";h=g.call(this) || this;Q8m;return h;break;}}}var l9o;l9o=2;for(;l9o !== 4;){switch(l9o){case 9:d.__extends(e,g);l9o=5;break;case 2:d.__extends(e,g);l9o=1;break;case 1:e.prototype.Of=function(h){var u_t,q,r,u,v,k,l,m,p;u_t=2;for(;u_t !== 27;){switch(u_t){case 12:var z3W=",";z3W+=" feas";z3W+="ible=";var r8J=", t";r8J+="hresh";r8J+="o";r8J+="ld";r8J+="=";var J2x=", b";J2x+="it";J2x+="rat";J2x+="e";J2x+="=";var M3A=":";M3A+=" thr";M3A+="ou";M3A+="ghpu";M3A+="t=";var f6d="Str";f6d+="e";f6d+="am ";(q=p.yb.kb.Fa,r=k.BUc,u=p.bitrate,v=u < q - r);c.l && f.console.log(f6d + h + M3A + q + J2x + u + r8J + r + z3W + v);u_t=10;break;case 6:u_t=-1 < h?14:17;break;case 19:--h;u_t=6;break;case 2:var d_k="Must ";d_k+="have at least one ";d_k+="selected stream";(k=h.config,l=h.player,m=h.Lk);h=h.Wm;(0,n.assert)(h,d_k);u_t=4;break;case 14:p=m[h];u_t=13;break;case 10:u_t=v?20:19;break;case 7:r2gzX.u5O(19);var S$3=r2gzX.g4d(11,0,11,12,11);h=m.length - S$3;u_t=6;break;case 4:var l_T="Playback str";l_T+="ea";l_T+="m se";l_T+="lection";var M8$="play";M8$+="er mi";M8$+="ssing fr";M8$+="agment";M8$+="Index";var J1X="n";J1X+="um";J1X+="b";J1X+="e";J1X+="r";(0,n.assert)(J1X === typeof l.Ve,M8$);c.l && f.console.log(l_T);u_t=9;break;case 17:var Z$9="Threshold po";Z$9+="licy selected stream 0 (no feasible st";Z$9+="reams).";l.ud=m[0];c.l && f.console.log(Z$9);return l;break;case 9:l=new f.Ug(h);m=m.first;u_t=7;break;case 18:var C3R=". Skipp";C3R+="in";C3R+="g.";var O$7="Cannot ";O$7+="obtain tp";O$7+="ut stats fo";O$7+="r stream ";c.l && f.console.log(O$7 + h + C3R);u_t=19;break;case 20:var X$v="Th";X$v+="reshold polic";X$v+="y selected stream ";return (c.l && f.console.log(X$v + h),l.ud=p,l);break;case 13:u_t=p.yb && p.yb.kb?12:18;break;}}};return e;break;}}})(t.Fz);b["default"]=t;},3082:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.V8b=b.zea=void 0;d=a(21875)["default"];b.zea={first:function(){return a(58223)["default"];},random:function(){return a(14087)["default"];},optimized:function(){return a(80588)["default"];},roundrobin:function(){return a(3447)["default"];},selectaudio:function(){return a(32028)["default"];},selectaudioadaptive:function(){return a(70753)["default"];},"default":function(){return a(80588)["default"];},lowest:function(){return a(4272)["default"];},highest:function(){return a(63499)["default"];},throughputthreshold:function(){return a(19787)["default"];},replay:function(){return a(52255)["default"];},checkdefault:function(){return a(32966)["default"];},livesimple:function(){return a(65114)["default"];},testscript:function(){return d;}};b.V8b=["selectaudio","selectaudioadaptive"];},20880:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Vgb=void 0;t=(function(){function a(d){this.PB=[];this.PB.push(d);}Object.defineProperties(a.prototype,{O:{get:function(){return this.PB[0].O;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.PB.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Wnc:{get:function(){var d;return null !== (d=this.Z2b) && void 0 !== d?d:this.Z2b=this.PB.reduce(function(n,c){return n + c.length;},0);},enumerable:!1,configurable:!0}});a.prototype.OZ=function(d){return this.PB[d].fg;};a.prototype.aaa=function(d){return this.PB[d].sizes;};a.prototype.add=function(d){this.PB.push(d);};a.prototype.Grc=function(d){var c;for(var n=0;0 <= d;){c=this.PB[n];if(d < c.length)break;n++;d-=c.length;}return [n,d];};return a;})();b.Vgb=t;},95591:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.RGa=void 0;d=a(22970);n=a(91562);a(52571);a(13550);t=(function(){function c(f,g,e,h){this.fg=f;this.sizes=g;this.O=e;this.length=Math.min(f.length,g.length);this.bf=h;}Object.defineProperties(c.prototype,{ma:{get:function(){return void 0 !== this.bf?this.bf:this.bf=this.k2b();},enumerable:!1,configurable:!0}});c.prototype.subarray=function(f,g){return new c(this.fg.subarray(f,g),this.sizes.subarray(f,g),this.O);};c.prototype.concat=function(){var e,h;for(var f=[],g=0;g < arguments.length;g++)f[g]=arguments[g];g=[this];f=g.concat.apply(g,d.__spreadArray([],d.__read(f),!1));g=f.reduce(function(k,l){return k + l.length;},0);e=new Uint32Array(g);h=new Uint32Array(g);g=f[0].O;f.reduce(function(k,l){n.zHa.set(e,l.fg,k);n.zHa.set(h,l.sizes,k);return k + l.length;},0);return new c(e,h,g);};c.prototype.k2b=function(){for(var f=this.sizes,g=this.length,e=0,h=0;h < g;++h)e+=f[h];return e;};return c;})();b.RGa=t;},75498:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Fz=void 0;t=(function(){function a(){}a.prototype.Ry=function(d){return this.Of(d);};a.prototype.$q=function(d){return this.Of(d);};a.prototype.uMb=function(d){return this.$q(d);};a.prototype.tMb=function(d){return this.Of(d);};return a;})();b.Fz=t;},16096:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w,x;Object.defineProperties(b,{__esModule:{value:!0}});b.h6=void 0;t=a(22970);d=a(66164);n=a(91176);c=a(65161);f=a(62156);g=t.__importDefault(a(29340));e=a(33923);a(52571);h=a(8149);k=a(3082);l=a(35479);m=a(13550);a(87775);a(15050);p=a(94320);q=a(79305);r=a(18048);a(71915);u=a(86268);a(79321);a(29480);v=a(13103);w=a(24757);a(79257);x=a(32966);new d.platform.Console("ASEJS_STREAM_SELECTOR","media|asejs");a=(function(){var L$p;function y(A,z,B,C){var E6R,D;E6R=2;for(;E6R !== 6;){switch(E6R){case 2:var r7J="1SIYbZr";r7J+="NJ";r7J+="C";r7J+="p9";this.uwa=A;this.config=z;this.Do=B;r7J;E6R=9;break;case 9:var C2f="d";C2f+="e";C2f+="f";C2f+="a";C2f+="ult";A || (A=z.kxa);this.yv=new ((k.zea[A] || k.zea[C2f])())();C && (this.V0=new l.kW(z,null === (D=B.track) || void 0 === D?void 0:D.mediaType));E6R=6;break;}}}L$p=2;for(;L$p !== 7;){switch(L$p){case 3:y.prototype.UOb=function(A,z,B){var u7q;u7q=2;for(;u7q !== 1;){switch(u7q){case 2:var z1U="u";z1U+="ndefin";z1U+="e";z1U+="d";z1U !== typeof z?z.bitrate < B.bitrate && (this.LF=A):this.KF=this.LF=void 0;u7q=1;break;}}};y.prototype.mda=function(A,z,B,C){var r4l,D,E,H;r4l=2;for(;r4l !== 5;){switch(r4l){case 2:D=this;A.RK(function(F){var w5S;w5S=2;for(;w5S !== 1;){switch(w5S){case 2:(0,n.AZ)(F,function(G){var h5s;h5s=2;for(;h5s !== 1;){switch(h5s){case 2:G.Mq && G.yb && G.yb.confidence?(E !== G.yb && (E=G.yb,H=C(G.yb,B,z,G.track.M.VL[c.u.X])),G.kb=Math.floor(H.lower) || 1,G.wfa=Math.floor(H.upper || 1) || 1):G.kb=D.config.Lhc;h5s=1;break;}}});w5S=1;break;}}});r4l=5;break;}}};return y;break;case 2:y.prototype.wk=function(){var A6t;A6t=2;for(;A6t !== 1;){switch(A6t){case 4:return this.Do;break;case 2:return this.Do;break;}}};y.prototype.sNb=function(A){var k0$;k0$=2;for(;k0$ !== 1;){switch(k0$){case 2:this.Do=A;k0$=1;break;}}};y.prototype.a2=function(A,z,B,C,D,E,H){var v0p,T,U,z2p,F,G,J,L,K,M,P,I,O,Q;v0p=2;for(;v0p !== 22;){switch(v0p){case 26:v0p=z2p === c.Ub.Oi?25:24;break;case 12:F=(0,v.rdc)(B);F.xh=A.state;v0p=10;break;case 15:v0p=z2p === c.Ub.xm?27:26;break;case 6:(0,h.zk)(I[0]) && (this.Do.fw=(0,m.fw)(A,I[0].track.al.G,P.nl,this.Do.fw));(T=z.ZUc(),U=Q?(0,e.$1a)(Q):void 0);B=C.call(this.yv,{config:P,player:A,Lk:T,Wm:U,xaa:!!D,zZ:O,RGc:B,fw:this.Do.fw,Ara:this.KF,qVa:this.LF,xCb:Math.max(null !== (F=this.KF) && void 0 !== F?F:0,null !== (G=this.LF) && void 0 !== G?G:0)});v0p=12;break;case 7:C=this.yv.Ry;v0p=6;break;case 16:C=this.yv.$q;v0p=6;break;case 10:v0p=(G=F.ud)?20:19;break;case 8:z2p=A.state;v0p=z2p === c.Ub.Cl?7:17;break;case 27:C=this.yv.uMb;v0p=6;break;case 23:C=this.yv.Of;v0p=6;break;case 17:v0p=z2p === c.Ub.Sf?16:15;break;case 2:(K=null === A || void 0 === A?void 0:A.buffer,M=d.platform.time.ha(),P=this.config,I=z.first);(0,p.ypb)(z.first);(O=(0,w.vWa)(P.NFb,A,z.first,this.Do.kl),Q=O.Wm);O=O.zZ;A.state === c.Ub.Cl && (this.LF=this.KF=void 0);void 0 !== C && this.mda(z,A.state,A.buffer,C);v0p=8;break;case 19:A.VY && G && (0,g.default)((0,r.PIb)(G,K,A,M,this.config.GJa),F);return F;break;case 20:var H0x="pl";H0x+="ayi";H0x+="ng";var H2Q="mi";H2Q+="n_fragment_v";H2Q+="m";H2Q+="af";(this.Do.gU(G),(0,q.kWa)(z.first,G,K.fl - K.Ed,this.config.vtb,this.config.fOb,this.config.i0),F.yM=G.kb || 0,F.yb=G.yb,F.reason && (G.Ku=F.reason,H2Q !== F.reason && (G.A0a=F.ou,G.m_=F.m_,G.iTa=null === (J=F.yb) || void 0 === J?void 0:J.rX,G.jTa=null === (L=F.yb) || void 0 === L?void 0:L.vl)),z=(0,u.qEb)({buffer:K,player:A,YG:H,xaa:D,esa:I[0],ud:G,Zxa:(0,u.Atc)(I,G),Hxa:I[I.length - 1],V0:this.V0}),F.sn=z || F.sn,Q && !O && G.bitrate < Q.bitrate && (this.KF=K.Mk),A.state !== c.Ub.rg && A.state !== c.Ub.Oi?(Q=(0,f.EIb)(A.state),E=this.hA(A.buffer,Q,A.playbackRate,G,E),(F.Pm=E.complete)?F.NLa=E.reason:(F.Pm=!1,F.QM=E.QM,F.Iba=E.Iba,F.progress=E.progress)):(F.Pm=!0,F.NLa=H0x));v0p=19;break;case 25:C=this.yv.tMb;v0p=6;break;case 24:v0p=23;break;}}};y.prototype.hA=function(A,z,B,C,D){var C1d;C1d=2;for(;C1d !== 1;){switch(C1d){case 2:return (0,x.hA)(A,z,B,(0,e.$1a)(C),D,this.config);break;}}};L$p=3;break;}}})();b.h6=a;},44284:function(t,b,a){var n,c,f,g;function d(e,h,k){var l;l=(0,c.Mm)(e,function(m){return k && m.Qb?m.Qb > k:m.bitrate > h;});l=0 < l?l - 1:0 === l?0:e.length - 1;return e[l];}Object.defineProperties(b,{__esModule:{value:!0}});b.sCa=b.tHa=void 0;b.oyb=d;n=a(22970);c=a(91176);f=a(33923);t=(function(){function e(){this.TB=[];}Object.defineProperties(e.prototype,{first:{get:function(){var h;return null === (h=this.TB[0]) || void 0 === h?void 0:h.Gd;},enumerable:!1,configurable:!0}});e.prototype.JP=function(h){this.TB.push({Gd:h});};e.prototype.RK=function(h){this.TB.forEach(function(k,l){return h(k.Gd,l);});};e.prototype.Cvb=function(h){this.RK(function(k){k.forEach(function(l,m){return h(l,m);});});};e.prototype.pSa=function(h,k,l){var m,p,q,r,u,v,w;m=l;p=k;q=0;r=[];u=this.first[h];v=u.Qb;w=u.bitrate;this.TB.forEach(function(x,y){var A,z;x=x.Gd;0 >= m || (y=0 === y?u:d(x,w,v),x=null === (A=y.Oa) || void 0 === A?void 0:A.bna(p,m),A=null !== (z=null === x || void 0 === x?void 0:x.blocks) && void 0 !== z?z:0,q+=A,r.push({stream:y,blocks:A,Ve:p}),null === x || void 0 === x?!0:!x.D1) || (p=0,m-=x.D1);});return {Y1a:r,Y2a:q};};e.prototype.ZUc=function(){var h,k;h=new g();k=this.TB.map(function(l){var m;m=l.Gd.map(function(p){return (0,f.$1a)(p);});return n.__assign(n.__assign({},l),{Gd:m});});h.JQc(k);return h;};return e;})();b.tHa=t;g=(function(){function e(){this.TB=[];}Object.defineProperties(e.prototype,{first:{get:function(){var h;return null === (h=this.TB[0]) || void 0 === h?void 0:h.Gd;},enumerable:!1,configurable:!0}});e.prototype.JP=function(h){this.TB.push({Gd:h});};e.prototype.RK=function(h){this.TB.forEach(function(k,l){return h(k.Gd,l);});};e.prototype.Cvb=function(h){this.RK(function(k){k.forEach(function(l,m){return h(l,m);});});};e.prototype.JQc=function(h){this.TB=n.__spreadArray([],n.__read(h),!1);};e.prototype.pSa=function(h,k,l){var m,p,q,r,u,v,w;m=l;p=k;q=0;r=[];u=this.first[h];v=u.Qb;w=u.bitrate;this.TB.forEach(function(x,y){var A,z;x=x.Gd;0 >= m || (y=0 === y?u:d(x,w,v),x=null === (A=y.Oa) || void 0 === A?void 0:A.bna(p,m),A=null !== (z=null === x || void 0 === x?void 0:x.blocks) && void 0 !== z?z:0,q+=A,r.push({stream:y,blocks:A,Ve:p}),null === x || void 0 === x?!0:!x.D1) || (p=0,m-=x.D1);});return {Y1a:r,Y2a:q};};e.prototype.toJSON=function(){return {};};return e;})();b.sCa=g;},79321:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.B5c=function(c,f,g){(0,d.assert)(void 0 !== c.buffer.Vt && 0 < c.buffer.Vt,"Buffer capacity must be > 0");f.RK(function(e){(0,d.assert)(0 < e.length,"Stream list is empty");});f.Cvb(function(e){(0,d.assert)(e.Mq,"Stream isUsable is false");});(0,d.assert)(0 < c.playbackRate,"invalid playback rate");(0,d.assert)("undefined" === typeof g === (c.state === n.Ub.Cl),"player must be in starting state when there is no prior selection");(0,d.assert)("undefined" !== typeof g === (c.state !== n.Ub.Cl),"player cannot be in starting state when there is a prior selection");};d=a(52571);n=a(65161);},71915:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.C5c=function(n){(0,d.assert)("object" === typeof n,"Result is not an object");n && null !== n.ud && ((0,d.assert)("number" === typeof n.CNc,"Result required buffering length is not a number"),(0,d.assert)("number" === typeof n.LEc,"Result number of predicted rebuffers is not a number"));};d=a(52571);},94320:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ypb=function(a){a.forEach(function(d){return d.Pw=!1;});};},13103:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.rdc=function(n){var c;return d.__assign(d.__assign({},n),{ud:null === (c=n.ud) || void 0 === c?void 0:c.Mf});};d=a(22970);},7327:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aH=function(a,d,n){return d && void 0 !== n && !isNaN(n) && 0 <= n && n < d.length?d.ht(n):a.Mk;};},29480:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.S$c=function(c){var f,g,e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B;z=c.vn;if(c.mediaType === n.u.X){B=c.track.Uj;d.VR.log({vn:z,type:"STREAM_SELECTION",bitrate:(0,d.FL)(c.bitrate),mediaType:"AUDIO",Xc:B.x8,language:B.language,iS:null !== (f=c.location) && void 0 !== f?f:d.zh,Uh:null !== (e=null === (g=c.Ab) || void 0 === g?void 0:g.toString()) && void 0 !== e?e:d.zh,channels:B.channels,kb:(0,d.FL)(null !== (h=c.kb) && void 0 !== h?h:-1),GPb:1});}else c.mediaType === n.u.U?(B=c.track.Uj,d.VR.log({vn:z,type:"STREAM_SELECTION",mediaType:"VIDEO",bitrate:(0,d.FL)(c.bitrate),Xc:c.profile,height:null !== (k=c.QT) && void 0 !== k?k:-1,width:null !== (l=c.T_a) && void 0 !== l?l:-1,iS:null !== (m=c.location) && void 0 !== m?m:d.zh,Uh:null !== (q=null === (p=c.Ab) || void 0 === p?void 0:p.toString()) && void 0 !== q?q:d.zh,Qb:null !== (r=c.Qb) && void 0 !== r?r:-1,framerate:B.bca / B.aca,kb:(0,d.FL)(null !== (u=c.kb) && void 0 !== u?u:-1),GPb:1})):c.mediaType === n.u.Da && (B=c.track.Uj,d.VR.log({vn:z,type:"STREAM_SELECTION",mediaType:"TEXT",bitrate:(0,d.FL)(c.bitrate),Xc:c.profile,iS:null !== (v=c.location) && void 0 !== v?v:d.zh,Uh:null !== (x=null === (w=c.Ab) || void 0 === w?void 0:w.toString()) && void 0 !== x?x:d.zh,language:null !== (y=B.language) && void 0 !== y?y:d.zh,kb:(0,d.FL)(null !== (A=c.kb) && void 0 !== A?A:-1),GPb:1}));};d=a(97685);n=a(6198);},87775:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.jad=function(n,c,f,g,e,h,k,l){var m;m=e.length;n.log("==================================================================================");n.log(("Selecting stream : state = ").concat(d.Ub[c.state]," : stream list length = ").concat(g.length," : current bitrate = ").concat(0 < m?e[m - 1].bitrate:null === h || void 0 === h?void 0:h.bitrate," : streaming index = ").concat(c.Ve," : currentSelectedStream = ").concat(h));n.log(("  Buffer : capacity = ").concat(f.Vt," : startPts = ").concat(f.Hb," : currentPts = ").concat(f.Ed," : completePts = ").concat(f.fl," : streamingPts = ").concat(f.Mk," : level = ").concat(f.fl - f.Ed," : partial bytes = ").concat(f.xw," : fragment count = ").concat(f.Oa.length));k && (!l || k > l) && n.log(("  Last switch was DOWN, ").concat(f.Mk - k,"ms ago"));l && (!k || k < l) && n.log(("  Last switch was UP, ").concat(f.Mk - l,"ms ago"));n.log(("  Available bitrates ").concat(g.map(function(p){return p.HLa();})));};d=a(65161);},15050:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.kad=function(n,c,f,g,e,h,k){e?(n.log(("> And the winner is... ").concat(e.Ra," (").concat(e.HLa()," Kbps) lowest buffer level ").concat(k," ms, reason ").concat(h).concat(g?" < INITIAL SELECTION":"")),n.log("Stream selection state " + d.Ub[f.state] + ", desiredHeaders " + JSON.stringify(c.filter(function(l){return l.Pw;}).map(function(l){return l.bitrate;})))):n.info("Stream selection failed to find any stream, this could be due to incorrect bitrate ranges.");};d=a(65161);},79257:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.lad=function(n,c,f){c.RK(function(g){(0,d.AZ)(g,function(e,h){n.trace(("").concat(e === f?">>":"  ","[").concat(h,"] ").concat(e.Ra," b(").concat(e.bitrate,") avail(").concat(e.pp,") failed(").concat(e.lo,") isUsable(").concat(e.Mq,") fittable(").concat(e.Vv,") loc(").concat(e.location,") tp(").concat(e.kb,")"));});});};d=a(91176);},79305:function(t,b){function a(d){d.Pw=!d.Oa || !d.Oa.length;}Object.defineProperties(b,{__esModule:{value:!0}});b.kWa=function(d,n,c,f,g,e){if(f)d.forEach(function(h){return a(h);});else if(g && c > e && !n.Ba && d.every(function(h){return !h.Pw;}))for(c=d.length - 1;0 <= c;--c){f=d[c];if(d[c - 1] === n){a(f);break;}if(d[c + 1] === n){a(f);break;}}};},24757:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.vWa=function(c,f,g,e){var h,k,l;h=!1;k=(null === f || void 0 === f?void 0:f.buffer).Oa;l=k.length;(f=0 < l && f.state !== d.Ub.Cl?k[l - 1].stream:e)?-1 === g.indexOf(f) && (f=(0,n.oyb)(g,f.bitrate,f.Qb),h=!0,c && e && -1 !== g.indexOf(e) && (h=!1)):h=!0;return {Wm:f,zZ:h};};d=a(65161);n=a(44284);},86268:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.qEb=function(n){var c,f,g,e,h,k,l,m;c=n.buffer;f=n.player;g=n.YG;e=n.xaa;h=n.esa;k=n.ud;l=n.Zxa;m=n.Hxa;if(n=n.V0)return n.Rrc({UP:c.fl - c.Ed,a$b:c.Ru || 0,Z9b:c.Vt || 0,Ed:c.Ed,esa:h,ud:k,Zxa:l,Hxa:m,xh:f.state,playbackRate:f.playbackRate,Ve:f.Ve,YG:g,Rq:e});};b.Atc=function(n,c){return (0,d.cc)(n,function(f,g){return n[g - 1] === c;}) || c;};b.Btc=function(n,c){return ((0,d.cc)(n,function(f,g){return n[g - 1] === c;}) || c).Mf;};d=a(91176);},18048:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.PIb=function(f,g,e,h,k){var l,m,p,q,r,u,v,w,x;q=g.Mk;r=e && e.Ve;u=f.Oa;r=(0,c.aH)(g,u,r);v=f.yb;f=v && v.kb && v.kb.Fa || 0;u=g.fl - g.Ed;g=g.Ru;w=null !== (p=null === (m=null === (l=d.platform.o9c) || void 0 === l?void 0:l.call(d.platform)) || void 0 === m?void 0:m[e.mediaType === n.u.U?1:0]) && void 0 !== p?p:-1;e=e && e.Im;l=d.platform.time.ha();h={Mk:q,Ol:r,QEc:f,kob:u,MIc:w,bz:h,pN:l,g$b:g,Im:e};if(v && k && 0 < k.length){x=[];k.forEach(function(y){var A;A=y.stat;A=(y=v[y.filter]) && y[A];x.push(isNaN(A)?-1:A);});h.iJc=x;}return h;};d=a(66164);n=a(65161);c=a(7327);},31485:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.phb=void 0;d=a(22970);n=a(91176);t=(function(){function c(f,g){this.console=f;this.events=g;this.c2a=!1;}c.prototype.jy=function(){return this.c2a;};c.prototype.Yf=function(f){void 0 === f.UYa?this.rtb(f.Ti,f.iD,{networkErrorCode:f.PH,httpCode:f.xk,nativeCode:f.Qg,viewableId:f.J,temporaryFailure:!!f.z2a,server:f.Ab}):this.ZMc(f.UYa);};c.prototype.ZMc=function(f){var g;this.rtb(f.message,void 0,d.__assign(d.__assign({},f.qA),{err:n.DV.SK(null === (g=f.qA) || void 0 === g?void 0:g.context,{includeStack:!1})}));};c.prototype.rtb=function(f,g,e){void 0 === g && (g=void 0);void 0 === e && (e={});this.c2a || (e.temporaryFailure || (this.c2a=!0),f=d.__assign({type:"error",error:null !== g && void 0 !== g?g:"NFErr_MC_StreamingFailure",errormsg:f,temporaryFailure:!1},e),this.console.error("notifyStreamingError:",f),this.events.emit("error",f));};return c;})();b.phb=t;},82149:function(t,b,a){var n,c,f,g;function d(e){return function(){for(var h=Array(this.length),k=0;k < this.length;++k)h[k]=e.call(this,k);return h;};}Object.defineProperties(b,{__esModule:{value:!0}});b.sHa=b.Vhb=void 0;b.SL=d;b.z5c=function(e){return ("[").concat(Array(e.length).map(function(h,k){return e[k].toString();}).join(","),"]");};n=a(91176);t=a(66164);c=a(52571);f=new t.platform.Console("FRAGMENTS","media|asejs");g=(function(){function e(h,k){this.ek=h;this.ti=k;}Object.defineProperties(e.prototype,{index:{get:function(){return this.ti;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{qa:{get:function(){return new n.I(this.ub,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{ta:{get:function(){return new n.I(this.Lb,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Wb:{get:function(){return new n.I(this.EK,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{ub:{get:function(){return this.ek.Uka + this.ek.LJ[this.ti];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Lb:{get:function(){return this.ub + this.ek.Lz[this.ti];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{EK:{get:function(){return this.ek.Lz[this.ti];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Ea:{get:function(){return this.ek.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{O:{get:function(){return this.ek.O;},enumerable:!1,configurable:!0}});e.prototype.toJSON=function(){return {startPts:1E3 * this.ub / this.Ea.O,endPts:1E3 * this.Lb / this.Ea.O,duration:1E3 * this.EK / this.Ea.O,index:this.index};};return e;})();b.Vhb=g;a=(function(){function e(h,k,l,m){this.mediaType=h;this.length=l.fg.length;this.Db=l.O;this.Lz=l.fg;this.ula=m && m.i1;this.pmb=m && m.S1;this.Et=k;this.r3a=this.s3a=void 0;this.Uka=l.Ou;this.LJ=new Uint32Array(this.length + 1);if(this.length){for(k=h=0;k < this.length;++k)(this.LJ[k]=h,h+=this.Lz[k]);this.LJ[k]=h;this.fIa=Math.floor((this.Lg - this.Hb) / this.length);}}Object.defineProperties(e.prototype,{Ou:{get:function(){return this.BOb(0);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{oPa:{get:function(){return this.BOb(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Hb:{get:function(){return this.ht(0);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Lg:{get:function(){return this.ht(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{jb:{get:function(){return new n.I(this.Ou,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Xb:{get:function(){return new n.I(this.oPa,this.O);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Ea:{get:function(){return this.Et;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{O:{get:function(){return this.Db;},enumerable:!1,configurable:!0}});e.prototype.BOb=function(h){return this.Uka + this.LJ[h];};e.prototype.ht=function(h){return Math.floor(1E3 * (this.Uka + this.LJ[h]) / this.O);};e.prototype.koa=function(h){return this.ht(h + 1);};e.prototype.fg=function(h){return this.koa(h) - this.ht(h);};e.prototype.get=function(h){return new g(this,h);};e.prototype.VG=function(h,k,l){if(0 === this.length || h < this.ht(0))return -1;h=Math.max(h,k || 0);for(var m=0,p=this.length - 1,q,r;p >= m;)if((q=m + (p - m >> 1),r=this.ht(q),h < r))p=q - 1;else if(h >= r + this.fg(q))m=q + 1;else {for(;k && q < this.length && this.ht(q) < k;)++q;return q < this.length?q:l?this.length - 1:-1;}return l?this.length - 1:-1;};e.prototype.SPa=function(h,k,l){h=this.VG(h,k,l);return 0 <= h?this.get(h):void 0;};e.prototype.bna=function(h,k){var l,m,p;l=Math.floor(k * this.O / 1E3);m=Math.min(h + Math.ceil(k / this.fIa),this.length);p=this.LJ[m] - this.LJ[h];if(p >= l){for(;p >= l;)(--m,p-=this.Lz[m]);return {blocks:Math.max(m - h + 1,0),D1:0};}for(;p < l && m <= this.length;)(k-=p || 0,p+=this.Lz[m],++m);return {blocks:Math.max(m - h - 1,0),D1:k};};e.prototype.subarray=function(h,k){(0,c.assert)(void 0 === h || 0 <= h && h < this.length);(0,c.assert)(void 0 === k || k > h && k <= this.length);return new e(this.mediaType,this.Ea,{O:this.O,Ou:this.Uka + this.LJ[h],fg:this.Lz.subarray(h,k)},this.ula && ({i1:this.ula.subarray(h,k + 1),S1:this.pmb}));};e.prototype.forEach=function(h){for(var k=0;k < this.length;++k)h(this.get(k),k,this);};e.prototype.map=function(h){for(var k=[],l=0;l < this.length;++l)k.push(h(this.get(l),l,this));return k;};e.prototype.reduce=function(h,k){for(var l=0;l < this.length;++l)k=h(k,this.get(l),l,this);return k;};e.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.fIa};};e.prototype.dump=function(){var k;f.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.fIa + "ms");for(var h=0;h < this.length;++h){k=this.get(h);f.trace(("TrackFragments: ").concat(h,": [").concat(k.qa.G,"-").concat(k.ta.G,"]"));}};return e;})();b.sHa=a;d(a.prototype.ht);d(a.prototype.koa);a.prototype.htb=d(a.prototype.fg);},11862:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.l6=void 0;t=(function(){function a(d){this.Vz=d;}Object.defineProperties(a.prototype,{s_:{get:function(){return this.p3b;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.Vz;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{XNc:{get:function(){var d;d=this;return this.Vz.then(function(){return d;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.p3b=!0;};a.prototype.YD=function(d,n){var c;c=this;this.result.then(function(f){c.s_?n && n(f):d(f);});return this;};return a;})();b.l6=t;},85858:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.QG=void 0;b.QG=function(){return null;};},25218:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},52571:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=function(c,f){var g;if(!c){g=new n(f || "Assertion failed");a(8171).cx.console.error("Assertion failed",{value:c,message:f,stack:g.stack});throw g;}};d=a(22970);n=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);return f;})(Error);},62156:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.EIb=function(n){switch(n){case d.Ub.Sf:n=d.Sd.Sf;break;case d.Ub.xm:n=d.Sd.xm;break;case d.Ub.Cl:case d.Ub.Ct:case d.Ub.pja:n=d.Sd.Ct;break;default:n=d.Sd.cq;}return n;};d=a(65161);},2499:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Fbc=function(a,d){var n;void 0 === d && (d=Math.random);if("number" !== typeof a || !isFinite(a))throw new TypeError("alpha must be a finite number");if(0 > a || 1 < a)throw new RangeError("alpha must be in [0, 1]");d=d();if(!(0 <= d && 1 > d)){if(1 === d)return 1;throw new RangeError("rng() must return a value in [0, 1)");}n=1 - a / 2;if(d < a / (2 * n))return (a=Math.sqrt(2 * a * d * n),1 >= a?a:1);a=a / 2 + d * n;return 1 >= a?a:1;};},17122:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.wja=void 0;t=a(90745);d=a(91176);a=a(85254);n=(function(){function c(f){void 0 === f && (f={mj:!1,currentTime:d.I.ia,speed:1});this.state={mj:function(){return "function" === typeof f.mj?f.mj():f.mj;},currentTime:function(){return "function" === typeof f.currentTime?f.currentTime():f.currentTime;},speed:function(){return "function" === typeof f.speed?f.speed():f.speed;}};}Object.defineProperties(c.prototype,{mj:{get:function(){return this.state.mj();},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{currentTime:{get:function(){return this.state.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{speed:{get:function(){return this.state.speed();},enumerable:!1,configurable:!0}});return c;})();b.wja=n;(0,a.wl)(t.EventEmitter,n);},79994:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Chc=function(a){return JSON.parse(JSON.stringify(a));};},99735:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.m7a=void 0;d=a(22970);a(52571);t=(function(){function n(c,f){this.pe=c;this.bY=f;this.PF();}Object.defineProperties(n.prototype,{length:{get:function(){return this.BJ;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{empty:{get:function(){return 0 === this.BJ;},enumerable:!1,configurable:!0}});n.prototype.foc=function(){return this.EZ && this.EZ.get(0);};n.prototype.m9b=function(){return this.back && this.back.get(this.back.length - 1);};n.prototype.get=function(c){0 > c && (c+=this.length);for(var f=0;f < this.pe.length;++f)if(this.Kf[f + 1] > c)return this.pe[f].get(c - this.Kf[f]);};n.prototype.push=function(c){this.pe[this.bY(c)].push(c);this.PF();return this.BJ;};n.prototype.shift=function(){var c;if(this.EZ){c=this.EZ.shift();this.PF();return c;}};n.prototype.pop=function(){var c;if(this.back){c=this.back.pop();this.PF();return c;}};n.prototype.unshift=function(c){this.pe[this.bY(c)].unshift(c);this.PF();return this.BJ;};n.prototype.ru=function(c){var f;f=this.bY(c);this.pe[f].ru(c);this.PF();};n.prototype.remove=function(c){var f;f=this.pe.some(function(g){return g.remove(c);});f && this.PF();return f;};n.prototype.splice=function(c,f){var p,q,r,u;for(var g,e=[],h=2;h < arguments.length;h++)e[h - 2]=arguments[h];h=[];for(var k,l=c + Math.max(0,f),m=0;m < this.pe.length;++m){p=this.pe[m];q=this.Kf[m];r=this.Kf[m + 1];if(c < r){u=c - q;q=Math.min(l - q,p.length);void 0 === k && 0 < u && q < p.length?Array.prototype.push.apply(h,p.splice.apply(p,d.__spreadArray([u,q - u],d.__read(e),!1))):(Array.prototype.push.apply(h,p.splice(u,q - u)),void 0 === k && (k=0 < m && 0 === u?m - 1:m));c=r;if(c >= l)break;}}if(e.length && void 0 !== k){for(l=this.bY(e[0]);0 < k && l < k && this.pe[k].empty;)--k;for(;e.length && l === k;){this.pe[k].push(e.shift());if(!e.length)break;l=this.bY(e[0]);}for(;e.length && ++k < this.pe.length && this.pe[k].empty;)for(;e.length && l === k;){this.pe[k].push(e.shift());if(!e.length)break;l=this.bY(e[0]);}e.length && (g=this.pe[k]).splice.apply(g,d.__spreadArray([0,0],d.__read(e),!1));}this.PF();return h;};n.prototype.find=function(c){var f,g;f=this;return this.pe.some(function(e,h){g=e.find(f.PJ(c,h));return void 0 !== g;})?g:void 0;};n.prototype.findIndex=function(c){var g;for(var f=0;f < this.pe.length;++f){g=this.pe[f].findIndex(this.PJ(c,f));if(-1 !== g)return g + this.Kf[f];}return -1;};n.prototype.indexOf=function(c){var g;for(var f=0;f < this.pe.length;++f){g=this.pe[f].indexOf(c);if(-1 !== g)return g + this.Kf[f];}return -1;};n.prototype.map=function(c){var f,g;f=this;g=this.pe.map(function(e,h){return e.map(f.PJ(c,h));});return Array.prototype.concat.apply([],g);};n.prototype.reduce=function(c,f){var g;g=this;return this.pe.reduce(function(e,h,k){return h.reduce(g.r5b(c,k),e);},f);};n.prototype.forEach=function(c){var f;f=this;this.pe.forEach(function(g,e){g.forEach(f.PJ(c,e));});};n.prototype.AZ=function(c){for(var f=this.pe.length - 1;0 <= f;--f)this.pe[f].AZ(this.PJ(c,f));};n.prototype.some=function(c){var f;f=this;return this.pe.some(function(g,e){return g.some(f.PJ(c,e));});};n.prototype.L1a=function(c){for(var f=this.pe.length - 1;0 <= f;--f)if(this.pe[f].L1a(this.PJ(c,f)))return !0;return !1;};n.prototype.every=function(c){var f;f=this;return this.pe.every(function(g,e){return g.every(f.PJ(c,e));});};n.prototype.Anc=function(c,f){var l,m;function g(p){return p.reduce(function(q,r,u,v){return void 0 === r?q:void 0 === q?u:0 > c(r,v[q])?u:q;},void 0);}for(var e=this,h=this.pe.map(function(){return 0;}),k=this.pe.filter(function(p){return p.empty;}).length;k < this.pe.length;){l=h.map(function(p,q){return p < e.pe[q].length?e.pe[q].get(p):void 0;});m=g(l);f(l[m],this.Kf[m] + h[m],this);++h[m];h[m] === this.pe[m].length && ++k;}};n.prototype.move=function(c){return this.remove(c)?(this.ru(c),!0):!1;};n.prototype.aRc=function(){var c;if(this.pe[1].length){c=this.pe[1].shift();this.pe[0].push(c);this.PF();}};n.prototype.Yub=function(c){for(var f=-1,g=0;g < this.pe.length;++g)if((f=c(this.pe[g]),-1 !== f)){f+=this.Kf[g];break;}return f;};n.prototype.toJSON=function(){return this.map(function(c){return c.toJSON();});};n.prototype.PF=function(){var f;this.BJ=0;this.Kf=[0];this.back=this.EZ=void 0;for(var c=0;c < this.pe.length;++c){f=this.pe[c];this.BJ+=f.length;this.Kf.push(this.Kf[this.Kf.length - 1] + f.length);!this.EZ && f.length && (this.EZ=f);f.length && (this.back=f);}};n.prototype.PJ=function(c,f){var g,e;g=this;e=this.Kf[f];return function(h,k){return c(h,e + k,g);};};n.prototype.r5b=function(c,f){var g,e;g=this;e=this.Kf[f];return function(h,k,l){return c(h,k,e + l,g);};};return n;})();b.m7a=t;},62442:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.wob=function(n,c,f){var g,e;n=c.sqb(n).G;g=n - f.xH - f.cS;f=Math.floor((0,d.Fbc)(f.Gzc) * f.xH);e=g + f;return {vSc:n,sIb:c.wwa(e),MDb:e,lYc:g,delay:f,FE:c.Qf};};d=a(2499);},72697:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.g4=void 0;d=a(48170);n=a(52571);t=(function(){function c(f,g,e){this.fC=f;this.gj=g;this.RGb=e;this.window=Math.floor((f + g - 1) / g);this.reset();}c.prototype.shift=function(){this.RGb && this.RGb(this.Pq(0));this.Xg.shift();this.times.shift();};c.prototype.Pq=function(f){return this.rob(this.Xg[f],f);};c.prototype.update=function(f,g){this.Xg[f]=(this.Xg[f] || 0) + g;};c.prototype.push=function(){this.Xg.push(0);this.times.push(0);this.time+=this.gj;};c.prototype.add=function(f,g,e){var h,k,l;if(null === this.time){h=Math.max(Math.floor((e - g + this.gj - 1) / this.gj),1);for(this.time=g;this.Xg.length < h;)this.push();}for(;this.time <= e;)(this.push(),this.Xg.length > this.window && this.shift());if(null === this.Rt || g < this.Rt)this.Rt=g;if(g > this.time - this.gj)this.update(this.Xg.length - 1,f);else if(g === e)(h=this.Xg.length - Math.max(Math.ceil((this.time - e) / this.gj),1),0 <= h && this.update(h,f));else for(h=1;h <= this.Xg.length;++h){k=this.time - h * this.gj;l=k + this.gj;if(!(k > e)){if(l < g)break;this.update(this.Xg.length - h,Math.round(f * (Math.min(l,e) - Math.max(k,g)) / (e - g)));}}for(;this.Xg.length > this.window;)this.shift();};c.prototype.start=function(f){null === this.Rt && (this.Rt=f);null === this.time && (this.time=f);};c.prototype.stop=function(f){var g,e;if(null !== this.time)if(f - this.time > 10 * this.fC)this.reset();else {for(;this.time <= f;)(this.push(),this.Xg.length > this.window && this.shift());g=this.Xg.length - Math.ceil((this.time - f) / this.gj);e=this.Xg.length - Math.ceil((this.time - this.Rt) / this.gj);d.l && (0,n.assert)(g >= e,"end index must be after start index");if(0 <= g)if((0 > e && (this.Rt=this.time - this.gj * this.Xg.length,e=0),e === g))this.times[e]+=f - this.Rt;else if(g > e)for((this.times[e]+=(this.time - this.Rt) % this.gj,this.times[g]+=this.gj - (this.time - f) % this.gj,f=e + 1);f < g;++f)this.times[f]=this.gj;this.Rt=null;}};c.prototype.rob=function(f,g){g=this.GQa(g);return 0 === g?null:8 * f / g;};c.prototype.GQa=function(f){var g;g=this.times[f];null !== this.Rt && (f=this.time - (this.Xg.length - f - 1) * this.gj,f > this.Rt && (g=f - this.Rt <= this.gj?g + (f - this.Rt):this.gj));return g;};c.prototype.get=function(f,g){var e,h;e=this.Xg.map(this.rob,this);if("last" === f)for(f=0;f < e.length;++f)null === e[f] && (e[f]=0 < f?e[f - 1]:0);else if("average" === f){g=1 - Math.pow(.5,1 / ((g || 2E3) / this.gj));h=void 0;for(f=0;f < e.length;++f)null === e[f]?e[f]=Math.floor(h || 0):h=void 0 !== h?g * e[f] + (1 - g) * h:e[f];}return e;};c.prototype.reset=function(){this.Xg=[];this.times=[];this.Rt=this.time=null;};c.prototype.setInterval=function(f){this.window=Math.floor((f + this.gj - 1) / this.gj);};return c;})();b.g4=t;},93559:function(t,b,a){var n;function d(c,f,g){var e,k,l;if(c === f || !g.fr && c == f)return !0;if(typeof c !== typeof f)return !1;if(c && "object" === typeof c){for(var h in c)if(!d(c[h],f[h],g))return !1;if(!g.lbc){k=Object.keys(c);l=Object.keys(f).filter(function(r){return 0 > k.indexOf(r);});try{for(var m=n.__values(l),p=m.next();!p.done;p=m.next())if((h=p.value,!d(c[h],f[h],g)))return !1;}catch(r){var q;q={error:r};}finally{try{p && !p.done && (e=m.return) && e.call(m);}finally{if(q)throw q.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.gOa=function(c,f){var g;void 0 === g && (g={});g=n.__assign({fr:!1,lbc:!1},g);return d(c,f,g);};n=a(22970);},68157:function(t,b){function a(d){var n,c;n=Math.abs(d);c=1 / (1 + n / 2);n=c * Math.exp(-n * n - 1.26551223 + c * (1.00002368 + c * (.37409196 + c * (.09678418 + c * (-.18628806 + c * (.27886807 + c * (-1.13520398 + c * (1.48851587 + c * (-.82215223 + .17087277 * c)))))))));return 0 <= d?n:2 - n;}Object.defineProperties(b,{__esModule:{value:!0}});b.J9=a;b.xvc=function(d){var n,c,g;if(2 <= d)return -100;if(0 >= d)return 100;n=1 > d?d:2 - d;c=Math.sqrt(-2 * Math.log(n / 2));c=-.70711 * ((2.30753 + .27061 * c) / (1 + c * (.99229 + .04481 * c)) - c);for(var f=0;2 > f;f++){g=a(c) - n;c+=g / (1.1283791670955126 * Math.exp(-(c * c)) - c * g);}return 1 > d?c:-c;};b.d8c=function(d){return 1 - a(d);};},30285:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.a9a=void 0;d=a(22970);t=(function(){function c(f,g){void 0 === g && (g={});this.du=f;this.options=g;this.RQ=[];this.LR=new n(f,this.e6b.bind(this));}c.prototype.e6b=function(f){for(var g,e,h,k,l,m,p=[],q=1;q < arguments.length;q++)p[q - 1]=arguments[q];p={Sv:f,Lm:p};if(null !== (h=null === (e=(g=this.options).tRc) || void 0 === e?void 0:e.call(g,p,this.RQ)) && void 0 !== h?h:1)(g=p,this.options.Cdd && (g=JSON.parse(JSON.stringify(p))),this.RQ.push(g));return null !== (m=null === (l=(k=this.options).Bdd) || void 0 === l?void 0:l.call(k,p)) && void 0 !== m?m:!0;};c.prototype.Kda=function(f){this.RQ=this.RQ.filter(function(g,e){return !f(g,e);});};c.prototype.y_a=function(){var f;f=this;this.LR.t3a();this.RQ.forEach(function(g){var e;(e=f.du).emit.apply(e,d.__spreadArray([g.Sv],d.__read(g.Lm),!1));});this.LR.uAb();};Object.defineProperties(c.prototype,{length:{get:function(){return this.RQ.length;},enumerable:!1,configurable:!0}});c.prototype.clear=function(){this.RQ=[];};c.prototype.La=function(){this.clear();this.LR.t3a();this.options=void 0;};return c;})();b.a9a=t;n=(function(){function c(f,g){this.du=f;this.fA=g;this.dHb=this.du.emit;this.Hfc();this.uAb();}c.prototype.Hfc=function(){var f;f=this;this.LR=function(g){for(var e,h,k=[],l=1;l < arguments.length;l++)k[l - 1]=arguments[l];return (null === (h=f.fA) || void 0 === h?0:h.call.apply(h,d.__spreadArray([f,g],d.__read(k),!1)))?(e=f.dHb).call.apply(e,d.__spreadArray([f.du,g],d.__read(k),!1)):!1;};};c.prototype.uAb=function(){this.LR && (this.du.emit=this.LR);};c.prototype.t3a=function(){this.du.emit=this.dHb;};c.prototype.La=function(){this.t3a();this.fA=this.LR=void 0;};return c;})();},66412:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.N7b=function(c,f){return (0,n.B0)(c,{toJSON:function(){var g;g=d.__assign({},c);f.forEach(function(e){delete g[e];});return g;}});};d=a(22970);n=a(54520);},32201:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(68157);t=(function(){function n(c,f){this.Fa=c;this.ng=f;}n.prototype.Iob=function(c){return .5 * (0,d.J9)(-(c - this.Fa) / Math.sqrt(2 * this.ng));};n.prototype.mT=function(c){return this.Fa - Math.sqrt(2 * this.ng) * (0,d.xvc)(2 * c);};return n;})();b["default"]=t;},82475:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.QSa=function(a){return ("( ").concat(a.L,", ").concat(a.offset.ca()," )");};},6783:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.cs=function(c,f,g,e){var h,k,l,q,r,u;void 0 === e && (e={});l=n.I.max(g,n.I.ia);try{for(var m=d.__values(Object.keys(c.ba)),p=m.next();!p.done;p=m.next()){q=p.value;r=c.ba[q];if(r.J === f){u=n.I.Ca(r.Ta);if(l.Wf(u) && (!isFinite(null !== (k=r.cb) && void 0 !== k?k:NaN) || l.lessThan(n.I.Ca(r.cb))))return {L:q,offset:g.ea(u)};}}}catch(w){var v;v={error:w};}finally{try{p && !p.done && (h=m.return) && h.call(m);}finally{if(v)throw v.error;}}if(e.dMb && (r=Object.keys(c.ba).map(function(w){return {key:w,K:c.ba[w]};}).filter(function(w){return w.K.J === f;}).map(function(w){var x,y;x=n.I.abs(g.ea(n.I.Ca(w.K.Ta)));if(w.K.cb && isFinite(w.K.cb)){y=n.I.abs(g.ea(n.I.Ca(w.K.cb)));x=n.I.min(x,y);}return d.__assign(d.__assign({},w),{Lv:x});}),r.sort(function(w,x){return w.Lv.G - x.Lv.G;}),u=d.__read(r,1)[0]))return (r=u.K,e=u.key,u=n.I.Ca(r.Ta),{L:e,offset:g.ea(u)});};d=a(22970);n=a(91176);},71460:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.l$a=void 0;t=(function(){function a(d,n,c){var f,g,e;this.Bb=n;this.sb=c;this.Zkb=d;f=this.Ykb=this.kjb=this.jjb=0;g=0;e=0;this.Zkb.length >= this.Bb.REb && (this.Zkb.forEach(function(h){f+=h.avtp;g+=1 * h.neuhd;e++;}),this.Ykb=e,this.jjb=f / e,this.kjb=g / e);}a.prototype.lxc=function(){return this.Ykb >= this.Bb.REb && this.jjb >= this.Bb.Rnb.bwThreshold && this.kjb < this.Bb.Rnb.nethreshold;};return a;})();b.l$a=t;},69575:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.N_b=b.HWb=void 0;t=a(22970);t.__exportStar(a(65167),b);t.__exportStar(a(55971),b);t.__exportStar(a(1727),b);t.__exportStar(a(61113),b);t.__exportStar(a(79994),b);t.__exportStar(a(93559),b);t.__exportStar(a(24635),b);t.__exportStar(a(48912),b);t.__exportStar(a(62291),b);d=t.__importDefault(a(32201));b.HWb=d.default;a=t.__importDefault(a(16514));b.N_b=a.default;},51117:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Wha=void 0;d=a(68157);t=(function(){function n(c,f){this.UWa=c;this.ng=f;0 < f?(this.$Bb=f=Math.pow(c,3) / f,c=2 * f / c,500 >= c && (this.KPa=Math.exp(c))):this.KPa=0;}n.prototype.Iob=function(c){var f,g,e;f=this.UWa;g=this.KPa;if(g && 0 < c){e=Math.sqrt(this.$Bb / (2 * c));f=c / f;c=(0,d.J9)(e * (f - 1));e=(0,d.J9)(e * (f + 1));return Math.max((2 - c + g * e) / 2,0);}return c < f?0:c > f?1:.5;};n.prototype.mT=function(c,f,g){for(var e=0,h=this.UWa + 5 * Math.sqrt(this.ng),k=1,l=0;Math.abs(k) > f && g--;)(l=(e + h) / 2,k=this.Iob(l),k=c - k,0 > k?h=l:e=l);return l;};n.prototype.Nac=function(c){var f,g,e,h;f=this.UWa;g=this.KPa;if(g && 0 < c){e=Math.sqrt(this.$Bb / (2 * c));h=c / f;c=2 - (0,d.J9)(e * (h - 1));g*=(0,d.J9)(e * (h + 1));return [Math.max((c + g) / 2,0),Math.max(f * (c - g) / 2,0)];}return c < f?[0,0]:c > f?[1,f]:[.5,f / 2];};return n;})();b.Wha=t;},64396:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.iUa=function(a){return a && 0 === Object.keys(a).length;};},62291:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.CDb=function(c,f){var g,e,h,k,l,m,p,q;p=null === (g=f.K) || void 0 === g?void 0:g.id;c || (c=f.Gu);q=0;f.na && f.BR && c && c.forEach(function(r){q+=r.byteLength;});return {qa:f.qa.ea(f.stream.Th?f.stream.Ae:d.I.ia).add((0,n.zk)(f.stream)?f.stream.Gk.Kc(f.stream.O):d.I.ia),Wb:f.Wb,Hb:null === (e=f.Tb) || void 0 === e?void 0:e.G,duration:(null === (h=f.Pb) || void 0 === h?NaN:h.G) - (null === (k=f.Tb) || void 0 === k?NaN:k.G),offset:f.offset,ma:q || f.ma,bitrate:f.bitrate,profile:f.profile,gf:!!f.gf,J:null === (l=f.M) || void 0 === l?void 0:l.J,L:p,Ra:f.Ra,dd:f.dd,location:f.location,Ei:f.Ei,Ol:null === (m=f.qa) || void 0 === m?void 0:m.G,Xe:{pa:{K:{id:p || "unknown"}}}};};d=a(91176);n=a(8149);},42194:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.mob=void 0;d=a(50599);n=a(65044);b.mob=function(){return function(c){var e,h,k,l;function f(m){l[m]=function(p){return h({rules:[{ak:m,config:p}]},!0);};}function g(m){e[m]=function(p){return h({rules:[{ak:m,config:p}]});};}e={};h=(0,d.map)(c.SDb);for(k in c.WT)g(k);e.WD=h({rules:[],UKa:!0});e.fr=h({rules:[],fr:!0});l={};for(k in c.WT)f(k);l.WD=h({rules:[],UKa:!0},!0);l.fr=h({rules:[],fr:!0},!0);e.return=l;return {fOa:e,Zva:c,mva:function(m,p,q,r){return (0,n.frb)(m,p,q,c.WT,c.SDb,r);}};};};},50599:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.KLb=b.pxb=b.map=void 0;d=a(22970);a(1738);b.map=function(n){return function(c,f){void 0 === f && (f=!1);return function(g,e,h){var k,l,m,p;k=Reflect.Fxb(n,g,e) || ({});m="number" === typeof h;p=f;(l=m?(k.Cb || ({}))[h] || ({}):p?k.return:k.EWa) || (l={rules:[]});l=d.__assign(d.__assign(d.__assign({},l),c),{rules:d.__spreadArray(d.__spreadArray([],d.__read(l.rules || []),!1),d.__read(c.rules || []),!1)});m?(k.Cb || (k.Cb={}),k.Cb[h]=l):p?k.return=l:k.EWa=l;Reflect.xna(n,k,g,e);};};};b.pxb=function(n){return function(c,f){var g,e,h,k;c=null !== (k=null !== (e=null === (g=c.__proxyCtor) || void 0 === g?void 0:g.prototype) && void 0 !== e?e:null === (h=null === c || void 0 === c?void 0:c.constructor) || void 0 === h?void 0:h.prototype) && void 0 !== k?k:c;for(var l;c && void 0 === l;)(l=Reflect.Fxb(n,c,f),c=c.__proto__);return l;};};b.KLb=function(){return function(){return function(n){return n;};};};},65044:function(t,b,a){var g,e,h,k,l;function d(m,p){if(m)return Object.getOwnPropertyDescriptor(m,p)?m:d(m.prototype,p) || d(m.__proto__,p);}function n(m,p){if(m=d(m,p))return Object.getOwnPropertyDescriptor(m,p);}function c(m,p){var u;for(var q=Object.getPrototypeOf(m),r=[];q !== Object.prototype;)(r=r.concat(Object.getOwnPropertyNames(q)),q=Object.getPrototypeOf(q));m=Object.keys(m).concat(r);p.__proxyCtor || (p.__proxyCtor=void 0);u=Object.getPrototypeOf(p);m.forEach(function(v){Object.getOwnPropertyDescriptor(p,v) || Object.getOwnPropertyDescriptor(u,v) || p[v] || Object.defineProperty(p,v,{get:function(){},configurable:!0,enumerable:!0});});}function f(m,p,q,r){var w;for(var u=[],v=4;v < arguments.length;v++)u[v - 4]=arguments[v];w=r();if((null === w || void 0 === w?0:w.EWa) || (null === w || void 0 === w?0:w.Cb))u=u.map(function(x,y){var A;y=(0,l.yEb)(w.EWa,null === (A=w.Cb) || void 0 === A?void 0:A[y]);return (0,k.$va)(p,x,q,y);});u=m.call.apply(m,g.__spreadArray([void 0],g.__read(u),!1));return (null === w || void 0 === w?0:w.return)?(0,k.$va)(p,u,q,w.return,h.lF.II):u;}Object.defineProperties(b,{__esModule:{value:!0}});b.frb=void 0;b.s7c=c;b.R8c=f;g=a(22970);e=a(50599);h=a(49165);k=a(87561);l=a(28867);b.frb=function(m,p,q,r,u,v){var w,x;void 0 === v && (v=[]);w={};x=(0,e.pxb)(u);c(p,m);v.forEach(function(y){return c(y,m);});return new Proxy(m,{get:function(y,A){var z,B,C,D;if("__proxyCtor" === A)return m[A] || m.constructor;if((A in p)){C=p[A];return "function" === typeof C?C.bind(p):C;}D=w[A];if(!D && !n(w,A)){D=null !== (B=null === (z=null === y || void 0 === y?void 0:y.constructor) || void 0 === z?void 0:z.prototype) && void 0 !== B?B:y;z=null !== (C=d(D,A)) && void 0 !== C?C:d(D.__proxyCtor,A);C=n(D,A);if(null === C || void 0 === C?0:C.get)return (z=x.bind(null,z,A),y=f.bind(y,function(){return m[A];},q,r,z),Object.defineProperty(w,A,{get:y,enumerable:!0,configurable:!0}),y());C=y[A];return "function" === typeof C?(z=x.bind(null,y,A),y=f.bind(y,C.bind(y),q,r,z),w[A]=y):C;}return D;},set:function(y,A,z){if((A in p))return (p[A]=z,!0);y[A]=z;delete w[A];return !0;}});};},49165:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});t=b.lF={};t[t.II=0]="up";t[t.vQ=1]="down";},87561:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.$va=void 0;d=a(22970);n=a(52571);c=a(49165);b.$va=function(f,g,e,h,k,l){var m,p;void 0 === k && (k=c.lF.vQ);m=f();if(h && m){p=h.UKa;f=h.fr;h=h.rules.map(function(q){return ["function" === typeof q.ak?q.ak(e):e[q.ak],q.config];});p || (0,n.assert)(g,"Param is null");l && h.push([{map:l,pG:function(){return !0;}},void 0]);l=h.filter(function(q){q=d.__read(q,2);return q[0].pG(g,m,q[1]);});f && (0,n.assert)(l.length,("No rules matched for ").concat(g));if(l.length)return l.reduce(function(q,r){r=d.__read(r,2);return r[0].map(q,k,m,r[1]);},g);}return g;};},28867:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.yEb=void 0;d=a(22970);n=a(91176);b.yEb=function(c,f){var g;if(c || f){g=(null === c || void 0 === c?0:c.rules) && (null === f || void 0 === f?0:f.rules)?(0,n.yX)(c.rules,f.rules):(null === c || void 0 === c?void 0:c.rules) || (null === f || void 0 === f?void 0:f.rules);return d.__assign(d.__assign(d.__assign({},c),f),{rules:g});}};},55971:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Dcb=void 0;d=a(22970);n=a(91176);c=a(52571);t=(function(){function f(){this.data={};}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{size:{get:function(){var g;g=this;return Object.keys(this.data).reduce(function(e,h){return e + g.data[h].length;},0);},enumerable:!1,configurable:!0}});f.prototype.get=function(g){return this.data[g] || [];};f.prototype.has=function(g,e){return (g=this.data[g])?void 0 === e?!0:-1 !== g.indexOf(e):!1;};f.prototype.count=function(g){return (g=this.data[g])?g.length:0;};f.prototype.keys=function(){return Object.keys(this.data);};f.prototype.values=function(){var g;g=this;return (0,n.flatten)(this.keys().map(function(e){return g.data[e];}));};f.prototype.set=function(g,e){(this.data[g] || (this.data[g]=[])).push(e);return this;};f.prototype.clear=function(){this.data={};};f.prototype.delete=function(g,e){var h,k;h=this.data[g];if(void 0 === h)return !1;if(void 0 === e)return ((0,c.assert)(1 === arguments.length),delete this.data[g],!0);k=h.indexOf(e);if(-1 === k)return !1;1 === h.length?delete this.data[g]:h.splice(k,1);return !0;};f.prototype.forEach=function(g,e){var h;h=this;g=void 0 !== e?g.bind(e):g;this.keys().forEach(function(k){return h.data[k].forEach(function(l){return g(l,k,h);});});};f.prototype.reduce=function(g,e,h){var k,l;k=this;g=void 0 !== h?g.bind(h):g;l=e;this.forEach(function(m,p){l=g(l,m,p,k);});return l;};f.prototype.map=function(g,e){var h;h=this;g=void 0 !== e?g.bind(e):g;return (0,n.flatten)(this.keys().map(function(k){return h.data[k].map(function(l){return g(l,k,h);});}));};f.prototype.filter=function(g,e){var h;h=this;g=void 0 !== e?g.bind(e):g;return (0,n.flatten)(this.keys().map(function(k){return h.data[k].filter(function(l){return g(l,k,h);});}));};f.prototype[Symbol.iterator]=function(){var g,e,h,k,l,m,p,q,r,u,v,w,x,y;return d.__generator(this,function(A){switch(A.label){case 0:(g=this.keys(),A.label=1);case 1:(A.tc.push([1,12,13,14]),e=d.__values(g),h=e.next(),A.label=2);case 2:if(h.done)return [3,11];k=h.value;l=this.get(k);A.label=3;case 3:(A.tc.push([3,8,9,10]),m=(x=void 0,d.__values(l)),p=m.next(),A.label=4);case 4:if(p.done)return [3,7];q=p.value;return [4,q];case 5:(A.T(),A.label=6);case 6:return (p=m.next(),[3,4]);case 7:return [3,10];case 8:return (r=A.T(),x={error:r},[3,10]);case 9:try{p && !p.done && (y=m.return) && y.call(m);}finally{if(x)throw x.error;}return [7];case 10:return (h=e.next(),[3,2]);case 11:return [3,14];case 12:return (u=A.T(),v={error:u},[3,14]);case 13:try{h && !h.done && (w=e.return) && w.call(e);}finally{if(v)throw v.error;}return [7];case 14:return [2];}});};return f;})();b.Dcb=t;},54520:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.B0=void 0;d=a(22970);n=a(22970);b.B0=function(c){for(var f=[],g=1;g < arguments.length;g++)f[g - 1]=arguments[g];return n.__assign.apply(void 0,d.__spreadArray([c],d.__read(f),!1));};},7675:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.MEc=function(a){var d,n;d={};for(n in a)d[a[n]]=n;return d;};},77399:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.nwc=function(n,c){var h,k,l,m,p,q,r,w,x,y,A,z,B,C;for(var f,g,e=0;e < n.length;e++){h=d.__read(c,3);k=h[0];l=h[1];m=h[2];p=d.__read(n[e],3);q=p[0];h=p[1];r=p[2];if(!(k >= h)){k=[k,Math.min(h,l),q,h].filter(function(D,E,H){return H.indexOf(D) === E;}).sort(function(D,E){return D - E;});q=k.length - 1;p=Array(q);m+=r;try{for(var u=(f=void 0,d.__values([c,n[e]])),v=u.next();!v.done;v=u.next()){w=d.__read(v.value,3);x=w[0];y=w[1];A=w[2];r=y - x;for(c=0;c < q;c++){z=k[c + 1];B=Math.min(z,y) - Math.max(k[c],x);if(0 < B){C=B * A / r;m-=C;p[c]=p[c]?p[c] + C:C;}if(y <= z)break;}}}catch(D){f={error:D};}finally{try{v && !v.done && (g=u.return) && g.call(u);}finally{if(f)throw f.error;}}r=[];for(c=0;c < q;c++)(A=p[c],0 < A && r.push([k[c],k[c + 1],A]));n.splice.apply(n,d.__spreadArray([e,1],d.__read(r),!1));if(h < l)c=[h,l,m];else return;}}c && 0 < c[2] && n.splice(n.length,0,c);};d=a(22970);},16514:function(t){function b(a){this.K3b=a;this.zP=[];this.OJ=!1;this.TJa=void 0;this.Or={};}b.prototype.mla=function(a){this.zP.length === this.K3b && this.zP.shift();Array.isArray(a)?this.zP=this.zP.concat(a):this.zP.push(a);this.OJ=!0;};b.prototype.Z$=function(){return this.zP.length;};b.prototype.p8=function(a){var d,n,c;if(this.OJ || void 0 === this.TJa)(this.TJa=this.zP.slice(0).sort(function(f,g){return f - g;}),this.Or={},this.OJ=!1);if(void 0 === this.Or[a]){d=this.TJa;n=Math.floor(a / 100 * (d.length - 1) + 1) - 1;c=(a / 100 * (d.length - 1) + 1) % 1;this.Or[a]=n === d.length - 1?d[n]:d[n] + c * (d[n + 1] - d[n]);}return this.Or[a];};t.exports=b;},28600:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.OLb=function(n,c){n=d.platform.storage.get(n);return c?c(n):n;};d=a(66164);},29254:function(t,b){var n,c,f;function a(g){return void 0 !== (null === g || void 0 === g?void 0:g.fjb);}function d(g){return (a(g)?g:Object.defineProperties(g,{fjb:{value:{},configurable:!1,enumerable:!1}})).fjb;}Object.defineProperties(b,{__esModule:{value:!0}});b.fGa=void 0;c=null !== (n=Number.MAX_SAFE_INTEGER) && void 0 !== n?n:1E9;f=Date.now() % c;t=(function(){function g(){this.id=f=(f + 1) % c;}g.prototype.get=function(e){return a(e)?d(e)[this.id]:void 0;};g.prototype.set=function(e,h){d(e)[this.id]=h;return this;};g.prototype.has=function(e){return a(e) && void 0 !== d(e)[this.id];};g.prototype.delete=function(e){if(!this.has(e))return !1;d(e)[this.id]=void 0;return !0;};return g;})();b.fGa=t;},59458:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.QJb=function(a,d,n){void 0 === n && (n={});a=Math.random() * (d - a) + a;return n.uwc?n.Pvc?Math.round(a):Math.floor(a):a;};},1936:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.t0b=void 0;d=a(66164);n=a(8171);c=["","",""];t=(function(){function f(g){this.request=g;this.complete=this.append=this.Loa=this.IVa=this.open=0;}Object.defineProperties(f.prototype,{console:{get:function(){return n.cx.qD(this.request.mediaType);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{H1:{get:function(){var g;return null === (g=this.request.Wb) || void 0 === g?void 0:g.G;},enumerable:!1,configurable:!0}});f.prototype.UFc=function(){this.open=d.platform.time.ha();};f.prototype.JFc=function(){this.IVa=d.platform.time.ha();this.trace();};f.prototype.EFc=function(){this.Loa=d.platform.time.ha();this.trace();};f.prototype.YD=function(){this.complete=d.platform.time.ha();this.trace();};f.prototype.trace=function(){var g;g=("RequestLedger ID: ").concat(this.request.Ei());g+=(" load-open: ").concat(this.IVa - this.open);0 < this.Loa && (" firstbyte-load: ").concat(this.Loa - this.IVa);0 < this.append && (" append-firstbyte: ").concat(this.append - this.Loa);0 < this.complete && ((" complete-open: ").concat(this.complete - this.open),g=this.request.mediaType,this.H1 && this.complete - this.open > this.H1?((" duration: ").concat(this.H1),c[g]+="X"):c[g]+=".",10 < c[g].length && (c[g]=c[g].slice(1)));};return f;})();b.t0b=t;},61113:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Rgb=b.Qgb=void 0;d=a(91176);t=(function(){function n(c){this.ib=c;this.listeners=[];this.Pca=[];}Object.defineProperties(n.prototype,{value:{get:function(){return this.ib;},enumerable:!1,configurable:!0}});n.prototype.set=function(c){var f;this.ib=c;f=this.Pca;this.Pca=[];this.listeners.forEach(function(g){return g(c);});f.forEach(function(g){return g(c);});};n.prototype.lLb=function(){this.ib=void 0;};n.prototype.on=function(c){this.listeners=this.listeners.concat([c]);void 0 !== this.ib && c(this.ib);};n.prototype.once=function(c){void 0 !== this.ib?c(this.ib):this.Pca.push(c);};n.prototype.$l=function(c){this.listeners=this.listeners.filter(function(f){return f !== c;});this.Pca=this.Pca.filter(function(f){return f !== c;});};return n;})();b.Qgb=t;t=(function(){function n(){this.listeners=[];}n.prototype.on=function(c,f){this.listeners.push({signal:c,listener:f});c.on(f);};n.prototype.once=function(c,f){var g,e;g=this;if(void 0 === c.value){e=function(h){g.remove(c,f);f(h);};this.listeners.push({signal:c,listener:f,TSb:e});c.once(e);}else c.once(f);};n.prototype.$l=function(c,f){var g;g=(0,d.cc)(this.listeners,function(e){return e.signal === c && e.listener === f;});void 0 !== g && c.$l(g.TSb || g.listener);this.remove(c,f);};n.prototype.removeAllListeners=function(){this.listeners.forEach(function(c){var f;f=c.listener;return c.signal.$l(c.TSb || f);});this.listeners=[];};n.prototype.remove=function(c,f){this.listeners=this.listeners.filter(function(g){return g.signal !== c || g.listener !== f;});};return n;})();b.Rgb=t;},94258:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.wF=void 0;d=a(91176);Object.defineProperties(b,{wF:{enumerable:!0,get:function(){return d.wF;}}});},24635:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Vg=void 0;d=a(91176);Object.defineProperties(b,{Vg:{enumerable:!0,get:function(){return d.Vg;}}});},35536:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.qJ=void 0;d=a(91176);Object.defineProperties(b,{qJ:{enumerable:!0,get:function(){return d.qJ;}}});},94451:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.n2a=void 0;b.n2a=function(a){return a.reduce(function(d,n){return d + n;},0);};},40666:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.j3=b.BW=b.pW=b.zm=b.tJ=b.yW=b.ce=b.d6=b.QO=b.OV=b.flatten=void 0;d=a(91176);Object.defineProperties(b,{flatten:{enumerable:!0,get:function(){return d.flatten;}}});Object.defineProperties(b,{OV:{enumerable:!0,get:function(){return d.OV;}}});Object.defineProperties(b,{QO:{enumerable:!0,get:function(){return d.QO;}}});Object.defineProperties(b,{d6:{enumerable:!0,get:function(){return d.d6;}}});Object.defineProperties(b,{ce:{enumerable:!0,get:function(){return d.ce;}}});Object.defineProperties(b,{yW:{enumerable:!0,get:function(){return d.yW;}}});Object.defineProperties(b,{tJ:{enumerable:!0,get:function(){return d.tJ;}}});Object.defineProperties(b,{zm:{enumerable:!0,get:function(){return d.zm;}}});Object.defineProperties(b,{pW:{enumerable:!0,get:function(){return d.pW;}}});Object.defineProperties(b,{BW:{enumerable:!0,get:function(){return d.BW;}}});Object.defineProperties(b,{j3:{enumerable:!0,get:function(){return d.j3;}}});},1727:function(t,b,a){var n,c;function d(f,g,e){var h;void 0 === e && (e={});h=n.__assign(n.__assign({},c),e);return f.filter(function(k){var l;l=k.Pb;k=k.Tb;return !!k && k.ln(g) && (!h.Vpb || l.Wf(g));});}Object.defineProperties(b,{__esModule:{value:!0}});b.hvb=function(f,g,e){void 0 === e && (e={});return d(f,g,e).pop();};b.t8c=d;b.Sub=function(f,g,e){return f.filter(function(h){var k;k=h.Pb;h=h.Tb;return !!h && !!k && (h.Wf(g) && h.ln(e) || k.Wf(g) && k.ln(e) || h.ln(g) && k.Wf(e));});};n=a(22970);c={Vpb:!1};},61520:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Jja=void 0;b.cKc=function(f,g){var e;e="";f.QK(function(h,k,l,m){e+=("").concat(Array(m + 1).join("-")).concat(g(h),"\n");return !0;});return e;};a(22970);a(91176);d=a(48170);n=a(29254);c=a(52571);t=(function(){function f(){this.V=new n.fGa();}Object.defineProperties(f.prototype,{empty:{get:function(){return !this.xE;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{root:{get:function(){var g;return null === (g=this.xE) || void 0 === g?void 0:g.value;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{values:{get:function(){var g;g=[];this.QK(function(e){return !!g.push(e);});return g;},enumerable:!1,configurable:!0}});f.prototype.has=function(g){return !!this.V.get(g);};f.prototype.parent=function(g){var e;g=this.V.get(g);d.l && (0,c.assert)(g,"Attempted to find the parent of a node not in the tree");return null === (e=null === g || void 0 === g?void 0:g.parent) || void 0 === e?void 0:e.value;};f.prototype.children=function(g){g=this.V.get(g);d.l && (0,c.assert)(g,"Attempted to find the children of a node not in the tree");return (null === g || void 0 === g?0:g.children)?g.children.map(function(e){return e.value;}):[];};f.prototype.cqa=function(g){g=this.V.get(g);d.l && (0,c.assert)(g,"Attempted to find the children of a node not in the tree");return void 0 !== (null === g || void 0 === g?void 0:g.children) && 0 < g.children.length;};f.prototype.add=function(g,e){var h;d.l && (0,c.assert)(!this.V.get(g),"Attempted to add a value to tree that is already present");h={value:g};void 0 === this.xE?(d.l && (0,c.assert)(void 0 === e,"a parent cannot be specified when the tree is empty"),this.xE=h):(d.l && (0,c.assert)(void 0 !== e,"a parent must be specified when the tree is non-empty"),e=this.V.get(e),d.l && (0,c.assert)(e,"Parent value does not exist in tree"),this.Sla(h,e));this.V.set(g,h);return this;};f.prototype.remove=function(g){g=this.V.get(g);d.l && (0,c.assert)(g,"Attempted to remove a node not in the tree");this.removeNode(g);return this;};f.prototype.removeNode=function(g){var e;e=this;this.jQa(function(h){return e.V.delete(h);},g.value);void 0 === g.parent?this.xE=void 0:this.detach(g);};f.prototype.move=function(g,e){g=this.V.get(g);e=this.V.get(e);d.l && (0,c.assert)(g,"cannot move a value that is not in the tree");d.l && (0,c.assert)(e,"cannot move a value to a parent value not in the tree");d.l && (0,c.assert)(null === g || void 0 === g?void 0:g.parent,"cannot move the root node");d.l && (0,c.assert)(!this.Fwc(g,e),"cannot move a node below itself or one of its decendants");g.parent !== e && (this.detach(g),this.Sla(g,e));return this;};f.prototype.TMc=function(g){var e,h;e=this;g=this.V.get(g);d.l && (0,c.assert)(g,"cannot replant at a value that is not in the tree");h=[];this.detach(g);this.jQa(function(k){e.V.delete(k);h.unshift(k);return !0;});this.xE=g;};f.prototype.clear=function(){this.xE && this.remove(this.xE.value);return this;};f.prototype.clone=function(){var g;g=new f();this.QK(function(e,h){g.add(e,h);return !0;});return g;};f.prototype.Avb=function(g,e){var h,k;h=this;g=this.V.get(g);d.l && (0,c.assert)(g,"cannot iterate children of a value not in the tree");null === (k=g.children) || void 0 === k?void 0:k.forEach(function(l){return e(l.value,h);});};f.prototype.cSc=function(g,e){var h,k;h=this;g=this.V.get(g);d.l && (0,c.assert)(g,"cannot iterate children of a value not in the tree");return !(null === (k=g.children) || void 0 === k || !k.some(function(l){return e(l.value,h);}));};f.prototype.QK=function(g){this.Bvb(g,void 0);};f.prototype.Bvb=function(g,e,h,k){var l;l=this;void 0 === k && (k=0);d.l && (0,c.assert)(!this.empty || void 0 === e,"cannot iterate from a value on an empty tree");this.empty || (e=null !== e && void 0 !== e?e:this.xE.value,g(e,h,this,k) && this.Avb(e,function(m){return l.Bvb(g,m,e,k + 1);}));};f.prototype.jQa=function(g,e){var h;h=this;d.l && (0,c.assert)(!this.empty || void 0 === e,"cannot iterate from a value on an empty tree");this.empty || (null !== e && void 0 !== e?e:e=this.xE.value,this.Avb(e,function(k){return h.jQa(g,k);}),g(e,this));};f.prototype.dvb=function(g,e){var h,k;h=this;d.l && (0,c.assert)(!this.empty || void 0 === e,"cannot iterate from a value on an empty tree");if(!this.empty){null !== e && void 0 !== e?e:e=this.xE.value;return this.cSc(e,function(l){return !!(k=h.dvb(g,l));})?k:g(e,this)?e:void 0;}};f.prototype.Hsb=function(g){var e,h,k,l;e=this;h=this.values;k=h.filter(function(m){return !g.has(m);});l=g.values.filter(function(m){return !e.has(m);});h=h.filter(function(m){return g.has(m) && e.parent(m) !== g.parent(m);});return {oX:k,Ny:l,x_a:h};};f.prototype.compare=function(g){var e,h;g=this.Hsb(g);e=g.Ny;h=g.x_a;return 0 === g.oX.length && 0 === e.length && 0 === h.length;};f.prototype.Sla=function(g,e){g.parent=e;(e.children || (e.children=[])).push(g);};f.prototype.detach=function(g){var e;d.l && (0,c.assert)(g.parent,"cannot detach the root");d.l && (0,c.assert)(void 0 !== g.parent.children,"logic error: parent node does not have children");e=g.parent.children.indexOf(g);(0,c.assert)(0 <= e,"logic error: node does not appear in the children of its parent");g.parent.children.splice(e,1);g.parent=void 0;};f.prototype.Fwc=function(g,e){for(;void 0 !== e;){if(e === g)return !0;e=e.parent;}return !1;};return f;})();b.Jja=t;},85254:function(t,b,a){var f,g,e;function d(h){var k,l,m,r;m=Object.getOwnPropertyNames(h);for(h=Object.getPrototypeOf(h);h !== Object.prototype;){try{for(var p=(k=void 0,f.__values(Object.getOwnPropertyNames(h))),q=p.next();!q.done;q=p.next()){r=q.value;-1 === m.indexOf(r) && m.push(r);}}catch(u){k={error:u};}finally{try{q && !q.done && (l=p.return) && l.call(p);}finally{if(k)throw k.error;}}h=Object.getPrototypeOf(h);}return m;}function n(h,k,l,m,p){var q;Object.getOwnPropertyNames(h).filter(function(r){return p(r) && (l || !Object.prototype.hasOwnProperty.call(k,r)) && (m || !((r in k)));}).forEach(function(r){q=Object.getOwnPropertyDescriptor(h,r);void 0 !== q && Object.defineProperty(k,r,q);});}function c(h,k,l,m){var p,q;p=[];l || (p=Object.getOwnPropertyNames(k));m || (p=d(k));q=Object.getPrototypeOf(h);null !== q && q !== Object.prototype && c(q,k,l,m);n(h,k,!0,!0,function(r){return "constructor" !== r && -1 === p.indexOf(r);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Q6c=c;b.wl=function(h,k,l,m){void 0 === l && (l=!0);void 0 === m && (m=!0);m || (0,g.assert)(!l);h.prototype?(c(h.prototype,k.prototype,l,m),n(h,k,l,m,function(p){return -1 === e.indexOf(p);})):n(h,k.prototype,l,m,function(p){return -1 === e.indexOf(p);});return k;};f=a(22970);g=a(52571);e=Object.getOwnPropertyNames(Function);},8149:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zk=function(a){return !(null === a || void 0 === a || !a.Ba);};b.po=function(a){return !(null === a || void 0 === a || !a.Eb);};b.u$c=function(a){return a.M.Eb;};},65167:function(t,b,a){var m,p,q;function d(r){return Array.isArray(r)?r.reduce(function(u,v){return u + v;},0):!1;}function n(r){return Array.isArray(r) && r.length?d(r) / r.length:!1;}function c(r){var u;if(!Array.isArray(r) || 2 > r.length)return !1;u=n(r);return d(r.map(function(v){return (v - u) * (v - u);})) / (r.length - 1);}function f(r){if(!Array.isArray(r) || 2 > r.length)return !1;r=c(r);return Math.sqrt(r);}function g(r,u){if(r.length == u.length && 1 < r.length){for(var v=r.length,w=0,x=d(r),y=d(u),A=0;A < v;A++)w+=r[A] * u[A];return (w - x * y / v) / v;}return !1;}function e(r,u,v){return Math.max(Math.min(r,v),u);}function h(r,u){return "number" === typeof r?r:u;}function k(r){return 1 / (1 + Math.exp(-r));}function l(r,u,v){return r * v + (1 - v) * u;}Object.defineProperties(b,{__esModule:{value:!0}});b.tanh=b.Gf=void 0;b.rq=function(r,u,v){var w;if(q){"managerdebugevent" === u && (null === (w=r.trace) || void 0 === w?void 0:w.call(r,"managerdebugevent:",v.message));}if(q)r.emit(u,v);else try{r.emit(u,v);}catch(x){if(r.error)r.error("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",x,"Event:",v);else throw x;}};b.Di=function(r,u){void 0 !== r && m.jHc(r).forEach(function(v){u(v[0],v[1]);});};b.iA=function(){var v;for(var r=[],u=0;u < arguments.length;u++)r[u]=arguments[u];r=Array.prototype.concat.apply([],r);u=r.reduce(function(w,x){return w + x.byteLength;},0);v=new Uint8Array(u);r.reduce(function(w,x){v.set(new Uint8Array(x),w);return w + x.byteLength;},0);return v.buffer;};b.y9c=d;b.a9c=n;b.B9c=c;b.w9c=f;b.d9c=g;b.c9c=function(r,u){var v;if(r.length == u.length){v=g(r,u);r=f(r);u=f(u);if(0 < r && 0 < u)return v / (r * u);}return !1;};b.pdd=function(r){return r.length?"{" + r + "} ":"";};b.Kma=e;b.Rbc=function(r,u,v,w){return {min:e(h(r.min,u),v,w),max:e(h(r.max,u),v,w),rG:e(r.rG || 6E4,0,6E5),Mob:e(r.Mob || 0,-3E5,3E5),scale:e(r.scale || 6E4,0,3E5),YLb:e(r.YLb || 0,-3E5,3E5),gamma:e(r.gamma || 1,.1,10)};};b.HRc=k;b.wPa=function(r,u,v){return r.min + (r.max - r.min) * (1 - Math.pow(k(6 * (u - (r.rG + (r.Mob || 0) * (1 - v))) / (r.scale + (r.YLb || 0) * (1 - v))),r.gamma));};b.Plc=function(r,u){return r.min + (r.max - r.min) * Math.pow(k(6 * (u - r.rG) / r.scale),r.gamma);};b.scale=l;b.FOc=function(r,u,v){return {min:l(r.min,u.min,v),max:l(r.max,u.max,v),rG:l(r.rG,u.rG,v),scale:l(r.scale,u.scale,v),gamma:l(r.gamma,u.gamma,v)};};m=a(22970).__importStar(a(17267));p=a(91176);Object.defineProperties(b,{Gf:{enumerable:!0,get:function(){return p.Gf;}}});q=!1;b.tanh=Math.tanh || (function(r){var u;u=Math.exp(+r);r=Math.exp(-r);return Infinity == u?1:Infinity == r?-1:(u - r) / (u + r);});},444:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.BF=void 0;d=a(91176);t=(function(){function n(c,f){this.qP=c;this.eP=f;this.AOc();}n.from=function(c){return "number" === typeof c?new n(c,1):new n(c.Ay,c.Mv);};n.CQa=function(c){return new n(c.O,c.$);};Object.defineProperties(n.prototype,{Ay:{get:function(){return this.qP;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Mv:{get:function(){return this.eP;},enumerable:!1,configurable:!0}});n.prototype.Ea=function(){return new d.I(this.eP,this.qP);};n.prototype.equal=function(c){return this.qP === c.qP && this.eP === c.eP;};n.prototype.normalize=function(c){return new d.I(Math.floor((Math.floor(c + 1) * this.Ay - 1) / (1E3 * this.Mv)) * this.Mv,this.Ay);};n.prototype.AOc=function(){var c,f,g;c=Math.floor(1E3 * this.qP / this.eP);f=Math.floor(1001 * this.qP / this.eP);g=1E3 * Math.round(c / 1E3);this.qP=g;this.eP=Math.abs(f - g) > Math.abs(c - g)?1E3:1001;};return n;})();b.BF=t;},52629:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.DW=void 0;d=a(91176);b.DW=(function(){return function(n,c){var f;void 0 === c && (c={w:1,Wx:1});this.zo=n;this.uHb=c;f=n.w * c.w;n=n.Wx * c.Wx;c=(0,d.VK)(f,n);this.NC={w:f / c,Wx:n / c};};})();},51044:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.writable=void 0;b.writable=function(a){return a;};},48912:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Sja=void 0;d=a(66164);t=(function(){function n(c){this.X1=new Uint16Array(c.length);for(var f=0;f < c.length;++f)this.X1[f]=c.charCodeAt(f);}n.prototype.encrypt=function(c){for(var f=this.X1.length,g="",e=0;e < c.length;++e)g+=String.fromCharCode(this.X1[e % f] ^ c.charCodeAt(e));return encodeURIComponent(g);};n.prototype.decrypt=function(c,f){var g,e;void 0 === f && (f=!1);g=this.X1.length;e="";if(f)for((c=d.platform.ona(c),f=new Uint8Array(c),c=0);c < f.length;c++)e+=String.fromCharCode(this.X1[c % g] ^ f[c]);else for((f=decodeURIComponent(c),c=0);c < f.length;c++)e+=String.fromCharCode(this.X1[c % g] ^ f.charCodeAt(c));return e;};return n;})();b.Sja=t;},83195:function(t,b,a){var g;function d(){return Object.create(null);}function n(e){this.log=e.log;this.Na=e.Na;this.xy=d();this.Promise=e.Promise;this.ap=e.ap;this.GI=e.GI;this.yD=e.yD || !1;this.e9=d();this.SC=d();this.YP=d();this.GYa=!1;this.R4b(e);e.du && (this.du=e.du);}function c(e){return "undefined" !== typeof e;}function f(e){var l;for(var h=0,k=arguments.length;h < k;){l=arguments[h++];if(c(l))return l;}}a(85852);g=a(46601);n.prototype.R4b=function(e){this.e9.manifest=f(e.$lc,g.VQ.S);this.e9.ldl=f(e.Zlc,g.VQ.qba);this.e9.metadata=f(e.n8c,g.VQ.Ac);this.SC.manifest=f(e.E$b,g.SC.S);this.SC.ldl=f(e.D$b,g.SC.qba);this.SC.metadata=f(e.i6c,g.SC.Ac);this.YP.manifest=f(e.g6c,g.YP.S);this.YP.ldl=f(e.f6c,g.YP.qba);this.YP.metadata=f(e.h6c,g.YP.Ac);};n.prototype.kaa=function(e,h){this.Kv("undefined" !== typeof e);this.Kv("undefined" !== typeof h);return !!this.Kjb(e,h,void 0).value;};n.prototype.Kjb=function(e,h,k){var l,m;l={value:null,reason:"",log:""};m=this.xy[h];k=k?k:"DEFAULTCAPS";if("undefined" === typeof m)return (l.log="cache miss: no data exists for field:" + h,l.reason="unavailable",l);"undefined" === typeof m[e]?(l.log="cache miss: no data exists for movieId:" + e,l.reason="unavailable"):(m=m[e][k]) && m.value?this.yka(m)?(l.log="cache miss: " + h + " data expired for movieId:" + e,l.reason="expired",this.clearData(e,h,k,!1,"expired")):(l.log=this.Promise && m.value instanceof this.Promise?"cache hit: " + h + " request in flight for movieId:" + e:"cache hit: " + h + " available for movieId:" + e,l.value=m.value):(l.log="cache miss: " + h + " data not available for movieId:" + e,l.reason="unavailable");return l;};n.prototype.getData=function(e,h,k){this.Kv("undefined" !== typeof e);this.Kv("undefined" !== typeof h);e=this.Kjb(e,h,k);this.log.trace(e.log);return e.value?this.Promise?e.value instanceof this.Promise?e.value:Promise.resolve(e.value):this.GI?JSON.parse(this.GI(e.value,"gzip",!1)):e.value:this.Promise?Promise.reject(e.reason):e.reason;};n.prototype.setData=function(e,h,k,l,m,p){var q,r,u;this.Kv("undefined" !== typeof e);this.Kv("undefined" !== typeof h);q=this.xy;r=m?m:"DEFAULTCAPS";q[h] || (q[h]=d(),Object.defineProperty(q[h],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[h],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));k=this.ap?this.ap(JSON.stringify(k),"gzip",!0):k;q=q[h];this.H3b(e,h,r,q);u=this;p=p || this.e9[h] + 1;l={creationTime:this.Na.getTime(),value:k,size:0,type:h,sOa:l,VQ:p,GPa:setTimeout(function(){u.clearData(e,h,r,!1,"expired");},p)};q[e]=q[e] || d();q[e][r]=q[e][r] || d();q[e][r]=l;q.size+=0;q.numEntries++;this.du && this.du.emit("addedCacheItem",l);return l;};n.prototype.hpb=function(e,h){var k,l,m,p;l=Number.POSITIVE_INFINITY;m=this;Object.keys(e).every(function(q){var r;r=e[q] && e[q][h];r && r.value && m.yka(r) && (p=q);r && r.value && r.creationTime < l && (l=r.creationTime,k=q);return !0;});return p || k;};n.prototype.H3b=function(e,h,k,l){var m,p,q,r,u;m=l.numEntries;p=this.SC[h];q=l[e] && l[e][k];if(q && q.value)(r=e,u="promise_or_expired");else m >= p && !this.GYa && (r=this.hpb(l,k),u="cache_full");this.yD && this.log.debug("makespace ",{maxCount:p,currentCount:l.numEntries,field:h,movieId:e,movieToBeRemoved:r});r && (this.clearData(r,h,k,void 0,u),this.log.debug("removed from cache: ",r,h));};n.prototype.HMa=function(e,h){var k,l;k=this;k.Kv("undefined" !== typeof e);l=e + "";h.forEach(function(m){var p;p=k.xy[m];p && Object.keys(p).forEach(function(q){q != l && k.clearData(q,m,void 0,void 0,"clear_all");});});};n.prototype.clearData=function(e,h,k,l,m){var p;this.Kv("undefined" !== typeof e);this.Kv("undefined" !== typeof h);p=this.xy[h];h=p?p[e]:void 0;k=k?k:"DEFAULTCAPS";if(h && h[k]){p.size-=h[k].size;p.numEntries--;if(p=h && h[k])(clearTimeout(p.GPa),h[k]=void 0,!l && p.sOa && p.sOa());this.du && (e={creationTime:p.creationTime,destroyFn:p.sOa,size:p.size,type:p.type,value:p.value,reason:m,movieId:e},this.du.emit("deletedCacheItem",e));}};n.prototype.gRb=function(e,h,k,l){var m,p,q;this.Kv("undefined" !== typeof e);this.Kv("undefined" !== typeof h);m=this;p=this.xy[h];p=p?p[e]:void 0;q=k?k:"DEFAULTCAPS";k=p && p[q];l=l || this.e9[h] + 1;k && (clearTimeout(k.GPa),k.creationTime=this.Na.getTime(),k.VQ=l,k.GPa=setTimeout(function(){m.clearData(e,h,q,!1,"expired");},l));};n.prototype.flush=function(e){var h;this.Kv("undefined" !== typeof e);h=this.xy;h[e]=d();h[e].numEntries=0;h[e].size=0;};n.prototype.rpb=function(){var e,h;this.Kv(!1);e=this;h=this.xy;h[void 0] instanceof Object && Object.keys(h[void 0]).forEach(function(k){var l;l=h[void 0][k].DEFAULTCAPS;e.Na.getTime() - l.creationTime > l.VQ && e.clearData(k,void 0,"DEFAULTCAPS",void 0,"clean_up");});};n.prototype.yka=function(e){return this.Na.getTime() - e.creationTime > e.VQ;};n.prototype.getStats=function(e,h,k){var l,m,p,q,r;l={};m=this;p=m.xy;q=c(e) && c(h);r=k || "DEFAULTCAPS";Object.keys(p).forEach(function(u){var v,w;v=Object.keys(p[u]);w=p[u];v.forEach(function(x){!(x=w && w[x] && w[x][r]) || !c(x.value) || x.value instanceof m.Promise || (l[u]=(l[u] | 0) + 1,m.yka(x) && (l[u + "_expired"]=(l[u + "_expired"] | 0) + 1),q && x.creationTime >= e && x.creationTime < h && (l[u + "_delta"]=(l[u + "_delta"] | 0) + 1));});});return l;};n.prototype.getState=function(e){var h,k,l,m;h=[];k=this;l=k.xy;m=e || "DEFAULTCAPS";Object.keys(l).forEach(function(p){var q,r;q=Object.keys(l[p]);r=l[p];q.forEach(function(u){var v,w;v=r && r[u] && r[u][m];if(v && c(v.value)){w=k.yka(v)?"expired":v.value instanceof k.Promise?"loading":"cached";h.push({movieId:u,state:w,type:p,size:v.size});}});});return h;};n.prototype.yQc=function(){this.GYa=!0;};n.prototype.YNc=function(){var e;for(this.GYa=!1;this.xy.manifest.numEntries > this.SC.manifest;){e=this.hpb(this.xy.manifest,void 0);this.clearData(e,"manifest",void 0,void 0,"eviction");this.log.debug("removed from cache: ",e,"manifest");this.yD && this.log.debug("makespace ",{maxCount:this.SC.manifest,currentCount:this.xy.manifest.numEntries,field:"manifest",movieToBeRemoved:e});}};n.prototype.Kv=function(e){if(!e && (this.log.error("Debug Assert Failed",void 0),this.yD))throw Error("Debug Assert Failed ");};t.exports=n;},46601:function(t){t.exports={VQ:{S:12E5,qba:9E5,Ac:12E5},SC:{S:10,qba:10,Ac:10},YP:{S:10240,qba:10240,Ac:10240}};},85852:function(t){function b(a){var d;d=[];return (function f(c){if(c && "object" === typeof c){if(-1 !== d.indexOf(c))return !0;d.push(c);for(var g in c)if(c.hasOwnProperty(g) && f(c[g]))return !0;}return !1;})(a);}t.exports=function(a,d){var c;if(d && b(a))return -1;d=[];a=[a];for(var n=0;a.length;){c=a.pop();if("boolean" === typeof c)n+=4;else if("string" === typeof c)n+=2 * c.length;else if("number" === typeof c)n+=8;else if("object" === typeof c && -1 === d.indexOf(c)){d.push(c);for(var f in c)a.push(c[f]);}}return n;};},43155:function(t,b,a){var n;function d(c){if(c.aborted)throw c.reason;}Object.defineProperties(b,{__esModule:{value:!0}});b.ETb=void 0;b.Qqa=function(c){return "AbortError" === (null === c || void 0 === c?void 0:c.name);};b.JPb=d;b.Jla=function(c,f){function g(){}void 0 === f && (f=!0);f || (g=function(){d(c);});return new Promise(function(e){var k;function h(){return e();}c.aborted && e();c.addListener?c.addListener("abort",h):null === (k=c.addEventListener) || void 0 === k?void 0:k.call(c,"abort",h);}).then(g);};n=a(22970);t=(function(c){function f(g){g=c.call(this,g) || this;g.name="AbortError";return g;}n.__extends(f,c);return f;})(Error);b.ETb=t;},44510:function(t,b,a){var n,c,f;function d(g){var e;return null !== (e=g.Xrb) && void 0 !== e?e:g.name;}Object.defineProperties(b,{__esModule:{value:!0}});b.Algorithm=void 0;b.Gqb=function(g,e){var h;h=0;return Object.assign(function(k,l){for(var m=[],p=2;p < arguments.length;p++)m[p - 2]=arguments[p];for(p=h;p < g.length;p++)if(g[p].apply(void 0,n.__spreadArray([k,l],n.__read(m),!1))){if((h++,h === g.length))return (h=0,!0);}else break;e.apply(void 0,n.__spreadArray([k,l],n.__read(m),!1)) && (h=0);return !1;},{reset:function(){return h=0;},Xrb:("combinator(").concat(g.map(d).join(", "),")")});};b.pfc=function(g){var k,l,m,p,q,r,u;function e(){null === r || void 0 === r?void 0:r.La();r=void 0;u=!1;}function h(){u=!0;r=void 0;}k=g.Scc;l=g.ghc;m=g.wwc;p=void 0 === m?k:m;q=g.mc;u=!1;return Object.assign(function(v,w){for(var x=[],y=2;y < arguments.length;y++)x[y - 2]=arguments[y];u || r || !k.apply(void 0,n.__spreadArray([v,w],n.__read(x),!1)) || (r=q.Yt(c.ce.jz(f.I.Ca(l)),h));p.apply(void 0,n.__spreadArray([v,w],n.__read(x),!1)) && e();(x=u) && (u=!1);return x;},{reset:e,Xrb:("debounced(").concat(d(k),", ").concat(l,"ms)")});};n=a(22970);c=a(24153);f=a(44847);t=(function(){function g(e,h){this.rules=e;this.store=h.store;this.TRa=h.TRa || (function(){return [];});this.store.addListener("update",this.UM.bind(this));}g.prototype.reset=function(){this.rules.forEach(function(e){var h,k;return null === (k=(h=n.__read(e,1)[0]).reset) || void 0 === k?void 0:k.call(h);});};g.prototype.UM=function(e){var h,k,l,m,p,q,r,u,v,w,A,z;m=e.Ky;e=e.next;this.store.nSc();try{p=n.__values(this.rules);q=p.next();a:for(;!q.done;q=p.next()){r=n.__read(q.value,2);u=r[0];v=r[1];w=Array.isArray(v)?v:[v];if(u.apply(void 0,n.__spreadArray([m,e],n.__read(this.TRa()),!1))){try{for(var x=(k=void 0,n.__values(w)),y=x.next();!y.done;y=x.next()){A=y.value;z=null === A || void 0 === A?void 0:A(e,d(u));z && z.reset?this.store.reset(z.zy):z && z.zy && this.store.next(z.zy);if(z && z.S9b)break a;}}catch(C){k={error:C};}finally{try{y && !y.done && (l=x.return) && l.call(x);}finally{if(k)throw k.error;}}e=this.store.value;}}}catch(C){var B;B={error:C};}finally{try{q && !q.done && (h=p.return) && h.call(p);}finally{if(B)throw B.error;}}this.store.nlc();};return g;})();b.Algorithm=t;},27192:function(t,b,a){var f;function d(g){return g.filter(function(e,h){return g.indexOf(e) === h;});}function n(g,e,h){return h?g.filter(function(k){return !e.some(function(l){return h(k,l);});}):g.filter(function(k){return -1 === e.indexOf(k);});}function c(g,e,h){return g.length < e.length?h?c(e,g,function(k,l){return h(l,k);}):c(e,g):h?g.map(function(k,l){return h(k,e[l])?-1:l;}).filter(function(k){return -1 !== k;}):g.map(function(k,l){return k === e[l]?-1:l;}).filter(function(k){return -1 !== k;});}Object.defineProperties(b,{__esModule:{value:!0}});b.R7b=void 0;b.cc=function(g,e){for(var h=0;h < g.length;h++)if(e(g[h],h,g))return g[h];};b.eLa=function(g,e){for(var h=g.length - 1;0 <= h;--h)if(e(g[h],h,g))return g[h];};b.Mm=function(g,e){var h;h=-1;return g.some(function(k,l,m){h=l;return e(k,l,m);})?h:-1;};b.y5c=function(g,e){var h,k,l;h=[];for(k=0;k < g.length;k++){l=e(g[k],k,g);if(Array.isArray(l))for(var m=0;m < l.length;m++)h.push(l[m]);else h.push(l);}return h;};b.cnb=function(g,e){for(var h=g.length - 1;0 <= h;h--)if(e(g[h],h,g))return h;return -1;};b.dLa=d;b.fLa=function(g,e){return g.filter(function(h,k){return g.indexOf(h) === k && -1 !== e.indexOf(h);});};b.gLa=function(g,e){e=g.indexOf(e);if(-1 === e)return !1;g.splice(e,1);return !0;};b.Zo=n;b.bnb=c;b.yX=function(g,e){return d(g.concat(e));};b.F6c=function(g){return function(e,h){return g(e) - g(h);};};b.QCc=function(g){return function(e,h){return g(e) < g(h)?e:h;};};b.flatten=function(g){var e;return (e=[]).concat.apply(e,f.__spreadArray([],f.__read(g),!1));};b.R6c=function(g,e){void 0 === e && (e=function(h){return h;});return g.reduce(function(h,k){k=e(k);return (void 0 === h[k]?h[k]=1:++h[k],h);},{});};b.C9c=function(g,e){return g.reduce(function(h,k){var l;l=e(k);return (void 0 === h[l]?h[l]=[k]:h[l].push(k),h);},{});};b.SFb=function(g){return null !== g && void 0 !== g;};b.Q7b=function(g){var e,k;e=[];if(Array.isArray(g))for(var h=0;h < g.length;h++){k=g[h];Array.isArray(k)?e=e.concat(k.filter(function(l){return void 0 !== l;})):void 0 !== k && e.push(k);}return e;};b.zcc=function(g,e,h){var k;k=n(g,e,h);e=n(e,g,h);g=n(g,k);return {Jda:k,smb:e,$ua:g,result:g.concat(e)};};b.AZ=function(g,e){for(var h=g.length - 1;0 <= h;--h)e(g[h],h,g);};f=a(22970);b.R7b=function(g,e,h){if(h){if(h >= g.length)return !1;0 > h && (h=Math.max(0,g.length + h));}return -1 !== g.indexOf(e,h);};},43529:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.AssertionError=void 0;b.assert=function(c,f){if(!c)throw new n(f || "Assertion failed");};d=a(22970);n=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);return f;})(Error);b.AssertionError=n;},70058:function(t,b,a){var c,f,g,e,h,k,l;function d(m){return m && "function" === typeof m.Zg?!0:!1;}function n(m){return d(m) && (m=typeof m.t_,"boolean" === m || "undefined" === m)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.dha=b.Jga=b.AsyncIterator=void 0;b.gUa=d;b.JPa=n;b.map=function(m,p,q){return new l(m,p,q);};b.Noa=function(m,p,q){return new k(m,p,q);};c=a(22970);f=a(32910);e=(function(){function m(p){var q;q=this;this.i3b=p;this.E6=!1;this.B4b=function(r){return q.vKc(r);};this.Eqb();}m.qra=function(p,q){function r(){var u;u=p.next();u.then(function(v){n(p) && p.t_ || q(v);});u.then(function(v){return !v.done && r();});}r();};Object.defineProperties(m.prototype,{qH:{get:function(){return this.E6;},enumerable:!1,configurable:!0}});m.vSa=function(){g || (g=Promise.resolve({done:!0}));return g;};Object.defineProperties(m.prototype,{s_:{get:function(){return this.Zc || !1;},enumerable:!1,configurable:!0}});m.prototype.Zg=function(){this.cancel();};m.prototype.cancel=function(){this.e1();this.Zc=!0;return this.kMa;};m.prototype.next=function(){return this.Zc?this.kMa:Promise.race([this.kMa,this.i3b()]).then(this.B4b);};m.prototype.vKc=function(p){p.done && (this.E6=!0,this.Zg());this.s_ || (this.e1(),this.Eqb());return p;};m.prototype.Eqb=function(){var p;p=this;this.kMa=new Promise(function(q){p.e1=function(){return q({done:!0});};});};return m;})();b.AsyncIterator=e;h=(function(m){function p(q){var r;r=m.call(this,function(){return r.wrc();}) || this;r.Zz=q;r.index=0;return r;}c.__extends(p,m);p.prototype.Zg=function(){d(this.Zz) && this.Zz.Zg();m.prototype.Zg.call(this);};p.prototype.wrc=function(){return this.Zz.length > this.index?Promise.resolve({value:this.Zz[this.index++],done:!1}):Promise.resolve({done:!0});};return p;})(e);b.Jga=h;k=(function(m){function p(q,r,u){var v;v=m.call(this,function(){return v.YWa();}) || this;v.console=r;v.op=u;v.KZa=!1;Array.isArray(q)?v.Rca=new h(q):v.Rca=q;return v;}c.__extends(p,m);p.prototype.xKc=function(q){var r;this.KZa=!1;r=this.console;f.l && r && r.trace("CompoundIterator: processNextOuterIterator");if(q.done)return q;q=q.value;if(this.t_)return (d(q) && q.Zg(),e.vSa());Array.isArray(q)?this.op=new h(q):this.op=q;return this.YWa();};p.prototype.wKc=function(q){var r;r=this.console;f.l && r && r.trace("CompoundIterator: processNextInnerResult",this.t_,q.done);if(!q.done || this.t_)return q;this.op=void 0;return this.YWa();};p.prototype.Zg=function(){var q;q=this.console;f.l && q && q.trace("CompoundIterator: dispose");this.t_=!0;m.prototype.Zg.call(this);d(this.Rca) && this.Rca.Zg();d(this.op) && this.op.Zg();};p.prototype.toString=function(){return ("CompoundIterator ").concat(this.t_," ").concat(this.Rca," ").concat(this.op);};p.prototype.YWa=function(){var q,r;q=this;r=this.console;f.l && r && r.trace("CompoundIterator: nextImpl");if(this.op)return (f.l && r && r.trace("CompoundIterator: getNextInner"),this.op.next().then(function(u){return q.wKc(u);}));this.KZa=!0;f.l && r && r.trace("CompoundIterator: getNextOuter");return this.Rca.next().then(function(u){return q.xKc(u);});};return p;})(e);b.dha=k;l=(function(m){function p(q,r,u){var v;v=m.call(this,function(){return v.c3b();}) || this;v.source=q;v.iWa=r;v.aNa=u;return v;}c.__extends(p,m);p.prototype.Zg=function(){d(this.source) && this.source.Zg();m.prototype.Zg.call(this);};p.prototype.c3b=function(){var q,r,u;q=this.aNa;r=this.iWa;u=this.source;f.l && q && q.trace("MappedIterator: Requesting next");return u.next().then(function(v){return v.done?v:r(v.value);});};return p;})(e);},13489:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ub=void 0;d=a(73550);n=(function(){function c(f,g,e){this.r2b=f;this.E2b=g;this.kk=e;this.wka=!1;}c.prototype.ap=function(){this.wka || (this.nIa=this.r2b(this.kk),this.JJ=this.nIa.length,this.kk=void 0,this.wka=!0);};c.prototype.b9=function(){this.wka && (this.kk=this.E2b(this.nIa),this.nIa=void 0,this.wka=!1);};Object.defineProperties(c.prototype,{data:{get:function(){this.b9();return this.kk;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{size:{get:function(){return this.JJ;},enumerable:!1,configurable:!0}});return c;})();t=(function(){function c(){this.flush();}c.prototype.set=function(f,g,e){void 0 === e && (e=!0);f=this.QJa(f,g).oob;e && f.ap();};c.prototype.QJa=function(f,g){var e,h;e=this;h=new n(void 0,void 0,g);g=new d.SV({name:"compression",Nca:function(k){var l;k() && (null === (l=e.Tma.get(f)) || void 0 === l?void 0:l.data) === h && h.ap();}});this.Tma.set(f,{data:h,$A:g});return {oob:h,$A:g};};c.prototype.get=function(f){if(f=this.Tma.get(f))return {value:f.data,ll:f.$A.Yz()};};c.prototype.delete=function(f){this.Tma.delete(f);};c.prototype.flush=function(){this.Tma=new Map();};return c;})();b.$Ub=t;},91631:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.c9a=b.gw=b.vk=b.K4a=b.Ygb=void 0;d=a(22970);n=a(66164);c=a(50214);b.Ygb=function(f){return void 0 !== f.sA.WRc?f.aVa + f.sA.WRc:Infinity;};b.K4a=function(f){return void 0 !== f.sA.absolute?f.sA.absolute:Infinity;};b.vk=function(f){if(!f)return Infinity;f=Math.min((0,b.Ygb)(f),(0,b.K4a)(f));return isNaN(f)?Infinity:f;};b.gw=function(f,g){null !== g && void 0 !== g?g:g=n.platform.time.now();return (0,b.vk)(f) <= g;};t=(function(){function f(g){this.fGc=g;this.IE=new c.FO([],function(e,h){e=(0,b.vk)(e);h=(0,b.vk)(h);return e - h;});}Object.defineProperties(f.prototype,{size:{get:function(){return this.IE.length;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{values:{get:function(){return this.IE.xj();},enumerable:!1,configurable:!0}});f.prototype.has=function(g){return this.IE.contains(g);};f.prototype.track=function(g){this.has(g)?this.Gda(g):(this.IE.push(g),this.ig());};f.prototype.delete=function(g){var e;e=this.has(g);e && this.IE.remove(g);return e;};f.prototype.clear=function(){this.IE.clear();};f.prototype.Gda=function(g){g.aVa=n.platform.time.now();this.IE.Gda(g);this.ig();};f.prototype.ig=function(){var e,h,k,l;function g(r){var u;u=(0,b.vk)(r);if(isFinite(u))return (l.GE=setTimeout(function(){h.GE=void 0;h.kub(u);},u - k),"break");l.delete(r);}h=this;this.GE && clearTimeout(this.GE);k=n.platform.time.now();this.kub(k,!1);l=this;try{for(var m=d.__values(this.IE.xj()),p=m.next();!p.done && "break" !== g(p.value);p=m.next());}catch(r){var q;q={error:r};}finally{try{p && !p.done && (e=m.return) && e.call(m);}finally{if(q)throw q.error;}}};f.prototype.kub=function(g,e){var h;for(void 0 === e && (e=!0);(0,b.gw)(this.IE.Pq(),g);){h=this.IE.pop();this.fGc(h);}e && this.ig();};return f;})();b.c9a=t;},67442:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.yBa=void 0;d=a(50214);n=a(85068);t=(function(){function c(f,g){var e;this.console=f;this.xg=g.xg;this.wLa=null !== (e=g.wLa) && void 0 !== e?e:!1;this.clear();}Object.defineProperties(c.prototype,{lE:{get:function(){return this.gg.length;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{iX:{get:function(){return this.r7.size;},enumerable:!1,configurable:!0}});c.prototype.bpb=function(){var f;for(;this.r7.size < this.xg && this.gg.length;){f=this.gg.pop();this.dub(f);}};c.prototype.dub=function(f){var g;g=this;this.console.debug("Execute throttler item",{bva:f.item.priority,lE:this.lE,Blb:this.iX,eba:f.Ym.SM});f.Ym.SM || (f.Ym.resolve(f.item.BAb()),this.r7.add(f.item),f.Ym.promise.catch(function(){return g.remove(f.item);}),this.wLa && f.Ym.promise.then(function(){return g.remove(f.item);},function(){return g.remove(f.item);}));};c.prototype.add=function(f){var g,e;g=this;this.console.debug("item added",{bva:f.priority,lE:this.lE,Blb:this.iX});e={item:f,Ym:new n.Ko()};this.gg.push(e);this.bpb();return {nS:function(){g.gg.remove(e);g.dub(e);},item:e.Ym.promise};};c.prototype.remove=function(f){var g,e;this.console.debug("item removed",{bva:f.priority,lE:this.lE,Blb:this.iX});e=this.gg.find(function(h){return h.item === f;});e && this.gg.remove(e);this.r7.delete(f);null === (g=f.UXa) || void 0 === g?void 0:g.call(f);this.bpb();};c.prototype.clear=function(){var f,g;null === (f=this.r7) || void 0 === f?void 0:f.forEach(function(e){var h;return null === (h=e.UXa) || void 0 === h?void 0:h.call(e);});null === (g=this.gg) || void 0 === g?void 0:g.map(function(e){var h,k;return null === (k=(h=e.item).UXa) || void 0 === k?void 0:k.call(h);});this.gg=new d.FO([],function(e,h){return e.item.priority - h.item.priority;});this.r7=new Set();};return c;})();b.yBa=t;},34268:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(57086),b);t.__exportStar(a(6077),b);t.__exportStar(a(13489),b);t.__exportStar(a(67442),b);t.__exportStar(a(49690),b);t.__exportStar(a(13816),b);t.__exportStar(a(91631),b);},57086:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.Dab=b.aia=void 0;d=a(22970);n=a(66164);c=a(90745);f=a(73550);g=a(43529);e=a(4742);t=(function(){function h(k,l){this.name=l;this.Sn=new Map();this.kka=new WeakMap();this.console=(0,e.Gf)(n.platform,k,"LeaseCache");}h.prototype.get=function(k){if(this.Sn.has(k))return (k=this.Sn.get(k),{value:k.value,ll:k.$A.Yz()});};h.prototype.keys=function(){return this.Sn.keys();};Object.defineProperties(h.prototype,{size:{get:function(){return this.Sn.size;},enumerable:!1,configurable:!0}});h.prototype.nQb=function(k,l,m){var p,q;if(this.Sn.has(l)){p=this.Sn.get(l);q=d.__assign(d.__assign({},p),{key:m,value:p.value});this.JIa(p).clear();this.kka.delete(p);k.pJa(l,m,q);this.Sn.delete(l);return p.value;}};h.prototype.pJa=function(k,l,m){var p;p=this;this.Sn.set(l,m);this.JIa(m).addListener(m.$A.events,"leaseReleased",function(q){return q.Zqa && p.delete(l);});m.$A.name=this.name;};h.prototype.update=function(k,l){var m;this.Sn.has(k) && (k=this.Sn.get(k),k.value=null !== (m=l(k.value)) && void 0 !== m?m:k.value);};h.prototype.RRa=function(k,l){this.has(k) || this.o3b(k,l(k));return this.get(k);};h.prototype.o3b=function(k,l){(0,g.assert)(!this.has(k),("key ").concat(k," already exists in cache"));this.QJa(k,l.value,l.lM);};h.prototype.JIa=function(k){this.kka.has(k) || this.kka.set(k,new c.kf(this.console));return this.kka.get(k);};h.prototype.has=function(k){return this.Sn.has(k);};h.prototype.QJa=function(k,l,m){var p,q;p=this;(0,g.assert)(!this.Sn.has(k),("key ").concat(k," already found"));q={no:!0,key:k,value:l,lM:m,$A:new f.SV({name:("").concat(this.name,":").concat(k),Nca:function(){},console:this.console})};this.JIa(q).addListener(q.$A.events,"leaseReleased",function(r){r.Zqa && p.has(k) && p.Sn.get(k) === q && p.delete(q.key);});this.Sn.set(k,q);};h.prototype.fka=function(k){var l,m;m=this.Sn.get(k);m && (null === (l=m.lM) || void 0 === l?void 0:l.call(m),m.no=!1,this.Sn.delete(k));};h.prototype.delete=function(k){this.fka(k);};h.prototype.values=function(){return this.Sn.values();};h.prototype.au=function(){this.clear();};h.prototype.clear=function(){var k;try{for(var l=d.__values(this.Sn.keys()),m=l.next();!m.done;m=l.next())this.fka(m.value);}catch(q){var p;p={error:q};}finally{try{m && !m.done && (k=l.return) && k.call(l);}finally{if(p)throw p.error;}}};return h;})();b.aia=t;t=(function(h){function k(l,m){l=h.call(this,l,m) || this;l.FW=new Map();return l;}d.__extends(k,h);k.prototype.LPc=function(l,m){this.has(m) && (this.FW.has(l) || this.FW.set(l,new Set()),this.FW.get(l).add(m));};k.prototype.Moc=function(l){if(l=this.FW.get(l))return l.values();};k.prototype.$hc=function(l,m){var p;this.delete(m);null === (p=this.FW.get(l)) || void 0 === p?void 0:p.delete(m);};k.prototype.fka=function(l){h.prototype.fka.call(this,l);this.FW.delete(l);};k.prototype.pJa=function(l,m,p){h.prototype.pJa.call(this,l,m,p);this.LPc(l,m);};return k;})(t);b.Dab=t;},6077:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.VV=void 0;d=a(22970);n=a(66164);c=a(4069);f=a(43529);t=(function(){function g(e,h,k){void 0 === h && (h=function(l,m){return l === m;});void 0 === k && (k={});this.config=e;this.rPa=h;this.de=[];this.PX=new c.Vg();this.uma=new c.Vg();this.options=d.__assign({xg:10},k);}Object.defineProperties(g.prototype,{isEnabled:{get:function(){return this.config.enabled;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{size:{get:function(){return this.de.length;},enumerable:!1,configurable:!0}});g.prototype.get=function(e){if(e=this.cpa(e))return e.value;};g.prototype.delete=function(e){e=this.findIndex(e);-1 !== e && this.de.splice(e,1);};g.prototype.Hpa=function(e,h){var k;if(!this.isEnabled)return h();k=this.cpa(e);if(k)return k.value;h=h();this.ru(e,h);return h;};g.prototype.findIndex=function(e){var h,k,l,m;h=Infinity;k=Infinity;if(this.options.wx || this.options.Jw){l=n.platform.time.ha();this.options.Jw && (h=l - this.options.Jw);this.options.wx && (k=l - this.options.wx);}for(l=0;l < this.de.length;l++){m=this.de[l];if(this.options.Jw && m.pba < h){this.de.splice(l,this.de.length - l);break;}if(this.options.wx && m.Tm < k)(this.de.splice(l,1),l--);else if(this.rPa(m.key,e))return l;}return -1;};g.prototype.cpa=function(e){var h;e=this.findIndex(e);if(-1 !== e){h=this.de[e];this.de.splice(e,1);this.de.unshift(h);this.options.Jw && (h.pba=n.platform.time.ha());this.uma.push(e);this.PX.push(1);return h;}this.PX.push(0);};g.prototype.has=function(e,h){e=this.findIndex(e);return -1 !== e?h?this.de[e].value === h:!0:!1;};g.prototype.pAb=function(e,h,k){if(this.isEnabled){(0,f.assert)(!this.has(e),"key already found");this.de.unshift({key:e,value:h});e=d.__assign(d.__assign({},this.options),k);if(e.Jw || e.wx)(h=n.platform.time.ha(),e.Jw && (this.de[0].pba=h),e.wx && (this.de[0].Tm=h));this.uMa();}};g.prototype.ru=function(e,h){this.pAb(e,h,this.options);};g.prototype.uMa=function(){var e;if(this.de.length > this.options.xg){e=this.de.pop();e && this.options.pra && this.options.pra(e.key,e.value);}};g.prototype.clear=function(){for(var e=this.de.pop();e;)(this.options.pra && this.options.pra(e.key,e.value),e=this.de.pop());this.de=[];};return g;})();b.VV=t;},49690:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.zfb=void 0;d=a(22970);n=a(41674);c=a(57086);f=a(67442);t=(function(){function g(e,h,k){this.console=e;this.nyc=h;this.xg=k;this.XB=new f.yBa(e,{xg:k});this.Ira=new c.aia(e,"pri-cache");}g.prototype.getStats=function(){return {maxSize:this.xg,activeItemsLength:this.XB.iX,queueSize:this.XB.lE};};Object.defineProperties(g.prototype,{iX:{get:function(){return this.XB.iX;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{lE:{get:function(){return this.XB.lE;},enumerable:!1,configurable:!0}});g.prototype.remove=function(e){this.Ira.has(e) && this.Ira.delete(e);};g.prototype.get=function(e){var h,k,l;h=this;k=d.__assign({},e);l=this.Ira.RRa(k.key,function(){var p,q,r;function m(){k.required=!0;r.nS();}p=new n.AbortController();q={RJ:p.signal,BAb:function(){var u;h.console.trace("Invoking pri-cache",{key:k.key,bva:k.priority,Ncd:k.required});u=h.nyc.zwc(k,p.signal);k.required && u.nS();m=function(){return u.nS();};return u.item;},priority:k.priority};r=h.XB.add(q);return {value:d.__assign(d.__assign({},r),{nS:function(){null === m || void 0 === m?void 0:m();}}),lM:function(){h.console.trace("pri-cache item removal",{key:k.key});p.abort();h.XB.remove(q);}};});e.required && l.value.nS();return l;};g.prototype.clear=function(){this.Ira.clear();this.XB.clear();};return g;})();b.zfb=t;},13816:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fKc=b.DZa=void 0;b.DZa=function(a,d){var n,c;return (null !== (n=a.priority) && void 0 !== n?n:0) - (null !== (c=d.priority) && void 0 !== c?c:0);};b.fKc=function(a,d){var n,c;return (null !== (n=d.priority) && void 0 !== n?n:0) - (null !== (c=a.priority) && void 0 !== c?c:0);};},62613:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$E=void 0;b.$E=(function(){function a(){}a.tL=function(d,n){var g;function c(e){return f(g++)(e,c);}function f(e){return e >= n.length?function(){throw Error(("The last delegate in the chain should not invoke next() nextDelegateIndex ").concat(e));}:n[e];}g=0;return c(d);};return a;})();},42022:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},23512:function(t,b,a){var n;function d(){var f;function c(g,e){var h,k;h=this;k=typeof e;if("object" === k || "function" === k)if(((k=(0,n.cc)(f,function(l){return l.object === h;}))?(f.splice(k.index + 1),k.key=g):f.push({index:f.length,key:g,object:this}),g=(0,n.cc)(f,function(l){return l.object === e;})))(g=f.slice(0,g.index).map(function(l){return l.key;}).join("."),e=("[Cycle Detected: ").concat(g.length?" " + g:g,"]"),c.state.YNa=!0);return e;}f=[];c.state={YNa:!1};return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.cAa=void 0;n=a(27192);b.cAa=(function(){function c(){}c.stringify=function(f){var g;g=d();return [JSON.stringify(f,g),g.state];};return c;})();},66045:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dx=void 0;t=b.dx={};t[t.jN=0]="skipped";t[t.cG=1]="adjustment";},70248:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.bqb=void 0;d=a(22970);n=a(32910);c=a(43529);b.bqb=function(){for(var f=[],g=0;g < arguments.length;g++)f[g]=arguments[g];n.l && (0,c.assert)(f.length);return function(e,h){var k,p,q;try{for(var l=d.__values(f),m=l.next();!m.done;m=l.next()){p=m.value;q=p(e,h);if(0 !== q)return q;}}catch(u){var r;r={error:u};}finally{try{m && !m.done && (k=l.return) && k.call(l);}finally{if(r)throw r.error;}}return 0;};};},44201:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.c8a=void 0;d=a(43529);n=a(50214);c=a(58191);t=(function(){function f(g){this.zjc=g;this.h4a=!1;this.pya=new c.Ifb();}f.prototype.tSb=function(g,e,h){var l,m;function k(){var r,u,v,w,x,y;r=p.pop();u=r.node;v=r.Dla;r=v.hJc;w=v.wq;v=v.state;if(!q.pya.has(u)){r=e(u,w,r,v);x=r.cV;y=r.state;r.Bla || q.pya.add(u);m(u).forEach(function(A){var z;z=A.zXc;l.pya.has(z) || (A=w + A.weight,x && p.push({node:z,Dla:{wq:A,hJc:u,state:y}}));});}}l=this;m=this.zjc;(0,d.assert)(!this.h4a);this.h4a=!0;this.pya.clear();for(var p=new n.FO([{node:g,Dla:{wq:0,state:h}}],function(r,u){return r.Dla.wq - u.Dla.wq;}),q=this;!p.empty;)k();this.h4a=!1;};return f;})();b.c8a=t;},32910:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.l=!1;},19705:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.VK=function(a,d){var n;a=Math.abs(a);for(d=Math.abs(d);d;){n=d;d=a % d;a=n;}return a;};},19809:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.has=function(a,d){for(var n in d)if(void 0 === a[n])return !1;return !0;};},40512:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},91176:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(41674),b);t.__exportStar(a(43155),b);t.__exportStar(a(44510),b);t.__exportStar(a(27192),b);t.__exportStar(a(43529),b);t.__exportStar(a(70058),b);t.__exportStar(a(34268),b);t.__exportStar(a(62613),b);t.__exportStar(a(42022),b);t.__exportStar(a(23512),b);t.__exportStar(a(66045),b);t.__exportStar(a(70248),b);t.__exportStar(a(44201),b);t.__exportStar(a(19705),b);t.__exportStar(a(19809),b);t.__exportStar(a(40512),b);t.__exportStar(a(97322),b);t.__exportStar(a(81954),b);t.__exportStar(a(26540),b);t.__exportStar(a(94742),b);t.__exportStar(a(73550),b);t.__exportStar(a(84419),b);t.__exportStar(a(75347),b);t.__exportStar(a(50214),b);t.__exportStar(a(41395),b);t.__exportStar(a(6551),b);t.__exportStar(a(76162),b);t.__exportStar(a(63375),b);t.__exportStar(a(48571),b);t.__exportStar(a(94500),b);t.__exportStar(a(85068),b);t.__exportStar(a(58191),b);t.__exportStar(a(94893),b);t.__exportStar(a(95130),b);t.__exportStar(a(34228),b);t.__exportStar(a(90657),b);t.__exportStar(a(4069),b);t.__exportStar(a(89989),b);t.__exportStar(a(23267),b);t.__exportStar(a(15807),b);t.__exportStar(a(24153),b);t.__exportStar(a(42306),b);t.__exportStar(a(44847),b);t.__exportStar(a(22633),b);t.__exportStar(a(77297),b);t.__exportStar(a(61022),b);t.__exportStar(a(34166),b);},97322:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.T$c=function(a){var d,n;d=a.next();do {if(!d.done)n=d.value;d=a.next();}while(!d.done);return n;};b.xj=function(a){if(Array.isArray(a))return a;for(var d=[],n=a.next();!n.done;)(d.push(n.value),n=a.next());return d;};},81954:function(t,b){function a(d,n,c,f){var e;if(Array.isArray(d))d.forEach(function(h,k){h=a(h,n,d,k.toString());void 0 !== h?d[k]=h:delete d[k];});else if(null !== d && "object" === typeof d)for(var g in d)if(d.hasOwnProperty(g)){e=a(d[g],n,d,g);void 0 !== e?d[g]=e:delete d[g];}return n.call(c,f,d);}Object.defineProperties(b,{__esModule:{value:!0}});b.FLb=void 0;b.FLb=function(d,n){null !== d && "object" === typeof d && a(d,n,void 0,"");};},26540:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Hra=void 0;b.Hra=function(a){var n;function d(){n || (n=a());return n;}n=void 0;d.clear=function(){n=void 0;};d.mzb=function(){return void 0 !== n;};return d;};},94742:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.JCa=b.nGa=void 0;d=a(22970);(function(c){c[c.x0=0]="none";c[c.remove=1]="remove";c[c.clear=2]="clear";c[c.all=3]="all";})(n || (b.nGa=n={}));t=(function(){function c(f){void 0 === f && (f={});this.JD=new Map();this.options=d.__assign({Cva:n.x0},f);}Object.defineProperties(c.prototype,{size:{get:function(){return this.JD.size;},enumerable:!1,configurable:!0}});c.prototype.has=function(f){return this.JD.has(f);};c.prototype.g6b=function(f,g){this.JD.set(f,g);};c.prototype.delete=function(f){return d.__awaiter(this,arguments,void 0,function(g,e){var h,k;void 0 === e && (e=!0);return d.__generator(this,function(l){switch(l.label){case 0:h=this.JD.get(g);k=this.JD.delete(g);if(l=e)(l=n.remove,l=(this.options.Cva & l) === l);return l?[4,Promise.resolve()]:[3,2];case 1:(l.T(),l.label=2);case 2:return (h && h.release(),[2,k]);}});});};c.prototype.sjb=function(f){return d.__awaiter(this,void 0,void 0,function(){var g;return d.__generator(this,function(e){switch(e.label){case 0:return (g=Array.from(this.JD.values()),this.JD.clear(),f?[4,Promise.resolve()]:[3,2]);case 1:(e.T(),e.label=2);case 2:return (g.forEach(function(h){h.release();}),[2]);}});});};c.prototype.clear=function(){return d.__awaiter(this,void 0,void 0,function(){var f;return d.__generator(this,function(g){switch(g.label){case 0:return (g=n.clear,f=(this.options.Cva & g) === g,[4,this.sjb(f)]);case 1:return (g.T(),[2]);}});});};c.prototype.La=function(){this.sjb(!1);};return c;})();b.JCa=t;},73550:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.SV=b.VXb=void 0;d=a(90745);n=a(94893);c=a(32910);f=(function(){function g(e,h){this.id=e;this.EJa=h;}g.prototype.release=function(){this.EJa();};g.prototype.toString=function(){return ("Lease(").concat(this.id,")");};return g;})();b.VXb=f;t=(function(){function g(e){var h,k;this.counter=new n.T5();this.czc=0;this.events=new d.EventEmitter();h=e.Nca;k=e.console;this.name=e.name || "unnamed";this.name=("").concat(this.name,"-").concat(g.dzc++);this.events.on("leaseReleased",function(l){return h(function(){return l.Zqa;});});this.console=k;c.l && (this.JD=new Set());}g.prototype.Yz=function(){var e,h,k,l,m,p,q;e=this;l=this.czc++;null === (h=this.console) || void 0 === h?void 0:h.trace(("Acquiring lease ").concat(this.name,", ").concat(l," total count"),this.counter.kGb + 1);m=this.counter.add();p=new f(("").concat(this.name,", ").concat(l),function(){var r,u;m.release();null === (r=e.console) || void 0 === r?void 0:r.trace(("Releasing lease from ").concat(e.name,", ").concat(l,", total count"),e.counter.kGb);e.events.emit("leaseReleased",{get Zqa() {return !q.Ela;}});null === (u=e.JD) || void 0 === u?void 0:u.delete(p);});c.l && (null === (k=this.JD) || void 0 === k?void 0:k.add(p));q=this.counter;return p;};g.dzc=0;return g;})();b.SV=t;},75347:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(80635),b);t.__exportStar(a(38180),b);t.__exportStar(a(60490),b);t.__exportStar(a(94490),b);},38180:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.v8b=b.LYb=void 0;d=a(22970);n=(function(){function c(){}c.w8b=function(f){if(null === f || void 0 === f || "object" !== typeof f)return f;f.iK && this.mq(f.iK,this.lnb.bind(this));f.Om && this.mq(f.Om,this.lnb.bind(this));f.textTracks && this.mq(f.textTracks,this.knb.bind(this));f.nt && this.mq(f.nt,this.knb.bind(this));f.km && this.mq(f.km,this.nnb.bind(this));f.MN && this.mq(f.MN,this.nnb.bind(this));f.a0 && this.mq(f.a0,this.n8b.bind(this));f.PU && this.mq(f.PU,this.u8b.bind(this));f.CN && this.mq(f.CN,this.q8b.bind(this));f.FB && this.o8b(f.FB);this.s8b(f);return f;};c.mq=function(f,g){if(Array.isArray(f))for(var e=f.length,h=0;h < e;h++)g(f[h]);};c.lnb=function(f){if(!f || "object" !== typeof f)return f;f.streams && this.mq(f.streams,this.r8b.bind(this));this.Qla(f);return f;};c.knb=function(f){var h;if(!f || "object" !== typeof f)return f;if(f.ao && "object" === typeof f.ao)for(var g=Object.keys(f.ao),e=0;e < g.length;e++){h=f.ao[g[e]];h && "object" === typeof h && h.urls && this.mq(h.urls,this.Rla.bind(this));}this.Qla(f);this.kLa(f);this.k8b(f);return f;};c.nnb=function(f){if(!f || "object" !== typeof f)return f;f.streams && this.mq(f.streams,this.x8b.bind(this));this.Qla(f);this.mnb(f);return f;};c.n8b=function(f){if(!f || "object" !== typeof f)return f;f.streams && this.mq(f.streams,this.m8b.bind(this));return f;};c.m8b=function(f){if(!f || "object" !== typeof f)return f;f.urls && this.mq(f.urls,this.Rla.bind(this));this.jLa(f);return f;};c.r8b=function(f){if(!f || "object" !== typeof f)return f;f.urls && this.mq(f.urls,this.Rla.bind(this));this.jLa(f);return f;};c.x8b=function(f){if(!f || "object" !== typeof f)return f;f.urls && this.mq(f.urls,this.Rla.bind(this));this.jLa(f);this.mnb(f);return f;};c.Rla=function(f){if(!f || "object" !== typeof f)return f;this.i8b(f);return f;};c.u8b=function(f){if(!f || "object" !== typeof f)return f;this.j8b(f);return f;};c.q8b=function(f){if(!f || "object" !== typeof f)return f;this.Qla(f);this.kLa(f);return f;};c.Qla=function(f){f && "object" === typeof f && this.t8b(f);};c.o8b=function(f){f && "object" === typeof f && this.kLa(f);};c.s8b=function(f){f.iK && !f.Om && (f.Om=f.iK);f.Om && !f.iK && (f.iK=f.Om);f.textTracks && !f.nt && (f.nt=f.textTracks);f.nt && !f.textTracks && (f.textTracks=f.nt);f.MN && !f.km && (f.km=f.MN);f.km && !f.MN && (f.MN=f.km);f.CN && !f.DX && (f.DX=f.CN);f.DX && !f.CN && (f.CN=f.DX);};c.t8b=function(f){f.id && (f.We || (f.We=f.id),f.ot || (f.ot=f.id));f.We && !f.id && (f.id=f.We);f.ot && !f.id && (f.id=f.ot);};c.kLa=function(f){f.Zy && !f.az && (f.az=f.Zy);f.az && !f.Zy && (f.Zy=f.az);};c.jLa=function(f){f.ob && !f.$g && (f.$g=f.ob);f.$g && !f.ob && (f.ob=f.$g);f.Uc && !f.ds && (f.ds=f.Uc);f.ds && !f.Uc && (f.Uc=f.ds);f.QH && !f.FS && (f.FS=f.QH);f.FS && !f.QH && (f.QH=f.FS);};c.mnb=function(f){var h,k;for(var g=[["maxFramerateValue","max_framerate_value"],["maxFramerateScale","max_framerate_scale"],["pixW","pix_w"],["pixH","pix_h"],["resW","res_w"],["resH","res_h"],["framerateValue","framerate_value"],["framerateScale","framerate_scale"],["cropX","crop_x"],["cropY","crop_y"],["cropW","crop_w"],["cropH","crop_h"]],e=0;e < g.length;e++){h=d.__read(g[e],2);k=h[0];h=h[1];(k in f) && !((h in f)) && (f[h]=f[k]);(h in f) && !((k in f)) && (f[k]=f[h]);}};c.i8b=function(f){f.Uh && !f.Kg && (f.Kg=f.Uh);f.Kg && !f.Uh && (f.Uh=f.Kg);};c.j8b=function(f){f.ob && !f.$g && (f.$g=f.ob);f.$g && !f.ob && (f.ob=f.$g);};c.k8b=function(f){f.ao && !f.FI && (f.FI=f.ao);f.FI && !f.ao && (f.ao=f.FI);};return c;})();b.LYb=n;b.v8b=function(c){return n.w8b(c);};},60490:function(t,b){function a(n){n && "object" === typeof n && (void 0 !== n.id?(void 0 === n.ot && (n.ot=n.id),void 0 === n.We && (n.We=n.id)):void 0 !== n.We && void 0 === n.id?(n.id=n.We,void 0 === n.ot && (n.ot=n.We)):void 0 !== n.ot && void 0 === n.id && (n.id=n.ot,void 0 === n.We && (n.We=n.ot)));}function d(n){n && "object" === typeof n && void 0 !== n.Uh && (n.Kg=n.Uh,delete n.Uh);}Object.defineProperties(b,{__esModule:{value:!0}});b.Lcd=function(n){var c,e,l;if(null === n || void 0 === n || "object" !== typeof n)return n;void 0 !== n.iK && (n.Om=n.iK,delete n.iK);void 0 !== n.textTracks && (n.nt=n.textTracks,delete n.textTracks);void 0 !== n.MN && (n.km=n.MN,delete n.MN);void 0 !== n.CN && (n.DX=n.CN,delete n.CN);c=n.Om;if(c && Array.isArray(c))for(var f=c.length,g=0;g < f;g++){e=c[g];if(e && "object" === typeof e && (a(e),e.streams && Array.isArray(e.streams)))for(var h=e.streams.length,k=0;k < h;k++){l=e.streams[k];if(l && "object" === typeof l && (void 0 !== l.Uc && (l.ds=l.Uc,delete l.Uc),void 0 !== l.ob && (l.$g=l.ob,delete l.ob),void 0 !== l.QH && (l.FS=l.QH,delete l.QH),l.urls && Array.isArray(l.urls)))for(var m=l.urls.length,p=0;p < m;p++)d(l.urls[p]);}}if((c=n.nt) && Array.isArray(c))for((f=c.length,g=0);g < f;g++)if((e=c[g]) && "object" === typeof e && (a(e),void 0 !== e.Zy && (e.az=e.Zy,delete e.Zy),void 0 !== e.ao && (e.FI=e.ao,delete e.ao),(e=e.FI) && "object" === typeof e && !Array.isArray(e)))for((h=Object.keys(e),k=h.length,l=0);l < k;l++)if((m=e[h[l]]) && "object" === typeof m && m && "object" === typeof m && (void 0 !== m.ob && (m.$g=m.ob,delete m.ob),m.urls && Array.isArray(m.urls))){p=m.urls.length;for(var q=0;q < p;q++)d(m.urls[q]);}if((c=n.km) && Array.isArray(c))for((f=c.length,g=0);g < f;g++)if((e=c[g]) && "object" === typeof e && (a(e),void 0 !== e.cEb && (e.bca=e.cEb,delete e.cEb),void 0 !== e.bEb && (e.aca=e.bEb,delete e.bEb),e.streams && Array.isArray(e.streams)))for((h=e.streams.length,k=0);k < h;k++)if((l=e.streams[k]) && "object" === typeof l && (void 0 !== l.Uc && (l.ds=l.Uc,delete l.Uc),void 0 !== l.ob && (l.$g=l.ob,delete l.ob),void 0 !== l.QH && (l.FS=l.QH,delete l.QH),void 0 !== l.mIb && (l.QYa=l.mIb,delete l.mIb),void 0 !== l.kIb && (l.PYa=l.kIb,delete l.kIb),void 0 !== l.eLb && (l.O_a=l.eLb,delete l.eLb),void 0 !== l.dLb && (l.Rva=l.dLb,delete l.dLb),void 0 !== l.vrb && (l.zrb=l.vrb,delete l.vrb),void 0 !== l.wrb && (l.Arb=l.wrb,delete l.wrb),void 0 !== l.urb && (l.yrb=l.urb,delete l.urb),void 0 !== l.qrb && (l.xrb=l.qrb,delete l.qrb),void 0 !== l.Nvb && (l.AQa=l.Nvb,delete l.Nvb),void 0 !== l.Mvb && (l.zQa=l.Mvb,delete l.Mvb),l.urls && Array.isArray(l.urls)))for((m=l.urls.length,p=0);p < m;p++)d(l.urls[p]);if((f=n.DX) && Array.isArray(f))for((f=f.length,g=0);g < f;g++);if(n.Ik && Array.isArray(n.Ik))for((f=n.Ik.length,g=0);g < f;g++);if(n.PU && Array.isArray(n.PU))for((f=n.PU.length,g=0);g < f;g++)(c=n.PU[g]) && "object" === typeof c && void 0 !== c.ob && (c.$g=c.ob,delete c.ob);if(n.a0 && Array.isArray(n.a0))for((f=n.a0.length,g=0);g < f;g++)if((c=n.a0[g]) && "object" === typeof c && c.streams && Array.isArray(c.streams))for((e=c.streams.length,h=0);h < e;h++)if((k=c.streams[h]) && "object" === typeof k && (void 0 !== k.Uc && (k.ds=k.Uc,delete k.Uc),void 0 !== k.ob && (k.$g=k.ob,delete k.ob),k.urls && Array.isArray(k.urls)))for((l=k.urls.length,m=0);m < l;m++)d(k.urls[m]);n.FB && (f=n.FB) && "object" === typeof f && void 0 !== f.Zy && (f.az=f.Zy,delete f.Zy);return n;};},80635:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.NDb=b.Ai=void 0;d=a(27192);b.Ai=function(c){return function(f,g){var e;e=this;(0,d.cc)(c,function(h){return f === h;}) && c.forEach(function(h){(h in e) || (e[h]=g);});return g;};};n=[(0,b.Ai)(["audioTracks","audio_tracks"]),(0,b.Ai)(["textTracks","timedtexttracks"]),(0,b.Ai)(["timedtexttracks","textTracks"]),(0,b.Ai)(["videoTracks","video_tracks"]),(0,b.Ai)(["maxFramerateValue","max_framerate_value"]),(0,b.Ai)(["maxFramerateScale","max_framerate_scale"]),(0,b.Ai)(["cdnList","cdnlist"]),(0,b.Ai)(["downloadables","ttDownloadables"]),(0,b.Ai)(["textTrackId","timedTextTrackId"]),(0,b.Ai)(["downloadableId","downloadable_id"]),(0,b.Ai)(["contentProfile","content_profile"]),(0,b.Ai)(["cdnId","cdn_id"]),(0,b.Ai)(["pixW","pix_w"]),(0,b.Ai)(["pixH","pix_h"]),(0,b.Ai)(["resW","res_w"]),(0,b.Ai)(["resH","res_h"]),(0,b.Ai)(["cropX","crop_x"]),(0,b.Ai)(["cropY","crop_y"]),(0,b.Ai)(["cropW","crop_w"]),(0,b.Ai)(["cropH","crop_h"]),(0,b.Ai)(["framerateValue","framerate_value"]),(0,b.Ai)(["framerateScale","framerate_scale"]),(0,b.Ai)(["newStreamId","new_stream_id"]),(0,b.Ai)(["id","new_track_id"]),(0,b.Ai)(["id","track_id"])];b.NDb=function(c,f){return n.reduce((function(g,e){return e.call(this,c,g);}).bind(this),f);};},94490:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zD=b.Ba=b.RA=void 0;b.RA=function(a){return "LIVE" === a || "LINEAR" === a;};b.Ba=function(a){return "LIVE" === a;};b.zD=function(a){return "LINEAR" === a;};},84419:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Had=function(a,d){var n,c;n=a & 65535;c=d & 65535;return n * c + (((a >>> 16 & 65535) * c + n * (d >>> 16 & 65535) & 65535) << 16) | 0;};},50214:function(t,b,a){var n;function d(c,f){return c < f?-1:c > f?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.FO=void 0;n=a(22970);t=(function(){function c(f,g){this.data=f || [];this.compare=g || d;if(!this.empty)for(f=(this.length >> 1) - 1;0 <= f;f--)this.zIa(f);}Object.defineProperties(c.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});c.prototype.push=function(f){this.data.push(f);this.plb(this.length - 1);};c.prototype.pop=function(){var f,g;if(!this.empty){f=this.data[0];g=this.data.pop();this.empty || (this.data[0]=g,this.zIa(0));return f;}};c.prototype.Pq=function(){return this.data[0];};c.prototype.Gda=function(f){this.remove(f);this.push(f);};c.prototype.map=function(f){return this.data.map(f);};c.prototype.find=function(f){return n.__read(this.data.filter(f),1)[0];};c.prototype.clear=function(){this.data=[];};c.prototype.remove=function(f){var g,e,h;g=this.data;f=g.indexOf(f);if(-1 !== f){e=g.pop();if(f < g.length){g[f]=e;h=f - 1 >> 1;g=g[h];0 <= h && 0 > this.compare(e,g)?this.plb(f):this.zIa(f);}}};c.prototype.$la=function(){for(var f=this.data,g=1;g < f.length;g++)if(0 > this.compare(f[g],f[g - 1 >> 1]))throw Error(("Audit failed at position ").concat(g," of ").concat(f));};c.prototype.contains=function(f){return 0 <= this.data.indexOf(f);};c.prototype.xj=function(){return this.data.concat([]);};c.prototype.plb=function(f){for(var g=this.data,e=this.compare,h=g[f],k,l;0 < f;){k=f - 1 >> 1;l=g[k];if(0 <= e(h,l))break;g[f]=l;f=k;}g[f]=h;};c.prototype.zIa=function(f){for(var g=this.data,e=this.compare,h=this.length >> 1,k=g[f],l,m,p;f < h;){l=(f << 1) + 1;p=g[l];m=l + 1;m < this.length && 0 > e(g[m],p) && (l=m,p=g[m]);if(0 <= e(p,k))break;g[f]=p;f=l;}g[f]=k;};return c;})();b.FO=t;},6551:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hEc=void 0;b.hEc=function(){for(var a=0;a < arguments.length;a++);return !1;};},76162:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.iEc=void 0;b.iEc=function(){for(var a=0;a < arguments.length;a++);return null;};},41395:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.gEc=void 0;b.gEc=function(){for(var a=0;a < arguments.length;a++);};},63375:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.B0=b.NEc=void 0;d=a(22970);n=a(22970);b.NEc=function(c){var f,g;f=[];for(g in c)f.push(c[g]);return f;};b.B0=function(c){for(var f=[],g=1;g < arguments.length;g++)f[g - 1]=arguments[g];return n.__assign.apply(void 0,d.__spreadArray([c],d.__read(f),!1));};},48571:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xEa=void 0;t=(function(){function a(d,n,c,f){var g;g=this;this.properties=d;this.transform=n;this.fA=c;this.state=f;this.Ob();d.forEach(function(e){return e.addListener(g.SXa);});this.SXa();}a.prototype.clear=function(){var d;d=this;this.properties.forEach(function(n){return n.removeListener(d.SXa);});};a.prototype.SAb=function(d){return void 0 !== d.equal;};a.prototype.Ob=function(){var d;d=this;this.SXa=function(){var n,c;n=d.state;c=d.properties.map(function(f){return f.value;});d.state=d.transform(c);(d.SAb(d.state) && d.SAb(n)?d.state.equal(n):n === d.state) || d.fA(d.state);};};return a;})();b.xEa=t;},94500:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.At=b.p0b=void 0;d=a(22970);n=a(48571);c=a(85068);t=(function(){function f(g,e){this.ib=g;this.iH=e?[e]:[];}Object.defineProperties(f.prototype,{value:{get:function(){return this.ib;},enumerable:!1,configurable:!0}});f.prototype.addListener=function(g){-1 === this.iH.indexOf(g) && (this.iH=this.iH.slice(),this.iH.push(g));};f.prototype.removeListener=function(g){g=this.iH.indexOf(g);-1 !== g && (this.iH=this.iH.slice(),this.iH.splice(g,1));};return f;})();b.p0b=t;t=(function(f){function g(e,h){return f.call(this,e,h) || this;}d.__extends(g,f);g.ESb=function(e,h,k){return new n.xEa(e,h,k,!1);};g.fYc=function(e,h,k){return d.__awaiter(this,void 0,void 0,function(){var l,m,p;p=this;return d.__generator(this,function(q){switch(q.label){case 0:(l=void 0,m=new Promise(function(r){l=p.ESb(e,h,r);}),q.label=1);case 1:return (q.tc.push([1,,6,7]),k?[4,(0,c.PJb)(k,m)]:[3,3]);case 2:return [2,q.T()];case 3:return [4,m];case 4:return [2,q.T()];case 5:return [3,7];case 6:return (l.clear(),[7]);case 7:return [2];}});});};Object.defineProperties(g.prototype,{value:{get:function(){return this.ib;},set:function(e){this.set(e);},enumerable:!1,configurable:!0}});g.prototype.set=function(e){var h;h=this.ib;h !== e && (this.ib=e,this.iH.forEach(function(k){return k({oldValue:h,newValue:e});}));};return g;})(t);b.At=t;},28999:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ko=void 0;t=(function(){function a(){var d;d=this;this.KJa=!1;this.promise=new Promise(function(n,c){d.JJa=n;d.DJa=c;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{SM:{get:function(){return this.KJa;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(d){var n;this.KJa=!0;null === (n=this.JJa) || void 0 === n?void 0:n.call(this,d);this.DJa=this.JJa=void 0;};a.prototype.reject=function(d){var n;this.KJa=!0;null === (n=this.DJa) || void 0 === n?void 0:n.call(this,d);this.DJa=this.JJa=void 0;};return a;})();b.Ko=t;},85068:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(28999),b);t.__exportStar(a(86823),b);t.__exportStar(a(29727),b);t.__exportStar(a(54331),b);},54331:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.fFb=function(c){var f,g;f=this;g={start:void 0,end:void 0};return [function(){for(var e=[],h=0;h < arguments.length;h++)e[h]=arguments[h];return d.__awaiter(f,void 0,void 0,function(){return d.__generator(this,function(){g.start=n.platform.time.ha();return [2,c.apply(void 0,d.__spreadArray([],d.__read(e),!1)).then(function(k){g.end=n.platform.time.ha();return k;}).catch(function(k){g.end=n.platform.time.ha();throw k;})];});});},g];};d=a(22970);n=a(66164);},86823:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.xW=void 0;d=a(43529);n=a(28999);t=(function(){function c(f){void 0 === f && (f={F7:!0});this.options=f;this.correlationId=0;this.Ym=new n.Ko();}Object.defineProperties(c.prototype,{eba:{get:function(){return this.Ym.SM;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{promise:{get:function(){return this.Ym.promise;},enumerable:!1,configurable:!0}});c.prototype.eN=function(f,g){var e,h;e=this;void 0 === g && (g=!0);g && (0,d.assert)(!this.eba);h=++this.correlationId;f.then(function(k){return e.C4b(h,k);},function(k){return e.z4b(h,k);});};c.prototype.C4b=function(f,g){(f === this.correlationId || this.options.F7) && this.Ym.resolve(g);};c.prototype.z4b=function(f,g){f === this.correlationId && this.Ym.reject(g);};return c;})();b.xW=t;},29727:function(t,b,a){var n,c,f;function d(g){return !(null === g || void 0 === g || !g.signal);}Object.defineProperties(b,{__esModule:{value:!0}});b.TVb=b.GUa=void 0;b.l$c=d;b.PJb=function(g,e){return n.__awaiter(this,arguments,void 0,function(h,k,l){var m,p;void 0 === l && (l=!1);return n.__generator(this,function(q){switch(q.label){case 0:return (m=d(h)?h.signal:h,p=(0,c.Jla)(m,!l),[4,Promise.race([p,Promise.resolve(k)])]);case 1:return [2,q.T()];}});});};n=a(22970);c=a(43155);f=a(43529);a(86823);b.GUa=function(g){return "function" === typeof (null === g || void 0 === g?void 0:g.then);};t=(function(){function g(){}g.prototype.eN=function(e){(0,f.assert)(this.n3b);this.n3b.eN(e);};return g;})();b.TVb=t;},58191:function(t,b){var n,c,f;function a(g){return void 0 !== (null === g || void 0 === g?void 0:g.gjb);}function d(g){return (a(g)?g:Object.defineProperties(g,{gjb:{value:{},configurable:!1,enumerable:!1}})).gjb;}Object.defineProperties(b,{__esModule:{value:!0}});b.Ifb=void 0;c=null !== (n=Number.MAX_SAFE_INTEGER) && void 0 !== n?n:1E9;f=Date.now() % c;t=(function(){function g(){this.Lu=0;this.id=f=(f + 1) % c;}g.prototype.add=function(e){d(e)[this.id]=this.Lu;return this;};g.prototype.has=function(e){return a(e) && d(e)[this.id] === this.Lu;};g.prototype.delete=function(e){if(!this.has(e))return !1;d(e)[this.id]=void 0;return !0;};g.prototype.clear=function(){this.Lu=(this.Lu + 1) % c;return this;};return g;})();b.Ifb=t;},94893:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.T5=void 0;d=a(22970);t=(function(){function c(){var f;f=this;this.Y6=[];this.NMc=function(g){g=f.Y6.indexOf(g);0 <= g && f.Y6.splice(g,1);};}Object.defineProperties(c.prototype,{Ela:{get:function(){return 0 !== this.Y6.length;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{kGb:{get:function(){return this.Y6.length;},enumerable:!1,configurable:!0}});c.prototype.add=function(){var f;f=new n(this.NMc);this.Y6.push(f);return f;};c.prototype.QSb=function(f){d.__awaiter(this,void 0,void 0,function(){var g,e;return d.__generator(this,function(h){switch(h.label){case 0:(g=this.add(),h.label=1);case 1:return (h.tc.push([1,,3,4]),[4,f()]);case 2:return (e=h.T(),[2,e]);case 3:return (g.release(),[7]);case 4:return [2];}});});};c.prototype.vYc=function(f){var g;g=this.add();try{f();}finally{g.release();}};return c;})();b.T5=t;n=(function(){function c(f){this.EJa=f;}c.prototype.release=function(){this.EJa(this);};return c;})();},95130:function(t,b,a){var n,c,f,g,e;function d(h,k){return h.time - k.time || h.priority - k.priority || h.id - k.id;}Object.defineProperties(b,{__esModule:{value:!0}});b.l1a=function(h,k,l){return e.instance.l1a(h,k,l);};b.MMa=function(h){e.instance.MMa(h);};b.Tcd=function(){e.reset();};n=a(66164);c=a(32910);f=a(43529);g=a(50214);e=(function(){function h(){var k;k=this;this.Hn=new g.FO([],d);this.Q2a=0;this.console=new n.platform.Console("SETTIMEOUT");this.Wlc=function(){var l,m;l=n.platform.time.ha();k.qfa=void 0;c.l && k.console.trace(("[").concat(l,"] Wake"));try{for(;!k.Hn.empty && k.Hn.Pq().time <= l;){m=k.Hn.pop();c.l && k.console.trace(("[").concat(n.platform.time.ha(),"] Executing p").concat(m.priority," timer ").concat(m.id," scheduled for ").concat(m.time));m.fA();}}finally{k.l0a();}};}Object.defineProperties(h,{instance:{get:function(){return h.Pz || (h.Pz=new h());},enumerable:!1,configurable:!0}});h.reset=function(){(0,f.assert)(void 0 === h.Pz || h.Pz.Hn.empty,"Singleton SetTimeoutWithPriority reset with pending timers");h.Pz=void 0;};h.prototype.l1a=function(k,l,m){var p,q,r;(0,f.assert)(isFinite(l) && 0 <= l);p=this.Hn;q=n.platform.time.ha();r=q + l;p.push({id:++this.Q2a,time:r,priority:m,fA:k});c.l && this.console.trace(("[").concat(q,"] New p").concat(m," timer ").concat(this.Q2a," scheduled for ").concat(r," in ").concat(l,"ms"));this.l0a();return this.Q2a;};h.prototype.MMa=function(k){var l,m,p;l=this.Hn;m=l.find(function(q){return q.id === k;});if(m){p=l.Pq().time;l.remove(m);c.l && this.console.trace(("[").concat(n.platform.time.ha(),"] Removing timer ").concat(m.id," scheduled for ").concat(m.time));(l.empty || l.Pq().time > p) && this.l0a();}};h.prototype.Apb=function(){this.qfa && (clearTimeout(this.qfa.id),c.l && this.console.trace(("[").concat(n.platform.time.ha(),"] Clearing wake timer")),this.qfa=void 0);};h.prototype.l0a=function(){var k,l;l=this.Hn;l.empty?this.Apb():(l=l.Pq().time,l !== (null === (k=this.qfa) || void 0 === k?void 0:k.time) && (this.Apb(),k=Math.max(0,l - n.platform.time.ha()),c.l && this.console.trace(("[").concat(n.platform.time.ha(),"] Setting wake timer for ").concat(l," in ").concat(k,"ms")),this.qfa={id:setTimeout(this.Wlc,k),time:l}));};return h;})();},89376:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.enumerable=void 0;b.enumerable=function(a){return function(d,n){var c;c=Object.getOwnPropertyDescriptor(d,n) || ({});c.enumerable !== a && (c.enumerable=a,c.writable=!0,Object.defineProperty(d,n,c));};};},34228:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(22970).__exportStar(a(89376),b);},90657:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.wF=void 0;d=a(22970);n=a(4069);t=(function(){function c(f,g){var e;this.njb=f;this.rQb=g;this.Xg={other:new n.Vg(),all:new n.Vg()};try{for(var h=d.__values(f),k=h.next();!k.done;k=h.next())this.Xg[k.value]=new n.Vg();}catch(m){var l;l={error:m};}finally{try{k && !k.done && (e=h.return) && e.call(h);}finally{if(l)throw l.error;}}}c.nn=function(f,g){var e,h,m;if(f === g)return f;h=new c(f.njb,f.rQb);try{for(var k=d.__values(Object.keys(f.Xg)),l=k.next();!l.done;l=k.next()){m=l.value;h.Xg[m]=f.Xg[m].nn(g.Xg[m]);}}catch(q){var p;p={error:q};}finally{try{l && !l.done && (e=k.return) && e.call(k);}finally{if(p)throw p.error;}}return h;};c.prototype.X9b=function(f){var g,e,l;f=(null === (e=this.rQb) || void 0 === e?void 0:e.call(this,f)) || f;try{for(var h=d.__values(this.njb),k=h.next();!k.done;k=h.next()){l=k.value;if(f < l)return l;}}catch(p){var m;m={error:p};}finally{try{k && !k.done && (g=h.return) && g.call(h);}finally{if(m)throw m.error;}}return "other";};c.prototype.push=function(f){var g,e;e=null !== (g=this.X9b(f)) && void 0 !== g?g:"other";this.Xg[e].push(f);this.Xg.all.push(f);};c.prototype.toJSON=function(){var f,g;f=this;g={};Object.keys(this.Xg).forEach(function(e){var h;h=f.Xg[e];h.count && (g[e]=h);});return g;};return c;})();b.wF=t;},4069:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Vg=void 0;t=(function(){function a(d){void 0 === d && (d=!1);this.zqb=d;this.count=0;this.Fa=NaN;this.EE=0;this.max=this.min=NaN;}Object.defineProperties(a.prototype,{mE:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(d){this.count++;this.EE+=d;1 === this.count?this.Fa=this.min=this.max=d:(this.min=Math.min(d,this.min),this.max=Math.max(d,this.max),this.Fa+=(d - this.Fa) / this.count);};a.prototype.toJSON=function(){return this.zqb || 0 === this.count?{count:this.count}:{min:this.min,max:this.max,average:this.Fa,count:this.count,sum:this.EE};};a.prototype.nn=function(d){var n;if(0 === this.count)return d;if(0 === d.count)return this;n=new a(this.zqb);n.count=this.count;n.Fa=this.Fa;n.EE=this.EE;n.min=Math.min(this.min,d.min);n.max=Math.max(this.max,d.max);for(var c=0;c < d.count;c++)n.push(d.Fa);return n;};return a;})();b.Vg=t;},89989:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jVc=function(a,d,n){var c,f,g;a="FINAL" === (null === (c=a.EOb[d]) || void 0 === c?void 0:c.type)?d:(c=null === (g=null === (f=a.EOb) || void 0 === f?void 0:f[d]) || void 0 === g?void 0:g.on) && (n in c)?c[n]:(a=a.on) && (n in a)?a[n]:d;return {zy:a,UJc:d,tq:a !== d,event:n};};},23267:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.qJ=void 0;d=a(66164);t=(function(){function n(){}Object.defineProperties(n.prototype,{duration:{get:function(){return void 0 !== this.endTime?this.endTime - this.startTime:0;},enumerable:!1,configurable:!0}});n.prototype.start=function(){this.reset();};n.prototype.reset=function(){this.startTime=d.platform.time.ha();this.endTime=void 0;};n.prototype.stop=function(){this.endTime=d.platform.time.ha();};return n;})();b.qJ=t;},15807:function(t,b,a){var n,c,f;function d(g){var e,h;e={};for(h in g)g.hasOwnProperty(h) && (e[h]=g[h]);return e;}Object.defineProperties(b,{__esModule:{value:!0}});b.mhb=void 0;n=a(22970);t=(function(g){function e(h){var k,l,m,p;k=h.model;l=h.pYa;l=void 0 === l?{}:l;m=h.UGb;h=h.OIb;p=void 0 === h?f:h;h=g.call(this) || this;h.jG=void 0;h.Uqa=!1;h.kqa=!1;h.NIb={};h.Bca=0;h.wcb=k;h.UGb=m || (function(){});h.OIb=p;k=h.xpa();h.eg=d(k);h.ib=Object.assign(k,l);return h;}n.__extends(e,g);e.prototype.next=function(h){var k;if(this.Uqa)(this.kqa=!0,this.jG=this.jG || Object.assign(this.xpa(),this.value),Object.assign(this.jG,h));else {k=this.value;this.ib=h=Object.assign(this.xpa(),n.__assign(n.__assign({},this.value),h));this.DOa({Ky:k,next:h});}};e.prototype.reset=function(h){var k;void 0 === h && (h={});h=Object.assign(this.xpa(),h);if(this.jG)(this.kqa=!0,this.jG=h);else {k=this.value;this.ib=h;this.DOa({Ky:k,next:h});}};e.prototype.nSc=function(){this.Uqa=!0;};e.prototype.nlc=function(){var h;if(this.Uqa && this.jG){h=this.value;this.kqa && (this.ib=this.jG,this.kqa=!1,this.DOa({Ky:h,next:this.value}));this.jG=void 0;}this.Uqa=!1;};Object.defineProperties(e.prototype,{value:{get:function(){return this.jG || this.ib;},enumerable:!1,configurable:!0}});e.prototype.DOa=function(h){this.UGb(h);this.emit("update",h);};e.prototype.xpa=function(){var h,k,l,m;if(!c)return new this.wcb();h=this.NIb[this.Bca];if(h){k=h;l=this.eg;for(m in l)k[m]=l[m];}else h=this.NIb[this.Bca]=new this.wcb();this.Bca++;this.Bca === this.OIb && (this.Bca=0);return h;};return e;})(a(90745).EventEmitter);b.mhb=t;c=!0;f=3;},24153:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(84007),b);t.__exportStar(a(47359),b);t.__exportStar(a(12847),b);t.__exportStar(a(47061),b);t.__exportStar(a(39461),b);t.__exportStar(a(36992),b);t.__exportStar(a(56161),b);},84007:function(t,b,a){var d,n,c,f,g,e;Object.defineProperties(b,{__esModule:{value:!0}});b.OV=void 0;d=a(22970);n=a(66164);c=a(44847);f=a(43529);a(70058);g=a(47061);e=a(36992);t=(function(h){function k(l,m,p){m=h.call(this,m,p) || this;m.HOc=l;m.lUa=!1;m.yua=!1;m.reset();return m;}d.__extends(k,h);k.prototype.reset=function(){var l,m;if(this.$a === g.zm.Yq || this.$a === g.zm.pending)null === (m=null === (l=this.zY) || void 0 === l?void 0:l.return) || void 0 === m?void 0:m.call(l);h.prototype.reset.call(this);this.zY=this.HOc();this.yua=!1;this.Cca=e.ce.jz(c.I.ia);};k.prototype.cd=function(){this.reset();(0,f.assert)(this.ZF);this.ZF.eea(this);};k.prototype.kta=function(){return this.Cca;};k.prototype.Ue=function(){var l,m,p,q;try{this.lUa=!0;q=(null === (l=this.zY) || void 0 === l?void 0:l.next()) || ({done:!0});}finally{this.lUa=!1;this.Tyc=n.platform.time.ha();this.mbc();}q.done?(this.Cca=e.ce.j4a,null === (p=null === (m=this.zY) || void 0 === m?void 0:m.return) || void 0 === p?void 0:p.call(m),this.zY=void 0):this.Cca=q.value;};k.prototype.mbc=function(){this.yua && this.zsb();};k.prototype.zsb=function(){var l,m;this.lUa?this.yua=!0:(this.yua=!1,null === (m=null === (l=this.zY) || void 0 === l?void 0:l.return) || void 0 === m?void 0:m.call(l),this.zY=void 0);};k.prototype.La=function(){this.zsb();h.prototype.La.call(this);};k.prototype.Bq=function(){return {state:g.zm[this.state],nextWakeup:{ms:this.Cca.timestamp.G,type:e.QO[this.Cca.type]},lastRunMono:this.Tyc};};return k;})(g.yW);b.OV=t;},47359:function(t,b,a){var c,f,g,e,h,k,l,m,p,q,r,u,v,w,x;function d(y){var A,z,B,C,D,E,H,F,G,J,L,K;z=y.Na;B=y.fA;C=y.CSb;D=y.hr;E=y.priority;H=void 0 === E?0:E;E=y.IN;F=void 0 === E?!0:E;y=y.Lnb;G=void 0 === y?!0:y;(0,e.assert)(z.mj,("Current time: ").concat(g.platform.time.ha()," cr: ").concat(z.currentTime));(0,e.assert)(z.currentTime.isFinite());y=C.ea(z.currentTime);G && (y=n(y,null !== (A=null === D || void 0 === D?void 0:D.Dta) && void 0 !== A?A:0));J=Math.max(Math.ceil(y.wB / z.speed),0);L=D || ({id:void 0,qsb:J,Dta:0,GGc:J,IN:F,zma:[]});K=g.platform.time.ha();L.id=(L.IN?q.l1a:setTimeout)(function(){var M,P;M=C.ea(z.currentTime);P=g.platform.time.ha() - K - J;L.zma.push({delay:P,URc:J});M.ln(k.I.ia)?B():(L.Dta++,d({Na:z,fA:B,CSb:C,hr:L,priority:H,IN:F,Lnb:G}));},J,H);L.qsb=J;return L;}function n(y,A){return 0 < A?k.I.max(y,k.I.Ca(10 * (1 << Math.min(A,6) - 1))):y;}Object.defineProperties(b,{__esModule:{value:!0}});b.pW=b.zgb=void 0;c=a(22970);f=a(90745);g=a(66164);e=a(43529);h=a(70248);k=a(44847);l=a(50214);m=a(73550);p=a(32910);q=a(95130);r=a(47061);u=a(36992);v=a(56161);w=(function(){function y(){this.complete();}Object.defineProperties(y.prototype,{FU:{get:function(){return this.UJa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{lta:{get:function(){return this.X3b;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Rgc:{get:function(){return this.A2b;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{iwa:{get:function(){return this.O4b;},enumerable:!1,configurable:!0}});y.prototype.set=function(A,z,B){this.A2b=z === x.x0?0:g.platform.time.ha();this.X3b=A;this.O4b=z;p.l && (0,e.assert)(!this.UJa,"Invalid replacement of timeout value");this.UJa=B;};y.prototype.complete=function(){this.UJa=void 0;this.set(k.I.dh,x.x0);};return y;})();(function(y){y[y.x0=0]="none";y[y.jca=1]="microTask";y[y.setTimeout=2]="setTimeout";})(x || (b.zgb=x={}));t=(function(y){function A(z,B){var C;C=y.call(this) || this;C.Na=z;C.console=B;C.Paa=!1;C.Ena=!1;C.Bn=new w();C.ls=new f.kf();C.Dk=new l.FO([],(0,h.bqb)(function(D,E){return D.RT.Nl(E.RT);},function(D,E){return D.Ge.mc.priority - E.Ge.mc.priority;},function(D,E){return E.Ge.priority - D.Ge.priority;},function(D,E){return D.Ge.id > E.Ge.id?1:D.Ge.id < E.Ge.id?-1:0;}));C.Pla(z);return C;}c.__extends(A,y);A.TPc=function(z){this.config=z;};A.mqc=function(z,B){var D,E;function C(){var H,F;H=new A(z,B);F=new m.SV({name:"rootTaskScheduler",Nca:function(G){G() && (H.La(),D.kwa.delete(z));},console:B});return {mc:H,$A:F};}D=this;(0,e.assert)(this.config,"Config has not been intiialized");this.config.Nob && (this.kwa.has(z) || this.kwa.set(z,C()));E=this.kwa.get(z) || C();return {mc:E.mc,ll:E.$A.Yz()};};Object.defineProperties(A.prototype,{eya:{get:function(){return this.DP;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{kRc:{get:function(){return this.Na.mj;},enumerable:!1,configurable:!0}});A.prototype.ukc=function(){this.DP || (this.DP=new v.BW());return this.DP;};A.prototype.Bq=function(){var z;z={hasSchedule:!!this.Bn.FU,schedule:this.Bn.FU && ({sleepTime:this.Bn.FU.qsb,originalSleepTime:this.Bn.FU.GGc,clockSkewAdjustments:this.Bn.FU.Dta}),nextWakeup:this.Bn.lta.G,timeScheduled:this.Bn.Rgc,scheduleType:x[this.Bn.iwa],numTasks:this.Dk.length,clock:{ir:this.Na.mj,ct:this.Na.currentTime.G,sp:this.Na.speed}};p.l && this.trace("audit",z);return z;};A.prototype.Pla=function(z){var B;B=this;this.Gx();this.ls.clear();this.Na=z;this.ls.on(z,"stopStart",function(){return B.BT();});this.ls.on(z,"clockAdjusted",function(){return B.Lca();});this.ls.on(z,"speedChanged",function(){return B.nGc();});this.Lca();this.emit("clockChanged");};A.prototype.nGc=function(){this.Gx();this.BT();};A.prototype.La=function(){this.reset();this.Paa && (this.Ena=!0);this.ls.clear();this.As=!0;};A.prototype.reset=function(){var z;this.Gx();z=this.Dk.xj();this.Dk.clear();z.forEach(function(B){return B.Ge.La();});};A.prototype.cd=function(){var z;this.Gx();z=this.Dk.xj();this.Dk.clear();z.forEach(function(B){return B.Ge.cd();});};A.prototype.Lca=function(){var z,B;z=this;B=this.Dk.map(function(C){return C.Ge;});this.Gx();this.Dk.clear();B.forEach(function(C){return z.nX(C,!1);});this.BT();};A.prototype.nX=function(z,B){var C,D;void 0 === B && (B=!0);C=z.kta();D=this.TPb(C);C={Ge:z,RT:D,Qva:C};p.l && this.trace(("Adding task ").concat(z.name," for ").concat(D.G," from ").concat(z.mc.name) + ("/").concat(z.mc.priority));(0,e.assert)(!this.Dk.contains(C));this.Dk.push(C);B && this.BT();};A.prototype.Xxa=function(z){var B,C;B=this;this.Gx();z.Ny && this.Dk.map(function(D){return D;}).filter(function(D){return -1 !== z.Ny.indexOf(D.Ge);}).forEach(function(D){return B.Dk.remove(D);});null === (C=z.oX) || void 0 === C?void 0:C.forEach(function(D){return B.nX(D,!1);});this.BT();};A.prototype.BT=function(){var z,B,C,D,E,H;z=this;p.l && this.trace("recheck schedule task count:" + this.Dk.length);if(this.kRc){if(this.Paa)p.l && this.trace("already executing, bailing");else if(this.Bn.iwa === x.jca)p.l && this.trace("Already scheduled on microtask, bailing");else {C=this.Bn.lta;D=this.Dk.Pq();E=(null === D || void 0 === D?void 0:D.RT) || k.I.dh;if(E.isFinite() && E.JS(C)){if((this.Gx(!1),this.Na.currentTime.Wf(E)))(this.Bn.set(E,x.jca),Promise.resolve().then(function(){z.Bn.iwa === x.jca && (z.Bn.complete(),z.LLb({type:x.jca}));}));else {p.l && this.trace("scheduling next wake up for",{nfd:E.G,Ge:null === D || void 0 === D?void 0:D.Ge.name,OOc:null === D || void 0 === D?void 0:D.Ge.mc.name});H=d({Na:this.Na,fA:function(){z.Bn.complete();z.LLb({type:x.setTimeout,lta:E,delay:z.Na.currentTime.ea(E),bQ:H.Dta,zma:H.zma});},CSb:E,priority:null !== (B=null === D || void 0 === D?void 0:D.Ge.mc.priority) && void 0 !== B?B:0,IN:!!A.config.IN,Lnb:!!A.config.Knb});this.Bn.set(E,x.setTimeout,H);}}else E.isFinite() || this.Bn.iwa !== x.setTimeout || this.Gx(!1);}}else (p.l && this.trace("should check schedule is false, stopping"),this.Gx());};A.prototype.LLb=function(z){var C,D,E,H,F,G;function B(){return G=!0;}H=0;F=null === (C=this.Dk.Pq()) || void 0 === C?void 0:C.Qva;G=!1;this.Na.on("stopStart",B);try{for((this.Paa=!0,null === (D=this.DP) || void 0 === D?void 0:D.JSc(z));1E4 > H++ && this.zVc() && !G;);}finally{this.Na.$l("stopStart",B);this.Paa=!1;null === (E=this.DP) || void 0 === E?void 0:E.rlc(H);this.Gx();z=this.Dk.map(function(J){return {name:J.Ge.name,OOc:J.Ge.mc.name,ofd:J.RT.G};});1E4 < H && !this.Nuc(F)?this.error(("Task scheduler executed more than ").concat(1E4) + " iterations in same tick",z.slice(0,5)):(p.l && this.trace("Next tasks",z),this.BT());}};A.prototype.Nuc=function(z){var B,C;C=null === (B=this.Dk.Pq()) || void 0 === B?void 0:B.Qva;return z && C && z.timestamp.equal(C.timestamp) && z.type === C.type?!1:!0;};A.prototype.wBc=function(){this.Paa && (this.Ena=!0);};A.prototype.zVc=function(){var z,B,C,D,E,H;D=(null === (z=this.Dk.Pq()) || void 0 === z?void 0:z.RT) || k.I.dh;p.l && this.trace(("tryExecuteNextTask @").concat(this.Na.currentTime.G,", next wakeup at ").concat(D));z=this.Na.currentTime;if(z.Wf(D)){E=this.Dk.pop();if(E){H=E.Ge;null === (B=this.DP) || void 0 === B?void 0:B.ISc({Ge:H,currentTime:z,lta:D});this.WNa=H;B=!1;p.l && this.trace("Running a task @" + z.G + ", scheduled for time:" + D.G + ("Name:").concat(H.name));try{H.UM();B=!0;E.Qva=H.kta();E.RT=this.TPb(E.Qva);}catch(F){throw (this.error(("Unhandled error from a task ").concat(H.name," occurred.") + " Removing the task from future executions:" + F,{stack:F.stack}),H.La(),F);}finally{null === (C=this.DP) || void 0 === C?void 0:C.qlc({Ge:H,fed:B});this.WNa=void 0;this.Ena?(H.La(),this.Ena=!1):E.RT !== k.I.dh && H.state === r.zm.Yq && ((0,e.assert)(!this.Dk.contains(E)),this.Dk.push(E));}return !0;}}};A.prototype.eea=function(z){this.FT(z,!1);this.nX(z);};A.prototype.FT=function(z,B){var C;void 0 === B && (B=!0);C=this.Dk.find(function(D){return D.Ge === z;});C && this.OMc(C,B);};A.prototype.OMc=function(z,B){this.Dk.remove(z);B && this.BT();};A.prototype.Gx=function(z){var B;void 0 === z && (z=!0);this.Bn.FU && (z && this.emit("stopping"),z=this.Bn.FU,(z.IN?q.MMa:clearTimeout)(z.id),this.Bn.complete(),null === (B=this.eya) || void 0 === B?void 0:B.Gx());};A.prototype.TPb=function(z){return z.type === u.QO.absolute?z.timestamp:z.timestamp.add(this.Na.currentTime);};A.prototype.trace=function(){for(var z,B=[],C=0;C < arguments.length;C++)B[C]=arguments[C];null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,c.__spreadArray(["RootTaskScheduler:"],c.__read(B),!1));};A.prototype.error=function(){for(var z,B=[],C=0;C < arguments.length;C++)B[C]=arguments[C];null === (z=this.console) || void 0 === z?void 0:z.error.apply(z,c.__spreadArray(["RootTaskScheduler:"],c.__read(B),!1));};A.config={IN:!0,Nob:!0,Knb:!0};A.kwa=new WeakMap();return A;})(f.EventEmitter);b.pW=t;},12847:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.d6=void 0;d=a(22970);n=a(47061);c=a(36992);t=(function(f){function g(e,h,k,l){void 0 === l && (l={});k=f.call(this,k) || this;k.jwa=e;k.fA=h;k.options=l;return k;}d.__extends(g,f);g.prototype.kta=function(){return this.$a === n.zm.pending?this.jwa:c.ce.j4a;};g.prototype.Ue=function(){this.fA();};g.prototype.cd=function(){this.options.Ddd?(f.prototype.reset.call(this),this.ZF.eea(this)):this.La();};return g;})(n.yW);b.d6=t;},47061:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.yW=b.zm=void 0;d=a(36992);(function(c){c[c.pending=0]="pending";c[c.Yq=1]="running";c[c.complete=2]="complete";c[c.rQ=3]="destroyed";})(n || (b.zm=n={}));t=(function(){function c(f,g){void 0 === g && (g=0);this.name=f;this.priority=g;this.$a=n.pending;}Object.defineProperties(c.prototype,{state:{get:function(){return this.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{no:{get:function(){return this.$a === n.pending || this.$a === n.Yq;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mc:{get:function(){return this.ZF;},enumerable:!1,configurable:!0}});c.prototype.p8b=function(f){var g;null === (g=this.ZF) || void 0 === g?void 0:g.FT(this);this.ZF=f;};c.prototype.UM=function(){this.$a=n.Yq;this.Ue();this.kta() === d.ce.j4a && (this.$a=n.complete,this.mc.FT(this));};c.prototype.La=function(){var f;this.$a=n.rQ;null === (f=this.ZF) || void 0 === f?void 0:f.FT(this);};c.prototype.Qob=function(f){this.ZF.FT(this);this.ZF=f;this.ZF.eea(this);};c.prototype.Bq=function(){};c.prototype.reset=function(){this.$a=n.pending;};return c;})();b.yW=t;},39461:function(t,b,a){var d,n,c,f,g,e,h,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.tJ=void 0;b.j3=function(m,p,q){var r;r=void 0;return (q || m.Na.mj) && m.Na.currentTime.Wf(p)?{promise:Promise.resolve()}:{promise:new Promise(function(u){r=m.Yt(k.ce.mm(p),u);}),Ge:r};};d=a(22970);n=a(90745);c=a(43529);f=a(97322);g=a(32910);e=a(84007);h=a(12847);k=a(36992);l=a(47359);t=(function(m){function p(q,r,u,v){var w;void 0 === u && (u="unknown");void 0 === v && (v=0);w=m.call(this) || this;w.Na=q;w.console=r;w.name=u;w.priority=v;w.SDc=0;w.ls=new n.kf();w.VB=new Set();w.Pla(q);return w;}d.__extends(p,m);Object.defineProperties(p.prototype,{As:{get:function(){return void 0 === this.Wo;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{R1:{get:function(){return this.Wo;},enumerable:!1,configurable:!0}});p.prototype.mrb=function(q,r){q=new (q.bind.apply(q,d.__spreadArray([void 0],d.__read(r),!1)))();q.id=this.SDc++;q.p8b(this);this.nX(q);return q;};p.prototype.fs=function(){for(var q=[],r=0;r < arguments.length;r++)q[r]=arguments[r];return this.mrb(e.OV,q);};p.prototype.Bq=function(){var q,r;r=d.__assign(d.__assign({},null === (q=this.Wo) || void 0 === q?void 0:q.Bq()),{privateNumTasks:this.VB.size});g.l && this.trace("audit",r);return r;};p.prototype.Yt=function(){for(var q=[],r=0;r < arguments.length;r++)q[r]=arguments[r];return this.mrb(h.d6,q);};p.prototype.cna=function(q,r,u){return this.fs(function(){return d.__generator(this,function(v){switch(v.label){case 0:return [4,k.ce.jz(r)];case 1:return (v.T(),q(),[3,0]);case 2:return [2];}});},u);};p.prototype.Pla=function(q){var r,u,v;r=this;this.Wo && this.Wo.Xxa({Ny:(0,f.xj)(this.VB.values())});this.tKb();u=l.pW.mqc(q,this.console);v=u.mc;u=u.ll;this.Wo=v;this.ls.clear();this.Na=q;this.ls.on(v,"stopping",function(){return r.emit("stopping");});this.lOc=u;this.Wo.Xxa({oX:(0,f.xj)(this.VB.values())});this.emit("clockChanged");};p.prototype.La=function(){var q;if(!this.As){q=this.Wo.WNa && this.VB.has(this.Wo.WNa);this.reset();q && this.Wo.wBc();this.tKb();}};p.prototype.tKb=function(){var q;this.Wo && this.emit("rootSchedulerReleasing",{R1:this.Wo});null === (q=this.lOc) || void 0 === q?void 0:q.release();this.Wo=void 0;};p.prototype.reset=function(){var q;if(!this.As){q=(0,f.xj)(this.VB.values());this.Wo.Xxa({Ny:q});this.VB.clear();q.forEach(function(r){return r.La();});}};p.prototype.cd=function(){var q;if(!this.As){q=(0,f.xj)(this.VB.values());this.Wo.Xxa({Ny:q});q.forEach(function(r){return r.cd();});}};p.prototype.nX=function(q,r){void 0 === r && (r=!0);this.As?g.l && this.console.warn(("Task added after destruction ").concat(q.name," on ").concat(this.name)):(this.VB.add(q),this.Wo.nX(q,r));};p.prototype.eea=function(q){(0,c.assert)(q.mc === this);this.As?g.l && this.console.warn(("Task restarted after destruction ").concat(q.name," on ").concat(this.name)):(this.VB.add(q),this.Wo.eea(q));};p.prototype.FT=function(q,r){void 0 === r && (r=!0);!this.As && this.VB.has(q) && (this.VB.delete(q),this.Wo.FT(q,r));};p.prototype.trace=function(){for(var q,r=[],u=0;u < arguments.length;u++)r[u]=arguments[u];null === (q=this.console) || void 0 === q?void 0:q.trace.apply(q,d.__spreadArray([("TaskScheduler(").concat(this.name,"):")],d.__read(r),!1));};return p;})(n.EventEmitter);b.tJ=t;},36992:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ce=b.QO=void 0;d=a(44847);(function(g){g[g.absolute=0]="absolute";g[g.rKb=1]="relative";})(n || (b.QO=n={}));f=(function(){function g(e,h){this.type=e;this.timestamp=h;}g.prototype.toString=function(){return ("timeStamp: ").concat(this.timestamp,", type: ").concat(n[this.type]);};Object.defineProperties(g,{ia:{get:function(){c || (c=new g(n.rKb,d.I.ia));return c;},enumerable:!1,configurable:!0}});return g;})();t=(function(){function g(){}g.mm=function(e){return new f(n.absolute,e);};Object.defineProperties(g,{uya:{get:function(){return f.ia;},enumerable:!1,configurable:!0}});g.jz=function(e){return new f(n.rKb,e);};g.j4a=new f(n.absolute,d.I.dh);return g;})();b.ce=t;},56161:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperties(b,{__esModule:{value:!0}});b.BW=void 0;d=a(66164);n=a(4069);c=a(90657);f=a(23267);g=a(84007);e=a(47359);h=[100,200,400,800,1600,3200];t=(function(){function k(){this.w2a=new WeakMap();this.x2a=new f.qJ();this.XVa=new f.qJ();this.hma=new f.qJ();this.state={K2:d.platform.time.ha(),DU:0,lwa:1,Mj:{mS:new n.Vg(!0),Dba:new n.Vg(),Cba:new n.Vg(),Baa:new n.Vg(!0),Bfa:new n.Vg(),bQ:new n.Vg(),oea:new n.Vg(!0),r8:new c.wF(h),s8:new c.wF(h)},zU:{}};}k.prototype.wyb=function(l){var m;if(l.name)return ("").concat(l.mc.name,"::").concat(l.name);if(!this.w2a.get(l)){m=("").concat(l.mc.name,"::'unk'::").concat(l.id,"::iterable?").concat(l instanceof g.OV);this.w2a.set(l,m);}return this.w2a.get(l);};k.prototype.ISc=function(l){var m;l=this.wyb(l.Ge);(m=this.state.zU)[l] || (m[l]={uoa:new n.Vg(),WQ:0});this.x2a.start();};k.prototype.Gx=function(){this.state.Mj.oea.push(1);};k.prototype.JSc=function(l){var m;m=this;l.type === e.zgb.jca?this.state.Mj.Baa.push(1):(this.state.Mj.Bfa.push(l.delay.G),l.zma.forEach(function(p){m.state.Mj.r8.push(p.delay);m.state.Mj.s8.push(p.URc);}),this.state.Mj.bQ.push(l.bQ));this.XVa.start();this.hma.stop();this.hma.duration && this.state.Mj.Cba.push(this.hma.duration);};k.prototype.rlc=function(l){this.XVa.stop();this.hma.start();this.state.Mj.Dba.push(this.XVa.duration);this.state.Mj.mS.push(l);};k.prototype.qlc=function(l){l=this.wyb(l.Ge);this.x2a.stop();this.state.zU[l].uoa.push(this.x2a.duration);};k.prototype.Bq=function(){this.state.DU=d.platform.time.ha() - this.state.K2;return this.state;};k.reduce=function(l,m){var p,q,r,u,v;if(0 === l.DU && 0 === l.Mj.mS.count)return m;if(0 === m.DU && 0 === m.Mj.mS.count || l === m)return l;p=l.K2 < m.K2?l:m;q=p === l?m:l;r=p.Mj;u=q.Mj;v={};Object.keys(l.zU).concat(Object.keys(m.zU)).forEach(function(w){var x,y;if(!v[w]){x=l.zU[w];y=m.zU[w];v[w]=x && y?{uoa:x.uoa.nn(y.uoa),WQ:x.WQ + y.WQ}:x || y;}});return {K2:p.K2,DU:p.DU + q.DU,lwa:p.lwa + q.lwa,Mj:{Baa:r.Baa.nn(u.Baa),mS:r.mS.nn(u.mS),Dba:r.Dba.nn(u.Dba),Cba:r.Cba.nn(u.Cba),oea:r.oea.nn(u.oea),Bfa:r.Bfa.nn(u.Bfa),bQ:r.bQ.nn(u.bQ),r8:c.wF.nn(r.r8,u.r8),s8:c.wF.nn(r.s8,u.s8)},zU:v,toJSON:function(){return {timeConstructed:this.K2,timeRunning:this.DU,schedulers:this.lwa,executionStats:{immediateRuns:this.Mj.Baa,loopRuns:this.Mj.mS,loopTime:this.Mj.Dba,loopBetweenTime:this.Mj.Cba,scheduleClears:this.Mj.oea,timerRuns:this.Mj.Bfa,callBackDelayBuckets:this.Mj.r8,callBackSleepBuckets:this.Mj.s8,clockSkewAdjustments:this.Mj.bQ},taskStats:v};}};};return k;})();b.BW=t;},42306:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.zW=void 0;d=a(44847);t=(function(){function n(c,f){this.jb=c;this.Xb=f;}n.prototype.hh=function(c){return new n(this.jb.hh(c),this.Xb.hh(c));};n.prototype.rf=function(c){return new n(this.jb.rf(c),this.Xb.rf(c));};Object.defineProperties(n.prototype,{length:{get:function(){return this.Xb.ea(this.jb);},enumerable:!1,configurable:!0}});n.prototype.add=function(c){return new n(this.jb.add(c),this.Xb.add(c));};n.prototype.ea=function(c){return new n(this.jb.ea(c),this.Xb.ea(c));};Object.defineProperties(n.prototype,{duration:{get:function(){return this.length;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Zqa:{get:function(){return this.jb.equal(this.Xb);},enumerable:!1,configurable:!0}});n.prototype.iY=function(c,f){"number" === typeof c && (c=d.I.Ca(c));return "ms" === f?c.G >= this.jb.G && c.G <= this.Xb.G:c.Wf(this.jb) && c.ln(this.Xb);};n.prototype.toString=function(c){return c === d.rJ.G?("").concat(this.jb.toString(d.rJ.G)) + (" - ").concat(this.Xb.toString(d.rJ.G)):c === d.rJ.XNb?("").concat(this.jb.ca()) + (" dur:").concat(this.duration.ca(c)):("").concat(this.jb.ca()," - ").concat(this.Xb.ca());};n.prototype.equals=function(c){return this.jb.equal(c.jb) && this.Xb.equal(c.Xb);};return n;})();b.zW=t;},44847:function(t,b,a){var n;function d(c,f){return c && f?Math.abs(c * f / (0,n.VK)(c,f)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.rJ=b.I=void 0;n=a(19705);t=(function(){function c(f,g){"object" === typeof f?(this.Qc=f.$,this.Db=f.O):(this.Qc=f,this.Db=g);isFinite(this.Qc) || (this.Db=1);}c.compare=function(f,g){return f.Nl(g);};c.abs=function(f){return new c(Math.abs(f.Qc),f.Db);};c.Ca=function(f){return 0 === f?c.ia:new c(f,1E3);};c.doc=function(f){return 0 === f?c.ia:new c(1E3 * f,1E3);};c.V2a=function(f,g){return Math.floor(1E3 * f / g);};c.kFb=function(f,g){return Math.floor(f * g / 1E3);};c.max=function(){for(var f=[],g=0;g < arguments.length;g++)f[g]=arguments[g];return f.reduce(function(e,h){return e.greaterThan(h)?e:h;});};c.min=function(){for(var f=[],g=0;g < arguments.length;g++)f[g]=arguments[g];return f.reduce(function(e,h){return e.lessThan(h)?e:h;});};c.VK=function(f,g){var e;if(f.Db === g.Db)return new c((0,n.VK)(f.Qc,g.Qc),f.Db);e=d(f.Db,g.Db);return new c((0,n.VK)(f.Qc * e / f.Db,g.Qc * e / g.Db),e);};Object.defineProperties(c.prototype,{$:{get:function(){return this.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{O:{get:function(){return this.Db;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{G:{get:function(){return c.V2a(this.Qc,this.Db);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{wB:{get:function(){return 1E3 * this.Qc / this.Db;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{VT:{get:function(){var f;f=this.wB;return 0 > f?Math.ceil(f):Math.floor(f);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Zi:{get:function(){return this.Qc / this.Db;},enumerable:!1,configurable:!0}});c.prototype.Kc=function(f){f/=this.Db;return new c(Math.floor(this.Qc * f),Math.floor(this.Db * f));};c.prototype.add=function(f){var g;if(!this.isFinite() || !f.isFinite() || this.Db === f.Db)return new c(this.Qc + f.Qc,this.Db);g=d(this.Db,f.Db);return new c(this.Qc * g / this.Db + f.Qc * g / f.Db,g);};c.prototype.ea=function(f){var g;if(this.Db === f.Db)return new c(this.Qc - f.Qc,this.Db);g=d(this.Db,f.Db);return new c(this.Qc * g / this.Db - f.Qc * g / f.Db,g);};c.prototype.hh=function(f){return 1 === f?this:new c(this.Qc * f,this.Db);};c.prototype.rf=function(f){var g;if("number" === typeof f){if(Math.floor(f) === f){g=d(this.Qc,f);if(g !== this.Qc)return this.Kc(g / this.Qc * this.Db).rf(f);}return new c(Math.floor(this.Qc / f),this.Db);}if(this.Db === f.Db)return this.Qc / f.Qc;g=d(this.Db,f.Db);return this.Qc * g / this.Db / (f.Qc * g / f.Db);};c.prototype.Nv=function(f){var g;if(this.Db === f.Db)return new c(Math.abs(this.Qc - f.Qc),this.Db);g=d(this.Db,f.Db);return new c(Math.abs(this.Qc * g / this.Db - f.Qc * g / f.Db),g);};c.prototype.h_a=function(){return new c(this.Db,this.Qc);};c.prototype.aDc=function(){return new c(this.Qc - 1,this.Db);};c.prototype.compare=function(f,g){var e;if(this.Db === g.Db)return f(this.Qc,g.Qc);e=d(this.Db,g.Db);return f(this.Qc * e / this.Db,g.Qc * e / g.Db);};c.prototype.Nl=function(f){var g;if(this.Db === f.Db)return this.$ === f.Qc?0:this.Qc - f.Qc;g=d(this.Db,f.Db);return this.Qc * g / this.Db - f.Qc * g / f.Db;};c.prototype.equal=function(f){return this.compare(function(g,e){return g === e;},f);};c.prototype.JS=function(f){return this.compare(function(g,e){return g !== e;},f);};c.prototype.lessThan=function(f){return this.compare(function(g,e){return g < e;},f);};c.prototype.greaterThan=function(f){return this.compare(function(g,e){return g > e;},f);};c.prototype.ln=function(f){return this.compare(function(g,e){return g <= e;},f);};c.prototype.Wf=function(f){return this.compare(function(g,e){return g >= e;},f);};c.prototype.isFinite=function(){return !!this.Db && isFinite(this.Qc);};c.prototype.Ayb=function(f){return d(this.O,f);};c.prototype.toJSON=function(){return {ticks:this.Qc,timescale:this.Db};};c.prototype.toString=function(f){return f === b.rJ.G?("").concat(this.wB,"ms"):("").concat(this.Qc,"/").concat(this.Db);};c.prototype.ca=function(f){var g;g=this.wB;g=0 === g % 1?g.toString():g.toFixed(3).replace(/\.?0+$/,"");return f === b.rJ.XNb?("").concat(g,"ms"):("").concat(this.Qc,"/").concat(this.Db," (").concat(g,"ms)");};c.ia=new c(0,1E3);c.Ey=new c(1,1E3);c.dh=new c(Infinity,1);c.OWa=new c(-Infinity,1);return c;})();b.I=t;b.rJ={G:"ms",XNb:"simple"};},22633:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.$c=function(a){return void 0 !== a;};},77297:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},4742:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Gf=function(a,d,n){if(d.krb)return d.krb(n);d=d.prefix?("").concat(d.prefix," ").concat(n):n;return new a.Console("ASEJS","media|asejs",d);};},52496:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.DV=void 0;d=a(22970);b.DV=(function(){function n(){}n.SK=function(c,f){void 0 === f && (f={includeStack:!0});return "function" === typeof (null === c || void 0 === c?void 0:c.SK)?c.SK():c instanceof Error?d.__assign(d.__assign({},c),{name:c.name,message:c.message,stack:f.includeStack?c.stack:void 0}):c;};return n;})();},55960:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},61022:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(4742),b);t.__exportStar(a(55960),b);t.__exportStar(a(65569),b);t.__exportStar(a(52496),b);},65569:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ygb=void 0;t=(function(){function a(){this.awa=!1;}Object.defineProperties(a.prototype,{Pxc:{get:function(){return this.awa;},enumerable:!1,configurable:!0}});a.prototype.qSc=function(){var d;d=this;this.awa || (this.awa=!0,setTimeout(function(){return d.TFc();},1));};a.prototype.TFc=function(){this.awa=!1;};return a;})();b.ygb=t;},34166:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Rja=void 0;d=a(41674);t=(function(){function n(){var c;c=this;this.o7=[];this.Rh=new d.AbortController();this.XGb=function(){c.Rh.abort();};}Object.defineProperties(n.prototype,{signal:{get:function(){return this.Rh.signal;},enumerable:!1,configurable:!0}});n.prototype.abort=function(){this.Rh.abort();};n.prototype.La=function(){var c;c=this.o7;this.o7=[];c.forEach(function(f){return f();});};n.prototype.j2a=function(c){var f,g;f=this;if(c.aborted)this.Rh.abort(c.reason);else {c.addEventListener("abort",this.XGb);g=function(){c.removeEventListener("abort",f.XGb);f.o7=f.o7.filter(function(e){return e !== g;});};this.o7.push(g);this.signal.addEventListener("abort",g);}};return n;})();b.Rja=t;},46882:function(t){function b(d,n,c,f){d.trace(":",c,":",f);n(f);}function a(d){this.listeners=[];this.console=d;}a.prototype.constructor=a;a.prototype.addListener=function(d,n,c,f){c=f?c.bind(f):c;if(d){this.console && (c=b.bind(null,this.console,c,n));if("function" === typeof d.addListener)d.addListener(n,c);else if("function" === typeof d.addEventListener)d.addEventListener(n,c);else throw Error("Emitter does not have a function to add listeners for '" + n + "'");this.listeners.push([d,n,c]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var d;d=this.listeners.length;this.listeners.forEach(function(n){var c,f;c=n[0];f=n[1];n=n[2];"function" === typeof c.removeEventListener?c.removeEventListener(f,n):"function" === typeof c.removeListener && c.removeListener(f,n);});this.listeners=[];this.console && this.console.trace("removed",d,"listener(s)");};t.exports=a;},90745:function(t,b,a){b=a(22699);b.iOa=0;t.exports={EventEmitter:b,kf:a(46882)};},84726:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.f8a=void 0;d=a(22970);n=a(91176);c=a(91176);f=a(90745);g=a(52885);t=(function(){function e(h,k,l,m,p){this.up=h;this.Bb=k;this.W2b=l;this.sb=m;this.j2b=p;this.wP=new Map();this.WF=new Map();this.events=new f.EventEmitter();this.lP=new Map();}Object.defineProperties(e.prototype,{size:{get:function(){return this.WF.size;},enumerable:!1,configurable:!0}});e.prototype.oBb=function(h){var k;void 0 === k && (k=!0);if(k)return this.wP.has(h);h=this.up(h);return this.WF.has(h);};e.prototype.ig=function(h){var k,l,m,p;k=this;l=Array.from(this.WF.keys());m=new Map(h.map(function(q){return [k.up(q),q];}));p=Array.from(m.keys());h=(0,n.Zo)(l,p,function(q,r){return q === r;});l=(0,n.Zo)(p,l).map(function(q){return m.get(q);});h.forEach(function(q){return k.hq(k.WF.get(q),!0,"evicted");});this.N4b(l);};e.prototype.N4b=function(h){var k;k=this;h=h.map(function(l){var m,p;m=k.up(l);p=new n.AbortController();k.wP.set(l,p);k.WF.set(m,l);return {Cb:l,RJ:p.signal};});this.W2b.Dmc({rb:h,x9b:{Bs:!0}}).entries.forEach(function(l,m){return d.__awaiter(k,void 0,void 0,function(){var p,q;return d.__generator(this,function(r){switch(r.label){case 0:return (r.tc.push([0,2,,3]),[4,l]);case 1:return (p=r.T().S,q=this.wP.get(m),this.oBb(m) && !q.signal.aborted && (this.ZJ(m,p),this.wP.delete(m)),[3,3]);case 2:return (r.T(),q=this.wP.get(m),this.oBb(m) && !q.signal.aborted?this.hq(m,!0,"evicted"):this.hq(m,!1,"evicted"),0,[3,3]);case 3:return [2];}});});});};e.prototype.eOc=function(h){this.WF.set(this.up(h.Ts),h.Ts);this.oAb(h,!1);};e.prototype.oAb=function(h,k){var l;void 0 === k && (k=!1);l=this.up(h.Ts);this.lP.set(l,h);this.events.emit("itemAdded",{item:h,PDc:k});};e.prototype.ZJ=function(h,k,l){var m,p;l=null !== (m=null === l || void 0 === l?void 0:l.wx) && void 0 !== m?m:this.j2b(k);p=(0,n.Hra)(function(){return JSON.stringify(k).length;});h=new g.wDa({S:Promise.resolve(k),Ts:h,RC:!0,sA:{absolute:l},vda:function(){},get XP() {return p();},Bs:h.Bs});this.oAb(h,!0);};e.prototype.HA=function(h){h="string" === typeof h?h:this.up(h);return this.lP.has(h);};e.prototype.vmb=function(h){var k,l,q;h=Math.max(0,this.size - h);if(0 < h){l=Array.from(this.WF.values()).sort(c.DZa);try{for(var m=d.__values(l),p=m.next();!p.done;p=m.next()){q=p.value;if(0 >= h)break;h--;this.hq(q,!0,"evicted");}}catch(u){var r;r={error:u};}finally{try{p && !p.done && (k=m.return) && k.call(m);}finally{if(r)throw r.error;}}}};e.prototype.claim=function(h){var k;k=this.mp(h);this.hq(h,!1,"claimed");return k;};e.prototype.remove=function(h){this.hq(h,!0,"deleted");};e.prototype.hq=function(h,k,l){var m,p;h=this.up(h);m=this.WF.get(h);if(m){p=this.wP.get(m);k && p && p.abort();this.wP.delete(m);this.WF.delete(h);k=this.lP.get(h);this.lP.delete(h);k && this.events.emit("itemRemoved",{item:k,reason:l});}};e.prototype.mp=function(h){h=this.up(h);if(this.lP.has(h))return this.lP.get(h);};e.prototype.clear=function(){this.vmb(0);};e.prototype.values=function(){return this.lP.values();};return e;})();b.f8a=t;},97967:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(53300),b);t.__exportStar(a(16659),b);t.__exportStar(a(2300),b);t.__exportStar(a(52885),b);t.__exportStar(a(5300),b);t.__exportStar(a(37349),b);},5300:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.vDa=void 0;d=a(53300);a(2300);b.vDa=(function(){function n(c){this.dWa=new d.Ibb(c);n.instance=this;}return n;})();},52885:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.wDa=b.MYb=void 0;d=a(66164);n=a(91176);c=a(90745);(function(e){e[e.D7c=0]="dormant";e[e.active=1]="active";e[e.Qx=2]="expired";e[e.u7c=3]="deleted";})(f || (b.MYb=f={}));g=0;t=(function(){function e(h){var k;this.gq=h;this.events=new c.EventEmitter();this.ar=g++;this.IUa=new n.At(!1);this.azb=this.DSb=!1;this.t$b();this.Yjb=null !== (k=h.Ts.Bs) && void 0 !== k?k:!1;this.Hka=new n.xW();h.S && this.Hka.eN(h.S);}Object.defineProperties(e.prototype,{state:{get:function(){return this.$a;},set:function(h){this.$a=h;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{S:{get:function(){return this.Hka.promise;},set:function(h){(0,n.assert)(!this.Hka.eba,"Manifest promise is already resolved");this.Hka.eN(h);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{RC:{get:function(){return this.gq.RC;},set:function(h){this.gq.RC=h;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{HA:{get:function(){this.LIa || (this.LIa=this.RC);return this.LIa;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{stats:{get:function(){return this.gq.stats;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{sA:{get:function(){return this.gq.sA;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{WG:{get:function(){return !!this.gq.WG;},set:function(h){this.gq.WG=h;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{XP:{get:function(){var h;h=this.gq.XP;return 0 === h && this.gq.S?(this.gq.XP=JSON.stringify(this.gq.S).length,this.gq.XP):h;},set:function(h){this.gq.XP=h;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Ts:{get:function(){return this.gq.Ts;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{aVa:{get:function(){return this.fkb;},set:function(h){this.fkb=h;},enumerable:!1,configurable:!0}});e.prototype.yBc=function(){var h;h=this;this.RC || (this.LIa=!0,setTimeout(function(){return h.gq.RC=!0;},1));};e.prototype.vda=function(){this.Yjb=!1;this.gq.vda();this.events.emit("promoted",{type:"promoted"});};Object.defineProperties(e.prototype,{Bs:{get:function(){return this.Yjb;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{gw:{get:function(){return (0,n.gw)(this);},enumerable:!1,configurable:!0}});e.prototype.t$b=function(){this.fkb=d.platform.time.now();};e.prototype.GGb=function(){this.events.emit("removed",{type:"removed"});};e.prototype.HFc=function(){this.events.emit("expired",{type:"expired"});};e.prototype.YD=function(){this.IUa.set(!0);this.events.emit("completed",{type:"completed"});};e.prototype.NKa=function(h){this.gq.sA.absolute=h;};e.prototype.toJSON=function(){return {state:this.state,hasManifest:this.HA,cacheHit:this.RC,wasFallbackItem:this.DSb,hasFallbackItem:this.azb,viewableId:this.Ts.J,isPrefetch:this.Bs,expired:this.gw,flushed:this.WG,seqId:this.ar};};return e;})();b.wDa=t;},53300:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Ibb=void 0;d=a(22970);n=a(91176);c=a(66164);f=a(90745);g=a(91176);e=a(91176);h=a(91176);k=a(2300);l=a(84726);m=a(37349);p=a(52885);(function(r){r[r.Qx=0]="expired";r[r.bzc=1]="lazyExpired";r[r.WG=2]="flushed";r[r.QMc=3]="removedByViewableId";r[r.rxa=4]="superseded";})(q || (q={}));t=(function(){function r(u){var v;v=this;this.Ylc=0;this.plugins=[];this.console=(0,n.Gf)(c.platform,u.console,"MANIFESTCACHE2");this.QPa=u.QPa;this.up=u.up;this.Cw=new g.aia(this.console,"manifest-primary");this.Alb=new e.zfb(this.console,{zwc:function(w,x){var y,A;y=w.item;v.console.trace("Fetching manifest",{qya:y.J});A=v.QPa.Dmc({rb:[{Cb:y,RJ:x,dw:w.dw()}],x9b:{Bs:y.Bs}});return {item:A,key:w,nS:function(){return A.vda(y);}};}},u.config.IDb);this.config=u.config;this.events=new f.EventEmitter();this.config.HDb && (this.xq=new l.f8a(this.up,u.config,u.QPa,u.console,function(w){return v.bMa(w);}),this.xq.events.addListener("itemAdded",function(w){v.SG.track(w.item);w.PDc && (v.events.emit("manifestScheduled",{type:"manifestScheduled",MD:w.item}),w.item.S.then(function(x){v.events.emit("manifestReceived",{type:"manifestReceived",MD:w.item,S:x});},function(){}));}),this.xq.events.addListener("itemRemoved",function(w){"claimed" !== w.reason && (v.console.log("Removing dormant manifest item",w.item),v.SG.delete(w.item),w.item.GGb(),"expired" === w.reason && v.events.emit("expired",{type:"expired",MD:w.item}),v.events.emit("deleted",{type:"deleted",MD:w.item}));}));this.NK=new n.Dab(this.console,"manifest-expired");this.TM=new n.VV({enabled:this.config.bBc},void 0,{xg:1,pra:function(w,x){v.SG.delete(x);}});this.SG=new n.c9a(function(w){var x,y;if(null === (x=v.xq) || void 0 === x?0:x.HA(w.Ts))null === (y=v.xq) || void 0 === y?void 0:y.remove(w.Ts);x=v.up(w.Ts);if(v.Cw.has(x)){y=v.Cw.get(x);try{y && y.value === w && v.HPa(x,q.Qx);}finally{null === y || void 0 === y?void 0:y.ll.release();}}v.TM.has(x) && v.TM.delete(x);});this.Syb=new n.At(!1);this.Syb.addListener(function(w){w.newValue || v.DLc();});this.events.on("manifestReceived",function(w){var x;try{for(var y=d.__values(v.plugins),A=y.next();!A.done;A=y.next())A.value.Bad(w.MD,w.S);}catch(B){var z;z={error:B};}finally{try{A && !A.done && (x=y.return) && x.call(y);}finally{if(z)throw z.error;}}});this.events.on("deleted",function(w){var x;try{for(var y=d.__values(v.plugins),A=y.next();!A.done;A=y.next())A.value.Cad(w.MD);}catch(B){var z;z={error:B};}finally{try{A && !A.done && (x=y.return) && x.call(y);}finally{if(z)throw z.error;}}});}Object.defineProperties(r.prototype,{size:{get:function(){var u;return {bla:this.bla,s7:this.s7,Ued:this.cSb,tcd:null === (u=this.xq) || void 0 === u?void 0:u.size,ZPb:this.ZPb};},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{g7b:{get:function(){var u,v;u=Array.from(this.Cw.values());v=Array.from(this.NK.values());return d.__spreadArray(d.__spreadArray([],d.__read(u),!1),d.__read(v),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{ZPb:{get:function(){var u,v;return this.s7 + (null !== (v=null === (u=this.xq) || void 0 === u?void 0:u.size) && void 0 !== v?v:0);},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{s7:{get:function(){return this.cSb + this.bla;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{cSb:{get:function(){return this.Cw.size;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{bla:{get:function(){return this.NK.size;},enumerable:!1,configurable:!0}});r.prototype.ig=function(u){var v,w,x,y;v=this;x=Math.max(0,this.config.IDb - this.s7);if(!(0 >= x))if((u=u.map(function(A){return [v.up(A),A];}),u=(0,n.Zo)(u,Array.from(this.Cw.keys()),function(A,z){return d.__read(A,1)[0] === z;}),u.length > x)){y=u.map(function(A){return d.__read(A,2)[1];}).sort(h.DZa).slice(0,x);null === (w=this.xq) || void 0 === w?void 0:w.ig(y);}else null === (y=this.xq) || void 0 === y?void 0:y.ig(u.map(function(A){return d.__read(A,2)[1];}));};r.prototype.mp=function(u){return this.Rjb(u);};r.prototype.Obc=function(u){var v;if(null === (v=this.xq) || void 0 === v?0:v.HA(u))return (this.console.trace("Prefetch manifest found",{qya:u.J}),this.xq.claim(u));};r.prototype.w2b=function(u,v,w,x){return d.__awaiter(this,void 0,void 0,function(){var y,A,z,B,C;return d.__generator(this,function(D){switch(D.label){case 0:return (D.tc.push([0,3,7,8]),[4,v]);case 1:return (A=D.T(),[4,A.entries.get(w.Ts)]);case 2:return (z=D.T(),w.RC=z.RC,w.XP=z.ma,w.azb=!!x(),y=z.S,[3,8]);case 3:B=D.T();if((0,n.Qqa)(B))throw (!1,B);this.console.error("Error fetching manifest",{TBb:u,error:n.DV.SK(B)});C=x();if(!C)return [3,5];this.console.trace("Reusing manifest from error cache",{TBb:u});return [4,C.S];case 4:return (y=D.T(),w.DSb=!0,[3,6]);case 5:throw B;case 6:return [3,8];case 7:return (w.YD(),c.platform.time && (y?(w.sA.absolute=this.bMa(y),w.yBc()):w.sA.absolute=0),this.SG.Gda(w),[7]);case 8:return [2,y];}});});};r.prototype.Vfc=function(u,v,w){return d.__awaiter(this,void 0,void 0,function(){var x;return d.__generator(this,function(y){switch(y.label){case 0:(v.S=w,y.label=1);case 1:return (y.tc.push([1,3,,4]),[4,w]);case 2:return (x=y.T(),this.events.emit("manifestReceived",{type:"manifestReceived",MD:v,S:x}),[3,4]);case 3:return (y.T(),this.HMc(u,v),[3,4]);case 4:return (this.SG.track(v),this.console.log("Created manifest Item",v),[2]);}});});};r.prototype.ulc=function(u,v){var x,y,A,z,B;function w(){!A && x.TM.has(u) && (A || (A=x.TM.get(u)));return A;}x=this;z=this.Alb.get({key:u,priority:null !== (y=v.priority) && void 0 !== y?y:0,required:!v.Bs,item:v,dw:function(){return !!w();}});B=new p.wDa({RC:!1,XP:0,sA:{absolute:Infinity},Ts:v,vda:function(){x.console.trace("Promote to required",{key:u});z.value.nS();x.umb(0);}});v=this.w2b(u,z.value.item,B,w);this.Vfc(u,B,v).then(function(){A=void 0;});B.events.on("removed",function(){x.console.log("Removing manifest item",B);z.ll.release();});B.events.on("expired",function(){return d.__awaiter(x,void 0,void 0,function(){return d.__generator(this,function(){this.console.log("In expiring manifest handler",B);B.IUa.value?z.ll.release():B.IUa.addListener(function(){z.ll.release();});this.events.emit("expired",{type:"expired",MD:B});return [2];});});});return B;};r.prototype.HMc=function(u,v){var x,y,A,C;function w(E,H){var F,G;F=E.get(H);G=!1;F && (F.value === v && (y.console.log("Deleting manifest item due failure",v),E.delete(H),G=!0),F.ll.release());return G;}y=this;w(this.Cw,u);w(this.NK,u);A=this.NK.Moc(u);if(A)try{for(var z=d.__values(A),B=z.next();!B.done;B=z.next()){C=B.value;w(this.NK,C) && this.NK.$hc(u,C);}}catch(E){var D;D={error:E};}finally{try{B && !B.done && (x=z.return) && x.call(z);}finally{if(D)throw D.error;}}this.TM.has(u,v) && (this.console.log("Deleting manifest from reuseOnErrorCache due to failure",v),this.TM.delete(u));};r.prototype.i7b=function(u){var w,x,y,A;function v(){u.GGb();w.events.emit("deleted",{type:"deleted",MD:u});}w=this;A="none";u.WG || (!u.gw && u.Bs?!this.config.HDb || (null === (x=this.xq) || void 0 === x?0:x.HA(u.Ts)) || (A="addToDormant"):!u.Bs && u.HA && (A="reuseOnErrorCache"));this.console.log("allLeasesReturned to cache",{action:A,oob:u});switch(A){case "addToDormant":this.xq?null === (y=this.xq) || void 0 === y?void 0:y.eOc(u):this.SG.delete(u);break;case "reuseOnErrorCache":x=c.platform.time.now() + this.config.fOc;u.NKa(x);this.SG.track(u);x=this.up(u.Ts);this.TM.delete(x);this.TM.pAb(x,u);v();break;default:(this.SG.delete(u),v());}};r.prototype.Rjb=function(u,v){var w,x,y;w=this;void 0 === v && (v=!1);x=this.up(u);this.console.trace("Acquiring lease for manifest",{qya:u.J,MQ:this.Cw.size,tZa:!!u.Bs,bva:u.priority});y=this.Cw.RRa(x,function(){var A;A=w.Obc(u);A || (A=w.ulc(x,u),w.umb());if(A.Bs)A.events.on("promoted",function(){w.events.emit("activated",{type:"activated",MD:A});});else w.events.emit("activated",{type:"activated",MD:A});return {value:A,lM:function(){w.console.trace("Leases removed",{xdd:A.ar,M:u.J});w.i7b(A);}};});if(y.value.gw)if(v)this.console.error("Skipping Retry on an already expired manifest",{qya:u.J});else return (this.HPa(x,q.bzc),this.console.trace("Manifest Expired, releasing",{qya:u.J}),y.ll.release(),this.Rjb(u,!0));u.Bs || y.value.vda();return y;};r.prototype.umb=function(u){var v;void 0 === u && (u=1);u=Math.max(0,this.config.IDb - this.s7 - u - this.bla);null === (v=this.xq) || void 0 === v?void 0:v.vmb(u);};r.prototype.HPa=function(u,v){var w,x;w=v === q.WG || v === q.QMc;x=this.Cw.nQb(this.NK,u,("").concat(u,":").concat(this.Ylc++));x && (this.console.debug("Expiring active manifest",{TBb:u,WG:w,reason:q[v]}),x.NKa(0),w && (x.WG=!0),x.HFc());};r.prototype.flush=function(){var u,v;this.console.trace("Flush Called");null === (v=this.xq) || void 0 === v?void 0:v.clear();try{for(var w=d.__values(this.Cw.keys()),x=w.next();!x.done;x=w.next())this.HPa(x.value,q.WG);}catch(A){var y;y={error:A};}finally{try{x && !x.done && (u=w.return) && u.call(w);}finally{if(y)throw y.error;}}};r.prototype.getStats=function(){var u,v,y;v={};try{for(var w=d.__values(this.plugins),x=w.next();!x.done;x=w.next()){y=x.value;v[y.ncd]=y.t9c();}}catch(z){var A;A={error:z};}finally{try{x && !x.done && (u=w.return) && u.call(w);}finally{if(A)throw A.error;}}A=this.g7b.slice(0,5).map(function(z){return {viewableId:z.value.Ts.J,stats:z.value.stats,lastAccessed:z.value.aVa,hasManifest:z.value.HA,isExpired:z.value.gw};});return {manifestCount:this.Cw.size,totalManifestCount:this.size,playbackLeases:k.CFa.lYa,playbackCaches:k.CFa.kYa,activePending:Array.from(this.Cw.values()).filter(function(z){return !z.value.HA;}).length,expiredPending:Array.from(this.NK.values()).filter(function(z){return !z.value.HA;}).length,throttler:this.Alb.getStats(),plugins:v,top5Entries:A};};r.prototype.bMa=function(u){return (0,m.nxb)(u,this.config,this.Syb.value) + c.platform.time.now();};r.prototype.DLc=function(){d.__awaiter(this,void 0,void 0,function(){var u,v,w,x,y,A,z,B,C,D,E;return d.__generator(this,function(H){switch(H.label){case 0:(u=(null === (E=this.xq) || void 0 === E?void 0:E.values()) || [],v=Array.from(this.Cw.values()).map(function(F){return F.value;}),w=d.__spreadArray(d.__spreadArray([],d.__read(v),!1),d.__read(u),!1),H.label=1);case 1:(H.tc.push([1,6,7,8]),x=d.__values(w),y=x.next(),H.label=2);case 2:if(y.done)return [3,5];A=y.value;return !A.HA || isFinite(A.sA.absolute)?[3,4]:[4,A.S];case 3:(z=H.T(),A.NKa(this.bMa(z)),this.SG.Gda(A),H.label=4);case 4:return (y=x.next(),[3,2]);case 5:return [3,8];case 6:return (B=H.T(),C={error:B},[3,8]);case 7:try{y && !y.done && (D=x.return) && D.call(x);}finally{if(C)throw C.error;}return [7];case 8:return [2];}});});};return r;})();b.Ibb=t;},37349:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.nxb=void 0;b.nxb=function(a,d,n){var c,f,g;g=d.zad;return n && (null === (f=null === (c=a.CE) || void 0 === c?void 0:c.mN) || void 0 === f?0:f.UA)?Infinity:d.Wed && void 0 !== a.$Ib?a.$Ib:1E3 * (g?g:a.Zyb?900:7200);};},16659:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},2300:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.CFa=void 0;a(22970);d=a(66164);n=a(91176);c=a(91176);f=a(90745);g=0;t=(function(){function e(h,k,l){this.dWa=h;this.up=k;this.id=g++;this.Nqa=this.E4b=!1;this.events=new f.EventEmitter();this.console=(0,n.Gf)(d.platform,l,("PLAYBACKMANIFESTCACHE [").concat(this.id,"]"));this.console.trace("Creating this instance");this.dda=new c.aia(this.console,"playback-manifest-cache");}e.prototype.qMc=function(){this.Nqa || (this.Nqa=!0,e.kYa++);};e.prototype.LQb=function(){this.Nqa && (this.Nqa=!1,e.kYa--);};Object.defineProperties(e.prototype,{size:{get:function(){return this.dda.size;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{bIc:{get:function(){return Array.from(this.dda.values()).filter(function(h){return !h.value.S.HA;}).length;},enumerable:!1,configurable:!0}});e.prototype.mp=function(h){var k,l,m;k=this;l=h.J;m=this.up(h);return this.dda.RRa(m,function(){var p;k.console.trace("Getting manifest",{J:l,BEb:m});k.E4b && h.Bs && (h.Bs=!1);p=k.dWa.mp(h);p.value.S.then(function(){k.console.trace("Manifest received",{J:l,BEb:m});},function(q){k.console.trace("Manifest error received",{error:q});});e.lYa++;k.qMc();return {value:{S:p.value},lM:function(){p.ll.release();k.events.emit("itemRemoved",{type:"itemRemoved",item:p.value});k.console.trace("Releasing manifest",{J:l,BEb:m,Ead:k.dda.size,c6c:p});e.lYa--;0 === k.size && k.LQb();}};});};e.prototype.au=function(){var h;this.console.trace("Destroying");null === (h=this.dda) || void 0 === h?void 0:h.clear();this.LQb();};e.lYa=0;e.kYa=0;return e;})();b.CFa=t;},57042:function(t,b){var a,d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.oHc=function(f){var g,e,h,k;g=f.read(5);e=f.read(4);if(15 === e){h=f.read(24);e=a.indexOf(h);}else h=a[e];k=f.read(4);switch(g){case d:case n:case c:if(f.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + g + " not supported.");}return {Cv:g,sampleRate:h,gwa:e,s6c:k,Xnc:1024};};a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];d=1;n=2;c=4;},79602:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.pKc=function(n,c,f){var g,e;g=n.read(1);if(g){e=new d.S$a(n,g,c);1 === n.read(2) && n.advance(e.A0 * e.cca);}(0,d.oJb)(n,c,e,f);(0,d.oJb)(n,c,e,f);};d=a(50539);},48387:function(t,b,a){var d,n;b.w=function(c,f,g,e){var h;h=new d.Sga(c);e=e && e.gwa;f=(0,n.rKc)(h,{gG:f,ST:g},e);h=h.offset;return {frame:c.subarray(0,h),jYa:h,Zed:f};};d=a(5641);n=a(67038);},30109:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qKc=function(a,d,n){15 === d && (d+=a.read(8) - 1);0 < d && 1 !== n.gG && !n.ST?(a.write(4,0),a.advance(8 * d - 4)):a.advance(8 * d);};},67038:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.rKc=function(c,f,g){var e,h,k;if(4095 === c.read(12)){c.advance(3);e=!!c.read(1);h=c.read(2) + 1;g=c.read(4);c.advance(8);k=c.read(13);c.advance(13 + (e?0:16));e={Cv:h,gwa:g,Xnc:k};}else c.reverse(12);(0,d.assert)(void 0 !== g);(0,n.zKc)(c,g,f);return e;};d=a(87606);n=a(970);},27912:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.M9a=b.D9a=b.C9a=b.L9a=b.K9a=b.J9a=b.I9a=b.H9a=b.G9a=b.F9a=b.E9a=b.B9a=void 0;b.B9a={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.E9a={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.F9a={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.G9a={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.H9a={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.I9a={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.J9a={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.K9a={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.L9a={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.C9a={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.D9a={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.M9a={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},77737:function(t,b,a){var d,n,c;Object.defineProperty(b,"__esModule",{value:!0});b.Pha=void 0;d=a(27912);n=[d.B9a,d.E9a,d.F9a,d.G9a,d.H9a,d.I9a,d.J9a,d.K9a,d.L9a,d.C9a,d.D9a];c=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.Pha=(function(){function f(){}f.avb=function(g,e){var h,p,q;h=e.table;e=e.width;for(var k=0,l=h[0],m=g.read(l);m !== h[k + 1];){k+=e;p=h[k];q=p - l;l=p;m<<=q;m|=g.read(q);}return k;};f.$Nb=function(g){for(var e=4;g.read(1);)++e;g.advance(e);};f.bOb=function(g,e){for(;e--;)f.avb(g,d.M9a);};f.TRc=function(g,e){var h,k;h=n[e - 1];k=h.table;h=this.avb(g,h);if(11 > e)c[e - 1] && (e=k[h + 2]) && g.advance(e);else if(11 === e || 15 < e)(h+=2,(e=k[h]) && g.advance(e),(k=k[h + 1]) && this.$Nb(g),1 < k && this.$Nb(g));else throw Error("Huffman: unknown spectral codebook: " + e);};return f;})();},50539:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.S$a=void 0;b.oJb=function(r,u,v,w){var x,y,A;x=r.read(8);w=Math.max(0,Math.ceil(x + 4 * Math.log(Math.pow(10,w.gG / 20)) / Math.log(2)));r.reverse(8);r.write(8,w);v || (v=new q(r,0,u));x=v;y=x.o4a === f?3:5;A=(1 << y) - 1;u=[];w=[];for(var z=[],B=0;B < x.A0;++B){for(var C=0,D=0;C < x.cca;){for(var E=r.read(4),H=0,F;(F=r.read(y)) === A;)H+=F;H+=F;C+=H;u.push(E);w.push(H);++D;}z.push(D);}x=!0;for(y=0;y < u.length;++y)u[y] !== g && (u[y] === h && x?(r.advance(9),x=!1,n.Pha.bOb(r,w[y] - 1)):n.Pha.bOb(r,w[y]));r.read(1) && r.advance(6 + 9 * (r.read(2) + 1));if(r.read(1))for((x=v,y=2 === x.o4a?m:p,A=0);A < x.hGb;++A)if(z=r.read(y[0]))for((B=r.read(1),C=0);C < z;++C)if((r.advance(y[1]),D=r.read(y[2])))(r.advance(1),E=r.read(1),r.advance(D * (B + 3 - E)));(0,d.assert)(!r.read(1));x=v.A0;y=v.cca;A=v.uPb;v=v.wya;for(B=z=0;B < x;++B)for((C=v[B],D=0);D < y;++z)if((E=u[z],H=w[z],E === g || E === h || E === l || E === k))D+=H;else {F=E >= e?2:4;for(var G=0;G < H;(++G,++D))for(var J=C * (A[D + 1] - A[D]) / F,L=0;L < J;++L)n.Pha.TRc(r,E);}};d=a(87606);n=a(77737);c=a(96103);f=2;g=0;e=5;h=13;k=14;l=15;m=[1,4,3];p=[2,6,5];q=(function(){return function(r,u,v){var w;this.wya=[];this.A0=1;this.wya[0]=1;r.advance(1);this.o4a=r.read(2);r.read(1);if(this.o4a === f){this.hGb=8;this.cca=r.read(4);for(u=0;7 > u;++u)r.read(1)?this.wya[this.A0 - 1]++:(this.A0++,this.wya[this.A0 - 1]=1);this.uPb=c.wgb[v];}else {this.hGb=1;this.cca=r.read(6);if(r.read(1)){w=14 + Math.min(this.cca,40);r.read(1) && r.advance(w);u && r.read(1) && r.advance(w);}this.uPb=c.vgb[v];}};})();b.S$a=q;},970:function(t,b,a){var d,n,c,f,g;Object.defineProperty(b,"__esModule",{value:!0});b.zKc=function(e,h,k){var m;for(var l;(l=e.read(3)) !== g;){m=e.read(4);switch(l){case c:(0,d.pKc)(e,h,k);break;case f:(0,n.qKc)(e,m,k);break;default:throw Error(("Unsupported AAC element ").concat(l));}}e.w$b();};d=a(79602);n=a(30109);c=1;f=6;g=7;},96103:function(t,b){var a,d,n,c,f,g,e,h,k,l,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.y0b=b.FXb=b.z0b=b.Y0b=b.Z0b=b.wgb=b.vgb=void 0;t=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);n=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);f=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);g=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);e=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);h=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);k=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);l=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);m=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);p=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.vgb=[t,t,d,c,c,g,e,e,k,k,k,m];b.wgb=[a,a,n,f,f,f,h,h,l,l,l,p];b.Z0b=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.Y0b=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.z0b=(function(){for(var q=new Float32Array(428),r=0;428 > r;r++)q[r]=Math.pow(2,(r - 200) / 4);return q;})();b.FXb=(function(){for(var q=new Float32Array(8191),r=4 / 3,u=0;8191 > u;u++)q[u]=Math.pow(u,r);return q;})();b.y0b=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},87606:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.assert=function(c,f){if(!c)throw new n(f || "Assertion failed");};d=a(22970);n=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);return f;})(Error);},5641:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sga=void 0;t=(function(){function a(d){this.data=d;this.Cx=this.ed=this.oe=0;this.view=new DataView(d.buffer,d.byteOffset,d.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.ed;},enumerable:!1,configurable:!0});a.prototype.read=function(d){if(0 === this.oe){if(8 === d)return this.data[this.ed++];if(16 === d)return (d=this.view.getUint16(this.ed),this.ed+=2,d);if(32 === d)return (d=this.view.getUint32(this.ed),this.ed+=4,d);}for(;this.oe < d;)(this.Cx=(this.Cx << 8) + this.data[this.ed++],this.oe+=8);this.oe-=d;return this.Cx >>> this.oe & (1 << d) - 1;};a.prototype.advance=function(d){var n;if(d <= this.oe)this.oe-=d;else {d-=this.oe;n=Math.floor(d / 8);this.ed+=n;this.Cx=this.data[this.ed++];this.oe=8 - (d - 8 * n);}};a.prototype.write=function(d,n){var c,f;n&=(1 << d) - 1;if(0 === this.oe){if(8 === d){this.data[this.ed++]=n;return;}if(16 === d){this.view.setUint16(this.ed,n);this.ed+=2;return;}if(32 === d){this.view.setUint32(this.ed,n);this.ed+=4;return;}}if(0 < this.oe){c=Math.min(d,this.oe);f=this.data[this.ed - 1] & (~((1 << this.oe) - 1) ^ (1 << this.oe - c) - 1);this.data[this.ed - 1]=f ^ (d >= c?n >>> d - c:n << this.oe - c);this.oe-=c;d-=c;}for(;8 <= d;)(d-=8,this.data[this.ed++]=n >>> d & 255);0 < d && (this.oe=8 - d,f=this.data[this.ed] & (1 << this.oe) - 1,this.Cx=this.data[this.ed++]=f ^ (n & (1 << d) - 1) << 8 - d);};a.prototype.reverse=function(d){0 !== this.oe && d <= 8 - this.oe?this.oe+=d:(0 !== this.oe && (d-=8 - this.oe,--this.ed),this.ed-=Math.floor(d / 8),this.Cx=this.data[this.ed - 1],this.oe=d % 8);};a.prototype.w$b=function(){0 !== this.oe && (this.oe=0);};return a;})();b.Sga=t;},25154:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.Xec=function(d,n){void 0 === n && (n=0);n=~~n;for(var c=0;c < d.length;c++)n=(a[(n >> 8 ^ d[c]) & 255] ^ n << 8) & 65535;return n;};a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);},10543:function(t,b,a){var d,n;b.w=function(c,f,g){var e;e=new d.Sga(c);f=(0,n.K7b)(e,f,null === g || void 0 === g?void 0:g.pS).Znc;c=c.subarray(0,f);(0,n.LQc)(c);return {frame:c,jYa:f};};d=a(5641);n=a(75719);},75719:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.K7b=function(c,f,g){var e,h;e=c.read(16);(0,d.assert)(2935 === e);e=2 * ((c.read(16) & 2047) + 1);c.advance(13);h=c.read(5);c.reverse(5);g && (f*=-h / g);c.write(5,Math.min(31,Math.max(1,Math.floor(h + f))));return {Znc:e};};b.LQc=function(c){var f;f=(0,n.Xec)(c.subarray(2,c.length - 2));c[c.length - 2]=f >> 8;c[c.length - 1]=f & 255;};d=a(87606);n=a(25154);},71210:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.omc=function(){var h,k,l,m;for(var g=[],e=0;e < arguments.length;e++)g[e]=arguments[e];h="string" === typeof g[0]?{Xc:g[0],frame:g[1],gG:g[2],ucc:g[3],pS:g[4]}:g[0];k=h.Xc;g=h.frame;e=h.gG;l=h.ucc;m=h.pS;h=h.ST;h=void 0 === h?!1:h;switch(k){case "aac":void 0 === c && (c=a(48387).w);k=6;l && (l=new d.Sga(l),k=(0,n.oHc)(l).gwa);g=c(g,e,h,{gwa:k}).jYa;break;case "ddp":void 0 === f && (f=a(10543).w);g=f(g,e,{pS:m}).jYa;break;case "xheaac":g=g.length;break;default:throw Error("Unrecognized codec in fadeFrame: " + k);}return {Ync:g};};d=a(5641);n=a(57042);},81969:function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(22970).__exportStar(a(71210),b);},66988:function(t,b){var a,d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.OP=void 0;t={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Nwa:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Nwa:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};d={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Nwa:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};n={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Nwa:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.OP={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":d,"ddplus-5.1hq-dash":d,"ddplus-2.0-dash":n},reset:{"heaac-2-dash":t,"heaac-2hq-dash":t},"heaac-2-dash":t,"heaac-2-dash-alt":a,"ddplus-5.1-dash":d,"ddplus-2.0-dash":n};},40755:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.s8a=b.x4a=void 0;d=a(22970);t=(function(n){function c(){var f;f=null !== n && n.apply(this,arguments) || this;f.aR=1536;return f;}d.__extends(c,n);c.xd=!0;return c;})(a(70428).default);b["default"]=t;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.we="ac-3";return c;})(t);b.x4a=a;t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.we="ec-3";return c;})(t);b.s8a=t;},26856:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){this.goc=this.N.eb(2);this.V9b=this.N.eb(5);this.W9b=this.N.eb(3);this.B5b=this.N.eb(3);this.N.eb(1);this.N.eb(5);this.N.eb(5);return !0;};c.we="dac3";return c;})(a(72905).Bf);b["default"]=t;},56226:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(93334);t=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.parse=function(g){var e,h;this.N.eb(1);this.N.eb(7);this.IMb=this.N.eb(3);this.HMb=this.N.eb(5);this.JMb=this.N.eb(1);this.wzb=this.N.eb(1);this.FQb=this.N.eb(1);this.gFb=this.N.eb(1);this.jpb=this.N.eb(1);this.kpb=this.N.eb(1);this.ipb=this.N.eb(2);this.N.eb(3);(this.WTa=this.N.eb(1))?this.fAb=this.N.eb(4):this.N.eb(4);if(null === g || void 0 === g?0:g.kh){for(var k=void 0,l=this.parent;l;){k=null === (h=null === (e=l.$m("tkhd")) || void 0 === e?void 0:e.Nc) || void 0 === h?void 0:h.trackId;if(void 0 !== k)break;l=l.parent;}(0,n.assert)(void 0 !== k,"trackId is undefined");g.kh[k].M5c={IMb:this.IMb,HMb:this.HMb,JMb:this.JMb,wzb:this.wzb,FQb:this.FQb,gFb:this.gFb,jpb:this.jpb,kpb:this.kpb,ipb:this.ipb,WTa:this.WTa,fAb:this.fAb};}return !0;};f.we="av1C";return f;})(a(72905).Bf);b["default"]=t;},18319:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(93334);t=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.parse=function(g){var e,h,k;this.Wcc=this.N.Ad();this.DTb=this.N.Ad();this.N.Ad();this.N.Ad();this.gzc=this.N.Ad() & 3;this.Vwa=this.AJa(this.N.Ad() & 31);this.TIb=this.AJa(this.N.Ad());this.q1=this.Vwa.length?this.Vwa[0][1]:this.DTb;this.Gkb=this.N.offset;this.startOffset + this.length < this.N.offset && (100 === this.q1 || 110 === this.q1 || 122 === this.q1 || 144 === this.q1) && (this.N.Ad(),this.N.Ad(),this.AJa(this.N.Ad()));k=this.startOffset + this.length - this.Gkb;0 < k && this.Wq(k,this.Gkb);if(null === g || void 0 === g?0:g.kh){k=void 0;for(var l=this.parent;l;){k=null === (h=null === (e=l.$m("tkhd")) || void 0 === e?void 0:e.Nc) || void 0 === h?void 0:h.trackId;if(void 0 !== k)break;l=l.parent;}(0,n.assert)(void 0 !== k,"trackId is undefined");g.kh[k].O5c={Vwa:this.Vwa,TIb:this.TIb,q1:this.q1};}return !0;};f.prototype.AJa=function(g){var k;for(var e=[],h=0;h < g;++h){k=this.N.hg();e.push(this.N.zT(k));}return e;};f.we="avcC";f.xd=!1;return f;})(a(72905).Bf);b["default"]=t;},70428:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(72905);t=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.parse=function(g){var e;e=c.prototype.parse.call(this,g);this.N.offset+=8;this.rMa=this.N.hg();this.f0a=this.N.hg();this.N.offset+=4;this.samplerate=this.N.hg();this.N.offset+=2;n.l && this.N.console.trace("MP4AudioSampleEntry: channelcount: " + this.rMa + ", samplesize: " + this.f0a + ", samplerate: " + this.samplerate);if(null === g || void 0 === g?0:g.Yd)(g.Yd.rMa=this.rMa,g.Yd.f0a=this.f0a,g.Yd.samplerate=this.samplerate);return e;};f.xd=!1;return f;})(a(71724).default);b["default"]=t;},29973:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){this.Nc=this.pE([{a6c:"int32"},{maxBitrate:"int32"},{ema:"int32"}]);return !0;};c.we="btrt";c.xd=!1;return c;})(a(72905).Bf);b["default"]=t;},72905:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Bf=b.l=void 0;d=a(93334);b.l=!1;t=(function(){function n(c,f,g,e,h){this.vc=c;this.type=f;this.byteOffset=g;this.byteLength=e;this.parent=h;this.Ke={};this.RS=e;}n.UG=function(c,f){var e,k;function g(l){l && l.UG && (l=l.UG(f),l.length && (e=e.concat(l)));}e=[];c.type === f && e.push(c);if(c.Ke)for(var h in c.Ke){k=c.Ke[h];Array.isArray(k) && k.forEach(g);}return e;};n.y7=function(c,f){void 0 === c.Ke[f.type] && (c.Ke[f.type]=[]);c.Ke[f.type].push(f);};n.$m=function(c,f){return n.UG(c,f)[0];};Object.defineProperties(n.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{length:{get:function(){return this.byteLength;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{N:{get:function(){return this.vc;},enumerable:!1,configurable:!0}});n.prototype.gi=function(){var c;c=this.vc.$b();this.version=c >> 24;this.flags=c & 16777215;};n.prototype.y7=function(c){n.y7(this,c);};n.prototype.UG=function(c){return n.UG(this,c);};n.prototype.$m=function(c){return n.$m(this,c);};n.prototype.parse=function(){return !0;};n.prototype.TG=function(){return !0;};n.prototype.qt=function(c){if((c=this.Ke[c]) && Array.isArray(c) && 1 === c.length)return c[0];};n.prototype.Wq=function(c,f){f=void 0 === f?this.vc.offset:f;(0,d.assert)(f >= this.startOffset + 8 && f + c <= this.startOffset + this.RS,"Removal range [0x" + f.toString(16) + "-0x" + (f + c).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.RS).toString(16) + ")");this.vc.Wq(c,f,this);};n.prototype.Iva=function(c,f,g){g=void 0 === g?this.vc.offset:g;(0,d.assert)(g >= this.startOffset + 8 && g + c <= this.startOffset + this.RS,"Removal range [0x" + g.toString(16) + "-0x" + (g + c).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.RS).toString(16) + ")");this.vc.Iva(c,f,g,this);};n.prototype.ZJb=function(c,f,g){if(1 < g){for(var e=[];0 < g--;)e.push(this.Lkb(c,f));return e;}return this.Lkb(c,f);};n.prototype.pE=function(c){var f,g;g=this;void 0 === f && (f={});c.forEach(function(e){var h,k;if("offset" === e.type){h=e.offset;if(0 < h % 8)throw Error("Requested offset " + e.offset + "is not an even byte multiple");g.vc.offset+=h / 8;}else for(h in e){k=e[h];f[h]="string" === typeof k?g.ZJb(k):g.ZJb(k.type,k.length,k.T7b);}});return f;};n.prototype.Lkb=function(c,f){var g;g=this.byteLength - this.vc.offset + this.startOffset;"undefined" === typeof f && (f=g);switch(c){case "int8":c=this.vc.Ad();break;case "int64":c=this.vc.cm();break;case "int32":c=this.vc.$b();break;case "int16":c=this.vc.hg();break;case "string":c=this.vc.b_a(Math.min(f,g));break;default:throw Error("Invalid type: " + c);}return c;};n.xd=!1;return n;})();b.Bf=t;},53158:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(93334);t=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.parse=function(g){var e,h,k,l,m,p;if("nclx" === this.N.EB()){k=this.N.hg();l=this.N.hg();m=this.N.hg();p=this.N.eb(1);this.N.eb(7);this.Qpb={E6c:k,Hed:l,Iad:m,Q8c:p};}if(null === g || void 0 === g?0:g.kh){k=void 0;for(l=this.parent;l;){k=null === (h=null === (e=l.$m("tkhd")) || void 0 === e?void 0:e.Nc) || void 0 === h?void 0:h.trackId;if(void 0 !== k)break;l=l.parent;}(0,n.assert)(void 0 !== k,"Failed to find trackId in track hierarchy");g=g.kh[k];if(!g)return !0;g.Qpb=this.Qpb;}return !0;};f.we="colr";return f;})(a(72905).Bf);b["default"]=t;},29043:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(f){var g,e,h;g=this.N.offset;e=this.N.hg();this.Urb=e >> 3;this.IEc=e & 7;this.DTc=[];for(e=0;e <= this.IEc;e++){h={goc:this.N.eb(2),V9b:this.N.eb(5),W9b:this.N.eb(5),B5b:this.N.eb(3),aad:this.N.eb(1),fLb:this.N.eb(3),HEc:this.N.eb(4)};0 < h.HEc?h.r6c=this.N.eb(9):this.N.eb(1);this.DTc.push(h);}f && f.ktb && (f.ktb.Urb=this.Urb,2 <= this.byteLength - (this.N.offset - g) && (this.N.eb(7),g=this.N.eb(1),f.ktb.E5c=1 === g));return !0;};c.we="dec3";return c;})(a(72905).Bf);b["default"]=t;},96345:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(47887);t=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.parse=function(g){this.gi();this.pWb=n.ZAa.UJb(this.N,g);return !0;};f.we="esds";f.xd=!1;return f;})(a(72905).Bf);b["default"]=t;},96989:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(f){var g,e,h,k,l,m,p;l=null === (k=null === (h=null === (e=null === (g=this.parent) || void 0 === g?void 0:g.parent) || void 0 === e?void 0:e.$m("tkhd")) || void 0 === h?void 0:h.Nc) || void 0 === k?void 0:k.trackId;if("undefined" === typeof l)return !0;this.gi();g=this.N.$b();this.x9=[];for(e=0;e < g;e++){h=1 === this.version?this.N.cm():this.N.$b();k=1 === this.version?this.N.cm():this.N.$b();m=this.N.hg();p=this.N.hg();this.x9.push({rdd:h,pCc:k,$ad:m,Zad:p});}if(null === f || void 0 === f || !f.kh || !f.kh[l])return !0;f.kh[l].x9=this.x9;return !0;};c.we="elst";c.xd=!1;return c;})(a(72905).Bf);b["default"]=t;},98776:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){return !0;};c.we="emeb";c.xd=!1;return c;})(a(72905).Bf);b["default"]=t;},29770:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(f,g,e,h,k){return n.call(this,f,g,e,h,k) || this;}d.__extends(c,n);c.prototype.parse=function(){this.gi();this.N.$b();this.NJc=this.N.YJb();this.nZ=this.N.$b();4294967295 === this.nZ && (this.nZ=Infinity);this.id=this.N.$b();this.WM=this.N.b_a();this.value=this.N.b_a();this.KH=new Uint8Array(this.N.u1(this.length - (this.N.offset - this.startOffset)));return !0;};c.we="emib";c.xd=!1;return c;})(a(72905).Bf);b["default"]=t;},23471:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(f){n.prototype.parse.call(this,f);return !0;};c.we="evte";c.xd=!0;return c;})(a(99520).default);b["default"]=t;},19234:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){this.N.EB();this.N.EB();for(this.UMa=[];this.N.offset <= this.byteOffset + this.byteLength - 4;)this.UMa.push(this.N.EB());return !0;};c.we="ftyp";c.xd=!1;return c;})(a(72905).Bf);b["default"]=t;},89362:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(f){this.bhc=this.N.EB();f && f.Yd && (f.Yd.vOc=this.bhc);return !0;};c.we="frma";return c;})(a(72905).Bf);b["default"]=t;},28721:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(32296);t=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.parse=function(g){var e,h,k,l,m;this.gi();this.Nc=this.pE([{qcd:"int32"},{VSa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.Nc.VSa=(0,n.xJ)(this.Nc.VSa);if(g && g.kh){m=null === (l=null === (k=null === (h=null === (e=this.parent) || void 0 === e?void 0:e.parent) || void 0 === h?void 0:h.$m("tkhd")) || void 0 === k?void 0:k.Nc) || void 0 === l?void 0:l.trackId;"number" === typeof m && g.kh[m] && (g.kh[m].uD=this.Nc.VSa);}return !0;};f.we="hdlr";f.xd=!1;return f;})(a(72905).Bf);b["default"]=t;},87206:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(93334);t=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.parse=function(g){var e,h,p;this.Xcc=this.N.eb(8);this.noc=this.N.eb(2);this.ooc=this.N.eb(1);this.moc=this.N.eb(5);this.loc=this.N.eb(32);this.joc=this.N.eb(48);this.koc=this.N.eb(8);this.N.eb(4);this.WCc=this.N.eb(12);this.N.eb(6);this.kHc=this.N.eb(2);this.N.eb(6);this.Gbc=this.N.eb(2);this.N.eb(5);this.F9b=this.N.eb(3);this.N.eb(5);this.E9b=this.N.eb(3);this.i9b=this.N.eb(16);this.bdc=this.N.eb(2);this.GEc=this.N.eb(3);this.rUc=this.N.eb(1);this.hzc=this.N.eb(2);if(null === g || void 0 === g?0:g.kh){for(var k=void 0,l=this.parent;l;){k=null === (h=null === (e=l.$m("tkhd")) || void 0 === e?void 0:e.Nc) || void 0 === h?void 0:h.trackId;if(void 0 !== k)break;l=l.parent;}(0,n.assert)(void 0 !== k,"trackId is undefined");g=g.kh[k];g.Yx={Wcc:this.Xcc,X8c:this.noc,Y8c:this.ooc,W8c:this.moc,V8c:this.loc,T8c:this.joc,U8c:this.koc,rbd:this.WCc,bcd:this.kHc,u6c:this.Gbc,V5c:this.F9b,U5c:this.E9b,R5c:this.i9b,K6c:this.bdc,Mbd:this.GEc,ged:this.rUc,gzc:this.hzc};e=this.N.eb(8);for(h=0;h < e;h++){this.N.eb(1);this.N.eb(1);k=this.N.eb(6);l=this.N.eb(16);for(var m=0;m < l;m++){p=this.N.eb(16);p=this.N.zT(p);switch(k){case 32:g.Yx.mSb || (g.Yx.mSb=[]);g.Yx.mSb.push(p);break;case 33:g.Yx.KMb || (g.Yx.KMb=[]);g.Yx.KMb.push(p);break;case 34:g.Yx.iIb || (g.Yx.iIb=[]);g.Yx.iIb.push(p);break;case 39:case 40:(g.Yx.mPb || (g.Yx.mPb=[]),g.Yx.mPb.push(p));}}}}return !0;};f.we="hvcC";return f;})(a(72905).Bf);b["default"]=t;},97066:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(93334);t=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.TG=function(){var g;g=this.$m("esds");if(g=g && g.pWb.$m(5))((0,n.assert)(this.samplerate),this.aR=g.aR * this.samplerate / g.fwa);return !0;};f.we="mp4a";f.xd=!0;return f;})(a(70428).default);b["default"]=t;},99520:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(f){n.prototype.parse.call(this,f);return !0;};return c;})(a(71724).default);b["default"]=t;},56122:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},71368:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){this.gi();this.Nc=1 === this.version?this.pE([{creationTime:"int64"},{modificationTime:"int64"},{O:"int32"},{duration:"int64"}]):this.pE([{creationTime:"int32"},{modificationTime:"int32"},{O:"int32"},{duration:"int32"}]);return !0;};c.we="mvhd";c.xd=!1;return c;})(a(72905).Bf);b["default"]=t;},16530:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.xd=!1;return c;})(a(72905).Bf);b["default"]=t;},45645:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(){this.gi();this.Nc=this.pE(1 === this.version?[{$Q:"int64"}]:[{$Q:"int32"}]);return !0;};c.we="mehd";c.xd=!1;return c;})(a(72905).Bf);b["default"]=t;},31025:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=a(75589);a=a(72905);n=t.gEa;a=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.parse=function(){this.gi();this.Nc=this.pE([{Ay:"int32"},{Mv:"int16"}]);return !0;};f.we=n;f.xd=!1;return f;})(a.Bf);b["default"]=a;},91056:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(75589);t=a(72905);c=n.hEa;t=(function(f){function g(){return null !== f && f.apply(this,arguments) || this;}d.__extends(g,f);g.prototype.parse=function(){this.gi();this.fileSize=this.N.cm();this.O=this.N.cm();this.duration=this.N.cm(!1,!0);this.bFc=this.N.cm();this.N.cm();this.fFc=this.N.cm();this.aEc=this.N.$b();this.cFc=this.N.cm();this.wnc=this.N.$b();this.N.xva();this.Gp={moof:{offset:this.bFc},sidx:{offset:this.cFc,size:this.wnc}};this.Gp[n.Ecb]={offset:this.fFc,size:this.aEc};this.N.offset - this.startOffset <= this.length - 24 && (this.eFc=this.N.cm(),this.DDc=this.N.$b(),this.dFc=this.N.cm(),this.CDc=this.N.$b(),this.Gp[n.qia]={offset:this.eFc,size:this.DDc},this.Gp[n.pia]={offset:this.dFc,size:this.CDc});return !0;};g.we=c;g.xd=!1;return g;})(t.Bf);b["default"]=t;},64280:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=a(75589);a=a(72905);n=t.iEa;a=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.parse=function(){var g,k,l;this.gi();1 <= this.version && this.N.xva();g=this.N.$b();this.Gp={};for(var e=this.startOffset + this.length,h=0;h < g;++h){k=this.N.EB();"uuid" === k && (k=this.N.xva());l=this.N.cm();this.Gp[k]={offset:e,size:l};e+=l;}return !0;};f.we=n;f.xd=!1;return f;})(a.Bf);b["default"]=a;},35503:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(f){this.Nc=this.pE([{dvc:"int32"},{AXc:"int32"}]);if(null === f || void 0 === f?0:f.Yd)(f.Yd.D9c=this.Nc.dvc,f.Yd.dfd=this.Nc.AXc);return !0;};c.we="pasp";c.xd=!1;return c;})(a(72905).Bf);b["default"]=t;},84379:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(75589);c=a(49420);f=a(70428);t=a(72905);g=a(41192);a=(function(e){function h(){return null !== e && e.apply(this,arguments) || this;}d.__extends(h,e);h.prototype.parse=function(){this.gi();this.MQ=this.N.$b();return !0;};h.prototype.TG=function(k){var l;l=Object.keys(this.Ke);l.length && (l=l[0],this.Ke[l].length && (l=this.Ke[l][0],l instanceof f.default?this.Ea=new c.I(l.aR,l.samplerate):l instanceof g.default && (l=l.Ke[n.gEa]) && l.length && (l=l[0].Nc,1E3 !== l.Mv && 1001 !== l.Mv || 0 !== l.Ay % 1E3?this.N.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + l.Ay + "/" + l.Mv):this.Ea=new c.I(l.Mv,l.Ay)),k && this.Ea && (k.Ea=this.Ea)));return !0;};h.prototype.HKb=function(k){void 0 !== this.Ke[k] && 0 !== this.Ke[k].length && (this.vc.Kn(this.MQ - 1,this.byteOffset + 12),k=this.Ke[k][0],this.Wq(k.byteLength,k.byteOffset));};h.we="stsd";h.xd=!0;return h;})(t.Bf);b["default"]=a;},71724:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=a(72905);n=a(72905);a=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.parse=function(g){this.N.offset+=6;this.N.hg();n.l && this.N.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === g || void 0 === g?0:g.Yd)g.Yd.vOc=this.type;return !0;};return f;})(t.Bf);b["default"]=a;},41116:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(72905);t=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.parse=function(g){this.gi();this.p0a=this.N.EB();n.l && this.N.console.trace("SchemeTypeBoxTranslator: " + this.p0a);if("cenc" === this.p0a){if((this.N.offset-=4,n.l && this.N.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.N.offset),this.vc.q4a("piff"),null === g || void 0 === g?0:g.Yd))g.Yd.mlc="piff";}else if(null === g || void 0 === g?0:g.Yd)g.Yd.mlc=this.p0a;this.N.$b();return !0;};f.we="schm";f.xd=!1;return f;})(n.Bf);b["default"]=t;},95797:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);n=a(26388);c=a(49420);t=(function(f){function g(){return null !== f && f.apply(this,arguments) || this;}d.__extends(g,f);g.prototype.TG=function(e){var h;if(e && e.Ea && !e.JGc && e.mediaType === n.u.X){h=this.qt("mdia");h && (h=h.qt("mdhd")) && h.O !== e.Ea.O && (e.Ea=new c.I(e.Ea).Kc(h.O));}return !0;};g.we="trak";g.xd=!0;return g;})(a(72905).Bf);b["default"]=t;},30717:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(f){var g,e,h,k,l;this.gi();g=this.pE([{T2:"int32"},{kOa:"int32"},{fD:"int32"},{gD:"int32"},{CG:"int32"}]);e=g.T2;h=g.kOa;k=g.fD;l=g.CG;g=g.gD;this.Nc={trackId:e,k7c:h,vna:k,l7c:l,m7c:g};(null === f || void 0 === f?0:f.kh) && f.kh[e] && (f.kh[e].kOa=h,f.kh[e].fD=k,f.kh[e].CG=l,f.kh[e].gD=g);this.T2=e;this.kOa=h;this.fD=k;this.gD=g;this.CG=l;return !0;};c.we="trex";c.xd=!1;return c;})(a(72905).Bf);b["default"]=t;},85571:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(f){var g;this.gi();g=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];g=g.concat({offset:64,type:"offset"},{Y$c:"int16"},{r5c:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.Nc=this.pE(g);this.Nc.Bed=!!(this.flags & 1);this.Nc.Ced=!!(this.flags & 2);this.Nc.Ded=!!(this.flags & 4);this.Nc.Eed=!!(this.flags & 8);if(null === f || void 0 === f?0:f.Yd)(f.Yd.width=this.Nc.width / 65536,f.Yd.height=this.Nc.height / 65536);f && f.kh && (f.kh[this.Nc.trackId]={});return !0;};c.we="tkhd";c.xd=!1;return c;})(a(72905).Bf);b["default"]=t;},70179:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.k6=void 0;d=a(22970);n=a(81969);c=a(93334);f=a(66988);t=(function(g){function e(h,k,l,m,p){h=g.call(this,h,k,l,m,p) || this;h.Wna=!1;return h;}d.__extends(e,g);e.RLb=function(h){return (h & 50331648) >>> 24;};e.SLb=function(h){return !!((h & 65536) >>> 16);};Object.defineProperties(e.prototype,{Trb:{get:function(){return !!(this.flags & 1);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{c$:{get:function(){return !!(this.flags & 4);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{U1:{get:function(){return !!(this.flags & 256);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{V1:{get:function(){return !!(this.flags & 512);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{ewa:{get:function(){return !!(this.flags & 1024);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{cwa:{get:function(){return !!(this.flags & 2048);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{snc:{get:function(){return this.cwa?(this.N.offset=this.uA + this.VM - 4,0 === this.version?this.N.$b():this.N.Bda()):0;},enumerable:!1,configurable:!0}});e.prototype.parse=function(h){var k,l,m;this.gi();this.ILa=this.N.offset;this.Od=this.N.$b();this.gl=this.Trb?this.N.Bda():0;this.hQa=this.c$?this.N.$b():void 0;this.VM=(this.U1?4:0) + (this.V1?4:0) + (this.ewa?4:0) + (this.cwa?4:0);this.uA=this.N.offset;(0,c.assert)(this.Trb,"Expected data offset to be present in Track Run");(0,c.assert)(this.length - (this.N.offset - this.startOffset) === this.Od * this.VM,"Expected remaining data in box to be sample information");if(h && h.Ma){h.Ma.gl=this.gl;h.Ma.Od=this.Od;this.sl=[];m=null === (l=null === (k=this.parent) || void 0 === k?void 0:k.$m("tfhd")) || void 0 === l?void 0:l.T2;for(k=0;k < this.Od;k++)(l={},this.U1?l.T1=this.N.$b():h.Ma.fD?l.T1=h.Ma.fD:m && h.kh && h.kh[m] && (l.T1=h.kh[m].fD),this.V1?l.mI=this.N.$b():h.Ma?l.mI=h.Ma.gD:m && h.kh && h.kh[m] && (l.mI=h.kh[m].gD),this.ewa?l.dwa=this.N.$b():h.Ma?l.dwa=h.Ma.CG:m && h.kh && h.kh[m] && (l.dwa=h.kh[m].CG),this.cwa && (l.yOc=0 === this.version?this.N.$b():this.N.Bda()),0 === k && this.c$ && (l.dwa=this.hQa),this.sl.push(l));h.Ma.sl=this.sl;if(h.Ma.XT)for(((0,c.assert)(h.Ma.XT.length === h.Ma.sl.length,("num fragment samples: ").concat(h.Ma.sl.length,", ") + ("num samples in auxiliary info: ").concat(h.Ma.XT.length)),m=0);m < h.Ma.sl.length;m++)(h.Ma.sl[m].eCa=h.Ma.XT[m].eCa,h.Ma.sl[m].i2a=h.Ma.XT[m].i2a);}return !0;};e.prototype.Pka=function(h,k,l){var m,p,q;m=this.U1?this.N.$b():h.fD;p=this.V1?this.N.$b():h.gD;h=this.ewa?this.N.$b():h.CG;q=this.cwa?0 === this.version?this.N.$b():this.N.Bda():0;return {xOc:q,dwa:h,mI:p,T1:m,wcd:(l || 0) + q - (void 0 !== k?k:q)};};e.prototype.uLc=function(h){(0,c.assert)(void 0 !== this.gl);(0,c.assert)(void 0 !== this.uA);(0,c.assert)(void 0 !== this.Od);(0,c.assert)(void 0 !== this.VM);if(!this.V1)return Array.from({length:this.Od},function(){return h.gD;});for(var k=[],l=this.uA + (this.U1?4:0),m=0;m < this.Od;(++m,l+=this.VM))k.push(this.N.view.getUint32(l,!1));return k;};e.prototype.qLc=function(){var h,m;(0,c.assert)(void 0 !== this.gl);(0,c.assert)(void 0 !== this.uA);(0,c.assert)(void 0 !== this.Od);(0,c.assert)(void 0 !== this.VM);h=[];if(this.ewa)for(var k=this.uA + (this.U1?4:0) + (this.V1?4:0),l=0;l < this.Od;(++l,k+=this.VM)){m=this.N.view.getUint32(k,!1);2 !== e.RLb(m) && e.SLb(m) || h.push(l);}else !this.c$ || 2 !== e.RLb(this.hQa) && e.SLb(this.hQa) || h.push(0);return h;};e.prototype.na=function(h,k,l,m,p,q,r){var u,v,w,x;(0,c.assert)(void 0 !== this.gl);(0,c.assert)(void 0 !== this.uA);(0,c.assert)(void 0 !== this.ILa);(0,c.assert)(void 0 !== this.Od);(0,c.assert)(void 0 !== h.dA);u=0;v=0;this.vc.offset=this.uA;for(m=0;m < p;++m){w=this.Pka(k,x,v);if(0 === m)x=w.xOc;u+=w.mI;v+=w.T1;}m=p;p=this.N.offset;w=this.Pka(k,x,v);this.r_a=r;this.l2=m;this.eOb=v;if(r){if((this.MKb=this.gl + u,this.E1=0,m === this.Od))return !0;}else if((this.MKb=this.gl,this.E1=u,0 === m))return !0;if(0 === m || m === this.Od)return !1;this.Wna=!0;if(r){this.E1+=w.mI;for(r=m + 1;r < this.Od;++r)(w=this.Pka(k,x,v),this.E1+=w.mI);this.vc.offset=this.ILa;this.Od=m;this.vc.Kn(this.Od);this.vc.t4a(q);this.c$ && (this.N.offset+=4);this.Wq(this.length - (p - this.startOffset),p);}else (k=p - this.uA,this.uA=p,this.vc.offset=this.ILa,this.Od-=m,this.vc.Kn(this.Od),this.gl+=u,this.vc.t4a(q,this.gl),this.c$ && (this.N.offset+=4),this.Wq(k,this.vc.offset));null === l || void 0 === l?void 0:l.Wq(this.E1,h.dA + this.MKb);return !0;};e.prototype.fDc=function(h,k,l,m,p,q,r,u){var v,x,y,A,z;void 0 === r && (r=!1);(0,c.assert)(void 0 !== this.gl);(0,c.assert)(void 0 !== this.uA);(0,c.assert)(void 0 !== this.Od);(0,c.assert)(void 0 !== this.VM);(0,c.assert)(void 0 !== h.dA);for(var w=m.length;w < this.Od;++w)m[w]=m[w - 1];m.some(function(B){return 0 >= B;}) && (x=null === (v=this.d3b(p,q)) || void 0 === v?void 0:v.Nwa);this.N.offset=this.uA;h=h.dA + this.gl;p=-1 !== p.indexOf("xheaac")?"xheaac":-1 !== p.indexOf("heaac")?"aac":"ddp";q=new Uint8Array(this.N.view.buffer,this.N.view.byteOffset,this.N.view.byteLength);for(w=0;w < this.Od;++w){v=this.Pka(k).mI;if(-Infinity === m[w]){if(x && this.V1){l.Iva(v,x,h);y=this.VM - (this.U1?4:0);this.vc.offset-=y;this.vc.Kn(x.byteLength);this.vc.offset+=y - 4;}}else if(0 > m[w])try{A=q.subarray(h,h + v);z=(0,n.omc)({Xc:p,frame:A,gG:m[w],ST:r,pS:u}).Ync;z !== v && this.N.console.error(("TrackRunBoxEditor: parse frame size error ").concat(z," should be ").concat(v));}catch(B){this.N.console.error(("TrackRunBoxEditor: fadeFrame error: ").concat(B.message," ").concat(B.stack));}h+=v;}};e.prototype.d3b=function(h,k){if("string" === typeof k)return ((0,c.assert)("reset" !== k && "standard" !== k),f.OP[k]);if(void 0 !== h)return k?f.OP.reset[h] || f.OP.standard[h]:f.OP.standard[h];};e.we="trun";e.xd=!1;return e;})(a(72905).Bf);b.k6=t;},41192:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.E4a=b.M7a=b.Q9a=b.c$a=b.I4a=b.H4a=b.G4a=b.F4a=void 0;d=a(22970);t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.prototype.parse=function(f){n.prototype.parse.call(this,f);this.Nc=this.pE([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{V9c:"int32"},{efd:"int32"},{offset:32,type:"offset"},{I8c:"int16"},{G6c:{type:"int8",T7b:32}},{depth:"int16"},{offset:16,type:"offset"}]);if(null === f || void 0 === f?0:f.Yd)(f.Yd.width=this.Nc.width,f.Yd.height=this.Nc.height);return !0;};c.xd=!0;return c;})(a(71724).default);b["default"]=t;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.we="avc1";return c;})(t);b.F4a=a;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.we="avc2";return c;})(t);b.G4a=a;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.we="avc3";return c;})(t);b.H4a=a;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.we="avc4";return c;})(t);b.I4a=a;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.we="hvc1";return c;})(t);b.c$a=a;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.we="hev1";return c;})(t);b.Q9a=a;a=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.we="dvhe";return c;})(t);b.M7a=a;t=(function(n){function c(){return null !== n && n.apply(this,arguments) || this;}d.__extends(c,n);c.we="av01";return c;})(t);b.E4a=t;},25564:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.J3=void 0;d=a(22970);n=a(72905);c=a(32296);t=(function(f){function g(e,h,k,l,m){k=f.call(this,k,l,m) || this;k.N9b=e;k.s2=h;k.Ke={};return k;}d.__extends(g,f);g.prototype.parse=function(e){var h,k,l,m,p,q;this.offset=0;h=[];e=e || ({});for(e.Yd=e.Yd || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){k=this.offset;l=this.$b();if(0 === l)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};m=(0,c.xJ)(this.$b());if(null === m)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === m){if(16 > this.view.byteLength - this.offset)break;m=this.xva();}if(0 === h.length && this.s2.Jvb(m,k,l)){this.offset=k;break;}if(k + l > this.view.byteLength){this.offset=k;break;}p=this.N9b[m];q=void 0;if(p){if((q=new p(this,m,k,l,h[0]),(h[0] || this).y7(q),q.parse(e)))this.config.rua && p.xd?h.unshift(q):this.offset=k + l;else return {done:!1,offset:this.offset,error:"parse error in " + m + " box"};}else this.offset=k + l;for(;h.length && this.offset > h[0].byteOffset + h[0].RS - 8;){q=h.shift();if(!q.TG(e))return {done:!1,offset:this.offset,error:"finalize error in " + q.type + " box"};this.offset=q.byteOffset + q.RS;}if(0 === h.length && this.s2.Usb(m,k,l,q))break;}return !this.s2.done && (e=this.s2.endOffset?this.s2.endOffset - this.view.byteLength:4096,0 < e)?{done:!1,offset:this.offset,sFb:e}:{done:!0,offset:Math.min(this.s2.endOffset || Infinity,this.offset)};};g.prototype.y7=function(e){n.Bf.y7(this,e);};return g;})(a(56445).Jib);b.J3=t;},2050:function(t){var d,n;function b(){var c,f;if(DataView.prototype && DataView.prototype.faa && !n){try{c=new ArrayBuffer(4);f=new DataView(c);f.f_(0,4,1);}catch(g){return;}try{c=new ArrayBuffer(4);f=new DataView(c);f.f_(1,2,2);}catch(g){DataView.prototype.f_=a(DataView.prototype.f_,DataView.prototype.getUint8,Uint8Array);DataView.prototype.Xpa=a(DataView.prototype.Xpa,DataView.prototype.getUint16,Uint16Array);DataView.prototype.faa=a(DataView.prototype.faa,DataView.prototype.getUint32,Uint32Array);DataView.prototype.uRa=a(DataView.prototype.uRa,DataView.prototype.getInt8,Int8Array);DataView.prototype.sRa=a(DataView.prototype.sRa,DataView.prototype.getInt16,Int16Array);DataView.prototype.tRa=a(DataView.prototype.tRa,DataView.prototype.getInt32,Int32Array);}d.xtc=function(g,e,h,k,l){return h?g.f_(e,h,k || 1,l):new Uint8Array(0);};d.vtc=function(g,e,h,k,l){return h?g.Xpa(e,h,k || 2,l):new Uint16Array(0);};d.wtc=function(g,e,h,k,l){return h?g.faa(e,h,k || 4,l):new Uint32Array(0);};d.l9c=function(g,e,h,k,l){return h?g.uRa(e,h,k || 1,l):new Int8Array(0);};d.j9c=function(g,e,h,k,l){return h?g.sRa(e,h,k || 2,l):new Int16Array(0);};d.k9c=function(g,e,h,k,l){return h?g.tRa(e,h,k || 4,l):new Int32Array(0);};n=!0;}}function a(c,f,g){return function(e,h,k,l){var m;k=k || g.BYTES_PER_ELEMENT;if(e + h * k > this.byteLength){m=new g(h);m.set(c.call(this,e,h - 1,k,l));m[h - 1]=f.call(this,e + (h - 1 * k),l);return m;}return c.call(this,e,h,k,l);};}d={f_:function(c,f,g,e,h){var k;k=new Uint8Array(g);e=e || 1;for(var l=0;l < g;(++l,f+=e))k[l]=c.getUint8(f,h);return k;},Xpa:function(c,f,g,e,h){var k;k=new Uint16Array(g);e=e || 2;for(var l=0;l < g;(++l,f+=e))k[l]=c.getUint16(f,h);return k;},faa:function(c,f,g,e,h){var k;k=new Uint32Array(g);e=e || 4;for(var l=0;l < g;(++l,f+=e))k[l]=c.getUint32(f,h);return k;},uRa:function(c,f,g,e,h){var k;k=new Int8Array(g);e=e || 1;for(var l=0;l < g;(++l,f+=e))k[l]=c.getInt8(f,h);return k;},sRa:function(c,f,g,e,h){var k;k=new Int16Array(g);e=e || 2;for(var l=0;l < g;(++l,f+=e))k[l]=c.getInt16(f,h);return k;},tRa:function(c,f,g,e,h){var k;k=new Int32Array(g);e=e || 4;for(var l=0;l < g;(++l,f+=e))k[l]=c.getInt32(f,h);return k;},o8c:b};n=!1;d.Npc=function(){return n;};b();t.exports=d;},59909:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.yAa=void 0;d=a(22970);n=a(72905);t=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.parse=function(g){var e;this.Fta=this.N.Ad();e=this.N.Ad();this.a2a=e >>> 2;this.u3a=e >>> 1 & 1;this.QLa=256 * this.N.hg() + this.N.Ad();this.maxBitrate=this.N.$b();this.ema=this.N.$b();n.l && this.N.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.Fta.toString(16) + ", streamType=" + this.a2a + ", upStream=" + this.u3a + ", bufferSizeDB=" + this.QLa + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.ema);if(null === g || void 0 === g?0:g.Pl)(g.Pl.Fta=this.Fta,g.Pl.a2a=this.a2a,g.Pl.u3a=this.u3a,g.Pl.QLa=this.QLa,g.Pl.maxBitrate=this.maxBitrate,g.Pl.ema=this.ema);this.Kkb(g);return !0;};f.tag=4;return f;})(a(91578).qha);b.yAa=t;},27364:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.R7a=void 0;d=a(22970);n=a(72905);t=a(91578);c=a(47887);a=(function(f){function g(){return null !== f && f.apply(this,arguments) || this;}d.__extends(g,f);g.prototype.wva=function(){var e;e=this.N.eb(4);return 15 !== e?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][e]:this.N.eb(24);};g.prototype.parse=function(e,h){if(this.Vwc(h) && 64 === h.Fta){if(null === e || void 0 === e?0:e.Pl){h=this.N.Bwb(this.length);for(var k=new ArrayBuffer(this.length),l=new Uint8Array(k),m=0;m < this.length;m++)l[m]=h.getUint8(m);e.Pl.j7c=k;}h=this.N.offset;this.Cv=this.$Za();this.fwa=this.wva();this.qMa=this.N.eb(4);this.g0a=this.oZ=5 === this.Cv || 29 === this.Cv?5:-1;this.nva=29 === this.Cv?1:-1;0 < this.oZ && (this.R9=this.wva(),this.Cv=this.$Za(),22 === this.Cv && (this.zoa=this.N.eb(4)));switch(this.Cv){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.j$=this.N.eb(1),this.tNa=(this.fic=this.N.eb(1))?this.N.eb(14):void 0,this.N.eb(1),this.aR=3 === this.Cv?256:23 === this.Cv?this.j$?480:512:this.j$?960:1024);}l=8 * (this.length - (this.N.offset - h)) + this.N.oe;5 !== this.oZ && 16 <= l && (l=this.N.eb(11),695 === l && (k=this.$Za(),5 === k && (l=this.N.eb(1),1 === l && (this.R9=this.wva(),l=8 * (this.length - (this.N.offset - h)) + this.N.oe,12 <= l && (l=this.N.eb(11),1352 === l && (this.nva=this.N.eb(1))))),22 === k && (l=this.N.eb(1),1 === l && (this.R9=this.wva()),this.zoa=this.N.eb(4))));n.l && this.N.console.trace("AudioSpecificConfig: audioObjectType=" + this.Cv + ", samplingFrequency=" + this.fwa + ", channelConfiguration=" + this.qMa + ", extensionAudioObjectType=" + this.oZ + ", sbrPresentFlag=" + this.g0a + ", psPresentFlag=" + this.nva + ", extensionSamplingFrequency=" + this.R9 + ", extensionChannelConfiguration=" + this.zoa + ", frameLengthFlag=" + this.j$ + ", coreCoderDelay=" + this.tNa + ", frameLength=" + this.aR);if(null === e || void 0 === e?0:e.Pl)(e.Pl.Cv=this.Cv,e.Pl.fwa=this.fwa,e.Pl.qMa=this.qMa,e.Pl.oZ=this.oZ,e.Pl.g0a=this.g0a,e.Pl.nva=this.nva,e.Pl.R9=this.R9,e.Pl.zoa=this.zoa,e.Pl.j$=this.j$,e.Pl.tNa=this.tNa,e.Pl.aR=this.aR);}this.skip();return !0;};g.prototype.$Za=function(){var e;e=this.N.eb(5);31 === e && (e=32 + this.N.eb(6));return e;};g.prototype.Vwc=function(e){return e.tag === c.yAa.tag;};g.tag=5;return g;})(t.qha);b.R7a=a;},91578:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.qha=void 0;d=a(22970);n=a(47887);t=(function(){function c(f,g,e){this.tag=f;this.view=g;this.N=e;this.startOffset=e.offset;}c.UJb=function(f,g,e){var h,k;h=f.Ad();k=f.rLc();f=new (n.qQ[h] || c)(h,f.Bwb(k),f);f.parse(g,e);return f;};Object.defineProperties(c.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!1,configurable:!0}});c.prototype.parse=function(){this.N.offset=this.startOffset + this.length;this.N.oe=0;return !0;};c.prototype.Uub=function(f){var g,h;g=[];this.tag === f && g.push(this);if(this.qQ)for(var e=0;e < this.qQ.length;e++){h=this.qQ[e];g=d.__spreadArray(d.__spreadArray([],g,!0),h.Uub(f),!0);}return g;};c.prototype.$m=function(f){for(f=this.Uub(f);0 < f.length;)return f[0];};c.prototype.Kkb=function(f){for(this.qQ=[];this.N.offset < this.startOffset + this.length;)this.qQ.push(c.UJb(this.N,f,this));};return c;})();b.qha=t;t.prototype.skip=t.prototype.parse;},47887:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.qQ=void 0;t=a(22970);t.__exportStar(a(91578),b);t.__exportStar(a(48823),b);t.__exportStar(a(59909),b);t.__exportStar(a(27364),b);t=a(59909);d=a(27364);a=a(48823);b.qQ={3:a.ZAa,4:t.yAa,5:d.R7a};},48823:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.ZAa=void 0;d=a(22970);n=a(72905);t=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.parse=function(g){var e;this.qWb=this.N.hg();e=this.N.Ad();this.ROb=!!(e & 128);this.oib=!!(e & 64);this.edb=!!(e & 32);this.fTc=e & 31;this.gic=this.ROb?this.N.hg():void 0;this.oib && this.N.zT(this.N.Ad());this.xZb=this.edb?this.N.hg():void 0;n.l && this.N.console.trace("ESDescriptor: ES_ID=" + this.qWb + ", streamDependenceFlag=" + this.ROb + ", URL_Flag=" + this.oib + ", OCRstreamFlag=" + this.edb + ", streamPriority=" + this.fTc + ", dependsOn_ES_ID=" + this.gic + ", OCR_ES_Id=" + this.xZb);this.Kkb(g);return !0;};f.tag=3;return f;})(a(91578).qha);b.ZAa=t;},91562:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r,u,v,w;Object.defineProperties(b,{__esModule:{value:!0}});b.Oja=b.uja=b.a6=b.uW=b.xia=b.eW=b.u=b.OP=b.vja=b.zHa=b.SVb=b.k6=b.Whb=b.Xhb=b.dcb=b.xJ=b.gJ=b.l5=b.E5=b.T_=b.yz=b.xz=b.vm=void 0;t=a(98516);d=a(2050);b.SVb=d;d=a(24500);b.zHa=d;d=a(66988);b.OP=d;b.vja=t.r0.Ke.sidx;n=a(43607);Object.defineProperties(b,{vm:{enumerable:!0,get:function(){return n.vm;}}});c=a(87349);Object.defineProperties(b,{xz:{enumerable:!0,get:function(){return c.xz;}}});f=a(66789);Object.defineProperties(b,{yz:{enumerable:!0,get:function(){return f.yz;}}});Object.defineProperties(b,{T_:{enumerable:!0,get:function(){return f.T_;}}});g=a(72978);Object.defineProperties(b,{E5:{enumerable:!0,get:function(){return g.E5;}}});e=a(47407);Object.defineProperties(b,{l5:{enumerable:!0,get:function(){return e.l5;}}});h=a(35982);Object.defineProperties(b,{gJ:{enumerable:!0,get:function(){return h.gJ;}}});k=a(32296);Object.defineProperties(b,{xJ:{enumerable:!0,get:function(){return k.xJ;}}});l=a(98516);Object.defineProperties(b,{dcb:{enumerable:!0,get:function(){return l.dcb;}}});Object.defineProperties(b,{Xhb:{enumerable:!0,get:function(){return l.Xhb;}}});Object.defineProperties(b,{Whb:{enumerable:!0,get:function(){return l.Whb;}}});m=a(70179);Object.defineProperties(b,{k6:{enumerable:!0,get:function(){return m.k6;}}});p=a(61049);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return p.u;}}});q=a(11526);Object.defineProperties(b,{eW:{enumerable:!0,get:function(){return q.eW;}}});r=a(80735);Object.defineProperties(b,{xia:{enumerable:!0,get:function(){return r.xia;}}});u=a(42328);Object.defineProperties(b,{uW:{enumerable:!0,get:function(){return u.uW;}}});Object.defineProperties(b,{a6:{enumerable:!0,get:function(){return u.a6;}}});v=a(51061);Object.defineProperties(b,{uja:{enumerable:!0,get:function(){return v.uja;}}});w=a(44248);Object.defineProperties(b,{Oja:{enumerable:!0,get:function(){return w.Oja;}}});},47407:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.l5=void 0;d=a(22970);t=a(87349);n=a(89931);a=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.na=function(g){var e,h,k,l;e=this;if(!this.parse().done)return !1;h=this.Ke.moov;if(!h || 0 === h.length)return !1;k=h[0].$m("tenc");if(!k)return !1;l=new Uint8Array(k.YA);g.forEach(function(m){for(var p=m.from,q=!0,r=0;r < p.length;r++)if(l[r] !== p[r]){q=!1;break;}q && e.Me.Iva(m.from.length,m.to,k.YUa);});return (0,n.concat)(this.Me.na().Ma);};return f;})(t.xz);b.l5=a;},61049:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.u=void 0;d=a(26388);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return d.u;}}});},98516:function(t,b,a){var D,E,H,F,G,J,L,K,M,P,I,O,Q,T,U,X,Y,W,Z,ba,ca,da,ia,S,N,V,aa,fa,ha,ka,pa,oa,la,R,ea,ja,sa,ta,qa,Aa,Ga;function d(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);}function n(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);}function c(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);}function f(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);this.B1a=na.config.B1a;this.fg=this.sizes=void 0;}function g(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);}function e(){for(var na=new DataView(this),va="",xa,ra=0;ra < this.byteLength;ra++)(xa=na.getUint8(ra),va+=("00" + xa.toString(16)).slice(-2));return va;}function h(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);}function k(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);}function l(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);}function m(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);}function p(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);}function q(na){function va(xa,ra,ya,Ca,Ja){F.call(this,xa,ra,ya,Ca,Ja);this.ODc=na;}va.xd=!1;va.prototype=new F();va.prototype.constructor=va;Object.defineProperties(va.prototype,{L7a:{get:function(){return this.ODc;}}});va.prototype.parse=function(){this.N.offset=this.startOffset + 4;this.vc.q4a(this.L7a);this.type=this.L7a;return !0;};return va;}function r(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);}function u(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);}function v(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);}function w(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);}function x(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);}function y(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);}function A(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);}function z(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);}function B(na,va,xa,ra,ya){F.call(this,na,va,xa,ra,ya);}function C(na,va){na.forEach(function(xa){va[xa.we]=xa;});}D=a(93334).assert;b=a(75589);E=a(49420).I;H=a(24500);a(2050);a(32296);a(32296);a(32296);F=a(72905).Bf;G=a(71368)["default"];J=a(95797)["default"];L=a(85571)["default"];K=a(45645)["default"];M=a(35503)["default"];P=a(29973)["default"];I=a(19234)["default"];O=a(28721)["default"];Q=a(84379)["default"];a(71724);a(70428);T=a(40755).x4a;U=a(40755).s8a;X=a(26856)["default"];Y=a(29043)["default"];W=a(41192)["default"];Z=a(41192).F4a;ba=a(41192).G4a;ca=a(41192).H4a;da=a(41192).I4a;ia=a(41116)["default"];S=a(18319)["default"];N=a(56226)["default"];V=a(87206)["default"];aa=a(41192).c$a;fa=a(41192).Q9a;ha=a(41192).M7a;ka=a(41192).E4a;pa=a(97066)["default"];oa=a(96345)["default"];la=a(31025)["default"];R=a(91056)["default"];ea=a(64280)["default"];a(91578);a(59909);a(27364);a(48823);ja=a(30717)["default"];sa=a(70179).k6;ta=a(89362)["default"];qa=a(96989)["default"];Aa=a(23471)["default"];Ga=a(16530)["default"];a=a(53158)["default"];d.xd=!0;d.prototype=new F();d.prototype.constructor=d;n.xd=!0;n.prototype=new F();n.prototype.constructor=n;c.xd=!1;c.prototype=new F();c.prototype.constructor=c;c.prototype.parse=function(na){var va;this.gi();1 === this.version?(this.N.cm(),this.N.cm(),this.O=this.N.$b(),this.duration=this.N.cm()):(this.N.$b(),this.N.$b(),this.O=this.N.$b(),this.duration=this.N.$b());va=this.N.hg() & 32767;this.language=String.fromCharCode(96 + (va >>> 10),96 + (va >>> 5 & 31),96 + (va & 31));na && na.Yd && (na.Yd.O=this.O,na.Yd.duration=this.duration);return !0;};f.xd=!1;f.prototype=new F();f.prototype.constructor=f;f.prototype.p4b=function(){this.gi();this.N.$b();this.O=this.N.$b();0 === this.version?(this.jtb=this.N.$b(),this.rvb=this.N.$b()):(this.jtb=this.N.cm(),this.rvb=this.N.cm());this.fLb=this.N.hg();this.oKb=this.N.hg();};f.prototype.u2b=function(na,va){var xa,ra,ya;xa=this.O;na=na && na.O || xa;ra=na / xa;xa=this.N.vva(va,12,!1);ya=1 === ra?this.N.vva(va,12,!1):H.from(Uint32Array,{length:va},function(){var Ca;Ca=Math.round(this.N.$b() * ra);this.N.offset+=8;return Ca;},this);this.f5b(va,ya,xa,na);};f.prototype.f5b=function(na,va,xa,ra){if(this.B1a){ra=this.B1a * ra / 1E3;for(var ya=0,Ca=1;Ca < na;Ca++)Math.abs(va[ya] - ra) > Math.abs(va[ya] + va[Ca] - ra)?(va[ya]+=va[Ca],xa[ya]+=xa[Ca]):(++ya,ya !== Ca && (va[ya]=va[Ca],xa[ya]=xa[Ca]));++ya;va=new Uint32Array(va.buffer.slice(0,4 * ya));xa=new Uint32Array(xa.buffer.slice(0,4 * ya));}this.sizes=xa;this.fg=va;};f.prototype.parse=function(na){var va,xa,ra,ya;this.p4b();this.Ea=na.Ea;va=this.O;xa=this.Ea && this.Ea.O || va;ra=this.oKb;ya=this.startOffset + this.length + this.rvb;va=new E(this.jtb,va).Kc(xa).$;this.Oa={O:xa,Ou:va,offset:ya};this.u2b(this.Ea,ra);this.Oa.fg=this.fg;this.Oa.sizes=this.sizes;na.Bo=this;return !0;};g.xd=!1;g.prototype=new F();g.prototype.constructor=g;g.prototype.parse=function(){var na;this.PE=[];this.iIc=[];na=(this.length - 11) / 2;this.N.Ad();this.N.Ad();this.N.Ad();for(var va=0;va < na;va++)(this.PE.push(this.N.Ad()),this.iIc.push(this.N.Ad()));return !0;};h.xd=!1;h.prototype=new F();h.prototype.constructor=h;h.prototype.parse=function(na){var va;this.gi();this.N.offset+=1;if(0 == this.version)this.N.offset+=1;else {va=this.N.Ad();this.Shc=va >> 4;this.Whc=va & 15;na && na.Yd && (na.Yd.o7c=this.Shc,na.Yd.r7c=this.Whc);}this.ksb=this.N.Ad();this.isb=this.N.Ad();this.YUa=this.N.offset;this.YA=this.N.u1(16);this.YA.toString=e;na && na.Yd && (na.Yd.p7c=this.ksb,na.Yd.jsb=this.isb,na.Yd.q7c=this.YA);1 == this.ksb && 0 == this.isb && (this.Rhc=this.N.Ad(),this.Qhc=this.N.u1(this.Rhc),na && na.Yd && (na.Yd.Thc=this.Qhc));return !0;};k.xd=!1;k.prototype=new F();k.prototype.constructor=k;k.prototype.parse=function(){this.gi();this.Rv=this.N.hg();this.gCc=this.N.vva(this.Rv,void 0,!0);return !0;};l.xd=!1;l.prototype=new F();l.prototype.constructor=l;l.prototype.parse=function(na){var va,xa,ra,ya,Ca,Ja;va=na.Bo;D(va);na=na.Ea;xa=va.O;va=va.oKb;D(na);D(xa);D(va);this.gi();D(2 > this.version);this.Rv=this.N.hg();this.i1=new Uint16Array(va + 1);ra=na.Ayb(xa);ya=ra / xa;Ca=na.Kc(ra).$;if(0 === this.version)for((this.S1=new Uint16Array(),this.Kf=new Uint32Array(),na=xa=0);na <= va;++na){if((this.i1[na]=xa,na < this.Rv)){Ja=this.N.Ad();if(0 !== Ja)for(ra=0;ra < Ja;(++ra,++xa))(this.S1[xa]=Math.floor((this.N.$b() + 1) * ya) / Ca,this.Kf[xa]=this.N.$b());}}else if(1 === this.version)for((ra=this.N.nLc(this.Rv),this.N.offset+=4,this.Kf=this.N.vva(this.Rv,10,!1),this.N.offset-=8,this.S1=H.from(Uint16Array,{length:this.Rv},function(){var Ka;Ka=Math.floor((this.N.$b() + 1) * ya) / Ca;this.N.offset+=6;return Ka;},this),xa=na=0);na <= va;++na){for(;xa < ra.length && ra[xa] < na;)++xa;this.i1[na]=xa;}this.Km={i1:this.i1,S1:this.S1,Kf:this.Kf};return !0;};m.xd=!0;m.prototype=Object.create(d.prototype);m.prototype.constructor=m;p.xd=!0;p.prototype=Object.create(d.prototype);p.prototype.constructor=p;p.prototype.TG=function(){var na;na=this.qt("tfhd");na && (this.dA=na.Qnb?na.dA:this.parent.startOffset);return !0;};r.xd=!1;r.prototype=new F();r.prototype.constructor=r;r.prototype.parse=function(){var na,Oa;na=this.N.offset;this.gi();if(1 === this.version){this.N.offset+=2;for(var va=this.N.offset,xa=this.N.Ad(),ra=this.N.Ad(),ya=this.N.Ad(),Ca=this.N.Ad(),Ja=this.N.hg(),Ka=[],La=0;La < Ja;++La)Ka=this.N.Ad();La=(xa & 240) >>> 4;Oa=(xa & 14) >>> 1;xa&=1;ya=16 === ya?1:0;ra != Ca && this.N.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + ra + " and matrixCoefficients " + Ca + " should be the same value!");Ca=2;switch(ra){case 1:Ca=2;break;case 6:Ca=1;break;case 9:Ca=5;break;default:this.N.console.warn("VP9: Unknown colourPrimaries " + ra + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.vc.Oh(this.version,na);this.vc.Oh(La << 4 | Ca,va++);this.vc.Oh(Oa << 4 | ya << 1 | xa,va++);Ja+=2;Ka.push(0,0);this.vc.fV(Ja,!1);va+=2;Ka.forEach(function(Na){this.vc.Oh(Na,va++);});}return !0;};u.xd=!1;u.prototype=new F();u.prototype.constructor=u;u.we="tfhd";Object.defineProperties(u.prototype,{Qnb:{get:function(){return this.flags & 1;}},zOc:{get:function(){return this.flags & 2;}},Uhc:{get:function(){return this.flags & 8;}},Vhc:{get:function(){return this.flags & 16;}},lsb:{get:function(){return this.flags & 32;}}});u.prototype.parse=function(na){this.gi();this.T2=this.N.$b();this.dA=this.Qnb?this.N.cm():void 0;this.QLb=this.zOc?this.N.$b():void 0;this.fD=this.Uhc?this.N.$b():void 0;this.gD=this.Vhc?this.N.$b():void 0;this.CG=this.lsb?this.N.$b():void 0;na && na.Ma && (na.Ma.T2=this.T2,na.Ma.dA=this.dA,na.Ma.QLb=this.QLb,na.Ma.fD=this.fD,na.Ma.gD=this.gD,na.Ma.CG=this.lsb?this.CG:void 0);return !0;};v.xd=!1;v.prototype=new F();v.prototype.constructor=v;v.prototype.parse=function(na){this.gi();this.iG=1 === this.version?this.N.cm():this.N.$b();na && na.Ma && (na.Ma.iG=this.iG);return !0;};v.prototype.na=function(na){var va;va=this.startOffset + 12;this.iG+=na;1 === this.version?this.vc.USb(this.iG,va):this.vc.Kn(this.iG,va);};w.xd=!1;w.prototype=Object.create(F.prototype);w.prototype.constructor=w;Object.defineProperties(w.prototype,{PP:{get:function(){return this.flags & 1;}}});w.prototype.parse=function(na){this.gi();this.PP && this.N.EB();this.PP && this.N.$b();this.lOa=this.N.Ad();this.Od=this.N.$b();0 === this.lOa && this.N.zT(this.Od);na && na.Ma && (na.Ma.uOc=this.Od);return !0;};w.prototype.na=function(na,va){if(na){na=va?this.Od - na:na;this.vc.offset=this.startOffset + 13 + (this.PP?8:0);this.Od-=na;this.vc.Kn(this.Od);if(0 !== this.lOa){this.bwa=va?0:this.lOa * na;return;}this.bwa=0;if(va)this.vc.offset+=this.Od;else {for(va=0;va < na;++va)this.bwa+=this.vc.Ad();this.vc.offset-=na;}this.Wq(na,this.N.offset);}return !0;};x.xd=!1;x.prototype=Object.create(F.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{PP:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(na){var va,xa,La,Oa;this.gi();this.PP && this.N.EB();this.PP && this.N.$b();this.Rv=this.N.$b();D(1 === this.Rv,"Expected a single entry in Sample Auxiliary Information Offsets box");this.gl=0 === this.version?this.N.Bda():this.N.YJb();this.N.offset=this.gl;if(na && na.Ma && na.Yd){va=na.Yd.jsb;xa=na.Ma.uOc;D(0 < va || void 0 !== na.Yd.Thc,"Expected per sample or constant IV");D(0 < xa,"Expected saix box parsing to find sample count");na.Ma.XT=[];for(var ra=0;ra < xa;ra++){for(var ya=va?this.N.u1(va):void 0,Ca=[],Ja=this.N.hg(),Ka=0;Ka < Ja;Ka++){La=this.N.hg();Oa=this.N.$b();Ca.push({z$b:La,A$b:Oa});}na.Ma.XT.push({i2a:Ca,eCa:ya});}}return !0;};x.prototype.na=function(na,va){this.gl+=na;this.vc.offset=this.startOffset + 16 + (this.PP?8:0) + (0 === this.version?0:4);this.vc.t4a(va,this.gl);return !0;};y.xd=!1;y.prototype=Object.create(F.prototype);y.prototype.constructor=y;A.xd=!1;A.prototype=Object.create(y.prototype);A.prototype.constructor=A;Object.defineProperties(y.prototype,{oYa:{get:function(){return !1;}},WRb:{get:function(){return this.flags & 2;}}});Object.defineProperties(A.prototype,{oYa:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(na){var va,xa,Ca,Ja;this.gi();xa=null === (va=null === na || void 0 === na?void 0:na.Yd) || void 0 === va?void 0:va.jsb;this.EL=void 0 !== xa?xa:8;this.oYa && (this.EL=this.N.$b() & 255,this.kid=this.N.zT(16));if(na && na.Ma){if(na.Ma.XT)return !0;na.Ma.sl || (na.Ma.sl=[]);}if(0 !== this.EL && 8 !== this.EL && 16 !== this.EL)return !0;this.Od=this.N.$b();if(na && na.Ma)for(va=0;va < this.Od;va++)if((na.Ma.sl[va].eCa=0 < this.EL?this.N.u1(this.EL):void 0,this.WRb)){xa=[];for(var ra=this.N.hg(),ya=0;ya < ra;ya++){Ca=this.N.hg();Ja=this.N.$b();xa.push({z$b:Ca,A$b:Ja});}na.Ma.sl[va].i2a=xa;}return !0;};A.prototype.na=function(na,va){return y.prototype.na.call(this,na,va,28 + (this.oYa?20:0));};y.prototype.na=function(na,va,xa){var ra;na=va?this.Od - na:na;this.vc.offset=this.startOffset + (xa || 12);this.Od-=na;this.vc.Kn(this.Od);xa=this.vc.offset;if(this.WRb)for(na=va?this.Od:na;0 < na;--na){this.vc.offset+=this.EL;ra=this.vc.hg();this.vc.offset+=6 * ra;}else this.vc.offset+=this.EL * (va?this.Od:na);va?this.Wq(this.length - (this.N.offset - this.startOffset),this.N.offset):this.Wq(this.N.offset - xa,xa);};z.xd=!1;z.prototype=Object.create(F.prototype);z.prototype.constructor=z;z.prototype.parse=function(na){this.gi();if(na && na.Ma){void 0 === na.Ma.sl && (na.Ma.sl=[]);for(var va=0;va < this.length - 12;va++)na.Ma.sl[va].ddd=this.N.Ad();}return !0;};z.prototype.na=function(na,va,xa){if(this.length - 12 !== va)return !0;xa?this.Wq(va - na,this.startOffset + 12 + na):this.Wq(na,this.startOffset + 12);return !0;};B.xd=!1;B.prototype=Object.create(F.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.gi();this.N.EB();1 === this.version && this.N.$b();this.Rv=this.N.$b();this.lea=[];for(var na=0;na < this.Rv;++na)for(var va=this.N.$b(),xa=this.N.$b(),ra=0;ra < va;++ra)this.lea.push(xa);return !0;};B.prototype.na=function(na,va){this.lea=va?this.lea.slice(0,na):this.lea.slice(na);na=this.lea.reduce(function(xa,ra){0 !== xa.length && xa[xa.length - 1].group === ra || xa.push({group:ra,count:0});++xa[xa.length - 1].count;return xa;},[]);this.vc.offset=this.startOffset + 16 + (1 === this.version?4:0);this.vc.Kn(na.length);na.forEach((function(xa){this.vc.Kn(xa.count);this.vc.Kn(xa.group);}).bind(this));this.Rv > na.length && this.Wq(8 * (this.Rv - na.length));this.Rv=na.length;return !0;};W={Ke:{moov:n,trak:d,mdia:d,mdhd:c,minf:d,encv:W,schi:d,sidx:f,sinf:d,senc:y,stbl:d,tenc:h,mvex:d,moof:m,traf:p,tfhd:u,trun:sa,sbgp:B,sdtp:z,saiz:w,saio:x,tfdt:v,mdat:Ga,vmaf:g,edts:d},lVc:{vpcC:r,SmDm:q("smdm"),CoLL:q("coll")},xQb:{schm:ia},e0a:{}};C([S,N,P,a,qa,I,ta,O,aa,fa,ha,V,ka,G,K,R,ea,M,Q,J,L,ja,sa],W.Ke);C([T,X,Z,ba,ca,da,U,Y,oa,pa,Aa],W.e0a);C([S,ia],W.xQb);W.Ke[b.Ddb]=h;W.Ke[b.qia]=k;W.Ke[b.pia]=l;W.Ke[b.Cdb]=A;W.e0a[b.gEa]=la;W.Bf=F;t.exports={r0:W};},66789:function(t,b,a){var n,c,f,g,e,h;function d(k){return "number" === typeof k[0] || void 0 === k[0]?{rl:k[0],O:k[1],gG:k[2],S_a:k[3],ST:k[4]}:k[0];}Object.defineProperties(b,{__esModule:{value:!0}});b.yz=void 0;b.T_=function(k){var l,m;l=new ArrayBuffer(8);m=new DataView(l);m.setUint32(0,k + 8);m.setUint32(4,(0,f.rIa)("mdat"));return l;};n=a(22970);c=a(75589);t=a(87349);f=a(32296);g=a(93334);e=a(72905);h=a(16530);a=(function(k){function l(m,p,q,r){m=k.call(this,m,p,q) || this;m.kQ=r;return m;}n.__extends(l,k);l.prototype.AKb=function(){for(var m=[],p=0;p < arguments.length;p++)m[p]=arguments[p];return this.na(n.__assign(n.__assign({},d(m)),{r_a:!1}));};l.prototype.KKb=function(){for(var m=[],p=0;p < arguments.length;p++)m[p]=arguments[p];return this.na(n.__assign(n.__assign({},d(m)),{r_a:!0}));};l.prototype.na=function(m){var q,r,u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L,K,M,P,I,O;function p(T){z=A[T];B=z.qt("traf");if(void 0 === B || void 0 === B.dA)return !1;H=B.qt("tfdt");if(void 0 === H)return !1;C=B.qt("trun");return void 0 === C?!1:!0;}q=m.rl;r=m.O;u=m.r_a;v=m.gG;w=m.S_a;w=void 0 === w?!1:w;x=m.ST;x=void 0 === x?!1:x;y=m.pS;m=m.Lna;m=void 0 === m?!1:m;if(!this.parse(this.kQ).done)return !1;A=this.Ke.moof;if(!A || 0 === A.length)return !1;if(void 0 !== q){D=q;for(q=0;q < A.length;++q){if(!p(q,this.Me.console.trace))return !1;(0,g.assert)(z && B && H && C && void 0 !== C.Od);if(C.Od > D || u && C.Od === D)break;D-=C.Od;}(0,g.assert)(z && B && H && C);}else if((q=u?A.length - 1:0,!p(q,this.Me.console.trace)))return !1;(0,g.assert)(z && B && H && C);if(u && q < A.length - 1){E=A[q + 1];this.Me.Wq(this.view.byteOffset - E.startOffset,E.startOffset);}else !u && 0 < q && this.Me.Wq(z.startOffset,0);E=B.qt("tfhd");if(void 0 === E)return !1;H=B.qt("tfdt");F=C.Od;G=B.qt("saiz");J=B.qt("saio");L=B.qt(c.Cdb) || B.qt("senc");K=B.qt("sbgp");if(!(!G && !J || G && J))return !1;M=B.qt("sdtp");P=e.Bf.UG(this,"mdat");if(P && q < P.length)I=P[q];else {if(q !== A.length - 1)return !1;if(this.Me.offset <= this.view.byteLength - 8){P=this.Me.offset;O=this.Me.$b();"mdat" === this.Me.EB() && (I=new h.default(this.Me,"mdat",P,O));}}void 0 === D && (D=u?C.Od:0);if("number" === typeof v && 0 < v){P=u?D:C.Od - D;O=Array(P);for(var Q=0;Q < P;++Q)O[Q]=u?Q >= P - v?-Infinity:0:Q < v?-Infinity:0;v=O;}if(C.na(B,E,m?void 0:I || this.Me,r,D,B.dA,u))C.Wna && ((0,g.assert)(void 0 !== C.eOb),(0,g.assert)(void 0 !== C.l2),!u && H && H.na(C.eOb),G && J && (G.na(C.l2,u),J.na(L?0:G.bwa,B.dA)),L && L.na(C.l2,u),M && M.na(C.l2,F,u),K && K.na(C.l2,u));else if(!u){if(q === A.length - 1)return !1;this.Me.Wq(A[q + 1].startOffset - z.startOffset,z.startOffset);}else if(0 === C.l2)return !1;Array.isArray(v) && I && this.stream.profile && void 0 !== w && !m && C.fDc(B,E,I,v,this.stream.profile,w,x,y);u=this.Me.na();r=u.Ma;u=u.OK;v=r.reduce(function(T,U){return T + U.byteLength;},0);return {Ma:r,length:v,RS:this.Me.view.byteLength,OK:u};};return l;})((function(k){function l(m,p,q){return k.call(this,m,p,q) || this;}n.__extends(l,k);return l;})(t.xz));b.yz=a;},72978:function(t,b,a){var n,c,f,g,e,h,k;function d(l){var q;for(var m={},p=l.length - 1;0 <= p;p--){q=l[p];q=("").concat(q.AM,"-").concat(q.id);m[q]?l.splice(p,1):m[q]=!0;}}Object.defineProperties(b,{__esModule:{value:!0}});b.E5=void 0;c=a(22970);f=a(98776);g=a(29770);e=a(25564);t=a(87349);h=a(43607);k=a(48014);a=(function(l){function m(p,q,r){r=l.call(this,p,q,r) || this;r.console=p;r.stream=q;return r;}c.__extends(m,l);m.prototype.parse=function(p){var q,r,u,v,w,x,y,A,z;q=this;r=(null === p || void 0 === p?void 0:p.Ma) || ({});u=l.prototype.parse.call(this,p?c.__assign(c.__assign({},p),{Ma:r}):{Ma:r});if(!u.done || !r.sl || void 0 === r.gl)return u;v=h.vm.path(this,["moof"]);if(!v)return c.__assign(c.__assign({},u),{done:!1});w=(null === p || void 0 === p?void 0:p.events) || [];x=v.byteOffset + r.gl;y=r.iG || 0;r.sl.forEach(function(B){var C,D;C=new DataView(q.view.buffer,q.view.byteOffset + x,B.mI);C=q.rHc(C);D=y + (B.yOc || 0);null !== A && void 0 !== A?A:A=D;z=D + B.T1;C && C.emib && C.emib.forEach(function(E){w.push({AM:D + E.NJc,nZ:E.nZ,id:E.id,WM:E.WM,value:E.value,KH:E.KH});});x+=B.mI;y+=B.T1;});p && p.RPb && (p.RPb.N7c=A,p.RPb.X$c=z);d(w);return u;};m.prototype.rHc=function(p){var q;q=new k.pha(p.byteLength);p=new e.J3(m.Ke,q,p,this.console,{rua:!0});return p.parse().done?p.Ke:void 0;};m.Ke=(n={},n[f.default.we]=f.default,n[g.default.we]=g.default,n);return m;})(t.xz);b.E5=a;},35982:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.gJ=void 0;d=a(32296);n={stsd:16};b.gJ=(function(){function c(){}c.path=function(f,g){var m,p;for(var e=0,h=f.byteLength,k,l=0;l < g.length;l++){m=g[l];for(k && (e+=n[k] || 8);e < h;){p=f.getUint32(e);k=(0,d.xJ)(f.getUint32(e + 4));if(k === m){h=e + p;break;}if(0 === p)return {};e+=p;}}return e < h?{offset:e,end:h}:{};};c.qub=function(f){var g,e,h,k,l;g=this.path(f,["moof","traf"]).offset;if(void 0 !== g){f=new DataView(f.buffer,f.byteOffset + g + 8);e=this.path(f,["tfdt"]).offset;if(void 0 !== e){1 === f.getUint8(e + 8)?(g=f.getUint32(e + 12),e=f.getUint32(e + 16),g=4294967296 * g + e):g=f.getUint32(e + 12);h=this.path(f,["trun"]).offset;if(void 0 === h)return {S2:g};k=f.getUint8(h + 8);l=f.getUint32(h + 8) & 16777215;e=f.getUint32(h + 12);l & 2048?(h=h + 16 + ((l & 1) << 2) + (l & 4) + (((l & 256) >> 6) + ((l & 512) >> 7) + ((l & 1024) >> 8)),f=1 === k?f.getInt32(h):f.getUint32(h)):f=0;return {S2:g,Sx:f,lI:e};}}};return c;})();},87349:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.xz=void 0;d=a(25564);n=a(98516);c=a(48014);t=(function(){function f(g,e,h){this.console=g;this.stream=e;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}f.prototype.parse=function(g){var e;e=new c.pha(this.view.byteLength);this.Me=new d.J3(n.r0.Ke,e,this.view,this.console,{rua:!0});g=this.Me.parse(g);this.Ke=this.Me.Ke;return g;};return f;})();b.xz=t;},43607:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r;Object.defineProperties(b,{__esModule:{value:!0}});b.vm=void 0;d=a(22970);n=a(3265);c=a(89931);f=a(93334);g=a(49420);e=a(72905);t=a(91056);h=a(64280);k=a(25564);l=a(2050);m=a(98516);p=a(75589);q=a(48014);r=a(35202);d.__exportStar(a(56122),b);a=(function(){function u(v,w,x,y,A,z){this.console=v;this.stream=w;this.HB=y;this.N6b=A;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=z || ({});this.Guc=(0,l.Npc)();}u.path=function(v,w){return w.reduce(function(x,y){return x && x.Ke[y] && x.Ke[y][0];},v);};u.lrc=function(v){return v && v.UMa && -1 !== v.UMa.indexOf("mcl0")?"mcl0":void 0;};u.cnc=function(v,w){var x,y;(0,f.assert)("mcl0" === v,"Unsupported McClearen brand");x=w.Oa;v=x.fg;w=new g.I(120,1).Kc(x.O).$;y=0;for(x=x.Ou;y < v.length && x < w;)x+=v[y++];return y;};u.prototype.parse=function(v){var w;w=this.GOc();if(!w.done){if(w.sFb)return {oB:!1,tla:w.sFb};this.console.error("Scan error: " + w.error);return {oB:!1,parseError:w.error || "unknown mp4 scan error"};}v && (v.mediaType=this.stream.mediaType,v.JGc=v.Ea);this.view=new DataView(this.view.buffer,this.view.byteOffset,w.offset);v=this.pHc(v);return v.done?this.fdc():(this.console.error("Parse error: " + v.error),{oB:!1,parseError:v.error || "unknown mp4 parse error"});};u.prototype.UG=function(v){return e.Bf.UG(this,v);};u.prototype.$m=function(v){return e.Bf.$m(this,v);};u.prototype.GOc=function(){var v,w;v=new q.k$a(this.HB,this.N6b?[p.qia,p.pia]:[],this.config && this.config.hed || ["moof",p.Ecb],this.config && this.config.CYa);w=d.__assign(d.__assign({},this.config),{rua:!1});return new k.J3(u.i0a,v,this.view,this.console,w).parse();};u.prototype.pHc=function(v){var w,x,y;w=new q.pha(this.view.byteLength);x=Object.create(m.r0.Ke);this.config && ((this.config.NHb || this.config.wQb || this.config.Uwa) && n(m.r0.e0a,x),this.config.f3a && n(m.r0.lVc,x),this.config.wQb && n(m.r0.xQb,x));y=d.__assign(d.__assign({},this.config),{rua:!0});this.Me=new k.J3(x,w,this.view,this.console,y);v=this.Me.parse(v);v.done && (this.Ke=this.Me.Ke);return v;};u.prototype.fdc=function(){var v,w,x,y,A,z,B,C;w={oB:!0};x=u.path(this,["moov"]);y=null === x || void 0 === x?void 0:x.UG("trak");if(1 === (null === y || void 0 === y?void 0:y.length)){A=y[0].qt("tkhd");A && (w.trackId=A.Nc.trackId);}A=u.path(x,["trak","mdia","minf","stbl","stsd"]);if(this.config.NHb)if(A)(w.Ea=A.Ea,w.cdd=A.Ke);else return {oB:!1,parseError:"Missing sample descriptions"};z=u.path(A,["encv","sinf","schi"]);z && (z=u.path(z,["tenc"]) || u.path(z,[p.Ddb])) && (w.llc={L6c:z.YA,YUa:z.YUa,P$c:!1});if(z=u.path(x,["trak","mdia","mdhd"]))w.O=z.O;if(z=u.path(x,["mvex","trex"]))w.vna=z && z.Nc.vna;w.vna && w.O && (w.Ea=new g.I(w.vna,w.O));(z=u.path(x,["trak","edts","elst"])) && (null === (v=z.x9) || void 0 === v?0:v.length) && w.O && (w.QY=new g.I(z.x9[0].pCc,w.O));if(v=u.path(this,["sidx"])){z=(z=u.path(this,[p.qia])) && z.gCc;B=u.path(this,[p.pia]);B=B && B.Km;w.Oa=v.Oa;w.q0=z;w.Km=B;}if(z=this.Ke.vmaf && this.Ke.vmaf[0])w.PE=z.PE;if(this.config.w_a && (z=u.path(x,["mvex"])) && y && y.length){C=y.reduce(function(D,E){return E.byteOffset > D.byteOffset?E:D;});C.byteOffset > z.byteOffset && (y=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),B=(0,r.HQb)(y,Uint8Array,z.byteOffset,z.byteOffset + z.byteLength),C=(0,r.HQb)(y,Uint8Array,z.byteOffset + z.byteLength,C.byteOffset + C.byteLength),y.set(C,z.byteOffset),y.set(B,z.byteOffset + C.byteLength));}if(this.config.dOc)if(x)(this.trim(x.byteOffset + x.byteLength),this.config.Uwa && A && 1 < A.MQ && v && (w.Qj=this.Uwa(A,v)),void 0 === w.Qj && (x=this.Me.Wna?(0,c.concat)(this.Me.na().Ma):this.view.buffer,w.Qj=[{Ve:0,data:x}]));else return {oB:!1,parseError:"Missing movie box"};w.oB=!0;w.sua=this.Me.offset;return w;};u.prototype.trim=function(v){var w;w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(v,this.view.byteLength));this.Me.trim(v);this.view=new DataView(w);};u.prototype.Uwa=function(v,w){var x,y,A;x=Object.keys(v.Ke);y=x.filter(function(z){return "encv" !== z;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=u.path(this,["ftyp"]);A=u.lrc(x);if(A)return (x=[],this.Me.$Kc(),v.HKb("encv"),x.push({Ve:0,Ox:!1,data:(0,c.concat)(this.Me.na().Ma)}),this.Me.XIc(),v.HKb(y[0]),v=u.cnc(A,w),x.push({Ve:v,Ox:!0,data:(0,c.concat)(this.Me.na().Ma)}),x);}};u.i0a={};return u;})();b.vm=a;a.i0a[p.hEa]=t.default;a.i0a[p.iEa]=h.default;},32296:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.xJ=function(n){(0,d.assert)("number" === typeof n);return String.fromCharCode(n >>> 24 & 255) + String.fromCharCode(n >>> 16 & 255) + String.fromCharCode(n >>> 8 & 255) + String.fromCharCode(n & 255);};b.rIa=function(n){return n.charCodeAt(3) + (n.charCodeAt(2) << 8) + (n.charCodeAt(1) << 16) + (n.charCodeAt(0) << 24);};b.Z4c=function(n,c){return Math.floor(1E3 * n / c);};d=a(93334);},75589:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hEa="6674654e-696c-5078-6966-665374726d21";b.iEa="6674654e-696c-4878-6165-6465722e7632";b.Ecb="6674654e-696c-5078-6966-66496e646578";b.qia="6674654e-696c-4d78-6f6f-6653697a6573";b.pia="6674654e-696c-5378-6565-6b506f696e74";b.Ddb="cedb7489-e77b-514c-84f9-7148f9882554";b.Cdb="524f39a2-9b5a-144f-a244-6c427c648df4";b.gEa="6674654e-696c-4678-7261-6d6552617465";},11526:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.eW=void 0;d=a(25337);t=(function(){function n(c,f,g){this.view=c;this.xK=f;this.console=g;this.N=new d.Nja(c,g);}n.prototype.parse=function(){var c,f,g;c=this.N.hg();try{f=this.xK(this.N.zT(c));g=JSON.parse(f);}catch(e){this.console.error("Invalid event header:",e);return;}c=this.N.zT(this.view.byteLength - this.N.offset);return {header:g,body:c};};n.WM="urn:netflix:media_event:v1";return n;})();b.eW=t;},42328:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.uW=b.a6=void 0;d=a(25337);n={16:"programstart",17:"programend",19:"programbreakaway",34:"breakstart",35:"breakend",50:"breakstart",51:"breakend",52:"breakstart",53:"breakend",54:"breakstart",55:"breakend",60:"breakstart",61:"breakend",62:"breakstart",63:"breakend",66:"breakstart",67:"breakend",68:"breakstart",69:"breakend",70:"breakstart",71:"breakend"};(function(f){f[f.j3c=16]="ProgramStart";f[f.i3c=17]="ProgramEnd";f[f.h3c=19]="ProgramBreakaway";f[f.vUb=34]="BreakStart";f[f.a_c=35]="BreakEnd";f[f.U_c=50]="DistributorAdvertisementStart";f[f.T_c=51]="DistributorAdvertisementEnd";f[f.n3c=52]="ProviderPlacementOpportunityStart";f[f.m3c=53]="ProviderPlacementOpportunityEnd";f[f.W_c=54]="DistributorPlacementOpportunityStart";f[f.V_c=55]="DistributorPlacementOpportunityEnd";f[f.p3c=60]="ProviderPromoStart";f[f.o3c=61]="ProviderPromoEnd";f[f.Y_c=62]="DistributorPromoStart";f[f.X_c=63]="DistributorPromoEnd";f[f.tZc=66]="AlternateContentOpportunityStart";f[f.sZc=67]="AlternateContentOpportunityEnd";f[f.l3c=68]="ProviderAdBlockStart";f[f.k3c=69]="ProviderAdBlockEnd";f[f.S_c=70]="DistributorAdBlockStart";f[f.R_c=71]="DistributorAdBlockEnd";})(c || (b.a6=c={}));t=(function(){function f(g,e){this.view=g;this.console=e;this.N=new d.Nja(g,e);}f.prototype.parse=function(){var g,e,h,k,l,m,p,q;this.N.offset+=13;g=this.N.Ad();switch(g){case 0:break;case 5:(e=this.NHc(),h=e.SGc);g=e.jSc;e=e.U9b;return void 0 === h || void 0 === g?void 0:h?{event:"breakstart",AM:g,duration:e}:{event:"breakend",AM:g};case 6:h=this.OHb();break;case 4:case 7:case 255:return;default:throw Error(("Unknown splice_command_type: ").concat(g));}if(void 0 !== h)for((g=this.N.hg(),g=this.N.offset + g);this.N.offset < g;){e=this.N.Ad();k=this.N.Ad();if(2 === e){e=this.MHc(k);k=e.xea;l=e.yea;m=e.Z1;p=e.nMb;q=e.hPc;if(void 0 !== k)return {event:f.z0a[k],xea:k,yea:l,Z1:m,AM:h,id:p,duration:q};if(e.mMb)return {event:"cancel",AM:h,id:p};}else this.N.offset+=k;}};f.prototype.NHc=function(){var g,e,h,k,l,m;this.N.offset+=4;if(!(this.N.Ad() >> 7)){g=void 0;e=void 0;h=this.N.eb(1);k=this.N.eb(1);if(!k)throw Error("Component splice mode is deprecated");l=this.N.eb(1);m=this.N.eb(1);this.N.eb(4);k && !m && (g=this.OHb());l && (e=this.qHc());return {SGc:h,jSc:g,U9b:e};}return {};};f.prototype.OHb=function(){var g;if(this.N.eb(1)){this.N.eb(6);g=this.N.eb(33);}else this.N.eb(7);return g;};f.prototype.qHc=function(){this.N.eb(1);this.N.eb(6);return this.N.eb(33);};f.prototype.MHc=function(g){var e,h,k,l,m,p,q;h=this.N.offset;this.N.$b();k=this.N.$b();l=this.N.eb(1);this.N.eb(7);if(0 === l){m=this.N.eb(1);p=this.N.eb(1);this.N.eb(1);this.N.eb(5);if(!m)throw Error("Component splice mode is deprecated");p && (e=this.N.eb(40));m=this.N.Ad();p=this.N.Ad();p=0 < p?this.N.u1(p):void 0;q=this.N.Ad();this.N.offset=h + g;return {xea:q,yea:m,Z1:p,nMb:k,mMb:l,hPc:e};}this.N.offset=h + g;return {nMb:k,mMb:l};};f.WM="urn:scte:scte35:2013:bin";f.z0a=n;return f;})();b.uW=t;},48014:function(t,b,a){var n;function d(c,f){c=f.indexOf(c);-1 !== c && f.splice(c,1);}Object.defineProperties(b,{__esModule:{value:!0}});b.k$a=b.pha=void 0;n=a(75589);t=(function(){function c(f){this.endOffset=f;this.done=!1;}c.prototype.Jvb=function(){return this.done;};c.prototype.Usb=function(f,g,e){return this.done=g + e >= this.endOffset;};return c;})();b.pha=t;t=(function(){function c(f,g,e,h){void 0 === g && (g=[]);void 0 === e && (e=[]);void 0 === h && (h=!1);this.HB=f;this.Dna=g;this.APb=e;this.CYa=h;this.done=!1;this.Gp={};}c.prototype.Jvb=function(f,g,e){-1 !== c.Uuc.indexOf(f) && (this.Gp[f]={offset:g,size:e});if(-1 !== this.APb.indexOf(f)){if((this.Gp[f]={offset:g,size:e},this.CYa))this.endOffset=g + e;else return (this.endOffset=g,this.done=!0);}else this.HB && -1 !== this.HB.indexOf(f)?(f=1 < this.HB.length?4096:0,this.endOffset=Math.max(g + e + f,this.endOffset || 0)):-1 !== this.Dna.indexOf(f) && (f=this.HB?4096:0,this.endOffset=Math.max(g + e + f,this.endOffset || 0));return this.done;};c.prototype.Usb=function(f,g,e,h){var k;k=this;if(-1 !== this.APb.indexOf(f))return this.done=!0;f === n.hEa && this.mNb(h.Gp);f === n.iEa && this.mNb(h.Gp);this.HB && d(f,this.HB);d(f,this.Dna);return this.HB && 0 === this.HB.length && !this.Dna.some(function(l){return k.Gp[l];})?this.done=!0:this.done;};c.prototype.mNb=function(f){var g;g=this;this.Gp=f;this.endOffset=(this.HB || []).concat(this.Dna).reduce(function(e,h){return g.Gp[h]?(h=g.Gp[h],Math.max(h.offset + (h.size || 4096),e)):e;},this.endOffset || 0);};c.Uuc=["moov","sidx"];return c;})();b.k$a=t;},80735:function(t,b){function a(d){var n,g,e;n=d.length;if(!(0 <= n))throw Error("bad string");for(var c=0,f=n;f--;){g=d.charCodeAt(f);128 > g?c++:c=2048 > g?c + 2:c + 3;}c=new Uint8Array(c);e=0;for(f=0;f < n;f++)(g=d.charCodeAt(f),128 > g?c[e++]=g:(2048 > g?c[e++]=192 | g >>> 6:(c[e++]=224 | g >>> 12,c[e++]=128 | g >>> 6 & 63),c[e++]=128 | g & 63));return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.xia=void 0;t=(function(){function d(n,c,f){this.header=n;this.body=c;this.goa=f;}d.prototype.encode=function(n){var c;c=(this.goa || a)(JSON.stringify(this.header));n.fV(c.length);n.s4a(c);n.s4a(this.body);};return d;})();b.xia=t;},51061:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.uja=void 0;d=a(93334);t=(function(){function n(c){this.message=c;}n.prototype.encode=function(c){var f,g,e,h,k;c.Oh(252);c.fV(12288);f=c.offset;c.Oh(0);c.Oh(0);c.Kn(0);c.Oh(0);c.fV(65520);c.Oh(0);c.Oh(6);g=c.offset;this.BYc(c);e=c.offset;c.fV(0);c.Oh(2);c.Oh(0);this.AYc(c);h=c.offset;k=e - g;(0,d.assert)(256 > k);c.xla(g - 2);c.Oh(k & 255);g=h - e - 4;k=h - e - 2;c.xla(e);c.fV(k);c.Z6b();c.Oh(g);e=h - f + 4;(0,d.assert)(256 > e);c.xla(f - 1);c.Oh(e & 255);c.xla(h);c.Kn(0);};n.prototype.BYc=function(c){var f;f=this.message.AM & 4294967295;c.Oh(254 + (this.message.AM - f) / 4294967296 % 2);c.Kn(f);};n.prototype.AYc=function(c){var f,g;c.Kn(0);c.Kn(this.message.id || 0);c.Oh("cancel" === this.message.event?255:127);if("cancel" !== this.message.event){g=null !== (f=this.message.xea) && void 0 !== f?f:n.z0a[this.message.event];c.Oh(this.message.duration?255:191);this.message.duration && (f=this.message.duration & 4294967295,c.Oh((this.message.duration - f) / 4294967296),c.Kn(f));c.Oh(void 0 !== this.message.yea?this.message.yea:0);(f=this.message.Z1) && 0 < f.byteLength?(c.Oh(f.byteLength),c.s4a(new Uint8Array(f))):c.Oh(0);c.Oh(g);c.Oh(1);c.Oh(1);if(48 === g || 50 === g || 52 === g || 54 === g || 56 === g || 58 === g || 68 === g || 70 === g)(c.Oh(0),c.Oh(0));}};n.z0a={programstart:16,programend:17,programbreakaway:19,breakstart:52,breakend:53};return n;})();b.uja=t;},24500:function(t){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,d,n){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(d.buffer,d.byteOffset,d.byteLength),n * a.byteLength / a.length);}:function(a,d,n){a.set(d,n);};t.exports={from:function(a,d,n,c){a=new a(d.length);for(var f="function" === typeof n,g=0;g < d.length;++g)a[g]=f?n.call(c,d[g],g,d):d[g];return a;},set:b};},35202:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.HQb=function(a,d,n,c){var f,g;if(null !== a && void 0 !== a && a.slice)return a.slice(n,c);f=Math.min(a.length,c);g=Math.min(a.length,n);for(d=new d(Math.max(c - n,0));g < f;g++)d[g - n]=a[g];return d;};},93334:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=function(c,f){if(!c)throw new n(f || "Assertion failed");};d=a(22970);n=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);return f;})(Error);},89931:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.concat=function(){var n;for(var a=[],d=0;d < arguments.length;d++)a[d]=arguments[d];a=Array.prototype.concat.apply([],a);d=a.reduce(function(c,f){return c + f.byteLength;},0);n=new Uint8Array(d);a.reduce(function(c,f){n.set(new Uint8Array(f),c);return c + f.byteLength;},0);return n.buffer;};},3265:function(t){t.exports=function n(a,d){var c;a.__proto__ && a.__proto__ !== Object.prototype && n(a.__proto__,d);Object.getOwnPropertyNames(a).forEach(function(f){c=Object.getOwnPropertyDescriptor(a,f);void 0 !== c && Object.defineProperty(d,f,c);});};},49420:function(t,b){function a(n,c){return "number" !== typeof n || "number" !== typeof c?!1:n && c?Math.abs(n * c / d(n,c)):0;}function d(n,c){var f;n=Math.abs(n);for(c=Math.abs(c);c;){f=c;c=n % c;n=f;}return n;}Object.defineProperties(b,{__esModule:{value:!0}});b.I=void 0;t=(function(){function n(c,f){"object" === typeof c?(this.Qc=c.$,this.Db=c.O):(this.Qc=c,this.Db=f);}n.Ca=function(c){return new n(c,1E3);};n.V2a=function(c,f){return Math.floor(1E3 * c / f);};n.kFb=function(c,f){return Math.floor(c * f / 1E3);};n.max=function(){for(var c=[],f=0;f < arguments.length;f++)c[f]=arguments[f];return c.reduce(function(g,e){return g.greaterThan(e)?g:e;});};n.min=function(){for(var c=[],f=0;f < arguments.length;f++)c[f]=arguments[f];return c.reduce(function(g,e){return g.lessThan(e)?g:e;});};n.VK=function(c,f){var g;if(c.O === f.O)return new n(d(c.$,f.$),c.O);g=a(c.O,f.O);return n.VK(c.Kc(g),f.Kc(g));};Object.defineProperties(n.prototype,{$:{get:function(){return this.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{O:{get:function(){return this.Db;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{G:{get:function(){return 1E3 * this.Qc / this.Db;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Zi:{get:function(){return this.Qc / this.Db;},enumerable:!1,configurable:!0}});n.prototype.Kc=function(c){c/=this.O;return new n(Math.floor(this.$ * c),Math.floor(this.O * c));};n.prototype.add=function(c){var f;if(this.O === c.O)return new n(this.$ + c.$,this.O);f=a(this.O,c.O);return this.Kc(f).add(c.Kc(f));};n.prototype.ea=function(c){return this.add(new n(-c.$,c.O));};n.prototype.hh=function(c){return new n(this.$ * c,this.O);};n.prototype.rf=function(c){var f;if(this.O === c.O)return this.$ / c.$;f=a(this.O,c.O);return this.Kc(f).rf(c.Kc(f));};n.prototype.Ayb=function(c){return a(this.O,c);};n.prototype.h_a=function(){return new n(this.O,this.$);};n.prototype.compare=function(c,f){var g;if(this.O === f.O)return c(this.$,f.$);g=a(this.O,f.O);return c(this.Kc(g).$,f.Kc(g).$);};n.prototype.equal=function(c){return this.compare(function(f,g){return f === g;},c);};n.prototype.JS=function(c){return this.compare(function(f,g){return f !== g;},c);};n.prototype.lessThan=function(c){return this.compare(function(f,g){return f < g;},c);};n.prototype.greaterThan=function(c){return this.compare(function(f,g){return f > g;},c);};n.prototype.ln=function(c){return this.compare(function(f,g){return f <= g;},c);};n.prototype.Wf=function(c){return this.compare(function(f,g){return f >= g;},c);};n.prototype.toJSON=function(){return {ticks:this.$,timescale:this.O};};n.prototype.toString=function(){return ("").concat(this.$,"/").concat(this.O);};n.ia=new n(0,1);n.Ey=new n(1,1E3);return n;})();b.I=t;},56445:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Jib=void 0;d=a(22970);n=a(93334);c=a(89931);f=a(32296);t=a(25337);g=(function(){function e(h){h?(this.et=h.et.slice(),this.mz=h.mz.slice(),this.Kf=h.Kf.slice(),this.trim=h.trim):(this.et=[],this.mz=[],this.Kf=[]);}Object.defineProperties(e.prototype,{empty:{get:function(){return 0 === this.et.length && 0 === this.mz.length && 0 === this.Kf.length;},enumerable:!1,configurable:!0}});return e;})();t=(function(e){function h(k,l,m){k=e.call(this,k,l,m) || this;k.otb=[];k.sf=new g();return k;}d.__extends(h,e);h.P7b=function(k,l){if(l.offset + l.size <= k.byteLength)switch(l.size){case 1:k.setUint8(l.offset,l.value);break;case 2:l.Qea?k.setInt16(l.offset,l.value):k.setUint16(l.offset,l.value);break;case 4:l.Qea?k.setInt32(l.offset,l.value):k.setUint32(l.offset,l.value);break;case 8:(0,n.assert)(!l.Qea);k.setUint32(l.offset,Math.floor(l.value / 4294967296));k.setUint32(l.offset + 4,l.value & 4294967295);break;default:(0,n.assert)(!1);}};Object.defineProperties(h.prototype,{Wna:{get:function(){return !this.sf.empty;},enumerable:!1,configurable:!0}});h.prototype.Oh=function(k,l){this.sf.mz.push({offset:void 0 !== l?l:this.offset,value:k,size:1});void 0 === l && (this.offset+=1);};h.prototype.fV=function(k,l){this.sf.mz.push({offset:void 0 !== l?l:this.offset,value:k,size:2,Qea:!1});void 0 === l && (this.offset+=2);};h.prototype.Kn=function(k,l){this.sf.mz.push({offset:void 0 !== l?l:this.offset,value:k,size:4,Qea:!1});void 0 === l && (this.offset+=4);};h.prototype.USb=function(k,l){this.sf.mz.push({offset:void 0 !== l?l:this.offset,value:k,size:8,Qea:!1});void 0 === l && (this.offset+=8);};h.prototype.q4a=function(k){this.Kn((0,f.rIa)(k));};h.prototype.t4a=function(k,l){this.sf.Kf.push({offset:this.offset,Wr:k,value:l});this.offset+=4;};h.prototype.Wq=function(k,l,m){this.sf.et.push({offset:l,remove:k,Jb:m});};h.prototype.Iva=function(k,l,m,p){this.sf.et.push({offset:m,remove:k,replace:l,Jb:p});};h.prototype.trim=function(k){this.sf.trim=k;};h.prototype.$Kc=function(){this.otb.push(new g(this.sf));};h.prototype.XIc=function(){this.sf=this.otb.pop() || new g();};h.prototype.na=function(){var k,l,m,p,q,r,u;k=this;if(0 === this.sf.et.length && 0 === this.sf.mz.length && 0 === this.sf.Kf.length)return {Ma:[void 0 === this.sf.trim?this.view.buffer:this.view.buffer.slice(0,this.sf.trim)]};this.sf.et.sort(function(v,w){return v.offset - w.offset;});this.sf.mz.sort(function(v,w){return v.offset - w.offset;});this.NNc();l=this.Umc();m=this.view.buffer.slice(0,l);p=l?new DataView(m):this.view;this.sf.mz.forEach(h.P7b.bind(void 0,p));this.nWc(p);this.mWc(p);q=[];r=void 0 !== this.sf.trim?Math.min(this.sf.trim,this.view.byteLength):this.view.byteLength;u=0;this.sf.et.filter(function(v){return v.offset <= r;}).forEach(function(v){v.offset > u && (q.push(p.buffer.slice(u,v.offset)),v.offset > p.byteLength && p !== k.view && (p=k.view,q.push(p.buffer.slice(l,v.offset))));v.replace && q.push(v.replace);u=v.offset + v.remove;});u < l && q.push(m.slice(u));u < r && (m=Math.max(m.byteLength,u),m < r && q.push(this.view.buffer.slice(m,r)));m=this.sf.et.filter(function(v){return v.offset + v.remove > r;}).map(function(v){var w;w=v.offset;v=v.remove;return w < r?{offset:r,remove:v - (r - w)}:{offset:w,remove:v};});return {Ma:q,OK:m};};h.prototype.Umc=function(){var k,l,m;k=[];l=this.sf.mz[this.sf.mz.length - 1];m=this.sf.Kf[this.sf.Kf.length - 1];l && k.push(l.offset + l.size);m && k.push(m.offset + 4);this.sf.et.filter(function(p){return p.Jb;}).forEach(function(p){return k.push(p.Jb.byteOffset + 4);});if(0 === k.length)return 0;l=Math.max.apply(void 0,k);return void 0 !== this.sf.trim?Math.min(l,this.sf.trim):l;};h.prototype.NNc=function(){this.sf.et=this.sf.et.reduce(function(k,l){var m,p;if(0 === k.length)return (k.push(l),k);m=k[k.length - 1];p=m.offset + m.remove;l.offset >= p?k.push(l):l.offset + l.remove > p && ((0,n.assert)(m.Jb === l.Jb),m.remove+=l.offset + l.remove - p,l.replace && (m.replace=m.replace?(0,c.concat)(m.replace,l.replace):l.replace));return k;},[]);};h.prototype.nWc=function(k){var l;l=this;this.sf.Kf.forEach(function(m){var p,q,r,u;p=k;q=m.offset;l.sf.et.some(function(v){return v.offset <= m.offset && v.replace && v.offset + v.replace.byteLength >= m.offset + 4?(p=new DataView(v.replace),q=m.offset - v.offset,!0):!1;});r=m.Wr + (void 0 !== m.value?m.value:p.getInt32(q));u=l.sf.et.reduce(function(v,w){return w.offset > m.Wr && w.offset < r?v + (w.remove - (w.replace?w.replace.byteLength:0)):v;},0);p.setInt32(q,r - m.Wr - u);});};h.prototype.mWc=function(k){this.sf.et.forEach(function(l){var m;m=(l.remove || 0) - (l.replace?l.replace.byteLength:0);if(0 !== m)for(l=l.Jb;l;)(k.setUint32(l.byteOffset,k.getUint32(l.byteOffset) - m),l=l.parent);});};return h;})(t.Nja);b.Jib=t;},25337:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Nja=void 0;d=a(2050);a(2050);n=a(32296);t=(function(){function c(f,g,e){void 0 === e && (e={});this.view=f;this.console=g;this.config=e;this.view=f;this.console=g;this.oe=this.Cx=this.offset=0;}c.prototype.Bwb=function(f){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,f);};c.prototype.eb=function(f){if(24 < f)return 16777216 * this.eb(f - 24) + this.eb(24);for(;this.oe < f;)(this.Cx=(this.Cx << 8) + this.Ad(),this.oe+=8);this.oe-=f;return this.Cx >>> this.oe & (1 << f) - 1;};c.prototype.Ad=function(){var f;f=this.view.getUint8(this.offset);this.offset+=1;return f;};c.prototype.hg=function(f){f=this.view.getUint16(this.offset,f);this.offset+=2;return f;};c.prototype.$b=function(f){f=this.view.getUint32(this.offset,f);this.offset+=4;return f;};c.prototype.Bda=function(){var f;f=this.view.getInt32(this.offset,void 0);this.offset+=4;return f;};c.prototype.$Hc=function(f,g){var e;e=this.view.getUint32(this.offset + (f?4:0),f);f=this.view.getUint32(this.offset + (f?0:4),f);g || 0 === (e & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * e + f;};c.prototype.cm=function(f,g){f=this.$Hc(f,g);this.offset+=8;return f;};c.prototype.aIc=function(){var f,g;f=this.view.getInt32(this.offset + 0,void 0);g=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < f?f:-f) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * f + g;};c.prototype.YJb=function(){var f;f=this.aIc();this.offset+=8;return f;};c.prototype.EB=function(){return (0,n.xJ)(this.$b());};c.prototype.xva=function(){var g,e,h,k,l,m;function f(p,q){return ("000000" + p.toString(16)).slice(2 * -q);}g=this.$b(!0);e=this.hg(!0);h=this.hg(!0);k=this.hg();l=this.hg();m=this.$b();return [f(g,4),f(e,2),f(h,2),f(k,2),f(l,2) + f(m,4)].join("-");};c.prototype.u1=function(f){var g;g=this.view.byteOffset + this.offset;g=this.view.buffer.slice(g,g + f);this.offset+=f;return g;};c.prototype.b_a=function(f){var g;g=[];if(0 === f)return "";f=f || Number.MAX_SAFE_INTEGER;for(var e=this.Ad();0 !== e && 0 <= --f;)(g.push(e),e=this.Ad());return String.fromCharCode.apply(null,g);};c.prototype.zT=function(f){var g,e;void 0 === g && (g=1);void 0 === e && (e=!0);return this.yn(this.config.c3 && d.xtc || d.f_,1,f,g,e);};c.prototype.nLc=function(f){var g,e,h;g=10;e=!1;void 0 === g && (g=2);void 0 === e && (e=!0);void 0 === h && (h=!1);return this.yn(this.config.c3 && d.vtc || d.Xpa,2,f,g,e,h);};c.prototype.vva=function(f,g,e){var h;void 0 === g && (g=4);void 0 === e && (e=!0);void 0 === h && (h=!1);return this.yn(this.config.c3 && d.wtc || d.faa,4,f,g,e,h);};c.prototype.rLc=function(){for(var f=this.Ad(),g=f & 127;f & 128;)(f=this.Ad(),g=g << 7 | f & 127);return g;};c.prototype.yn=function(f,g,e,h,k,l){void 0 === k && (k=!0);void 0 === l && (l=!1);f=f(this.view,this.offset,e,h,l);this.offset=k || !h || h === g?this.offset + e * (h || g):this.offset + g;return f;};return c;})();b.Nja=t;},44248:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Oja=void 0;d=a(32296);t=(function(){function n(c){void 0 === c && (c=1);this.Sb=new ArrayBuffer(c);this.view=new DataView(this.Sb);this.oe=this.Cx=this.ed=0;}Object.defineProperties(n.prototype,{offset:{get:function(){return this.ed;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{buffer:{get:function(){return this.Sb.slice(0,this.offset);},enumerable:!1,configurable:!0}});n.prototype.LQ=function(c){var f,g;c=this.offset + c + 1;if(c > this.Sb.byteLength){c=new ArrayBuffer(Math.max(2 * this.Sb.byteLength,c));f=new Uint8Array(c);g=new Uint8Array(this.Sb);f.set(g);this.Sb=c;this.view=new DataView(this.Sb);}};n.prototype.xla=function(c){this.LQ(c - this.offset);this.ed=c;};n.prototype.Z6b=function(){this.LQ(1);this.ed+=1;};n.prototype.Oh=function(c){this.LQ(1);this.view.setUint8(this.offset,c);this.ed+=1;};n.prototype.fV=function(c,f){this.LQ(2);this.view.setUint16(this.offset,c,f);this.ed+=2;};n.prototype.Kn=function(c,f){this.LQ(4);this.view.setUint32(this.offset,c,f);this.ed+=4;};n.prototype.USb=function(c,f){var g;g=Math.floor(c / 4294967296);c-=4294967296 * g;this.LQ(8);this.view.setUint32(this.offset + (f?4:0),g,f);this.view.setUint32(this.offset + (f?0:4),c,f);this.ed+=8;};n.prototype.q4a=function(c){this.Kn((0,d.rIa)(c));};n.prototype.s4a=function(c){this.LQ(c.length);new Uint8Array(this.Sb).set(c,this.offset);this.ed+=c.length;};return n;})();b.Oja=t;},17972:function(t,b,a){var n,c,f,g;function d(e,h,k){void 0 === k && (k=0);return e.displayTime - k <= h && h < e.displayTime + e.duration;}Object.defineProperty(b,"__esModule",{value:!0});b.zUb=b.M5a=void 0;n=a(22970);c=a(91176);f=a(90745);t=(function(e){function h(k,l,m,p,q,r,u,v){var w,x,y;y=e.call(this) || this;y.a3b=k;y.B6=l;y.e3b=m;y.wa=p;y.aba=q;y.XRa=r;y.Eua=u;y.options=v;y.Fm=[];y.Gl=[];y.Vo=[];y.VYa=new f.kf();y.o0a=new f.kf();y.Pma=new f.kf();y.wJ=new g(function(){return l(k());},y.wa,(null === (w=y.options) || void 0 === w?void 0:w.Ba) || !1);y.wJ.events.on("bufferingcomplete",function(){var A;y.wa.trace("AseTimer:Received buffering complete from watcher");null === (A=y.Sr) || void 0 === A?void 0:A.cd();y.BXa();});y.wJ.kZa();y.DNb();y.VYa.on(y.Eua,"segmentPresenting",function(){y.SGb();});y.VYa.on(y.Eua,"taskSchedulerChanged",function(){y.DNb();});null === (x=y.Sr) || void 0 === x?void 0:x.La();return y;}n.__extends(h,e);Object.defineProperty(h.prototype,"_buffering",{get:function(){return this.wJ.k8;},enumerable:!1,configurable:!0});h.prototype.ETc=function(){var k,l,m,p,q,r,u,v,w,x,y,A,z,B;B=this;return n.__generator(this,function(C){switch(C.label){case 0:this.wa.trace("AseTimer:Starting subtitle worker");if(this.aba())return (this.wa.trace("Paused: exiting"),[2]);k=function(){return B.gd.Na.currentTime.G;};l=this.a3b;this.Vo=this.Gl.concat(this.Fm);this.tJb(l(),!0);C.label=1;case 1:if(!this.Vo.length)return [3,3];p=m=l();this.cpb(m);try{for((q=(A=void 0,n.__values(this.Vo)),r=q.next());!r.done;r=q.next())(u=r.value,this.wa.trace(("AseTimer:Checking subtitle ").concat(u.id)),m >= u.displayTime + u.duration || (d(u,m,this.options.GSc)?(this.wa.trace(("AseTimer:Showing subtitle ").concat(u.id)),this.GJc(u),p=Math.max(m,u.displayTime)):(this.wa.trace(("AseTimer:Staging subtitle ").concat(u.id)),this.M1a(u))));}catch(D){A={error:D};}finally{try{r && !r.done && (z=q.return) && z.call(q);}finally{if(A)throw A.error;}}v=this.K$b(p);if(!isFinite(v))return (this.wJ.kZa(),[3,3]);w=k();x=this.e3b(v,m);if(void 0 === x)return [3,3];y=Math.max(x,10) + w;this.wa.trace(("AseTimer:Sleeping till PlayerTime ").concat(y));return [4,c.ce.mm(c.I.Ca(y))];case 2:return (C.T(),this.tJb(l()),[3,1]);case 3:return (this.wa.trace(("AseTimer:Checking removed subtitles one more time ").concat(l())),this.cpb(l()),this.wa.trace("AseTimer:Ending subtitle worker"),[2]);}});};h.prototype.tJb=function(k,l){var m,p,q,r,u;p=this;void 0 === l && (l=!1);q=l || !this.Fm.length;q || (q=this.Vo[this.Vo.length - 1].displayTime > k);if(q){this.wa.trace(("AseTimer:Getting subtitles for ").concat(k),{X6c:this.gd.Na.currentTime});r=this.B6(k);if(r){this.wa.trace(("AseTimer:Received ").concat(r.length," subtitles"));q=function(y){(0,c.cc)(u.Vo,function(A){return A.id === y.id;}) || k >= y.displayTime + y.duration || (u.wa.trace(("AseTimer:adding ").concat(y.id),{start:y.startTime,y7c:y.displayTime,end:y.endTime,L7c:y.duration}),u.Vo.push(y));};u=this;try{for(var v=n.__values(r),w=v.next();!w.done;w=v.next())q(w.value);}catch(y){var x;x={error:y};}finally{try{w && !w.done && (m=v.return) && m.call(v);}finally{if(x)throw x.error;}}l && this.Vo.filter(function(y){return !(0,c.cc)(r,function(A){return A.id === y.id;});}).forEach(function(y){return p.Oca(y);});this.Vo.length || this.wJ.kZa();}else this.ol();}};h.prototype.stop=function(){var k;this.wa.trace("AseTimer:Stop");null === (k=this.Sr) || void 0 === k?void 0:k.La();this.wJ.reset();this.Dva();this.VYa.clear();this.o0a.clear();this.Pma.clear();};h.prototype.Dva=function(){var k,l,m,p;this.wa.trace("AseTimer:Removing all",this.Gl.length);p=this.Gl;try{for(var q=n.__values(p),r=q.next();!r.done;r=q.next())this.Oca(r.value);}catch(v){var u;u={error:v};}finally{try{r && !r.done && (k=q.return) && k.call(q);}finally{if(u)throw u.error;}}this.Gl=[];if(null === (l=this.Sr) || void 0 === l?0:l.no)null === (m=this.Sr) || void 0 === m?void 0:m.La();};h.prototype.pause=function(){var k;null === (k=this.Sr) || void 0 === k?void 0:k.La();};h.prototype.LI=function(){var k,l,m,p;(null === (k=this.Sr) || void 0 === k?void 0:k.state) !== c.zm.complete && (null === (l=this.Sr) || void 0 === l?void 0:l.state) !== c.zm.rQ || this.aba() || (null === (m=this.Sr) || void 0 === m?void 0:m.cd());this.Cm && this.wJ.check();this.aba() && (null === (p=this.Sr) || void 0 === p?void 0:p.La());};h.prototype.DNb=function(){var k;k=this;this.wa.trace("Setting up new task scheduler");(this.gd=this.XRa())?(this.o0a.clear(),this.o0a.on(this.gd,"clockChanged",function(){return k.wGb();}),this.Sr=this.gd.fs(function(){return k.ETc();},"subtitleWorker"),this.wGb()):this.wa.warn("AseTimer: no player task scheduler");};h.prototype.K$b=function(k){var l;return null !== (l=this.Vo.map(function(m){return [m.displayTime,m.displayTime + m.duration + 1];}).reduce(function(m,p){return m.concat(p);},[]).filter(function(m){return m > k;}).sort(function(m,p){return m - p;})[0]) && void 0 !== l?l:Infinity;};h.prototype.wGb=function(){var k,l,m;k=this;this.Pma.clear();(null === (l=this.gd) || void 0 === l?0:l.Na)?(this.wa.trace("onClockChanged: clock listeners registered"),this.Pma.on(this.gd.Na,"clockAdjusted",function(p){p.reason === c.dx.jN && k.SGb();}),this.Pma.on(this.gd.Na,"stopStart",function(){var p;k.gd.As || (null === (p=k.Sr) || void 0 === p?void 0:p.cd());})):this.wa.trace("onClockChanged: playerTaskScheduler has not been set or clock is undefined");null === (m=this.Sr) || void 0 === m?void 0:m.cd();};h.prototype.SGb=function(){var k,l;this.wa.trace("Timeline changed");this.Dva();this.aba()?null === (l=this.Sr) || void 0 === l?void 0:l.La():null === (k=this.Sr) || void 0 === k?void 0:k.cd();};h.prototype.M1a=function(k){-1 === this.Fm.indexOf(k) && this.oGc(k);};h.prototype.cpb=function(k){var l,m,r;m=this.Gl.concat(this.Fm);try{for(var p=n.__values(m),q=p.next();!q.done;q=p.next()){r=q.value;k >= r.displayTime + r.duration && this.Oca(r);}}catch(v){var u;u={error:v};}finally{try{q && !q.done && (l=p.return) && l.call(p);}finally{if(u)throw u.error;}}};h.prototype.GJc=function(k){-1 === this.Gl.indexOf(k) && (this.Gl.push(k),-1 !== this.Fm.indexOf(k) && (this.Fm=this.Fm.filter(function(l){return l !== k;})),this.WXa(k));};h.prototype.WXa=function(k){this.wa.trace("AseTimer:Showing",k.id);this.emit("showsubtitle",k);};h.prototype.oGc=function(k){this.wa.trace("AseTimer:Staging",k.id);this.Fm.push(k);this.emit("stagesubtitle",k);};h.prototype.ol=function(){this.wa.trace("AseTimer:onUnderflow",this.Cm);this.Cm || (this.emit("underflow"),this.wJ.ol());};h.prototype.Oca=function(k){this.wa.trace("AseTimer:Removing",k.id);-1 !== this.Fm.indexOf(k) && (this.Fm=this.Fm.filter(function(l){return l !== k;}));-1 !== this.Gl.indexOf(k) && (this.emit("removesubtitle",k),this.Gl=this.Gl.filter(function(l){return l !== k;}));this.Vo=this.Vo.filter(function(l){return l !== k;});};h.prototype.BXa=function(){var k;this.Vo.length && (this.emit("bufferingComplete"),this.aba() || (null === (k=this.Sr) || void 0 === k?void 0:k.cd()));};return h;})(f.EventEmitter);b.M5a=t;g=(function(){function e(h,k,l){void 0 === l && (l=!1);this.B6=h;this.wa=k;this.SIa=l;this.events=new f.EventEmitter();this.Cm=!1;}Object.defineProperty(e.prototype,"buffering",{get:function(){return this.Cm;},enumerable:!1,configurable:!0});e.prototype.kZa=function(){var h;h=this;this.wa.trace("AseTimer:Buffering watcher restart");this.Cm=!0;this.xJa && clearInterval(this.xJa);this.xJa=this.SIa?setInterval(function(){return h.check();},500):setInterval(function(){return h.check();},2E4);};e.prototype.ol=function(){this.wa.trace("AseTimer:Buffering watcher underflow");this.Cm=!0;this.gpb(1);};e.prototype.reset=function(){this.wa.trace("AseTimer:Buffering watcher reset");clearInterval(this.xJa);clearTimeout(this.b5b);this.Cm=!1;};e.prototype.gpb=function(h){var k;k=250 * (1 << h);2E3 < k && (k=2E3);this.check();this.Cm && (this.b5b=setTimeout(this.gpb.bind(this,h + 1),k));};e.prototype.check=function(){var h;h=this.B6();this.wa.trace("AseTimer:Buffering complete check",null === h || void 0 === h?void 0:h.length);null !== h && (this.reset(),this.events.emit("bufferingcomplete",{type:"bufferingcomplete",oN:h}));};return e;})();b.zUb=g;},18797:function(t,b,a){var r,u,v,w,x,y,A,z,B;function d(C,D){var E,H;E=this;H=C.styles || ({});return {startTime:D.startTime,id:D.id,endTime:D.endTime,displayTime:D.displayTime,duration:D.duration,blocks:D.blocks.map(function(F){var G;G=x.qgc(C,F);return {textNodes:F.textNodes.map(q.bind(E,H)),region:G,id:F.id};})};}function n(C){if(!Array.isArray(C))throw Error("last called on non-array: " + C);return C[C.length - 1];}function c(C,D){var E,H,F,G,J,L;E=v.Me(!0);H={};F=[];G=null;J=[];L={};E.onerror=function(K){D(K,null);};E.onend=function(){D(null,H);};E.onclosetag=function(){F.pop();};E.onopentag=function(K){var M,P,I,O;M=K.attributes;P=K.name;I=H.regions;O=H.styles;F.push(K);if("tt" === P)H=l(M);else if("body" === P)"undefined" !== typeof M.style && (H.defaultStyle=M.style,J.push(M.style));else if("initial" === P && p(F,"styling"))(L=m(M,y),H.initialStyle=L);else if("style" === P && p(F,"styling")){I=M["xml:id"];K=L;M=m(M,y);if(Object.keys(K).length)for(var Q in K)"undefined" === typeof M[Q] && (M[Q]=K[Q]);O[I]=M;}else "style" === P && p(F,"region")?(O=Object.keys(M)[0],"string" === typeof O && (I[G][O.slice(4)]=M[O])):"region" === P && p(F,"layout") && (G=M["xml:id"],I[G]=m(M,z));};setTimeout(function(){var K;for(E.write(C);0 < F.length && !E.error;){K=n(F).name;E.write("</" + K + ">");}E.close();},10);}function f(C,D){var E;E=C.filter(function(H){return H.startTime <= D && D <= H.endTime;});C=C.filter(function(H){return H.startTime > D;});return 0 < C.length?E.concat([C[0]]):E;}function g(){}function e(C){var D,E;D=C.od;E=C.wa;if(!C.xml && !C.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");u.call(this);this.ti=this.rka=null;this.Il="number" === typeof D?C.od:0;this.BP=C.xml || "";this.xa="object" === typeof E?C.wa:B;this.vP=C.request;this.Hg=C.url;this.Sb=[];this.Tn=this.Il;this.nf=null;this.Nr=this.Vk=!1;this.YO=C.xda || 0;this.AP=C.g2a;}function h(){var C,D,E;C=this;D=C.BP.indexOf("<p");if(-1 < D){E=C.BP.slice(0,D);c(E,function(H,F){null !== H?(H.tzb=E,C.emit("error",H)):(C.rka=F,C.ti=new w(C.BP,F.tickRate),k.call(C,C.Il));});}else C.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function k(C){var D,E,H,F,G,J,L,K,M;D=this;E=D.rka;H=0;F=[];G=E.defaultStyle?[E.defaultStyle]:[];J=E.lang?[E.lang]:[];L=D.ti.UIa;D.xa.info("parsing the next 5 entries...");K=D.ti.Arc(C);D.xa.debug(K);M=v.Me(!0);M.onerror=function(P){P.xml=K;D.emit("error",P);};M.onend=function(){var P;P=D.Sb.reduce(function(I,O){O=O.blocks.reduce(function(Q,T){return Q.concat([T.id]);},[]);return I.concat(O);},[]);F.forEach(function(I){var O;if(-1 === P.indexOf(I.id)){O=I && I.blocks && I.blocks.filter(function(Q){return 0 < Q.textNodes.length;});O && 0 < O.length && (I.blocks=O,D.Sb.push(I));}});D.Nr=!1;D.Vk || (D.Vk=!0,D.emit("ready"));};M.ontext=function(P){var I,O,Q,T;if("" !== P.trim() || P.match(/ +/)){I=n(n(F).blocks).textNodes;O=I.push;P=P.match(/ +/) || n(J) && "ja" === n(J).slice(0,2)?P:P.trim();Q=n(G);T=n(J);O.call(I,{text:P,style:Q,lang:T && 0 === T.indexOf("ja")?"ja":T,lineBreaks:H});}H=0;};M.onclosetag=function(){var P;P=M.tag;"undefined" !== typeof P.attributes.style && G.pop();"undefined" !== typeof P.attributes["xml:lang"] && J.pop();};M.onopentag=function(P){var I,O,Q,T,U;I=P.attributes;O=P.name;P=E.tickRate;if("p" === O){H=0;O=I["xml:id"];I.style && G.push(I.style);I["xml:lang"] && J.push(I["xml:lang"]);Q=L?Math.floor(parseInt(I.begin) / P * 1E3):Math.floor(r(I.begin));if(0 === F.length || n(F).displayTime !== Q){Q=F.push;T={};if(L){U=parseInt(I.begin) / P * 1E3;P=parseInt(I.end) / P * 1E3;}else (U=r(I.begin),P=r(I.end));T.id=O;T.startTime=Math.floor(U);T.endTime=Math.floor(P);T.style=I.style;T.region=I.region;T.displayTime=T.startTime;T.duration=T.endTime - T.startTime;T.extent=I["tts:extent"] || null;T.origin=I["tts:origin"] || null;T.latestEndSoFar=0 > T.endTime?0:T.endTime;T.blocks=[{textNodes:[],region:T.region,id:O,extent:T.extent,origin:T.origin}];Q.call(F,T);}else n(F).blocks.push({textNodes:[],region:I.region,id:O,extent:I["tts:extent"] || null,origin:I["tts:origin"] || null});}else "span" === O?(G.push(I.style),I["xml:lang"] && J.push(I["xml:lang"]),P=E.styles[I.style],I.style && P && P.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(P.ruby) && n(n(F).blocks).textNodes.push({text:"",style:n(G),lang:n(J),lineBreaks:0})):"br" === O && H++;};M.write("<entries>").write(K).write("</entries>").close();}function l(C){var D;C=m(C,A);if("string" === typeof C.extent){D=C.extent.split(" ").map(function(E){return parseInt(E,10);});C.width=D[0];C.height=D[1];}else (C.width=1280,C.height=720);C.aspectRatio=C.width / C.height;"string" === typeof C.cellResolution?(D=C.cellResolution.split(" ").map(function(E){return parseInt(E,10);}),C.cellResolution={},C.cellResolution.x=D[0],C.cellResolution.y=D[1]):C.cellResolution={x:52,y:19};return C;}function m(C,D){var E;E={};D.forEach(function(H){"undefined" !== typeof C["tts:" + H]?E[H]=C["tts:" + H]:"undefined" !== typeof C["ttp:" + H]?E[H]=C["ttp:" + H]:"undefined" !== typeof C["ebutts:" + H]?E[H]=C["ebutts:" + H]:"undefined" !== typeof C["xml:" + H] && (E[H]=C["xml:" + H]);});E.styles={};E.regions={};return E;}function p(C,D){var E;for(E=C.length - 1;0 <= E;E--)if(C[E].name === D)return !0;return !1;}function q(C,D){return {lineBreaks:D.lineBreaks,text:D.text,lang:D.lang,style:this.AP.zgc(C[D.style] || ({}),this.rka),id:D.id};}r=a(4574).tK;u=a(22699).EventEmitter;v=a(60514);w=a(96379);x=a(81668);a(81824);a(81824);y=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline textCombine multiRowAlign direction ruby rubyAlign rubyPosition rubyReserve textEmphasis shear lineHeight").split(" ");A=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");z=("backgroundColor displayAlign extent origin position writingMode multiRowAlign textAlign direction").split(" ");B={info:g,debug:g};b=Object.create(u.prototype);e.prototype=b;b.start=function(){var C;C=this;C.xa.info("incremental text stream created, starting at pts " + C.Il);C.BP?h.call(C):C.vP({url:C.Hg},function(D,E){C.BP=E;h.call(C);});};b.XK=function(C){var D,E,H;D=this;C < D.Tn - D.YO && (D.Sb=[]);E=D.Sb;H=E.length?Math.max(E[E.length - 1].startTime,C):C;D.Tn=C;for(!D.nf && 5 > D.Sb.length && !D.Nr && (D.xa.info("buffer size: " + D.Sb.length + "; minimum: 5"),D.Nr=!0,D.nf=setTimeout(function(){D.nf=null;k.call(D,H + 1);},10));0 < E.length && E[0].endTime < C;)E.shift();E=f(E,C).map(d.bind(D,D.rka));C < D.ti.Qub() && 0 === E.length && (E=null);return E;};b.Gq=function(C,D){return this.ti?this.ti.Gq(C,D):0;};b.close=function(){};t.exports={hCa:e,DHb:c,Nd:n,upa:f,Cna:d};},60514:function(t){var u,v,w,x,y,A,z,B,C,D,E,H,F,G,J,L,K;function b(){}function a(M,P){if(!(this instanceof a))return new a(M,P);for(var I=0,O=v.length;I < O;I++)this[v[I]]="";this.q=this.c=this.yq=this.textNode="";this.JX=u.CO;this.wf=P || ({});this.wf.rDb=this.wf.rDb || this.wf.nad;this.YVa=this.wf.rDb?"toLowerCase":"toUpperCase";this.Nk=[];this.closed=this.eY=this.YT=!1;this.tag=this.error=null;this.fr=!!M;this.RFb=!(!M && !this.wf.RFb);this.state=K.mV;this.bF=(this.cPb=this.wf.cPb)?Object.create(u.Q1b):Object.create(u.bF);this.fK=[];this.wf.yga && (this.rn=Object.create(G));if(this.Kxa=!1 !== this.wf.position)this.position=this.line=this.wG=0;this.onready && this.onready(void 0);}function d(M,P){var I;if(!(this instanceof d))return new d(M,P);b.apply(this);this.Ie=new a(M,P);this.readable=this.writable=!0;I=this;this.Ie.onend=function(){I.emit("end");};this.Ie.onerror=function(O){I.emit("error",O);I.Ie.error=null;};w.forEach(function(O){Object.defineProperty(I,"on" + O,{get:function(){return I.Ie["on" + O];},set:function(Q){if(!Q)return (I.removeAllListeners(O),I.Ie["on" + O]=Q);I.on(O,Q);},enumerable:!0,configurable:!1});});}function n(M){return M.split("").reduce(function(P,I){P[I]=!0;return P;},{});}function c(M,P){return "[object RegExp]" === Object.prototype.toString.call(M)?!!P.match(M):M[P];}function f(M,P,I){M.textNode && g(M);M[P] && M[P](I);}function g(M){M.textNode=e(M.wf,M.textNode);M.textNode && M.ontext && M.ontext(M.textNode);M.textNode="";}function e(M,P){M.trim && (P=P.trim());M.normalize && (P=P.replace(/\s+/g," "));return P;}function h(M,P){g(M);M.Kxa && (P+="\nLine: " + M.line + "\nColumn: " + M.wG + "\nChar: " + M.c);P=Error(P);M.error=P;M.onerror && M.onerror(P);return M;}function k(M){M.YT && !M.eY && l(M,"Unclosed root tag");M.state !== K.mV && M.state !== K.zza && M.state !== K.Da && h(M,"Unexpected end");g(M);M.c="";M.closed=!0;M.onend && M.onend(void 0);a.call(M,M.fr,M.wf);return M;}function l(M,P){if("object" !== typeof M || !(M instanceof a))throw Error("bad call to strictFail");M.fr && h(M,P);}function m(M,P){var I,O;I=0 > M.indexOf(":")?["",M]:M.split(":");O=I[0];I=I[1];P && "xmlns" === M && (O="xmlns",I="");return {prefix:O,local:I};}function p(M){var P,I,O;M.fr || (M.Kl=M.Kl[M.YVa]());if(-1 !== M.fK.indexOf(M.Kl) || M.tag.attributes.hasOwnProperty(M.Kl))return M.Kl=M.Ll="";if(M.wf.yga){P=m(M.Kl,!0);I=P.local;if("xmlns" === P.prefix)if("xml" === I && M.Ll !== H)l(M,"xml: prefix must be bound to " + H + "\nActual: " + M.Ll);else if("xmlns" === I && M.Ll !== F)l(M,"xmlns: prefix must be bound to " + F + "\nActual: " + M.Ll);else {P=M.tag;O=M.Nk[M.Nk.length - 1] || M;P.rn === O.rn && (P.rn=Object.create(O.rn));P.rn[I]=M.Ll;}M.fK.push([M.Kl,M.Ll]);}else (M.tag.attributes[M.Kl]=M.Ll,f(M,"onattribute",{name:M.Kl,value:M.Ll}));M.Kl=M.Ll="";}function q(M,P){var I,O,T,U,X,Y,W;if(M.wf.yga){I=M.tag;O=m(M.tagName);I.prefix=O.prefix;I.local=O.local;I.uri=I.rn[O.prefix] || "";I.prefix && !I.uri && (l(M,"Unbound namespace prefix: " + JSON.stringify(M.tagName)),I.uri=O.prefix);O=M.Nk[M.Nk.length - 1] || M;I.rn && O.rn !== I.rn && Object.keys(I.rn).forEach(function(Z){f(M,"onopennamespace",{prefix:Z,uri:I.rn[Z]});});O=0;for(var Q=M.fK.length;O < Q;O++){T=M.fK[O];U=T[0];X=T[1];Y=m(U,!0);T=Y.prefix;W="" == T?"":I.rn[T] || "";X={name:U,value:X,prefix:T,local:Y.local,uri:W};T && "xmlns" != T && !W && (l(M,"Unbound namespace prefix: " + JSON.stringify(T)),X.uri=T);M.tag.attributes[U]=X;f(M,"onattribute",X);}M.fK.length=0;}M.tag.B$c=!!P;M.YT=!0;M.Nk.push(M.tag);f(M,"onopentag",M.tag);P || (M.state=M.RFb || "script" !== M.tagName.toLowerCase()?K.Da:K.qW,M.tag=null,M.tagName="");M.Kl=M.Ll="";M.fK.length=0;}function r(M){var P,I,Q;if(M.tagName){if(M.Cn){if("script" !== M.tagName){M.Cn+="</" + M.tagName + ">";M.tagName="";M.state=K.qW;return;}f(M,"onscript",M.Cn);M.Cn="";}P=M.Nk.length;I=M.tagName;M.fr || (I=I[M.YVa]());for(var O=I;P--;)if(M.Nk[P].name !== O)l(M,"Unexpected close tag");else break;if(0 > P)(l(M,"Unmatched closing tag: " + M.tagName),M.textNode+="</" + M.tagName + ">");else {M.tagName=I;for(I=M.Nk.length;I-- > P;){Q=M.tag=M.Nk.pop();M.tagName=M.tag.name;f(M,"onclosetag",M.tagName);for(var T in Q.rn);O=M.Nk[M.Nk.length - 1] || M;M.wf.yga && Q.rn !== O.rn && Object.keys(Q.rn).forEach(function(U){f(M,"onclosenamespace",{prefix:U,uri:Q.rn[U]});});}0 === P && (M.eY=!0);M.tagName=M.Ll=M.Kl="";M.fK.length=0;}}else (l(M,"Weird empty close tag."),M.textNode+="</>");M.state=K.Da;}u={Me:function(M,P){return new a(M,P);}};u.y3c=a;u.z3c=d;u.JNa=function(M){return new d(M,void 0);};u.CO=65536;v=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");u.qm=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(M){function P(){this.__proto__=M;}P.prototype=M;return new P();});Object.getPrototypeOf || (Object.getPrototypeOf=function(M){return M.__proto__;});Object.keys || (Object.keys=function(M){var P,I;P=[];for(I in M)M.hasOwnProperty(I) && P.push(I);return P;});a.prototype={end:function(){k(this);},write:function(M){var Q,T,U,X,Y,W;if(this.closed)return h(this,"Cannot write after close. Assign an onready handler.");if(null === M)return k(this);if(this.error)throw this.error;for(var P=0,I;this.c=I=M.charAt(P++);)switch((this.Kxa && (this.position++,"\n" === I?(this.line++,this.wG=0):this.wG++),this.state)){case K.mV:if((this.state=K.zza,"\ufeff" === I))continue;case K.zza:"<" === I?(this.state=K.uEa,this.S1a=this.position):c(x,I) || (l(this,"Non-whitespace before first tag."),this.textNode=I,this.state=K.Da);continue;case K.Da:if(this.YT && !this.eY){for(var O=P - 1;I && "<" !== I && "&" !== I;)(I=M.charAt(P++)) && this.Kxa && (this.position++,"\n" === I?(this.line++,this.wG=0):this.wG++);this.textNode+=M.substring(O,P - 1);}"<" !== I || this.YT && this.eY && !this.fr?(c(x,I) || this.YT && !this.eY || l(this,"Text data outside of root node."),"&" === I?this.state=K.kHa:this.textNode+=I):(this.state=K.uEa,this.S1a=this.position);continue;case K.qW:"<" === I?this.state=K.igb:this.Cn+=I;continue;case K.igb:"/" === I?this.state=K.Rza:(this.Cn+="<" + I,this.state=K.qW);continue;case K.uEa:"!" === I?(this.state=K.zGa,this.Wy=""):c(x,I) || (c(J,I)?(this.state=K.jdb,this.tagName=I):"/" === I?(this.state=K.Rza,this.tagName=""):"?" === I?(this.state=K.Mdb,this.iva=this.wT=""):(l(this,"Unencoded <"),this.S1a + 1 < this.position && (I=Array(this.position - this.S1a).join(" ") + I),this.textNode+="<" + I,this.state=K.Da));continue;case K.zGa:(this.Wy + I).toUpperCase() === D?(f(this,"onopencdata"),this.state=K.Vga,this.sq=this.Wy=""):"--" === this.Wy + I?(this.state=K.aha,this.Wy=this.vq=""):(this.Wy + I).toUpperCase() === E?(this.state=K.gha,(this.doctype || this.YT) && l(this,"Inappropriately located doctype declaration"),this.Wy=this.doctype=""):">" === I?(f(this,"onsgmldeclaration",this.Wy),this.Wy="",this.state=K.Da):(c(z,I) && (this.state=K.mgb),this.Wy+=I);continue;case K.mgb:I === this.q && (this.state=K.zGa,this.q="");this.Wy+=I;continue;case K.gha:">" === I?(this.state=K.Da,f(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=I,"[" === I?this.state=K.oAa:c(z,I) && (this.state=K.K7a,this.q=I));continue;case K.K7a:this.doctype+=I;I === this.q && (this.q="",this.state=K.gha);continue;case K.oAa:this.doctype+=I;"]" === I?this.state=K.gha:c(z,I) && (this.state=K.J7a,this.q=I);continue;case K.J7a:this.doctype+=I;I === this.q && (this.state=K.oAa,this.q="");continue;case K.aha:"-" === I?this.state=K.R6a:this.vq+=I;continue;case K.R6a:"-" === I?(this.state=K.Q6a,(this.vq=e(this.wf,this.vq)) && f(this,"oncomment",this.vq),this.vq=""):(this.vq+="-" + I,this.state=K.aha);continue;case K.Q6a:">" !== I?(l(this,"Malformed comment"),this.vq+="--" + I,this.state=K.aha):this.state=K.Da;continue;case K.Vga:"]" === I?this.state=K.G6a:this.sq+=I;continue;case K.G6a:"]" === I?this.state=K.H6a:(this.sq+="]" + I,this.state=K.Vga);continue;case K.H6a:">" === I?(this.sq && f(this,"oncdata",this.sq),f(this,"onclosecdata"),this.sq="",this.state=K.Da):"]" === I?this.sq+="]":(this.sq+="]]" + I,this.state=K.Vga);continue;case K.Mdb:"?" === I?this.state=K.KEa:c(x,I)?this.state=K.JEa:this.iva+=I;continue;case K.JEa:if(!this.wT && c(x,I))continue;else "?" === I?this.state=K.KEa:this.wT+=I;continue;case K.KEa:">" === I?(f(this,"onprocessinginstruction",{name:this.iva,body:this.wT}),this.iva=this.wT="",this.state=K.Da):(this.wT+="?" + I,this.state=K.JEa);continue;case K.jdb:if(c(L,I))this.tagName+=I;else {this.fr || (this.tagName=this.tagName[this.YVa]());O=this.Nk[this.Nk.length - 1] || this;Q=this.tag={name:this.tagName,attributes:{}};this.wf.yga && (Q.rn=O.rn);this.fK.length=0;">" === I?q(this):"/" === I?this.state=K.Bia:(!c(x,I) && l(this,"Invalid character in tag name"),this.state=K.kV);}continue;case K.Bia:">" === I?(q(this,!0),r(this)):(l(this,"Forward-slash in opening tag not followed by >"),this.state=K.kV);continue;case K.kV:if(c(x,I))continue;else ">" === I?q(this):"/" === I?this.state=K.Bia:c(J,I)?(this.Kl=I,this.Ll="",this.state=K.Cga):l(this,"Invalid attribute name");continue;case K.Cga:"=" === I?this.state=K.Jya:">" === I?(l(this,"Attribute without value"),this.Ll=this.Kl,p(this),q(this)):c(x,I)?this.state=K.C4a:c(L,I)?this.Kl+=I:l(this,"Invalid attribute name");continue;case K.C4a:if("=" === I)this.state=K.Jya;else if(c(x,I))continue;else (l(this,"Attribute without value"),this.Ll=this.tag.attributes[this.Kl]="",f(this,"onattribute",{name:this.Kl,value:""}),this.Kl="",">" === I?q(this):c(J,I)?(this.Kl=I,this.state=K.Cga):(l(this,"Invalid attribute name"),this.state=K.kV));continue;case K.Jya:if(c(x,I))continue;else c(z,I)?(this.q=I,this.state=K.Mya):(l(this,"Unquoted attribute value"),this.state=K.Nya,this.Ll=I);continue;case K.Mya:if(I !== this.q){"&" === I?this.state=K.Kya:this.Ll+=I;continue;}p(this);this.q="";this.state=K.D4a;continue;case K.D4a:c(x,I)?this.state=K.kV:">" === I?q(this):"/" === I?this.state=K.Bia:c(J,I)?(l(this,"No whitespace between attributes"),this.Kl=I,this.Ll="",this.state=K.Cga):l(this,"Invalid attribute name");continue;case K.Nya:if(!c(C,I)){"&" === I?this.state=K.Lya:this.Ll+=I;continue;}p(this);">" === I?q(this):this.state=K.kV;continue;case K.Rza:if(this.tagName)">" === I?r(this):c(L,I)?this.tagName+=I:this.Cn?(this.Cn+="</" + this.tagName,this.tagName="",this.state=K.qW):(!c(x,I) && l(this,"Invalid tagname in closing tag"),this.state=K.O6a);else if(c(x,I))continue;else c(J,I)?this.tagName=I:this.Cn?(this.Cn+="</" + I,this.state=K.qW):l(this,"Invalid tagname in closing tag.");continue;case K.O6a:if(c(x,I))continue;">" === I?r(this):l(this,"Invalid characters in closing tag");continue;case K.kHa:case K.Kya:case K.Lya:switch(this.state){case K.kHa:(T=K.Da,U="textNode");break;case K.Kya:T=K.Mya;U="attribValue";break;case K.Lya:(T=K.Nya,U="attribValue");}if(";" === I){I=U;O=this[I];Q=this.yq;X=Q.toLowerCase();Y="";if(this.bF[Q])Q=this.bF[Q];else if(this.bF[X])Q=this.bF[X];else {Q=X;if("#" === Q.charAt(0))if("x" === Q.charAt(1)){Q=Q.slice(2);W=parseInt(Q,16);Y=W.toString(16);}else (Q=Q.slice(1),W=parseInt(Q,10),Y=W.toString(10));Q=Q.replace(/^0+/,"");Q=Y.toLowerCase() !== Q?(l(this,"Invalid character entity"),"&" + this.yq + ";"):String.fromCodePoint(W);}this[I]=O + Q;this.yq="";this.state=T;}else c(B,I)?this.yq+=I:(l(this,"Invalid character entity"),this[U]+="&" + this.yq + I,this.yq="",this.state=T);continue;default:throw Error(this,"Unknown state: " + this.state);}if(this.position >= this.JX){M=Math.max(u.CO,10);I=P=0;for(T=v.length;I < T;I++){U=this[v[I]].length;if(U > M)switch(v[I]){case "textNode":g(this);break;case "cdata":f(this,"oncdata",this.sq);this.sq="";break;case "script":f(this,"onscript",this.Cn);this.Cn="";break;default:h(this,"Max buffer length exceeded: " + v[I]);}P=Math.max(P,U);}this.JX=u.CO - P + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){g(this);"" !== this.sq && (f(this,"oncdata",this.sq),this.sq="");"" !== this.Cn && (f(this,"onscript",this.Cn),this.Cn="");}};w=u.qm.filter(function(M){return "error" !== M && "end" !== M;});d.prototype=Object.create(b.prototype,{constructor:{value:d}});d.prototype.write=function(M){this.Ie.write(M.toString());this.emit("data",M);return !0;};d.prototype.end=function(M){M && M.length && this.write(M);this.Ie.end();return !0;};d.prototype.on=function(M,P){var I;I=this;I.Ie["on" + M] || -1 === w.indexOf(M) || (I.Ie["on" + M]=function(){var O;O=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);O.splice(0,0,M);I.emit.apply(I,O);});return b.prototype.on.call(I,M,P);};x="\r\n\t ";y="0124356789";A="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";z="'\"";B=y + A + "#";C=x + ">";D="[CDATA[";E="DOCTYPE";H="http://www.w3.org/XML/1998/namespace";F="http://www.w3.org/2000/xmlns/";G={xml:H,yga:F};x=n(x);y=n(y);A=n(A);J=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;L=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;z=n(z);B=n(B);C=n(C);K=0;u.Fr={mV:K++,zza:K++,Da:K++,kHa:K++,uEa:K++,zGa:K++,mgb:K++,gha:K++,K7a:K++,oAa:K++,J7a:K++,h_c:K++,aha:K++,R6a:K++,Q6a:K++,Vga:K++,G6a:K++,H6a:K++,Mdb:K++,JEa:K++,KEa:K++,jdb:K++,Bia:K++,kV:K++,Cga:K++,C4a:K++,Jya:K++,Mya:K++,D4a:K++,Nya:K++,Kya:K++,Lya:K++,Rza:K++,O6a:K++,qW:K++,igb:K++};u.Q1b={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};u.bF={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(u.bF).forEach(function(M){var P;P=u.bF[M];P="number" === typeof P?String.fromCharCode(P):P;u.bF[M]=P;});for(K in u.Fr)u.Fr[u.Fr[K]]=K;K=u.Fr;String.fromCodePoint || (function(){var P,I;function M(){var O,Q,T,X,Y;O=[];Q=-1;T=arguments.length;if(!T)return "";for(var U="";++Q < T;){X=Number(arguments[Q]);if(!isFinite(X) || 0 > X || 1114111 < X || I(X) != X)throw RangeError("Invalid code point: " + X);if(65535 >= X)O.push(X);else {X-=65536;Y=(X >> 10) + 55296;X=X % 1024 + 56320;O.push(Y,X);}if(Q + 1 == T || 16384 < O.length)(U+=P.apply(null,O),O.length=0);}return U;}P=String.fromCharCode;I=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:M,configurable:!0,writable:!0}):String.fromCodePoint=M;})();t.exports=u;},11946:function(t){t.exports=function(){var b;for(b=0;b < arguments.length;b++)if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];return null;};},81668:function(t,b,a){var f,g,e,h,k,l,m,p;function d(q){return "string" !== typeof q?null:g[q];}function n(q){return "string" !== typeof q?null:k[q];}function c(q,r){var u;u=q.split(" ");q=u[0];u=u[1];-1 < q.indexOf("px")?(q=parseFloat(q) / r.width,u=parseFloat(u) / r.height):(q=.01 * parseFloat(q),u=.01 * parseFloat(u));return [q,u];}f=a(11946);t.exports={qgc:function(q,r){var u,v,w,x,y,A,H;u=r.textNodes[0] || ({});v=q.regions;w=q.styles;x=q.aspectRatio;y=q.initialStyle || ({});v=v && v[r.region]?v[r.region]:{};w=w && w[u.style]?w[u.style]:{};u=u.lang;A=c(f(r.extent,v.extent,"80% 80%"),q);if(v.position){for(var z=v.position.split(" "),B=[.5,.5],C=["left","top"],D=0,E=0;E < z.length;E++){H=z[E];(H in m)?(C[D]=H,E + 1 >= z.length && (B[D++]=0)):"center" === H?B[D++]=.5:B[D++]=.01 * parseFloat(H);}-1 < ["top","bottom"].indexOf(C[0]) || -1 < ["left","right"].indexOf(C[1])?(D="bottom" === C[0]?1 - B[0]:B[0],z="right" === C[1]?1 - B[1]:B[1]):(z="right" === C[0]?1 - B[0]:B[0],D="bottom" === C[1]?1 - B[1]:B[1]);B=[(1 - A[0]) * z,(1 - A[1]) * D];}else B=null;r=B?B:c(f(B,r.origin,v.origin,"10% 10%"),q);q=Object;x/=1280 / 720;B=(1 - x) / 2;C=r[0];r=r[1];A=q.create.call(q,{marginLeft:C * x + B,marginTop:r,marginRight:(1 - (C + A[0])) * x + B,marginBottom:1 - (r + A[1])});x=v.writingMode?v.writingMode:"lrtb";A.writingMode="string" !== typeof x?null:l[x];1 < Object.keys(v).length?(x=f(w.displayAlign,v.displayAlign,"before"),"tblr" === v.writingMode || "tbrl" === v.writingMode?(A.horizontalAlignment="string" !== typeof x?null:"tblr" === v.writingMode?e[x]:h[x],A.verticalAlignment=d(f(w.textAlign,v.textAlign,"start"))):A.verticalAlignment=d(x)):A.verticalAlignment=d(f(w.displayAlign,"after"));"horizontal-tb" === A.writingMode && (A.horizontalAlignment=n(f(w.textAlign,v.textAlign,y.textAlign,"center")));A.multiRowAlignment=n(f(w.multiRowAlign,v.multiRowAlign,w.textAlign,v.textAlign,y.textAlign,u && "ja" === u.slice(0,2)?"start":"center"));y=f(v.direction,v.writingMode);A.direction="string" !== typeof y?null:p[y];return A;}};g={before:"top",start:"top",center:"center",after:"bottom",end:"bottom"};e={before:"left",center:"center",after:"right"};h={before:"right",center:"center",after:"left"};k={left:"left",start:"start",center:"center",right:"right",end:"end"};l={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};m={top:"top",bottom:"bottom",left:"left",right:"right"};p={ltr:"ltr",rtl:"rtl",lrtb:"ltr",rltb:"rtl"};},81824:function(t,b){var a,d,n,c;Object.defineProperty(b,"__esModule",{value:!0});t={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};a={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};d={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};n={SMALL:.5,"SMALL-MEDIUM":.8,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};c={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};b.uTc={Uob:n,Rpb:a,zvb:d,YGb:t,sizeScaleMap:{MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}},b3a:c};b.iAc={Uob:n,Rpb:a,zvb:d,YGb:t,sizeScaleMap:{},b3a:c};},7376:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p;Object.defineProperty(b,"__esModule",{value:!0});b.uhb=void 0;d=a(22970);n=d.__importDefault(a(11946));c=("start center end spaceAround spaceBetween withBase").split(" ");f=["before","after","both","outside"];g=["before","after","outside"];e=["filled","open"];h=["circle","dot","sesame"];k=["none","auto"];l=["before","after","outside"];m=("container base baseContainer text textContainer delimiter").split(" ");p=["characterStyle","characterSize"];t=(function(){function q(r,u,v,w){this.Bb=r;this.kv=u;this.l3b=w;this.pv=this.Ftc(v);}q.prototype.zgc=function(r,u){var v,w,x;v=(0,n.default)(this.pv.characterSize,this.kv.characterSize,"MEDIUM");w=(0,n.default)(this.pv.characterStyle,this.znc(r.fontFamily),this.kv.characterStyle,"PROPORTIONAL_SANS_SERIF");x=this.sHc(r.fontSize);return {characterUnderline:"underline" === r.textDecoration,characterItalic:"italic" === r.fontStyle,characterStyle:w,windowOpacity:this.gYa((0,n.default)(this.pv.windowOpacity,this.kv.windowOpacity,"OPAQUE")),characterOpacity:this.gYa((0,n.default)(this.pv.characterOpacity,this.kv.characterOpacity,"OPAQUE")),backgroundOpacity:this.gYa((0,n.default)(this.pv.backgroundOpacity,r.opacity,this.kv.backgroundOpacity,"OPAQUE")),characterColor:this.z8((0,n.default)(this.pv.characterColor,r.color,this.kv.characterColor,"#ffffff")),backgroundColor:this.z8((0,n.default)(this.pv.backgroundColor,r.backgroundColor,this.kv.backgroundColor,null)),windowColor:this.z8((0,n.default)(this.pv.windowColor,r.windowColor,this.kv.windowColor,null)),characterEdgeAttributes:(0,n.default)(this.pv.characterEdgeAttributes,this.kv.characterEdgeAttributes,null),characterSize:this.bbc(v,w,x),characterTracking:this.cbc(v,w),characterEdgeWidth:(0,n.default)(this.R$b(r.textOutline),0),characterEdgeBlur:(0,n.default)(this.P$b(r.textOutline),0),characterEdgeColor:this.z8((0,n.default)(this.pv.characterEdgeColor,this.Q$b(r.textOutline),this.kv.characterEdgeColor,"#000000")),direction:(0,n.default)(this.pv.direction,r.direction,this.kv.direction,"ltr"),ruby:(0,n.default)(this.pua(r.ruby,m),null),rubyAlign:(0,n.default)(this.pua(r.rubyAlign,c),null),rubyPosition:(0,n.default)(this.pua(r.rubyPosition,g),null),rubyReserve:(0,n.default)(this.pua(r.rubyReserve,f),null),textEmphasis:this.PHc(r.textEmphasis),shear:r.shear?.01 * parseFloat(r.shear):null,textCombine:r.textCombine?r.textCombine:null,lineHeight:r.lineHeight?this.xHc(r.lineHeight,u):null};};q.prototype.xHc=function(r,u){var v;v=r.match(/^([\d\.]+)([a-z%]*)$/i);if(!v)return null;r=parseFloat(v[1]);switch(v[2]){case "rh":(null === u || void 0 === u?0:u.height)?(r*=u.height,u="px"):u=v[2];break;case "rw":(null === u || void 0 === u?0:u.width)?(r*=u.width,u="px"):u=v[2];break;default:u=v[2];}return {value:r,Lh:u};};q.prototype.gYa=function(r){return this.Bb.YGb[r];};q.prototype.z8=function(r){return "string" !== typeof r || "#" === r[0] && 7 === r.length?r:"#" === r[0] && 4 === r.length?"#" + r[1] + r[1] + r[2] + r[2] + r[3] + r[3]:this.Bb.Rpb[r.toLowerCase()];};q.prototype.znc=function(r){return "string" !== typeof r?null:this.Bb.zvb[r];};q.prototype.bbc=function(r,u,v){var w;v*=this.Bb.Uob[r] || 1;w=1;this.Bb.sizeScaleMap[r] && (w=this.Bb.sizeScaleMap[r][u] || 1);return 1 / 19 * v * w;};q.prototype.cbc=function(r,u){var v;v=0;this.Bb.b3a[r] && (v=this.Bb.b3a[r][u] || 0);return v;};q.prototype.R$b=function(r){return "string" !== typeof r?null:this.DYa(r).width;};q.prototype.P$b=function(r){return "string" !== typeof r?null:this.DYa(r).blur;};q.prototype.Q$b=function(r){return "string" !== typeof r?null:this.DYa(r).color;};q.prototype.DYa=function(r){var u,v,w;r=(r || "").split(" ");u=(/^[0-9]/).test(r[0]);v=u?0:1;w=parseInt(r[v]);v=parseInt(r[v + 1]);return {color:u?"#000000":this.z8(r[0]),width:0 < w?w:0,blur:0 < v?v:0};};q.prototype.sHc=function(r){r=(r || "").split(" ")[0] || "";return -1 < r.indexOf("%")?parseInt(r,10) / 100:-1 < r.indexOf("em")?parseFloat(r):1;};q.prototype.pua=function(r,u){if(-1 < u.indexOf(r))return r;};q.prototype.PHc=function(r){var u,v;if(!r)return null;r=r.split(" ");if(0 === r.length)return null;u=this.jpa(r,l);u=u.length?u[0]:"outside";v=this.jpa(r,k);if(v.length)return this.h1a(v[0],"",u);v=this.jpa(r,e);r=this.jpa(r,h);return r.length || v.length?this.h1a(r.length?r[0]:"circle",v.length?v[0]:"filled",u):this.h1a("auto","",u);};q.prototype.jpa=function(r,u){return r.filter(function(v){return -1 !== u.indexOf(v);});};q.prototype.h1a=function(r,u,v){return {textEmphasisShape:r,textEmphasisFill:u,textEmphasisPosition:v};};q.prototype.iUa=function(r){return r && 0 === Object.keys(r).length;};q.prototype.Ftc=function(r){var u,v,y;if(this.l3b){v={};try{for(var w=d.__values(p),x=w.next();!x.done;x=w.next()){y=x.value;void 0 !== r[y] && (v[y]=r[y]);}}catch(z){var A;A={error:z};}finally{try{x && !x.done && (u=w.return) && u.call(w);}finally{if(A)throw A.error;}}return v;}return r;};return q;})();b.uhb=t;},96379:function(t,b,a){var n;function d(c,f){var g,e,h,k,l,m,p,q;this.UIa=!0;g=c.indexOf("<p");e=[];h=g;k=-1;do {l={};l.bSc=h;m=c.indexOf("begin=",h) + 7;p=c.indexOf("end=",h) + 5;q=c.substr(m,12);h === g && -1 !== q.indexOf(":") && (this.UIa=!1);this.UIa?(m=Math.floor(parseInt(c.substr(m,25),10) / f * 1E3),p=Math.floor(parseInt(c.substr(p,25),10) / f * 1E3)):(m=n(c.substr(m,12)),p=n(c.substr(p,12)));k=p > k?p:k;l.startTime=m;l.endTime=p;l.latestEndSoFar=k;l.Vtb=c.indexOf("/p>",h) + 3;h=l.Vtb;e.push(l);h=c.indexOf("<p",h);}while(-1 !== h);this.mv=e;this.BP=c;}n=a(4574).tK;d.prototype.Qub=function(){return this.mv[this.mv.length - 1].endTime;};d.prototype.Gq=function(c,f){return this.mv.filter(function(g){return g.startTime <= f && g.endTime >= c;}).length;};d.prototype.Arc=function(c){for(var f="",g=this.mv.filter(function(h){return h.startTime <= c && c < h.endTime || h.startTime >= c;}),e=4;e + 1 < g.length && g[e + 1].startTime === g[4].startTime;)e++;g=g.slice(0,e + 1);0 < g.length && (f=this.BP.slice(g[0].bSc,g[g.length - 1].Vtb));return f;};t.exports=d;},23309:function(t,b,a){var d,n;Object.defineProperty(b,"__esModule",{value:!0});b.eia=b.fbb=b.w5=void 0;d=a(91176);b.w5=1E4;t=(function(){function c(f){this.qh=[];this.L6=0;this.xa=f;}Object.defineProperty(c.prototype,"endOfStreamSegment",{get:function(){return this.M2b;},enumerable:!1,configurable:!0});c.prototype.uR=function(f){return (0,d.cc)(this.qh,function(g){return f >= g.Hb && f < g.Lg;});};c.prototype.CKa=function(f,g){var h;for(var e=this.qh;0 < e.length && 300 <= f.L - e[0].L;)this.tea();for(;0 < e.length && 300 <= e[e.length - 1].L - f.L;)this.t0a();h=new n(f,g);f=e.length;if(0 === f || e[f - 1].L < h.L)this.u0a(h);else {f=(0,d.cc)(e,function(k){return k.L >= h.L;});if((null === f || void 0 === f?void 0:f.L) === h.L)return;this.v0a(e.indexOf(f),h);}h.endOfStream && (this.xa.trace("EOS segment added to segment manager"),this.M2b=h);this.L6=e[e.length - 1].L;};c.prototype.Tfa=function(f){var g;if("undefined" === typeof f)this.xa.warn("Current segment is undefined.");else for((this.fq=f,this.xa.trace(("Current segment id is ").concat(f.L)));(null === (g=this.qh[0]) || void 0 === g?void 0:g.Lg) < f.Lg - b.w5;)this.tea();};c.prototype.QRa=function(){if(this.nv){if(this.L6 !== this.nv.L)return this.qh[this.qh.indexOf(this.nv) + 1];}else return this.qh[0];};c.prototype.dC=function(f){this.nv=this.kD(f);};c.prototype.kD=function(f){var g;g=(0,d.cc)(this.qh,function(e){return e.L === f;});"undefined" === typeof g && this.xa.error("Segment with segmentId " + f + " is not in segmentArray");return g;};c.prototype.L$=function(){var f;return (null === (f=this.nv) || void 0 === f?void 0:f.L) || -1;};c.prototype.D3a=function(f,g){f=this.kD(f);"undefined" !== typeof f && (this.qh[this.qh.indexOf(f)].header=g);};c.prototype.iyb=function(f){return this.kD(f);};c.prototype.mRa=function(f){f=this.kD(f);return (null === f || void 0 === f?void 0:f.header) || ({});};c.prototype.tea=function(){this.qh.shift();};c.prototype.u0a=function(f){this.qh.push(f);};c.prototype.v0a=function(f,g){this.qh.splice(f,0,g);};c.prototype.t0a=function(){this.qh.pop();};return c;})();b.fbb=t;n=(function(){return function(c,f){this.L=c.L;this.xml=c.xml;this.Hb=c.Hb;this.Lg=c.Lg;this.CR=f;this.size=c.size;this.Jy=c.Jy;this.endOfStream=c.endOfStream;};})();b.eia=n;},51665:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.hbb=void 0;d=a(22970);t=(function(n){function c(f,g){g=n.call(this,f,g) || this;g.xml=f.xml;g.size=f.size;return g;}d.__extends(c,n);return c;})(a(23309).eia);b.hbb=t;},37494:function(t,b,a){var d,n,c,f,g,e,h;Object.defineProperty(b,"__esModule",{value:!0});b.ibb=void 0;d=a(22970);t=a(22699);n=a(18797);c=a(60514);f=a(23309);g=a(4574);e=a(4574);h=t.EventEmitter;a=(function(k){function l(m){var p,q,r;p=k.call(this) || this;q=m.od;r=m.wa;h.call(p);p.$F=new g.SCa(r);p.Il="number" === typeof q?m.od:0;p.xa="object" === typeof r?m.wa:console;p.Sb=[];p.Tk=0;p.Tn=p.Il;p.nf=null;p.Vk=!1;p.Nr=!1;p.YO=m.xda || 0;p.He=new f.fbb(p.xa);p.AP=m.g2a;p.xa.trace("LiveTextStream created with options",m);return p;}d.__extends(l,k);l.prototype.start=function(){this.xa.info(("Incremental live text stream created, starting at pts ").concat(this.Il));"undefined" !== typeof this.He.uR(this.Il) && this.VS.call(this,this.Il);};l.prototype.UZa=function(m){var p,q,r,u;p=this;q=m.xml;r=q.indexOf("<p");this.xa.trace("pushNextSegment",m);this.He.CKa(m,-1 !== r?r:0);if(!this.Vk){u=this.He.qh[0];this.He.Tfa(u);this.Il=u.Hb;}-1 < r?(this.$F.dmb(q,m.L,m.Jy),this.xa.trace(("Live segment ").concat(m.L," is pushed to segment manager"),{Hb:m.Hb,Lg:m.Lg,Oic:m.Jy}),!this.Vk && 3 > this.Tk && (q=0 < this.Sb.length?this.Sb[this.Sb.length - 1].startTime + 1:this.Il,this.xa.trace("parseNextSegment is called from push new live Segment at " + q),this.VS.call(this,q))):(this.xa.trace(("Live segment ").concat(m.L," is pushed to segment manager, it is an empty segment")),this.Vk || setTimeout(function(){p.dC(m.L);},10));};l.prototype.XK=function(m){var p,q,r,u,v,w;p=this;u=this;u.xa.trace(("LiveTextStream:get subtitles at pts ").concat(m));v=u.He.uR(m);if("undefined" === typeof v)return (u.xa.debug(("LiveTextStream: get subtitle at pts ").concat(m," returns empty result with segment not available at this pts")),[]);u.He.Tfa(v);m < u.Tn - u.YO?(u.xa.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(m),(", _lastPts: ").concat(u.Tn,", _backupTolerance: ").concat(u.YO)),u.Sb=[],u.Tk=0):(u.Tk=0 < u.Sb.length?Math.max(u.He.L$() - v.L + 1,0):0,0 === u.Tk && (u.Sb=[]));v=u.Sb;u.xa.trace(("LiveTextStream: lastBufferedPts calculation ").concat(m),(", buffer.length: ").concat(v.length,", result: ").concat(0 < v.length?null === (q=v[v.length - 1]) || void 0 === q?void 0:q.startTime:m));q=this.He.nv;w=0 < v.length && void 0 !== q?q.Hb:m;u.Tn=m;u.xa.info("LiveTextStream: timer is " + u.nf + " bufffered segment number is " + u.Tk + " is parsing entry : " + this.Nr + " maxBufferedStartPts " + (null === (r=this.He.nv) || void 0 === r?void 0:r.Hb));for(!u.nf && 3 > u.Tk && !u.Nr && (u.xa.info("LiveTextStream: buffer size: " + u.Tk + "; minimum: 3"),u.Nr=!0,u.nf=setTimeout(function(){u.nf=null;p.xa.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (w + 1));p.VS.call(u,w + 1);},10));0 < v.length && v[0].endTime < m;)v.shift();return (0,n.upa)(v,m).map(function(x){var y;y=u.He.mRa(x.segId);return n.Cna.call(u,y,x);});};l.prototype.Gq=function(m,p){return this.$F?this.$F.Gq(m,p):0;};l.prototype.close=function(){};l.prototype.VS=function(m){var p;p=this.NRa.call(this,m);"undefined" !== typeof p?(this.xa.trace("Next segment to parse at pts " + m + " is segment " + p.L),0 === p.CR?(this.xa.trace("This is an empty segment"),this.dC(p.L)):(this.BYa.call(this,p),this.xa.trace("parseNextSegEntries buffer length: " + this.Sb.length))):(this.xa.debug("Next segment is undefined at pts " + m),this.Nr=!1);};l.prototype.NRa=function(m){var p,q;q=this.$F.zxb(m);this.xa.trace(("Most recent entry at current pts ").concat(m," is segment id  ").concat(q));-1 === q && (q=(null === (p=this.He.uR(m)) || void 0 === p?void 0:p.L) || -1);return q === this.He.L$()?this.He.QRa():this.He.kD(q);};l.prototype.BYa=function(m){var p,q,r,u,v;p=this;q=this;r=m.xml.slice(0,m.CR);u=m.xml.slice(m.CR,m.xml.lastIndexOf("/p>") + 3);(0,n.DHb)(r,function(w,x){null !== w?(w.tzb=r,w.L=m.L,q.emit("error",w)):(v=x,q.He.D3a(m.L,v),p.xYa.call(q,u,v,m));});};l.prototype.xYa=function(m,p,q){var r,u,v,w,x,y,A;r=this;u=this;v=0;w=[];x=p.defaultStyle?[p.defaultStyle]:[];y=p.lang?[p.lang]:[];u.xa.debug(m);A=c.Me(!0);A.onerror=function(z){z.xml=m;u.emit("error",z);};A.onend=function(){var z;z=u.Sb.reduce(function(B,C){C=C.blocks.reduce(function(D,E){return D.concat([E.id]);},[]);return B.concat(C);},[]);w.forEach(function(B){var C;if(-1 === z.indexOf(B.id)){C=B && B.blocks && B.blocks.filter(function(D){return 0 < D.textNodes.length;});C && 0 < C.length && (B.blocks=C,u.Sb.push(B));}});r.dC(q.L);};A.ontext=function(z){("" !== z.trim() || z.match(/ +/)) && (0,n.Nd)((0,n.Nd)(w).blocks).textNodes.push({text:z.match(/ +/)?z:z.trim(),style:(0,n.Nd)(x),lang:(0,n.Nd)(y),lineBreaks:v});v=0;};A.onclosetag=function(){var z;z=A.tag;"undefined" !== typeof z.attributes.style && x.pop();"undefined" !== typeof z.attributes["xml:lang"] && y.pop();};A.onopentag=function(z){var B,C;B=z.attributes;z=z.name;if("p" === z){v=0;z=q.L.toString() + "_" + B["xml:id"];B.style && x.push(B.style);B["xml:lang"] && y.push(B["xml:lang"]);C=(0,e.tK)(B.begin);0 === w.length || (0,n.Nd)(w).displayTime !== C?(B=r.xNa(z,0,B,q.Jy),B.segId=q.L,w.push(B)):(0,n.Nd)(w).blocks.push({textNodes:[],region:B.region,id:z,extent:B["tts:extent"] || null,origin:B["tts:origin"] || null});}else "span" === z?(x.push(B.style),B["xml:lang"] && y.push(B["xml:lang"]),z=p.styles[B.style],B.style && z && z.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(z.ruby) && (0,n.Nd)((0,n.Nd)(w).blocks).textNodes.push({text:"",style:(0,n.Nd)(x),lang:(0,n.Nd)(y),lineBreaks:0})):"br" === z && v++;};A.write("<entries>").write(m).write("</entries>").close();};l.prototype.xNa=function(m,p,q,r){var u;u={};u.id=m;u.startTime=(0,e.tK)(q.begin || "") - r;u.endTime=(0,e.tK)(q.end || "") - r;u.style=q.style;u.region=q.region;u.displayTime=u.startTime;u.duration=u.endTime - u.startTime;u.extent=q["tts:extent"] || null;u.origin=q["tts:origin"] || null;u.latestEndSoFar=p > u.endTime?p:u.endTime;u.blocks=[{textNodes:[],region:u.region,id:m,extent:u.extent || null,origin:u.origin || null}];return u;};l.prototype.dC=function(m){this.He.dC(m);this.Tk+=1;this.Nr=!1;this.xa.trace("updateMaxParsedSegment " + m);if(!this.Vk && 3 <= this.Tk || this.He.mPa && this.He.iyb(m) === this.He.mPa)(this.He.mPa && this.He.iyb(m) === this.He.mPa && this.xa.trace("Marking stream ready due to EOS"),this.Vk=!0,this.emit("ready"));};return l;})(h);b.ibb=a;},4574:function(t,b,a){var n,c;function d(f){var g;f=f.split(".");g=f[0].split(":").map(function(e){return parseInt(e,0);});return (3600 * g[0] + 60 * g[1] + g[2]) * c + parseInt(f[1]);}Object.defineProperty(b,"__esModule",{value:!0});b.SCa=void 0;b.tK=d;n=a(91176);c=1E3;t=(function(){function f(g){this.mv=[];this.xa=g;}f.prototype.dmb=function(g,e,h){var k,l,m,p,q,r;void 0 === h && (h=0);k=this.mv;l=g.indexOf("<p");m=-1;do {p={};p.L=e;p.gOb=l;q=g.indexOf("begin=",l) + 7;r=g.indexOf("end=",l) + 5;q=d(g.substring(q,q + 12)) - h;r=d(g.substring(r,r + 12)) - h;m=r > m?r:m;p.startTime=q;p.endTime=r;p.latestEndSoFar=m;p.Flc=g.indexOf("/p>",l) + 3;l=p.Flc;if(0 === k.length || p.startTime > k[k.length - 1].startTime)(k.push(p),this.xa.trace("LiveTtmlIndex:  entry is pushed to the end",{startTime:p.startTime,slc:p.endTime}));else if((r=(0,n.cc)(k,function(u){return u.startTime >= p.startTime;}),r.startTime !== p.startTime || r.gOb !== p.gOb))(r=k.indexOf(r),k.splice(r,0,p),this.xa.trace(("LiveTtmlIndex:  entry is pushed at index number ").concat(r),{startTime:p.startTime,slc:p.endTime}));l=g.indexOf("<p",l);}while(-1 !== l);};f.prototype.Gq=function(g,e){return this.mv.filter(function(h){return h.startTime <= e && h.endTime >= g;}).length;};f.prototype.OZa=function(g){this.mv=this.mv.filter(function(e){return e.startTime >= g;});};f.prototype.zxb=function(g){var e;e=(0,n.cc)(this.mv,function(h){return h.startTime <= g && g < h.endTime || h.startTime >= g;});return (null === e || void 0 === e?void 0:e.L) || -1;};f.prototype.Qub=function(){return 0 < this.mv.length?this.mv[this.mv.length - 1].endTime:0;};return f;})();b.SCa=t;},97115:function(t,b,a){var d;Object.defineProperty(b,"__esModule",{value:!0});b.eia=b.Vcb=b.w5=void 0;d=a(91176);b.w5=1E4;t=(function(){function n(c){this.qh=[];this.L6=0;this.xa=c;}n.prototype.uR=function(c){var f;f=(0,d.cc)(this.qh,function(g){return c >= g.Hb && c < g.Lg;});"undefined" === typeof f && this.xa.warn("Get Segment at pts " + c + " is undefined");return f;};n.prototype.CKa=function(c){var g;for(var f=this.qh;0 < f.length && 300 <= c.L - f[0].L;)this.tea();for(;0 < f.length && 300 <= f[f.length - 1].L - c.L;)this.t0a();g=f.length;if(0 === g || f[g - 1].L < c.L)this.u0a(c);else {g=(0,d.cc)(f,function(e){return e.L >= c.L;});if((null === g || void 0 === g?void 0:g.L) === c.L)return;this.v0a(f.indexOf(g),c);}this.L6=f[f.length - 1].L;};n.prototype.Tfa=function(c){var f;if("undefined" === typeof c)this.xa.warn("Current segment is undefined.");else for((this.fq=c,this.xa.trace(("Current segment id is ").concat(c.L)));(null === (f=this.qh[0]) || void 0 === f?void 0:f.Lg) < c.Lg - b.w5;)this.tea();};n.prototype.QRa=function(){if(this.nv){if(this.L6 !== this.nv.L)return this.qh[this.qh.indexOf(this.nv) + 1];}else return this.qh[0];};n.prototype.dC=function(c){this.nv=this.kD(c);};n.prototype.kD=function(c){var f;f=(0,d.cc)(this.qh,function(g){return g.L === c;});"undefined" === typeof f && this.xa.error("Segment with segmentId " + c + " is not in segmentArray");return f;};n.prototype.L$=function(){var c;return (null === (c=this.nv) || void 0 === c?void 0:c.L) || -1;};n.prototype.D3a=function(c,f){c=this.kD(c);"undefined" !== typeof c && (this.qh[this.qh.indexOf(c)].header=f);};n.prototype.mRa=function(c){c=this.kD(c);return (null === c || void 0 === c?void 0:c.header) || ({});};n.prototype.tea=function(){this.qh.shift();};n.prototype.u0a=function(c){this.qh.push(c);};n.prototype.v0a=function(c,f){this.qh.splice(c,0,f);};n.prototype.t0a=function(){this.qh.pop();};return n;})();b.Vcb=t;b.eia=(function(){return function(n,c){this.L=n.L;this.xml=n.xml;this.Hb=n.Hb;this.Lg=n.Lg;this.CR=c;this.Jy=n.Jy;};})();},76851:function(t,b,a){var d,n,c,f,g,e,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.Wcb=void 0;d=a(22970);t=a(22699);n=a(18797);c=a(76495);f=a(51665);g=a(4574);e=a(97115);h=a(74528);k=t.EventEmitter;a=(function(l){function m(p,q){var r,u,v;void 0 === q && (q=c.q5.Da);r=l.call(this) || this;u=p.od;v=p.wa;k.call(r);r.$F=new g.SCa(v);r.Il="number" === typeof u?p.od:0;r.xa="object" === typeof v?p.wa:console;r.Sb=[];r.Tk=0;r.Tn=r.Il;r.nf=null;r.Vk=!1;r.Nr=!1;r.YO=p.xda || 0;r.He=new e.Vcb(r.xa);r.AP=p.g2a;r.Wkb=q;if(q === c.q5.Da)r.NJa=new h.Kgb(r.xa,r.AP);else throw Error("Not implemented yet");r.xa.trace("LiveTextStream created with options",p);return r;}d.__extends(m,l);m.prototype.start=function(){this.xa.info(("Incremental live text stream created, starting at pts ").concat(this.Il));"undefined" !== typeof this.He.uR(this.Il) && this.VS.call(this,this.Il);};m.prototype.UZa=function(p){var q,r,u,v;q=this;r=p.xml;u=r.indexOf("<p");if(this.Wkb === c.q5.Da)v=new f.hbb(p,-1 !== u?u:0);else throw Error("Not yet implemented");this.He.CKa(v);this.Vk || (p=this.He.qh[0],this.He.Tfa(p),this.Il=p.Hb);-1 < u?(this.$F.dmb(r,v.L,v.Jy),this.xa.trace(("Live segment ").concat(v.L," is pushed to segment manager"),{Hb:v.Hb,Lg:v.Lg,Oic:v.Jy}),!this.Vk && 4 > this.Tk && (r=0 < this.Sb.length?this.Sb[this.Sb.length - 1].startTime + 1:this.Il,this.xa.trace("parseNextSegment is called from push new live Segment at " + r),this.VS.call(this,r))):(this.xa.trace(("Live segment ").concat(v.L," is pushed to segment manager, it is an empty segment")),this.Vk || setTimeout(function(){q.dC(v.L);},10));};m.prototype.XK=function(p){var q,r,u,v,w,x;q=this;v=this;v.xa.trace(("LiveTextStream:get subtitles at pts ").concat(p));w=v.He.uR(p);if("undefined" === typeof w)return (v.xa.debug(("LiveTextStream: get subtitle at pts ").concat(p," returns empty result with segment not available at this pts")),[]);v.He.Tfa(w);p < v.Tn - v.YO?(v.xa.trace(("Pts is less than backup tolerance, resetting buffer. pts: ").concat(p),(", _lastPts: ").concat(v.Tn,", _backupTolerance: ").concat(v.YO)),v.Sb=[],v.Tk=0):(v.Tk=0 < v.Sb.length?Math.max(v.He.L$() - w.L + 1,0):0,0 === v.Tk && (v.Sb=[]));w=v.Sb;v.xa.trace(("LiveTextStream: lastBufferedPts calculation ").concat(p),(", buffer.length: ").concat(w.length,", result: ").concat(0 < w.length?null === (r=w[w.length - 1]) || void 0 === r?void 0:r.startTime:p));r=this.He.nv;x=0 < w.length && void 0 !== r?r.Hb:p;v.Tn=p;v.xa.info("LiveTextStream: timer is " + v.nf + " bufffered segment number is " + v.Tk + " is parsing entry : " + this.Nr + " maxBufferedStartPts " + (null === (u=this.He.nv) || void 0 === u?void 0:u.Hb));for(!v.nf && 4 > v.Tk && !v.Nr && (v.xa.info("LiveTextStream: buffer size: " + v.Tk + "; minimum: 4"),v.Nr=!0,v.nf=setTimeout(function(){v.nf=null;q.xa.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (x + 1));q.VS.call(v,x + 1);},10));0 < w.length && w[0].endTime < p;)w.shift();return this.NJa.upa(w,p).map(function(y){var A;A=v.He.mRa(y.segId);return q.NJa.Cna(A,y);});};m.prototype.Gq=function(p,q){return this.$F?this.$F.Gq(p,q):0;};m.prototype.close=function(){};m.prototype.VS=function(p){d.__awaiter(this,void 0,void 0,function(){var q,r;return d.__generator(this,function(u){switch(u.label){case 0:q=this;r=this.NRa.call(q,p);if("undefined" === typeof r)return [3,4];q.xa.trace("Next segment to parse at pts " + p + " is segment " + r.L);if(0 !== r.CR)return [3,1];q.xa.trace("This is an empty segment");this.dC(r.L);return [3,3];case 1:return [4,this.BYa.call(q,r)];case 2:(u.T(),q.xa.trace("parseNextSegEntries buffer length: " + q.Sb.length),u.label=3);case 3:return [3,5];case 4:return (q.xa.debug("Next segment is undefined at pts " + p),this.Nr=!1,[2]);case 5:return [2];}});});};m.prototype.NRa=function(p){var q,r;r=this.$F.zxb(p);this.xa.trace(("Most recent entry at current pts ").concat(p," is segment id  ").concat(r));-1 === r && (r=(null === (q=this.He.uR(p)) || void 0 === q?void 0:q.L) || -1);return r === this.He.L$()?this.He.QRa():this.He.kD(r);};m.prototype.BYa=function(p){return d.__awaiter(this,void 0,void 0,function(){var q,r,u,v,w,x,y,A,z;return d.__generator(this,function(B){switch(B.label){case 0:(q=this,r=p.xml.slice(0,p.CR),B.label=1);case 1:return (B.tc.push([1,3,,4]),[4,this.uHc(r)]);case 2:return (u=B.T(),[3,4]);case 3:return (v=B.T(),this.ZOa(v),[3,4]);case 4:if(!u)return (w=Error("Parsing header text returned undefined"),this.ZOa(w),[2]);if(u.error)return (x=u.error,x.tzb=r,x.L=p.L,this.ZOa(x),[2]);A=u.head;this.He.D3a(p.L,A);return this.Wkb !== c.q5.Da?[3,6]:[4,this.NJa.xYa(p,A)];case 5:return (y=B.T(),[3,7]);case 6:throw Error("Not yet implemented");case 7:return (z=q.Sb.reduce(function(C,D){D=D.blocks.reduce(function(E,H){return E.concat([H.id]);},[]);return C.concat(D);},[]),y && (y.forEach(function(C){var D;if(-1 === z.indexOf(C.id)){D=C && C.blocks && C.blocks.filter(function(E){return 0 < E.textNodes.length;});D && 0 < D.length && (C.blocks=D,q.Sb.push(C));}}),this.dC(p.L)),[2]);}});});};m.prototype.ZOa=function(p){this.xa.error(p);this.emit("error",p);};m.prototype.dC=function(p){this.He.dC(p);this.Tk+=1;this.Nr=!1;!this.Vk && 4 <= this.Tk && (this.Vk=!0,this.emit("ready"));};m.prototype.uHc=function(p){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(){return [2,new Promise(function(q){(0,n.DHb)(p,function(r,u){r?q({error:r}):q({head:u});});})];});});};return m;})(k);b.Wcb=a;},74528:function(t,b,a){var d,n,c,f;Object.defineProperty(b,"__esModule",{value:!0});b.Kgb=void 0;d=a(22970);n=a(18797);c=a(60514);f=a(4574);t=(function(){function g(e,h){this.xa=e;this.AP=h;}g.prototype.xYa=function(e,h){return d.__awaiter(this,void 0,void 0,function(){var k,l,m,p,q,r,u,v,w;w=this;return d.__generator(this,function(){k=this;l=0;m=[];p=h.defaultStyle?[h.defaultStyle]:[];q=h.lang?[h.lang]:[];r=e.xml.lastIndexOf("/p>") + 3;u=e.xml.slice(e.CR,r);k.xa.debug(u);v=c.Me(!0);return [2,new Promise(function(x,y){v.onerror=function(A){A.xml=u;y(A);};v.onend=function(){x(m);};v.ontext=function(A){("" !== A.trim() || A.match(/ +/)) && (0,n.Nd)((0,n.Nd)(m).blocks).textNodes.push({text:A.match(/ +/)?A:A.trim(),style:(0,n.Nd)(p),lang:(0,n.Nd)(q),lineBreaks:l});l=0;};v.onclosetag=function(){var A;A=v.tag;"undefined" !== typeof A.attributes.style && p.pop();"undefined" !== typeof A.attributes["xml:lang"] && q.pop();};v.onopentag=function(A){var z,B;z=A.attributes;A=A.name;if("p" === A){l=0;A=e.L.toString() + "_" + z["xml:id"];z.style && p.push(z.style);z["xml:lang"] && q.push(z["xml:lang"]);B=(0,f.tK)(z.begin);0 === m.length || (0,n.Nd)(m).displayTime !== B?(z=w.xNa(A,0,z,e.Jy),z.segId=e.L,m.push(z)):(0,n.Nd)(m).blocks.push({textNodes:[],region:z.region,id:A,extent:z["tts:extent"] || null,origin:z["tts:origin"] || null});}else "span" === A?(p.push(z.style),z["xml:lang"] && q.push(z["xml:lang"]),A=h.styles[z.style],z.style && A && A.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(A.ruby) && (0,n.Nd)((0,n.Nd)(m).blocks).textNodes.push({text:"",style:(0,n.Nd)(p),lang:(0,n.Nd)(q),lineBreaks:0})):"br" === A && l++;};v.write("<entries>").write(u).write("</entries>").close();})];});});};g.prototype.upa=function(e,h){return n.upa.call(this,e,h);};g.prototype.Cna=function(e,h){return n.Cna.call(this,e,h);};g.prototype.xNa=function(e,h,k,l){var m;m={};m.id=e;m.startTime=(0,f.tK)(k.begin || "") - l;m.endTime=(0,f.tK)(k.end || "") - l;m.style=k.style;m.region=k.region;m.displayTime=m.startTime;m.duration=m.endTime - m.startTime;m.extent=k["tts:extent"] || null;m.origin=k["tts:origin"] || null;m.latestEndSoFar=h > m.endTime?h:m.endTime;m.blocks=[{textNodes:[],region:m.region,id:e,extent:m.extent || null,origin:m.origin || null}];return m;};return g;})();b.Kgb=t;},92020:function(t,b,a){var n,c,f,g,e,h,k,l,m,p;function d(q){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(q);}Object.defineProperty(b,"__esModule",{value:!0});b.g1b=void 0;n=a(22970);t=a(22699);c=a(18797);f=a(81824);g=a(7376);e=a(37494);h=a(76851);k=a(76495);l=a(66827);m=a(3992);p=a(31496);t=(function(q){function r(u,v){var w,x,y,A,z,B,C,D,E;C=q.call(this) || this;C.$a="paused";C.D6=[];C.Tn=0;C.Jkb=!0;D=u.yD || !1;C.xa=u.wa || console;C.vP=u.request;C.BC=u.nsc;C.pka=u.z9c || (function(H,F){return H - (null !== F && void 0 !== F?F:C.BC());});C.$a="paused";C.D6=[];C.T6=v.profile;C.Hg=v.url;C.tP=v.od;C.Tn=C.tP || 0;C.Jkb=null !== (w=v.Gcd) && void 0 !== w?w:!0;C.MW=null !== (x=v.S7c) && void 0 !== x?x:!1;w={url:C.Hg,request:C.vP,od:null !== (y=C.tP) && void 0 !== y?y:0,wa:C.xa,yD:D,bufferSize:v.bufferSize,xda:v.xda || 0,fob:v.fob,Ba:null !== (A=v.Ba) && void 0 !== A?A:!1};C.MW && (C.Tka=new l.DAa(),C.ska=new l.DAa());if("nflx-cmisc" === v.profile){E=n.__assign(n.__assign({},w),{offset:v.GWa,size:v.HEb,iB:v.iB,rwa:v.rwa,wtb:v.wtb});C.Qe=new m(E);}else if((C.pv=v.preferences,C.kv=v.eg,y=null !== (B=null !== (z=v.x5c) && void 0 !== z?z:v.Ba) && void 0 !== B && B?f.iAc:f.uTc,(z=null !== (E=v.uTa) && void 0 !== E?E:!1) && C.xa.debug("ignoreUserTextPreferences was true, ignoring preferences"),C.AP=new g.uhb(y,C.kv || ({}),C.pv || ({}),z),E=n.__assign(n.__assign({},w),{profile:v.profile,xml:v.xml,g2a:C.AP}),v.Ba && d(C.T6) && void 0 === E.xml))C.Qe=v.Yed?new h.Wcb(E,k.q5.Da):new e.ibb(E);else if(d(C.T6) && "function" === typeof c.hCa)C.Qe=new c.hCa(E);else throw Error("SubtitleManager: " + C.T6 + " is an unsupported profile");C.Qe.on("ready",function(){var F,G,J;function H(){return "paused" === C.$a || "stopped" === C.$a;}F=!!v.Cnb;C.xa.info("ready event fired by subtitle stream");C.emit("ready");G=C.Qe.XK.bind(C.Qe);if(u.XRa && u.Eua){J=a(17972).M5a;C.nf=new J(C.BC,G,C.pka,C.xa,H,u.XRa,u.Eua,v);}else C.nf=new p(C.BC,G,C.pka,H,C.xa,v);if("dfxp-ls-sdh" === C.T6 && "function" === typeof c.hCa)C.nf.on("stagesubtitle",C.M1a.bind(C));C.nf.on("showsubtitle",C.z1a.bind(C));C.nf.on("removesubtitle",C.q_a.bind(C));C.nf.on("underflow",C.pr.bind(C));C.nf.on("bufferingComplete",C.Pm.bind(C));F && (C.xa.info("autostarting subtitles"),setTimeout(function(){"stopped" !== C.$a && C.LI(C.BC());},10));});C.Qe.on("error",C.emit.bind(C,"error"));return C;}n.__extends(r,q);r.prototype.start=function(){this.Qe.start();};r.prototype.DJb=function(){"running" === this.$a && (this.$a="paused",this.Ltb(this.Tn));};r.prototype.LI=function(u){"stopped" === this.$a?this.xa.debug("updatePts called when stopped"):(this.Jkb && "running" === this.$a && 1E4 < Math.abs(u - this.Tn) && (this.xa.warn("Detected an unexpected pts jump larger than",1E4,"at",u,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.DJb()),this.Tn=u,"paused" === this.$a && (this.$a="running",this.sSc(u)),this.nf && (this.tWc(u),this.nf.LI(0)));};r.prototype.stop=function(u){var v,w,x;this.xa.info("stop called");"running" === this.$a && this.pause(u);this.Qe.removeAllListeners(["ready"]);null === (v=this.nf) || void 0 === v?void 0:v.stop();u=this.A$();this.MW && u && (u.DRc=null === (w=this.Tka) || void 0 === w?void 0:w.Fpa(),u.Zuc=null === (x=this.ska) || void 0 === x?void 0:x.Fpa());w=this.D6.reduce(function(y,A){y.TNb+=A.Mea;y.voa+=A.woa || 0;y.xs.push(A);return y;},{TNb:0,voa:0,xs:[]});"object" === typeof this.Qe && this.Qe.close();this.xa.debug("metrics: " + JSON.stringify(w));this.$a="stopped";return w;};r.prototype.pause=function(u){var v;u=void 0 !== u?u:this.BC();"paused" === this.$a || "stopped" === this.$a?this.xa.warn("pause called on subtitle manager, but it was already paused/stopped!"):(this.xa.info("pause called at " + u),this.$a="paused",this.Ltb(u));null === (v=this.nf) || void 0 === v?void 0:v.pause();};r.prototype.Qpa=function(u,v){return "function" === typeof this.Qe.Qpa?this.Qe.Qpa(u,v):[];};r.prototype.Gq=function(u,v){return this.Qe.Gq(u,v);};r.prototype.XK=function(u){return this.Qe.XK(u);};r.prototype.fN=function(u){var w;function v(){w.xa.info("bufferingComplete from setStreamStartPosition");w.emit("bufferingComplete");}w=this;"function" === typeof this.Qe.fN?this.Qe.fN(u,v):v();};r.prototype.Dn=function(u,v){"function" === typeof this.Qe.Dn && this.Qe.Dn(u,v);};r.prototype.xl=function(u,v){"function" === typeof this.Qe.xl && this.Qe.xl(u,v);};r.prototype.TZa=function(u){"function" === typeof this.Qe.UZa && this.Qe.UZa(u);};r.prototype.A$=function(){return this.D6[this.D6.length - 1];};r.prototype.z1a=function(u){var v,w,x,y,B;x=0;this.xa.info("show subtitle called at undefined for displayTime " + u.displayTime);this.emit("showsubtitle",u);y=this.A$();y.MB || (y.MB={});if(d(this.T6))try{for(var A=n.__values(u.blocks),z=A.next();!z.done;z=A.next()){B=z.value;y.MB.hasOwnProperty(B.id) || x++;y.MB[B.id]=u.endTime;}}catch(D){var C;C={error:D};}finally{try{z && !z.done && (v=A.return) && v.call(A);}finally{if(C)throw C.error;}}else (y.MB.hasOwnProperty(u.id) || x++,y.MB[u.id]=u.endTime);this.Ecc();y.Mea+=x;this.MW && (null === (w=this.Tka) || void 0 === w?void 0:w.Vlb(u.startTime,this.BC()));};r.prototype.Ecc=function(){var u,v,w;u=this.A$();if(null === u || void 0 === u?0:u.MB){v=u.MB;w=Object.keys(u.MB);30 < w.length && (w=w.sort(function(x,y){return v[y] - v[x];}),w.splice(19,Math.max(w.length - 20,0)),u.MB={},w.forEach(function(x){u.MB[x]=v[x];}));}};r.prototype.q_a=function(u){var v;this.xa.info("remove subtitle called at undefined for remove time " + (u.displayTime + u.duration));this.emit("removesubtitle",u);this.MW && (null === (v=this.ska) || void 0 === v?void 0:v.Vlb(u.endTime,this.BC()));};r.prototype.M1a=function(u){this.xa.info("stage subtitle called at " + this.BC() + " for displayTime " + u.displayTime);this.emit("stagesubtitle",u);};r.prototype.pr=function(){this.xa.info("underflow fired by the subtitle timer");this.emit("underflow");};r.prototype.Pm=function(){this.xa.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};r.prototype.sSc=function(u){var v,w;this.xa.debug("creating a new subtitle interval at " + u);this.MW && (null === (v=this.Tka) || void 0 === v?void 0:v.reset(u),null === (w=this.ska) || void 0 === w?void 0:w.reset(u));this.D6.push({Hb:u,Mea:0});};r.prototype.tWc=function(u){var v;v=this.A$();v && (v.iVa=u);};r.prototype.Ltb=function(u){var v,w,x;this.xa.debug("ending subtitle interval at " + u);x=this.A$();x && (x.Lg=u,this.MW && (x.DRc=null === (v=this.Tka) || void 0 === v?void 0:v.Fpa(),x.Zuc=null === (w=this.ska) || void 0 === w?void 0:w.Fpa()),x.Lg < x.Hb && (this.xa.warn("correcting for interval where endPts is smaller than startPts"),x.Hb=0 < x.Lg?x.Lg - 1:0),x.woa=this.Qe.Gq(x.Hb,x.Lg),delete x.MB,x.woa > x.Mea && x.iVa && 500 > x.Lg - x.iVa && (x.woa=this.Qe.Gq(x.Hb,x.iVa)),this.xa.debug("showed " + x.Mea + " during this interval"),this.xa.debug("expected " + x.woa + " for this interval"));};return r;})(t.EventEmitter);b.g1b=t;b["default"]=t;},66827:function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.DAa=void 0;a={0:"early",1:"late"};t=(function(){function d(n){void 0 === n && (n=4E3);this.B3b=n;this.reset(0);}d.prototype.Vlb=function(n,c){var f;n=Math.max(n,this.Il);c-=n;if(!(0 > c)){f=this.eJa[+(n - this.Il > this.B3b)];f.count++;f.EE+=c;c > f.max && (f.max=c,f.od=n);}};d.prototype.Fpa=function(){var f;for(var n={},c=0;c < this.eJa.length;c++){f=this.eJa[c];f.count && (n[a[c]]={Ecd:f.od,Pad:f.max,Q5c:Math.round(f.EE / f.count)});}return n;};d.prototype.reset=function(n){this.eJa=[{EE:0,max:0,od:0,count:0},{EE:0,max:0,od:0,count:0}];this.Il=n;};return d;})();b.DAa=t;},76495:function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.q5={};t[t.TEXT=0]="TEXT";t[t.IMAGE=1]="IMAGE";},76290:function(t,b,a){var h,k;function d(l,m,p){var q;q=p.displayTime <= l && l <= p.displayTime + p.duration;return l <= p.displayTime && p.displayTime <= m || q;}function n(l,m,p){return m && (!m.entries.length && l > m.nE || l > m.endTime) && p.entries.length && l < p.endTime;}function c(l,m,p){this.xP=this.AC=0;this.I3b=l.bufferSize || 4194304;this.jv=new e();this.sP;this.hP=l.yD;this.xa=l.wa;this.sx=m;this.Wk=p;this.iq=new h(l);this.EP=new g(this.Wk.length,l.wtb);this.V6=new f(l.fob);}function f(l){this.GF=0 !== l;this.on=!1;this.z6=l || 3E3;this.nf;}function g(l,m){if(this.enabled=m)this.$s=Array.apply(null,Array(l)).map(function(){return "-";});}function e(l,m){this.Bo=l;this.index=m;}h=a(93778);k=a(32699);e.prototype.reset=function(){this.index=this.Bo=void 0;};g.prototype.oa=function(l){this.enabled && l < this.$s.length && (this.$s[l]="x");};g.prototype.fHb=function(l){this.enabled && l < this.$s.length && (this.$s[l]="-");};g.prototype.toString=function(){return this.enabled && "|" + this.$s.join("") + "|";};f.prototype.start=function(){var l;if(this.GF){l=this;this.on=!0;this.nf=setTimeout(function(){l.on=!1;l.nf=void 0;},this.z6);}};f.prototype.stop=function(){this.on=!1;clearTimeout(this.nf);this.nf=void 0;};Object.defineProperties(c.prototype,{VNa:{get:function(){return this.jv;}},xac:{get:function(){return !this.V6.on;}}});c.prototype.K6=function(){this.EP.enabled && this.xa.debug("Buffer: " + this.EP.toString());};c.prototype.J4b=function(l){this.xP+=l;this.xa.debug("Reserved buffer size is",this.AC + this.xP,"after reserving",l);};c.prototype.d5b=function(l){this.xP-=l;this.xa.debug("Reserved buffer size is",this.AC + this.xP,"after unreserving",l);};c.prototype.o2b=function(l){this.AC+=l;this.xa.debug("Buffer size is",this.AC,"after claiming",l);};c.prototype.Okb=function(l){this.AC-=l;this.xa.debug("Buffer size is",this.AC,"after clearing",l);};c.prototype.zMc=function(l,m){var p;this.Okb(l);p=this;m && this.EP.enabled && (m.forEach(function(q){p.EP.fHb(q.index);}),this.K6());};c.prototype.t1a=function(l){var m;m=this.X2b(l);return k.Jzb(m) && k.FTc(l,m);};c.prototype.XPc=function(l){var m;m=this.Tjb(l);(!m || m.index) !== (!this.jv || this.jv.index) && (this.sP=this.jv.Bo,m?(this.hP && this.xa.debug("Current sidx is index",m.index),this.jv=m):(this.hP && this.xa.debug("Current sidx is out of range"),this.jv.reset()));this.sP && "number" === typeof this.sP.index && (l < this.sP.nE - 35E3 || l > this.sP.Fw + 35E3) && (this.mIa(this.sP.index),this.sP=void 0,this.K6());};c.prototype.fN=function(l,m){var p,q;p=this.Wk && this.Wk.length;for(m;m < p;m++)(q=this.Wk[m]) && ((q.endTime || q.Fw) >= l - 1E4 && (q.endTime || q.Fw) < l + 3E5 || this.mIa(m));this.V6.stop();this.K6();};c.prototype.f7b=function(){var l,m;this.xa.debug("executing aggressive cleanup");l=this.Wk && this.Wk.length;for(m=0;m < l;m++)(m === this.jv.index && (m+=2),this.mIa(m));this.V6.stop();this.K6();};c.prototype.Osc=function(l){var m,p,q,r;m=[];p=this.Tjb(l);if(!p)return (this.jv.reset(),m);this.jv=p;q=l + 1E4;p=p.index;r=this.Wk[p];p;for(r;p < this.Wk.length && q > r.nE;(p++,r=this.Wk[p]))k.Jzb(r) && k.GTc(l,q,r) && m.push(r);return m;};c.prototype.atb=function(l,m){var p,q,r,u,v,w;if(!l || !l.length)return (m && m(null),!0);this.iq.P6 && 2 <= Object.keys(this.iq.P6).length && !this.V6.on && (this.xa.debug("Enabling buffering quiet period"),this.V6.start());p=this;q=l[0];r=l[l.length - 1];if(0 < q.entries.length)(u=q.entries[0].ER,v=q.entries[q.entries.length - 1]);0 < r.entries.length && (k.$c(u) || (u=r.entries[0].ER),v=r.entries[r.entries.length - 1]);if(u)w=v.ER + v.vTa - u;else return (m && m(null),!0);q=k.$Qa(u,w);if(this.iq.P6[q])(this.xa.debug("The request for",q,"is already pending. Not requesting again"),m && m());else if(this.g3b(k.nSa(l)))(this.xa.debug("Reserving",w,"bytes for subtitle request",l[0].nE,l[l.length - 1].Fw),this.J4b(w),this.iq.bjc(l,u,w,function(x,y){p.xa.debug("Claiming reserved space.  Expected",w,"received",y);p.EP.enabled && (l.forEach(function(A){p.EP.oa(A.index);}),p.K6());p.d5b(w);p.o2b(y);m && m(x);}));else return (this.xa.debug("Not enough space in buffer to download all of the imaages in the list"),m && m(),!1);return !0;};c.prototype.rSa=function(l,m){var p,q,r;p=this.sx;q=this.Sjb(l,m,this.Wk);if(!q || 0 === q.length)return [];r=[];m=d.bind(null,l,m);for(var u=0;u < q.length;u++)(l=q[u],r=r.concat(l.entries.filter(m)));r=r.map(function(v){return k.KNa(v,null,p);});return k.iqb(r);};c.prototype.Psc=function(l,m,p){return this.Sjb(l,m.endTime,m.$s,p,!0);};c.prototype.Sjb=function(l,m,p,q,r){var u,v,w,x;if(m && l > m || 0 > l)this.xa.error("invalid range startPts: " + l + ", endPts: " + m);else {u=p && p.length || 0;v=[];if(p && 0 !== u){w=p[0].duration;x=p[0].nE;if(k.$c(w) && 0 < w)w=Math.floor((l - x) / w);else for((this.hP && this.xa.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),w=0);w < u && (x=p[w],!k.Wic(x,l));w++);for(;w < u && (!q || v.length < q);){x=p[w];if(!r || !x.images.length && x.endTime > l)v.push(x);else if(v.length)break;if(m && m <= x.Fw)break;w++;}return v;}}};c.prototype.X2b=function(l){var m,p,r;m=this.Wk;if(m && 0 !== m.length){p=m[Math.floor(l / 6E4)];if(p && (p.nE > l || l > p.Fw))a:{this.P2b || (this.P2b=!0,p=k.Pqc(this.sx.language),this.xa.error("bruteforce search for ",{movieId:this.sx.R,packageId:this.sx.Ms,lang:p}));p=m.length;for(var q=0;q < p;q++){r=m[q];if(r.nE <= l && l <= r.Fw){p=r;break a;}}p=void 0;}return p;}};c.prototype.Tjb=function(l){var m,p,q,r,u,v,w,x;m=this.jv;p=m.Bo;q=m.index;r=this.Wk;this.vIa(k.$c(l));if(p)if(p.entries.length){if(0 === q && l <= p.startTime || l >= p.startTime && l <= p.endTime)(u=!0,v=m);else {if(0 < q){w=r[q - 1];n(l,w,p) && (u=!0,v=m);}}}else {w=r[q - 1];x=r[q + 1];n(l,w,p)?(u=!0,v=m):x && x.endTime && l <= x.endTime && (l >= p.endTime || l >= p.Fw) && (u=!0,v=new e(x,q + 1));}if(!u)for((m=r.length,p=0);p < m;p++)if((q=r[p],q.entries.length && l <= q.endTime)){v=new e(q,p);break;}return v;};c.prototype.g3b=function(l){return this.AC + this.xP + l <= this.I3b;};c.prototype.mIa=function(l){var m,p,q;m=this.Wk[l];p=m && m.images && m.images.length || 0;if(0 < p){q=k.nSa([m]);m.images=[];this.EP.fHb(l);this.Okb(q);this.hP && this.xa.debug("cleaning up space from sidx",{index:l,start:m.startTime,size:q,images:p,Jbd:this.AC});}};c.prototype.vIa=function(l){this.hP && k.assert(l,this.xa);};t.exports=c;},3992:function(t,b,a){var n,c,f,g,e,h;function d(k){n.call(this);this.Hg=k.url;this.vP=k.request;this.tP=k.od || 0;this.xa=k.wa;this.Wk=this.sx=null;k.iB?this.sx=k.iB:(this.ed=k.offset,this.JJ=k.size);this.kq;this.qJa=k;}n=a(22699).EventEmitter;c=a(72577);f=a(92435);g=a(78192);e=a(32699);h=d.events={wYb:"midxready",L0b:"sidxready",j0b:"ready",Wp:"error"};d.prototype=Object.create(n.prototype);d.prototype.constructor=d;Object.defineProperties(d.prototype,{jv:{get:function(){return this.kq && this.kq.VNa;}}});d.prototype.start=function(){this.sx?(this.xa.warn("midx was prefectched and provided"),this.Jjb(this.sx)):this.H2b(this.ed,this.JJ,this.A4b.bind(this));};d.prototype.close=function(){};d.prototype.Qpa=function(k,l){return this.kq && this.kq.rSa(k,l);};d.prototype.Gq=function(k,l){return (k=this.Qpa(k,l))?k.length:k;};d.prototype.fN=function(k,l){this.xa.debug("setStreamStartPosition: buffering subtitles at pts " + k);this.tP=k;this.kq?this.kq.fN(k,l):l && l();};d.prototype.XK=function(k){var l,m,p;if(!this.kq || k > e.iqc(this.sx))return [];this.kq && this.kq.KOa(k);l=this.jv.Bo;m=this.jv.index;p=[];m=e.$c(m) && this.Wk[m + 1];if(!(m && m.entries.length || l && !(k > l.endTime)))return [];l && l.images.length && (p=this.Qjb(l,k,[]));2 > p.length && m && m.images.length && (l=this.Qjb(m,k,p),p.push.apply(p,l));return this.kq.t1a(k)?null:e.iqb(p);};d.prototype.xl=function(k,l){this.kq && this.kq.xl(k,l);};d.prototype.Dn=function(k,l){this.kq && this.kq.Dn(k,l);};d.prototype.H2b=function(k,l,m){this.xa.debug("downloading midx...");this.Vjb(k,l,"binary",m);};d.prototype.I2b=function(k,l,m){this.xa.debug("downloading sidx...");this.Vjb(k,l,void 0,m);};d.prototype.Vjb=function(k,l,m,p){this.vP({url:this.Hg,offset:k,size:l,responseType:m},p);};d.prototype.A4b=function(k,l){if(k)this.emit(h.Wp,e.E$(k,"midxdownloaderror"));else try{this.sx=new c(l);this.Jjb(this.sx);}catch(m){this.emit(h.Wp,e.E$(m,"midxparseerror"));}};d.prototype.Jjb=function(k){var l;l=k.entries.reduce(function(m,p){return m + p.size;},0);l?(this.emit(h.wYb,k),this.I2b(k.startOffset,l,this.D4b.bind(this,k))):this.emit(h.Wp,e.E$({},"nosidxfoundinmidx"));};d.prototype.D4b=function(k,l,m){var p,q,r,u;p=this;if(l)p.emit(h.Wp,e.E$(l,"sidxdownloaderror"));else {q=0;r=0;p.Wk=[];try{u=0;k.entries.forEach(function(v){var w;w=new f(m,q,k.PTa,p.xa,r,r + v.duration,u);p.Wk.push(w);v.GRc=w;r=w.Fw;q+=v.size;u++;});}catch(v){p.emit(h.Wp,e.E$(v,"sidxparseerror"));return;}p.emit(h.L0b,p.Wk);this.kq=new g(p.qJa,k,p.Wk);l=p.tP;p.qJa && p.qJa.rwa || (l=Math.max(p.tP - 1E4,0));this.kq.KOa(l,function(v){v && p.xa.error("initial sidx download failed");p.emit(h.j0b);});}};d.prototype.Qjb=function(k,l,m){var x;for(var p=k.entries,q=0,r=p.length,u=[],v,w=this.sx;q < r;){v=p[q];if(v.displayTime <= l)v.displayTime + v.duration >= l && u.push(e.KNa(v,k.images[q].data,w));else {x=u.length && u[u.length - 1] || m.length && m[m.length - 1];if(x && x.displayTime > l && x.displayTime !== v.displayTime)break;x.ER !== v.ER && u.push(e.KNa(v,k.images[q].data,w));}q++;}return u;};t.exports=d;},72577:function(t,b,a){var n,c;function d(f,g){this.duration=f;this.size=g;this.GRc=void 0;}n=a(62082);c=a(32699);t.exports=function(f){var k;f=new n(f);this.identifier=f.c_a(4);c.assert("midx" === this.identifier);this.version=f.Hw(4);c.assert(0 === this.version);this.PTa=f.yn(36);this.creationTime=f.w1();this.Ms=f.w1();this.R=f.w1();this.iOc=f.uj();this.jOc=f.uj();this.language=f.yn(16);f.yn(16);this.startOffset=f.w1();this.MQ=f.uj();for(var g=[],e=0,h=0;h < this.MQ;h++){k=new d(f.Hw(4),f.uj());g.push(k);e+=k.duration;}this.entries=g;this.endTime=e;};},93778:function(t,b,a){var n,c;function d(f){this.Hg=f.url;this.vP=f.request;this.tP=f.od || 0;this.hP=f.yD;this.xa=f.wa;this.P6={};}n=a(62082);c=a(32699);d.prototype.bjc=function(f,g,e,h){this.P6[c.$Qa(g,e)]=!0;f && f.forEach(function(k){k.Vda=!0;});this.vP({url:this.Hg,offset:g,size:e},this.h4b.bind(this,f,g,e,h));};d.prototype.h4b=function(f,g,e,h,k,l){var m,p,q,r;m=this;p=c.$Qa(g,e);setTimeout(function(){delete m.P6[p];},1E3);if(k)(h && h(k,0),f && f.forEach(function(u){delete u.Vda;}));else {q=new n(l);r=0;f && f.forEach(function(u){delete u.Vda;u.entries.forEach(function(v,w){q.position=v.ER - g;v={data:q.yn(v.vTa)};u.images[w]=v;c.tXc(u.images[w].data,m.vIa.bind(m));r+=u.images[w].data.length;});});h && h(null,r);}};d.prototype.vIa=function(f){this.hP && c.assert(f,this.xa);};t.exports=d;},67725:function(t){function b(a,d,n,c){this.xa=c;this.id=a;this.startTime=d && d.Ta || 0;this.endTime=d && d.cb;this.JFb=d && d.next || [];this.yMb;this.Eca=[];this.u_=!1;a=this.startTime;d=this.endTime;for(var f=[],g=0;g < n.length;g++)(c=n[g]) && (!d || d > c.nE) && a < c.Fw && (c.Svc(),f.push(c));this.$s=f;}b.prototype.rpb=function(){this.xa.debug("Cleaning up segment",this.id);for(var a,d=0,n,c=[],f=0;f < this.$s.length;f++)(a=this.$s[f],(n=a.zhc()) && c.push(a),a && (d+=n));this.$s=[];return {size:d,$s:c};};t.exports=b;},78192:function(t,b,a){var f,g;function d(e,h){var l;e=e || 0;if(h)for(var k in h.ba){l=h.ba[k];if(e >= (l.Ta || 0) && (!l.cb || e < l.cb))return k;}}function n(e,h){return e && h && h.ba[e];}function c(e,h,k){var l;this.xa=e.wa;this.Wk=k;this.IJ=this.q2b(e.rwa);this.HC=[];l=k && k[k.length - 1];this.Tn=l && (l.endTime || l.Fw);this.gv=new f(e,h,k);e=d(e.od || 0,this.IJ);this.fq=this.w6(e);}f=a(76290);g=a(67725);Object.defineProperties(c.prototype,{VNa:{get:function(){return this.gv.VNa;}}});c.prototype.rSa=function(e,h){return this.gv && this.gv.rSa(e,h);};c.prototype.KOa=function(e,h){this.gv.XPc(e);this.qlb(e);if(!this.IJ && this.Tn && e > this.Tn)h && h();else if((e=this.Fjb(e,this.fq,2,h),this.IJ && 0 < this.fq.JFb.length))h && h();else if(this.IJ && this.fq.u_ && e){2 > this.HC.length && this.x2b(this.fq);h=Math.ceil(2 / (this.HC.length - 1));for(var k=0;k < this.HC.length && e && 3 > k;k++)(e=this.HC[k],e=this.Fjb(e.startTime,e,h));}};c.prototype.t1a=function(e){return this.gv.t1a(e)?(this.gv.f7b(),this.KOa(e),this.fq.u_=!1,!0):!1;};c.prototype.fN=function(e,h){var k;this.qlb(e);this.HC.forEach(function(l){l.u_=!1;});k=this.fq.$s && this.fq.$s[0];this.gv.fN(e,k && k.index);(e=this.gv.Osc(e)) && e.length?this.gv.atb(e,h):h && h();};c.prototype.Dn=function(e,h){var k;this.xa.debug("Set next segment to",h,"for segment",e);e=this.Ljb(e) || this.w6(e);e.yMb=h;k=this;e.Eca=e.Eca.filter(function(l){if(l.id === h)return !0;k.xIa(l);return !1;});};c.prototype.xl=function(e,h){var k;k=n(e,this.IJ);Object.keys(k.next).forEach(function(l){k.next[l].weight=h[l] || 0;});};c.prototype.q2b=function(e){var h,l;h={};if(e=(e || ({})).ba){h.ba={};for(var k in e){l=e[k] || ({});h.ba[k]={Ta:l.Ta,cb:l.cb,Hc:l.Hc,next:this.p2b(l.next)};}}return h;};c.prototype.p2b=function(e){var h,k;h={};for(k in e)h[k]={weight:(e[k] || ({})).weight};return h;};c.prototype.qlb=function(e){var h,k;if(this.IJ && this.fq.startTime > e || this.fq.endTime && this.fq.endTime < e){h=this.fq;k=d(e,this.IJ);k?(this.xa.debug("Switching segments from",this.fq.id,"to",k,"at pts",e),this.fq=this.Ljb(k) || this.w6(k),this.xIa(h)):this.xa.debug("The pts is outside of the current segment but not in a new one yet");}};c.prototype.w6=function(e){this.xa.debug("SegmentManager: creating segment",e);e=new g(e,n(e,this.IJ),this.Wk,this.xa);this.HC.push(e);this.xa.debug("SegmentManager: segment contains",e.$s.length,"sidxes");return e;};c.prototype.xIa=function(e){var h;if(e && e !== this.fq){this.xa.debug("SegmentManager: deleting segment",e.id);e.Eca.forEach(this.xIa.bind(this));this.HC=this.HC.filter(function(k){return k !== e;});h=e.rpb();this.gv.zMc(h && h.size || 0,h && h.$s);}};c.prototype.Ljb=function(e){var k;for(var h=0;e && h < this.HC.length;h++){k=this.HC[h];if(e === k.id)return k;}};c.prototype.x2b=function(e){var h,l;h=e.yMb;if(h && "" !== h)e.Eca.push(this.w6(h));else {h=e.JFb;for(var k in h){l=h[k];if(!l || !l.weight)break;e.Eca.push(this.w6(k));}}};c.prototype.Fjb=function(e,h,k,l){if(!h || h.u_)return (this.xa.debug("Done driving segment",h && h.id),!0);if(!this.gv.xac)return (this.xa.debug("Throttling buffering in quiet period"),!1);this.xa.debug("Drive streaming of segment",h.id,"from pts",e);k=(e=this.gv.Psc(e,h,k)) && e.length || 0;if(0 === k)return (this.xa.debug("Segment is fully downloaded",h && h.id),h.u_=!0,l && l(),!0);this.xa.debug("Downloading",k,"sidxes in segment",h.id);return this.gv.atb(e,function(m,p){m && (h.u_=!1);l && l(m,p);});};t.exports=c;},92435:function(t,b,a){var c,f;function d(g,e,h,k,l,m,p,q){this.displayTime=g;this.duration=e;this.DGc=h;this.EGc=k;this.NRc=l;this.ORc=m;this.ER=p;this.vTa=q;}function n(g,e,h,k,l,m,p){var q;g=new c(g);q=0;g.position=e;this.xa=k;this.identifier=g.c_a(4);f.assert("sidx" === this.identifier,k);this.PTa=g.yn(36);f.Gcc(this.PTa,h,k);this.duration=g.Hw(4);this.MQ=g.uj();this.nE=l;this.Fw=m;this.index=p || 0;this.entries=[];this.images=[];for(this.MJa=0;q < this.MQ;)(e=new d(g.Hw(4),g.Hw(4),g.uj(),g.uj(),g.uj(),g.uj(),g.w1(),g.Hw(4)),q++,this.entries.push(e));this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}c=a(62082);f=a(32699);n.prototype.Svc=function(){this.MJa++;};n.prototype.zhc=function(){var g;g=0;this.MJa--;1 > this.MJa?this.images && 0 < this.images.length && (g+=f.nSa([this]),this.images=[]):this.xa.debug("Not cleaning up shared sidx with range",this.nE,"-",this.Fw);return g;};t.exports=n;},32699:function(t){function b(f,g){return f.some(function(e){return e.id === g;});}function a(f,g){return f.filter(d.bind(null,g)).map(n).reduce(c,0);}function d(f,g){return f.id === g.id && f.displayTime + f.duration === g.displayTime;}function n(f){return f.duration;}function c(f,g){return f + g;}t.exports={Gcc:function(f,g,e){for(var h=0;h < f.length;h++)if(f[h] !== g[h])return (e.error("indexId mismatch in sidx",{sIndexId:f,mIndexId:g}),!1);return !0;},KNa:function(f,g,e){var h;h={};h.displayTime=f.displayTime;h.duration=f.duration;h.originX=f.DGc;h.originY=f.EGc;h.sizeX=f.NRc;h.sizeY=f.ORc;h.imageData=g;h.id=f.ER;h.rootContainerExtentX=e.iOc;h.rootContainerExtentY=e.jOc;return h;},$Qa:function(f,g){return "o_" + f + "s_" + g;},tXc:function(f,g){g("P" === String.fromCharCode(f[1]));g("N" === String.fromCharCode(f[2]));g("G" === String.fromCharCode(f[3]));},$c:function(f){return "undefined" !== typeof f;},ldd:b,M7c:a,E$:function(f,g){var e,h;e=Object.create({});for(h in f)e[h]=f[h];f instanceof Error && (e.message=f.message,e.stack=f.stack);e.errorString=g;return e;},assert:function(f,g){if(!f)throw (g && g.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},Jzb:function(f){return f && 0 < f.entries.length && 0 === f.images.length;},FTc:function(f,g){for(var e=g.entries.length,h,k=0;k < e;k++)if((h=g.entries[k],h.displayTime <= f && h.displayTime + h.duration >= f))return !0;return !1;},GTc:function(f,g,e){for(var h=e.entries.length,k,l,m=0;m < h;m++){k=e.entries[m];l=k.displayTime;k=l + k.duration;if(g < l)break;if(l <= f && k >= f || l > f && l <= g)return !0;}return !1;},iqb:function(f){return f.map(function(g,e){g.duration+=a(f.slice(e + 1),g);return g;}).reduce(function(g,e){b(g,e.id) || g.push(e);return g;},[]);},nSa:function(f){return f.reduce(function(g,e){return g + e.entries.reduce(function(h,k){return k.vTa + h;},0);},0);},Wic:function(f,g){return f && f.nE <= g && f.Fw >= g;},iqc:function(f){if(f)return f.endTime;},Pqc:function(f){try{return String.fromCharCode.apply(String,f);}catch(g){}return "";}};},31496:function(t,b,a){var d;d=a(22699).EventEmitter;b=function l(c,f,g,e,h,k){if(!(this instanceof l))return new l(c,f,g,e,h,k);d.call(this);this.BC=c;this.B6=f;this.pka=g;this.t3b=e;this.Gl={};this.Fm={};this.xa=h || console;this.Cm=!1;this.SIa=k.Ba;this.F4b=k && k.xda || 0;this.X4b=k && k.GSc || 0;};b.prototype=Object.create(d.prototype);b.prototype.stop=function(){clearTimeout(this.nf);this.nf=void 0;this.Dva();};b.prototype.Dva=function(){var c;c=this;Object.keys(c.Gl).forEach(function(f){c.emit("removesubtitle",c.Gl[f]);});c.Gl={};c.Fm={};};b.prototype.pause=function(){this.Cm || (clearTimeout(this.nf),this.nf=void 0);};b.prototype.LI=function(c){var f,g,e;f=this;g=f.BC();e=f.B6(g);null !== e && f.Cm && (f.Cm=!1,this.xa.debug("bufferingComplete"),f.emit("bufferingComplete"),this.t3b())?this.xa.debug("bufferingComplete while paused, no longer scheduling internal pts events"):(c="number" === typeof c?c:0,Object.keys(f.Gl).forEach(function(h){h=f.Gl[h];h.displayTime - f.F4b <= g && g < h.displayTime + h.duration || (delete f.Gl[h.id],f.emit("removesubtitle",h));}),Object.keys(f.Fm).forEach(function(h){h=f.Fm[h];g >= h.displayTime + h.duration && delete f.Fm[h.id];}),null !== e && 0 < e.length?(c=e.length,f.xa.debug("found " + c + " entries for pts " + g),e.forEach(function(h){h.displayTime - f.X4b <= g && g < h.displayTime + h.duration && !f.Gl[h.id] && (f.emit("showsubtitle",h),f.Gl[h.id]=h,delete f.Fm[h.id]);}),c=e[e.length - 1],f.Gl[c.id] || f.Fm[c.id] || (f.emit("stagesubtitle",c),f.Fm[c.id]=c),e=f.$4b(g,e),"number" === typeof e && Infinity > e?f.d7(e):f.d7(2E4)):null === e?(e=250 * Math.pow(2,c),2E3 < e && (e=2E3),f.xa.warn("checking buffer again in " + e + "ms"),f.Cm || (f.Cm=!0,f.emit("underflow")),f.d7(e,c + 1)):f.SIa?(e=500,f.xa.trace("Live : No entries for " + g + "checking buffer again in " + e + "ms"),f.d7(e)):f.d7(2E4));};b.prototype.d7=function(c,f){var g;g=this;g.xa.debug("Scheduling pts check.",{timeout:c,GE:g.nf});clearTimeout(g.nf);g.nf=setTimeout(function(){g.LI(f);},c);};b.prototype.$4b=function(c,f){f=f.reduce(this.W3b.bind(this,c),Infinity);return Infinity > f?this.pka(f,c):f;};b.prototype.W3b=function(c,f,g){var e;e=g.displayTime;g=g.displayTime + g.duration;this.xa.debug("next events: start",e,"end",g,"now",c);return e < f && c < e?e:g < f && c < g?g:f;};t.exports=b;},4645:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},86398:function(t,b,a){var c,f,g,e;function d(h,k,l){var m,p;if(!l)return !1;l=l[k];h=h[k];k=!(null === (m=h.Kb) || void 0 === m || !m.length);"embedded" === h.type && (k || (k=h.duration.greaterThan(c.I.ia)));m=!k;Array.isArray(l) && (null === (p=h.Kb) || void 0 === p?0:p.length) && (0,c.fLa)(l,h.Kb.map(function(q,r){return r;})).length === h.Kb.length && (m=!0);"boolean" === typeof l && l && (m=!0);return m;}function n(h,k,l){var m;m="dynamic" === h.type && void 0 !== h.Hk;return "embedded" === h.type || m || l || !h.Kb && "embedded" !== h.type?{vOb:0,Mtb:0,uub:!m && !l && "embedded" !== h.type}:{vOb:k,Mtb:k,uub:!0};}Object.defineProperties(b,{__esModule:{value:!0}});b.Br=void 0;b.Yec=function(h,k,l,m,p,q){function r(y){var A,z,B,C,D,E,H,F,G;A=k[y];z=d(k,y,m);B=!!A.Kb || "embedded" === A.type;C=n(A,p,z);D=C.vOb;E=C.Mtb;C=C.uub;H=0 === A.kw;A.Ga.G > v && u.Re(("").concat(h,"-").concat(y),{J:h,Ta:v,cb:A.Ga.G,type:g.pd.content,ns:w,Aq:C});B || u.H6b(C);!D || H && !q || u.Re(("padstart-").concat(y),{J:b.Br,Ta:0,cb:D,type:g.pd.padding});v=A.Ga.G;if(!z)if("embedded" === A.type && A.duration.greaterThan(c.I.ia))(z=A.Ga.add(A.duration).G,u.Re(("ad-").concat(y,"-").concat(0),{J:h,Ta:A.Ga.G,cb:z,type:g.pd.Sa}));else if(A.Kb){F=null === m || void 0 === m?void 0:m[y];G=0;A.Kb.forEach(function(J,L){var K;K=!1;Array.isArray(F) && (K=-1 < F.indexOf(L));K?G++:(K=J.id === h,void 0 === K && (K=!1),L=A.fb && A.Yb !== y?("q-[").concat(A.fb,"]-").concat(L).concat(K?"-F":""):("ad-").concat(y,"-").concat(L),u.Re(L,{J:J.id,Ta:J.Ta,cb:J.cb,type:g.pd.Rc}));});E && G !== A.Kb.length && u.Re(("padend-").concat(y),{J:b.Br,Ta:0,cb:E,type:g.pd.padding});}v=A.Ga.add("embedded" === A.type?A.duration:A.Hk || c.I.ia).G;w=C;}void 0 === p && (p=0);void 0 === q && (q=!1);for(var u=new e(),v=0,w=!1,x=0;x < k.length;++x)r(x);u.Re(("").concat(h,"-").concat(k.length),{J:h,Ta:v,cb:null,type:g.pd.content,ns:w});l.forEach(function(y){var A,z,B;A=y[0];z=("").concat(h,"-").concat(k.length);if(A && A.Kb && A.fb){B=("[").concat(A.fb,"]");A.Kb.forEach(function(C,D){u.Re(("q-").concat(B,"-").concat(D),{J:C.id,Ta:C.Ta,cb:C.cb,type:g.pd.Rc},z);z=("q-[").concat(A.fb,"]-").concat(D);});}});return u.build();};c=a(91176);f=a(48456);g=a(58304);b.Br=-1;e=(function(){function h(){this.hb=new f.av();}h.prototype.Re=function(k,l,m){this.vA || (this.vA=k);(m=m && this.hb.jzb(m)?m:this.CM) && this.hb.nNb(k,m);this.hb.Re(k,l);this.CM=k;};h.prototype.H6b=function(k){var l;if(this.CM){l=this.hb.ku(this.CM);l && l.type === g.pd.content && (l.Aq=k,this.hb.Re(this.CM,l));}};h.prototype.build=function(){this.CM=void 0;this.vA && this.hb.zE(this.vA);return this.hb.build();};return h;})();},40071:function(t,b,a){var e;function d(h){return Object.keys(h.segments).some(function(k){return void 0 !== g(h.segments[k]);});}function n(h){return "delayedSeamless" === h?"lazy":h;}function c(h){return Object.keys(h).reduce(function(k,l){var m,p;m=h[l];p=m.weight;m=m.transitionType || m.transitionHint;l=k[l]={};void 0 !== p && (l.weight=p);m && (l.$d=n(m));return k;},{});}function f(h){var k,l;k=Object.keys(h);l=k.length;return l?k.reduce(function(m,p){return m + (h[p].weight || 0);},0) / l:void 0;}function g(h){var k;if(h.ui){k=h.ui.interactionZones;if((null === k || void 0 === k?0:k.length) && k[0].length)return k[0][0] - h.startTimeMs;h=h.ui.interactionZonesV2;if((null === h || void 0 === h?0:h.length) && h[0].length)return h[0][0];}else if(void 0 !== h.earliestSkipRequestOffset)return h.earliestSkipRequestOffset;}Object.defineProperties(b,{__esModule:{value:!0}});b.CMa=function(h,k){var l,m,p,q,r,u;l=void 0 === k?{}:k;k=l.Hh;m=l.uf;p=l.ba;l=l.config;q=!(!l || -1 === l.g$.indexOf(h.viewableId));r=d(h)?0:(null === l || void 0 === l?void 0:l.f$) || 0;l=new e.av();u=p || h.segments;l.zE(null !== m && void 0 !== m?m:h.initialSegment).X0a(k || h.mediaTypes).Jwa(q?"immediate":n(h.transitionType)).e1a(Object.keys(u).reduce(function(v,w){var x,y,A,z,B,C;x=u[w];if(null === (y=x.weight) || void 0 === y){y=x.next && (q || (null === (z=x.exitZones) || void 0 === z?0:z.length))?f(x.next):void 0;}z=y;if(y=x.exitZones)B=void 0;else a:{if(q && x.endTimeMs){B=x.endTimeMs - x.startTimeMs;C=g(x);if(C && C < B){B=[[C,B]];break a;}if(r && B > r){B=[[B - r,B]];break a;}}B=void 0;}C=q?B?void 0:x.transitionHint || "lazy":x.transitionHint;z={J:h.viewableId,Ta:x.startTimeMs,cb:null !== (A=x.endTimeMs) && void 0 !== A?A:Infinity,$d:n(C),Ul:y || B,weight:z};x.defaultNext && (z.Hc=x.defaultNext);x.next && (z.next=c(x.next));v[w]=z;return v;},{}));return l.build();};e=a(48456);},31021:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.S6c=function(n){var c,f,g,e,h,k;c=n.ocd;f=n.zf;n=n.Pea;g=new d.av();e=n.split(" ");h=/\d+/;k=new Map();f.forEach(function(l){k.set(l,0);});e.forEach(function(l,m){var p,q,r,u,v,w,x,y;w=Number(l.split(".")[0].match(h)[0]);x=Number(l.split(".")[1].match(h)[0]);w=f[w];l=k.get(w);y=("").concat(w,"-").concat(l);k.set(w,l + 1);x={J:w,Ta:null !== (r=null === (q=c.get(w)) || void 0 === q?void 0:q[x]) && void 0 !== r?r:0,cb:null !== (v=null === (u=c.get(w)) || void 0 === u?void 0:u[x + 1]) && void 0 !== v?v:void 0};e.length > m + 1 && (q=Number(e[m + 1].split(".")[0].match(h)[0]),q=f[q],r=k.get(q),q=("").concat(q,"-").concat(r),x.Hc=q,x.next=(p={},p[q]={},p),k.set(w,l + 1));0 === m && g.zE(y);g.Re(y,x);});return g.build();};d=a(48456);},79048:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(58304),b);t.__exportStar(a(48456),b);t.__exportStar(a(42405),b);t.__exportStar(a(40071),b);t.__exportStar(a(14999),b);t.__exportStar(a(43813),b);t.__exportStar(a(5293),b);t.__exportStar(a(86398),b);t.__exportStar(a(31021),b);t.__exportStar(a(7314),b);t.__exportStar(a(4152),b);t.__exportStar(a(22332),b);t.__exportStar(a(65691),b);},4152:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.IXb=b.eja=void 0;b.nUa=function(a){return "immediate" === a;};t=(function(){function a(d,n,c){this.region=d;this.qa=n;this.ta=c;}a.prototype.toJSON=function(){return {region:this.region,Hb:this.qa.wB,Lg:this.ta.wB};};return a;})();b.eja=t;b.IXb={TK:"forwards",ALa:"backwards",DE:"successors",nT:"predecessors",wq:"distance"};},22332:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(22970).__exportStar(a(4645),b);},5293:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.u8c=function(n,c){var f;return Object.keys(n.ba).some(function(g){var e;return null === (e=(f=n.ba[g]).next) || void 0 === e?void 0:e[c];})?f:void 0;};b.v8c=function(n,c){return (0,d.cc)(Object.keys(n.ba),function(f){var g;return null === (g=n.ba[f].next) || void 0 === g?void 0:g[c];});};b.s8c=function(n,c){return Object.keys(n.ba).filter(function(f){var g;return null === (g=n.ba[f].next) || void 0 === g?void 0:g[c];});};d=a(91176);},58304:function(t,b,a){var n,c;function d(f){return f.map(function(g){return [g[0],g[1]];});}Object.defineProperties(b,{__esModule:{value:!0}});b.pd=b.Oia=void 0;b.sNa=function(f){var g,e,h,k,l,m,p,u,v,w,x,B;e=f.J;h=f.Ta;k=f.Hc;if(f.next){l=f.next;p={};try{for(var q=n.__values(Object.keys(l)),r=q.next();!r.done;r=q.next()){u=r.value;v=u;w=l[u];x={};void 0 !== w.weight && (x.weight=w.weight);void 0 !== w.$d && (x.$d=w.$d);p[v]=x;}}catch(D){var y;y={error:D};}finally{try{r && !r.done && (m=q.return) && m.call(q);}finally{if(y)throw y.error;}}l=p;}else l=f.next;e={J:e,Ta:h,Hc:k,next:l};void 0 !== f.CB && (e.CB=f.CB);try{for(var A=n.__values(c),z=A.next();!z.done;z=A.next()){B=z.value;void 0 !== f[B] && (e[B]=f[B]);}}catch(D){var C;C={error:D};}finally{try{z && !z.done && (g=A.return) && g.call(A);}finally{if(C)throw C.error;}}f.Ul && (e.Ul=d(f.Ul));return e;};n=a(22970);b.Oia={video:"video",audio:"audio",text:"text"};b.pd={Rc:"ad",Sa:"adBreak",content:"content",padding:"padding"};c=Object.keys({cb:void 0,playbackRate:void 0,weight:void 0,$d:void 0,a4a:void 0,type:void 0,ns:void 0,Aq:void 0});},48456:function(t,b,a){var n,c,f;function d(g,e){return Object.keys(g).reduce(function(h,k){return (h[e[k] || k]=g[k],h);},{});}Object.defineProperties(b,{__esModule:{value:!0}});b.av=void 0;n=a(22970);c=a(91176);f=a(58304);t=(function(){function g(e){e && (this.zE(e.uf),this.Jwa(e.$d),this.e1a(e.ba));}g.prototype.zE=function(e){this.uf=e;return this;};g.prototype.Jwa=function(e){this.$d=e;return this;};g.prototype.X0a=function(e){this.Hh=e;return this;};g.prototype.ku=function(e){var h;return null === (h=this.ba) || void 0 === h?void 0:h[e];};g.prototype.Re=function(e,h,k){this.ba || (this.ba={});this.ba[e]=(0,f.sNa)(h);if(k){e=this.ba[e];if(h=e.next)e.next=d(h,k);e.Hc && k[e.Hc] && (e.Hc=k[e.Hc]);}return this;};g.prototype.gDc=function(e,h){var k,l;l=null === (k=this.ba) || void 0 === k?void 0:k[e];(0,c.assert)(l,("Segment for modification ").concat(e," is not part of segments"));h(l);};g.prototype.e1a=function(e,h,k){void 0 === h && (h=function(){return !0;});this.ba={};return this.z6b(e,h,k);};g.prototype.z6b=function(e,h,k){var l;l=this;void 0 === h && (h=function(){return !0;});Object.keys(e).filter(function(m){return h(e[m],m);}).forEach(function(m){l.Re(m,e[m],k);});return this;};g.prototype.jzb=function(e){var h;return !(null === (h=this.ba) || void 0 === h || !h[e]);};g.prototype.nNb=function(e,h){this.gDc(h,function(k){var l,m;k.Hc=e;k.next=k.next?n.__assign(n.__assign({},k.next),(l={},l[e]={},l)):(m={},m[e]={},m);});};g.prototype.build=function(){var e;if(!this.ba)throw Error("Invalid playgraph - `segments` is not defined");if(!this.uf)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.ba[this.uf])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");e={uf:this.uf,ba:this.ba};this.$d && (e.$d=this.$d);this.Hh && (e.Hh=this.Hh);return e;};return g;})();b.av=t;},42405:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OFa=void 0;b.OFa=(function(){function a(){}a.decode=function(d){return Object.assign({initialSegment:d.uf,segments:a.thc(d.ba)},void 0 !== d.$d?{transitionType:d.$d}:{});};a.encode=function(d){return Object.assign({uf:d.initialSegment,ba:a.hlc(d.segments)},void 0 !== d.transitionType?{$d:d.transitionType}:{});};a.hlc=function(d){return Object.keys(d).reduce(function(n,c){n[c]=a.glc(d[c]);return n;},{});};a.glc=function(d){return Object.assign({J:d.viewableId,Ta:d.startTimeMs},d.endTimeMs?{cb:d.endTimeMs}:{},d.defaultNext?{Hc:d.defaultNext}:{},d.weight?{weight:d.weight}:{},d.transitionType?{$d:d.transitionType}:{},d.next?{next:a.elc(d.next)}:{},d.exitZones?{Ul:d.exitZones}:{},d.playbackRate?{playbackRate:d.playbackRate}:{},d.uxSegment?{a4a:d.uxSegment}:{},d.type?{type:d.type}:{},void 0 !== d.fadeIn?{ns:d.fadeIn}:{},void 0 !== d.fadeOut?{Aq:d.fadeOut}:{},void 0 !== d.main?{xp:d.main}:{});};a.elc=function(d){return Object.keys(d).reduce(function(n,c){n[c]=a.flc(d[c]);return n;},{});};a.flc=function(d){return Object.assign({},void 0 !== d.weight?{weight:d.weight}:{},d.transitionType?{$d:d.transitionType}:{});};a.thc=function(d){return Object.keys(d).reduce(function(n,c){n[c]=a.shc(d[c]);return n;},{});};a.shc=function(d){return Object.assign({viewableId:d.J,startTimeMs:d.Ta},d.cb?{endTimeMs:d.cb}:{},d.Hc?{defaultNext:d.Hc}:{},d.weight?{weight:d.weight}:{},d.$d?{transitionType:d.$d}:{},d.next?{next:a.qhc(d.next)}:{},d.Ul?{exitZones:d.Ul}:{},d.playbackRate?{playbackRate:d.playbackRate}:{},d.a4a?{uxSegment:d.a4a}:{},d.type?{type:d.type}:{},void 0 !== d.ns?{fadeIn:d.ns}:{},void 0 !== d.Aq?{fadeOut:d.Aq}:{},void 0 !== d.xp?{main:d.xp}:{});};a.qhc=function(d){return Object.keys(d).reduce(function(n,c){n[c]=a.rhc(d[c]);return n;},{});};a.rhc=function(d){return Object.assign({},void 0 !== d.weight?{weight:d.weight}:{},d.$d?{transitionType:d.$d}:{});};return a;})();},65691:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.ogc=function(f,g){var e,h,k,l,m,p;l=new c();l.Re(("").concat(f,"-preprogram"),{J:f,Ta:0,cb:0 < g.length?null === (e=g[0].xn) || void 0 === e?void 0:e.Ga.G:null,type:n.pd.content});for(e=0;e < g.length;++e){m=g[e];l.Re(("").concat(f,"-").concat(m.id),{J:f,CB:m.id,Ta:m.xn.Ga.G,cb:null === (h=m.yo) || void 0 === h?void 0:h.Ga.G,type:n.pd.content});p=e < g.length - 1?g[e + 1]:void 0;(!p && m.yo || p && p.xn.Ga.greaterThan(m.yo.Ga)) && l.Re(("").concat(f,"-").concat(m.id,"-postprogram"),{J:f,Ta:m.yo.Ga.G,cb:null === (k=null === p || void 0 === p?void 0:p.xn) || void 0 === k?void 0:k.Ga.G,type:n.pd.content});}return l.build();};d=a(48456);n=a(58304);c=(function(){function f(){this.hb=new d.av();}f.prototype.Re=function(g,e,h){this.vA || (this.vA=g);(h=h && this.hb.jzb(h)?h:this.CM) && this.hb.nNb(g,h);this.hb.Re(g,e);this.CM=g;};f.prototype.build=function(){this.CM=void 0;this.vA && this.hb.zE(this.vA);return this.hb.build();};return f;})();},14999:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.F1a=function(n,c,f){var g;g=new d.av();g.zE(c).Jwa("lazy").X0a(f).Re(c,{J:n,Ta:0,cb:Infinity});return g.build();};d=a(48456);},43813:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.Gdd=function(n,c,f){var g;g=new d.av();g.zE("s0").Jwa("immediate").X0a(f).Re("s0",{J:n,Ta:0,cb:1E3 * c,weight:.5,next:{s1:{weight:.5}}}).Re("s1",{J:n,Ta:1E3 * c,cb:Infinity});return g.build();};d=a(48456);},43341:function(t,b,a){var c,f;function d(g,e){var h,k,p;k=f.I.ia;try{for(var l=c.__values(g),m=l.next();!m.done;m=l.next()){p=m.value;if(p.J === e)return {K:p,wq:k};k=k.add(p.Wb);}}catch(r){var q;q={error:r};}finally{try{m && !m.done && (h=l.return) && h.call(l);}finally{if(q)throw q.error;}}return {K:void 0,wq:f.I.ia};}function n(g,e){var h,k,l;return c.__generator(this,function(m){switch(m.label){case 0:(h=g,k=function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return [4,h];case 1:return (q.T(),h=(p=null !== (l=h.Hc) && void 0 !== l?l:void 0)?(0,f.cc)(e,function(r){return r.id === p;}):void 0,[2]);}});},m.label=1);case 1:return h?[5,k()]:[3,3];case 2:return (m.T(),[3,1]);case 3:return [2];}});}Object.defineProperties(b,{__esModule:{value:!0}});b.SFa=void 0;c=a(22970);f=a(91176);t=(function(){function g(e,h,k){void 0 === k && (k={});this.upper=e;this.lower=h;this.L3a=k;}g.prototype.II=function(e){return this.L3a[e];};g.prototype.vQ=function(e){var h;h=this;return Object.keys(this.L3a).filter(function(k){return h.L3a[k] === e;});};g.prototype.gPc=function(e){return (e=this.II(e.id))?this.upper.get(e):void 0;};g.prototype.ZOc=function(e){var h;h=this;return this.vQ(e.id).map(function(k){return h.lower.get(k);});};g.prototype.aJc=function(e){var h,k,l,m,p,q;h=this;k=this.lower.get(e.L);(0,f.assert)(k && k.hdc(e.offset));l=this.gPc(k);if(l){if(l.J === k.J)return (e=l.PZa(k.pGb(e.offset)),{L:l.id,offset:e});if(e.offset.equal(f.I.ia) && 0 === c.__spreadArray([],c.__read(this.lower.tH.nT(e.L)),!1).filter(function(r){return h.II(r.id) === l.id;}).length)return {L:l.id,offset:f.I.ia};if(0 === c.__spreadArray([],c.__read(this.lower.tH.DE(e.L)),!1).filter(function(r){return h.II(r.id) === l.id;}).length)return {L:l.id,offset:l.Wb};(0,f.assert)(k.Xb.isFinite());k=d(this.lower.tH.TK(e.L),l.J);m=k.K;k=k.wq;p=d(this.lower.tH.ALa(e.L),l.J);q=p.K;p=p.wq;m=m?m.jb:l.Xb;(0,f.assert)(m);q=q?q.Xb:l.jb;(0,f.assert)(q);k=p.add(k);e=e.offset.add(p).rf(k);e=q.add(m.ea(q).hh(e));e=l.PZa(e);return {L:l.id,offset:e};}};g.prototype.$Ic=function(e){var h,k,l,m,p,q,r,u,v,w,x,y,A,z,D,F,G,J,L,K;q=this.upper.get(e.L);(0,f.assert)(q);r=q.J;u=q.npb(e.offset);v=q.pGb(u);(0,f.assert)(v);w=this.ZOc(q);x=w.filter(function(I){return I.J === r;}).filter(function(I){return I.mTc(v);});if(x.length){y=x[0];return {L:y.id,offset:y.PZa(v)};}if(u.equal(f.I.ia) && !this.upper.Luc(e.L))return {L:w[0].id,offset:f.I.ia};if(u.equal(q.Wb) && !this.upper.Quc(e.L)){A=w[w.length - 1];return {L:A.id,offset:A.Wb};}z=new Set(w.map(function(I){return I.Hc;}).filter(function(I){return !!I;}));e=w.filter(function(I){return !z.has(I.id);});w=w.filter(function(I){return z.has(I.id);});try{for(var B=c.__values(e),C=B.next();!C.done;C=B.next()){D=c.__spreadArray([],c.__read(n(C.value,w)),!1);e=[];y=u=void 0;try{for(var E=(k=void 0,c.__values(D)),H=E.next();!H.done;H=E.next())(y=H.value,u && e.push({Rw:u,K:y,Taa:!1}),u=void 0,y.J === r?(e.push({Rw:y.jb,K:y,Taa:!1}),u=y.Xb):0 === e.length && e.push({Rw:q.jb,K:y,Taa:!1}));}catch(I){k={error:I};}finally{try{H && !H.done && (l=E.return) && l.call(E);}finally{if(k)throw k.error;}}y && (u?e.push({Rw:u,K:y,Taa:!0}):e.push({Rw:q.Xb,K:y,Taa:!0}));F=(0,f.eLa)(e,function(I){return I.Rw.ln(v);});G=(0,f.cc)(e,function(I){return I.Rw.Wf(v);});if(F && G && F.Rw.ln(v) && G.Rw.Wf(v)){if(F.K.id === G.K.id)return {L:F.K.id,offset:f.I.ia};if(F.Rw.G === G.Rw.G)return {L:G.K.id,offset:f.I.ia};J=v.ea(F.Rw).rf(G.Rw.ea(F.Rw));L=D.slice(D.indexOf(F.K),D.indexOf(G.K) + (G.Taa?1:0));K=L.reduce(function(I,O){return I.add(O.Wb);},f.I.ia).hh(J);try{for(var M=(m=void 0,c.__values(L)),P=M.next();!P.done && (y=P.value,!K.lessThan(y.Wb));P=M.next())K=K.ea(y.Wb);}catch(I){m={error:I};}finally{try{P && !P.done && (p=M.return) && p.call(M);}finally{if(m)throw m.error;}}if(y && K.lessThan(null === y || void 0 === y?void 0:y.Wb))return {L:y.id,offset:K};}}}catch(I){A={error:I};}finally{try{C && !C.done && (h=B.return) && h.call(B);}finally{if(A)throw A.error;}}(0,f.assert)(!1,"Upper playgraph position should always map to something in lower playgraph");};return g;})();b.SFa=t;},26162:function(t,b,a){var n,c,f,g,e,h,k;function d(l){l=n.__spreadArray([],n.__read(l.tH.TK(l.initial.id)),!1);(0,c.assert)(l.every(function(m){return 1 >= m.DE;}),"Must be linear playgraph");return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.vCc=function(l,m){var p,q,r,u,v,w,x,y,A,z,B,C,D,E,G,J,L,K,I,O,Q,T;w={};x={};y={};A=d(m);z=l.hz;B=m.hz;z=(0,c.fLa)(z,B);(0,c.assert)(1 === z.length,"Playgraphs to be merged should have exactly one shared viewable");C=z[0];if(A.length){D=A[A.length - 1];D.J === C && Infinity !== D.cb && (A[A.length - 1]=D.extend(c.I.dh));}E={};try{for(var H=n.__values(l.filter(function(Z){return Z.J === C;})),F=H.next();!F.done;F=H.next()){G=F.value;J=G.jb;L=G.Xb;K=J.equal(c.I.ia)?1:0;z=[];try{for(var M=(q=void 0,n.__values(A)),P=M.next();!P.done;P=M.next()){I=P.value;O=B=void 0;I.J === C?0 === K?I.iY(J) && (O=(0,k.fPb)(I,J,L),I.iY(L) && (I.Xb.isFinite() || L.isFinite())?(B=("").concat(G.id),K=2):(B=("").concat(G.id,":").concat(I.id),K=1)):(B=("").concat(G.id,":").concat(I.id),I.iY(L)?(I.jb.lessThan(L) && (O=(0,k.fPb)(I,J,L)),K=2):O=I):1 === K && (B=("").concat(G.id,":").concat(I.id),O=I);if(B && O && (w[B]=G.id,x[B]=I.id,z.length || (y[G.id]=B),z.push({id:B,gfa:O}),1 < z.length)){Q=n.__read(z.slice(-2),2);T=Q[0];D=Q[1];T.gfa=n.__assign(n.__assign({},(0,f.sNa)(T.gfa)),{Hc:D.id,next:(u={},u[D.id]={},u)});}if(2 === K){z.length && (D=z[z.length - 1],D.gfa=n.__assign(n.__assign({},(0,f.sNa)(D.gfa)),{Hc:G.Hc,next:G.next}));break;}}}catch(Z){q={error:Z};}finally{try{P && !P.done && (r=M.return) && r.call(M);}finally{if(q)throw q.error;}}z.forEach(function(Z){return E[Z.id]=Z.gfa;});}}catch(Z){var U;U={error:Z};}finally{try{F && !F.done && (p=H.return) && p.call(H);}finally{if(U)throw U.error;}}try{for(var X=n.__values(l.filter(function(Z){return Z.J !== C;})),Y=X.next();!Y.done;Y=X.next())(G=Y.value,E[G.id]=G,w[G.id]=G.id);}catch(Z){var W;W={error:Z};}finally{try{Y && !Y.done && (v=X.return) && v.call(X);}finally{if(W)throw W.error;}}U=h.Iz.create(new g.av().e1a(E,function(){return !0;},y).zE(y[l.initial.id] || l.initial.id).build());l=new e.SFa(l,U,w);m=new e.SFa(m,U,x);return {f0:U,izc:l,hOc:m};};n=a(22970);c=a(91176);f=a(58304);g=a(48456);e=a(43341);h=a(7314);k=a(48781);},7314:function(t,b,a){var n,c,f,g,e,h,k;function d(l,m){var p,q,r;if(l=l.get(m)){if(l.Hc && 0 !== (null === (q=null === (p=l.next) || void 0 === p?void 0:p[l.Hc]) || void 0 === q?void 0:q.YH))return l.Hc;if(l.next){r=l.next;p=Object.keys(r);return (q=p.reduce(function(u,v){var w;w=n.__read(u,2);u=w[0];w=w[1];return r[v].YH > w?[v,r[v].YH]:[u,w];},[void 0,0])[0])?q:p[0];}}}Object.defineProperties(b,{__esModule:{value:!0}});b.Iz=void 0;n=a(22970);c=a(91176);f=a(66164);g=a(48781);e=a(26162);t=(function(){function l(m){this.Z=m;}l.create=function(m){return new k(m);};l.update=function(m,p){return new k(p).pX(m);};l.nn=function(m,p){var q,r;q=(0,e.vCc)(m,p);p=q.f0;r=q.izc;q=q.hOc;m.kQc(p,r);p.uQc(m,r);return {f0:p,mapping:q};};return l;})();b.Iz=t;h=0;k=(function(l){function m(p){var q,r;q=l.call(this,p) || this;q.xya=new WeakMap();q.IS=new Map();q.sb=new f.platform.Console("WORKINGPLAYGRAPH");(0,c.assert)(p.uf,"Playgraph must have an initial segment");r=q.get(p.uf);(0,c.assert)(r,("Could not find initial segment ").concat(p.uf," in playgraph"));q.initial=r;q.tH={DE:q.GBb.bind(q),nT:q.UUa.bind(q),TK:q.FBb.bind(q),ALa:q.EBb.bind(q),wq:q.pyc.bind(q)};q.lfd={DE:q.cV.bind(q),nT:q.XXc.bind(q),TK:q.WXc.bind(q),ALa:q.UXc.bind(q),wq:q.VXc.bind(q)};q.C6=h++;q.Kyb=new c.c8a(function(u){return Object.keys(u.next || ({})).map(function(v){return {zXc:q.get(v),weight:u.Wb.G};});});return q;}n.__extends(m,l);Object.defineProperties(m.prototype,{hz:{get:function(){return this.m5b || (this.m5b=this.Mtc());},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Duc:{get:function(){return !!this.o_;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{gzb:{get:function(){return !!this.T0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Mqa:{get:function(){var p;return null === (p=this.o_) || void 0 === p?void 0:p.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{U0:{get:function(){var p;return null === (p=this.T0) || void 0 === p?void 0:p.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{SH:{get:function(){var p;return (null === (p=this.U0) || void 0 === p?void 0:p.SH) || this;},enumerable:!1,configurable:!0}});m.prototype.pX=function(p){var q,r,w,x;r=this.Z.ba;try{for(var u=n.__values(Object.keys(r)),v=u.next();!v.done;v=u.next()){w=v.value;if(p.pzb(w)){x=r[w];this.EDb(w,x,p.get(w));p.IS.has(x.J) && this.normalize(x.J,p.IS.get(x.J));}}}catch(A){var y;y={error:A};}finally{try{v && !v.done && (q=u.return) && q.call(u);}finally{if(y)throw y.error;}}return this;};m.prototype.has=function(p){return !!this.Z.ba[p];};m.prototype.get=function(p){var q;q=this.Z.ba[p];if(q)return this.xya.get(q) || this.EDb(p,q);};m.prototype.entries=function(){var p,q,r,u,v,w;return n.__generator(this,function(x){switch(x.label){case 0:(x.tc.push([0,5,6,7]),p=n.__values(Object.keys(this.Z.ba)),q=p.next(),x.label=1);case 1:if(q.done)return [3,4];r=q.value;return [4,[r,this.get(r)]];case 2:(x.T(),x.label=3);case 3:return (q=p.next(),[3,1]);case 4:return [3,7];case 5:return (u=x.T(),v={error:u},[3,7]);case 6:try{q && !q.done && (w=p.return) && w.call(p);}finally{if(v)throw v.error;}return [7];case 7:return [2];}});};m.prototype.forEach=function(p){var q;q=this;Object.keys(this.Z.ba).forEach(function(r){var u;u=q.get(r);p(u,r,q);});};m.prototype.keys=function(){return Object.keys(this.Z.ba).values();};m.prototype.values=function(){var p,q,r,u,v,w;return n.__generator(this,function(x){switch(x.label){case 0:(x.tc.push([0,5,6,7]),p=n.__values(Object.keys(this.Z.ba)),q=p.next(),x.label=1);case 1:if(q.done)return [3,4];r=q.value;return [4,this.get(r)];case 2:(x.T(),x.label=3);case 3:return (q=p.next(),[3,1]);case 4:return [3,7];case 5:return (u=x.T(),v={error:u},[3,7]);case 6:try{q && !q.done && (w=p.return) && w.call(p);}finally{if(v)throw v.error;}return [7];case 7:return [2];}});};m.prototype.normalize=function(p,q){var r,u,v;r=this;v=!1;this.Bnc(function(w){w.J === p && (v || r.IS.set(p,q),r.QFb(w),v=!0);});v && this.gzb && (null === (u=this.U0) || void 0 === u?void 0:u.normalize(p,q));};m.prototype.DKb=function(p){var q;this.IS.has(p) && (this.IS.delete(p),null === (q=this.T0) || void 0 === q?void 0:q.Z.DKb(p));};m.prototype.ota=function(p,q,r){this.pzb(p) && this.get(p).normalize(q,r);};m.prototype.filter=function(p){var q,r,u,v,w,x;return n.__generator(this,function(y){switch(y.label){case 0:(y.tc.push([0,5,6,7]),q=n.__values(Object.keys(this.Z.ba)),r=q.next(),y.label=1);case 1:if(r.done)return [3,4];u=r.value;return p(this.Z.ba[u])?[4,this.get(u)]:[3,3];case 2:(y.T(),y.label=3);case 3:return (r=q.next(),[3,1]);case 4:return [3,7];case 5:return (v=y.T(),w={error:v},[3,7]);case 6:try{r && !r.done && (x=q.return) && x.call(q);}finally{if(w)throw w.error;}return [7];case 7:return [2];}});};m.prototype.xl=function(p,q){var r,u,v,w;p=this.get(p);r=null === p || void 0 === p?void 0:p.next;if(r){Object.keys(q).forEach(function(x){var y;y=r[x];y && (y.weight=q[x]);});u=(0,g.bac)(r);v=u.jGb;w=u.lPb;Object.keys(r).forEach(function(x){if(x=r[x])x.YH=(0,g.aac)(x.weight,v,w);});}null === p || void 0 === p?void 0:p.xl(q);};m.prototype.HBb=function(p,q){var r,u;return n.__generator(this,function(v){switch(v.label){case 0:(r=q,v.label=1);case 1:return r?(u=this.get(r))?[4,u]:[3,3]:[3,3];case 2:return (v.T(),r=p(this,r),[3,1]);case 3:return [2];}});};m.prototype.Quc=function(p){p=this.Z.ba[p];return !!(p && p.next && Object.keys(p.next).length);};m.prototype.Luc=function(p){p=this.get(p);return !(!p || !this.Txb(p).length);};m.prototype.kQc=function(p,q){this.o_={Z:p,mapping:q};};Object.defineProperties(m.prototype,{id:{get:function(){return this.C6;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{identifier:{get:function(){var p,q,r,u,v;return ("").concat(null !== (q=null === (p=this.T0) || void 0 === p?void 0:p.Z.id) && void 0 !== q?q:"N"," -> (").concat(this.id,") -> ").concat(null !== (v=null === (u=null === (r=this.o_) || void 0 === r?void 0:r.Z) || void 0 === u?void 0:u.id) && void 0 !== v?v:"N");},enumerable:!1,configurable:!0}});m.prototype.uQc=function(p,q){this.T0={Z:p,mapping:q};};m.prototype.DH=function(p){var q;return null === (q=this.T0) || void 0 === q?void 0:q.mapping.II(p);};m.prototype.UL=function(p){return this.gzb?(p=this.DH(p)) && this.U0.UL(p):p;};m.prototype.RDb=function(p){if(!this.Duc)return p;p=this.Mqa.RDb(p);if(void 0 !== p)return this.Mqa.DH(p);};m.prototype.hWa=function(p){var q;return null === (q=this.T0) || void 0 === q?void 0:q.mapping.aJc(p);};m.prototype.oBc=function(p){var q;return null === (q=this.o_) || void 0 === q?void 0:q.mapping.$Ic(p);};m.prototype.pzb=function(p){return (p=this.Z.ba[p]) && this.xya.has(p);};m.prototype.GBb=function(p){var q,r,u,v,w,x,y;return n.__generator(this,function(A){switch(A.label){case 0:q=this.Z.ba[p];if(!q || !q.next)return [3,8];A.label=1;case 1:(A.tc.push([1,6,7,8]),r=n.__values(Object.keys(q.next)),u=r.next(),A.label=2);case 2:if(u.done)return [3,5];v=u.value;return [4,this.get(v)];case 3:(A.T(),A.label=4);case 4:return (u=r.next(),[3,2]);case 5:return [3,8];case 6:return (w=A.T(),x={error:w},[3,8]);case 7:try{u && !u.done && (y=r.return) && y.call(r);}finally{if(x)throw x.error;}return [7];case 8:return [2];}});};m.prototype.cV=function(p,q,r){this.oya(this.GBb(p),q,r);};m.prototype.UUa=function(p){var q,r,u,v,w,x,y;return n.__generator(this,function(A){switch(A.label){case 0:q=this.get(p);if(!q)return [3,8];A.label=1;case 1:(A.tc.push([1,6,7,8]),r=n.__values(this.Txb(q)),u=r.next(),A.label=2);case 2:if(u.done)return [3,5];v=u.value;return [4,this.get(v)];case 3:(A.T(),A.label=4);case 4:return (u=r.next(),[3,2]);case 5:return [3,8];case 6:return (w=A.T(),x={error:w},[3,8]);case 7:try{u && !u.done && (y=r.return) && y.call(r);}finally{if(x)throw x.error;}return [7];case 8:return [2];}});};m.prototype.XXc=function(p,q,r){this.oya(this.UUa(p),q,r);};m.prototype.oya=function(p,q,r){var u,v,y,A,z;v=!0;try{for(var w=n.__values(p),x=w.next();!x.done;x=w.next()){y=x.value;A=q(y,z,this,r);v=A.cV;r=A.state;if(!v)break;z=y;}}catch(C){var B;B={error:C};}finally{try{x && !x.done && (u=w.return) && u.call(w);}finally{if(B)throw B.error;}}};m.prototype.FBb=function(p){return this.HBb(d,p);};m.prototype.WXc=function(p,q,r){this.oya(this.FBb(p),q,r);};m.prototype.EBb=function(p){var q,r;return n.__generator(this,function(u){switch(u.label){case 0:(q=this.get(p),u.label=1);case 1:if(!q)return [3,3];r=n.__spreadArray([],n.__read(this.UUa(q.id)),!1);if(0 === r.length)return [3,3];q=1 === r.length?r[0]:(0,c.cc)(r,function(v){return v.Hc === p;}) || r[0];return [4,q];case 2:return (u.T(),[3,1]);case 3:return [2];}});};m.prototype.UXc=function(p,q,r){this.oya(this.EBb(p),q,r);};m.prototype.pyc=function(){(0,c.assert)(!1,"Not implemented");};m.prototype.VXc=function(p,q,r){var u;u=this;p=this.get(p);(0,c.assert)(p,"Segment not found in playgraph");this.Kyb.tSb(p,function(v,w,x,y){return q(v,x,u,y);},r);};m.prototype.EDb=function(p,q,r){p=new g.$ib(p,q,this.Z.$d || "lazy",this.identifier,r);!p.qn && this.IS.has(q.J) && this.QFb(p);this.xya.set(q,p);return p;};m.prototype.Bnc=function(p){var q;q=this;Object.keys(this.Z.ba).forEach(function(r){var u;u=q.xya.get(q.Z.ba[r]);u && p(u,r);});};m.prototype.QFb=function(p){var q;q=this.IS.get(p.J);q && p.normalize(q(p.Ta),q(p.cb));};m.prototype.Mtc=function(){var p;p=this;return (0,c.dLa)(Object.keys(this.Z.ba).map(function(q){return p.Z.ba[q].J;}));};m.prototype.Txb=function(p){var r;if(!p.nT){p.nT=[];for(var q in this.Z.ba){r=this.Z.ba[q].next;r && (p.id in r) && p.nT.push(q);}}return p.nT;};return m;})(t);},48781:function(t,b,a){var e,h,k,l,m;function d(p,q,r){var u,v,w,x;if(p.next){u=(null === r || void 0 === r?0:r.next)?c(p.next,r.next):p.next;p=f(u);v=p.lPb;w=p.jGb;x={};p.lB.forEach(function(y){x[y]=new m(u[y],w,v,q);});return x;}}function n(p,q){if("immediate" !== p)return 1;p=q.next?Object.keys(q.next):[];if(p.some(function(r){return void 0 !== q.next[r].weight;})){if(void 0 === q.weight)return 0;p=q.weight + p.reduce(function(r,u){return r + (q.next[u].weight || 0);},0);return q.weight / p;}return 1 / (p.length + 1);}function c(p,q){var r,u,x;u={};try{for(var v=e.__values(Object.keys(p)),w=v.next();!w.done;w=v.next()){x=w.value;u[x]=q[x] || p[x];}}catch(A){var y;y={error:A};}finally{try{w && !w.done && (r=v.return) && r.call(v);}finally{if(y)throw y.error;}}return u;}function f(p){var q,r,u;q=Object.keys(p);r=q.every(function(v){return void 0 === p[v].weight;})?void 0:q.reduce(function(v,w){return v + (p[w].weight || 0);},0);u=void 0 === r?q.length:q.reduce(function(v,w){return v + (p[w].weight?1:0);},0);return {lB:q,jGb:u,lPb:r};}function g(p,q,r){return void 0 === r?1 / q:0 === r?void 0 === p?1 / q:0:void 0 === p?0:p / r;}Object.defineProperties(b,{__esModule:{value:!0}});b.O1b=b.$ib=void 0;b.fPb=function(p,q,r){return e.__assign(e.__assign({},p.K),{Ta:h.I.max(q,p.jb).G,cb:h.I.min(r,p.Xb).G});};b.xad=d;b.k6c=n;b.cbd=c;b.bac=f;b.aac=g;e=a(22970);h=a(91176);k=a(4152);l=a(58304);t=(function(){function p(q,r,u,v,w){var x,y;x=this;this.id=q;this.K=r;this.Tgc=v;this.qn=!1;this.RF={};this.Vpa=function(A){var z,B,C,D;return (null === (z=x.Ly) || void 0 === z?0:z.length)?"immediate":null !== (D=null === (C=null === (B=x.next) || void 0 === B?void 0:B[A]) || void 0 === C?void 0:C.$d) && void 0 !== D?D:x.$d;};this.WJa=null !== (y=r.$d) && void 0 !== y?y:u;this.weight=w?w.weight:r.weight;this.Hc=null !== r.Hc?r.Hc:void 0;this.next=r.next?d(r,this.WJa,w):void 0;this.YH=n(this.WJa,this);this.jb=(this.qn=q=w?w.qn && w.cb === r.cb && w.Ta === r.Ta:!1)?w.jb:h.I.Ca(r.Ta);this.Xb=q?w.Xb:h.I.Ca(r.cb || Infinity);this.Ly=w && q?w.Ly:void 0;this.xl();}Object.defineProperties(p.prototype,{J:{get:function(){return this.K.J;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{CB:{get:function(){return this.K.CB;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{type:{get:function(){return this.K.type || l.pd.content;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ta:{get:function(){return this.K.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{cb:{get:function(){return this.K.cb || Infinity;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{ns:{get:function(){return this.K.ns;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Aq:{get:function(){return this.K.Aq;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Ul:{get:function(){return this.K.Ul;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{xp:{get:function(){return this.K.xp;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Wb:{get:function(){var q;return (null === (q=this.Xb) || void 0 === q?void 0:q.ea(this.jb)) || h.I.dh;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{DE:{get:function(){return this.next?Object.keys(this.next).length:0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{H2:{get:function(){return this.lB.length?!this.Hc && 0 === this.w0.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{wxc:{get:function(){return !this.type || this.type === l.pd.content;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{lB:{get:function(){return Object.keys(this.next || ({}));},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{$Dc:{get:function(){return this.RF;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{w0:{get:function(){var q;q=this;return this.lB.filter(function(r){return !!q.RF[r];});},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{l2a:{get:function(){var q;return null !== (q=this.dlb) && void 0 !== q?q:this.dlb=this.pac();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{qxa:{get:function(){var q;return null !== (q=this.elb) && void 0 !== q?q:this.elb=this.qac();},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Lw:{get:function(){return this.weight?this.weight / (this.weight + this.qxa):1;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{$d:{get:function(){var q;return (null === (q=this.Ly) || void 0 === q?0:q.length)?"immediate":this.WJa;},enumerable:!1,configurable:!0}});p.prototype.npb=function(q){return h.I.min(h.I.max(h.I.ia,q),this.Wb);};p.prototype.pGb=function(q){return this.jb.add(q);};p.prototype.PZa=function(q){return q.ea(this.jb);};p.prototype.mTc=function(q){return q.greaterThan(this.jb) && q.lessThan(this.Xb);};p.prototype.iY=function(q){return q.Wf(this.jb) && q.ln(this.Xb);};p.prototype.hdc=function(q){return q.Wf(h.I.ia) && q.ln(this.Wb);};p.prototype.normalize=function(q,r){var u;if(q && r){u=Math.max(q.O,r.O);this.jb=q.Kc(u);this.Xb=r.Kc(u);this.K.Ta=this.jb.G;this.K.cb=this.Xb.G;this.qn=!0;}};p.prototype.H3a=function(q){this.weight=q;this.YH=n(this.$d,this);};p.prototype.extend=function(q){this.Xb=q;return this;};p.prototype.Huc=function(q){return !!(this.next && -1 < Object.keys(this.next).indexOf(q));};p.prototype.Dwb=function(){var q;return this.w0.length?null !== (q=this.w0.map(this.Vpa).reduce(function(r,u){return r === u?u:void 0;})) && void 0 !== q?q:this.$d:this.$d;};p.prototype.$$b=function(q){var r,u;if(this.l2a){r=(this.RF[q] || 0) / this.l2a;if(void 0 === this.weight || 0 === this.qxa)return {hf:r};u=this.Lw;return 1 !== u && (0,k.nUa)(this.Vpa(q)) && this.RF[q]?{hf:u * r,iL:this.RF[q] / this.qxa * (1 - u)}:{hf:u * r};}return {hf:(null === (r=this.next) || void 0 === r?0:r[q])?1 / this.DE:0};};p.prototype.pNb=function(q){this.Ly=q;this.ISb();};p.prototype.xl=function(q){var r;if(this.next){r=this.next;this.RF=Object.keys(this.next).reduce(function(u,v){var w;w=q?q[v] || 0:r[v].weight;void 0 !== w && null !== w && 0 <= w && (u[v]=w);return u;},{});}else this.RF={};this.ISb();};p.prototype.pac=function(){var q;q=this;return this.w0.reduce(function(r,u){return r + q.RF[u];},0);};p.prototype.qac=function(){var q;q=this;return this.w0.filter(function(r){return (0,k.nUa)(q.Vpa(r));}).reduce(function(r,u){return r + q.RF[u];},0);};p.prototype.ISb=function(){this.elb=this.dlb=void 0;};p.prototype.toString=function(){var q;q=new h.zW(this.jb,this.Xb);return ("WSeg[").concat(this.Tgc,"](").concat(this.id,") ") + ("").concat(q.toString(h.rJ.G),"v:").concat(this.J);};return p;})();b.$ib=t;m=(function(){return function(p,q,r,u){this.YH=0;this.$d=p.$d || u;this.weight=p.weight;this.YH=g(p.weight,q,r);};})();b.O1b=m;},35621:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.L4a=void 0;d=a(22970);n=a(28020);t=(function(){function c(f){this.events=[];this.total=0;this.options=d.__assign({},f);}c.prototype.clear=function(){this.events=[];this.filled=void 0;this.total=0;};Object.defineProperties(c.prototype,{Svb:{get:function(){if(this.filled){if((0,n.ha)() - this.filled.ha < this.filled.reset)return !0;this.filled=void 0;}return !1;},enumerable:!1,configurable:!0}});c.prototype.push=function(f){var g,e,h,k,l;if(!this.Svb){g=(0,n.ha)();e=this.options.TS;h=g - e;this.events=this.events.filter(function(m){return m.ha > h;});f=this.events.push({ha:g,event:f});k=this.events;l=this.options;if(f >= l.count)return (this.total++,l=l.reset,"function" === typeof l && (l=l()),this.filled={ha:g,reset:l},this.events=[],{ha:g,total:this.total,count:f,TS:e,reset:l,events:k});}};return c;})();b.L4a=t;},42050:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.j5a=void 0;d=a(22970);n=a(91072);c=a(28951);f=a(62411);b.j5a=(function(){function g(){}g.open=function(e){return d.__awaiter(this,void 0,void 0,function(){var h,k,l,m,p,q,r,u,v,w,x,y,A;return d.__generator(this,function(z){switch(z.label){case 0:return (h=e.timing || new n.rHa(),[4,e.eu(h)]);case 1:(k=z.T(),l=e.trace.extend("ale-auth"),m=e.vD,z.label=2);case 2:return (z.tc.push([2,7,,8]),p=new c.SDa(k),l("Waiting for nonce and ALE session"),q=null !== (A=e.timeout) && void 0 !== A?A:this.timeout,[4,Promise.all([h.Ila(["network","nonce"],function(){return p.i4a(q,m.nonce.bind(m));}),h.Ila(["session","ale"],function(){return e.sX.ylc();})])]);case 3:return (r=z.T()[0],l("Got ALE session, nonce is",r),[4,h.Ila(["encrypt","ale"],function(){return e.sX.encrypt(r);})]);case 4:u=z.T();v=u.token;w=u.tG;k.send(m.response(v,w));if(!m.validate)return [3,6];x=m.validate.bind(m);return [4,h.Ila(["network","response"],function(){return p.i4a(q,x);})];case 5:(z.T(),z.label=6);case 6:return [2,k];case 7:throw (y=z.T(),l("ALE authentication failed with",y),k.close(),(0,f.PTb)("ale-encrypted-nonce",y));case 8:return [2];}});});};g.timeout=8E3;return g;})();},61222:function(t,b,a){var n,c,f,g;function d(e,h,k){return n.__awaiter(this,void 0,void 0,function(){var l,m,p,q,r,u;return n.__generator(this,function(v){switch(v.label){case 0:return (v.tc.push([0,2,,3]),[4,h()]);case 1:return [2,v.T()];case 2:return (l=v.T(),m=k.token,p=k.ul,q=k.Lu,r=k.Ac,u={type:"ale-failure",step:e,Fc:(0,g.wN)(l),now:new Date().toISOString(),ha:(0,f.ha)(),token:null !== m && void 0 !== m?m:null === p || void 0 === p?void 0:p.token,Lu:(null === r || void 0 === r?void 0:r.bk) || q,Tm:null === r || void 0 === r?void 0:r.Sgc.toISOString(),expiration:null === p || void 0 === p?void 0:p.vk().toISOString(),rX:r?(0,f.ha)() - r.Qgc:void 0,Oda:null === p || void 0 === p?void 0:p.Kea()},[2,Promise.reject(u)]);case 3:return [2];}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.k5a=void 0;n=a(22970);c=a(73608);f=a(28020);g=a(62411);t=(function(){function e(h,k){var l,m;this.Lu=1;this.options=n.__assign({},h);this.tk=h.tk;this.options.R_a=null !== (l=h.R_a) && void 0 !== l?l:!0;this.options.Kzb=null !== (m=h.Kzb) && void 0 !== m?m:!0;this.trace=h.trace.extend(k.kqb,"ale-client");this.config=k;}e.Hhc=function(h){h=h.tk;return {kqb:"SOCKETROUTER",scheme:c.AleScheme.A128CBC_HS256,keyx:c.AleKeyxScheme.CLEAR,crypto:h.crypto,mg:h.mg,ij:h.ij};};e.Cnc=function(h){return new e(h,this.Hhc(h));};e.prototype.Nsc=function(){this.xwa || (this.xwa=new c.p5a(this.config));return this.xwa;};e.prototype.kyb=function(){return n.__awaiter(this,void 0,void 0,function(){var h,k,l,m,p,q;q=this;return n.__generator(this,function(r){switch(r.label){case 0:if(this.ul && !this.ul.Kea())return [3,5];this.Ac=void 0;h=this.Lu++;return [4,d("create-service",function(){return q.Nsc();},{Lu:h})];case 1:return (k=r.T(),[4,d("get-request",function(){return k.msc();},{Lu:h})]);case 2:return (l=r.T(),this.trace("Provision request",l),[4,d("provision",function(){return q.tk.TKc(l);},{Lu:h})]);case 3:return (m=r.T(),this.trace("Provision response",m),p=this,[4,d("create-session",function(){return k.createSession(m);},{Lu:h})]);case 4:return (p.ul=r.T(),this.Ac={bk:h,Qgc:(0,f.ha)(),Sgc:new Date()},this.trace("Created session with expiration",this.ul.vk().toISOString()),[3,6]);case 5:(this.trace("Reusing session with expiration",this.ul.vk().toISOString()),r.label=6);case 6:return [2,this.ul];}});});};e.prototype.Wwb=function(h){return n.__awaiter(this,void 0,void 0,function(){var k,l,m,p;return n.__generator(this,function(q){switch(q.label){case 0:if(this.options.Kzb)return [3,2];k=this;l=k.ul;m=k.Lu;p=k.Ac;return [4,d(h,function(){if(!l)throw (0,g.cha)("No session has been created");if(l.Kea())throw (0,g.cha)("Session is due for renewal");},{ul:l,Lu:m,Ac:p})];case 1:(q.T(),q.label=2);case 2:return [2,this.kyb()];}});});};e.prototype.ylc=function(){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(h){switch(h.label){case 0:return [4,this.kyb()];case 1:return (h.T(),[2]);}});});};Object.defineProperties(e.prototype,{Kea:{get:function(){var h,k;return null !== (k=null === (h=this.ul) || void 0 === h?void 0:h.Kea()) && void 0 !== k?k:!0;},enumerable:!1,configurable:!0}});e.prototype.reset=function(){this.ul && (this.trace("Dropping session"),this.ul=void 0);};e.prototype.encrypt=function(h){return n.__awaiter(this,void 0,void 0,function(){var k,l,m,p,q,r;return n.__generator(this,function(u){switch(u.label){case 0:return (u.tc.push([0,3,,4]),k="encrypt",[4,this.Wwb(k)]);case 1:return (l=u.T(),m=l.token,[4,d(k,function(){return l.ilc(h);},{ul:l,token:m,Ac:this.Ac})]);case 2:return (p=u.T(),q={token:m,tG:p},this.trace("Encrypted : ",h,q),[2,q]);case 3:throw (r=u.T(),this.trace("Encrypt failed :",r),this.options.R_a && this.reset(),r);case 4:return [2];}});});};e.prototype.decrypt=function(h){return n.__awaiter(this,void 0,void 0,function(){var k,l,m,p;return n.__generator(this,function(q){switch(q.label){case 0:return (q.tc.push([0,3,,4]),k="decrypt",[4,this.Wwb(k)]);case 1:return (l=q.T(),[4,d(k,function(){return l.Bhc(h);},{ul:l,Ac:this.Ac})]);case 2:return (m=q.T(),this.trace("Decrypted : ",h,m),[2,m]);case 3:throw (p=q.T(),this.trace("Decrypt failed :",p),this.options.R_a && this.reset(),p);case 4:return [2];}});});};return e;})();b.k5a=t;},64743:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.hAa=void 0;d=a(22970);t=(function(n){function c(f,g){var e;e=n.call(this,f,g) || this;e.closed.then(function(){return e.clear();});return e;}d.__extends(c,n);c.prototype.clear=function(){var f;f=this.Pd;if(f)return (this.Pd=void 0,f.open && (this.trace("Closing",f.id),f.close()),this.emit("disconnected",{Pd:f}),f);};c.prototype.set=function(f){var g,e;g=this;if(this.open && this.Pd !== f){e=this.clear();f.open && (this.Pd=f,f.closed.then(function(){g.XU(f) && g.clear();}),f.on("message",function(h){h=h.message;g.XU(f) && g.emit("message",{Pd:f,message:h});}),f.on("failure",function(h){var k;k=h.Ge;h=h.error;g.XU(f) && g.emit("failure",{Ge:k,error:h,Pd:f});}),this.trace("Connected to",f.id),this.emit("connected",{Pd:f}));return e;}};c.prototype.isConnected=function(){var f;return this.open && (null === (f=this.Pd) || void 0 === f?void 0:f.open);};c.prototype.XU=function(f){return this.open && f === this.Pd;};Object.defineProperties(c.prototype,{connected:{get:function(){return this.isConnected();},enumerable:!1,configurable:!0}});c.prototype.send=function(f){var g;if(this.open && (null === (g=this.Pd) || void 0 === g?0:g.open))return this.Pd.send(f);};return c;})(a(9568).e6);b.hAa=t;},94933:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.q7a=void 0;d=a(22970);n=a(91072);c=a(28020);f=a(62411);t=(function(g){function e(h){var k;k=g.call(this,"CON",h.trace) || this;k.Xy=(0,c.ha)();k.timing=new n.rHa();k.attempt=0;k.options=d.__assign({},h);return k;}d.__extends(e,g);e.open=function(h){return d.__awaiter(this,void 0,void 0,function(){var k;return d.__generator(this,function(l){switch(l.label){case 0:(k=new e(h),l.label=1);case 1:return (l.tc.push([1,3,,4]),[4,k.connect()]);case 2:return (l.T(),[3,4]);case 3:return (l.T(),k.close(),[3,4]);case 4:return (k.Vd && !k.failure && (k.failure={type:"connection-failed",types:f.Cub(k.WQ),rA:k.WQ}),[2,k]);}});});};e.prototype.finish=function(h,k){var l;l=this;k.open?(h.end(),this.set(k),k.closed.then(function(){return l.close();})):(k=f.dab("Factory returned a closed socket"),this.failure={type:"connection-failed",types:f.Cub(k),rA:[k]},h.end(this.failure),this.close());};e.prototype.Xob=function(h,k){k=f.wN(k);if("connection-disabled" === k.type)throw (h.end(k),this.failure=k,k);};e.prototype.connect=function(){return d.__awaiter(this,void 0,void 0,function(){var h,k,l,m,p,q,r,u,v,w;return d.__generator(this,function(x){switch(x.label){case 0:(h=this.options,k=h.eu,l=h.retry,m=this.timing.exa("connect"),x.label=1);case 1:return (x.tc.push([1,3,,8]),this.attempt++,p=this.finish,q=[m],[4,k(m.details())]);case 2:return [2,p.apply(this,q.concat([x.T()]))];case 3:r=x.T();this.Xob(m,r);m.end(null !== r && void 0 !== r?r:f.dab("Factory failed with no error"));if(!l)throw r;u=this.timing.exa("retry");x.label=4;case 4:return (x.tc.push([4,6,,7]),[4,l(this.attempt,this.WQ)]);case 5:if(v=x.T())return [2,this.finish(u,v)];u.end();return [2,this.connect()];case 6:throw (w=x.T(),this.Xob(u,w),u.end(null !== w && void 0 !== w?w:f.kja(this.attempt)),w);case 7:return [3,8];case 8:return [2];}});});};Object.defineProperties(e.prototype,{Vd:{get:function(){return !this.connected;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{duration:{get:function(){return this.timing.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{OPb:{get:function(){return (0,c.ha)() - this.Xy;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Z_a:{get:function(){return this.timing.xs.reduce(function(h,k){var l;l=k.error;return "retry" !== k.type || l?h:h + 1;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{JUc:{get:function(){return (0,c.ha)() - this.timing.end;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{WQ:{get:function(){return this.timing.xs.filter(function(h){return h.error;}).map(function(h){return f.wN(h.error);});},enumerable:!1,configurable:!0}});return e;})(a(64743).hAa);b.q7a=t;},94450:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Counter=void 0;t=(function(){function a(d,n,c){this.total=0;this.counter=d.counter(n,c);}a.prototype.OA=function(d){void 0 === d && (d=1);this.total+=d;this.counter.OA(d);};return a;})();b.Counter=t;},70402:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.EventEmitter=void 0;d=a(22970);t=a(90745);n=(function(c){function f(g,e,h){var k;k=c.call(this) || this;h?k.resolve():k.listener=g.listener(e,function(){k.clear();k.resolve();});return k;}d.__extends(f,c);f.prototype.clear=function(){this.listener && (this.listener.clear(),this.listener=void 0);};return f;})(a(91176).Ko);a=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.listener=function(g,e){var h;h=this;this.on(g,e);return {clear:function(){return h.$l(g,e);}};};f.prototype.OCb=function(g,e){return new n(this,g,e);};return f;})(t.EventEmitter);b.EventEmitter=a;},4343:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.vBa=void 0;d=a(22970);t=a(70402);n=a(35621);c={count:Infinity,TS:-Infinity,reset:-Infinity};a=(function(f){function g(e){var h,k;void 0 === e && (e=c);h=f.call(this) || this;k=e.reset;h.fX=new n.L4a({count:e.count,TS:e.TS,reset:function(){return "number" === typeof k?k:k(h.fX.total,h.fX.events.map(function(l){return l.event.error;}));}});return h;}d.__extends(g,f);g.prototype.reset=function(){this.fX.clear();};Object.defineProperties(g.prototype,{lLc:{get:function(){return this.fX.Svb;},enumerable:!1,configurable:!0}});g.prototype.failure=function(e,h,k){var l,m,p,q,r,u;l=this;if(e=this.fX.push({Ge:e,Pd:h.id,error:k})){m=e.total;p=e.count;q=e.TS;r=e.reset;u=e.events.map(function(v){return d.__assign({ha:v.ha},v.event);});Promise.resolve().then(function(){l.emit("failed",{Pd:h,error:{type:"accumulated-failures",message:("Received ").concat(p," failure(s) over ").concat(q," ms"),total:m,reset:r,rA:u}});});}return this.fX.events.length;};return g;})(t.EventEmitter);b.vBa=a;},62411:function(t,b,a){var g;function d(e){var h;h=typeof e;if(e && "object" === h){if(e instanceof Error)return {type:"jse",name:e.name,message:e.message,stack:e.stack};if(e.type)return "jse" !== e.type && e.stack?g.__assign(g.__assign({},e),{line:void 0,sourceURL:void 0,stack:void 0}):e;}return {type:"unknown",Jed:h,value:e};}function n(e){if(e && "object" === typeof e && "string" === typeof e.type)return e;}function c(e){var l,m;function h(p){var r;if(k(p)){l.push(p);if(Array.isArray(p))return p.forEach(function(u){return h(u);});for(var q in p){r=p[q];k(r) && h(r);}(p=n(p)) && m.push(p);}}function k(p){return p && "object" === typeof p && 0 > l.indexOf(p);}l=[];m=[];h(e);return m;}function f(e){return c(e).reduce(function(h,k){var l;k=k.type;h[k]=(null !== (l=h[k]) && void 0 !== l?l:0) + 1;return h;},{});}Object.defineProperties(b,{__esModule:{value:!0}});b.dab=function(e){try{throw Error(e);}catch(h){return d(h);}};b.cha=function(e,h){return {type:"cause",message:e,rA:(null === h || void 0 === h?0:h.length)?h:void 0};};b.kja=function(e){return {type:"retries-exceeded",attempt:e};};b.k1b=function(e,h){return {type:"timed-out",G:e,message:h};};b.oCa=function(e){return {type:"interrupted",message:e};};b.hja=function(e,h,k,l){return {type:"request-failed",request:e,id:h,reason:k,Fc:d(l)};};b.PTb=function(e,h){return {type:"authn-failure",ZL:e,Fc:d(h)};};b.lBa=function(e){return {type:"error-response",response:e};};b.g5=function(e){return {type:"invalid-response",response:e};};b.rib=function(e){return {type:"unauthorized",response:e};};b.wN=d;b.TAb=n;b.exc=function(e,h){e=n(e);if((null === e || void 0 === e?void 0:e.type) === h)return e;};b.flatten=c;b.qmc=f;b.Cub=function(e){return Object.keys(f(e)).sort();};b.v_c=function(e,h){return {type:"connection-disabled",reason:e,message:h};};g=a(22970);},47348:function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.vvc=function(d){var n,c;c=null !== (n=a[d]) && void 0 !== n?n:1;a[d]=c + 1;return ("").concat(d,":").concat(c);};a={};},58655:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Vib=void 0;d=a(22970);n=a(62411);t=(function(){function c(f){this.options=f;this.visible=f.tk.visible;}Object.defineProperties(c.prototype,{context:{get:function(){return {visible:("").concat(this.visible.gV)};},enumerable:!1,configurable:!0}});c.prototype.ama=function(f){var g;f="string" === typeof f?{message:f}:f;g=this.options.ama;return g?d.__assign(d.__assign({},f || ({})),g()):f;};c.prototype.send=function(f,g,e,h){g={Ge:g,context:this.context,Hf:this.options.Hf.values,error:h?(0,n.wN)(h):void 0,Nk:this.ama(e)};this.options.tk.lS(f,g);this.options.trace(f,g);};c.prototype.error=function(f,g,e){this.send("error",f,e,g);};c.prototype.warn=function(f,g){this.send("warn",f,g);};c.prototype.y0=function(f,g){this.send("info",f,g);};c.prototype.a9b=function(f){var g;g=this.options.ama;this.options.ama=g?function(){return d.__assign(d.__assign({},g()),f());}:f;return this;};return c;})();b.Vib=t;},28951:function(t,b,a){var d,n,c,f;Object.defineProperties(b,{__esModule:{value:!0}});b.SDa=void 0;d=a(22970);n=a(91176);c=a(97936);f=a(62411);t=(function(g){function e(h,k){var l,m;l=g.call(this) || this;l.Pd=h;if(h.open){m=k?k.reduce(function(p,q){p[q]=!0;return p;},{}):void 0;h.closed.then(function(){return l.removeAllListeners();});h.on("message",function(p){var q,r;q=p.Pd;p=p.message;if(m && m[p])return l.emit("ignored",{Pd:q,message:p});try{r=JSON.parse(p);if(r && "object" === typeof r)return l.emit("message",{Pd:q,message:r});throw Error("Not an object");}catch(u){l.emit("invalid",{Pd:q,message:p,error:u});}});}return l;}d.__extends(e,g);e.prototype.i4a=function(h,k,l){return d.__awaiter(this,void 0,void 0,function(){var m,p,q,r;return d.__generator(this,function(u){switch(u.label){case 0:(m=new n.Ko(),null === l || void 0 === l?void 0:l.then(void 0,function(v){return m.reject(v);}),p=new c.yF(function(){return m.reject((0,f.k1b)(h,"Timed out waiting for message"));},h),q=this.Pd.closed,q.then(function(){return m.reject((0,f.oCa)("Socket closed while waiting for a message"));}),r=this.listener("message",function(v){var w;v=v.message;try{w=k(v);w && m.resolve(w);}catch(x){m.reject((0,f.wN)(x));}}),u.label=1);case 1:return (u.tc.push([1,,3,4]),[4,m]);case 2:return [2,u.T()];case 3:return (q.clear(),p.clear(),r.clear(),[7]);case 4:return [2];}});});};return e;})(a(70402).EventEmitter);b.SDa=t;},71385:function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.WV=(a={},a.CLOSE="_CLOSE_",a.WS_ECHO="ECHO ping",a);},59143:function(t,b,a){var d,n,c,f,g;Object.defineProperties(b,{__esModule:{value:!0}});b.qeb=void 0;d=a(22970);n=a(94933);c=a(49781);t=a(64743);f=a(4343);g=a(62411);a=(function(e){function h(k){var l;l=e.call(this,"PS",k.trace) || this;l.eNa=new c.Hfb(l);l.uQ=!1;l.options=d.__assign({},k);l.dNa=new f.vBa(k.connect).on("failed",function(m){l.emit("failure",{Ge:"max-connect-failures",Pd:m.Pd,error:m.error});});l.Mic=new f.vBa(k.disconnect).on("failed",function(m){var p;p=m.Pd;m=m.error;l.emit("failure",{Ge:"disconnect-failure",Pd:p,error:m});l.disconnect();l.dNa.failure("disconnect-failure",p,m);});l.trace("Opening initial connection");l.connect();return l;}d.__extends(h,e);h.prototype.ulb=function(){return !this.open || 1 < this.eNa.length || this.uQ || this.Vd;};h.prototype.connect=function(){var k;k=this;this.uQ=!1;return this.eNa.push("connect",function(){return d.__awaiter(k,void 0,void 0,function(){var l,m,p;p=this;return d.__generator(this,function(q){switch(q.label){case 0:if(this.ulb())return [2];this.trace("Connecting...");return [4,n.q7a.open(d.__assign(d.__assign({},this.options),{trace:this.trace}))];case 1:l=q.T();if(this.ulb())return (l.close(),[2]);if(l.Vd)return (m=(0,g.wN)(l.failure),this.disconnect(),this.emit("failure",{Ge:"connect-failed",Pd:l,error:m}),"connection-disabled" !== m.type && this.dNa.failure("connect-failed",l,m),[2]);this.trace("Connected",("").concat(l.id),l.timing.duration,"ms",l.timing.summary());l.closed.then(function(){var r,u,v;p.XU(l) && p.open && !p.uQ && !p.Vd && (null !== (v=null === (u=(r=p.options).cI) || void 0 === u?void 0:u.call(r)) && void 0 !== v?v:1) && p.connect();});l.on("failure",function(r){return p.Mic.failure(r.Ge,l,r.error);});this.set(l);return [2];}});});});};h.prototype.isConnected=function(){return e.prototype.isConnected.call(this) && !this.uQ;};Object.defineProperties(h.prototype,{fNa:{get:function(){return this.open && !this.uQ && 0 < this.eNa.length;},enumerable:!1,configurable:!0}});h.prototype.refresh=function(){if(this.open && !this.Vd)return this.connect();};h.prototype.cI=function(){if(this.open && !this.Vd)return (this.clear(),this.connect());};h.prototype.disconnect=function(){if(this.open && !this.uQ)return (this.uQ=!0,this.clear(),!0);};Object.defineProperties(h.prototype,{Vd:{get:function(){return this.dNa.lLc;},enumerable:!1,configurable:!0}});return h;})(t.hAa);b.qeb=a;},33993:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.reb=b.O_b=void 0;d=a(22970);t=a(70402);n=a(71385);b.O_b=(function(){return function(){};})();a=(function(c){function f(g){var e;e=c.call(this) || this;e.trace=g.trace.extend("ping");e.start(g);return e;}d.__extends(f,c);f.prototype.start=function(g){return d.__awaiter(this,void 0,void 0,function(){var e,h,k,l;l=this;return d.__generator(this,function(m){switch(m.label){case 0:return [4,g.interval];case 1:e=m.T();if(0 === e)return (this.trace("Disabled"),[2]);this.trace("Pinging every",e,"ms");h=g.client;k=!0;h.on("ping",function(){k=!0;l.trace("Received response");}).on("disconnected",function(){k=!0;});setInterval(function(){if(h.connected){if(!k)return (l.trace("Timed out, restarting"),l.emit("timeout"),h.cI());l.trace("Sending");h.send(n.WV.WS_ECHO) && (k=!1);}},e);return [2];}});});};return f;})(t.EventEmitter);b.reb=a;},49781:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Hfb=void 0;d=a(22970);t=a(90745);n=a(62411);a=(function(c){function f(g){var e;e=c.call(this) || this;e.gg=Promise.resolve();e.count=0;e.Pd=g;return e;}d.__extends(f,c);Object.defineProperties(f.prototype,{length:{get:function(){return this.count;},enumerable:!1,configurable:!0}});f.prototype.push=function(g,e){var h,k;h=this;k=this.Pd;k.open && (this.count++,this.gg=this.gg.then(function(){return d.__awaiter(h,void 0,void 0,function(){var l;return d.__generator(this,function(m){switch(m.label){case 0:if(!k.open)return [3,5];m.label=1;case 1:return (m.tc.push([1,3,4,5]),[4,e(this)]);case 2:return (m.T(),[3,5]);case 3:return (l=m.T(),k.emit("failure",{Ge:g,Pd:k,error:(0,n.wN)(l)}),[3,5]);case 4:return (--this.count || this.emit("empty"),[7]);case 5:return [2];}});});}));return this.gg;};return f;})(t.EventEmitter);b.Hfb=a;},9568:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.e6=void 0;d=a(22970);t=a(70402);n=a(47348);a=(function(c){function f(g,e){var h;h=c.call(this) || this;h.id=(0,n.vvc)(g);h.trace=e.extend(h.id);h.TG=function(){h.TG=void 0;h.emit("closed");h.removeAllListeners();return !0;};return h;}d.__extends(f,c);Object.defineProperties(f.prototype,{open:{get:function(){return !!this.TG;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{closed:{get:function(){return this.OCb("closed",!this.open);},enumerable:!1,configurable:!0}});f.prototype.close=function(){var g;return null === (g=this.TG) || void 0 === g?void 0:g.call(this);};f.prototype.send=function(){return this.open;};f.prototype.toJSON=function(){return this.id;};return f;})(t.EventEmitter);b.e6=a;},78710:function(t,b,a){var n,c;function d(f){var g;f=n.__assign({},f);f.retry || (f.retry=function(e,h){if(5 < e)throw c.kja(e);h=c.qmc(h);if(h.unauthorized)throw c.kja(e);if(1 === e && h["ale-failure"])throw c.kja(e);return new Promise(function(k){return setTimeout(k,500 * Math.pow(2,e - 1));});});f.connect || (f.connect=b.C7a);f.disconnect || (f.disconnect=b.D7a);if(!f.cI){g=0;f.cI=function(){if(4 <= g)return (g=0,!1);g++;return !0;};}return f;}Object.defineProperties(b,{__esModule:{value:!0}});b.D7a=b.C7a=void 0;b.aVb=function(f){return d(f);};n=a(22970);c=a(62411);b.C7a={count:3,TS:12E4,reset:6E5};b.D7a={count:3,TS:3E4,reset:6E4};},33351:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.V7a=void 0;d=a(90745);n=a(12746);t=(function(){function c(f){void 0 === f && (f={});this.source=f;this.events=f.events || new d.EventEmitter();this.visible=f.visible || new n.vza().set(!0);}Object.defineProperties(c.prototype,{info:{get:function(){var f;f=this.source.info;if(f)return f;throw Error("WebSocketClientDepencies.info must be implemented");},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{DS:{get:function(){return this.source.DS;},enumerable:!1,configurable:!0}});c.prototype.lS=function(f,g){var e,h;null === (h=(e=this.source).lS) || void 0 === h?void 0:h.call(e,f,g);};c.prototype.counter=function(f,g){var e,h;return (null === (h=(e=this.source).counter) || void 0 === h?void 0:h.call(e,f,g)) || ({OA:function(){void 0;}});};Object.defineProperties(c.prototype,{sX:{get:function(){var f;f=this.source.sX;if(f)return f;throw Error("WebSocketClientDepencies.ale must be implemented");},enumerable:!1,configurable:!0}});return c;})();b.V7a=t;},14678:function(t,b,a){var d,n,c,f,g,e,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Uib=void 0;d=a(22970);n=a(59143);t=a(70402);c=a(28951);f=a(71385);g=a(33993);e=a(62411);h=a(58655);k=a(78710);a=(function(l){function m(p){var q,r,u;q=l.call(this) || this;q.trace=p.trace.extend("common");r=q.trace;q.Hf=p.Hf;q.wa=new h.Vib({Hf:p.Hf,trace:p.trace,tk:p.tk});u=new n.qeb((0,k.aVb)(p));q.Pd=u;u.on("connected",function(v){q.emit("connected",v);q.wa.y0("connected",{sed:v.Pd.duration,TT:v.Pd.Z_a});});u.on("disconnected",function(v){q.emit("disconnected",v);q.wa.y0("disconnected",{ped:v.Pd.OPb,oed:v.Pd.JUc,TT:v.Pd.Z_a});});u.on("failure",function(v){var w,x;w=v.Pd;x=v.Ge;v=v.error;if("connection-disabled" === v.type)return (r.console.warn("Connection disabled",v.reason),q.emit("disabled",v));r.console.warn(v);q.emit("failure",{Ge:x,Pd:w,error:e.wN(v)});q.wa.error(x,v,{qed:w.OPb,TT:w.Z_a});});q.Me=new c.SDa(u,[f.WV.CLOSE,f.WV.WS_ECHO]).on("ignored",function(v){v=v.message;v === f.WV.CLOSE?(r("Restarting after server",f.WV.CLOSE,"message"),u.refresh(),q.emit("serverClose")):v === f.WV.WS_ECHO && (q.emit("ping"),r("Metrics",q.Hf.values));}).on("message",function(v){q.emit("message",{message:v.message});});new g.reb({trace:r,interval:p.sM,client:q}).on("timeout",function(){return q.emit("pingTimeout");});if(p=p.tk.events)(p.on("cookies-changed",function(){r("Cookies changed, reconnecting");q.cI();}),p.on("cookies-refreshed",function(){r("Cookies refreshed");q.refresh();}));return q;}d.__extends(m,l);Object.defineProperties(m.prototype,{connected:{get:function(){return this.Pd.connected;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fNa:{get:function(){return this.Pd.fNa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Vd:{get:function(){return this.Pd.Vd;},enumerable:!1,configurable:!0}});m.prototype.send=function(p){return this.Pd.send(p);};m.prototype.refresh=function(){this.Pd.refresh();};m.prototype.cI=function(){this.Pd.cI();};m.prototype.disconnect=function(){this.Pd.disconnect();};m.prototype.request=function(p){return d.__awaiter(this,void 0,void 0,function(){var q,r;return d.__generator(this,function(u){switch(u.label){case 0:if(!this.send(p.body))throw e.oCa("Socket.send returned false");q=this.Pd.OCb("disconnected");r=q.then(function(){throw e.oCa("Socket disconnected while waiting for a response");});u.label=1;case 1:return (u.tc.push([1,,3,4]),[4,this.Me.i4a(p.timeout,p.filter,r)]);case 2:return [2,u.T()];case 3:return (q.clear(),[7]);case 4:return [2];}});});};return m;})(t.EventEmitter);b.Uib=a;},46876:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Wib=void 0;d=a(91072);n=a(28020);c=a(94450);t=(function(){function f(g,e){this.Tm=(0,n.ha)();this.open=0;this.timeline=new d.Thb();this.client=g;g={client:g};this.ZGb=new c.Counter(e,"ws.opening",g);this.$Gb=new c.Counter(e,"ws.onopen",g);this.Gpb=new c.Counter(e,"ws.close",g);this.Hpb=new c.Counter(e,"ws.onclose",g);this.GMb=new c.Counter(e,"ws.send",g);this.G0a=new c.Counter(e,"ws.send.bytes",g);this.gKb=new c.Counter(e,"ws.onmessage",g);this.Dda=new c.Counter(e,"ws.onmessage.bytes",g);this.sPa=new c.Counter(e,"ws.onerror",g);}Object.defineProperties(f.prototype,{JRb:{get:function(){return (0,n.ha)() - this.Tm;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Gnb:{get:function(){var g;g=this.timeline.total;return 0 === g?0:this.timeline.cVc() / g * 100;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{lOb:{get:function(){return "open" === this.timeline.type?this.timeline.duration:0;},enumerable:!1,configurable:!0}});f.prototype.BGc=function(){this.ZGb.OA();this.timeline.type || this.timeline.t2a("closed");};f.prototype.uw=function(){this.$Gb.OA();this.timeline.t2a("open");this.open++;};f.prototype.closed=function(){this.Gpb.OA();0 < this.open && 0 === --this.open && this.timeline.t2a("closed");};f.prototype.pcc=function(){this.Hpb.OA();};f.prototype.T=function(g){this.GMb.OA();this.G0a.OA(g);};f.prototype.fKb=function(g){this.gKb.OA();this.Dda.OA(g);};f.prototype.error=function(){this.sPa.OA();};Object.defineProperties(f.prototype,{values:{get:function(){return {client:this.client,ha:(0,n.ha)(),JRb:this.JRb,Gnb:this.Gnb,lOb:this.lOb,Sbd:this.ZGb.total,open:this.$Gb.total,close:this.Gpb.total,B6c:this.Hpb.total,T:this.GMb.total,G0a:this.G0a.total,fKb:this.gKb.total,Dda:this.Dda.total,rA:this.sPa.total};},enumerable:!1,configurable:!0}});return f;})();b.Wib=t;},1409:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.bhb=void 0;d=a(62411);t=(function(){function n(c){this.Ck=c;}n.prototype.nonce=function(c){var f;f=this.Ck.Lma(c);switch(f.type){case "nonce":return f.nonce;case "unauthorized":throw (0,d.rib)(c);}};n.prototype.response=function(c,f){return JSON.stringify(this.Ck.b9b({encryptedNonce:f,aleToken:c}));};n.prototype.validate=function(c){var f;if("AUTHENTICATED" === (null === (f=c.payload) || void 0 === f?void 0:f.aleResponseState))return !0;throw (0,d.lBa)(c);};return n;})();b.bhb=t;},41066:function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(22970);t.__exportStar(a(33884),b);t.__exportStar(a(74041),b);t.__exportStar(a(25987),b);t.__exportStar(a(44865),b);},65646:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.sbb=void 0;d=a(22970);t=(function(){function n(c){var f,g;f=this;this.iPb={logblob:0,events:0,manifest:0,license:0,ntlBatch:0,ntlSendImmediate:0};this.Vd={logblob:0,events:0,manifest:0,license:0,ntlBatch:0,ntlSendImmediate:0};this.options=d.__assign({},c);g=this.options.client.wa.a9b(function(){return {connection:f.options.Ck.connection};});c.gg.on("sending",function(e){var h,k;h=e.request;k=h.id;h=h.type;e=e.size;g.y0("sending-request",{message:("Sending ").concat(h," of size ").concat(e),type:h,correlationId:k,size:e});}).on("succeeded",function(e){return f.iPb[e.request.type]++;}).on("failed",function(e){var h;h=e.error;f.Vd[e.request.type]++;g.error("sending-request",h);});c.tk.visible.on("yes",function(){g.y0("stats",{stats:f.stats()});}).on("no",function(){c.DG && g.y0("disable-on-suspend","Stopping on suspend");});c.tk.events.on("application-shutdown",function(){g.y0("stats",{stats:f.stats()});});}n.Sla=function(c){d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(f){switch(f.label){case 0:return [4,c.tk.visible.Asb];case 1:return (f.T(),new n(c),[2]);}});});};n.prototype.stats=function(){return {success:this.iPb,failure:this.Vd,correlationId:this.options.Ck.correlationId};};return n;})();b.sbb=t;},44865:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Gfb=void 0;d=a(22970);n=a(62411);t=(function(c){function f(){return null !== c && c.apply(this,arguments) || this;}d.__extends(f,c);f.prototype.gsa=function(g,e,h,k){h=("").concat(this.g0);this.g0+=2;return {Ac:{em:g || e,OM:e,id:h,x6c:{t5c:this.options.tk.visible.gV?"foreground":"background"}},payload:k};};f.prototype.Lma=function(g){var e,h,k,l;l=null === (e=g.Ac) || void 0 === e?void 0:e.OM;e=("").concat((null === (h=g.Ac) || void 0 === h?void 0:h.id) || "");switch(l){case "nonce":if((h=null === (k=g.payload) || void 0 === k?void 0:k.nonceToken) && "string" === typeof h)return {type:l,id:e,nonce:h};throw (0,n.g5)(g);case "unauthorized":return {type:l,id:e};}return {type:"other",id:e};};f.prototype.validate=function(g){var e,h;e=g.Ac;h=g.payload;if(!e || "object" !== typeof e)throw (0,n.g5)(g);if("undefined" !== typeof e.errorCode)throw (0,n.lBa)(g);if(!h || "object" !== typeof h)throw (0,n.g5)(g);g=e.headers;return {headers:g && "object" === typeof g?g:{},payload:h};};return f;})(a(25987).yja);b.Gfb=t;},14152:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.V5=void 0;d=a(22970);t=a(70402);n=a(62411);a=(function(c){function f(g){var e;e=c.call(this) || this;e.map={};e.options=d.__assign({},g);return e;}d.__extends(f,c);f.prototype.RNc=function(g){var e;e=this;return function(h){var k;k=e.options.Ck.Lma(h).id;if(k === g.id)try{return e.options.Ck.validate(h);}catch(l){throw (0,n.hja)(g.type,k,"error-response",l);}};};f.prototype.send=function(g){return d.__awaiter(this,void 0,void 0,function(){var e,h,k,l,m,p,q,r,u,v,w,x,y,A,z,B,C;return d.__generator(this,function(D){switch(D.label){case 0:(e=g.type,h=g.options,k=this.options.Ck.request(g,1),l=this.options.Ck.Lma(k).id,m=this.options.trace.extend(e,l),m("Preparing"),p=d.__assign(d.__assign({},g),{id:l,attempt:1}),D.label=1);case 1:D.tc.push([1,6,,7]);if(q=null === h || void 0 === h?void 0:h.maxInQueue)if((r=this.yqb(e),r >= q))throw (0,n.hja)(e,l,"queue-full",(0,n.cha)(("Queue has ").concat(r)));u=JSON.stringify(k);if(v=null === h || void 0 === h?void 0:h.maxLengthBytes)if((w=u.length,w > v))throw (0,n.hja)(e,l,"too-large",(0,n.cha)(("Body is ").concat(u.length," bytes")));this.map[l]=p;D.label=2;case 2:return (D.tc.push([2,,4,5]),m("Sending..."),this.emit("sending",{request:p,size:u.length}),x=this.options,y=x.client,A=x.timeout,[4,y.request({body:u,timeout:A,filter:this.RNc(p)})]);case 3:return (z=D.T(),m("Succeeded"),this.emit("succeeded",{request:p}),[2,z]);case 4:return (delete this.map[l],[7]);case 5:return [3,7];case 6:throw (B=D.T(),C=(0,n.exc)(B,"request-failed") || (0,n.hja)(p.type,l,"cause",B),m("Failed with",C),this.emit("failed",{request:p,error:C}),C);case 7:return [2];}});});};f.prototype.yqb=function(g){var e,h;e=0;for(h in this.map)this.map[h].type === g && e++;return e;};return f;})(t.EventEmitter);b.V5=a;},74041:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.$gb=void 0;d=a(22970);t=(function(n){function c(f,g){var e,h;e=f.DG;h=n.call(this,{sM:f.sM,J1:f.J1,DG:e,zda:f.zda,SRb:f.SRb,tk:g}) || this;h.vTc=f.eu({trace:h.trace,Hf:h.Hf,DG:e,Amb:f.Amb,url:f.url,visible:g.visible,timeout:f.bua,Ck:h.Ck,tk:g});return h;}d.__extends(c,n);c.prototype.eu=function(f){return this.vTc(f);};return c;})(a(8678).ahb);b.$gb=t;},8678:function(t,b,a){var d,n,c,f,g,e,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.ahb=void 0;d=a(22970);n=a(72163);t=a(70402);c=a(46876);f=a(14678);g=a(14152);e=a(65646);h=a(25987);k=a(44865);a=(function(l){function m(p){var q,r,u,v,w,x,y;q=l.call(this) || this;q.trace=(0,n.gb)("SOCKET_ROUTER");q.options=p;r=p.sM;u=p.J1;v=p.DG;w=p.zda;x=p.SRb;p=p.tk;y=p.visible;q.Hf=new c.Wib(x?"px":"sr",p);q.Ck=new (x?k.Gfb:h.yja)({zda:w,tk:p});q.client=new f.Uib({trace:q.trace,Hf:q.Hf,eu:function(A){return q.eu(A);},retry:void 0,cI:void 0,sM:r,connect:void 0,disconnect:void 0,tk:p});q.client.on("connected",function(A){q.emit("connected",A);q.emit("open");}).on("disconnected",function(){return q.Ck.Rvc();}).on("serverClose",function(){return q.emit("reconnect");}).on("ping",function(){return q.emit("ping");});q.$Kb=new g.V5({trace:q.trace,timeout:u,client:q.client,Ck:q.Ck});v && y.Asb.then(function(){y.on("no",function(){q.trace("Disconnecting on suspend...");q.client.disconnect();});y.on("yes",function(){q.trace("Resumed, calling start...");q.start();});});e.sbb.Sla({client:q.client,tk:p,DG:v,gg:q.$Kb,Ck:q.Ck});return q;}d.__extends(m,l);Object.defineProperties(m.prototype,{connected:{get:function(){return !!this.client.connected;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wUa:{get:function(){return this.connected;},enumerable:!1,configurable:!0}});m.prototype.request=function(p){return d.__awaiter(this,void 0,void 0,function(){var q,r;return d.__generator(this,function(u){switch(u.label){case 0:return [4,this.$Kb.send(p)];case 1:return (q=u.T(),r=Object.keys(q.headers).map(function(v){return ("").concat(v,": ").concat(q.headers[v]);}),[2,{body:q.payload,headers:r}]);}});});};m.prototype.send=function(p,q){p=JSON.stringify(this.Ck.yoc(p,q));return this.client.send(p);};m.prototype.start=function(){this.connected || this.client.fNa || this.client.Vd || (this.trace('Reconnecting because "start" was called'),this.client.cI());};m.prototype.disconnect=function(){this.trace("Disconnecting");this.client.disconnect();};return m;})(t.EventEmitter);b.ahb=a;},33884:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},25987:function(t,b,a){var d,n,c;Object.defineProperties(b,{__esModule:{value:!0}});b.yja=void 0;d=a(22970);n=a(62411);c={logblob:"pbo-logblob",events:"pbo-event",manifest:"pbo-manifest",license:"pbo-license",ntlBatch:"ntl-log",ntlSendImmediate:"ntl-event"};t=(function(){function f(g){this.gNa=this.g0=1;this.options=g;}f.prototype.gsa=function(g,e,h,k){var l;g=this.correlationId;this.g0++;return {routingContext:{messageType:e,correlationId:g,attempt:h,foreground:null !== (l=this.options.tk.visible.gV) && void 0 !== l?l:!1},payload:k};};Object.defineProperties(f.prototype,{correlationId:{get:function(){return ("").concat(this.gNa,"-").concat(this.g0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{connection:{get:function(){return this.gNa;},enumerable:!1,configurable:!0}});f.prototype.Rvc=function(){this.gNa++;this.g0=1;};f.prototype.b9b=function(g){var e;e=this.options.tk.info;g=d.__assign(d.__assign({},g),{clientInfo:{build:e.fga.build,platform:e.fga.platform,applicationVersion:e.fga.Xa,uiPlatform:e.o3a,uiVersion:e.fga.o3a,player:e.fga.player},groupName:e.groupName});return d.__assign(d.__assign({},this.gsa(void 0,"authentication",void 0,g)),{requiresPushySupport:this.options.zda});};f.prototype.request=function(g,e){return this.gsa(g.name,c[g.type],e,g.payload);};f.prototype.yoc=function(g,e){return this.gsa(void 0,g,1,e);};f.prototype.Lma=function(g){var e,h,k,l;l=null === (e=g.routingContext) || void 0 === e?void 0:e.messageType;e=(null === (h=g.routingContext) || void 0 === h?void 0:h.correlationId) || "";switch(l){case "nonce":if((h=null === (k=g.payload) || void 0 === k?void 0:k.nonceToken) && "string" === typeof h)return {type:l,id:e,nonce:h};throw (0,n.g5)(g);case "unauthorized":return {type:l,id:e};}return {type:"other",id:e};};f.prototype.validate=function(g){var e,h;e=g.payload;h=g.routingContext;if(g.socketRouterError)throw (0,n.lBa)(g);if(!e || "object" !== typeof e)throw (0,n.g5)(g);g=(h || ({})).headers;return {headers:g && "object" === typeof g?g:{},payload:e};};f.POc=2;return f;})();b.yja=t;},12746:function(t,b,a){var d,n;Object.defineProperties(b,{__esModule:{value:!0}});b.vza=void 0;d=a(22970);n=a(91176);t=(function(c){function f(g){var e;e=c.call(this) || this;e.first=new n.Ko();e.Asb=e.first.promise;null === g || void 0 === g?void 0:g.then(function(h){return e.set(h);});return e;}d.__extends(f,c);f.prototype.set=function(g){g !== this.value && (void 0 === this.value && this.first.resolve(this),this.value=g,this.emit(g?"yes":"no"));return this;};Object.defineProperties(f.prototype,{gV:{get:function(){return this.value;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{cXa:{get:function(){if(void 0 !== this.value)return !this.value;},enumerable:!1,configurable:!0}});f.prototype.toString=function(){return String(this.value);};return f;})(a(90745).EventEmitter);b.vza=t;},28020:function(t,b,a){var d;Object.defineProperties(b,{__esModule:{value:!0}});b.ha=function(){return d.platform.time.ha();};d=a(66164);},97936:function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yF=void 0;t=(function(){function a(d,n){var c;c=this;this.timeout=setTimeout(function(){c.timeout=void 0;d();},n);}Object.defineProperties(a.prototype,{Yq:{get:function(){if(this.timeout)return !0;},enumerable:!1,configurable:!0}});a.prototype.clear=function(){if(this.timeout)return (clearTimeout(this.timeout),this.timeout=void 0,!0);};return a;})();b.yF=t;},91072:function(t,b,a){var n,c,f,g;function d(e){return e.filter(function(h){return h.start !== h.end;}).map(function(h){var k,l,m,p,q;k=h.ssb;l=h.start;m=h.end;p=h.error;q=h.details;h=("").concat(h.type).concat(k?(" (").concat(k,"):"):":"," ").concat(m - l," ms").concat(p?" (failed)":"");return q?[h,d(q)]:h;});}Object.defineProperties(b,{__esModule:{value:!0}});b.Thb=b.rHa=b.d1b=void 0;n=a(22970);c=a(28020);f=(function(){function e(h,k){h="string" === typeof h?[h,void 0]:h;this.interval={type:h[0],ssb:h[1],start:(0,c.ha)(),end:NaN};this.ended=k;}e.prototype.end=function(h){isNaN(this.interval.end) && (this.interval.end=(0,c.ha)(),this.interval.error=h,this.ended(this.interval));};Object.defineProperties(e.prototype,{type:{get:function(){return this.interval.type;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Yq:{get:function(){return isNaN(this.interval.end);},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{duration:{get:function(){var h,k;h=this.interval;k=h.start;h=h.end;return (isNaN(h)?(0,c.ha)():h) - k;},enumerable:!1,configurable:!0}});e.prototype.details=function(){return new g(this.interval);};return e;})();b.d1b=f;g=(function(){function e(h){this.xs=[];(null === h || void 0 === h?0:h.details)?this.xs=h.details:h && (h.details=this.xs);}e.prototype.push=function(h,k,l,m){h="string" === typeof h?[h,void 0]:h;this.xs.push({type:h[0],ssb:h[1],start:k,end:l,error:m});};e.prototype.exa=function(h){var k;k=this;return new f(h,function(l){k.xs.push(l);});};e.prototype.Ila=function(h,k){return n.__awaiter(this,void 0,void 0,function(){var l,m,p;return n.__generator(this,function(q){switch(q.label){case 0:(l=this.exa(h),q.label=1);case 1:return (q.tc.push([1,3,,4]),[4,k(l)]);case 2:return (m=q.T(),l.end(),[2,m]);case 3:throw (p=q.T(),l.end(p),p);case 4:return [2];}});});};Object.defineProperties(e.prototype,{duration:{get:function(){return this.end - this.start;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{first:{get:function(){return this.xs[0];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{Nd:{get:function(){return this.xs[this.xs.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{start:{get:function(){var h,k;return null !== (k=null === (h=this.first) || void 0 === h?void 0:h.start) && void 0 !== k?k:NaN;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{end:{get:function(){var h,k;return null !== (k=null === (h=this.Nd) || void 0 === h?void 0:h.end) && void 0 !== k?k:NaN;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{count:{get:function(){return this.xs.length;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{sPa:{get:function(){return this.xs.reduce(function(h,k){return k.error?h + 1:h;},0);},enumerable:!1,configurable:!0}});e.prototype.yqb=function(h){return this.xs.reduce(function(k,l){return l.type === h?k + 1:k;},0);};e.prototype.summary=function(){return d(this.xs);};return e;})();b.rHa=g;t=(function(){function e(){this.Lfa={};}e.prototype.t2a=function(h){var k,l,m;k=this;(null === (l=this.D2) || void 0 === l?void 0:l.type) !== h && (null === (m=this.D2) || void 0 === m?void 0:m.end(),this.D2=new f(h,function(p){k.Lfa[h]=(k.Lfa[h] || 0) + p.end - p.start;}));};Object.defineProperties(e.prototype,{type:{get:function(){var h;return null === (h=this.D2) || void 0 === h?void 0:h.type;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{duration:{get:function(){var h,k;return null !== (k=null === (h=this.D2) || void 0 === h?void 0:h.duration) && void 0 !== k?k:0;},enumerable:!1,configurable:!0}});Object.defineProperties(e.prototype,{total:{get:function(){var h;h=this;return Object.keys(this.Lfa).reduce(function(k,l){return k + h.Lfa[l];},this.duration);},enumerable:!1,configurable:!0}});e.prototype.cVc=function(){var h;return (this.Lfa.open || 0) + ("open" === (null === (h=this.D2) || void 0 === h?void 0:h.type)?this.D2.duration:0);};return e;})();b.Thb=t;},72163:function(t,b,a){var n,c;function d(f){var k,l;function g(){for(var m=[],p=0;p < arguments.length;p++)m[p]=arguments[p];return l?k.trace.apply(k,n.__spreadArray([l],m,!1)):k.trace.apply(k,m);}for(var e=[],h=1;h < arguments.length;h++)e[h - 1]=arguments[h];k="string" === typeof f?new c.platform.Console(f):f;l=e.filter(function(m){return m;}).map(function(m){return ("").concat(m);}).join(":");g.console=k;g.extend=function(){for(var m=[],p=0;p < arguments.length;p++)m[p]=arguments[p];return d.apply(void 0,n.__spreadArray([k],n.__spreadArray([l],m,!0),!1));};g.error=function(){for(var m=[],p=0;p < arguments.length;p++)m[p]=arguments[p];return k.error.apply(k,n.__spreadArray([l],m,!1));};return g;}Object.defineProperties(b,{__esModule:{value:!0}});b.gb=d;n=a(22970);c=a(66164);},75177:function(){},794:function(t,b,a){var d,n,c,f,g,e,h,k,l;d=a(5408);n=a(5158);c=a(3642);f=a(32249);g=a(70126);e=a(38733);h=a(51461);k=a(4);l=a(83891);t.exports=function(m,p,q){if(!n(m))throw new d("Assertion failed: Type(O) is not Object");if(!h(p))throw new d("Assertion failed: P is not a Property Key");q=c(q)?q:l(q);if(!c(q))throw new d("Assertion failed: Desc is not a valid Property Descriptor");return f(e,k,g,m,p,q);};},70126:function(t,b,a){var d,n,c;d=a(5408);n=a(3642);c=a(84902);t.exports=function(f){if("undefined" !== typeof f && !n(f))throw new d("Assertion failed: `Desc` must be a Property Descriptor");return c(f);};},83317:function(t,b,a){t.exports=a(9680);},20451:function(t,b,a){var d,n,c;d=a(90982)("%Reflect.construct%",!0);b=a(794);try{b({},"",{"[[Get]]":function(){}});}catch(f){b=null;}if(b && d){n={};c={};b(c,"length",{"[[Get]]":function(){throw n;},"[[Enumerable]]":!0});t.exports=function(f){try{d(f,c);}catch(g){return g === n;}};}else t.exports=function(f){return "function" === typeof f && !!f.prototype;};},38733:function(t,b,a){var d,n,c;d=a(5408);n=a(72196);c=a(3642);t.exports=function(f){if("undefined" === typeof f)return !1;if(!c(f))throw new d("Assertion failed: `Desc` must be a Property Descriptor");return n(f,"[[Value]]") || n(f,"[[Writable]]")?!0:!1;};},4:function(t,b,a){var d;d=a(68806);t.exports=function(n,c){return n === c?0 === n?1 / n === 1 / c:!0:d(n) && d(c);};},99939:function(t,b,a){var d;d=a(68806);t.exports=function(n,c){return n === c || d(n) && d(c);};},88251:function(t,b,a){var d,n,c,f;d=a(67286)("%Symbol.species%",!0);n=a(5408);c=a(5158);f=a(20451);t.exports=function(g,e){if(!c(g))throw new n("Assertion failed: Type(O) is not Object");g=g.constructor;if("undefined" === typeof g)return e;if(!c(g))throw new n("O.constructor is not an Object");g=d?g[d]:void 0;if(null == g)return e;if(f(g))return g;throw new n("no constructor found");};},14463:function(t){t.exports=function(b){return !!b;};},76113:function(t,b,a){var d,n,c,f,g,e;d=a(46382);n=a(26827);c=a(84583);f=a(68806);g=a(88562);e=a(82026);t.exports=function(h){var k;h=c(h);if(f(h) || 0 === h)return 0;if(!g(h))return h;k=n(d(h));return 0 === k?0:e(h) * k;};},69808:function(t,b,a){var d,n;d=a(38752);n=a(76113);t.exports=function(c){c=n(c);return 0 >= c?0:c > d?d:c;};},84583:function(t,b,a){var d,n,c,f,g,e,h,k,l,m,p,q,r;d=a(67286);n=a(5408);c=d("%Number%");b=d("%RegExp%");f=d("%parseInt%");g=a(8435);d=a(63671);e=a(45819);h=g("String.prototype.slice");k=d(/^0b[01]+$/i);l=d(/^0o[0-7]+$/i);m=d(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");p=d(b);q=a(11341);r=a(99197);t.exports=function w(v){var x;v=e(v)?v:r(v,c);if("symbol" === typeof v)throw new n("Cannot convert a Symbol value to a number");if("bigint" === typeof v)throw new n("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof v){if(k(v))return w(f(h(v,2),2));if(l(v))return w(f(h(v,2),8));if(p(v) || m(v))return NaN;x=q(v);if(x !== v)return w(x);}return +v;};},48668:function(t,b,a){t.exports=a(8156);},99197:function(t,b,a){var d;d=a(5885);t.exports=function(n){return 1 < arguments.length?d(n,arguments[1]):d(n);};},83891:function(t,b,a){var d,n,c,f,g;d=a(72196);n=a(5408);c=a(5158);f=a(83317);g=a(14463);t.exports=function(e){var h,k;if(!c(e))throw new n("ToPropertyDescriptor requires an object");h={};d(e,"enumerable") && (h["[[Enumerable]]"]=g(e.enumerable));d(e,"configurable") && (h["[[Configurable]]"]=g(e.configurable));d(e,"value") && (h["[[Value]]"]=e.value);d(e,"writable") && (h["[[Writable]]"]=g(e.writable));if(d(e,"get")){k=e.get;if("undefined" !== typeof k && !f(k))throw new n("getter must be a function");h["[[Get]]"]=k;}if(d(e,"set")){e=e.set;if("undefined" !== typeof e && !f(e))throw new n("setter must be a function");h["[[Set]]"]=e;}if((d(h,"[[Get]]") || d(h,"[[Set]]")) && (d(h,"[[Value]]") || d(h,"[[Writable]]")))throw new n("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return h;};},18132:function(t,b,a){var d;d=a(96222);t.exports=function(n){return "symbol" === typeof n?"Symbol":"bigint" === typeof n?"BigInt":d(n);};},46382:function(t,b,a){var d;d=a(14383);t.exports=function(n){return "bigint" === typeof n?BigInt(d(Number(n))):d(n);};},26827:function(t,b,a){var d;d=a(45736);t.exports=function(n){return "bigint" === typeof n?n:d(n);};},11885:function(t,b,a){var d,n;d=a(67286)("%String%");n=a(5408);t.exports=function(c){if("symbol" === typeof c)throw new n("Cannot convert a Symbol value to a string");return d(c);};},96222:function(t,b,a){var d;d=a(5158);t.exports=function(n){if(null === n)return "Null";if("undefined" === typeof n)return "Undefined";if(d(n))return "Object";if("number" === typeof n)return "Number";if("boolean" === typeof n)return "Boolean";if("string" === typeof n)return "String";};},90982:function(t,b,a){t.exports=a(67286);},32249:function(t,b,a){var d,n,c,f;b=a(81181);d=a(70999);n=b.wuc();c=n && a(27595);f=a(8435)("Object.prototype.propertyIsEnumerable");t.exports=function(g,e,h,k,l,m){if(!d){if(!g(m) || !m["[[Configurable]]"] || !m["[[Writable]]"] || (l in k) && f(k,l) !== !!m["[[Enumerable]]"])return !1;g=m["[[Value]]"];k[l]=g;return e(k[l],g);}if(n && "length" === l && ("[[Value]]" in m) && c(k) && k.length !== m["[[Value]]"])return (k.length=m["[[Value]]"],k.length === m["[[Value]]"]);d(k,l,h(m));return !0;};},27595:function(t,b,a){var d;b=a(67286)("%Array%");d=!b.isArray && a(8435)("Object.prototype.toString");t.exports=b.isArray || (function(n){return "[object Array]" === d(n);});},84902:function(t){t.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=!!b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=!!b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=!!b["[[Configurable]]"]);return a;};},51832:function(t,b,a){t.exports=a(88562);},97911:function(t){t.exports=Number.isNaN || (function(b){return b !== b;});},45819:function(t){t.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},51461:function(t){t.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},3642:function(t,b,a){var d,n,c;d=a(5408);n=a(72196);c={__proto__:null,"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};t.exports=function(f){if(!f || "object" !== typeof f)return !1;for(var g in f)if(n(f,g) && !c[g])return !1;g=n(f,"[[Value]]") || n(f,"[[Writable]]");f=n(f,"[[Get]]") || n(f,"[[Set]]");if(g && f)throw new d("Property Descriptors may not be both accessor and data descriptors");return !0;};},22970:function(t,b,a){var O,Q,T,U;function d(X){d=Object.getOwnPropertyNames || (function(Y){var W,Z;W=[];for(Z in Y)Object.prototype.hasOwnProperty.call(Y,Z) && (W[W.length]=Z);return W;});return d(X);}function n(){n=Object.assign || (function(X){for(var Y,W=1,Z=arguments.length;W < Z;W++){Y=arguments[W];for(var ba in Y)Object.prototype.hasOwnProperty.call(Y,ba) && (X[ba]=Y[ba]);}return X;});return n.apply(this,arguments);}function c(X,Y){c=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(W,Z){W.__proto__=Z;}) || (function(W,Z){for(var ba in Z)Object.prototype.hasOwnProperty.call(Z,ba) && (W[ba]=Z[ba]);});return c(X,Y);}function f(X,Y){function W(){this.constructor=X;}if("function" !== typeof Y && null !== Y)throw new TypeError("Class extends value " + String(Y) + " is not a constructor or null");c(X,Y);X.prototype=null === Y?Object.create(Y):(W.prototype=Y.prototype,new W());}function g(X,Y){var W,Z,ba;W={};for(Z in X)Object.prototype.hasOwnProperty.call(X,Z) && 0 > Y.indexOf(Z) && (W[Z]=X[Z]);if(null != X && "function" === typeof Object.getOwnPropertySymbols){ba=0;for(Z=Object.getOwnPropertySymbols(X);ba < Z.length;ba++)0 > Y.indexOf(Z[ba]) && Object.prototype.propertyIsEnumerable.call(X,Z[ba]) && (W[Z[ba]]=X[Z[ba]]);}return W;}function e(X,Y,W,Z){var ba,ca,da;ba=arguments.length;ca=3 > ba?Y:null === Z?Z=Object.getOwnPropertyDescriptor(Y,W):Z;if("object" === typeof Reflect && "function" === typeof Reflect.yK)ca=Reflect.yK(X,Y,W,Z);else for(var ia=X.length - 1;0 <= ia;ia--)if(da=X[ia])ca=(3 > ba?da(ca):3 < ba?da(Y,W,ca):da(Y,W)) || ca;return (3 < ba && ca && Object.defineProperty(Y,W,ca),ca);}function h(X,Y){return function(W,Z){Y(W,Z,X);};}function k(X,Y,W,Z,ba,ca){var ia,S,ha;function da(ka){if(void 0 !== ka && "function" !== typeof ka)throw new TypeError("Function expected");return ka;}ia=Z.kind;S="getter" === ia?"get":"setter" === ia?"set":"value";X=!Y && X?Z["static"]?X:X.prototype:null;Y=Y || (X?Object.getOwnPropertyDescriptor(X,Z.name):{});for(var N,V=!1,aa=W.length - 1;0 <= aa;aa--){N={};for(var fa in Z)N[fa]="access" === fa?{}:Z[fa];for(fa in Z.ylb)N.ylb[fa]=Z.ylb[fa];N.m5c=function(ka){if(V)throw new TypeError("Cannot add initializers after decoration has completed");ca.push(da(ka || null));};ha=(0,W[aa])("accessor" === ia?{get:Y.get,set:Y.set}:Y[S],N);if("accessor" === ia){if(void 0 !== ha){if(null === ha || "object" !== typeof ha)throw new TypeError("Object expected");if(N=da(ha.get))Y.get=N;if(N=da(ha.set))Y.set=N;(N=da(ha.Ob)) && ba.unshift(N);}}else if(N=da(ha))"field" === ia?ba.unshift(N):Y[S]=N;}X && Object.defineProperty(X,Z.name,Y);V=!0;}function l(X,Y,W){for(var Z=2 < arguments.length,ba=0;ba < Y.length;ba++)W=Z?Y[ba].call(X,W):Y[ba].call(X);return Z?W:void 0;}function m(X){return "symbol" === typeof X?X:("").concat(X);}function p(X,Y,W){"symbol" === typeof Y && (Y=Y.description?("[").concat(Y.description,"]"):"");return Object.defineProperty(X,"name",{configurable:!0,value:W?("").concat(W," ",Y):Y});}function q(X,Y){if("object" === typeof Reflect && "function" === typeof Reflect.Ac)return Reflect.Ac(X,Y);}function r(X,Y,W,Z){function ba(ca){return ca instanceof W?ca:new W(function(da){da(ca);});}return new (W || (W=Promise))(function(ca,da){function ia(V){try{N(Z.next(V));}catch(aa){da(aa);}}function S(V){try{N(Z["throw"](V));}catch(aa){da(aa);}}function N(V){V.done?ca(V.value):ba(V.value).then(ia,S);}N((Z=Z.apply(X,Y || [])).next());});}function u(X,Y){var ba,ca,da,ia,S;function W(N){return function(V){return Z([N,V]);};}function Z(N){if(ca)throw new TypeError("Generator is already executing.");for(;(S && (S=0,N[0] && (ba=0)),ba);)try{if((ca=1,da && (ia=N[0] & 2?da["return"]:N[0]?da["throw"] || ((ia=da["return"]) && ia.call(da),0):da.next) && !(ia=ia.call(da,N[1])).done))return ia;if((da=0,ia))N=[N[0] & 2,ia.value];switch(N[0]){case 0:case 1:ia=N;break;case 4:return (ba.label++,{value:N[1],done:!1});case 5:ba.label++;da=N[1];N=[0];continue;case 7:N=ba.QS.pop();ba.tc.pop();continue;default:if(!(ia=ba.tc,ia=0 < ia.length && ia[ia.length - 1]) && (6 === N[0] || 2 === N[0])){ba=0;continue;}if(3 === N[0] && (!ia || N[1] > ia[0] && N[1] < ia[3]))ba.label=N[1];else if(6 === N[0] && ba.label < ia[1])(ba.label=ia[1],ia=N);else if(ia && ba.label < ia[2])(ba.label=ia[2],ba.QS.push(N));else {ia[2] && ba.QS.pop();ba.tc.pop();continue;}}N=Y.call(X,ba);}catch(V){N=[6,V];da=0;}finally{ca=ia=0;}if(N[0] & 5)throw N[1];return {value:N[0]?N[1]:void 0,done:!0};}ba={label:0,T:function(){if(ia[0] & 1)throw ia[1];return ia[1];},tc:[],QS:[]};S=Object.create(("function" === typeof Iterator?Iterator:Object).prototype);return (S.next=W(0),S["throw"]=W(1),S["return"]=W(2),"function" === typeof Symbol && (S[Symbol.iterator]=function(){return this;}),S);}function v(X,Y){for(var W in X)"default" === W || Object.prototype.hasOwnProperty.call(Y,W) || O(Y,X,W);}function w(X){var Y,W,Z;Y="function" === typeof Symbol && Symbol.iterator;W=Y && X[Y];Z=0;if(W)return W.call(X);if(X && "number" === typeof X.length)return {next:function(){X && Z >= X.length && (X=void 0);return {value:X && X[Z++],done:!X};}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.");}function x(X,Y){var W,Z,ba;W="function" === typeof Symbol && X[Symbol.iterator];if(!W)return X;X=W.call(X);ba=[];try{for(;(void 0 === Y || 0 < Y--) && !(Z=X.next()).done;)ba.push(Z.value);}catch(da){var ca;ca={error:da};}finally{try{Z && !Z.done && (W=X["return"]) && W.call(X);}finally{if(ca)throw ca.error;}}return ba;}function y(){for(var X=[],Y=0;Y < arguments.length;Y++)X=X.concat(x(arguments[Y]));return X;}function A(){var Z;for(var X=0,Y=0,W=arguments.length;Y < W;Y++)X+=arguments[Y].length;X=Array(X);Z=0;for(Y=0;Y < W;Y++)for(var ba=arguments[Y],ca=0,da=ba.length;ca < da;(ca++,Z++))X[Z]=ba[ca];return X;}function z(X,Y,W){if(W || 2 === arguments.length)for(var Z=0,ba=Y.length,ca;Z < ba;Z++)!ca && (Z in Y) || (ca || (ca=Array.prototype.slice.call(Y,0,Z)),ca[Z]=Y[Z]);return X.concat(ca || Array.prototype.slice.call(Y));}function B(X){return this instanceof B?(this.dga=X,this):new B(X);}function C(X,Y,W){var S,N,V;function Z(aa,fa){S[aa] && (N[aa]=function(ha){return new Promise(function(ka,pa){1 < V.push([aa,ha,ka,pa]) || ba(aa,ha);});},fa && (N[aa]=fa(N[aa])));}function ba(aa,fa){var ha;try{ha=S[aa](fa);ha.value instanceof B?Promise.resolve(ha.value.dga).then(ca,da):ia(V[0][2],ha);}catch(ka){ia(V[0][3],ka);}}function ca(aa){ba("next",aa);}function da(aa){ba("throw",aa);}function ia(aa,fa){(aa(fa),V.shift(),V.length) && ba(V[0][0],V[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");S=W.apply(X,Y || []);V=[];return (N=Object.create(("function" === typeof AsyncIterator?AsyncIterator:Object).prototype),Z("next"),Z("throw"),Z("return",function(aa){return function(fa){return Promise.resolve(fa).then(aa,da);};}),N[Symbol.asyncIterator]=function(){return this;},N);}function D(X){var W,Z;function Y(ba,ca){W[ba]=X[ba]?function(da){return (Z=!Z)?{value:B(X[ba](da)),done:!1}:ca?ca(da):da;}:ca;}return (W={},Y("next"),Y("throw",function(ba){throw ba;}),Y("return"),W[Symbol.iterator]=function(){return this;},W);}function E(X){var Z,ba;function Y(ca){ba[ca]=X[ca] && (function(da){return new Promise(function(ia,S){da=X[ca](da);W(ia,S,da.done,da.value);});});}function W(ca,da,ia,S){Promise.resolve(S).then(function(N){ca({value:N,done:ia});},da);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");Z=X[Symbol.asyncIterator];return Z?Z.call(X):(X="function" === typeof w?w(X):X[Symbol.iterator](),ba={},Y("next"),Y("throw"),Y("return"),ba[Symbol.asyncIterator]=function(){return this;},ba);}function H(X,Y){Object.defineProperty?Object.defineProperty(X,"raw",{value:Y}):X.raw=Y;return X;}function F(X){var Y;if(X && X.__esModule)return X;Y={};if(null != X)for(var W=d(X),Z=0;Z < W.length;Z++)"default" !== W[Z] && O(Y,X,W[Z]);Q(Y,X);return Y;}function G(X){return X && X.__esModule?X:{default:X};}function J(X,Y,W,Z){if("a" === W && !Z)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof Y?X !== Y || !Z:!Y.has(X))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === W?Z:"a" === W?Z.call(X):Z?Z.value:Y.get(X);}function L(X,Y,W,Z,ba){if("m" === Z)throw new TypeError("Private method is not writable");if("a" === Z && !ba)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof Y?X !== Y || !ba:!Y.has(X))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === Z?ba.call(X,W):ba?ba.value=W:Y.set(X,W),W);}function K(X,Y){if(null === Y || "object" !== typeof Y && "function" !== typeof Y)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof X?Y === X:X.has(Y);}function M(X,Y,W){var Z,ba;if(null !== Y && void 0 !== Y){if("object" !== typeof Y && "function" !== typeof Y)throw new TypeError("Object expected.");if(W){if(!Symbol.y8b)throw new TypeError("Symbol.asyncDispose is not defined.");ba=Y[Symbol.y8b];}if(void 0 === ba){if(!Symbol.Zg)throw new TypeError("Symbol.dispose is not defined.");ba=Y[Symbol.Zg];W && (Z=ba);}if("function" !== typeof ba)throw new TypeError("Object not disposable.");Z && (ba=function(){try{Z.call(this);}catch(ca){return Promise.reject(ca);}});X.stack.push({value:Y,Zg:ba,async:W});}else W && X.stack.push({async:!0});return Y;}function P(X){var Z,ba;function Y(ca){X.error=X.ZSa?new T(ca,X.error,"An error was suppressed during disposal."):ca;X.ZSa=!0;}function W(){var ca;for(;Z=X.stack.pop();)try{if(!Z.async && 1 === ba)return (ba=0,X.stack.push(Z),Promise.resolve().then(W));if(Z.Zg){ca=Z.Zg.call(Z.value);if(Z.async)return (ba|=2,Promise.resolve(ca).then(W,function(da){Y(da);return W();}));}else ba|=1;}catch(da){Y(da);}if(1 === ba)return X.ZSa?Promise.reject(X.error):Promise.resolve();if(X.ZSa)throw X.error;}ba=0;return W();}function I(X,Y){return "string" === typeof X && (/^\.\.?\//).test(X)?X.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(W,Z,ba,ca,da){return Z?Y?".jsx":".js":!ba || ca && da?ba + ca + "." + da.toLowerCase() + "js":W;}):X;}a.r(b);a.d(b,{T1b:function(){return M;},__assign:function(){return n;},__asyncDelegator:function(){return D;},__asyncGenerator:function(){return C;},__asyncValues:function(){return E;},__await:function(){return B;},__awaiter:function(){return r;},__classPrivateFieldGet:function(){return J;},__classPrivateFieldIn:function(){return K;},__classPrivateFieldSet:function(){return L;},__createBinding:function(){return O;},__decorate:function(){return e;},U1b:function(){return P;},V1b:function(){return k;},__exportStar:function(){return v;},__extends:function(){return f;},__generator:function(){return u;},__importDefault:function(){return G;},__importStar:function(){return F;},__makeTemplateObject:function(){return H;},__metadata:function(){return q;},__param:function(){return h;},W1b:function(){return m;},__read:function(){return x;},__rest:function(){return g;},X1b:function(){return I;},Y1b:function(){return l;},Z1b:function(){return p;},__spread:function(){return y;},__spreadArray:function(){return z;},__spreadArrays:function(){return A;},__values:function(){return w;},"default":function(){return U;}});O=Object.create?function(X,Y,W,Z){var ba;void 0 === Z && (Z=W);ba=Object.getOwnPropertyDescriptor(Y,W);if(!ba || (("get" in ba)?!Y.__esModule:ba.writable || ba.configurable))ba={enumerable:!0,get:function(){return Y[W];}};Object.defineProperty(X,Z,ba);}:function(X,Y,W,Z){void 0 === Z && (Z=W);X[Z]=Y[W];};Q=Object.create?function(X,Y){Object.defineProperty(X,"default",{enumerable:!0,value:Y});}:function(X,Y){X["default"]=Y;};T="function" === typeof SuppressedError?SuppressedError:function(X,Y,W){W=Error(W);return (W.name="SuppressedError",W.error=X,W.bed=Y,W);};U={__extends:f,__assign:n,__rest:g,__decorate:e,__param:h,V1b:k,Y1b:l,W1b:m,Z1b:p,__metadata:q,__awaiter:r,__generator:u,__createBinding:O,__exportStar:v,__values:w,__read:x,__spread:y,__spreadArrays:A,__spreadArray:z,__await:B,__asyncGenerator:C,__asyncDelegator:D,__asyncValues:E,__makeTemplateObject:H,__importStar:F,__importDefault:G,__classPrivateFieldGet:J,__classPrivateFieldSet:L,__classPrivateFieldIn:K,T1b:M,U1b:P,X1b:I};}};wa={};(function(){ma.d=function(t,b){for(var a in b)ma.lGb(b,a) && !ma.lGb(t,a) && Object.defineProperty(t,a,{enumerable:!0,get:b[a]});};})();(function(){ma.FZ=(function(){if("object" === typeof globalThis)return globalThis;try{return this || new Function("return this")();}catch(t){if("object" === typeof Ba)return Ba;}})();})();(function(){ma.lGb=function(t,b){return Object.prototype.hasOwnProperty.call(t,b);};})();(function(){ma.r=function(t){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});Object.defineProperty(t,"__esModule",{value:!0});};})();ma(28660);ma(26860)();ma(65574)();Ba._cad_global={};Ba.DEBUG=!1;ma(33096);ma(22365);ma(32687);ma(3887);ma(52569);ma(8825);ma(87051);ma(22894);ma(32219);ma(24066);ma(45146);ma(94886);ma(37509);ma(2734);ma(77705);ma(31298);ma(37353);ma(981);ma(73100);ma(7953);ma(15531);ma(97154);ma(33579);ma(50350);ma(75876);ma(19630);ma(59416);ma(50040);ma(70);ma(29204);ma(99732);ma(52828);ma(1481);ma(61726);ma(24427);ma(62604);ma(78857);ma(74413);ma(84281);ma(991);ma(46493);ma(24674);ma(93114);ma(36792);ma(74098);ma(86258);ma(18128);ma(45526);ma(90762);ma(73056);ma(67263);ma(53754);ma(20318);ma(70632);ma(59032);ma(45706);ma(3390);ma(2898);ma(76563);ma(39480);ma(13044);ma(62439);ma(6305);ma(42654);ma(78719);ma(59405);ma(58343);ma(59219);ma(61524);ma(13777);ma(41325);ma(42433);ma(30689);ma(66093);ma(99133);})();}).call(Ba);})(window);}).call(window);